{
  "Endpoints": [
    {
      "URI": "/",
      "Methods": {
        "GET": {
          "Criteria": {
            "Superset": [
              {
                "ID": "GET1",
                "URL_Parameters": "",
                "Headers": {
                  "user-agent": "Mozilla/5.0 [en] (X11, U; OpenVAS-VT 21.4.5)"
                },
                "Body": {},
                "Responses": [
                  0,
                  0
                ]
              },
              {
                "ID": "GET2",
                "URL_Parameters": "",
                "Headers": {
                  "cache-control": "no-cache",
                  "user-agent": "Mozilla/5.0 [en] (X11, U; OpenVAS-VT 21.4.5~dev1)",
                  "accept": "image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */*",
                  "accept-language": "en",
                  "accept-charset": "iso-8859-1,*,utf-8"
                },
                "Body": {},
                "Responses": [
                  0
                ]
              }
            ],
            "Subset": []
          },
          "Responses": [
            {
              "Status": "200",
              "Headers": {
                "Accept-Ranges": "bytes",
                "Cache-Control": "max-age=31536000",
                "Content-Type": "text/html; charset=utf-8",
                "Last-Modified": "Tue, 28 Jun 2022 00:33:32 GMT",
                "Vary": "Accept-Encoding",
                "X-Content-Type-Options": "nosniff",
                "X-Xss-Protection": "1; mode=block"
              },
              "Body": "<!doctype html><html lang=\"en\" ng-app=\"portainer\" ng-strict-di><head><meta charset=\"utf-8\"/><title>Portainer</title><meta name=\"description\" content=\"\"/><meta name=\"author\" content=\"Portainer.io\"/><base id=\"base\"/><script>if (window.origin == 'file://') {\n        // we are loading the app from a local file as in docker extension\n        document.getElementById('base').href = 'http://localhost:9000/';\n\n        window.ddExtension = true;\n      } else {\n        var path = window.location.pathname.replace(/^\\/+|\\/+$/g, '');\n        var basePath = path ? '/' + path + '/' : '/';\n        document.getElementById('base').href = basePath;\n      }</script><!--[if lt IE 9]>\n      <script src=\"//html5shim.googlecode.com/svn/trunk/html5.js\"></script>\n    <![endif]--><link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"63a301f0574f1a696ce6.png\"/><link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"2dcfc527d067d4ae3424.png\"/><link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"112a479c093f4729251d.png\"/><link rel=\"mask-icon\" href=\"7ee8aae1b407ce0e809b.svg\" color=\"#5bbad5\"/><link rel=\"shortcut icon\" href=\"data:image/vnd.microsoft.icon;base64,AAABAAIAJTAAAAEAIADIBQAAJgAAACUwAgABAAEAMAMAAO4FAACJUE5HDQoaCgAAAA1JSERSAAAAJQAAADAIBgAAAJaFsysAAAWPSURBVFiF7ZhrbFRFFMd/Z3e7u8VCa28JCiJqfKCg+AiPWBFZqgatH9CIRlGCJj4wBCQYE5WEh4ZHQAJofCRETRWi0fggxAftLYoxGuODArYkSmJ8BMvetpTa9u527/hh7rbbfbV3u37jn0wyM/fOuf+ZOfM/Zy6cwfAgxTJkmDZAGOizIqG+kdjyFYXRAL4HHhypkWKSCgIGUOGuWsEY8fYZZq+AzAVeBKYBPcB2YJOjVEf7vLBnmwWvlNFoY5j2hSDvAp8BxwELOAAsAZp8IosM0w7876RK1+/DaLDLUKwBDgGXAbUJxV1AN7AXmAJ8AOwCTMO0Z1Q2Dn9Lh01KplRjmLZvVHXN3QhNwBPAalFMtyKhL/yCSr5rRUIWyJPAdPR2fi2K1w3THn92fW9xSI1tjFO505wG7AfqgHpgKrA9Oi8UyzbGigRpe/T6JmA+cC8QAY74fLLcaLTDbPgk9wKkNgzTDqNPUSrKgGeBh4FmYBX66GezdRTYit62dIwGlgMrgGOunW8BROiMzg31r3Q/qSozhkJtAx5PM+YHks46lGMEgYRbciHg2uy3J3BuNBJqT32hn52CV4F9Q3x4OlACfAM8BLwPdLrPdgN7gMtdk5uGsJVEVzprAE5GgqCX9Vi+0YZph4CgFQnVG6Z9M/ClFQlZrmD2Ai1ABeATpD4aSfeGoVG4To1QtfOhEFI+YCPaSe8p0EZeZKht1YE+SCSCDByCBAOOmRSjS91mD+AUm1TmLB0HJRxUQqtbnlfCiWQbqCk2iXTkiktlwBi3HnbryQmcAN506zGGlolB8FUvQP12BGP3UaKRIL75iwnNqiUwbiLh62aS6IrlJJUPTYJsSDa8ni7/pMmMWbcH8QcYteVzwtfMRkR7R19rG77SMskg5frMPuBnt+tHtPaIW04r1JXuM8cw7RYrEsonlpkQIRHrofTam3B6u+k9dJD4r4dQsRjlS57LJOWK6G3AFW7XSXTsSm5fG7DUrXcDk9Apizde/gBOZzunXn4KZ39df79Vt97JdZwlpaS3U0vBcuAfG+T0e5sHEUoil1GVo7/Q99JGOSROxilfvDbr44ztc1B+0aerzO36C1jHwKr9DawdeN07p45tK6hYuUMoKck6OptP3QJsZrj5u+CrbIyvQQ1fQ8uXbgRASfaNytZ7x7AJadwpHggBSHgUEgoqAWTq7PykKnWQnerpCzAJpNTjGJQdQwIlVO40kavmgAj4SzBMe/D2iaPAJ4U5r0ck2v6h9IaJxH5xqNp1gFhLCwRKAAbrlFUTxjDtJuDGLHYUOtf6Dh2ILwFmAa3g9Hi9QjqdbcSbxwGI0xVXgfEXkLSRLcx8jL6ppH7lFDpNPgUsBC5G5+svA6Nd2QqA2gEcRl9KzxqKWHRuKDlZfDWLQCmchndUNlIm+nI5Pzkp4H7gduCxFLI1wCNoedgKqhYduJuBN4DWoUilwql/u7+ecfqsSMhB596HgT6X4HlphJIIAi8AK9E51jnAXOAtYGZcvIXEnKQAOnauOiFQjfat14BlWQjlgwCrA8o3o2ikKpZtOV/pa/dBtI9NKcB2AFhY1TA43VKJOMruRcVzp2EZszdMuxydf08ugEg6PkKxwJoX8jQobaUEtPMWgxDA74XE7EGkqrSi31okQgBXIzkCXB4MHiBKAM8hIw/moH8VecIgUu5Phh+KxcjFRV4HZFvaV4B/R86lH1GvAzJIdXf80Qw8AHQUgdBxUfzkdVBWQRzbEMMRNQG4jwGlrvVo2wYWiOLTqEdJGFKl3R8ZIeBDBuJhKvaihfZptFM76EziGRznK6vG+7kZZugQ9y+fWoYOzhOAP4E6QV7q62qP+csqBMQAFQfptCLBgvMyT0mQ0WgjCp/SgTgGOFbE29acQTHxHxn/rPaMFerCAAAAAElFTkSuQmCCKAAAACUAAABgAAAAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"/><meta name=\"msapplication-config\" content=\"6d50eaeb9f128c130ed9.xml\"/><meta name=\"theme-color\" content=\"#ffffff\"/><script defer=\"defer\" src=\"runtime.3e3d5da69a6f597f1396.js\"></script><script defer=\"defer\" src=\"vendor.656a4a86366aad0a029b.js\"></script><script defer=\"defer\" src=\"main.74c9f75de4c0de51a152.js\"></script><link href=\"vendor.ba0cf1c778e483f7e37e.css\" rel=\"stylesheet\"><link href=\"main.3352f4e931977d7a2521.css\" rel=\"stylesheet\"></head><body ng-controller=\"MainController\"><div id=\"page-wrapper\" ng-class=\"{\n        open: toggle && ['portainer.auth', 'portainer.init.admin', 'portainer.init.endpoint'].indexOf($state.current.name) === -1,\n        nopadding: ['portainer.auth', 'portainer.init.admin', 'portainer.init.endpoint', 'portainer.logout'].indexOf($state.current.name) > -1 || applicationState.loading\n      }\" ng-cloak><div id=\"sideview\" ui-view=\"sidebar\" ng-if=\"!applicationState.loading\"></div><div id=\"content-wrapper\"><div class=\"page-content\"><div class=\"page-wrapper\" ng-if=\"applicationState.loading\"><div class=\"container simple-box\"><div class=\"col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3\"><div class=\"row\"><img ng-if=\"logo\" ng-src=\"{{ logo }}\" class=\"simple-box-logo\"/> <img ng-if=\"!logo\" src=\"29d4ee6d4a5c786588a7.svg\" class=\"simple-box-logo\" alt=\"Portainer\"/></div><div class=\"row\" style=\"text-align: center\">Loading Portainer... <i class=\"fa fa-cog fa-spin\" style=\"margin-left: 5px\"></i></div></div></div></div><div id=\"view\" ui-view=\"content\" ng-if=\"!applicationState.loading\"></div></div></div></div></body></html>"
            }
          ]
        }
      }
    },
    {
      "URI": "/main.74c9f75de4c0de51a152.js",
      "Methods": {
        "GET": {
          "Criteria": {
            "Superset": [
              {
                "ID": "GET1",
                "URL_Parameters": "",
                "Headers": {
                  "pragma": "no-cache",
                  "cache-control": "no-cache",
                  "user-agent": "Mozilla/5.0 [en] (X11, U; OpenVAS-VT 21.4.5~dev1)",
                  "accept": "image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */*",
                  "accept-language": "en",
                  "accept-charset": "iso-8859-1,*,utf-8"
                },
                "Body": {},
                "Responses": [
                  0
                ]
              }
            ],
            "Subset": []
          },
          "Responses": [
            {
              "Status": "200",
              "Headers": {
                "Accept-Ranges": "bytes",
                "Cache-Control": "max-age=31536000",
                "Content-Type": "text/javascript; charset=utf-8",
                "Last-Modified": "Tue, 28 Jun 2022 00:33:32 GMT",
                "Vary": "Accept-Encoding",
                "X-Content-Type-Options": "nosniff",
                "X-Xss-Protection": "1; mode=block"
              },
              "Body": "(self.webpackChunkportainer=self.webpackChunkportainer||[]).push([[179],{19338:function(e,t,n){var a={\"./__mocks__/fileMock.js\":14691,\"./__mocks__/styleMock.js\":12534,\"./agent/components/file-uploader/fileUploaderController.js\":75947,\"./agent/components/file-uploader/index.js\":38123,\"./agent/components/files-datatable/index.js\":46161,\"./agent/components/host-browser/hostBrowserController.js\":10822,\"./agent/components/host-browser/index.js\":70627,\"./agent/components/node-selector/index.js\":60744,\"./agent/components/node-selector/nodeSelectorController.js\":42102,\"./agent/components/volume-browser/index.js\":41775,\"./agent/components/volume-browser/volumeBrowserController.js\":14087,\"./agent/index.js\":26317,\"./agent/models/agent.js\":99662,\"./agent/rest/agent.js\":13481,\"./agent/rest/browse.js\":56192,\"./agent/rest/dockerhub.js\":26084,\"./agent/rest/host.js\":74298,\"./agent/rest/ping.js\":79688,\"./agent/rest/response/browse.js\":94477,\"./agent/rest/v1/agent.js\":40941,\"./agent/rest/v1/browse.js\":91130,\"./agent/services/agentService.js\":78548,\"./agent/services/hostBrowserService.js\":77884,\"./agent/services/pingService.js\":38918,\"./agent/services/volumeBrowserService.js\":45824,\"./angulartics.matomo/index.js\":14916,\"./app.js\":54905,\"./assets/css/index.js\":42311,\"./azure/_module.js\":18194,\"./azure/components/azure-endpoint-config/azure-endpoint-config.js\":74370,\"./azure/components/datatables/containergroups-datatable/containerGroupsDatatable.js\":79380,\"./azure/models/container_group.js\":73216,\"./azure/models/location.js\":76606,\"./azure/models/resource_group.js\":18779,\"./azure/models/subscription.js\":79350,\"./azure/rest/azure.js\":1944,\"./azure/rest/container_group.js\":29382,\"./azure/rest/location.js\":59630,\"./azure/rest/provider.js\":55489,\"./azure/rest/resource_group.js\":88609,\"./azure/rest/subscription.js\":33086,\"./azure/services/azureService.js\":8961,\"./azure/services/containerGroupService.js\":58825,\"./azure/services/locationService.js\":49153,\"./azure/services/resourceGroupService.js\":62964,\"./azure/services/subscriptionService.js\":96564,\"./azure/views/containerinstances/container-instance-details/containerInstanceDetailsController.js\":50309,\"./azure/views/containerinstances/container-instance-details/index.js\":9877,\"./azure/views/containerinstances/containerInstancesController.js\":56701,\"./config.js\":98767,\"./constants.js\":71541,\"./docker/__module.js\":99544,\"./docker/components/container-capabilities/container-capabilities.js\":83088,\"./docker/components/container-restart-policy/container-restart-policy-controller.js\":17592,\"./docker/components/container-restart-policy/container-restart-policy.js\":8270,\"./docker/components/dashboard-cluster-agent-info/dashboard-cluster-agent-info.js\":15772,\"./docker/components/dashboard-cluster-agent-info/dashboardClusterAgentInfoController.js\":26419,\"./docker/components/datatables/configs-datatable/configsDatatable.js\":62135,\"./docker/components/datatables/container-networks-datatable/containerNetworksDatatable.js\":65532,\"./docker/components/datatables/container-networks-datatable/containerNetworksDatatableController.js\":50015,\"./docker/components/datatables/container-processes-datatable/containerProcessesDatatable.js\":67723,\"./docker/components/datatables/events-datatable/eventsDatatable.js\":3716,\"./docker/components/datatables/images-datatable/imagesDatatable.js\":61389,\"./docker/components/datatables/images-datatable/imagesDatatableController.js\":40650,\"./docker/components/datatables/macvlan-nodes-datatable/macvlanNodesDatatable.js\":78570,\"./docker/components/datatables/networks-datatable/network-row-content/networkRowContent.js\":24342,\"./docker/components/datatables/networks-datatable/networksDatatable.js\":21035,\"./docker/components/datatables/networks-datatable/networksDatatableController.js\":22821,\"./docker/components/datatables/node-tasks-datatable/nodeTasksDatatable.js\":90712,\"./docker/components/datatables/nodes-datatable/nodesDatatable.js\":66951,\"./docker/components/datatables/secrets-datatable/secretsDatatable.js\":1087,\"./docker/components/datatables/service-tasks-datatable/serviceTasksDatatable.js\":30700,\"./docker/components/datatables/service-tasks-datatable/serviceTasksDatatableController.js\":83076,\"./docker/components/datatables/services-datatable/actions/servicesDatatableActions.js\":88840,\"./docker/components/datatables/services-datatable/actions/servicesDatatableActionsController.js\":3474,\"./docker/components/datatables/services-datatable/servicesDatatable.js\":22601,\"./docker/components/datatables/services-datatable/servicesDatatableController.js\":46311,\"./docker/components/datatables/tasks-datatable/tasksDatatable.js\":77886,\"./docker/components/datatables/tasks-datatable/tasksDatatableController.js\":33740,\"./docker/components/datatables/volumes-datatable/volumesDatatable.js\":75198,\"./docker/components/datatables/volumes-datatable/volumesDatatableController.js\":72091,\"./docker/components/docker-sidebar/docker-sidebar.js\":56784,\"./docker/components/host-overview/host-overview.js\":37610,\"./docker/components/host-view-panels/devices-panel/devices-panel.js\":85943,\"./docker/components/host-view-panels/disks-panel/disks-panel.js\":40210,\"./docker/components/host-view-panels/engine-details-panel/engine-details-panel.js\":25203,\"./docker/components/host-view-panels/host-details-panel/host-details-panel.js\":68181,\"./docker/components/host-view-panels/node-availability-select/node-availability-select-controller.js\":44162,\"./docker/components/host-view-panels/node-availability-select/node-availability-select.js\":28031,\"./docker/components/host-view-panels/node-labels-table/node-labels-table-controller.js\":55024,\"./docker/components/host-view-panels/node-labels-table/node-labels-table.js\":96399,\"./docker/components/host-view-panels/swarm-node-details-panel/swarm-node-details-panel-controller.js\":70395,\"./docker/components/host-view-panels/swarm-node-details-panel/swarm-node-details-panel.js\":98186,\"./docker/components/imageRegistry/por-image-registry-rate-limits.controller.js\":72749,\"./docker/components/imageRegistry/por-image-registry-rate-limits.js\":64906,\"./docker/components/imageRegistry/por-image-registry.controller.js\":22429,\"./docker/components/imageRegistry/por-image-registry.js\":91653,\"./docker/components/log-viewer/log-viewer.js\":69760,\"./docker/components/log-viewer/logViewerController.js\":89410,\"./docker/components/network-macvlan-form/network-macvlan-form.js\":22852,\"./docker/components/network-macvlan-form/networkMacvlanFormController.js\":3476,\"./docker/components/network-macvlan-form/networkMacvlanFormModel.js\":50373,\"./docker/components/volumesCIFSForm/volumesCifsForm.js\":8470,\"./docker/components/volumesCIFSForm/volumesCifsFormModel.js\":86668,\"./docker/components/volumesNFSForm/volumes-nfs-form.js\":87959,\"./docker/components/volumesNFSForm/volumesNFSFormModel.js\":4819,\"./docker/filters/filters.js\":50352,\"./docker/helpers/configHelper.js\":52161,\"./docker/helpers/constraintsHelper.js\":82556,\"./docker/helpers/containerHelper.js\":5204,\"./docker/helpers/imageHelper.js\":20886,\"./docker/helpers/infoHelper.js\":46313,\"./docker/helpers/labelHelper.js\":6264,\"./docker/helpers/logHelper.js\":9954,\"./docker/helpers/networkHelper.js\":69452,\"./docker/helpers/nodeHelper.js\":80677,\"./docker/helpers/secretHelper.js\":45665,\"./docker/helpers/serviceHelper.js\":18743,\"./docker/helpers/taskHelper.js\":22588,\"./docker/helpers/volumeHelper.js\":60069,\"./docker/interceptors/containersInterceptor.js\":8691,\"./docker/interceptors/imagesInterceptor.js\":18872,\"./docker/interceptors/infoInterceptor.js\":84395,\"./docker/interceptors/networksInterceptor.js\":2630,\"./docker/interceptors/versionInterceptor.js\":73166,\"./docker/interceptors/volumesInterceptor.js\":33022,\"./docker/models/config.js\":66807,\"./docker/models/container.js\":12064,\"./docker/models/containerCapabilities.js\":66328,\"./docker/models/event.js\":44333,\"./docker/models/image.js\":84647,\"./docker/models/imageDetails.js\":56946,\"./docker/models/imageLayer.js\":75208,\"./docker/models/network.js\":70983,\"./docker/models/node.js\":11339,\"./docker/models/plugin.js\":34161,\"./docker/models/porImageRegistry.js\":76939,\"./docker/models/secret.js\":89638,\"./docker/models/service.js\":7456,\"./docker/models/swarm.js\":90906,\"./docker/models/task.js\":59146,\"./docker/models/volume.js\":80682,\"./docker/rest/build.js\":27401,\"./docker/rest/commit.js\":66055,\"./docker/rest/config.js\":12477,\"./docker/rest/container.js\":82791,\"./docker/rest/exec.js\":6396,\"./docker/rest/image.js\":10679,\"./docker/rest/network.js\":96452,\"./docker/rest/node.js\":71989,\"./docker/rest/plugin.js\":357,\"./docker/rest/response/handlers.js\":12944,\"./docker/rest/response/image.js\":89615,\"./docker/rest/secret.js\":64522,\"./docker/rest/service.js\":49449,\"./docker/rest/swarm.js\":52358,\"./docker/rest/system.js\":61489,\"./docker/rest/systemEndpoint.js\":86666,\"./docker/rest/task.js\":3446,\"./docker/rest/volume.js\":28192,\"./docker/services/buildService.js\":90544,\"./docker/services/configService.js\":81287,\"./docker/services/containerService.js\":40725,\"./docker/services/execService.js\":9401,\"./docker/services/imageService.js\":45203,\"./docker/services/networkService.js\":23116,\"./docker/services/nodeService.js\":39272,\"./docker/services/pluginService.js\":52589,\"./docker/services/secretService.js\":50225,\"./docker/services/serviceService.js\":52550,\"./docker/services/swarmService.js\":15268,\"./docker/services/systemService.js\":39983,\"./docker/services/taskService.js\":98585,\"./docker/services/volumeService.js\":31746,\"./docker/views/configs/configsController.js\":42177,\"./docker/views/configs/create/createConfigController.js\":96068,\"./docker/views/configs/edit/configController.js\":63301,\"./docker/views/containers/console/containerConsoleController.js\":85196,\"./docker/views/containers/containersController.js\":89610,\"./docker/views/containers/create/createContainerController.js\":51079,\"./docker/views/containers/edit/containerController.js\":94518,\"./docker/views/containers/inspect/containerInspectController.js\":62897,\"./docker/views/containers/logs/containerLogsController.js\":47381,\"./docker/views/containers/stats/containerStatsController.js\":19393,\"./docker/views/dashboard/dashboardController.js\":88444,\"./docker/views/docker-features-configuration/docker-features-configuration.controller.js\":25006,\"./docker/views/docker-features-configuration/index.js\":68958,\"./docker/views/events/eventsController.js\":63181,\"./docker/views/host/host-browser-view/host-browser-view-controller.js\":34776,\"./docker/views/host/host-browser-view/host-browser-view.js\":24233,\"./docker/views/host/host-view-controller.js\":43279,\"./docker/views/host/host-view.js\":15906,\"./docker/views/images/build/buildImageController.js\":88741,\"./docker/views/images/edit/imageController.js\":37391,\"./docker/views/images/imagesController.js\":12107,\"./docker/views/images/import/importImageController.js\":14521,\"./docker/views/networks/create/createNetworkController.js\":543,\"./docker/views/networks/networksController.js\":74225,\"./docker/views/nodes/node-browser/node-browser-controller.js\":50451,\"./docker/views/nodes/node-browser/node-browser.js\":83602,\"./docker/views/nodes/node-details/node-details-view-controller.js\":29978,\"./docker/views/nodes/node-details/node-details-view.js\":74275,\"./docker/views/registries/access/registryAccess.js\":77152,\"./docker/views/registries/access/registryAccessController.js\":40106,\"./docker/views/secrets/create/createSecretController.js\":65968,\"./docker/views/secrets/edit/secretController.js\":20842,\"./docker/views/secrets/secretsController.js\":69654,\"./docker/views/services/create/createServiceController.js\":91188,\"./docker/views/services/edit/serviceController.js\":1816,\"./docker/views/services/logs/serviceLogsController.js\":59139,\"./docker/views/services/servicesController.js\":48566,\"./docker/views/swarm/swarmController.js\":9104,\"./docker/views/swarm/visualizer/swarmVisualizerController.js\":83456,\"./docker/views/tasks/edit/taskController.js\":75349,\"./docker/views/tasks/logs/taskLogsController.js\":93356,\"./docker/views/volumes/browse/browseVolumeController.js\":63137,\"./docker/views/volumes/create/createVolumeController.js\":61362,\"./docker/views/volumes/edit/volumeController.js\":28862,\"./docker/views/volumes/volumesController.js\":6002,\"./edge/__module.js\":11829,\"./edge/components/associated-endpoints-datatable/associatedEndpointsDatatableController.js\":24381,\"./edge/components/associated-endpoints-datatable/index.js\":34139,\"./edge/components/edge-groups-selector/index.js\":72155,\"./edge/components/edge-job-form/edgeJobFormController.js\":267,\"./edge/components/edge-job-form/index.js\":59788,\"./edge/components/edge-job-results-datatable/edgeJobResultsDatatableController.js\":11314,\"./edge/components/edge-job-results-datatable/index.js\":46642,\"./edge/components/edge-jobs-datatable/index.js\":25758,\"./edge/components/edge-stack-deployment-type-selector/edge-stack-deployment-type-selector.controller.js\":70830,\"./edge/components/edge-stack-deployment-type-selector/index.js\":60559,\"./edge/components/edge-stack-endpoints-datatable/edgeStackEndpointsDatatableController.js\":67383,\"./edge/components/edge-stack-endpoints-datatable/index.js\":91505,\"./edge/components/edge-stack-status/edgeStackStatusController.js\":794,\"./edge/components/edge-stack-status/index.js\":26342,\"./edge/components/edge-stacks-datatable/index.js\":70018,\"./edge/components/edit-edge-stack-form/editEdgeStackFormController.js\":83205,\"./edge/components/edit-edge-stack-form/index.js\":56037,\"./edge/components/group-form/groupFormController.js\":88633,\"./edge/components/group-form/index.js\":36906,\"./edge/components/groups-datatable/groupsDatatableController.js\":9868,\"./edge/components/groups-datatable/index.js\":36267,\"./edge/rest/edge-groups.js\":65658,\"./edge/rest/edge-job-results.js\":96791,\"./edge/rest/edge-jobs.js\":2056,\"./edge/rest/edge-stacks.js\":86796,\"./edge/rest/edge-templates.js\":42163,\"./edge/services/edge-group.js\":800,\"./edge/services/edge-job.js\":30221,\"./edge/services/edge-stack.js\":27527,\"./edge/services/edge-template.js\":10993,\"./edge/views/edge-groups/createEdgeGroupView/createEdgeGroupViewController.js\":44932,\"./edge/views/edge-groups/createEdgeGroupView/index.js\":35146,\"./edge/views/edge-groups/edgeGroupsView/edgeGroupsViewController.js\":62044,\"./edge/views/edge-groups/edgeGroupsView/index.js\":45359,\"./edge/views/edge-groups/editEdgeGroupView/editEdgeGroupViewController.js\":23794,\"./edge/views/edge-groups/editEdgeGroupView/index.js\":58188,\"./edge/views/edge-jobs/createEdgeJobView/createEdgeJobViewController.js\":8039,\"./edge/views/edge-jobs/createEdgeJobView/index.js\":47994,\"./edge/views/edge-jobs/edgeJob/edgeJobController.js\":87609,\"./edge/views/edge-jobs/edgeJob/index.js\":6300,\"./edge/views/edge-jobs/edgeJobsView/edgeJobsViewController.js\":54223,\"./edge/views/edge-jobs/edgeJobsView/index.js\":30190,\"./edge/views/edge-stacks/createEdgeStackView/create-edge-stack-view.controller.js\":32884,\"./edge/views/edge-stacks/createEdgeStackView/create-edge-stack-view.js\":96478,\"./edge/views/edge-stacks/createEdgeStackView/docker-compose-form/docker-compose-form.controller.js\":83615,\"./edge/views/edge-stacks/createEdgeStackView/docker-compose-form/index.js\":32878,\"./edge/views/edge-stacks/createEdgeStackView/index.js\":24125,\"./edge/views/edge-stacks/createEdgeStackView/kube-deploy-description/index.js\":82456,\"./edge/views/edge-stacks/createEdgeStackView/kube-manifest-form/index.js\":56799,\"./edge/views/edge-stacks/createEdgeStackView/kube-manifest-form/kube-manifest-form.controller.js\":23836,\"./edge/views/edge-stacks/edgeStacksView/edgeStacksViewController.js\":33661,\"./edge/views/edge-stacks/edgeStacksView/index.js\":82138,\"./edge/views/edge-stacks/editEdgeStackView/editEdgeStackViewController.js\":66514,\"./edge/views/edge-stacks/editEdgeStackView/index.js\":36237,\"./edge/views/edge-stacks/index.js\":6142,\"./index.js\":88304,\"./kubernetes/__module.js\":94734,\"./kubernetes/components/datatables/application/containers-datatable/containersDatatable.js\":28953,\"./kubernetes/components/datatables/applications-datatable-details/applications-datatable-details.controller.js\":41727,\"./kubernetes/components/datatables/applications-datatable-details/applications-datatable-details.js\":3962,\"./kubernetes/components/datatables/applications-datatable-url/applications-datatable-url.js\":87082,\"./kubernetes/components/datatables/applications-datatable/applicationsDatatable.js\":42270,\"./kubernetes/components/datatables/applications-datatable/applicationsDatatableController.js\":45941,\"./kubernetes/components/datatables/applications-ports-datatable/applicationsPortsDatatable.js\":50195,\"./kubernetes/components/datatables/applications-ports-datatable/applicationsPortsDatatableController.js\":77106,\"./kubernetes/components/datatables/applications-stacks-datatable/applicationsStacksDatatable.js\":21266,\"./kubernetes/components/datatables/applications-stacks-datatable/applicationsStacksDatatableController.js\":89107,\"./kubernetes/components/datatables/configurations-datatable/configurationsDatatable.js\":95240,\"./kubernetes/components/datatables/configurations-datatable/configurationsDatatableController.js\":63507,\"./kubernetes/components/datatables/events-datatable/eventsDatatable.js\":39564,\"./kubernetes/components/datatables/integrated-applications-datatable/integratedApplicationsDatatable.js\":78458,\"./kubernetes/components/datatables/node-applications-datatable/nodeApplicationsDatatable.js\":56531,\"./kubernetes/components/datatables/node-applications-datatable/nodeApplicationsDatatableController.js\":8122,\"./kubernetes/components/datatables/nodes-datatable/nodesDatatable.js\":60810,\"./kubernetes/components/datatables/resource-pool-applications-datatable/resourcePoolApplicationsDatatable.js\":56975,\"./kubernetes/components/datatables/resource-pool-applications-datatable/resourcePoolApplicationsDatatableController.js\":94817,\"./kubernetes/components/datatables/resource-pools-datatable/resourcePoolsDatatable.js\":22158,\"./kubernetes/components/datatables/resource-pools-datatable/resourcePoolsDatatableController.js\":51329,\"./kubernetes/components/datatables/volumes-datatable/volumesDatatable.js\":62925,\"./kubernetes/components/datatables/volumes-datatable/volumesDatatableController.js\":63651,\"./kubernetes/components/helm/helm-templates/helm-add-repository/helm-add-repository.controller.js\":41399,\"./kubernetes/components/helm/helm-templates/helm-add-repository/helm-add-repository.js\":79553,\"./kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list-item/helm-templates-list-item.js\":43579,\"./kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list.controller.js\":88416,\"./kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list.js\":15778,\"./kubernetes/components/helm/helm-templates/helm-templates.controller.js\":67316,\"./kubernetes/components/helm/helm-templates/helm-templates.js\":71228,\"./kubernetes/components/kube-services/kube-services-item/kube-services-item.controller.js\":65473,\"./kubernetes/components/kube-services/kube-services-item/kube-services-item.js\":1542,\"./kubernetes/components/kube-services/kube-services.controller.js\":54466,\"./kubernetes/components/kube-services/kube-services.js\":14957,\"./kubernetes/components/kubectl-shell/kubectl-shell.controller.js\":30761,\"./kubernetes/components/kubectl-shell/kubectl-shell.js\":92590,\"./kubernetes/components/kubernetes-configuration-data/kubernetesConfigurationData.js\":4546,\"./kubernetes/components/kubernetes-configuration-data/kubernetesConfigurationDataController.js\":16591,\"./kubernetes/components/kubernetes-sidebar/index.js\":51713,\"./kubernetes/components/resource-reservation/resourceReservation.js\":42718,\"./kubernetes/components/resource-reservation/resourceReservationController.js\":44579,\"./kubernetes/components/view-header/viewHeader.js\":43281,\"./kubernetes/components/view-loading/viewLoading.js\":15572,\"./kubernetes/components/yaml-inspector/yamlInspector.js\":31938,\"./kubernetes/components/yaml-inspector/yamlInspectorController.js\":50346,\"./kubernetes/converters/application.js\":10293,\"./kubernetes/converters/configMap.js\":40654,\"./kubernetes/converters/configuration.js\":10241,\"./kubernetes/converters/daemonSet.js\":12512,\"./kubernetes/converters/deployment.js\":95929,\"./kubernetes/converters/event.js\":43083,\"./kubernetes/converters/namespace.js\":2544,\"./kubernetes/converters/persistentVolumeClaim.js\":56636,\"./kubernetes/converters/resourcePool.js\":57911,\"./kubernetes/converters/resourceQuota.js\":57456,\"./kubernetes/converters/secret.js\":52341,\"./kubernetes/converters/service.js\":86998,\"./kubernetes/converters/statefulSet.js\":15986,\"./kubernetes/converters/storageClass.js\":17981,\"./kubernetes/converters/volume.js\":92192,\"./kubernetes/custom-templates/index.js\":79023,\"./kubernetes/custom-templates/kube-create-custom-template-view/index.js\":6793,\"./kubernetes/custom-templates/kube-create-custom-template-view/kube-create-custom-template-view.controller.js\":2267,\"./kubernetes/custom-templates/kube-custom-templates-view/index.js\":79403,\"./kubernetes/custom-templates/kube-custom-templates-view/kube-custom-templates-view.controller.js\":11916,\"./kubernetes/custom-templates/kube-edit-custom-template-view/index.js\":52657,\"./kubernetes/custom-templates/kube-edit-custom-template-view/kube-edit-custom-template-view.controller.js\":69199,\"./kubernetes/endpoint/converter.js\":59041,\"./kubernetes/endpoint/models.js\":5264,\"./kubernetes/endpoint/rest.js\":42964,\"./kubernetes/endpoint/service.js\":5427,\"./kubernetes/filters/applicationFilters.js\":11518,\"./kubernetes/filters/configurationFilters.js\":63642,\"./kubernetes/filters/eventFilters.js\":58311,\"./kubernetes/filters/filters.js\":11634,\"./kubernetes/helm/rest.js\":65744,\"./kubernetes/helm/service.js\":40846,\"./kubernetes/helpers/application/index.js\":57947,\"./kubernetes/helpers/application/rollback.js\":65011,\"./kubernetes/helpers/commonHelper.js\":12925,\"./kubernetes/helpers/configMapHelper.js\":58007,\"./kubernetes/helpers/configurationHelper.js\":51780,\"./kubernetes/helpers/eventHelper.js\":52929,\"./kubernetes/helpers/formValidationHelper.js\":54241,\"./kubernetes/helpers/history/daemonset.js\":48367,\"./kubernetes/helpers/history/deployment.js\":38215,\"./kubernetes/helpers/history/index.js\":70224,\"./kubernetes/helpers/history/statefulset.js\":47220,\"./kubernetes/helpers/namespaceHelper.js\":7506,\"./kubernetes/helpers/resourceQuotaHelper.js\":21458,\"./kubernetes/helpers/resourceReservationHelper.js\":22229,\"./kubernetes/helpers/serviceHelper.js\":57637,\"./kubernetes/helpers/stackHelper.js\":41208,\"./kubernetes/helpers/stackHelper.test.js\":69461,\"./kubernetes/helpers/volumeHelper.js\":11507,\"./kubernetes/horizontal-pod-auto-scaler/converter.js\":41247,\"./kubernetes/horizontal-pod-auto-scaler/helper.js\":1239,\"./kubernetes/horizontal-pod-auto-scaler/models.js\":90914,\"./kubernetes/horizontal-pod-auto-scaler/payload.js\":85597,\"./kubernetes/horizontal-pod-auto-scaler/rest.js\":61160,\"./kubernetes/horizontal-pod-auto-scaler/service.js\":51866,\"./kubernetes/ingress/constants.js\":62072,\"./kubernetes/ingress/converter.js\":47086,\"./kubernetes/ingress/helper.js\":7587,\"./kubernetes/ingress/models.js\":27155,\"./kubernetes/ingress/payloads.js\":17362,\"./kubernetes/ingress/rest.js\":45678,\"./kubernetes/ingress/service.js\":76706,\"./kubernetes/metrics/metrics.js\":60299,\"./kubernetes/metrics/rest.js\":26835,\"./kubernetes/models/application/formValues.js\":14917,\"./kubernetes/models/application/models/constants.js\":20783,\"./kubernetes/models/application/models/index.js\":7172,\"./kubernetes/models/application/payloads.js\":11505,\"./kubernetes/models/common/params.js\":82469,\"./kubernetes/models/common/payloads.js\":27367,\"./kubernetes/models/config-map/models.js\":13978,\"./kubernetes/models/config-map/payloads.js\":40879,\"./kubernetes/models/configuration/formvalues.js\":30578,\"./kubernetes/models/configuration/models.js\":82434,\"./kubernetes/models/daemon-set/models.js\":12745,\"./kubernetes/models/daemon-set/payloads.js\":82935,\"./kubernetes/models/deploy.js\":6253,\"./kubernetes/models/deployment/models.js\":59238,\"./kubernetes/models/deployment/payloads.js\":95008,\"./kubernetes/models/event/models.js\":82239,\"./kubernetes/models/history/models.js\":24601,\"./kubernetes/models/namespace/models.js\":35076,\"./kubernetes/models/namespace/payloads.js\":63829,\"./kubernetes/models/nodes-limits/models.js\":74335,\"./kubernetes/models/port/models.js\":83270,\"./kubernetes/models/resource-pool/formValues.js\":16496,\"./kubernetes/models/resource-pool/models.js\":72210,\"./kubernetes/models/resource-quota/models.js\":47685,\"./kubernetes/models/resource-quota/payloads.js\":75976,\"./kubernetes/models/resource-reservation/models.js\":46685,\"./kubernetes/models/resource-types/models.js\":39212,\"./kubernetes/models/secret/models.js\":69730,\"./kubernetes/models/secret/payloads.js\":60622,\"./kubernetes/models/service/models.js\":79990,\"./kubernetes/models/service/payloads.js\":31249,\"./kubernetes/models/stack/models.js\":31084,\"./kubernetes/models/stateful-set/models.js\":91920,\"./kubernetes/models/stateful-set/payloads.js\":13871,\"./kubernetes/models/storage-class/models.js\":86871,\"./kubernetes/models/storage-class/payload.js\":79824,\"./kubernetes/models/volume/models.js\":72913,\"./kubernetes/models/volume/payloads.js\":88296,\"./kubernetes/node/converter.js\":76676,\"./kubernetes/node/filters.js\":57067,\"./kubernetes/node/formValues.js\":2949,\"./kubernetes/node/helper.js\":14780,\"./kubernetes/node/models.js\":48942,\"./kubernetes/node/payload.js\":11801,\"./kubernetes/node/rest.js\":9790,\"./kubernetes/node/service.js\":6795,\"./kubernetes/pod/converter.js\":22050,\"./kubernetes/pod/filters.js\":15826,\"./kubernetes/pod/models/affinities.js\":73689,\"./kubernetes/pod/models/index.js\":31275,\"./kubernetes/pod/payloads/affinities.js\":78398,\"./kubernetes/pod/payloads/create.js\":61005,\"./kubernetes/pod/service.js\":30754,\"./kubernetes/registries/index.js\":87658,\"./kubernetes/registries/kube-registry-access-view/index.js\":51482,\"./kubernetes/registries/kube-registry-access-view/kube-registry-access-view.controller.js\":60124,\"./kubernetes/rest/configMap.js\":83972,\"./kubernetes/rest/controllerRevision.js\":20017,\"./kubernetes/rest/daemonSet.js\":38345,\"./kubernetes/rest/deployment.js\":36566,\"./kubernetes/rest/endpoint.js\":85333,\"./kubernetes/rest/event.js\":69673,\"./kubernetes/rest/health.js\":71461,\"./kubernetes/rest/namespace.js\":82475,\"./kubernetes/rest/nodesLimits.js\":40912,\"./kubernetes/rest/persistentVolumeClaim.js\":58732,\"./kubernetes/rest/pod.js\":83699,\"./kubernetes/rest/portainer-namespace.js\":93449,\"./kubernetes/rest/replicaSet.js\":81056,\"./kubernetes/rest/resourceQuota.js\":10129,\"./kubernetes/rest/response/transform.js\":25658,\"./kubernetes/rest/secret.js\":61588,\"./kubernetes/rest/service.js\":68376,\"./kubernetes/rest/statefulSet.js\":55594,\"./kubernetes/rest/storage.js\":33415,\"./kubernetes/services/applicationService.js\":94358,\"./kubernetes/services/configMapService.js\":45819,\"./kubernetes/services/configurationService.js\":81567,\"./kubernetes/services/controllerRevisionService.js\":40917,\"./kubernetes/services/daemonSetService.js\":42183,\"./kubernetes/services/deploymentService.js\":18354,\"./kubernetes/services/eventService.js\":3855,\"./kubernetes/services/healthService.js\":24717,\"./kubernetes/services/historyService.js\":18842,\"./kubernetes/services/namespaceService.js\":44987,\"./kubernetes/services/nodesLimitsService.js\":73774,\"./kubernetes/services/persistentVolumeClaimService.js\":79362,\"./kubernetes/services/replicaSetService.js\":59010,\"./kubernetes/services/resourcePoolService.js\":22539,\"./kubernetes/services/resourceQuotaService.js\":85927,\"./kubernetes/services/secretService.js\":76354,\"./kubernetes/services/serviceService.js\":7055,\"./kubernetes/services/stackService.js\":4063,\"./kubernetes/services/statefulSetService.js\":4165,\"./kubernetes/services/storageService.js\":36552,\"./kubernetes/services/volumeService.js\":78085,\"./kubernetes/store/namespace.js\":22823,\"./kubernetes/views/applications/applications.js\":86393,\"./kubernetes/views/applications/applicationsController.js\":55495,\"./kubernetes/views/applications/console/console.js\":88386,\"./kubernetes/views/applications/console/consoleController.js\":33243,\"./kubernetes/views/applications/create/createApplication.js\":58791,\"./kubernetes/views/applications/create/createApplicationController.js\":8924,\"./kubernetes/views/applications/edit/application.js\":56378,\"./kubernetes/views/applications/edit/applicationController.js\":66485,\"./kubernetes/views/applications/edit/components/ingress-table/ingress-table.controller.js\":20630,\"./kubernetes/views/applications/edit/components/ingress-table/ingress-table.js\":63060,\"./kubernetes/views/applications/edit/components/placements-datatable/controller.js\":29272,\"./kubernetes/views/applications/edit/components/placements-datatable/index.js\":50156,\"./kubernetes/views/applications/edit/components/services-table/services-table.js\":18137,\"./kubernetes/views/applications/helm/helm.controller.js\":85392,\"./kubernetes/views/applications/helm/index.js\":8180,\"./kubernetes/views/applications/logs/logs.js\":81297,\"./kubernetes/views/applications/logs/logsController.js\":94649,\"./kubernetes/views/applications/stats/stats.js\":61260,\"./kubernetes/views/applications/stats/statsController.js\":13754,\"./kubernetes/views/cluster/cluster.js\":24924,\"./kubernetes/views/cluster/clusterController.js\":99641,\"./kubernetes/views/cluster/node/node.js\":64696,\"./kubernetes/views/cluster/node/nodeController.js\":79308,\"./kubernetes/views/cluster/node/stats/stats.js\":83490,\"./kubernetes/views/cluster/node/stats/statsController.js\":2997,\"./kubernetes/views/configurations/configurations.js\":56286,\"./kubernetes/views/configurations/configurationsController.js\":35752,\"./kubernetes/views/configurations/create/createConfiguration.js\":9022,\"./kubernetes/views/configurations/create/createConfigurationController.js\":38646,\"./kubernetes/views/configurations/edit/configuration.js\":78025,\"./kubernetes/views/configurations/edit/configurationController.js\":55682,\"./kubernetes/views/configure/configureController.js\":71244,\"./kubernetes/views/dashboard/dashboard.js\":15219,\"./kubernetes/views/dashboard/dashboardController.js\":79581,\"./kubernetes/views/deploy/deploy.js\":36661,\"./kubernetes/views/deploy/deployController.js\":23322,\"./kubernetes/views/resource-pools/access/resourcePoolAccess.js\":28311,\"./kubernetes/views/resource-pools/access/resourcePoolAccessController.js\":38513,\"./kubernetes/views/resource-pools/components/storage-class-switch/index.js\":74474,\"./kubernetes/views/resource-pools/components/storage-class-switch/storage-class-switch.controller.js\":10405,\"./kubernetes/views/resource-pools/create/createResourcePool.js\":19777,\"./kubernetes/views/resource-pools/create/createResourcePoolController.js\":83908,\"./kubernetes/views/resource-pools/edit/components/ingresses-datatable/controller.js\":63009,\"./kubernetes/views/resource-pools/edit/components/ingresses-datatable/index.js\":88952,\"./kubernetes/views/resource-pools/edit/resourcePool.js\":85146,\"./kubernetes/views/resource-pools/edit/resourcePoolController.js\":42310,\"./kubernetes/views/resource-pools/resourcePools.js\":7134,\"./kubernetes/views/resource-pools/resourcePoolsController.js\":39502,\"./kubernetes/views/stacks/logs/logs.js\":9981,\"./kubernetes/views/stacks/logs/logsController.js\":39554,\"./kubernetes/views/summary/resources/applicationResources.js\":45233,\"./kubernetes/views/summary/resources/configurationResources.js\":3310,\"./kubernetes/views/summary/resources/helpers.js\":60953,\"./kubernetes/views/summary/resources/namespaceResources.js\":49113,\"./kubernetes/views/summary/summary.js\":21099,\"./kubernetes/views/summary/summaryController.js\":69861,\"./kubernetes/views/volumes/components/volumes-storages-datatable/controller.js\":70302,\"./kubernetes/views/volumes/components/volumes-storages-datatable/index.js\":1502,\"./kubernetes/views/volumes/edit/volume.js\":61158,\"./kubernetes/views/volumes/edit/volumeController.js\":52962,\"./kubernetes/views/volumes/volumes.js\":49633,\"./kubernetes/views/volumes/volumesController.js\":64539,\"./matomo-setup.js\":63924,\"./portainer/__module.js\":51192,\"./portainer/components/InformationPanel/InformationPanelAngular.js\":87005,\"./portainer/components/PageHeader/HeaderContent.controller.js\":7255,\"./portainer/components/PageHeader/HeaderTitle.controller.js\":21578,\"./portainer/components/access-datatable/accessDatatable.js\":21366,\"./portainer/components/access-datatable/accessDatatableController.js\":92681,\"./portainer/components/access-table/access-table.js\":56609,\"./portainer/components/accessControlForm/por-access-control-form.js\":3735,\"./portainer/components/accessControlForm/porAccessControlFormController.js\":86656,\"./portainer/components/accessControlForm/porAccessControlFormModel.js\":19898,\"./portainer/components/accessManagement/index.js\":39372,\"./portainer/components/accessManagement/por-access-management-users-selector/index.js\":76744,\"./portainer/components/accessManagement/por-access-management.js\":26001,\"./portainer/components/accessManagement/porAccessManagementController.js\":22421,\"./portainer/components/associated-endpoints-selector/associatedEndpointsSelector.js\":439,\"./portainer/components/associated-endpoints-selector/associatedEndpointsSelectorController.js\":98293,\"./portainer/components/autofocus.js\":64054,\"./portainer/components/beta-panel/betaPanel.js\":28428,\"./portainer/components/buttonSpinner.js\":66864,\"./portainer/components/code-editor/code-editor.js\":58945,\"./portainer/components/code-editor/codeEditorController.js\":85150,\"./portainer/components/copy-button/copy-button.controller.js\":28944,\"./portainer/components/copy-button/copy-button.js\":27816,\"./portainer/components/custom-template-common-fields/customTemplateCommonFieldsController.js\":99614,\"./portainer/components/custom-template-common-fields/index.js\":26453,\"./portainer/components/custom-template-selector/custom-template-selector.controller.js\":45165,\"./portainer/components/custom-template-selector/index.js\":16970,\"./portainer/components/custom-templates-list/customTemplatesListController.js\":85452,\"./portainer/components/custom-templates-list/index.js\":9578,\"./portainer/components/datatables/access-tokens-datatable/access-tokens-datatable.controller.js\":43926,\"./portainer/components/datatables/access-tokens-datatable/index.js\":80127,\"./portainer/components/datatables/datatable-columns-visibility/datatable-columns-visibility.controller.js\":76752,\"./portainer/components/datatables/datatable-columns-visibility/index.js\":13877,\"./portainer/components/datatables/endpoints-datatable/endpointsDatatable.js\":56210,\"./portainer/components/datatables/endpoints-datatable/endpointsDatatableController.js\":805,\"./portainer/components/datatables/filter/datatable-filter.controller.js\":38058,\"./portainer/components/datatables/filter/index.js\":59001,\"./portainer/components/datatables/genericDatatableController.js\":11471,\"./portainer/components/datatables/groups-datatable/groupsDatatable.js\":36864,\"./portainer/components/datatables/index.js\":41101,\"./portainer/components/datatables/pagination/index.js\":21757,\"./portainer/components/datatables/registries-datatable/registriesDatatable.js\":44145,\"./portainer/components/datatables/registries-datatable/registriesDatatableController.js\":63188,\"./portainer/components/datatables/searchbar/index.js\":76224,\"./portainer/components/datatables/sort-icon/datatable-sort-icon.controller.js\":81749,\"./portainer/components/datatables/sort-icon/index.js\":62040,\"./portainer/components/datatables/stacks-datatable/stacksDatatable.js\":97203,\"./portainer/components/datatables/stacks-datatable/stacksDatatableController.js\":97433,\"./portainer/components/datatables/strings-datatable/index.js\":59198,\"./portainer/components/datatables/tags-datatable/tagsDatatable.js\":96447,\"./portainer/components/datatables/teams-datatable/teamsDatatable.js\":85514,\"./portainer/components/datatables/titlebar/index.js\":58973,\"./portainer/components/datatables/users-datatable/usersDatatable.js\":59322,\"./portainer/components/datatables/users-datatable/usersDatatableController.js\":92040,\"./portainer/components/demo-feature-indicator/demo-feature-indicator.controller.js\":62424,\"./portainer/components/demo-feature-indicator/index.js\":96026,\"./portainer/components/endpoint-selector/endpoint-selector.js\":32005,\"./portainer/components/endpoint-selector/endpointSelectorController.js\":84330,\"./portainer/components/endpointSecurity/por-endpoint-security.js\":39590,\"./portainer/components/endpointSecurity/porEndpointSecurityController.js\":59810,\"./portainer/components/endpointSecurity/porEndpointSecurityModel.js\":25229,\"./portainer/components/environment-variables-panel/environment-variables-panel.controller.js\":72532,\"./portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode-item/environment-variables-simple-mode-item.controller.js\":19695,\"./portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode-item/index.js\":47254,\"./portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode.controller.js\":17272,\"./portainer/components/environment-variables-panel/environment-variables-simple-mode/index.js\":61311,\"./portainer/components/environment-variables-panel/index.js\":5633,\"./portainer/components/focusIf.js\":87508,\"./portainer/components/form-components/file-upload-form/index.js\":74075,\"./portainer/components/form-components/index.js\":39068,\"./portainer/components/form-components/web-editor-form/index.js\":67653,\"./portainer/components/form-components/web-editor-form/web-editor-form.controller.js\":32340,\"./portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-file-item/git-form-additional-file-item.controller.js\":27190,\"./portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-file-item/index.js\":83208,\"./portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-files-panel.controller.js\":17968,\"./portainer/components/forms/git-form/git-form-additional-files-panel/index.js\":7274,\"./portainer/components/forms/git-form/git-form-auth-fieldset/git-form-auth-fieldset.controller.js\":10789,\"./portainer/components/forms/git-form/git-form-auth-fieldset/index.js\":48980,\"./portainer/components/forms/git-form/git-form-auto-update-fieldset/git-form-auto-update-fieldset.controller.js\":12847,\"./portainer/components/forms/git-form/git-form-auto-update-fieldset/index.js\":34385,\"./portainer/components/forms/git-form/git-form-compose-path-field/index.js\":39926,\"./portainer/components/forms/git-form/git-form-info-panel/index.js\":78356,\"./portainer/components/forms/git-form/git-form-ref-field/index.js\":65830,\"./portainer/components/forms/git-form/git-form-url-field/index.js\":4680,\"./portainer/components/forms/git-form/git-form.controller.js\":93632,\"./portainer/components/forms/git-form/git-form.js\":97525,\"./portainer/components/forms/git-form/index.js\":8540,\"./portainer/components/forms/group-form/group-form.js\":95189,\"./portainer/components/forms/group-form/groupFormController.js\":37134,\"./portainer/components/forms/kubernetes-app-git-form/kubernetes-app-git-form.controller.js\":29037,\"./portainer/components/forms/kubernetes-app-git-form/kubernetes-app-git-form.js\":34323,\"./portainer/components/forms/kubernetes-redeploy-app-git-form/kubernetes-redeploy-app-git-form.controller.js\":55658,\"./portainer/components/forms/kubernetes-redeploy-app-git-form/kubernetes-redeploy-app-git-form.js\":9509,\"./portainer/components/forms/registry-form-aws-ecr/registry-form-ecr.js\":48637,\"./portainer/components/forms/registry-form-azure/registry-form-azure.js\":90018,\"./portainer/components/forms/registry-form-custom/registry-form-custom.js\":8746,\"./portainer/components/forms/registry-form-dockerhub/registry-form-dockerhub.js\":7744,\"./portainer/components/forms/registry-form-gitlab/gitlab-projects-datatable/gitlabProjectsDatatable.js\":84375,\"./portainer/components/forms/registry-form-gitlab/gitlab-projects-datatable/gitlabProjectsDatatableController.js\":56110,\"./portainer/components/forms/registry-form-gitlab/registry-form-gitlab.js\":54470,\"./portainer/components/forms/registry-form-proget/registry-form-proget.js\":25318,\"./portainer/components/forms/registry-form-quay/registry-form-quay.js\":18218,\"./portainer/components/forms/stack-from-template-form/index.js\":12281,\"./portainer/components/forms/stack-redeploy-git-form/index.js\":7008,\"./portainer/components/forms/stack-redeploy-git-form/stack-redeploy-git-form.controller.js\":20472,\"./portainer/components/group-association-table/group-association-table.js\":87637,\"./portainer/components/index.js\":60748,\"./portainer/components/information-panel-offline/informationPanelOffline.js\":64654,\"./portainer/components/information-panel-offline/informationPanelOfflineController.js\":2454,\"./portainer/components/intervalFormat.js\":44516,\"./portainer/components/onEnterKey.js\":45679,\"./portainer/components/product-list/product-item/product-item.js\":46621,\"./portainer/components/product-list/product-list.js\":38222,\"./portainer/components/registry-details/index.js\":97554,\"./portainer/components/sensitive-details/sensitive-details.js\":90434,\"./portainer/components/show-hide/show-hide.js\":53712,\"./portainer/components/sidebar/index.js\":7883,\"./portainer/components/sidebar/sidebar-menu-item/index.js\":38832,\"./portainer/components/sidebar/sidebar-menu/index.js\":86853,\"./portainer/components/sidebar/sidebar-menu/sidebar-menu.controller.js\":93340,\"./portainer/components/sidebar/sidebar-section/index.js\":82736,\"./portainer/components/slider/slider.js\":77337,\"./portainer/components/slider/sliderController.js\":58944,\"./portainer/components/stack-duplication-form/stack-duplication-form-controller.js\":10018,\"./portainer/components/stack-duplication-form/stack-duplication-form.js\":37848,\"./portainer/components/status-indicator/index.js\":91709,\"./portainer/components/template-list/template-item/template-item.js\":44677,\"./portainer/components/template-list/template-list-controller.js\":70296,\"./portainer/components/template-list/template-list.js\":47177,\"./portainer/components/template-widget.js\":38119,\"./portainer/components/theme/theme-settings.controller.js\":30839,\"./portainer/components/theme/theme-settings.js\":30749,\"./portainer/feature-flags/feature-ids.js\":24268,\"./portainer/filters/filters.js\":41066,\"./portainer/filters/index.js\":1740,\"./portainer/helpers/endpointHelper.js\":70589,\"./portainer/helpers/env-vars.js\":93994,\"./portainer/helpers/formHelper.js\":30398,\"./portainer/helpers/genericHelper.js\":24003,\"./portainer/helpers/networkHelper.js\":30556,\"./portainer/helpers/pathHelper.js\":50433,\"./portainer/helpers/resourceControlHelper.js\":43622,\"./portainer/helpers/stackHelper.js\":13118,\"./portainer/helpers/tagHelper.js\":91619,\"./portainer/helpers/templateHelper.js\":69424,\"./portainer/helpers/urlHelper.js\":79190,\"./portainer/helpers/webhookHelper.js\":7341,\"./portainer/interceptors/endpointStatusInterceptor.js\":89940,\"./portainer/models/access.js\":93133,\"./portainer/models/dockerhub.js\":74962,\"./portainer/models/endpoint/formValues.js\":690,\"./portainer/models/endpoint/models.js\":74808,\"./portainer/models/gitlabRegistry.js\":62365,\"./portainer/models/group.js\":79607,\"./portainer/models/registry.js\":33180,\"./portainer/models/registryRepository.js\":64088,\"./portainer/models/registryTypes.js\":56414,\"./portainer/models/resourceControl/resourceControlCreatePayload.js\":74392,\"./portainer/models/resourceControl/resourceControlOwnershipParameters.js\":1870,\"./portainer/models/schedule.js\":82653,\"./portainer/models/settings.js\":55287,\"./portainer/models/stack.js\":49036,\"./portainer/models/status.js\":95154,\"./portainer/models/tag.js\":26410,\"./portainer/models/team.js\":58552,\"./portainer/models/teamMembership.js\":3010,\"./portainer/models/template.js\":76185,\"./portainer/models/user.js\":90327,\"./portainer/models/webhook.js\":74708,\"./portainer/oauth/__module.js\":77274,\"./portainer/oauth/components/oauth-providers-selector/index.js\":21869,\"./portainer/oauth/components/oauth-providers-selector/oauth-provider-selector.controller.js\":14537,\"./portainer/oauth/components/oauth-settings/index.js\":10453,\"./portainer/oauth/components/oauth-settings/oauth-settings.controller.js\":30152,\"./portainer/oauth/components/oauth-settings/providers.js\":67879,\"./portainer/oauth/services/rest/oauth.js\":18152,\"./portainer/rbac/components/access-viewer/access-viewer-datatable/index.js\":3589,\"./portainer/rbac/components/access-viewer/access-viewer.controller.js\":79657,\"./portainer/rbac/components/access-viewer/index.js\":87208,\"./portainer/rbac/components/roles-datatable/index.js\":77181,\"./portainer/rbac/components/roles-datatable/roles-datatable.controller.js\":15560,\"./portainer/rbac/index.js\":35552,\"./portainer/rbac/models/access.js\":82853,\"./portainer/rbac/models/role.js\":61969,\"./portainer/rbac/services/role.rest.js\":37838,\"./portainer/rbac/services/role.service.js\":70055,\"./portainer/rbac/views/roles/index.js\":93239,\"./portainer/rbac/views/roles/roles.controller.js\":60090,\"./portainer/rest/auth.js\":95599,\"./portainer/rest/backup.js\":59987,\"./portainer/rest/customTemplate.js\":92179,\"./portainer/rest/endpoint.js\":50947,\"./portainer/rest/gitlab.js\":48664,\"./portainer/rest/group.js\":41019,\"./portainer/rest/registry.js\":26911,\"./portainer/rest/resourceControl.js\":9095,\"./portainer/rest/settings.js\":26862,\"./portainer/rest/ssl.js\":33729,\"./portainer/rest/stack.js\":84006,\"./portainer/rest/status.js\":1962,\"./portainer/rest/support.js\":3985,\"./portainer/rest/tag.js\":69586,\"./portainer/rest/team.js\":51406,\"./portainer/rest/teamMembership.js\":63027,\"./portainer/rest/template.js\":35627,\"./portainer/rest/transform/getEndpointsTotalCount.js\":28098,\"./portainer/rest/transform/gitlabResponseGetLink.js\":40432,\"./portainer/rest/user.js\":88211,\"./portainer/rest/webhooks.js\":1587,\"./portainer/services/allSettled.js\":67808,\"./portainer/services/api/accessService.js\":84522,\"./portainer/services/api/backupService.js\":10273,\"./portainer/services/api/customTemplate.js\":85903,\"./portainer/services/api/dockerhubService.js\":91520,\"./portainer/services/api/endpointService.js\":53249,\"./portainer/services/api/groupService.js\":50828,\"./portainer/services/api/registryService.js\":94094,\"./portainer/services/api/resourceControlService.js\":17293,\"./portainer/services/api/settingsService.js\":91532,\"./portainer/services/api/sslService.js\":39243,\"./portainer/services/api/stackService.js\":54332,\"./portainer/services/api/statusService.js\":97128,\"./portainer/services/api/supportService.js\":10754,\"./portainer/services/api/tagService.js\":44904,\"./portainer/services/api/teamMembershipService.js\":87643,\"./portainer/services/api/teamService.js\":75495,\"./portainer/services/api/templateService.js\":66656,\"./portainer/services/api/userService.js\":96664,\"./portainer/services/api/webhookService.js\":16856,\"./portainer/services/async.js\":52726,\"./portainer/services/authentication.js\":38890,\"./portainer/services/chartService.js\":49519,\"./portainer/services/codeMirror.js\":91112,\"./portainer/services/datatableService.js\":52943,\"./portainer/services/endpointProvider.js\":65187,\"./portainer/services/fileUpload.js\":21262,\"./portainer/services/formValidator.js\":59197,\"./portainer/services/localStorage.js\":11189,\"./portainer/services/nameValidator.js\":16624,\"./portainer/services/pagination.js\":40073,\"./portainer/services/registryGitlabService.js\":76211,\"./portainer/services/registryModalService.js\":56858,\"./portainer/services/session-storage.js\":85280,\"./portainer/services/stateManager.js\":37431,\"./portainer/services/terminal-window.js\":56518,\"./portainer/services/themeManager.js\":98869,\"./portainer/settings/authentication/auth-method-constants.js\":52855,\"./portainer/settings/authentication/auth-type-constants.js\":98376,\"./portainer/settings/authentication/auto-user-provision-toggle/index.js\":50552,\"./portainer/settings/authentication/index.js\":87921,\"./portainer/settings/authentication/ldap/ad-settings/ad-settings.controller.js\":80612,\"./portainer/settings/authentication/ldap/ad-settings/index.js\":66509,\"./portainer/settings/authentication/ldap/index.js\":36320,\"./portainer/settings/authentication/ldap/ldap-connectivity-check/index.js\":18436,\"./portainer/settings/authentication/ldap/ldap-custom-admin-group/index.js\":88996,\"./portainer/settings/authentication/ldap/ldap-custom-admin-group/ldap-custom-admin-group.controller.js\":53864,\"./portainer/settings/authentication/ldap/ldap-custom-group-search/index.js\":8282,\"./portainer/settings/authentication/ldap/ldap-custom-group-search/ldap-custom-group-search.controller.js\":30950,\"./portainer/settings/authentication/ldap/ldap-custom-user-search/index.js\":1093,\"./portainer/settings/authentication/ldap/ldap-custom-user-search/ldap-custom-user-search.controller.js\":39525,\"./portainer/settings/authentication/ldap/ldap-group-search-item/index.js\":82592,\"./portainer/settings/authentication/ldap/ldap-group-search-item/ldap-group-search-item.controller.js\":55028,\"./portainer/settings/authentication/ldap/ldap-group-search/index.js\":24791,\"./portainer/settings/authentication/ldap/ldap-group-search/ldap-group-search.controller.js\":92459,\"./portainer/settings/authentication/ldap/ldap-groups-datatable/index.js\":59086,\"./portainer/settings/authentication/ldap/ldap-settings-custom/index.js\":72928,\"./portainer/settings/authentication/ldap/ldap-settings-custom/ldap-settings-custom.controller.js\":96551,\"./portainer/settings/authentication/ldap/ldap-settings-dn-builder/index.js\":6e4,\"./portainer/settings/authentication/ldap/ldap-settings-dn-builder/ldap-settings-dn-builder.controller.js\":62680,\"./portainer/settings/authentication/ldap/ldap-settings-group-dn-builder/index.js\":36235,\"./portainer/settings/authentication/ldap/ldap-settings-group-dn-builder/ldap-settings-group-dn-builder.controller.js\":91117,\"./portainer/settings/authentication/ldap/ldap-settings-openldap/index.js\":25702,\"./portainer/settings/authentication/ldap/ldap-settings-openldap/ldap-settings-openldap.controller.js\":58962,\"./portainer/settings/authentication/ldap/ldap-settings-security/index.js\":31939,\"./portainer/settings/authentication/ldap/ldap-settings-test-login/index.js\":75714,\"./portainer/settings/authentication/ldap/ldap-settings-test-login/ldap-settings-test-login.controller.js\":90829,\"./portainer/settings/authentication/ldap/ldap-settings.model.js\":54512,\"./portainer/settings/authentication/ldap/ldap-settings/index.js\":39947,\"./portainer/settings/authentication/ldap/ldap-settings/ldap-settings.controller.js\":37556,\"./portainer/settings/authentication/ldap/ldap-user-search-item/index.js\":16811,\"./portainer/settings/authentication/ldap/ldap-user-search-item/ldap-user-search-item.controller.js\":93669,\"./portainer/settings/authentication/ldap/ldap-user-search/index.js\":97299,\"./portainer/settings/authentication/ldap/ldap-user-search/ldap-user-search.controller.js\":34188,\"./portainer/settings/authentication/ldap/ldap-users-datatable/index.js\":84259,\"./portainer/settings/authentication/ldap/ldap.rest.js\":39314,\"./portainer/settings/authentication/ldap/ldap.service.js\":46951,\"./portainer/settings/authentication/save-auth-settings-button/index.js\":93467,\"./portainer/settings/general/index.js\":6972,\"./portainer/settings/general/ssl-certificate/index.js\":13655,\"./portainer/settings/general/ssl-certificate/ssl-certificate.controller.js\":12617,\"./portainer/settings/index.js\":1221,\"./portainer/user-activity/activity-logs-view/activity-logs-datatable/activity-logs-datatable.controller.js\":48557,\"./portainer/user-activity/activity-logs-view/activity-logs-datatable/index.js\":32654,\"./portainer/user-activity/activity-logs-view/activity-logs-view.controller.js\":38427,\"./portainer/user-activity/activity-logs-view/activity-logs-view.js\":85331,\"./portainer/user-activity/activity-logs-view/index.js\":9800,\"./portainer/user-activity/auth-logs-view/auth-logs-datatable/auth-logs-datatable.controller.js\":91651,\"./portainer/user-activity/auth-logs-view/auth-logs-datatable/index.js\":66823,\"./portainer/user-activity/auth-logs-view/auth-logs-view.controller.js\":93873,\"./portainer/user-activity/auth-logs-view/auth-logs-view.js\":8364,\"./portainer/user-activity/auth-logs-view/index.js\":45303,\"./portainer/user-activity/index.js\":45347,\"./portainer/views/account/accountController.js\":68325,\"./portainer/views/account/create-user-access-token/create-user-access-token.controller.js\":5012,\"./portainer/views/account/create-user-access-token/index.js\":33219,\"./portainer/views/auth/authController.js\":87374,\"./portainer/views/custom-templates/create-custom-template-view/createCustomTemplateViewController.js\":46581,\"./portainer/views/custom-templates/create-custom-template-view/index.js\":31268,\"./portainer/views/custom-templates/custom-templates-view/customTemplatesViewController.js\":77999,\"./portainer/views/custom-templates/custom-templates-view/index.js\":17598,\"./portainer/views/custom-templates/edit-custom-template-view/editCustomTemplateViewController.js\":31097,\"./portainer/views/custom-templates/edit-custom-template-view/index.js\":69659,\"./portainer/views/devices/import/importDeviceController.js\":11937,\"./portainer/views/devices/profiles/add/addProfileController.js\":35696,\"./portainer/views/devices/profiles/add/index.js\":91067,\"./portainer/views/devices/profiles/edit/editProfileController.js\":21199,\"./portainer/views/devices/profiles/edit/index.js\":42041,\"./portainer/views/endpoint-registries/registries.js\":36582,\"./portainer/views/endpoint-registries/registriesController.js\":54886,\"./portainer/views/endpoints/access/endpointAccessController.js\":16962,\"./portainer/views/endpoints/create/createEndpointController.js\":21448,\"./portainer/views/endpoints/edit/endpointController.js\":80418,\"./portainer/views/endpoints/endpointsController.js\":81881,\"./portainer/views/endpoints/helpers.js\":13853,\"./portainer/views/endpoints/kvm/endpointKVMController.js\":58118,\"./portainer/views/endpoints/kvm/index.js\":63824,\"./portainer/views/groups/access/groupAccessController.js\":79405,\"./portainer/views/groups/create/createGroupController.js\":7249,\"./portainer/views/groups/edit/groupController.js\":9149,\"./portainer/views/groups/groupsController.js\":60160,\"./portainer/views/init/admin/initAdminController.js\":66246,\"./portainer/views/init/endpoint/initEndpointController.js\":88611,\"./portainer/views/logout/logoutController.js\":95580,\"./portainer/views/main/mainController.js\":85274,\"./portainer/views/registries/create/createRegistry.js\":38910,\"./portainer/views/registries/create/createRegistryController.js\":83137,\"./portainer/views/registries/edit/registry.js\":74927,\"./portainer/views/registries/edit/registryController.js\":66146,\"./portainer/views/registries/registriesController.js\":6009,\"./portainer/views/settings/authentication/settingsAuthenticationController.js\":39066,\"./portainer/views/settings/edge-compute/index.js\":43404,\"./portainer/views/settings/edge-compute/settingsEdgeComputeController.js\":51861,\"./portainer/views/settings/settingsController.js\":45459,\"./portainer/views/sidebar/sidebarController.js\":64936,\"./portainer/views/stacks/create/createStackController.js\":58e3,\"./portainer/views/stacks/edit/stackController.js\":84671,\"./portainer/views/stacks/stacksController.js\":78566,\"./portainer/views/tags/tagsController.js\":20125,\"./portainer/views/teams/edit/teamController.js\":31713,\"./portainer/views/teams/teamsController.js\":58206,\"./portainer/views/templates/templatesController.js\":76058,\"./portainer/views/users/edit/userController.js\":21436,\"./portainer/views/users/usersController.js\":79614,\"./setup-tests/global-setup.js\":68724,\"./vendors.js\":25518};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=19338},45119:function(e,t,n){\"use strict\";n.d(t,{E4:function(){return c},WR:function(){return d},Fv:function(){return u},bd:function(){return p},jU:function(){return m},VF:function(){return f},z$:function(){return v},L9:function(){return b}});var a=n(83161),r=n.n(a),i=(n(65562),n(57592),n(78433),n(36554),n(15363),n(15845),n(42240),n(25212),n(92429),n(40443),n(28001),n(62341),n(82459),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072),n(78322));function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var o,l=[\"docker\",\"kubernetes\",\"aci\",\"portainer\",\"edge\"];function c(e,t){g(o.PortainerInstanceID,e),g(o.PortainerVersion,t)}function d(e){g(o.PortainerUserRole,e)}function u(){h(o.PortainerUserRole)}function p(e){g(o.PortainerEndpointUserRole,e)}function m(){h(o.PortainerEndpointUserRole)}function g(e,t){f(\"setCustomDimension\",e,t)}function h(e){f(\"deleteCustomDimension\",e.toString())}function f(e){if(\"undefined\"!=typeof window){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];window._paq.push([e].concat(n))}}function v(){var e=(0,i.Fy)({select:function(e){return e.EnableTelemetry}});return{trackEvent:function(){e.data&&b.apply(void 0,arguments)}}}function b(e,t){var n=t.value,a=t.metadata,i=t.dimensions,o=t.category;if(n){var c=parseInt(n.toString(),10);n=Number.isNaN(c)?0:c}if(!o)throw new Error(\"missing category\");if(!l.includes(o))throw new Error(\"unsupported category\");var d=\"\";if(a){var u=Object.fromEntries(Object.entries(a).map((function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),i=a[0],o=a[1];return[r()(i),o]})));d=JSON.stringify(u).toLowerCase()}f(\"trackEvent\",o,e.toLowerCase(),d,n||\"\",i||{})}!function(e){e[e.PortainerVersion=1]=\"PortainerVersion\",e[e.PortainerInstanceID=2]=\"PortainerInstanceID\",e[e.PortainerUserRole=3]=\"PortainerUserRole\",e[e.PortainerEndpointUserRole=4]=\"PortainerEndpointUserRole\"}(o||(o={}))},99210:function(e,t,n){\"use strict\";n.d(t,{k:function(){return o}}),n(40958),n(78433),n(65562),n(50527);var a=n(6811),r=n(89935);function i(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function o(e){i(s,a,r,o,l,\"next\",e)}function l(e){i(s,a,r,o,l,\"throw\",e)}o(void 0)}))}}function o(e,t){return l.apply(this,arguments)}function l(){return(l=s(regeneratorRuntime.mark((function e(t,n){var i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get(c(t,n),{params:{\"api-version\":\"2018-02-01\"}});case 3:return i=e.sent,s=i.data.value,e.abrupt(\"return\",s);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to retrieve resource groups\",r.p);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function c(e,t,n){var a=\"/endpoints/\".concat(e,\"/azure/subscriptions/\").concat(t,\"/resourcegroups\");return n&&(a+=\"/\".concat(n)),a}},38914:function(e,t,n){\"use strict\";n.d(t,{t:function(){return o}}),n(40958),n(65562),n(50527);var a=n(6811),r=n(89935);function i(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function o(e){i(s,a,r,o,l,\"next\",e)}function l(e){i(s,a,r,o,l,\"throw\",e)}o(void 0)}))}}function o(e){return l.apply(this,arguments)}function l(){return(l=s(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get(c(t));case 3:return n=e.sent,i=n.data,e.abrupt(\"return\",i.value);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to retrieve subscriptions\",r.p);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function c(e,t){var n=\"/endpoints/\".concat(e,\"/azure/subscriptions?api-version=2016-06-01\");return t&&(n+=\"/\".concat(t)),n}},89935:function(e,t,n){\"use strict\";function a(e){var t,n,a,r=(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(a=n.error)||void 0===a?void 0:a.message)||\"Failed azure request\";return{error:new Error(r),details:r}}n.d(t,{p:function(){return a}})},20249:function(e,t,n){\"use strict\";n.d(t,{Zk:function(){return l},hO:function(){return d},wG:function(){return p},ri:function(){return g},VZ:function(){return f},dZ:function(){return b},bh:function(){return w},sc:function(){return S},yt:function(){return k}}),n(40958),n(65562),n(50527);var a=n(20023),r=n(6811),i=n(12944);function s(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){s(i,a,r,o,l,\"next\",e)}function l(e){s(i,a,r,o,l,\"throw\",e)}o(void 0)}))}}function l(e,t){return c.apply(this,arguments)}function c(){return(c=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.ZP.post(A(t,n,\"start\"),{},{transformResponse:i.genericHandler});case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.ZP.post(A(t,n,\"stop\"),{});case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t){return m.apply(this,arguments)}function m(){return(m=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.ZP.post(A(t,n,\"restart\"),{});case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return h.apply(this,arguments)}function h(){return(h=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.ZP.post(A(t,n,\"kill\"),{});case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return v.apply(this,arguments)}function v(){return(v=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.ZP.post(A(t,n,\"pause\"),{});case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){return y.apply(this,arguments)}function y(){return(y=o(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.ZP.post(A(t,n,\"unpause\"),{});case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,n){return x.apply(this,arguments)}function x(){return(x=o(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.ZP.post(A(t,n,\"rename\"),{},{params:{name:a},transformResponse:i.genericHandler});case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,n){return C.apply(this,arguments)}function C(){return(C=o(regeneratorRuntime.mark((function e(t,n,s){var o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.delete(A(t,n.Id),{params:{v:s?1:0,force:!0},transformResponse:i.genericHandler});case 3:if(o=e.sent,!(l=o.data)||!l.message){e.next=7;break}throw new a.Z(l.message);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new a.Z(\"Unable to remove container\",e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function k(e,t){return $.apply(this,arguments)}function $(){return($=o(regeneratorRuntime.mark((function e(t,n){var i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get(A(t,\"\",\"json\"),{params:{all:0,filters:n}});case 3:return i=e.sent,s=i.data,e.abrupt(\"return\",s);case 8:throw e.prev=8,e.t0=e.catch(0),new a.Z(\"Unable to retrieve containers\",e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function A(e,t,n){var a=\"/endpoints/\".concat(e,\"/docker/containers\");return t&&(a+=\"/\".concat(t)),n&&(a+=\"/\".concat(n)),a}},64858:function(e,t,n){\"use strict\";n.d(t,{If:function(){return p},v:function(){return m}}),n(65562),n(57592),n(66549),n(78495),n(78433),n(33262),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(20493),n(66076),n(77072);var a=n(95004),r=n(18480),i=n(87869),s=n(78322),o=n(66960),l=n(2629);function c(e,t){if(e){if(\"string\"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var u=[{label:\"Use default interval\",value:0},{label:\"5 seconds\",value:5},{label:\"10 seconds\",value:10},{label:\"30 seconds\",value:30},{label:\"5 minutes\",value:300},{label:\"1 hour\",value:3600},{label:\"1 day\",value:86400}];function p(e){var t=e.value,n=e.readonly,o=e.onChange,p=e.isDefaultHidden,m=void 0!==p&&p,g=e.label,h=void 0===g?\"Poll frequency\":g,f=e.tooltip,v=void 0===f?\"Interval used by this Edge agent to check in with the Portainer instance. Affects Edge environment management and Edge compute features.\":f,b=function(e){var t,n,r=(t=(0,a.useState)(u),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||c(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),i=r[0],o=r[1],l=(0,s.rV)((function(e){return e.EdgeAgentCheckinInterval}));return(0,a.useEffect)((function(){e&&o(u.filter((function(e){return 0!==e.value}))),e||void 0===l.data||o((function(e){var t=\"\".concat(l.data,\" seconds\"),n=e.find((function(e){return e.value===l.data}));return n&&(t=n.label),[{value:0,label:\"Use default interval (\".concat(t,\")\")}].concat(function(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}(e.slice(1)))}))}),[l.data,o,e]),i}(m);return(0,l.jsx)(r.N,{inputId:\"edge_checkin\",label:h,tooltip:v,children:(0,l.jsx)(i.P,{value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){o(parseInt(e.currentTarget.value,10))})),options:b,disabled:n})})}var m=(0,o.A)(p,[\"value\",\"onChange\",\"isDefaultHidden\",\"tooltip\",\"label\",\"readonly\"])},34125:function(e,t,n){\"use strict\";var a=n(96861),r=n(55478),i=n(82185),s=n(38592);a.ZP.use(s.Z).use(i.Z).use(r.Db).init({debug:!0,fallbackLng:\"en\",interpolation:{escapeValue:!1}}),t.Z=a.ZP},72138:function(e,t,n){\"use strict\";n.d(t,{p:function(){return i}}),n(77072),n(93742);var a=n(88606),r=n(30424);function i(e){return(0,a.Ry)().shape({ownership:(0,a.Z_)().oneOf(Object.values(r.X)).required(),authorizedUsers:(0,a.IX)((0,a.Rx)()),authorizedTeams:(0,a.IX)((0,a.Rx)())}).test(\"user-and-team\",e?\"You must specify at least one team or user.\":\"You must specify at least one team.\",(function(t){var n=t.ownership,a=t.authorizedTeams,i=t.authorizedUsers;return n!==r.X.RESTRICTED||(e?!!a&&!!i&&(a.length>0||i.length>0):!!a&&a.length>0)}))}},51819:function(e,t,n){\"use strict\";n.d(t,{V:function(){return F},e:function(){return L}}),n(65562),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var a,r=n(95004),i=n(75698),s=n(90635),o=n(50265),l=n(66960);!function(e){e[e.TeamLeader=1]=\"TeamLeader\",e[e.TeamMember=2]=\"TeamMember\"}(a||(a={}));var c=n(45565),d=n(30424),u=n(20810),p=n.n(u),m=(n(92429),n(99230),n(78495),n(39532)),g=n(41066),h=n(25128),f=n(64062),v=n(58639),b=n(2629);function y(e){var t,n,a=e.resourceControl,r=function(e,t){if(!t||t.Type===e)return null;var n=t.Type,a=t.ResourceId;return e===d.O.Container&&n===d.O.Service?(0,b.jsxs)(S,{tooltip:\"Access control applied on a service is also applied on each container of that service.\",children:[\"Access control on this resource is inherited from the following service:\",(0,b.jsx)(f.r,{to:\"docker.services.service\",params:{id:a},children:(0,g.truncate)(a)})]}):e===d.O.Volume&&n===d.O.Container?(0,b.jsxs)(S,{tooltip:\"Access control applied on a container created using a template is also applied on each volume associated to the container.\",children:[\"Access control on this resource is inherited from the following container:\",(0,b.jsx)(f.r,{to:\"docker.containers.container\",params:{id:a},children:(0,g.truncate)(a)})]}):n===d.O.Stack?(0,b.jsxs)(S,{tooltip:\"Access control applied on a stack is also applied on each resource in the stack.\",children:[(0,b.jsx)(\"span\",{className:\"space-right\",children:\"Access control on this resource is inherited from the following stack:\"}),x(a)]}):null}(e.resourceType,a),i=a||{},s=i.Ownership,o=void 0===s?d.X.ADMINISTRATORS:s,l=i.UserAccesses,u=void 0===l?[]:l,y=i.TeamAccesses,C=void 0===y?[]:y,k=(t=u.map((function(e){return e.UserId})),(0,c.U)(!1,t.length>0,(function(e){return 0===t.length?[]:p()(t.map((function(t){var n=e.find((function(e){return e.Id===t}));return null==n?void 0:n.Username})))}))),$=(n=C.map((function(e){return e.TeamId})),(0,v.y)(n.length>0,(function(e){return 0===n.length?[]:p()(n.map((function(t){var n=e.find((function(e){return e.Id===t}));return null==n?void 0:n.Name})))})));return(0,b.jsx)(\"table\",{className:\"table\",children:(0,b.jsxs)(\"tbody\",{children:[(0,b.jsxs)(\"tr\",{\"data-cy\":\"access-ownership\",children:[(0,b.jsx)(\"td\",{children:\"Ownership\"}),(0,b.jsxs)(\"td\",{children:[(0,b.jsx)(\"i\",{className:(0,m.Z)((0,g.ownershipIcon)(o),\"space-right\"),\"aria-hidden\":\"true\",\"aria-label\":\"ownership-icon\"}),(0,b.jsx)(\"span\",{\"aria-label\":\"ownership\",children:o}),(0,b.jsx)(h.u,{message:w(o)})]})]}),r,u.length>0&&(0,b.jsxs)(\"tr\",{\"data-cy\":\"access-authorisedUsers\",children:[(0,b.jsx)(\"td\",{children:\"Authorized users\"}),(0,b.jsx)(\"td\",{\"aria-label\":\"authorized-users\",children:k.data&&k.data.join(\", \")})]}),C.length>0&&(0,b.jsxs)(\"tr\",{\"data-cy\":\"access-authorisedTeams\",children:[(0,b.jsx)(\"td\",{children:\"Authorized teams\"}),(0,b.jsx)(\"td\",{\"aria-label\":\"authorized-teams\",children:$.data&&$.data.join(\", \")})]})]})})}function w(e){switch(e){case d.X.PRIVATE:return\"Management of this resource is restricted to a single user.\";case d.X.RESTRICTED:return\"This resource can be managed by a restricted set of users and/or teams.\";case d.X.PUBLIC:return\"This resource can be managed by any user with access to this environment.\";case d.X.ADMINISTRATORS:default:return\"This resource can only be managed by administrators.\"}}function x(e){if(!e||\"string\"!=typeof e)return e;var t=e.indexOf(\"_\");return t<0?e:e.substring(t+1)}function S(e){var t=e.children,n=e.tooltip;return(0,b.jsx)(\"tr\",{children:(0,b.jsxs)(\"td\",{colSpan:2,\"aria-label\":\"inheritance-message\",children:[(0,b.jsx)(\"i\",{className:\"fa fa-info-circle space-right\",\"aria-hidden\":\"true\"}),t,(0,b.jsx)(h.u,{message:n,position:\"bottom\"})]})})}n(40958),n(50527);var C=n(26256),k=n(51641),$=n(88606),A=n(56268),P=n(46980),I=n(46021),T=n(1004),N=n(88114),E=n(72138),R=n(15569);function D(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){D(i,a,r,s,o,\"next\",e)}function o(e){D(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function V(e){var t=e.resourceId,n=e.resourceType,a=e.resourceControl,r=e.onCancelClick,s=e.onUpdateSuccess,l=(0,o.aF)().isAdmin,c=(0,k.useMutation)((function(e){return(0,R.B)(n,t,e,a)}),{meta:{error:{title:\"Failure\",message:\"Unable to update access control\"}}}),d={accessControl:(0,N.d)(l,a)};return(0,b.jsx)(C.J9,{initialValues:d,onSubmit:function(e){return u.apply(this,arguments)},validateOnMount:!0,validateOnChange:!0,validationSchema:function(){return(0,$.Ry)({accessControl:(0,E.p)(l)})},children:function(e){var t=e.setFieldValue,n=e.values,a=e.isSubmitting,s=e.isValid,o=e.errors;return(0,b.jsxs)(C.l0,{className:(0,m.Z)(\"form-horizontal\",\"app-portainer-access-control-AccessControlPanel-AccessControlPanelForm-module__form\"),children:[(0,b.jsx)(T.o,{onChange:function(e){return t(\"accessControl\",e)},values:n.accessControl,isPublicVisible:!0,errors:o.accessControl}),(0,b.jsx)(\"div\",{className:\"form-group\",children:(0,b.jsxs)(\"div\",{className:\"col-sm-12\",children:[(0,b.jsx)(i.zx,{size:\"small\",color:\"default\",onClick:r,children:\"Cancel\"}),(0,b.jsx)(A.f,{size:\"small\",color:\"primary\",type:\"submit\",isLoading:a,disabled:!s,loadingText:\"Updating Ownership\",children:\"Update Ownership\"})]})})]})}});function u(){return(u=O(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.accessControl,e.next=3,U();case 3:if(e.sent){e.next=6;break}return e.abrupt(\"return\");case 6:c.mutate(n,{onSuccess:function(){(0,I.t5)(\"Access control successfully updated\"),s()}});case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}}function U(){return(0,P.l9)({title:\"Are you sure?\",message:\"Changing the ownership of this resource will potentially restrict its management to some users.\",buttons:{confirm:{label:\"Change ownership\",className:\"btn-primary\"}}})}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function F(e){var t,n,l=e.resourceControl,u=e.resourceType,p=e.disableOwnershipChange,m=e.resourceId,g=e.onUpdateSuccess,h=(t=(0,r.useReducer)((function(e){return!e}),!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),f=h[0],v=h[1],w=(0,o.aF)().isAdmin,x=function(){if(!l)return!1;var e=l.Type===d.O.Container&&u===d.O.Volume,t=l.Type===d.O.Service&&u===d.O.Container,n=l.Type===d.O.Stack&&u!==d.O.Stack;return e||t||n}(),S=function(e){var t=(0,o.aF)(),n=t.user,r=t.isAdmin,i=(0,c.f)(null==n?void 0:n.Id);if(!e||r||!n)return{isPartOfRestrictedUsers:!1,isLeaderOfAnyRestrictedTeams:!1};if(e.UserAccesses.some((function(e){return e.UserId===n.Id})))return{isPartOfRestrictedUsers:!0,isLeaderOfAnyRestrictedTeams:!1};var s=i.isSuccess&&function(e,t){return e.some((function(e){return e.Role===a.TeamLeader&&t.TeamAccesses.some((function(t){return t.TeamId===e.TeamID}))}))}(i.data,e);return{isPartOfRestrictedUsers:!1,isLeaderOfAnyRestrictedTeams:s}}(l),C=S.isPartOfRestrictedUsers,k=S.isLeaderOfAnyRestrictedTeams,$=p||x||!w&&!C&&!k;return(0,b.jsx)(\"div\",{className:\"row\",children:(0,b.jsx)(\"div\",{className:\"col-sm-12\",children:(0,b.jsxs)(s.$L,{children:[(0,b.jsx)(s.PI,{title:\"Access control\",icon:\"fa-eye\"}),(0,b.jsxs)(s.kh,{className:\"no-padding\",children:[(0,b.jsx)(y,{resourceType:u,resourceControl:l}),!$&&!f&&(0,b.jsx)(\"div\",{className:\"row\",children:(0,b.jsx)(\"div\",{children:(0,b.jsxs)(i.zx,{color:\"link\",onClick:v,children:[(0,b.jsx)(\"i\",{className:\"fa fa-edit space-right\",\"aria-hidden\":\"true\"}),\"Change ownership\"]})})}),f&&(0,b.jsx)(V,{resourceControl:l,onCancelClick:function(){return v()},resourceId:m,resourceType:u,onUpdateSuccess:function(){g(),v()}})]})]})})})}var L=(0,l.A)(F,[\"resourceControl\",\"resourceType\",\"disableOwnershipChange\",\"resourceId\",\"onUpdateSuccess\"])},1004:function(e,t,n){\"use strict\";n.d(t,{o:function(){return E}}),n(42240),n(65562),n(47771),n(78433),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var a=n(95004),r=n(56619),i=n(50265),s=n(81093),o=n(30424),l=(n(20493),n(54866)),c=n(18480),d=n(64062),u=n(2629);function p(e){var t=e.name,n=e.users,a=e.value,r=e.onChange,i=e.errors;return(0,u.jsx)(c.N,{label:\"Authorized users\",tooltip:n.length>0?\"You can select which user(s) will be able to manage this resource.\":void 0,inputId:\"users-selector\",errors:i,children:n.length>0?(0,u.jsx)(l.f,{name:t,users:n,onChange:r,value:a,inputId:\"users-selector\"}):(0,u.jsxs)(\"span\",{className:\"small text-muted\",children:[\"You have not yet created any users. Head over to the\",(0,u.jsx)(d.r,{to:\"portainer.users\",children:\"Users view\"}),\" to manage users.\"]})})}n(15845),n(7974),n(92429),n(57592);var m=n(69100);function g(e){var t=e.name,n=e.value,a=e.onChange,r=e.teams,i=e.dataCy,s=e.inputId,o=e.placeholder;return(0,u.jsx)(m.P,{name:t,isMulti:!0,getOptionLabel:function(e){return e.Name},getOptionValue:function(e){return String(e.Id)},options:r,value:r.filter((function(e){return n.includes(e.Id)})),closeMenuOnSelect:!1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a(e.map((function(e){return e.Id})))})),\"data-cy\":i,inputId:s,placeholder:o})}function h(e){var t=e.name,n=e.teams,a=e.value,r=e.overrideTooltip,i=e.onChange,s=e.errors;return(0,u.jsx)(c.N,{label:\"Authorized teams\",tooltip:n.length>0?r||\"You can select which team(s) will be able to manage this resource.\":void 0,inputId:\"teams-selector\",errors:s,children:n.length>0?(0,u.jsx)(g,{name:t,teams:n,onChange:i,value:a,inputId:\"teams-selector\"}):(0,u.jsxs)(\"span\",{className:\"small text-muted\",children:[\"You have not yet created any teams. Head over to the\",(0,u.jsx)(d.r,{to:\"portainer.teams\",children:\"Teams view\"}),\" to manage teams.\"]})})}var f=n(58639),v=n(45565);n(62341),n(82459),n(77236),n(33262),n(66076),n(77072);var b=n(20810),y=n.n(b),w=n(41066);function x(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||C(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function C(e,t){if(e){if(\"string\"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var $={value:o.X.PUBLIC,label:\"Public\",id:\"access_public\",description:\"I want any user with access to this environment to be able to manage this resource\",icon:(0,w.ownershipIcon)(\"public\")};function A(){return[(0,r.es)(\"access_administrators\",(0,w.ownershipIcon)(\"administrators\"),\"Administrators\",\"I want to restrict the management of this resource to administrators only\",o.X.ADMINISTRATORS),(0,r.es)(\"access_restricted\",(0,w.ownershipIcon)(\"restricted\"),\"Restricted\",\"I want to restrict the management of this resource to a set of users and/or teams\",o.X.RESTRICTED)]}function P(e){return y()([(0,r.es)(\"access_private\",(0,w.ownershipIcon)(\"private\"),\"Private\",\"I want to this resource to be manageable by myself only\",o.X.PRIVATE),e&&e.length>0&&(0,r.es)(\"access_restricted\",(0,w.ownershipIcon)(\"restricted\"),\"Restricted\",1===e.length?\"I want any member of my team (\".concat(e[0].Name,\")  to be able to manage this resource\"):\"I want to restrict the management of this resource to one or more of my teams\",o.X.RESTRICTED)])}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=e.values,n=e.onChange,l=e.isPublicVisible,c=void 0!==l&&l,d=e.errors,m=e.formNamespace,g=(0,i.aF)(),b=g.user,y=g.isAdmin,w=function(){var e=(0,f.y)(),t=(0,v.U)(!1);return{teams:e.data,users:t.data,isLoading:e.isLoading||t.isLoading}}(),C=w.users,k=w.teams,I=w.isLoading,N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=S((0,a.useState)([]),2),i=r[0],s=r[1];return(0,a.useEffect)((function(){var a=e?A():P(t);s(n?[].concat(x(a),[$]):a)}),[e,t,n]),i}(y,k,c),E=(0,a.useCallback)((function(e){n(T(T({},t),e))}),[t,n]);return!I&&k&&C?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(\"div\",{className:\"form-group\",children:(0,u.jsx)(\"div\",{className:\"col-sm-12\",children:(0,u.jsx)(r.S0,{radioName:R(\"ownership\"),value:t.ownership,options:N,onChange:function(e){return function(e){var n=t.authorizedTeams,a=t.authorizedUsers;e===o.X.PRIVATE&&b&&(a=[b.Id],n=[]),e===o.X.RESTRICTED&&(a=[],n=[]),E({ownership:e,authorizedTeams:n,authorizedUsers:a})}(e)}})})}),t.ownership===o.X.RESTRICTED&&(0,u.jsxs)(\"div\",{\"aria-label\":\"extra-options\",children:[y&&(0,u.jsx)(p,{name:R(\"authorizedUsers\"),users:C,onChange:function(e){return E({authorizedUsers:e})},value:t.authorizedUsers,errors:null==d?void 0:d.authorizedUsers}),(y||k.length>1)&&(0,u.jsx)(h,{name:R(\"authorizedTeams\"),teams:k,overrideTooltip:!y&&k.length>1?\"As you are a member of multiple teams, you can select which teams(s) will be able to manage this resource.\":void 0,onChange:function(e){return E({authorizedTeams:e})},value:t.authorizedTeams,errors:null==d?void 0:d.authorizedTeams}),\"string\"==typeof d&&(0,u.jsx)(\"div\",{className:\"form-group col-md-12\",children:(0,u.jsx)(s.X,{children:d})})]})]}):null;function R(e){return m?\"\".concat(m,\".\").concat(e):e}}},15569:function(e,t,n){\"use strict\";n.d(t,{B:function(){return d},e:function(){return u}}),n(40958),n(65562),n(50527),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var a=n(6811),r=n(88114);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){l(i,a,r,s,o,\"next\",e)}function o(e){l(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function d(e,t,n,a){var i=(0,r.w)(n);return a?p(a.Id,i):function(e,t,n){return g.apply(this,arguments)}(e,t,i)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=(0,r.w)(e,n);return p(t.Id,a)}function p(e,t){return m.apply(this,arguments)}function m(){return(m=c(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.put(h(t),n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0);case 8:case\"end\":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function g(){return(g=c(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post(h(),s(s({},r),{},{type:t,resourceId:n}));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0);case 8:case\"end\":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function h(e){var t=\"/resource_controls\";return e&&(t+=\"/\".concat(e)),t}},24989:function(e,t,n){\"use strict\";n.d(t,{w:function(){return s}});var a=n(30424);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,\"prototype\",{writable:!1}),e}var s=i((function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.Id=t.Id,this.Type=t.Type,this.ResourceId=t.ResourceId,this.UserAccesses=t.UserAccesses,this.TeamAccesses=t.TeamAccesses,this.Public=t.Public,this.System=t.System,this.Ownership=(n=t).Public?a.X.PUBLIC:1===n.UserAccesses.length&&0===n.TeamAccesses.length?a.X.PRIVATE:n.UserAccesses.length>1||n.TeamAccesses.length>0?a.X.RESTRICTED:a.X.ADMINISTRATORS}))},30424:function(e,t,n){\"use strict\";var a,r,i;n.d(t,{X:function(){return a},O:function(){return r}}),function(e){e.PUBLIC=\"public\",e.PRIVATE=\"private\",e.RESTRICTED=\"restricted\",e.ADMINISTRATORS=\"administrators\"}(a||(a={})),function(e){e[e.Container=1]=\"Container\",e[e.Service=2]=\"Service\",e[e.Volume=3]=\"Volume\",e[e.Network=4]=\"Network\",e[e.Secret=5]=\"Secret\",e[e.Stack=6]=\"Stack\",e[e.Config=7]=\"Config\",e[e.CustomTemplate=8]=\"CustomTemplate\",e[e.ContainerGroup=9]=\"ContainerGroup\"}(r||(r={})),function(e){e[e.ReadWriteAccessLevel=1]=\"ReadWriteAccessLevel\"}(i||(i={}))},88114:function(e,t,n){\"use strict\";n.d(t,{w:function(){return r},d:function(){return i}}),n(15845),n(7974),n(92429);var a=n(30424);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.ownership,r=e.authorizedTeams,i=e.authorizedUsers,s=n===a.X.ADMINISTRATORS,o=n===a.X.PUBLIC,l=i,c=r;return[a.X.ADMINISTRATORS,a.X.PUBLIC].includes(n)&&(l=[],c=[]),{administratorsOnly:s,public:o,users:l,teams:c,subResourcesIds:t}}function i(e,t){var n=(null==t?void 0:t.Ownership)||a.X.PRIVATE;e&&(t?n===a.X.PRIVATE&&(n=a.X.RESTRICTED):n=a.X.ADMINISTRATORS);var r=[],i=[];return t&&[a.X.PRIVATE,a.X.RESTRICTED].includes(n)&&(r=t.TeamAccesses.map((function(e){return e.TeamId})),i=t.UserAccesses.map((function(e){return e.UserId}))),{ownership:n,authorizedUsers:i,authorizedTeams:r}}},68112:function(e,t,n){\"use strict\";n.d(t,{d:function(){return c},j:function(){return d}});var a=n(20037);function r(e){return e?{url:\"\".concat(\"https://www.portainer.io/business-upsell?from=\").concat(e),limitedToBE:(0,a.vx)(e)}:{}}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.limitedToBE=!1,this.url=\"\"}var t,n;return t=e,(n=[{key:\"$onInit\",value:function(){var e=r(this.feature),t=e.url,n=e.limitedToBE;this.limitedToBE=n,this.url=t}}])&&i(t.prototype,n),Object.defineProperty(t,\"prototype\",{writable:!1}),e}(),o=n(39532),l=n(2629);function c(e){var t=e.featureId,n=e.children,a=e.showIcon,i=void 0===a||a,s=e.className,c=void 0===s?\"\":s,d=r(t),u=d.url;return d.limitedToBE?(0,l.jsxs)(\"a\",{className:(0,o.Z)(\"be-indicator\",c),href:u,target:\"_blank\",rel:\"noopener noreferrer\",children:[n,i&&(0,l.jsx)(\"i\",{className:\"fas fa-briefcase space-right be-indicator-icon\"}),(0,l.jsx)(\"span\",{className:\"be-indicator-label break-words\",children:\"Business Edition Feature\"})]}):null}var d={templateUrl:n(4483),controller:s,bindings:{feature:\"<\"},transclude:!0}},56619:function(e,t,n){\"use strict\";n.d(t,{S0:function(){return u},es:function(){return p},ZP:function(){return f}}),n(20493);var a=n(29274),r=n.n(a),i=n(66960),s=(n(92429),n(39532)),o=(n(78433),n(65562),n(57592),n(28001),n(62341),n(76204)),l=n(20037),c=n(2629);function d(e){var t=e.radioName,n=e.option,a=e.onChange,r=e.selectedValue,i=e.disabled,d=e.tooltip,u=(0,l.vx)(n.feature),p=\"box-selector-item-\".concat(t,\"-\").concat(n.id);return(0,c.jsxs)(\"div\",{className:(0,s.Z)(\"box-selector-item\",{business:u,limited:u}),\"data-tip\":!0,\"data-for\":p,\"tooltip-append-to-body\":\"true\",\"tooltip-placement\":\"bottom\",\"tooltip-class\":\"portainer-tooltip\",children:[(0,c.jsx)(\"input\",{type:\"radio\",name:t,id:n.id,checked:n.value===r,value:n.value,disabled:i,onChange:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return a(n.value,u)}))}),(0,c.jsxs)(\"label\",{htmlFor:n.id,\"data-cy\":\"\".concat(t,\"_\").concat(n.value),children:[u&&(0,c.jsx)(\"i\",{className:\"fas fa-briefcase limited-icon\"}),(0,c.jsxs)(\"div\",{className:\"boxselector_header\",children:[!!n.icon&&(0,c.jsx)(\"i\",{className:(0,s.Z)(n.icon,\"space-right\"),\"aria-hidden\":\"true\"}),n.label]}),(0,c.jsx)(\"p\",{className:\"box-selector-item-description\",children:n.description})]}),d&&(0,c.jsx)(o.Z,{place:\"bottom\",className:\"portainer-tooltip\",id:p,children:d})]})}function u(e){var t=e.radioName,n=e.value,a=e.options,r=e.onChange;return(0,c.jsx)(\"div\",{className:(0,s.Z)(\"boxselector_wrapper\",\"app-portainer-components-BoxSelector-BoxSelector-module__root\"),role:\"radiogroup\",children:a.map((function(e){return(0,c.jsx)(d,{radioName:t,option:e,onChange:r,selectedValue:n,disabled:e.disabled&&e.disabled(),tooltip:e.tooltip&&e.tooltip()},e.id)}))})}function p(e,t,n,a,r,i){return{id:e,icon:t,label:n,description:a,value:r,feature:i}}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var g={template:'<box-selector-react\\n    value=\"$ctrl.value\"\\n    on-change=\"$ctrl.handleChange\"\\n    options=\"$ctrl.options\"\\n    radio-name=\"$ctrl.radioName\"\\n  ></box-selector-react>',bindings:{value:\"<\",onChange:\"<\",options:\"<\",radioName:\"<\"},require:{formCtrl:\"^form\"},controller:function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.handleChange=this.handleChange.bind(this),this.$scope=t}var t,n;return e.$inject=[\"$scope\"],t=e,(n=[{key:\"handleChange\",value:function(e,t){var n=this;this.$scope.$evalAsync((function(){n.formCtrl.$setValidity(n.radioName,!t,n.formCtrl),n.onChange(e)}))}}])&&m(t.prototype,n),Object.defineProperty(t,\"prototype\",{writable:!1}),e}()},h=(0,i.F)(u,[\"value\",\"onChange\",\"options\",\"radioName\"]),f=r().module(\"app.portainer.component.box-selector\",[]).component(\"boxSelectorReact\",h).component(\"boxSelector\",g).name},60770:function(e,t,n){\"use strict\";n.d(t,{z:function(){return i}});var a=n(39532),r=n(2629);function i(e){var t=e.type,n=void 0===t?\"button\":t,i=e.color,o=void 0===i?\"primary\":i,l=e.size,c=void 0===l?\"small\":l,d=e.disabled,u=void 0!==d&&d,p=e.className,m=e.dataCy,g=e.onClick,h=e.title,f=e.children;return(0,r.jsx)(\"button\",{\"data-cy\":m,type:n,disabled:u,className:(0,a.Z)(\"btn\",\"btn-\".concat(o),s(c),p),onClick:g,title:h,children:f})}function s(e){switch(e){case\"large\":return\"btn-lg\";case\"medium\":return\"btn-md\";case\"xsmall\":return\"btn-xs\";default:return\"btn-sm\"}}},43164:function(e,t,n){\"use strict\";n.d(t,{h:function(){return i}});var a=n(39532),r=n(2629);function i(e){var t=e.size,n=void 0===t?\"small\":t,i=e.children,o=e.className;return(0,r.jsx)(\"div\",{className:(0,a.Z)(\"btn-group\",s(n),o),role:\"group\",children:i})}function s(e){switch(e){case\"xsmall\":return\"btn-group-xs\";case\"large\":return\"btn-group-lg\";default:return\"\"}}},6154:function(e,t,n){\"use strict\";n.d(t,{q:function(){return o}});var a=n(39532),r=n(60770),i=n(10115),s=n(2629);function o(e){var t=e.copyText,n=e.fadeDelay,o=void 0===n?1e3:n,l=e.displayText,c=void 0===l?\"copied\":l,d=e.className,u=e.children,p=(0,i.F)(t,o),m=p.handleCopy,g=p.copiedSuccessfully;return(0,s.jsxs)(\"div\",{className:\"app-portainer-components-Button-CopyButton-CopyButton-module__container\",children:[(0,s.jsxs)(r.z,{className:d,size:\"small\",onClick:m,title:\"Copy Value\",type:\"button\",children:[(0,s.jsx)(\"i\",{className:\"fa fa-copy space-right\",\"aria-hidden\":\"true\"}),\" \",u]}),(0,s.jsxs)(\"span\",{className:(0,a.Z)(g&&\"app-portainer-components-Button-CopyButton-CopyButton-module__fadeout\",\"app-portainer-components-Button-CopyButton-CopyButton-module__display-text\",\"space-left\"),children:[(0,s.jsx)(\"i\",{className:\"fa fa-check\",\"aria-hidden\":\"true\"}),c&&(0,s.jsx)(\"span\",{className:\"space-left\",children:c})]})]})}},10115:function(e,t,n){\"use strict\";n.d(t,{F:function(){return s}}),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var a=n(95004);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=(0,a.useState)(!1),i=r(n,2),s=i[0],o=i[1];function l(){if(navigator.clipboard)navigator.clipboard.writeText(e);else{var t=document.createElement(\"textarea\");t.value=e,document.body.appendChild(t),t.select(),document.execCommand(\"copy\"),t.hidden=!0,document.body.removeChild(t)}o(!0)}return(0,a.useEffect)((function(){var e=setTimeout((function(){return o(!1)}),t);return function(){clearTimeout(e)}}),[s,t]),{handleCopy:l,copiedSuccessfully:s}}},56268:function(e,t,n){\"use strict\";n.d(t,{f:function(){return c}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var a=n(60770),r=n(2629),i=[\"loadingText\",\"isLoading\",\"disabled\",\"type\",\"children\"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.loadingText,n=e.isLoading,s=e.disabled,l=e.type,c=void 0===l?\"submit\":l,d=e.children,u=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,i);return(0,r.jsx)(a.z,o(o({},u),{},{type:c,disabled:s||n,children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(\"i\",{className:\"fa fa-circle-notch fa-spin space-right\",\"aria-label\":\"loading\",\"aria-hidden\":\"true\"}),t]}):d}))}},75698:function(e,t,n){\"use strict\";n.d(t,{HS:function(){return s},zx:function(){return a.z},hE:function(){return o.h}});var a=n(60770),r=n(39532),i=n(2629);function s(e){var t=e.label,n=e.onClick,a=e.className;return(0,i.jsxs)(\"button\",{className:(0,r.Z)(a,\"label\",\"label-default\",\"interactive\",\"app-portainer-components-Button-AddButton-module__add-button\"),type:\"button\",onClick:n,children:[(0,i.jsx)(\"i\",{className:\"fa fa-plus-circle space-right\",\"aria-hidden\":\"true\"}),\" \",t]})}var o=n(43164)},2071:function(e,t,n){\"use strict\";n.d(t,{E:function(){return o}});var a=n(39532),r=n(75698),i=n(10115),s=n(2629);function o(e){var t=e.children,n=e.showCopyButton,o=(0,i.F)(t),l=o.handleCopy,c=o.copiedSuccessfully;return(0,s.jsxs)(\"div\",{className:\"app-portainer-components-Code-Code-module__root\",children:[(0,s.jsx)(\"code\",{className:\"app-portainer-components-Code-Code-module__code\",children:t}),n&&(0,s.jsx)(r.zx,{color:\"link\",className:\"app-portainer-components-Code-Code-module__copy-button\",onClick:l,children:(0,s.jsx)(\"i\",{className:(0,a.Z)(\"fa\",c?\"fa-check green-icon\":\"fa-copy \"),\"aria-hidden\":\"true\"})})]})}},44931:function(e,t,n){\"use strict\";n.d(t,{$:function(){return s}});var a=n(75698),r=n(90635),i=n(2629);function s(e){var t=e.title,n=e.onDismiss,s=e.wrapperStyle,o=e.bodyClassName,l=e.children;return(0,i.jsx)(\"div\",{className:\"row\",children:(0,i.jsx)(\"div\",{className:\"col-sm-12\",children:(0,i.jsx)(r.$L,{children:(0,i.jsx)(r.kh,{className:o,children:(0,i.jsxs)(\"div\",{style:s,children:[t&&(0,i.jsxs)(\"div\",{className:\"col-sm-12 form-section-title\",children:[(0,i.jsx)(\"span\",{style:{float:\"left\"},children:t}),!!n&&(0,i.jsx)(\"span\",{className:\"small\",style:{float:\"right\"},\"ng-if\":\"dismissAction\",children:(0,i.jsxs)(a.zx,{color:\"link\",onClick:function(){return n()},children:[(0,i.jsx)(\"i\",{className:\"fa fa-times\"}),\" dismiss\"]})})]}),(0,i.jsx)(\"div\",{children:l})]})})})})})}},40516:function(e,t,n){\"use strict\";n.d(t,{$:function(){return a.$},N:function(){return r.InformationPanelAngular}});var a=n(44931),r=n(87005)},64062:function(e,t,n){\"use strict\";n.d(t,{r:function(){return c}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var a=n(89023),r=n(2629),i=[\"title\",\"children\"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.title,n=void 0===t?\"\":t,s=e.children,l=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,i);return(0,r.jsx)(a.UISref,o(o({},l),{},{children:(0,r.jsx)(\"a\",{title:n,children:s})}))}},90130:function(e,t,n){\"use strict\";n.d(t,{o:function(){return i}}),n(78495),n(65562),n(92429);var a=n(39532),r=n(2629);function i(e){var t=e.options,n=e.selectedId,i=e.onSelect,s=void 0===i?function(){}:i,o=t.find((function(e){return e.id===n}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(\"ul\",{className:\"nav nav-tabs\",children:t.map((function(e){return(0,r.jsx)(\"li\",{className:(0,a.Z)((t={active:e.id===n},i=\"app-portainer-components-NavTabs-NavTabs-module__parent\",s=!e.children,i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t)),children:(0,r.jsx)(\"a\",{onClick:function(){return l(e)},onKeyDown:function(t){\"Enter\"!==t.key&&\" \"!==t.key||l(e)},role:\"button\",tabIndex:0,children:e.label})},e.id);var t,i,s}))}),o&&o.children&&(0,r.jsx)(\"div\",{className:\"tab-content\",children:o.children})]});function l(e){e.children&&s(e.id)}}},58852:function(e,t,n){\"use strict\";n.d(t,{mr:function(){return I},i1:function(){return T}}),n(20493);var a=n(29274),r=n.n(a),i=(n(92429),n(42108),n(95004)),s=n(64062),o=n(2629);function l(e){var t=e.breadcrumbs;return(0,o.jsx)(\"div\",{className:\"breadcrumb-links\",children:t.map((function(e,n){return(0,o.jsxs)(i.Fragment,{children:[c(e),n!==t.length-1?\" > \":\"\"]},n)}))})}function c(e){return e.link?(0,o.jsx)(s.r,{to:e.link,params:e.linkParams,children:e.label}):e.label}var d=n(89023),u=n(75698),p=n(65973),m=(0,i.createContext)(null);function g(){if(null==(0,i.useContext)(m))throw new Error(\"Should be nested inside a HeaderContainer component\")}function h(e){var t=e.children;return(0,o.jsx)(m.Provider,{value:!0,children:(0,o.jsxs)(\"div\",{className:\"row header\",children:[(0,o.jsx)(\"div\",{id:\"loadingbar-placeholder\"}),(0,o.jsx)(\"div\",{className:\"col-xs-12\",children:(0,o.jsx)(\"div\",{className:\"meta\",children:t})})]})})}var f={transclude:!0,templateUrl:p},v=n(39532),b=n(50265),y=n(7255),w=\"app-portainer-components-PageHeader-HeaderContent-module__link\",x=\"app-portainer-components-PageHeader-HeaderContent-module__link-text\",S=\"app-portainer-components-PageHeader-HeaderContent-module__link-icon\";function C(e){var t=e.children;g();var n=(0,b.aF)().user;return(0,o.jsxs)(\"div\",{className:\"breadcrumb-links\",children:[(0,o.jsx)(\"div\",{className:\"pull-left\",children:t}),n&&!window.ddExtension&&(0,o.jsxs)(\"div\",{className:(0,v.Z)(\"pull-right\",\"app-portainer-components-PageHeader-HeaderContent-module__user-links\"),children:[(0,o.jsxs)(s.r,{to:\"portainer.account\",className:w,children:[(0,o.jsx)(\"i\",{className:(0,v.Z)(\"fa fa-wrench\",S),\"aria-hidden\":\"true\"}),(0,o.jsx)(\"span\",{className:x,children:\"my account\"})]}),(0,o.jsxs)(s.r,{to:\"portainer.logout\",params:{performApiLogout:!0},className:(0,v.Z)(\"text-danger\",w),\"data-cy\":\"template-logoutButton\",children:[(0,o.jsx)(\"i\",{className:(0,v.Z)(\"fa fa-sign-out-alt\",S),\"aria-hidden\":\"true\"}),(0,o.jsx)(\"span\",{className:x,children:\"log out\"})]})]})]})}var k={requires:\"^rdHeader\",transclude:!0,templateUrl:n(8019),controller:y.default},$=n(21578);function A(e){var t=e.title,n=e.children;g();var a=(0,b.aF)().user;return(0,o.jsxs)(\"div\",{className:\"page white-space-normal\",children:[t,(0,o.jsx)(\"span\",{className:\"header_title_content\",children:n}),a&&!window.ddExtension&&(0,o.jsxs)(\"span\",{className:\"pull-right user-box\",children:[(0,o.jsx)(\"i\",{className:\"fa fa-user-circle\",\"aria-hidden\":\"true\"}),a.Username]})]})}var P={requires:\"^rdHeader\",bindings:{titleText:\"@\"},transclude:!0,templateUrl:n(75014),controller:$.default};function I(e){var t=e.title,n=e.breadcrumbs,a=void 0===n?[]:n,r=e.reload,i=(0,d.useRouter)();return(0,o.jsxs)(h,{children:[(0,o.jsx)(A,{title:t,children:r&&(0,o.jsx)(u.zx,{color:\"link\",size:\"medium\",onClick:function(){return i.stateService.reload()},className:\"app-portainer-components-PageHeader-PageHeader-module__reloadButton\",children:(0,o.jsx)(\"i\",{className:\"fa fa-sync\",\"aria-hidden\":\"true\"})})}),(0,o.jsx)(C,{children:(0,o.jsx)(l,{breadcrumbs:a})})]})}var T=r().module(\"portainer.app.components.header\",[]).component(\"rdHeader\",f).component(\"rdHeaderContent\",k).component(\"rdHeaderTitle\",P).name},83294:function(e,t,n){\"use strict\";n.d(t,{a:function(){return i}});var a=n(39532),r=n(2629);function i(e){var t=e.color,n=void 0===t?\"orange\":t,i=e.children;return(0,r.jsxs)(\"p\",{className:\"text-muted small\",children:[(0,r.jsx)(\"i\",{\"aria-hidden\":\"true\",className:(0,a.Z)(\"fa fa-exclamation-circle\",\"\".concat(n,\"-icon\"),\"space-right\")}),i]})}},25128:function(e,t,n){\"use strict\";n.d(t,{u:function(){return s},P:function(){return o}});var a=n(76204),r=n(39532),i=n(2629);function s(e){var t=e.message,n=e.position,s=void 0===n?\"bottom\":n;return(0,i.jsxs)(\"span\",{className:\"interactive\",children:[(0,i.jsx)(\"i\",{className:(0,r.Z)(\"fa fa-question-circle blue-icon\",\"app-portainer-components-Tip-Tooltip-Tooltip-module__icon\"),\"aria-hidden\":\"true\",\"data-tip\":t}),(0,i.jsx)(a.Z,{multiline:!0,type:\"info\",place:s,effect:\"solid\",className:\"app-portainer-components-Tip-Tooltip-Tooltip-module__tooltip\",arrowColor:\"transparent\"})]})}var o={bindings:{message:\"@\",position:\"@\"},template:'<span\\n    class=\"interactive\"\\n    tooltip-append-to-body=\"true\"\\n    tooltip-placement=\"{{$ctrl.position}}\"\\n    tooltip-class=\"portainer-tooltip\"\\n    uib-tooltip=\"{{$ctrl.message}}\"\\n  >\\n    <i\\n      class=\"fa fa-question-circle blue-icon tooltip-icon\"\\n      aria-hidden=\"true\"\\n    ></i>\\n  </span>'}},54866:function(e,t,n){\"use strict\";n.d(t,{f:function(){return i}}),n(20493),n(66549),n(65562),n(15845),n(7974),n(92429),n(57592);var a=n(69100),r=n(2629);function i(e){var t=e.name,n=e.value,i=e.onChange,s=e.users,o=e.dataCy,l=e.inputId,c=e.placeholder;return(0,r.jsx)(a.P,{isMulti:!0,name:t,getOptionLabel:function(e){return e.Username},getOptionValue:function(e){return\"\".concat(e.Id)},options:s,value:s.filter((function(e){return n.includes(e.Id)})),closeMenuOnSelect:!1,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return i(e.map((function(e){return e.Id})))})),\"data-cy\":o,inputId:l,placeholder:c})}},27749:function(e,t,n){\"use strict\";n.d(t,{d:function(){return s},w:function(){return o}});var a=n(39532),r=n(66960),i=n(2629);function s(e){var t=e.message;return(0,i.jsxs)(\"div\",{className:(0,a.Z)(\"row\",\"app-portainer-components-ViewLoading-ViewLoading-module__root\"),children:[(0,i.jsxs)(\"div\",{className:\"sk-fold\",children:[(0,i.jsx)(\"div\",{className:\"sk-fold-cube\"}),(0,i.jsx)(\"div\",{className:\"sk-fold-cube\"}),(0,i.jsx)(\"div\",{className:\"sk-fold-cube\"}),(0,i.jsx)(\"div\",{className:\"sk-fold-cube\"})]}),t&&(0,i.jsxs)(\"span\",{className:\"app-portainer-components-ViewLoading-ViewLoading-module__message\",children:[t,(0,i.jsx)(\"i\",{className:\"fa fa-cog fa-spin space-left\"})]})]})}var o=(0,r.A)(s,[\"message\"])},42877:function(e,t,n){\"use strict\";n.d(t,{a:function(){return c}}),n(92429),n(66549),n(65562),n(78433),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(66076),n(33262),n(20493),n(77072);var a=n(39532),r=n(30335),i=n(88818),s=n(54136),o=n(2629);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function c(e){var t=e.columns,n=e.onChange,c=e.value;return(0,s.S)(),(0,o.jsx)(r.v2,{className:\"setting\",children:function(e){var s=e.isExpanded;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(r.j2,{className:(0,a.Z)(\"table-setting-menu-btn\",{\"setting-active\":s}),children:[(0,o.jsx)(\"i\",{className:\"fa fa-columns\",\"aria-hidden\":\"true\"}),\" Columns\"]}),(0,o.jsx)(r.qy,{children:(0,o.jsxs)(\"div\",{className:\"tableMenu\",children:[(0,o.jsx)(\"div\",{className:\"menuHeader\",children:\"Show / Hide Columns\"}),(0,o.jsx)(\"div\",{className:\"menuContent\",children:t.map((function(e){return(0,o.jsx)(\"div\",{children:(0,o.jsx)(i.X,{checked:e.isVisible,label:e.Header,id:\"visibility_\".concat(e.id),onChange:function(t){return a=e.id,r=t.target.checked,void n(r?c.filter((function(e){return e!==a})):[].concat((i=c,function(e){if(Array.isArray(e))return l(e)}(i)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(i)||function(e,t){if(e){if(\"string\"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(i)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),[a]));var a,r,i}})},e.id)}))})]})})]})}})}},55552:function(e,t,n){\"use strict\";n.d(t,{t:function(){return l}}),n(42240),n(65562),n(89024),n(77236),n(47771),n(98191),n(66076),n(92429),n(78433),n(15845),n(7974),n(66549),n(28001),n(62341),n(82459),n(33262),n(20493),n(77072);var a=n(39532),r=n(95004),i=n(30335),s=n(2629);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function l(e){var t=e.column,n=t.filterValue,a=t.setFilter,i=t.preFilteredRows,o=t.id,l=(0,r.useMemo)((function(){var e=new Set;return i.forEach((function(t){e.add(t.values[o])})),Array.from(e)}),[o,i]);return(0,s.jsx)(c,{options:l,filterKey:o,value:n,onChange:a})}function c(e){var t=e.options,n=e.value,r=void 0===n?[]:n,l=e.filterKey,c=e.onChange,d=r.length>0;return(0,s.jsx)(\"div\",{children:(0,s.jsxs)(i.v2,{children:[(0,s.jsxs)(i.j2,{className:(0,a.Z)(\"table-filter\",{\"filter-active\":d}),children:[\"Filter\",(0,s.jsx)(\"i\",{className:(0,a.Z)(\"fa\",\"space-left\",d?\"fa-check\":\"fa-filter\"),\"aria-hidden\":\"true\"})]}),(0,s.jsx)(i.YI,{className:\"dropdown-menu\",children:(0,s.jsxs)(\"div\",{className:\"tableMenu\",children:[(0,s.jsx)(\"div\",{className:\"menuHeader\",children:\"Filter by state\"}),(0,s.jsx)(\"div\",{className:\"menuContent\",children:t.map((function(e,t){return(0,s.jsxs)(\"div\",{className:\"md-checkbox\",children:[(0,s.jsx)(\"input\",{id:\"filter_\".concat(l,\"_\").concat(t),type:\"checkbox\",checked:r.includes(e),onChange:function(){return function(e){r.includes(e)?c(r.filter((function(t){return t!==e}))):c([].concat((t=r,function(e){if(Array.isArray(e))return o(e)}(t)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(t)||function(e,t){if(e){if(\"string\"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),[e]));var t}(e)}}),(0,s.jsx)(\"label\",{htmlFor:\"filter_\".concat(l,\"_\").concat(t),children:e})]},t)}))})]})})]})})}},96973:function(e,t,n){\"use strict\";n.d(t,{E:function(){return s},I:function(){return o}}),n(65562),n(57592),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var a=n(73817),r=n(2629);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function s(e){var t=e.value,n=e.placeholder,a=void 0===n?\"Search...\":n,i=e.onChange;return(0,r.jsxs)(\"div\",{className:\"searchBar\",children:[(0,r.jsx)(\"i\",{className:\"fa fa-search searchIcon\",\"aria-hidden\":\"true\"}),(0,r.jsx)(\"input\",{type:\"text\",className:\"searchInput\",value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return i(e.target.value)})),placeholder:a})]})}function o(e){var t,n,r=function(e){return\"datatable_text_filter_\".concat(e)}(e),s=(t=(0,a._)(r,\"\",sessionStorage),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}());return[s[0],s[1]]}},7346:function(e,t,n){\"use strict\";n.d(t,{V:function(){return r}});var a=n(2629);function r(e){var t=e.value;return 0!==t?(0,a.jsxs)(\"div\",{className:\"infoBar\",children:[t,\" item(s) selected\"]}):null}},54136:function(e,t,n){\"use strict\";n.d(t,{S:function(){return o},x:function(){return l}});var a=n(95004),r=n(90635),i=n(2629),s=(0,a.createContext)(null);function o(){if(null==(0,a.useContext)(s))throw new Error(\"Should be nested inside a TableContainer component\")}function l(e){var t=e.children;return(0,i.jsx)(s.Provider,{value:!0,children:(0,i.jsx)(\"div\",{className:\"datatable\",children:(0,i.jsx)(r.$L,{children:(0,i.jsx)(r.kh,{className:\"no-padding\",children:t})})})})}},90476:function(e,t,n){\"use strict\";n.d(t,{y:function(){return i}});var a=n(54136),r=n(2629);function i(e){var t=e.children;return(0,a.S)(),(0,r.jsx)(\"footer\",{className:\"footer\",children:t})}},86557:function(e,t,n){\"use strict\";n.d(t,{k:function(){return c}}),n(65562),n(57592),n(15363),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var a=n(39532),r=n(95004),i=n(88818),s={alertVisible:\"app-portainer-components-datatables-components-TableSettingsMenuAutoRefresh-module__alert-visible\",alertHidden:\"app-portainer-components-datatables-components-TableSettingsMenuAutoRefresh-module__alert-hidden\"},o=n(2629);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function c(e){var t,n,c=e.onChange,d=e.value,u=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),p=u[0],m=u[1],g=d>0;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.X,{id:\"settings-auto-refresh\",label:\"Auto refresh\",checked:g,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return c(e.target.checked?10:0)}))}),g&&(0,o.jsxs)(\"div\",{children:[(0,o.jsx)(\"label\",{htmlFor:\"settings_refresh_rate\",children:\"Refresh rate\"}),(0,o.jsxs)(\"select\",{id:\"settings_refresh_rate\",className:\"small-select\",value:d,onChange:function(e){return function(e){c(Number(e)),m(!0)}(e.target.value)},children:[(0,o.jsx)(\"option\",{value:10,children:\"10s\"}),(0,o.jsx)(\"option\",{value:30,children:\"30s\"}),(0,o.jsx)(\"option\",{value:60,children:\"1min\"}),(0,o.jsx)(\"option\",{value:120,children:\"2min\"}),(0,o.jsx)(\"option\",{value:300,children:\"5min\"})]}),(0,o.jsx)(\"span\",{className:(0,a.Z)(p?s.alertVisible:s.alertHidden,s.check),onTransitionEnd:function(){return m(!1)},children:(0,o.jsx)(\"i\",{id:\"refreshRateChange\",className:\"fa fa-check green-icon\",\"aria-hidden\":\"true\",style:{marginTop:\"7px\"}})})]})]})}},43321:function(e,t,n){\"use strict\";function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return 0===n.length||0===t.length?e:e.filter((function(e){var a=e.values[t[0]];return n.includes(a)}))}n.d(t,{m:function(){return a}}),n(66549),n(65562),n(42240),n(47771),n(15845),n(7974)},15362:function(e,t,n){\"use strict\";n.d(t,{iA:function(){return S},p2:function(){return s},xJ:function(){return r.x},KA:function(){return b},SC:function(){return y},I6:function(){return m},lw:function(){return g},MQ:function(){return o}});var a=n(39532),r=n(54136),i=n(2629);function s(e){var t=e.children,n=e.className;return(0,r.S)(),(0,i.jsx)(\"div\",{className:(0,a.Z)(\"actionBar\",n),children:t})}function o(e){var t=e.children;return(0,r.S)(),(0,i.jsx)(\"div\",{className:\"settings\",children:t})}var l=n(75698),c=\"app-portainer-components-datatables-components-TableHeaderCell-module__sort-icon\";function d(e){var t=e.headerProps,n=t.className,a=t.role,s=t.style,o=e.canSort,l=e.render,c=e.onSortClick,d=e.isSorted,p=e.isSortedDesc,m=e.canFilter,g=e.renderFilter;return(0,r.S)(),(0,i.jsxs)(\"th\",{role:a,style:s,className:n,children:[(0,i.jsx)(u,{canSort:o,onClick:c,isSorted:d,isSortedDesc:p,children:l()}),m?g():null]})}function u(e){var t=e.canSort,n=e.children,r=e.onClick,s=e.isSorted,o=e.isSortedDesc;return t?(0,i.jsxs)(l.zx,{color:\"link\",type:\"button\",onClick:function(){return r(!o)},className:\"sortable\",children:[(0,i.jsx)(\"span\",{className:\"sortable-label\",children:n}),s?(0,i.jsx)(\"i\",{className:(0,a.Z)(\"fa\",\"space-left\",o?\"fa-sort-alpha-up\":\"fa-sort-alpha-down\",c),\"aria-hidden\":\"true\"}):(0,i.jsx)(\"div\",{className:c})]}):(0,i.jsx)(i.Fragment,{children:n})}var p=n(30335);function m(e){var t=e.quickActions,n=e.children;return(0,r.S)(),(0,i.jsx)(p.v2,{className:\"setting\",children:function(e){var r=e.isExpanded;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(p.j2,{className:(0,a.Z)(\"table-setting-menu-btn\",{\"setting-active\":r}),children:[(0,i.jsx)(\"i\",{className:\"fa fa-cog\",\"aria-hidden\":\"true\"}),\" Settings\"]}),(0,i.jsx)(p.qy,{children:(0,i.jsxs)(\"div\",{className:\"tableMenu\",children:[(0,i.jsx)(\"div\",{className:\"menuHeader\",children:\"Table settings\"}),(0,i.jsx)(\"div\",{className:\"menuContent\",children:n}),t&&(0,i.jsxs)(\"div\",{children:[(0,i.jsx)(\"div\",{className:\"menuHeader\",children:\"Quick actions\"}),(0,i.jsx)(\"div\",{className:\"menuContent\",children:t})]})]})})]})}})}function g(e){var t=e.icon,n=e.label,s=e.children;return(0,r.S)(),(0,i.jsxs)(\"div\",{className:\"toolBar\",children:[(0,i.jsxs)(\"div\",{className:\"toolBarTitle\",children:[(0,i.jsx)(\"i\",{className:(0,a.Z)(\"space-right\",\"fa\",t),\"aria-hidden\":\"true\"}),n]}),s]})}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=e.headers,n=e.onSortChange,a=e.className,s=e.role,o=e.style;return(0,r.S)(),(0,i.jsx)(\"tr\",{className:a,role:s,style:o,children:t.map((function(e){return(0,i.jsx)(d,{headerProps:f({},e.getHeaderProps({className:e.className,style:{width:e.disableResizing?e.width:\"\"}})),canSort:e.canSort,onSortClick:function(t){e.toggleSortBy(t),n&&n(e.id,t)},isSorted:e.isSorted,isSortedDesc:e.isSortedDesc,render:function(){return e.render(\"Header\")},canFilter:!e.disableFilters,renderFilter:function(){return e.render(\"Filter\")}},e.id)}))})}function y(e){var t=e.cells,n=e.className,a=e.role,s=e.style;return(0,r.S)(),(0,i.jsx)(\"tr\",{className:n,role:a,style:s,children:t.map((function(e){var t=e.getCellProps({className:e.className});return(0,i.jsx)(\"td\",{className:t.className,role:t.role,style:t.style,children:e.render(\"Cell\")},t.key)}))})}function w(e){var t=e.children;return(0,i.jsx)(\"tr\",{children:(0,i.jsx)(\"td\",{colSpan:Number.MAX_SAFE_INTEGER,className:\"text-center text-muted\",children:t})})}n(92429),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176),n(43119),n(15363);var x=n(90476),S=function(e){var t=e.children,n=e.className,s=e.role,o=e.style;return(0,r.S)(),(0,i.jsx)(\"div\",{className:\"table-responsive\",children:(0,i.jsx)(\"table\",{className:(0,a.Z)(\"table table-hover table-filters nowrap-cells\",n),role:s,style:o,children:t})})};S.Actions=s,S.TitleActions=o,S.Container=r.x,S.HeaderCell=d,S.SettingsMenu=m,S.Title=g,S.Row=y,S.HeaderRow=b,S.Content=function(e){var t=e.isLoading,n=void 0!==t&&t,a=e.rows,r=e.emptyContent,s=void 0===r?\"No items available\":r,o=e.prepareRow,l=e.renderRow;return n?(0,i.jsx)(w,{children:\"Loading...\"}):a.length?(0,i.jsx)(i.Fragment,{children:a.map((function(e){o(e);var t=e.getRowProps(),n=t.key,a=t.className,r=t.role,i=t.style;return l(e,{key:n,className:a,role:r,style:i})}))}):(0,i.jsx)(w,{children:s})},S.Footer=x.y},56713:function(e,t,n){\"use strict\";n.d(t,{i:function(){return l}}),n(50033),n(65562),n(98191),n(19992),n(28001),n(66549),n(47097),n(62176);var a=n(95004),r=n(4450);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){e.getToggleRowSelectedProps=[c],e.getToggleAllRowsSelectedProps=[d],e.getToggleAllPageRowsSelectedProps=[u],e.stateReducers.push(p),e.useInstance.push(m),e.prepareRow.push(g)}function c(e,t){var n=t.instance,a=t.row,r=n.manualRowSelectedKey,i=void 0===r?\"isSelected\":r;return[e,{onChange:function(e){a.toggleRowSelected(e.target.checked)},style:{cursor:\"pointer\"},checked:!(!a.original||!a.original[i])||a.isSelected,title:\"Toggle Row Selected\",indeterminate:a.isSomeSelected,disabled:!n.isRowSelectable(a)}]}function d(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllRowsSelected(e.target.checked)},style:{cursor:\"pointer\"},checked:n.isAllRowsSelected,title:\"Toggle All Rows Selected\",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]}function u(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:\"pointer\"},checked:n.isAllPageRowsSelected,title:\"Toggle All Current Page Rows Selected\",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(e){var t=e.id;return n.state.selectedRowIds[t]})))}]}function p(e,t,n,a){if(t.type===r.actions.init)return s(s({},e),{},{selectedRowIds:{}});if(t.type===r.actions.resetSelectedRows)return s(s({},e),{},{selectedRowIds:(null==a?void 0:a.initialState.selectedRowIds)||{}});if(t.type===r.actions.toggleAllRowsSelected){var i=t.value;if(!a)return e;var o=a.isAllRowsSelected,l=a.rowsById,c=a.nonGroupedRowsById,d=void 0===c?l:c,u=a.isRowSelectable,p=void 0===u?f:u,m=void 0!==i?i:!o,g=s({},e.selectedRowIds);return Object.keys(d).forEach((function(e){if(m){var t=l[e];p(t)&&(g[e]=!0)}else delete g[e]})),s(s({},e),{},{selectedRowIds:g})}if(t.type===r.actions.toggleRowSelected){if(!a)return e;var h=t.id,v=t.value,b=a.rowsById,y=a.selectSubRows,w=void 0===y||y,x=a.getSubRows,S=a.isRowSelectable,C=void 0===S?f:S,k=e.selectedRowIds[h],$=void 0!==v?v:!k;if(k===$)return e;var A=s({},e.selectedRowIds);return function e(t){var n=b[t];C(n)&&(n.isGrouped||($?A[t]=!0:delete A[t]),w&&x(n)&&x(n).forEach((function(t){return e(t.id)})))}(h),s(s({},e),{},{selectedRowIds:A})}if(t.type===r.actions.toggleAllPageRowsSelected){var P=function e(t){var n=N[t];n.isGrouped||(V?U[t]=!0:delete U[t]),R&&O(n)&&O(n).forEach((function(t){return e(t.id)}))};if(!a)return e;var I=t.value,T=a.page,N=a.rowsById,E=a.selectSubRows,R=void 0===E||E,D=a.isAllPageRowsSelected,O=a.getSubRows,V=void 0!==I?I:!D,U=s({},e.selectedRowIds);return T.forEach((function(e){return P(e.id)})),s(s({},e),{},{selectedRowIds:U})}return e}function m(e){var t=e.data,n=e.rows,i=e.getHooks,s=e.plugins,o=e.rowsById,l=e.nonGroupedRowsById,c=void 0===l?o:l,d=e.autoResetSelectedRows,u=void 0===d||d,p=e.state.selectedRowIds,m=e.selectSubRows,g=void 0===m||m,f=e.dispatch,v=e.page,b=e.getSubRows,y=e.isRowSelectable;(0,r.ensurePluginOrder)(s,[\"useFilters\",\"useGroupBy\",\"useSortBy\",\"useExpanded\",\"usePagination\"],\"useRowSelect\");var w=(0,a.useMemo)((function(){var e=[];return n.forEach((function(t){var n=g?h(t,p,b):!!p[t.id];t.isSelected=!!n,t.isSomeSelected=null===n,n&&e.push(t)})),e}),[n,g,p,b]),x=Boolean(Object.keys(c).length&&Object.keys(p).length),S=x;x&&Object.keys(c).some((function(e){var t=o[e];return!p[e]&&y(t)}))&&(x=!1),x||v&&v.length&&v.some((function(e){var t=e.id,n=o[t];return!p[t]&&y(n)}))&&(S=!1);var C=(0,r.useGetLatest)(u);(0,r.useMountedLayoutEffect)((function(){C()&&f({type:r.actions.resetSelectedRows})}),[f,t]);var k=(0,a.useCallback)((function(e){return f({type:r.actions.toggleAllRowsSelected,value:e})}),[f]),$=(0,a.useCallback)((function(e){return f({type:r.actions.toggleAllPageRowsSelected,value:e})}),[f]),A=(0,a.useCallback)((function(e,t){return f({type:r.actions.toggleRowSelected,id:e,value:t})}),[f]),P=(0,r.useGetLatest)(e),I=(0,r.makePropGetter)(i().getToggleAllRowsSelectedProps,{instance:P()}),T=(0,r.makePropGetter)(i().getToggleAllPageRowsSelectedProps,{instance:P()});Object.assign(e,{selectedFlatRows:w,isAllRowsSelected:x,isAllPageRowsSelected:S,toggleRowSelected:A,toggleAllRowsSelected:k,getToggleAllRowsSelectedProps:I,getToggleAllPageRowsSelectedProps:T,toggleAllPageRowsSelected:$})}function g(e,t){var n=t.instance;e.toggleRowSelected=function(t){return n.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=(0,r.makePropGetter)(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}function h(e,t,n){if(t[e.id])return!0;var a=n(e);if(a&&a.length){var r=!0,i=!1;return a.forEach((function(e){i&&!r||(h(e,t,n)?i=!0:r=!1)})),!!r||!!i&&null}return!1}function f(e){return!!e.original.disabled}r.actions.resetSelectedRows=\"resetSelectedRows\",r.actions.toggleAllRowsSelected=\"toggleAllRowsSelected\",r.actions.toggleRowSelected=\"toggleRowSelected\",r.actions.toggleAllPageRowsSelected=\"toggleAllPageRowsSelected\",l.pluginName=\"useRowSelect\"},8755:function(e,t,n){\"use strict\";n.d(t,{h:function(){return p},U:function(){return m}}),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072),n(50033),n(66549),n(47097),n(98191),n(62176);var a=n(95004),r=n(73817),i=n(2629);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var u=(0,a.createContext)(null);function p(){var e=g(),t=(0,a.useContext)(e);if(null===t)throw new Error(\"must be nested under TableSettingsProvider\");return t}function m(e){var t=e.children,n=e.defaults,s=e.storageKey,l=g(),d=c((0,r._)(\"datatable_TableSettings_\".concat(s),n),2),u=d[0],p=d[1],m=c((0,a.useState)(u),2),h=m[0],f=m[1],v=(0,a.useCallback)((function(e){f((function(t){var n=e instanceof Function?e(t):o(o({},t),e);return p(n),n}))}),[p]),b=(0,a.useMemo)((function(){return{settings:h,setTableSettings:v}}),[h,v]);return(0,i.jsx)(l.Provider,{value:b,children:t})}function g(){return u}},16986:function(e,t,n){\"use strict\";n.d(t,{K:function(){return s}}),n(92429),n(65562),n(57592);var a=n(39532),r=n(43164),i=n(2629);function s(e){var t=e.value,n=e.onChange,a=e.size,s=e.options;return(0,i.jsx)(r.h,{size:a,className:\"app-portainer-components-form-components-ButtonSelector-ButtonSelector-module__group\",children:s.map((function(e){return(0,i.jsx)(o,{selected:t===e.value,onChange:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return n(e.value)})),children:e.label||e.value.toString()},e.value)}))})}function o(e){var t=e.selected,n=e.children,r=e.onChange;return(0,i.jsxs)(\"label\",{className:(0,a.Z)(\"btn btn-primary\",{active:t}),children:[n,(0,i.jsx)(\"input\",{type:\"radio\",checked:t,onChange:r})]})}},88818:function(e,t,n){\"use strict\";n.d(t,{X:function(){return c}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var a=n(95004),r=n(2629),i=[\"indeterminate\",\"title\",\"label\",\"id\",\"checked\",\"onChange\"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,a.forwardRef)((function(e,t){var n=e.indeterminate,s=e.title,l=e.label,c=e.id,d=e.checked,u=e.onChange,p=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,i),m=(0,a.useRef)(null),g=t;return t||(g=m),(0,a.useEffect)((function(){null!==g&&null!==g.current&&void 0!==n&&(g.current.indeterminate=n)}),[g,n]),(0,r.jsxs)(\"div\",{className:\"md-checkbox\",title:s||l,children:[(0,r.jsx)(\"input\",o({id:c,type:\"checkbox\",ref:g,onChange:u,checked:d},p)),(0,r.jsx)(\"label\",{htmlFor:c,children:l})]})}))},42629:function(e,t,n){\"use strict\";n.d(t,{Uu:function(){return o},Ar:function(){return l}}),n(20493);var a=n(95004),r=n(66960),i=n(75698),s=n(2629);function o(e){var t=e.onChange,n=e.value,r=e.accept,o=e.title,l=void 0===o?\"Select a file\":o,c=e.required,d=void 0!==c&&c,u=e.inputId,p=(0,a.createRef)();return(0,s.jsxs)(\"div\",{className:\"file-upload-field\",children:[(0,s.jsx)(\"input\",{id:u,ref:p,type:\"file\",accept:r,required:d,className:\"app-portainer-components-form-components-FileUpload-FileUploadField-module__file-input\",onChange:function(e){e.target&&e.target.files&&e.target.files.length>0&&t(e.target.files[0])},\"aria-label\":\"file-input\"}),(0,s.jsx)(i.zx,{size:\"small\",color:\"primary\",onClick:function(){p&&p.current&&p.current.click()},className:\"app-portainer-components-form-components-FileUpload-FileUploadField-module__file-button\",children:l}),(0,s.jsx)(\"span\",{className:\"space-left\",children:n?n.name:(0,s.jsx)(\"i\",{className:\"fa fa-times red-icon\",\"aria-hidden\":\"true\"})})]})}var l=(0,r.A)(o,[\"onChange\",\"value\",\"title\",\"required\",\"accept\",\"inputId\"]);n(28001),n(62341),n(71718)},18480:function(e,t,n){\"use strict\";n.d(t,{N:function(){return l}});var a=n(39532),r=n(25128),i=n(81093),s={},o=n(2629);function l(e){var t=e.inputId,n=e.label,l=e.size,u=void 0===l?\"small\":l,p=e.tooltip,m=void 0===p?\"\":p,g=e.children,h=e.errors,f=e.required;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(\"div\",{className:(0,a.Z)(\"form-group\",s.container),children:[(0,o.jsxs)(\"label\",{htmlFor:t,className:(0,a.Z)(c(u),\"control-label\",\"text-left\"),children:[n,f&&(0,o.jsx)(\"span\",{className:\"text-danger\",children:\"*\"}),m&&(0,o.jsx)(r.u,{message:m})]}),(0,o.jsx)(\"div\",{className:d(u),children:g})]}),h&&(0,o.jsx)(\"div\",{className:\"form-group\",children:(0,o.jsx)(\"div\",{className:\"col-md-12\",children:(0,o.jsx)(i.X,{children:h})})})]})}function c(e){switch(e){case\"large\":return\"col-sm-5 col-lg-4\";case\"medium\":return\"col-sm-4 col-lg-3\";default:return\"col-sm-3 col-lg-2\"}}function d(e){switch(e){case\"large\":return\"col-sm-7 col-lg-8\";case\"medium\":return\"col-sm-8 col-lg-9\";default:return\"col-sm-9 col-lg-10\"}}},81093:function(e,t,n){\"use strict\";n.d(t,{X:function(){return r}});var a=n(2629);function r(e){var t=e.children;return(0,a.jsxs)(\"div\",{className:\"small text-warning\",children:[(0,a.jsx)(\"i\",{className:\"fa fa-exclamation-triangle space-right\",\"aria-hidden\":\"true\"}),t]})}},71718:function(e,t,n){\"use strict\";n.d(t,{i:function(){return r}});var a=n(2629);function r(e){var t=e.children,n=e.htmlFor;return n?(0,a.jsx)(\"label\",{htmlFor:n,className:\"col-sm-12 form-section-title cursor-pointer\",children:t}):(0,a.jsx)(\"div\",{className:\"col-sm-12 form-section-title\",children:t})}},87869:function(e,t,n){\"use strict\";n.d(t,{I:function(){return c},P:function(){return g}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var a=n(39532),r=n(2629),i=[\"className\"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,i);return(0,r.jsx)(\"input\",o(o({},n),{},{className:(0,a.Z)(\"form-control\",t)}))}n(92429);var d=[\"options\",\"className\"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=e.options,n=e.className,i=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,d);return(0,r.jsx)(\"select\",p(p({},i),{},{className:(0,a.Z)(\"form-control\",n),children:t.map((function(e){return(0,r.jsx)(\"option\",{value:e.value,children:e.label},e.value)}))}))}},24945:function(e,t,n){\"use strict\";n.d(t,{Q:function(){return f}}),n(92429),n(66549),n(65562),n(78433),n(57592),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(66076),n(33262),n(20493),n(77072);var a=n(39532),r=n(75698),i=n(25128),s=n(83294),o=n(87869),l=n(81093),c={items:\"app-portainer-components-form-components-InputList-InputList-module__items\",label:\"app-portainer-components-form-components-InputList-InputList-module__label\",itemLine:\"app-portainer-components-form-components-InputList-InputList-module__item-line\",hasError:\"app-portainer-components-form-components-InputList-InputList-module__has-error\",itemActions:\"app-portainer-components-form-components-InputList-InputList-module__item-actions\",defaultItem:\"app-portainer-components-form-components-InputList-InputList-module__default-item\"};function d(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(e){if(\"string\"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var p=n(2629);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return h=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},h(e)}function f(e){var t=e.label,n=e.value,o=e.onChange,l=e.itemBuilder,u=void 0===l?v:l,f=e.renderItem,b=void 0===f?y:f,w=e.item,x=e.tooltip,S=e.addLabel,C=void 0===S?\"Add item\":S,k=e.itemKeyGetter,$=void 0===k?function(e,t){return t}:k,A=e.movable,P=e.errors,I=e.textTip,T=e.isAddButtonHidden,N=void 0!==T&&T;return(0,p.jsxs)(\"div\",{className:(0,a.Z)(\"form-group\",c.root),children:[(0,p.jsxs)(\"div\",{className:(0,a.Z)(\"col-sm-12\",c.header),children:[(0,p.jsxs)(\"div\",{className:(0,a.Z)(\"control-label text-left\",c.label),children:[t,x&&(0,p.jsx)(i.u,{message:x})]}),!N&&(0,p.jsx)(r.HS,{label:C,className:\"space-left\",onClick:function(){var e,t=u();o([].concat(function(e){if(Array.isArray(e))return m(e)}(e=n)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(e){if(\"string\"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}(),[t]),{type:\"create\",item:t})}})]}),I&&(0,p.jsx)(\"div\",{className:\"col-sm-12 my-5\",children:(0,p.jsx)(s.a,{color:\"blue\",children:I})}),(0,p.jsx)(\"div\",{className:(0,a.Z)(\"col-sm-12\",c.items,\"space-y-4\"),children:n.map((function(e,t){var i=$(e,t),s=\"object\"===h(P)?P[t]:void 0;return(0,p.jsxs)(\"div\",{className:(0,a.Z)(c.itemLine,g({},c.hasError,!!s)),children:[w?(0,p.jsx)(w,{item:e,onChange:function(e){return R(i,e)},error:s}):b(e,(function(e){return R(i,e)}),s),(0,p.jsxs)(\"div\",{className:(0,a.Z)(c.itemActions,\"items-start\"),children:[A&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(r.zx,{size:\"small\",disabled:0===t,onClick:function(){return function(e){e<=0||E(e,e-1)}(t)},children:(0,p.jsx)(\"i\",{className:\"fa fa-arrow-up\",\"aria-hidden\":\"true\"})}),(0,p.jsx)(r.zx,{size:\"small\",type:\"button\",disabled:t===n.length-1,onClick:function(){return function(e){e>=n.length-1||E(e,e+1)}(t)},children:(0,p.jsx)(\"i\",{className:\"fa fa-arrow-down\",\"aria-hidden\":\"true\"})})]}),(0,p.jsx)(r.zx,{color:\"danger\",size:\"small\",onClick:function(){return function(e,t){o(n.filter((function(t,n){return $(t,n)!==e})),{type:\"delete\",item:t})}(i,e)},children:(0,p.jsx)(\"i\",{className:\"fa fa-trash\",\"aria-hidden\":\"true\"})})]})]},i)}))})]});function E(e,t){A&&o(function(e,t,n){if(!o(e,t)||!o(e,n))throw new Error(\"index is out of bounds\");var a=e[t],r=e.length,i=t-n;if(i>0)return[].concat(d(e.slice(0,n)),[a],d(e.slice(n,t)),d(e.slice(t+1,r)));if(i<0){var s=n+1;return[].concat(d(e.slice(0,t)),d(e.slice(t+1,s)),[a],d(e.slice(s,r)))}return d(e);function o(e,t){return t>=0&&t<=e.length}}(n,e,t),{type:\"move\",fromIndex:e,to:t})}function R(e,t){var a=n.map((function(n,a){return $(n,a)!==e?n:t}));o(a,{type:\"update\",item:t})}}function v(){return{value:\"\"}}function b(e){var t=e.item,n=e.onChange,a=e.error;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.I,{value:t.value,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n({value:e.target.value})})),className:c.defaultItem}),a&&(0,p.jsx)(l.X,{children:a})]})}function y(e,t,n){return(0,p.jsx)(b,{item:e,onChange:t,error:n})}},69100:function(e,t,n){\"use strict\";n.d(t,{V:function(){return h},P:function(){return g}}),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176);var a=n(50021),r=n(53954),i=n(39532),s=\"app-portainer-components-form-components-ReactSelect-module__root\",o=n(2629),l=[\"className\"],c=[\"className\"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g(e){var t=e.className,n=m(e,l);return(0,o.jsx)(r.ZP,u({className:(0,i.Z)(s,t),classNamePrefix:\"selector\"},n))}function h(e){var t=e.className,n=m(e,c);return(0,o.jsx)(a.Z,u({className:(0,i.Z)(s,t),classNamePrefix:\"selector\"},n))}},39230:function(e,t,n){\"use strict\";n.d(t,{r:function(){return o}}),n(20493),n(65562),n(57592);var a=n(39532),r=n(20037),i=n(68112),s=n(2629);function o(e){var t=e.name,n=e.checked,o=e.id,l=e.disabled,c=e.dataCy,d=e.onChange,u=e.featureId,p=e.className,m=(0,r.vx)(u);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(\"label\",{className:(0,a.Z)(\"switch\",p,\"app-portainer-components-form-components-SwitchField-Switch-module__root\",{business:m,limited:m}),children:[(0,s.jsx)(\"input\",{type:\"checkbox\",name:t,id:o,checked:n,disabled:l||m,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=e.target.checked;return d(t)}))}),(0,s.jsx)(\"i\",{\"data-cy\":c})]}),m&&(0,s.jsx)(i.d,{featureId:u})]})}},16413:function(e,t,n){\"use strict\";n.d(t,{K:function(){return l},m:function(){return c}}),n(20493);var a=n(39532),r=n(25128),i=n(66960),s=n(39230),o=n(2629);function l(e){var t=e.tooltip,n=e.checked,i=e.label,l=e.name,c=e.labelClass,d=e.dataCy,u=e.disabled,p=e.onChange,m=e.featureId,g=l?\"toggle_\".concat(l):\"\";return(0,o.jsxs)(\"label\",{className:\"app-portainer-components-form-components-SwitchField-SwitchField-module__root\",children:[(0,o.jsxs)(\"span\",{className:(0,a.Z)(\"control-label text-left space-right\",\"app-portainer-components-form-components-SwitchField-SwitchField-module__label\",c),children:[i,t&&(0,o.jsx)(r.u,{position:\"bottom\",message:t})]}),(0,o.jsx)(s.r,{className:\"space-right\",name:g,id:g,checked:n,disabled:u,onChange:p,featureId:m,dataCy:d})]})}var c=(0,i.A)(l,[\"tooltip\",\"checked\",\"label\",\"name\",\"labelClass\",\"dataCy\",\"disabled\",\"onChange\",\"featureId\"])},48625:function(e,t,n){\"use strict\";n.d(t,{j:function(){return h}}),n(15363),n(43119),n(92429),n(65562),n(57592);var a=n(2629);function r(e){var t=e.value,n=e.onChange,r=e.showAll;return(0,a.jsxs)(\"span\",{className:\"limitSelector\",children:[(0,a.jsx)(\"span\",{className:\"space-right\",children:\"Items per page\"}),(0,a.jsxs)(\"select\",{className:\"form-control\",value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(Number(e.target.value))})),\"data-cy\":\"paginationSelect\",children:[r?(0,a.jsx)(\"option\",{value:Number.MAX_SAFE_INTEGER,children:\"All\"}):null,[10,25,50,100].map((function(e){return(0,a.jsx)(\"option\",{value:e,children:e},e)}))]})]})}function i(e,t,n,a){var r=Math.ceil(n/2);return e===n?a:1===e?e:n<a?a-r<t?a-n+e:r<t?t-r+e:e:e}var s=n(39532);function o(e){var t=e.children,n=e.page,r=e.disabled,i=e.active,o=e.onPageChange;return(0,a.jsx)(\"li\",{className:(0,s.Z)({disabled:r,active:i}),children:(0,a.jsx)(\"button\",{type:\"button\",onClick:function(){return\"number\"==typeof n&&o(n)},disabled:r,children:t})})}n(42240),n(47771),n(77072),n(49329),n(36554),n(50527),n(40958);var l=n(26256),c=n(88606),d=n(75698),u=n(87869);function p(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function m(e){var t,n,r=e.onChange,i=e.totalPages,s=(0,l.TA)({initialValues:{page:\"\"},onSubmit:(t=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,e.abrupt(\"return\",n&&r(n));case 2:case\"end\":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(e){p(i,a,r,s,o,\"next\",e)}function o(e){p(i,a,r,s,o,\"throw\",e)}s(void 0)}))},function(e){return n.apply(this,arguments)}),validateOnMount:!0,validationSchema:function(){return(0,c.Ry)({page:(0,c.Rx)().required().max(i).min(1)})}}),o=s.handleSubmit,m=s.setFieldValue,g=s.values,h=s.isValid;return(0,a.jsxs)(\"form\",{className:\"mx-3\",onSubmit:o,children:[(0,a.jsx)(\"label\",{className:\"m-0 mr-2 font-normal small\",htmlFor:\"go-to-page-input\",children:\"Go to page\"}),(0,a.jsx)(u.I,{id:\"go-to-page-input\",className:\"!w-32\",type:\"number\",value:g.page,max:i,min:1,step:1,onChange:function(e){var t=parseInt(e.target.value,10);m(\"page\",Number.isNaN(t)?\"\":t)},onKeyPress:function(e){e.key.match(/^\\D$/)&&e.preventDefault()}}),(0,a.jsx)(d.zx,{type:\"submit\",disabled:!h,children:\"Go\"})]})}function g(e){var t=e.currentPage,n=e.totalCount,r=e.itemsPerPage,s=e.onPageChange,l=e.maxSize,c=void 0===l?5:l,d=e.directionLinks,u=void 0===d||d,p=e.boundaryLinks,g=void 0!==p&&p,h=e.isInputVisible,f=void 0!==h&&h,v=function(e,t,n,a){var r,s=[],o=Math.ceil(t/n),l=Math.ceil(a/2);r=e<=l?\"start\":o-l<e?\"end\":\"middle\";for(var c=a<o,d=1;d<=o&&d<=a;d+=1){var u=i(d,e,a,o);!c||(2!==d||\"middle\"!==r&&\"end\"!==r)&&(d!==a-1||\"middle\"!==r&&\"start\"!==r)?s.push(u):s.push(\"...\")}return s}(t,n,r,c),b=v[v.length-1];return v.length<=1?null:(0,a.jsxs)(a.Fragment,{children:[f&&(0,a.jsx)(m,{onChange:function(e){return s(e)},totalPages:Math.ceil(n/r)}),(0,a.jsxs)(\"ul\",{className:\"pagination\",children:[g?(0,a.jsx)(o,{onPageChange:s,page:1,disabled:1===t,children:\"\u00ab\"}):null,u?(0,a.jsx)(o,{onPageChange:s,page:t-1,disabled:1===t,children:\"\u2039\"}):null,v.map((function(e,n){return(0,a.jsx)(o,{onPageChange:s,page:e,disabled:\"...\"===e,active:t===e,children:e},n)})),u?(0,a.jsx)(o,{onPageChange:s,page:t+1,disabled:t===b,children:\"\u203a\"}):null,g?(0,a.jsx)(o,{disabled:t===b,onPageChange:s,page:b,children:\"\u00bb\"}):null]})]})}function h(e){var t=e.pageLimit,n=e.page,i=e.onPageLimitChange,s=e.showAll,o=e.onPageChange,l=e.totalCount,c=e.isPageInputVisible;return(0,a.jsx)(\"div\",{className:\"paginationControls\",children:(0,a.jsxs)(\"div\",{className:\"form-inline flex\",children:[(0,a.jsx)(r,{value:t,onChange:function(e){i(e),o(1)},showAll:s}),0!==t&&(0,a.jsx)(g,{maxSize:5,onPageChange:o,currentPage:n,itemsPerPage:t,totalCount:l,isInputVisible:c})]})})}},90635:function(e,t,n){\"use strict\";n.d(t,{$L:function(){return p},kh:function(){return g},PI:function(){return h},ZP:function(){return f}}),n(20493);var a=n(29274),r=n.n(a),i=n(66960),s=n(2629);function o(){return(0,s.jsxs)(\"div\",{className:\"loading\",children:[(0,s.jsx)(\"div\",{className:\"double-bounce1\"}),(0,s.jsx)(\"div\",{className:\"double-bounce2\"})]})}var l=(0,i.F)(o,[]),c=n(95004),d=(0,c.createContext)(null);function u(){if(null==(0,c.useContext)(d))throw new Error(\"Should be inside a Widget component\")}function p(e){var t=e.children;return(0,s.jsx)(d.Provider,{value:!0,children:(0,s.jsx)(\"div\",{className:\"widget\",children:t})})}var m=n(39532);function g(e){var t=e.loading,n=e.className,a=e.children;return u(),(0,s.jsx)(\"div\",{className:(0,m.Z)(n,\"widget-body\"),children:t?(0,s.jsx)(o,{}):(0,s.jsx)(\"div\",{className:\"widget-content\",children:a})})}function h(e){var t=e.title,n=e.icon,a=e.className,r=e.children;return u(),(0,s.jsx)(\"div\",{className:\"widget-header\",children:(0,s.jsxs)(\"div\",{className:\"row\",children:[(0,s.jsxs)(\"span\",{className:(0,m.Z)(\"pull-left\",a),children:[\"string\"==typeof n?(0,s.jsx)(\"i\",{className:(0,m.Z)(\"fa\",n)}):n,(0,s.jsx)(\"span\",{children:t})]}),(0,s.jsx)(\"span\",{className:(0,m.Z)(\"pull-right\",a),children:r})]})})}var f=r().module(\"portainer.shared.components.widget\",[]).component(\"rdLoading\",l).component(\"rdWidget\",{transclude:!0,template:'<div class=\"widget\" ng-transclude></div>'}).component(\"rdWidgetBody\",{requires:\"^rdWidget\",bindings:{loading:\"@?\",classes:\"@?\"},transclude:!0,template:'\\n    <div class=\"widget-body\" ng-class=\"$ctrl.classes\">\\n      <rd-loading ng-show=\"$ctrl.loading\"></rd-loading>\\n      <div ng-hide=\"$ctrl.loading\" class=\"widget-content\" ng-transclude></div>\\n    </div>\\n  '}).component(\"rdWidgetCustomHeader\",{requires:\"^rdWidget\",bindings:{titleText:\"=\",icon:\"=\"},transclude:!0,template:'\\n    <div class=\"widget-header\">\\n      <div class=\"row\">\\n        <span class=\"pull-left\">\\n          <img class=\"custom-header-ico space-right\" ng-src=\"{{$ctrl.icon}}\" ng-if=\"$ctrl.icon\" alt=\"header-icon\"></img>\\n          <i class=\"fa fa-rocket\" aria-hidden=\"true\" ng-if=\"!$ctrl.icon\"></i>\\n          <span class=\"text-muted\"> {{$ctrl.titleText}} </span>\\n        </span>\\n        <span class=\"pull-right col-xs-6 col-sm-4\" ng-transclude></span>\\n      </div>\\n    </div>\\n  '}).component(\"rdWidgetFooter\",{requires:\"^rdWidget\",transclude:!0,template:'\\n    <div class=\"widget-footer\" ng-transclude></div>\\n  '}).component(\"rdWidgetHeader\",{requires:\"^rdWidget\",bindings:{titleText:\"@\",icon:\"@\",classes:\"@?\"},transclude:{title:\"?headerTitle\"},template:'\\n    <div class=\"widget-header\">\\n      <div class=\"row\">\\n        <span ng-class=\"$ctrl.classes\" class=\"pull-left\">\\n          <i class=\"fa\" ng-class=\"$ctrl.icon\"></i>\\n          <span ng-transclude=\"title\">{{ $ctrl.titleText }}</span>\\n        </span>\\n        <span ng-class=\"$ctrl.classes\" class=\"pull-right\" ng-transclude></span>\\n      </div>\\n    </div>\\n'}).component(\"rdWidgetTaskbar\",{requires:\"^rdWidget\",bindings:{classes:\"@?\"},transclude:!0,template:'\\n    <div class=\"widget-header\">\\n      <div class=\"row\">\\n        <div ng-class=\"$ctrl.classes\" ng-transclude></div>\\n      </div>\\n    </div>\\n  '}).name},22589:function(e,t,n){\"use strict\";n.d(t,{X:function(){return d}});var a=n(51641),r=(n(46021),n(40958),n(65562),n(50527),n(6811));function i(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function o(e){i(s,a,r,o,l,\"next\",e)}function l(e){i(s,a,r,o,l,\"throw\",e)}o(void 0)}))}}function o(){return l.apply(this,arguments)}function l(){return(l=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get(c());case 3:return t=e.sent,n=t.data,e.abrupt(\"return\",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,\"\");case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function c(e,t){var n=\"/endpoint_groups\";return e&&(n+=\"/\".concat(e)),t&&(n+=\"/\".concat(t)),n}function d(){return(0,a.useQuery)([\"environment-groups\"],o)}},31848:function(e,t,n){\"use strict\";n.d(t,{U8:function(){return p},Jm:function(){return g},sH:function(){return f},xr:function(){return b}}),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176),n(40958),n(65562),n(50527),n(42240),n(77236),n(47771),n(78433);var a=n(6811),r=n(55950),i=[\"types\",\"tagIds\",\"endpointIds\",\"status\",\"groupIds\"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){d(i,a,r,s,o,\"next\",e)}function o(e){d(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function p(e,t){return m.apply(this,arguments)}function m(){return m=u(regeneratorRuntime.mark((function e(t,n){var s,l,d,u,p,m,g,h,f,v,b,y,w=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=w.length>2&&void 0!==w[2]?w[2]:{},l=s.types,d=s.tagIds,u=s.endpointIds,p=s.status,m=s.groupIds,g=c(s,i),!d||0!==d.length){e.next=3;break}return e.abrupt(\"return\",{totalCount:0,value:[]});case 3:return h=(0,r.Q2)(),f=o({start:t,limit:n},g),l&&(f.types=(0,r.VZ)(l)),d&&(f.tagIds=(0,r.VZ)(d)),u&&(f.endpointIds=(0,r.VZ)(u)),p&&(f.status=(0,r.VZ)(p)),m&&(f.groupIds=(0,r.VZ)(m)),e.prev=10,e.next=13,a.ZP.get(h,{params:f});case 13:return v=e.sent,b=v.headers[\"x-total-count\"],y=v.headers[\"x-total-available\"],e.abrupt(\"return\",{totalCount:parseInt(b,10),value:v.data,totalAvailable:parseInt(y,10)});case 19:throw e.prev=19,e.t0=e.catch(10),(0,a.vs)(e.t0);case 22:case\"end\":return e.stop()}}),e,null,[[10,19]])}))),m.apply(this,arguments)}function g(){return h.apply(this,arguments)}function h(){return(h=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post((0,r.Q2)(void 0,\"snapshot\"));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0);case 8:case\"end\":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function f(e){return v.apply(this,arguments)}function v(){return(v=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post((0,r.Q2)(t,\"snapshot\"));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0);case 8:case\"end\":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.delete((0,r.Q2)(t));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0);case 8:case\"end\":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}},55950:function(e,t,n){\"use strict\";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t){var n=\"endpoints\";return e&&(n+=\"/\".concat(e)),t&&(n+=\"/\".concat(t)),n}function i(e){return e?JSON.stringify(e):\"\"}function s(e){var t=new FormData;return Object.entries(e).forEach((function(e){var n,r,i=(r=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(n,r)||function(e,t){if(e){if(\"string\"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(n,r)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),s=i[0],o=i[1];null!=o&&t.append(s,o)})),t}n.d(t,{Q2:function(){return r},VZ:function(){return i},at:function(){return s}}),n(65562),n(98191),n(40443),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072)},61335:function(e,t,n){\"use strict\";n.d(t,{a:function(){return i}});var a=n(9251),r=n(78322);function i(){var e=(0,r.rV)((function(e){return e.AgentSecret})),t=(0,a.$z)((function(e){return e.Version}));return t.isSuccess&&e.isSuccess?{agentVersion:t.data,agentSecret:e.data}:null}},86064:function(e,t,n){\"use strict\";n.d(t,{FQ:function(){return g},sb:function(){return h},LH:function(){return f}}),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176),n(50527),n(40958),n(65562);var a=n(51641),r=n(53347),i=n(23945),s=n(31848),o=[\"page\",\"pageLimit\"];function l(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){l(i,a,r,s,o,\"next\",e)}function o(e){l(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var g=3e4;function h(e){return!!e&&!!e.value.some((function(e){return e.Status===i.a2.Down}))&&g}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,n=void 0===t?1:t,i=e.pageLimit,l=void 0===i?100:i,d=m(e,o),p=arguments.length>1?arguments[1]:void 0,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,h=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=(0,a.useQuery)([\"environments\",u({page:n,pageLimit:l},d)],c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(n-1)*l+1,e.abrupt(\"return\",(0,s.U8)(t,l,d));case 2:case\"end\":return e.stop()}}),e)}))),u({staleTime:g,keepPreviousData:!0,refetchInterval:p,enabled:h},(0,r.AQ)(\"Failure retrieving environments\"))),v=f.isLoading,b=f.data;return{isLoading:v,environments:b?b.value:[],totalCount:b?b.totalCount:0,totalAvailable:b?b.totalAvailable:0}}},23945:function(e,t,n){\"use strict\";var a,r,i,s;n.d(t,{Qj:function(){return a},a2:function(){return r},Sy:function(){return i},zh:function(){return s}}),function(e){e[e.Docker=1]=\"Docker\",e[e.AgentOnDocker=2]=\"AgentOnDocker\",e[e.Azure=3]=\"Azure\",e[e.EdgeAgentOnDocker=4]=\"EdgeAgentOnDocker\",e[e.KubernetesLocal=5]=\"KubernetesLocal\",e[e.AgentOnKubernetes=6]=\"AgentOnKubernetes\",e[e.EdgeAgentOnKubernetes=7]=\"EdgeAgentOnKubernetes\"}(a||(a={})),function(e){e[e.Up=1]=\"Up\",e[e.Down=2]=\"Down\"}(r||(r={})),function(e){e[e.LocalDockerEnvironment=1]=\"LocalDockerEnvironment\",e[e.AgentEnvironment=2]=\"AgentEnvironment\",e[e.AzureEnvironment=3]=\"AzureEnvironment\",e[e.EdgeAgentEnvironment=4]=\"EdgeAgentEnvironment\",e[e.LocalKubernetesEnvironment=5]=\"LocalKubernetesEnvironment\",e[e.KubeConfigEnvironment=6]=\"KubeConfigEnvironment\"}(i||(i={})),function(e){e[e.Docker=0]=\"Docker\",e[e.Kubernetes=1]=\"Kubernetes\",e[e.Azure=2]=\"Azure\"}(s||(s={}))},57941:function(e,t,n){\"use strict\";n.d(t,{vJ:function(){return r},gR:function(){return i},w5:function(){return s},Mq:function(){return o},f8:function(){return l},Bv:function(){return c}}),n(15845),n(7974);var a=n(23945);function r(e){switch(e){case a.Qj.KubernetesLocal:case a.Qj.AgentOnKubernetes:case a.Qj.EdgeAgentOnKubernetes:return a.zh.Kubernetes;case a.Qj.Docker:case a.Qj.AgentOnDocker:case a.Qj.EdgeAgentOnDocker:return a.zh.Docker;case a.Qj.Azure:return a.zh.Azure;default:throw new Error(\"Environment Type \".concat(e,\" is not supported\"))}}function i(e){return r(e)===a.zh.Docker}function s(e){return r(e)===a.zh.Kubernetes}function o(e){return[a.Qj.EdgeAgentOnDocker,a.Qj.EdgeAgentOnKubernetes].includes(e)}function l(e){return o(e.Type)&&!e.EdgeID}function c(e){if(o(e.Type)&&!e.EdgeID)return\"portainer.endpoints.endpoint\";switch(r(e.Type)){case a.zh.Azure:return\"azure.dashboard\";case a.zh.Docker:return\"docker.dashboard\";case a.zh.Kubernetes:return\"kubernetes.dashboard\";default:return\"\"}}},20023:function(e,t,n){\"use strict\";function a(e){return a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},a(e)}function r(e,t){if(t&&(\"object\"===a(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e)}function i(e){var t=\"function\"==typeof Map?new Map:void 0;return i=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf(\"[native code]\")))return e;var n;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return s(e,arguments,c(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l(a,e)},i(e)}function s(e,t,n){return s=o()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var r=new(Function.bind.apply(e,a));return n&&l(r,n.prototype),r},s.apply(null,arguments)}function o(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}n.d(t,{Z:function(){return d}}),n(42086),n(87028),n(65562),n(57592),n(90029),n(42240),n(5434),n(77236),n(47771),n(28001),n(62341),n(82459);var d=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,\"prototype\",{writable:!1}),t&&l(e,t)}(s,e);var t,n,a,i=(t=s,n=o(),function(){var e,a=c(t);if(n){var i=c(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return r(this,e)});function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,s),(n=i.call(this,e)).err=t,n}return a=s,Object.defineProperty(a,\"prototype\",{writable:!1}),a}(i(Error))},26196:function(e,t,n){\"use strict\";var a,r,i;n.d(t,{cX:function(){return a},CQ:function(){return r},tE:function(){return i}}),function(e){e[e.CE=0]=\"CE\",e[e.BE=1]=\"BE\"}(a||(a={})),function(e){e[e.HIDDEN=0]=\"HIDDEN\",e[e.VISIBLE=1]=\"VISIBLE\",e[e.LIMITED_BE=2]=\"LIMITED_BE\"}(r||(r={})),function(e){e.K8S_RESOURCE_POOL_LB_QUOTA=\"k8s-resourcepool-Ibquota\",e.K8S_RESOURCE_POOL_STORAGE_QUOTA=\"k8s-resourcepool-storagequota\",e.K8S_CREATE_FROM_KUBECONFIG=\"k8s-create-from-kubeconfig\",e.KAAS_PROVISIONING=\"kaas-provisioning\",e.NOMAD=\"nomad\",e.RBAC_ROLES=\"rbac-roles\",e.REGISTRY_MANAGEMENT=\"registry-management\",e.K8S_SETUP_DEFAULT=\"k8s-setup-default\",e.S3_BACKUP_SETTING=\"s3-backup-setting\",e.HIDE_INTERNAL_AUTHENTICATION_PROMPT=\"hide-internal-authentication-prompt\",e.TEAM_MEMBERSHIP=\"team-membership\",e.HIDE_INTERNAL_AUTH=\"hide-internal-auth\",e.EXTERNAL_AUTH_LDAP=\"external-auth-ldap\",e.ACTIVITY_AUDIT=\"activity-audit\",e.FORCE_REDEPLOYMENT=\"force-redeployment\",e.HIDE_AUTO_UPDATE_WINDOW=\"hide-auto-update-window\",e.STACK_PULL_IMAGE=\"stack-pull-image\",e.STACK_WEBHOOK=\"stack-webhook\",e.CONTAINER_WEBHOOK=\"container-webhook\"}(i||(i={}))},20037:function(e,t,n){\"use strict\";n.d(t,{aW:function(){return o},S1:function(){return c},RU:function(){return u},vx:function(){return p}}),n(40958),n(65562),n(50527);var a=n(26196);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function o(e){i(s,a,r,o,l,\"next\",e)}function l(e){i(s,a,r,o,l,\"throw\",e)}o(void 0)}))}}var o=!1,l={currentEdition:a.cX.CE,features:{}};function c(e){return d.apply(this,arguments)}function d(){return(d=s(regeneratorRuntime.mark((function e(t){var n,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t,r(n={},a.tE.K8S_RESOURCE_POOL_LB_QUOTA,a.cX.BE),r(n,a.tE.K8S_RESOURCE_POOL_STORAGE_QUOTA,a.cX.BE),r(n,a.tE.K8S_CREATE_FROM_KUBECONFIG,a.cX.BE),r(n,a.tE.KAAS_PROVISIONING,a.cX.BE),r(n,a.tE.NOMAD,a.cX.BE),r(n,a.tE.ACTIVITY_AUDIT,a.cX.BE),r(n,a.tE.EXTERNAL_AUTH_LDAP,a.cX.BE),r(n,a.tE.HIDE_INTERNAL_AUTH,a.cX.BE),r(n,a.tE.HIDE_INTERNAL_AUTHENTICATION_PROMPT,a.cX.BE),r(n,a.tE.K8S_SETUP_DEFAULT,a.cX.BE),r(n,a.tE.RBAC_ROLES,a.cX.BE),r(n,a.tE.REGISTRY_MANAGEMENT,a.cX.BE),r(n,a.tE.S3_BACKUP_SETTING,a.cX.BE),r(n,a.tE.TEAM_MEMBERSHIP,a.cX.BE),r(n,a.tE.FORCE_REDEPLOYMENT,a.cX.BE),r(n,a.tE.HIDE_AUTO_UPDATE_WINDOW,a.cX.BE),r(n,a.tE.STACK_PULL_IMAGE,a.cX.BE),r(n,a.tE.STACK_WEBHOOK,a.cX.BE),r(n,a.tE.CONTAINER_WEBHOOK,a.cX.BE),s=n,l.currentEdition=i,l.features=s;case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return e?l.features[e]?l.features[e]<=l.currentEdition?a.CQ.VISIBLE:l.features[e]===a.cX.BE?a.CQ.LIMITED_BE:a.CQ.HIDDEN:a.CQ.HIDDEN:a.CQ.VISIBLE}function p(e){return u(e)===a.CQ.LIMITED_BE}},63504:function(e,t,n){\"use strict\";n.d(t,{x:function(){return l}}),n(66549),n(65562),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(66076),n(33262),n(20493),n(77072);var a=n(39532),r=n(41066),i=n(78322),s=n(2629);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function l(e){var t=e.environment,n=e.showLastCheckInDate,l=void 0!==n&&n,c=!!t.EdgeID,d=function(e,t){var n=(0,i.Fy)({enabled:t});if(!t)return!1;var a=e.LastCheckInDate,r=e.QueryDate,s=n.data;if(!s)return null;var l=function(e,t){if(e.Edge.AsyncMode){var n=[e.Edge.PingInterval>0?e.Edge.PingInterval:t.Edge.PingInterval,e.Edge.SnapshotInterval>0?e.Edge.SnapshotInterval:t.Edge.SnapshotInterval,e.Edge.CommandInterval>0?e.Edge.CommandInterval:t.Edge.CommandInterval].filter((function(e){return e>0}));return n.length>0?Math.min.apply(Math,function(e){if(Array.isArray(e))return o(e)}(a=n)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(a)||function(e,t){if(e){if(\"string\"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(a)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()):60}var a;return e.EdgeCheckinInterval&&0!==e.EdgeCheckinInterval?e.EdgeCheckinInterval:t.Edge.CheckinInterval}(e,s);return!!(l&&r&&a)&&r-a<=2*l+20}(t,c);return null===d?null:c?(0,s.jsxs)(\"span\",{role:\"status\",\"aria-label\":\"edge-status\",children:[(0,s.jsx)(\"span\",{className:(0,a.Z)(\"label\",{\"label-danger\":!d,\"label-success\":d}),\"aria-label\":\"edge-heartbeat\",children:\"heartbeat\"}),l&&!!t.LastCheckInDate&&(0,s.jsx)(\"span\",{className:\"space-left small text-muted\",\"aria-label\":\"edge-last-checkin\",children:(0,r.isoDateFromTimestamp)(t.LastCheckInDate)})]}):(0,s.jsx)(\"span\",{role:\"status\",\"aria-label\":\"edge-status\",children:(0,s.jsx)(\"span\",{className:\"label label-default\",\"aria-label\":\"unassociated\",children:(0,s.jsx)(\"s\",{children:\"associated\"})})})}},75038:function(e,t,n){\"use strict\";n.d(t,{J:function(){return o},g:function(){return l}});var a=n(95004),r=n(73817),i=n(2629),s=(0,a.createContext)(null);function o(){var e=(0,a.useContext)(s);if(null==e)throw new Error(\"Should be nested under a UIStateProvider component\");return e}function l(e){var t=e.children,n=(0,r._)(\"UI_STATE\",{});return(0,i.jsx)(s.Provider,{value:n,children:t})}},73903:function(e,t,n){\"use strict\";n.d(t,{N:function(){return s}}),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var a=n(95004);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=(0,a.useState)(e),i=r(n,2),s=i[0],o=i[1];return(0,a.useEffect)((function(){var n=setTimeout((function(){return o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),s}},45588:function(e,t,n){\"use strict\";n.d(t,{C:function(){return r}});var a=n(89023);function r(){var e=(0,a.useCurrentStateAndParams)().params.endpointId;if(!e)throw new Error(\"endpointId url param is required\");return e}},73817:function(e,t,n){\"use strict\";n.d(t,{_:function(){return o},U2:function(){return l}}),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var a=n(95004);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function s(e){return\"\".concat(\"portainer\",\".\").concat(e)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage,i=(0,a.useState)(l(e,t,n)),s=r(i,2),o=s[0],d=s[1],u=(0,a.useCallback)((function(t){d(t),c(e,t,n)}),[e,n]);return(0,a.useMemo)((function(){return[o,u]}),[o,u])}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage,a=n.getItem(s(e));if(!a)return t;try{return JSON.parse(a)}catch(e){return t}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage;n.setItem(s(e),JSON.stringify(t))}},50265:function(e,t,n){\"use strict\";n.d(t,{aF:function(){return g},n5:function(){return h},FY:function(){return f},dr:function(){return v},cn:function(){return y}}),n(40958),n(65562),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072),n(50527);var a=n(3696),r=n(89023),i=n(95004),s=n(45145),o=n(73817),l=n(2629);function c(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){c(i,a,r,s,o,\"next\",e)}function o(e){c(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var m=(0,i.createContext)(null);function g(){var e=(0,i.useContext)(m);if(null===e)throw new Error(\"should be nested under UserProvider\");return(0,i.useMemo)((function(){return{user:e.user,isAdmin:b(e.user)}}),[e.user])}function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=g(),a=n.user,i=(0,r.useCurrentStateAndParams)();return i.params,!!a&&(!t||b(a))}function f(e){var t=e.authorizations,n=e.children;return h(t)?(0,l.jsx)(l.Fragment,{children:n}):null}function v(e){var t=e.children,n=u((0,o._)(\"JWT\",\"\"),1)[0],r=u((0,i.useState)(),2),c=r[0],p=r[1];(0,i.useEffect)((function(){\"\"!==n&&function(e){h.apply(this,arguments)}((0,a.Z)(n).id)}),[n]);var g=(0,i.useMemo)((function(){return{user:c}}),[c]);return\"\"===n||null===g.user?null:(0,l.jsx)(m.Provider,{value:g,children:t});function h(){return h=d(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.PR)(t);case 2:n=e.sent,p(n);case 4:case\"end\":return e.stop()}}),e)}))),h.apply(this,arguments)}}function b(e){return!!e&&1===e.Role}function y(){var e=g().user;return!!e&&b(e)}},60122:function(e,t,n){\"use strict\";n.d(t,{lX:function(){return o},e6:function(){return c},ED:function(){return u},cp:function(){return m},Ai:function(){return h},he:function(){return v},ck:function(){return y},M9:function(){return x}}),n(40958),n(65562),n(50527);var a=n(6811);function r(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var s=e.apply(t,n);function o(e){r(s,a,i,o,l,\"next\",e)}function l(e){r(s,a,i,o,l,\"throw\",e)}o(void 0)}))}}var s=\"/fdo\";function o(e){return l.apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post(\"\".concat(s,\"/configure\"),t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to configure FDO\");case 8:case\"end\":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function c(e,t){return d.apply(this,arguments)}function d(){return(d=i(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post(\"\".concat(s,\"/configure/\").concat(t),n);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to configure device\");case 8:case\"end\":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function u(e,t,n){return p.apply(this,arguments)}function p(){return(p=i(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={name:t,profileFileContent:r},e.prev=1,e.next=4,a.ZP.post(\"\".concat(s,\"/profiles\"),i,{params:{method:n}});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),(0,a.vs)(e.t0,\"Unable to create profile\");case 9:case\"end\":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){return(g=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get(\"\".concat(s,\"/profiles\"));case 3:return t=e.sent,n=t.data,e.abrupt(\"return\",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to retrieve the profiles\");case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get(\"\".concat(s,\"/profiles/\").concat(t));case 3:return n=e.sent,r=n.data,e.abrupt(\"return\",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to retrieve profile\");case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(e){return b.apply(this,arguments)}function b(){return(b=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.delete(\"\".concat(s,\"/profiles/\").concat(t));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to delete profile\");case 8:case\"end\":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function y(e,t,n){return w.apply(this,arguments)}function w(){return(w=i(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={name:n,profileFileContent:r},e.prev=1,e.next=4,a.ZP.put(\"\".concat(s,\"/profiles/\").concat(t),i);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),(0,a.vs)(e.t0,\"Unable to update profile\");case 9:case\"end\":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function x(e){return S.apply(this,arguments)}function S(){return(S=i(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post(\"\".concat(s,\"/profiles/\").concat(t,\"/duplicate\"));case 3:return n=e.sent,r=n.data,e.abrupt(\"return\",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to duplicate profile\");case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},76827:function(e,t,n){\"use strict\";n.d(t,{He:function(){return o},eX:function(){return c},xq:function(){return u},PW:function(){return m},aP:function(){return h},xv:function(){return v}}),n(40958),n(65562),n(50527),n(78433);var a=n(6811);function r(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var s=e.apply(t,n);function o(e){r(s,a,i,o,l,\"next\",e)}function l(e){r(s,a,i,o,l,\"throw\",e)}o(void 0)}))}}var s=\"/open_amt\";function o(e){return l.apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post(\"\".concat(s,\"/configure\"),t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to configure AMT\");case 8:case\"end\":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function c(e){return d.apply(this,arguments)}function d(){return(d=i(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get(\"\".concat(s,\"/\").concat(t,\"/info\"));case 3:return n=e.sent,r=n.data,e.abrupt(\"return\",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to retrieve environment information\");case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function u(e){return p.apply(this,arguments)}function p(){return(p=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.post(\"\".concat(s,\"/\").concat(t,\"/activate\"));case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to activate device\");case 8:case\"end\":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return(g=i(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.ZP.get(\"\".concat(s,\"/\").concat(t,\"/devices\"));case 3:return n=e.sent,r=n.data,e.abrupt(\"return\",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to retrieve device information\");case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(e,t,n){return f.apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={action:r},e.next=4,a.ZP.post(\"\".concat(s,\"/\").concat(t,\"/devices/\").concat(n,\"/action\"),i);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to execute device action\");case 9:case\"end\":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function v(e,t,n){return b.apply(this,arguments)}function b(){return(b=i(regeneratorRuntime.mark((function e(t,n,r){var i,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={features:r},e.next=4,a.ZP.post(\"\".concat(s,\"/\").concat(t,\"/devices/\").concat(n,\"/features\"),i);case 4:return o=e.sent,l=o.data,e.abrupt(\"return\",l);case 9:throw e.prev=9,e.t0=e.catch(0),(0,a.vs)(e.t0,\"Unable to enable device features\");case 12:case\"end\":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}},9251:function(e,t,n){\"use strict\";n.d(t,{$z:function(){return l}}),n(40958),n(65562),n(50527);var a=n(51641),r=n(6811);function i(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function o(e){i(s,a,r,o,l,\"next\",e)}function l(e){i(s,a,r,o,l,\"throw\",e)}o(void 0)}))}}function o(){return(o=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get(c());case 3:return t=e.sent,n=t.data,e.abrupt(\"return\",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function l(e){return(0,a.useQuery)([\"status\"],(function(){return function(){return o.apply(this,arguments)}()}),{select:e})}function c(e){var t=\"/status\";return e&&(t+=\"/\".concat(e)),t}},6811:function(e,t,n){\"use strict\";n.d(t,{Ee:function(){return g},vs:function(){return h}}),n(15845),n(7974),n(78433),n(65562),n(50527),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176),n(40958);var a=n(62418),r=n.n(a),i=n(94926),s=n(20023),o=n(73817),l=n(50477);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}var m=r().create({baseURL:\"api\"});function g(e){if(!e.url||!e.url.includes(\"/docker/\"))return e;var t=d({headers:e.headers||{}},e),n=(0,l.GN)();return n&&(t.headers[\"X-PortainerAgent-Target\"]=n),(0,l.sG)()&&(t.headers[\"X-PortainerAgent-ManagerOperation\"]=\"1\"),t}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,a=e,r=t;if(\"isAxiosError\"in e){var i=n(e),o=i.error,l=i.details;a=o,r=t&&l?\"\".concat(t,\": \").concat(l):t||l}return new s.Z(r,a)}function f(e){var t,n,a=(null===(t=e.response)||void 0===t?void 0:t.data.message)||\"\",r=(null===(n=e.response)||void 0===n?void 0:n.data.details)||a;return{error:new Error(a),details:r}}(0,i.loadProgressBar)(void 0,m),t.ZP=m,m.interceptors.request.use(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d({headers:t.headers||{}},t),(a=(0,o.U2)(\"JWT\",\"\"))&&(n.headers.Authorization=\"Bearer \".concat(a)),e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){p(i,a,r,s,o,\"next\",e)}function o(e){p(i,a,r,s,o,\"throw\",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}()),m.interceptors.request.use(g)},50477:function(e,t,n){\"use strict\";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,{GN:function(){return o},vj:function(){return l},sG:function(){return d},$r:function(){return p}}),n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072);var r={agentTargetQueue:[],agentManagerOperation:!1,agentTargetLastValue:\"\"};function i(){return r.registryAuthentication}function s(e){r.registryAuthentication=e}function o(){if(0===r.agentTargetQueue.length)return r.agentTargetLastValue;if(1===r.agentTargetQueue.length){var e=(t=r.agentTargetQueue,n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}())[0];r.agentTargetLastValue=e}var t,n;return r.agentTargetQueue.shift()||\"\"}function l(e){e&&r.agentTargetQueue.push(e)}function c(e){r.agentManagerOperation=e}function d(){return r.agentManagerOperation}function u(){r.agentTargetQueue=[],r.agentTargetLastValue=\"\",r.agentManagerOperation=!1,delete r.registryAuthentication}function p(){return{registryAuthenticationHeader:i,setRegistryAuthenticationHeader:s,portainerAgentTargetHeader:o,setPortainerAgentTargetHeader:l,setPortainerAgentManagerOperation:c,portainerAgentManagerOperation:d,resetAgentHeaders:u}}},46980:function(e,t,n){\"use strict\";n.d(t,{ir:function(){return u},l9:function(){return p},iG:function(){return m},sv:function(){return g},no:function(){return h},DP:function(){return f},pM:function(){return v},dY:function(){return b},HW:function(){return y},Do:function(){return w},Id:function(){return x},ZX:function(){return S},Q8:function(){return C},ob:function(){return k}}),n(65562),n(50527),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var a=n(43695),r=n.n(a),i=n(53062),s=n.n(i),o=n(89230);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e={title:\"Are you sure ?\",message:\"You currently have unsaved changes in the editor. Are you sure you want to leave?\",buttons:{confirm:{label:\"Yes\",className:\"btn-danger\"}}};return new Promise((function(t){m(c(c({},e),{},{callback:function(e){return t(e)}}))}))}function p(e){return new Promise((function(t){m(c(c({},e),{},{callback:function(e){return t(e)}}))}))}function m(e){var t=s().confirm({title:e.title,message:e.message,buttons:(0,o.Z)(e.buttons),callback:e.callback});(0,o.A)(t)}function g(e){m({title:\"Are you sure?\",message:\"Forcing the removal of the image will remove the image even if it has multiple tags or if it is used by stopped containers.\",buttons:{confirm:{label:\"Remove the image\",className:\"btn-danger\"}},callback:e})}function h(e){m({title:\"Are you sure?\",message:\"WARNING: interrupting this operation before it has finished will result in the loss of all tags. Are you sure you want to do this?\",buttons:{confirm:{label:\"Stop\",className:\"btn-danger\"}},callback:e})}function f(e,t){m({title:\"Are you sure ?\",message:r()(e),buttons:{confirm:{label:\"Remove\",className:\"btn-danger\"}},callback:t})}function v(e,t){m({title:\"Are you sure ?\",message:r()(e),buttons:{confirm:{label:\"Detach\",className:\"btn-danger\"}},callback:t})}function b(e){m({title:\"About disassociating\",message:r()(\"<p>Disassociating this Edge environment will mark it as non associated and will clear the registered Edge ID.</p><p>Any agent started with the Edge key associated to this environment will be able to re-associate with this environment.</p><p>You can re-use the Edge ID and Edge key that you used to deploy the existing Edge agent to associate a new Edge device to this environment.</p>\"),buttons:{confirm:{label:\"Disassociate\",className:\"btn-primary\"}},callback:e})}function y(e,t){m({title:\"Are you sure ?\",message:r()(e),buttons:{confirm:{label:\"Update\",className:\"btn-warning\"}},callback:t})}function w(e,t){m({title:\"\",message:r()(e),buttons:{confirm:{label:\"Redeploy the applications\",className:\"btn-primary\"},cancel:{label:\"I'll do it later\"}},callback:t})}function x(e){return new Promise((function(t){f(e,(function(e){return t(e)}))}))}function S(e){m({title:\"Caution\",message:\"The export may take several minutes, do not navigate away whilst the export is in progress.\",buttons:{confirm:{label:\"Continue\",className:\"btn-primary\"}},callback:e})}function C(){return p({title:\"Are you sure?\",message:\"You will be logged out after the password change. Do you want to change your password?\",buttons:{confirm:{label:\"Change\",className:\"btn-primary\"}}})}function k(){var e=s().dialog({message:\"Please update your password to a stronger password to continue using Portainer\",buttons:{confirm:{label:\"OK\",className:\"btn-primary\"}}});(0,o.A)(e)}},77918:function(e,t,n){\"use strict\";n.d(t,{SW:function(){return m},A7:function(){return f},G0:function(){return v},N8:function(){return b},Kf:function(){return y},o$:function(){return w},l2:function(){return x}}),n(40958),n(78495),n(65562),n(50527),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var a=n(43695),r=n.n(a),i=n(53062),s=n.n(i),o=n(89230);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){u(i,a,r,s,o,\"next\",e)}function o(e){u(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function m(e){return g.apply(this,arguments)}function g(){return(g=p(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",new Promise((function(e){h(c(c({},t),{},{callback:function(t){return e(t)}}))})));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){var t=s().prompt({title:e.title,inputType:e.inputType,inputOptions:e.inputOptions,buttons:e.buttons?(0,o.Z)(e.buttons):void 0,callback:e.callback,value:e.value});return(0,o.A)(t),t}function f(e,t){h({title:r()(e),inputType:\"checkbox\",inputOptions:[{text:\"Automatically remove non-persistent volumes<i></i>\",value:\"1\"}],buttons:{confirm:{label:\"Remove\",className:\"btn-danger\"}},callback:t})}function v(e){h(e)}function b(e){S(h({title:\"Are you sure?\",inputType:\"checkbox\",inputOptions:[{text:\"Pull latest image<i></i>\",value:\"1\"}],buttons:{confirm:{label:\"Recreate\",className:\"btn-danger\"}},callback:e}),\"You're about to re-create this container, any non-persisted data will be lost. This container will be removed and another one will be created using the same configuration.\")}function y(e,t){var n=r()(e);S(h({title:\"Are you sure?\",inputType:\"checkbox\",inputOptions:[{text:\"Pull latest image version<i></i>\",value:\"1\"}],buttons:{confirm:{label:\"Update\",className:\"btn-primary\"}},callback:t}),n)}function w(e,t,n,a,r){var i=h({title:\"Are you sure?\",inputType:\"checkbox\",inputOptions:[{text:\"Pull latest image version<i></i>\",value:\"1\"}],buttons:{confirm:{label:\"Update\",className:a||\"btn-primary\"}},callback:r});i.find(\".bootbox-body\").prepend(e);var s=i.find(\".bootbox-input-checkbox\");s.prop(\"checked\",n),s.prop(\"disabled\",t);var o=i.find(\".checkbox\");o.removeClass(\"checkbox\"),o.prop(\"style\",\"position: relative; display: block; margin-top: 10px; margin-bottom: 10px;\");var l=i.find(\".form-check-label\");l.addClass(\"switch box-selector-item limited business\"),l.find(\"i\").prop(\"style\",\"margin-left:20px\")}function x(e,t,n){var a=r()(\"Select the kubernetes environment(s) to add to the kubeconfig file.</br>\".concat(t));S(h({title:\"Download kubeconfig file\",inputType:\"checkbox\",inputOptions:e,buttons:{confirm:{label:\"Download file\",className:\"btn-primary\"}},callback:n}),a,!0,!0)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.find(\".bootbox-body\").prepend(\"<p>\".concat(t,\"</p>\"));var r=e.find(\".bootbox-input-checkbox\");r.prop(\"checked\",n),a&&r.addClass(\"visible\")}},89230:function(e,t,n){\"use strict\";n.d(t,{Z:function(){return i},A:function(){return s}});var a=n(43695),r=n.n(a);function i(e){return{confirm:{label:r()(e.confirm.label),className:e.confirm.className&&r()(e.confirm.className)},cancel:{label:e.cancel&&e.cancel.label?r()(e.cancel.label):\"Cancel\"}}}function s(e){e.css({\"vertical-align\":\"middle\"})}},46021:function(e,t,n){\"use strict\";n.d(t,{t5:function(){return u},cB:function(){return m},Vp:function(){return g},vU:function(){return h},Kp:function(){return f},Tx:function(){return v}});var a=n(6632),r=n.n(a),i=n(3520),s=n.n(i),o=(n(65562),n(3100)),l=n.n(o),c=n(43695),d=n.n(c);function u(e,t){l().success(d()(s()(t)),d()(e))}function p(e,t){l().warning(d()(s()(t)),d()(e),{timeOut:6e3})}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",a=b(t)||n;console.error(t),\"Invalid JWT token\"!==a&&l().error(d()(s()(a)),d()(e),{timeOut:6e3})}l().options={timeOut:3e3,closeButton:!0,progressBar:!0,tapToDismiss:!1};var g=u,h=m,f=p;function v(){return{success:u,warning:p,error:m}}function b(e){if(!e)return\"\";var t=\"\";return[\"err.data.details\",\"err.data.message\",\"data.details\",\"data.message\",\"data.content\",\"data.error\",\"message\",\"err.data[0].message\",\"err.data.err\",\"data.err\",\"msg\"].forEach((function(n){var a=r()(e,n);\"string\"==typeof a&&(t=t||a)})),t}},78322:function(e,t,n){\"use strict\";n.d(t,{Fy:function(){return s},rV:function(){return o}});var a=n(51641),r=n(46021),i=n(71103);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.enabled,n=e.select;return(0,a.useQuery)([\"settings\",\"public\"],(function(){return(0,i.W7)()}),{onError:function(e){(0,r.cB)(\"Failure\",e,\"Unable to retrieve settings\")},select:n,enabled:t})}function o(e,t){return(0,a.useQuery)([\"settings\"],i.Gw,{select:e,enabled:t,meta:{error:{title:\"Failure\",message:\"Unable to retrieve settings\"}}})}},71103:function(e,t,n){\"use strict\";n.d(t,{W7:function(){return o},Gw:function(){return c}}),n(40958),n(65562),n(50527);var a=n(55287),r=n(6811);function i(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function o(e){i(s,a,r,o,l,\"next\",e)}function l(e){i(s,a,r,o,l,\"throw\",e)}o(void 0)}))}}function o(){return l.apply(this,arguments)}function l(){return(l=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get(u(\"public\"));case 3:return t=e.sent,n=t.data,e.abrupt(\"return\",new a.PublicSettingsViewModel(n));case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,\"Unable to retrieve application settings\");case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function c(){return d.apply(this,arguments)}function d(){return(d=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get(u());case 3:return t=e.sent,n=t.data,e.abrupt(\"return\",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,\"Unable to retrieve application settings\");case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function u(e,t){var n=\"settings\";return e&&(n+=\"/\".concat(e)),t&&(n+=\"/\".concat(t)),n}},58639:function(e,t,n){\"use strict\";n.d(t,{y:function(){return d}});var a=n(51641),r=(n(40958),n(65562),n(50527),n(6811));function i(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function o(e){i(s,a,r,o,l,\"next\",e)}function l(e){i(s,a,r,o,l,\"throw\",e)}o(void 0)}))}}function o(){return l.apply(this,arguments)}function l(){return(l=s(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get(c());case 3:return t=e.sent,n=t.data,e.abrupt(\"return\",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function c(e){var t=\"/teams\";return e&&(t+=\"/\".concat(e)),t}function d(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=(0,a.useQuery)([\"teams\"],(function(){return o()}),{meta:{error:{title:\"Failure\",message:\"Unable to load teams\"}},enabled:e,select:t});return n}},45565:function(e,t,n){\"use strict\";n.d(t,{f:function(){return i},U:function(){return s}});var a=n(51641),r=n(45145);function i(e){return(0,a.useQuery)([\"users\",e,\"memberships\"],(function(){return(0,r.DS)(e)}),{enabled:!!e})}function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},i=(0,a.useQuery)([\"users\"],(function(){return(0,r.Rf)(e)}),{meta:{error:{title:\"Failure\",message:\"Unable to load users\"}},enabled:t,select:n});return i}},45145:function(e,t,n){\"use strict\";n.d(t,{PR:function(){return d},DS:function(){return p},Rf:function(){return l}}),n(40958),n(65562),n(50527);var a,r=n(6811);function i(e){return e.filter((function(e){return e.Role!==a.Admin}))}function s(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){s(i,a,r,o,l,\"next\",e)}function l(e){s(i,a,r,o,l,\"throw\",e)}o(void 0)}))}}function l(){return c.apply(this,arguments)}function c(){return c=o(regeneratorRuntime.mark((function e(){var t,n,a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]&&s[0],e.prev=1,e.next=4,r.ZP.get(g());case 4:return n=e.sent,a=n.data,e.abrupt(\"return\",t?a:i(a));case 9:throw e.prev=9,e.t0=e.catch(1),(0,r.vs)(e.t0,\"Unable to retrieve users\");case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])}))),c.apply(this,arguments)}function d(e){return u.apply(this,arguments)}function u(){return(u=o(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.ZP.get(g(t));case 3:return n=e.sent,a=n.data,e.abrupt(\"return\",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,r.vs)(e.t0,\"Unable to retrieve user details\");case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=o(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error(\"missing id\");case 3:return e.next=5,r.ZP.get(g(t,\"memberships\"));case 5:return n=e.sent,a=n.data,e.abrupt(\"return\",a);case 10:throw e.prev=10,e.t0=e.catch(0),(0,r.vs)(e.t0,\"Unable to retrieve user memberships\");case 13:case\"end\":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function g(e,t){var n=\"/users\";return e&&(n+=\"/\".concat(e)),t&&(n+=\"/\".concat(t)),n}n(66549),function(e){e[e.Admin=1]=\"Admin\",e[e.Standard=2]=\"Standard\"}(a||(a={}))},53347:function(e,t,n){\"use strict\";n.d(t,{AQ:function(){return c},ar:function(){return d},yL:function(){return u},cf:function(){return m}}),n(42240),n(65562),n(50527),n(77236),n(47771),n(92429),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176),n(62341),n(82459);var a=n(51641),r=n(46021);function i(e){return i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},i(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"Failure\";return{onError:function(n){(0,r.cB)(t,n,e)}}}function d(e,t){return{onSuccess:function(){return Promise.all(t.map((function(t){return e.invalidateQueries(t)})))}}}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(t)}function p(e){return e.reduce((function(e,t){return o(o({},e),t)}),{})}function m(){return new a.QueryClient({mutationCache:new a.MutationCache({onError:function(e,t,n,a){var r;g(e,null===(r=a.meta)||void 0===r?void 0:r.error)}}),queryCache:new a.QueryCache({onError:function(e,t){var n;g(e,null===(n=t.meta)||void 0===n?void 0:n.error)}})})}function g(e,t){if(t&&\"object\"===i(t)){var n=t,a=n.title,s=void 0===a?\"Failure\":a,o=n.message;(0,r.cB)(s,e,o)}}},66960:function(e,t,n){\"use strict\";n.d(t,{A:function(){return w},F:function(){return y}});var a=n(81651),r=n.n(a),i=(n(42240),n(25212),n(92429),n(20493),n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176),n(79153)),s=n(95004),o=n(13169),l=n(51641),c=n(28127),d=n(50265),u=n(75038),p=n(53347),m=n(2629),g=(0,p.cf)();function h(e){var t=e.children,n=\"true\"===\"MISSING_ENV_VAR\".SHOW_REACT_QUERY_DEV_TOOLS;return(0,m.jsx)(s.StrictMode,{children:(0,m.jsxs)(l.QueryClientProvider,{client:g,children:[(0,m.jsx)(u.g,{children:(0,m.jsx)(c.jk,{children:(0,m.jsx)(d.dr,{children:t})})}),n&&(0,m.jsx)(o.ReactQueryDevtools,{})]})})}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return n.$inject=[\"$element\",\"$q\"],{bindings:Object.fromEntries(t.map((function(e){return[e,\"<\"]}))),controller:n,name:r()(e.displayName||e.name)};function n(n,a){var r=this,o=n[0];this.$onChanges=function(){var n=function(e,t,n){return Object.fromEntries(e.map((function(e){var a=t[e];return\"function\"!=typeof a?[e,a]:[e,function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n((function(n){return n(t[e].apply(t,r))}))}]})))}(t,r,a);i.render((0,m.jsx)(s.Suspense,{fallback:\"loading translations\",children:(0,m.jsx)(h,{children:(0,m.jsx)(e,v({},n))})}),o)},this.$onDestroy=function(){return i.unmountComponentAtNode(o)}}}var w=y},83810:function(e,t,n){\"use strict\";n.d(t,{y:function(){return C}}),n(42240),n(65562),n(47771);var a=n(26256),r=(n(57592),n(16986)),i=n(2629);function s(e){var t=e.onChange,n=e.value;return(0,i.jsx)(\"div\",{className:\"form-group\",children:(0,i.jsx)(\"div\",{className:\"col-sm-12\",children:(0,i.jsx)(r.K,{size:\"small\",value:n,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return t(e)})),options:[{value:\"linux\",label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(\"i\",{className:\"fab fa-linux space-right\",\"aria-hidden\":\"true\"}),\"Linux\"]})},{value:\"win\",label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(\"i\",{className:\"fab fa-windows space-right\",\"aria-hidden\":\"true\"}),\"Windows\"]})}]})})})}n(92429);var o=n(95004),l=n(2071),c=n(6154),d=n(90130),u=n(61335);function p(e){var t=e.values,n=e.edgeKey,a=e.edgeId,r=e.commands,s=e.platform,p=e.onPlatformChange,m=void 0===p?function(){}:p,g=(0,u.a)();if((0,o.useEffect)((function(){r.length>0&&r.every((function(e){return e.id!==s}))&&m(r[0].id)}),[s,m,r]),!g)return null;var h=g.agentSecret,f=g.agentVersion,v=r.map((function(e){var r=e.command(f,n,t,a,h);return{id:e.id,label:e.label,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.E,{children:r}),(0,i.jsx)(c.q,{copyText:r,children:\"Copy\"})]})}}));return(0,i.jsx)(\"div\",{className:\"row\",children:(0,i.jsx)(\"div\",{className:\"col-sm-12\",children:(0,i.jsx)(d.o,{selectedId:s,options:v,onSelect:function(e){return m(e)}})})})}n(20493);var m=n(18480),g=n(87869),h=n(16413),f=n(83294),v=n(88606);function b(){var e=(0,a.u6)(),t=e.values,n=e.setFieldValue,r=e.errors;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(\"div\",{className:\"form-group\",children:(0,i.jsx)(\"div\",{className:\"col-sm-12\",children:(0,i.jsx)(h.K,{checked:t.authEnabled,onChange:function(e){e||n(\"nomadToken\",\"\"),n(\"authEnabled\",e)},label:\"Nomad Authentication Enabled\",tooltip:\"Nomad authentication is only required if you have ACL enabled\"})})}),t.authEnabled&&(0,i.jsx)(m.N,{label:\"Nomad Token\",inputId:\"nomad-token-input\",errors:r.nomadToken,children:(0,i.jsx)(a.gN,{name:\"nomadToken\",as:g.I,id:\"nomad-token-input\"})})]})}function y(e){var t=e.isNomadTokenVisible,n=e.hideIdGetter,r=(0,a.u6)(),s=r.values,o=r.setFieldValue;return(0,i.jsxs)(i.Fragment,{children:[!n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.N,{label:\"Edge ID Generator\",tooltip:\"A bash script one liner that will generate the edge id and will be assigned to the PORTAINER_EDGE_ID environment variable\",inputId:\"edge-id-generator-input\",children:(0,i.jsx)(g.I,{type:\"text\",name:\"edgeIdGenerator\",value:s.edgeIdGenerator,id:\"edge-id-generator-input\",onChange:function(e){return o(e.target.name,e.target.value)}})}),(0,i.jsx)(\"div\",{className:\"form-group\",children:(0,i.jsx)(\"div\",{className:\"col-sm-12\",children:(0,i.jsxs)(f.a,{color:\"blue\",children:[(0,i.jsx)(\"code\",{children:\"PORTAINER_EDGE_ID\"}),\" environment variable is required to successfully connect the edge agent to Portainer\"]})})})]}),t&&(0,i.jsx)(b,{}),(0,i.jsx)(m.N,{label:\"Environment variables\",tooltip:\"Comma separated list of environment variables that will be sourced from the host where the agent is deployed.\",inputId:\"env-variables-input\",children:(0,i.jsx)(a.gN,{name:\"envVars\",as:g.I,placeholder:\"foo=bar,myvar\",id:\"env-variables-input\"})}),(0,i.jsx)(\"div\",{className:\"form-group\",children:(0,i.jsx)(\"div\",{className:\"col-sm-12\",children:(0,i.jsx)(h.K,{checked:s.allowSelfSignedCertificates,onChange:function(e){return o(\"allowSelfSignedCertificates\",e)},label:\"Allow self-signed certs\",tooltip:\"When allowing self-signed certificates the edge agent will ignore the domain validation when connecting to Portainer via HTTPS\"})})})]})}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(50033),n(28001),n(66549),n(47097),n(98191),n(62176);var S={allowSelfSignedCertificates:!0,envVars:\"\",os:\"linux\",platform:\"k8s\",nomadToken:\"\",authEnabled:!0};function C(e){var t=e.edgeInfo,n=e.commands,r=e.isNomadTokenVisible,o=!(n instanceof Array);return(0,i.jsx)(\"div\",{className:\"form-horizontal\",children:(0,i.jsx)(a.J9,{initialValues:S,validationSchema:function(){return function(e){return(0,v.Ry)().shape(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({allowSelfSignedCertificates:(0,v.O7)(),envVars:(0,v.Z_)()},e?{nomadToken:(0,v.Z_)().when(\"authEnabled\",{is:!0,then:(0,v.Z_)().required(\"Token is required\")}),authEnabled:(0,v.O7)()}:{}))}(r)},onSubmit:function(){},children:function(e){var a=e.values,l=e.setFieldValue;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y,{isNomadTokenVisible:r&&\"nomad\"===a.platform,hideIdGetter:void 0!==t.id}),(0,i.jsxs)(\"div\",{className:\"mt-8\",children:[o&&(0,i.jsx)(s,{value:a.os,onChange:function(e){return l(\"os\",e)}}),(0,i.jsx)(p,{edgeId:t.id,edgeKey:t.key,values:a,commands:o?n[a.os]||[]:n,platform:a.platform,onPlatformChange:function(e){return l(\"platform\",e)}})]})]})}})})}},32858:function(e,t,n){\"use strict\";n.d(t,{dP:function(){return l}}),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(66076),n(33262),n(20493);var a=n(20810),r=n.n(a),i=(n(78433),n(66549),n(65562),n(77072),n(74364),n(99230),n(92429),n(24378),n(13853));function s(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||function(e,t){if(e){if(\"string\"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var l={k8sLinux:{id:\"k8s\",label:\"Kubernetes\",command:function(e,t,n,a,r){var s=n.allowSelfSignedCertificates,o=n.edgeIdGenerator,l=n.envVars,c=(0,i.getAgentShortVersion)(e),d=l.trim(),u=o?\"PORTAINER_EDGE_ID=$(\".concat(o,\") \\n\\n\"):\"\",p=!o&&a?a:\"$PORTAINER_EDGE_ID\",m=s?\"1\":\"0\";return\"\".concat(u,\"curl https://downloads.portainer.io/ee\").concat(c,'/portainer-edge-agent-setup.sh | bash -s -- \"').concat(p,'\" \"').concat(t,'\" \"').concat(m,'\" \"').concat(r,'\" \"').concat(d,'\"')}},swarmLinux:{id:\"swarm\",label:\"Docker Swarm\",command:function(e,t,n,a,r){var i=n.allowSelfSignedCertificates,o=n.edgeIdGenerator,l=c(n.envVars,[].concat(s(d(t,i,o?void 0:a,r)),[\"AGENT_CLUSTER_ADDR=tasks.portainer_edge_agent\"]));return\"\".concat(o?\"PORTAINER_EDGE_ID=$(\".concat(o,\") \\n\\n\"):\"\",\"docker network create \\\\\\n  --driver overlay \\\\\\n  portainer_agent_network;\\n\\ndocker service create \\\\\\n  --name portainer_edge_agent \\\\\\n  --network portainer_agent_network \\\\\\n  \").concat(l,\" \\\\\\n  --mode global \\\\\\n  --constraint 'node.platform.os == linux' \\\\\\n  --mount type=bind,src=//var/run/docker.sock,dst=/var/run/docker.sock \\\\\\n  --mount type=bind,src=//var/lib/docker/volumes,dst=/var/lib/docker/volumes \\\\\\n  --mount type=bind,src=//,dst=/host \\\\\\n  --mount type=volume,src=portainer_agent_data,dst=/data \\\\\\n  portainer/agent:\").concat(e,\"\\n\")}},standaloneLinux:{id:\"standalone\",label:\"Docker Standalone\",command:function(e,t,n,a,r){var i=n.allowSelfSignedCertificates,s=n.edgeIdGenerator,o=c(n.envVars,d(t,i,s?void 0:a,r));return\"\".concat(s?\"PORTAINER_EDGE_ID=$(\".concat(s,\") \\n\\n\"):\"\",\"docker run -d \\\\\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\\\\n  -v /var/lib/docker/volumes:/var/lib/docker/volumes \\\\\\n  -v /:/host \\\\\\n  -v portainer_agent_data:/data \\\\\\n  --restart always \\\\\\n  \").concat(o,\" \\\\\\n  --name portainer_edge_agent \\\\\\n  portainer/agent:\").concat(e,\"\\n  \")}},swarmWindows:{id:\"swarm\",label:\"Docker Swarm\",command:function(e,t,n,a,r){var i=n.allowSelfSignedCertificates,o=n.edgeIdGenerator,l=c(n.envVars,[].concat(s(d(t,i,o?\"$Env:PORTAINER_EDGE_ID\":a,r)),[\"AGENT_CLUSTER_ADDR=tasks.portainer_edge_agent\"]));return\"\".concat(o?'$Env:PORTAINER_EDGE_ID = \"@('.concat(o,')\" \\n\\n'):\"\",\"docker network create \\\\\\n  --driver overlay \\\\\\n  portainer_agent_network;\\n\\ndocker service create \\\\\\n  --name portainer_edge_agent \\\\\\n  --network portainer_agent_network \\\\\\n  \").concat(l,\" \\\\\\n  --mode global \\\\\\n  --constraint 'node.platform.os == windows' \\\\\\n  --mount type=npipe,src=\\\\\\\\.\\\\pipe\\\\docker_engine,dst=\\\\\\\\.\\\\pipe\\\\docker_engine \\\\\\n  --mount type=bind,src=C:\\\\ProgramData\\\\docker\\\\volumes,dst=C:\\\\ProgramData\\\\docker\\\\volumes \\\\\\n  --mount type=volume,src=portainer_agent_data,dst=C:\\\\data \\\\\\n  portainer/agent:\").concat(e,\"\\n\")}},standaloneWindow:{id:\"standalone\",label:\"Docker Standalone\",command:function(e,t,n,a,r){var i=n.allowSelfSignedCertificates,s=n.edgeIdGenerator,o=c(n.envVars,d(t,i,s?\"$Env:PORTAINER_EDGE_ID\":a,r));return\"\".concat(s?'$Env:PORTAINER_EDGE_ID = \"@('.concat(s,')\" \\n\\n'):\"\",\"docker run -d \\\\\\n  --mount type=npipe,src=\\\\\\\\.\\\\pipe\\\\docker_engine,dst=\\\\\\\\.\\\\pipe\\\\docker_engine \\\\\\n  --mount type=bind,src=C:\\\\ProgramData\\\\docker\\\\volumes,dst=C:\\\\ProgramData\\\\docker\\\\volumes \\\\\\n  --mount type=volume,src=portainer_agent_data,dst=C:\\\\data \\\\\\n  --restart always \\\\\\n   \").concat(o,\" \\\\\\n  --name portainer_edge_agent \\\\\\n  portainer/agent:\").concat(e,\"\\n  \")}}};function c(e,t){return t.concat(e.split(\",\").filter((function(e){return e.length>0}))).map((function(e){return\"-e \".concat(e)})).join(\" \\\\\\n  \")}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"$PORTAINER_EDGE_ID\",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"\";return r()([\"EDGE=1\",\"EDGE_ID=\".concat(n),\"EDGE_KEY=\".concat(e),\"EDGE_INSECURE_POLL=\".concat(t?1:0),a?\"AGENT_SECRET=\".concat(a):\"\"])}},26951:function(e,t,n){\"use strict\";n.d(t,{NT:function(){return d},fD:function(){return u},SM:function(){return p}}),n(28001),n(62341),n(82459),n(77236),n(47771),n(33262),n(66076),n(77072);var a=n(20810),r=n.n(a),i=(n(92429),n(66549),n(65562),n(78433),n(78495),n(20493),n(42240),n(25212),n(40443),n(53124));function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||l(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function l(e,t){if(e){if(\"string\"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function d(e){var t=function(e){if(!e)return[];try{return i.Z.parse(e)}catch(e){return null}}(e);return t?t.filter((function(e){var t=o(e,2),n=t[0],a=t[1];return\"name\"===n&&a})).map((function(e){return{name:o(e,2)[1],label:\"\",defaultValue:\"\",description:\"\"}})):null}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.filter((function(e){return!!e.label}));return[].concat(s(n),s(t.filter((function(e){return!n.find((function(t){return t.name===e.name}))}))))}function p(e,t,n){var a=Object.fromEntries(r()(Object.entries(t).map((function(e){var t=o(e,2),a=t[0],r=t[1];if(r)return[a,r];var i=n.find((function(e){return e.name===a}));return i?[a,i.defaultValue||\"{{ \".concat(i.name,\" }}\")]:null}))));return i.Z.render(e,a)}},14691:function(e){e.exports=\"test-file-stub\"},12534:function(e){e.exports={}},75947:function(e,t,n){\"use strict\";n.r(t),n.d(t,{FileUploaderController:function(){return a}});class a{constructor(e){Object.assign(this,{$async:e}),this.state={uploadInProgress:!1},this.onFileSelected=this.onFileSelected.bind(this),this.onFileSelectedAsync=this.onFileSelectedAsync.bind(this)}onFileSelected(e){return this.$async(this.onFileSelectedAsync,e)}async onFileSelectedAsync(e){if(e){this.state.uploadInProgress=!0;try{await this.uploadFile(e)}finally{this.state.uploadInProgress=!1}}}}a.$inject=[\"$async\"]},38123:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(75947);const s=n(10388);r().module(\"portainer.agent\").component(\"fileUploader\",{templateUrl:s,controller:i.FileUploaderController,bindings:{uploadFile:\"<onFileSelected\"}})},46161:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);const i=n(53719);r().module(\"portainer.agent\").component(\"filesDatatable\",{templateUrl:i,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",isRoot:\"<\",goToParent:\"&\",browse:\"&\",rename:\"&\",download:\"&\",delete:\"&\",isUploadAllowed:\"<\",onFileSelectedForUpload:\"<\"}})},10822:function(e,t,n){\"use strict\";n.r(t),n.d(t,{HostBrowserController:function(){return d}});var a=n(85713),r=n.n(a),i=n(89858),s=n.n(i),o=n(17465),l=n.n(o);const c=\"/host\";class d{constructor(e,t,n,a,r){Object.assign(this,{$async:e,HostBrowserService:t,Notifications:n,FileSaver:a,ModalService:r}),this.state={path:c},this.goToParent=this.goToParent.bind(this),this.browse=this.browse.bind(this),this.confirmDeleteFile=this.confirmDeleteFile.bind(this),this.isRoot=this.isRoot.bind(this),this.getRelativePath=this.getRelativePath.bind(this),this.getFilesForPath=this.getFilesForPath.bind(this),this.getFilesForPathAsync=this.getFilesForPathAsync.bind(this),this.downloadFile=this.downloadFile.bind(this),this.downloadFileAsync=this.downloadFileAsync.bind(this),this.renameFile=this.renameFile.bind(this),this.renameFileAsync=this.renameFileAsync.bind(this),this.deleteFile=this.deleteFile.bind(this),this.deleteFileAsync=this.deleteFileAsync.bind(this),this.onFileSelectedForUpload=this.onFileSelectedForUpload.bind(this),this.onFileSelectedForUploadAsync=this.onFileSelectedForUploadAsync.bind(this)}getRelativePath(e){e=e||this.state.path;const t=new RegExp(\"^/host/?\");return e.replace(t,\"/\")}goToParent(){this.getFilesForPath(this.parentPath(this.state.path))}isRoot(){return this.state.path===c}browse(e){this.getFilesForPath(this.buildPath(this.state.path,e))}getFilesForPath(e){return this.$async(this.getFilesForPathAsync,e)}async getFilesForPathAsync(e){try{const t=await this.HostBrowserService.ls(e);this.state.path=e,this.files=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to browse\")}}renameFile(e,t){return this.$async(this.renameFileAsync,e,t)}async renameFileAsync(e,t){const n=this.buildPath(this.state.path,e),a=this.buildPath(this.state.path,t);try{await this.HostBrowserService.rename(n,a),this.Notifications.success(\"File successfully renamed\",this.getRelativePath(a));const e=await this.HostBrowserService.ls(this.state.path);this.files=e}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to rename file\")}}downloadFile(e){return this.$async(this.downloadFileAsync,e)}async downloadFileAsync(e){const t=this.buildPath(this.state.path,e);try{const{file:n}=await this.HostBrowserService.get(t),a=new Blob([n],{type:\"text/plain;charset=utf-8\"});this.FileSaver.saveAs(a,e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to download file\")}}confirmDeleteFile(e){const t=this.buildPath(this.state.path,e);this.ModalService.confirmDeletion(`Are you sure that you want to delete ${this.getRelativePath(t)} ?`,(e=>{if(e)return this.deleteFile(t)}))}deleteFile(e){this.$async(this.deleteFileAsync,e)}async deleteFileAsync(e){try{await this.HostBrowserService.delete(e),this.Notifications.success(\"File successfully deleted\",this.getRelativePath(e));const t=await this.HostBrowserService.ls(this.state.path);this.files=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to delete file\")}}$onInit(){this.getFilesForPath(c)}parentPath(e){if(e===c)return c;const t=l()(e,\"/\");return s()(r()(t,0,t.length-1),\"/\")}buildPath(e,t){return e.lastIndexOf(\"/\")===e.length-1?e+t:e+\"/\"+t}onFileSelectedForUpload(e){return this.$async(this.onFileSelectedForUploadAsync,e)}async onFileSelectedForUploadAsync(e){if(!this.endpointId)throw new Error(\"missing endpoint id\");try{await this.HostBrowserService.upload(this.endpointId,this.state.path,e),this.onFileUploaded()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to upload file\")}}onFileUploaded(){this.refreshList()}refreshList(){this.getFilesForPath(this.state.path)}}d.$inject=[\"$async\",\"HostBrowserService\",\"Notifications\",\"FileSaver\",\"ModalService\"]},70627:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(10822);const s=n(10884);r().module(\"portainer.agent\").component(\"hostBrowser\",{controller:i.HostBrowserController,templateUrl:s,bindings:{endpointId:\"<\"}})},60744:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(42102);const s=n(56566);r().module(\"portainer.agent\").component(\"nodeSelector\",{templateUrl:s,controller:i.NodeSelectorController,bindings:{model:\"=\"}})},42102:function(e,t,n){\"use strict\";n.r(t),n.d(t,{NodeSelectorController:function(){return a}});class a{constructor(e,t){Object.assign(this,{AgentService:e,Notifications:t})}async $onInit(){try{const e=await this.AgentService.agents();this.agents=e,this.model||(this.model=e[0].NodeName)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load agents\")}}}a.$inject=[\"AgentService\",\"Notifications\"]},41775:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(14087);const s=n(23709);r().module(\"portainer.agent\").component(\"volumeBrowser\",{templateUrl:s,controller:i.VolumeBrowserController,bindings:{volumeId:\"<\",nodeName:\"<\",isUploadEnabled:\"<\",endpointId:\"<\"}})},14087:function(e,t,n){\"use strict\";n.r(t),n.d(t,{VolumeBrowserController:function(){return c}});var a=n(85713),r=n.n(a),i=n(89858),s=n.n(i),o=n(17465),l=n.n(o);class c{constructor(e,t,n,a,r,i,s){Object.assign(this,{$async:e,HttpRequestHelper:t,VolumeBrowserService:n,FileSaver:a,Blob:r,ModalService:i,Notifications:s}),this.state={path:\"/\"},this.rename=this.rename.bind(this),this.renameAsync=this.renameAsync.bind(this),this.confirmDelete=this.confirmDelete.bind(this),this.download=this.download.bind(this),this.downloadAsync=this.downloadAsync.bind(this),this.up=this.up.bind(this),this.browse=this.browse.bind(this),this.deleteFile=this.deleteFile.bind(this),this.deleteFileAsync=this.deleteFileAsync.bind(this),this.getFilesForPath=this.getFilesForPath.bind(this),this.getFilesForPathAsync=this.getFilesForPathAsync.bind(this),this.onFileSelectedForUpload=this.onFileSelectedForUpload.bind(this),this.onFileSelectedForUploadAsync=this.onFileSelectedForUploadAsync.bind(this),this.parentPath=this.parentPath.bind(this),this.buildPath=this.buildPath.bind(this),this.$onInit=this.$onInit.bind(this),this.onFileUploaded=this.onFileUploaded.bind(this),this.refreshList=this.refreshList.bind(this)}rename(e,t){return this.$async(this.renameAsync,e,t)}async renameAsync(e,t){const n=\"/\"===this.state.path?e:`${this.state.path}/${e}`,a=\"/\"===this.state.path?t:`${this.state.path}/${t}`;try{await this.VolumeBrowserService.rename(this.volumeId,n,a),this.Notifications.success(\"File successfully renamed\",a),this.files=await this.VolumeBrowserService.ls(this.volumeId,this.state.path)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to rename file\")}}confirmDelete(e){const t=\"/\"===this.state.path?e:`${this.state.path}/${e}`;this.ModalService.confirmDeletion(`Are you sure that you want to delete ${t} ?`,(e=>{e&&this.deleteFile(t)}))}download(e){return this.$async(this.downloadAsync,e)}async downloadAsync(e){const t=\"/\"===this.state.path?e:`${this.state.path}/${e}`;try{const n=await this.VolumeBrowserService.get(this.volumeId,t),a=new Blob([n.file]);this.FileSaver.saveAs(a,e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to download file\")}}up(){const e=this.parentPath(this.state.path);this.getFilesForPath(e)}browse(e){const t=this.buildPath(this.state.path,e);this.getFilesForPath(t)}deleteFile(e){return this.$async(this.deleteFileAsync,e)}async deleteFileAsync(e){try{await this.VolumeBrowserService.delete(this.volumeId,e),this.Notifications.success(\"File successfully deleted\",e),this.files=await this.VolumeBrowserService.ls(this.volumeId,this.state.path)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to delete file\")}}getFilesForPath(e){return this.$async(this.getFilesForPathAsync,e)}async getFilesForPathAsync(e){try{const t=await this.VolumeBrowserService.ls(this.volumeId,e);this.state.path=e,this.files=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to browse volume\")}}onFileSelectedForUpload(e){return this.$async(this.onFileSelectedForUploadAsync,e)}async onFileSelectedForUploadAsync(e){try{await this.VolumeBrowserService.upload(this.endpointId,this.state.path,e,this.volumeId),this.onFileUploaded()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to upload file\")}}parentPath(e){if(0===e.lastIndexOf(\"/\"))return\"/\";const t=l()(e,\"/\");return s()(r()(t,0,t.length-1),\"/\")}buildPath(e,t){return\"/\"===e?e+t:`${e}/${t}`}onFileUploaded(){this.refreshList()}refreshList(){this.getFilesForPath(this.state.path)}async $onInit(){this.HttpRequestHelper.setPortainerAgentTargetHeader(this.nodeName);try{this.files=await this.VolumeBrowserService.ls(this.volumeId,this.state.path)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to browse volume\")}}}c.$inject=[\"$async\",\"HttpRequestHelper\",\"VolumeBrowserService\",\"FileSaver\",\"Blob\",\"ModalService\",\"Notifications\"]},26317:function(e,t,n){\"use strict\";n.r(t);var a=n(29274);n.n(a)().module(\"portainer.agent\",[])},99662:function(e,t,n){\"use strict\";n.r(t),n.d(t,{AgentViewModel:function(){return a}});class a{constructor(e){this.IPAddress=e.IPAddress,this.NodeName=e.NodeName,this.NodeRole=e.NodeRole}}},13481:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e,t,n,a){return e(`${t}/:endpointId/docker/v:version/agents`,{endpointId:n.endpointID,version:a.getAgentApiVersion},{query:{method:\"GET\",isArray:!0}})}i.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"StateManager\"],r().module(\"portainer.agent\").factory(\"Agent\",i)},56192:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(94477);function s(e,t,n,a){return e(`${t}/:endpointId/docker/v:version/browse/:action`,{endpointId:n.endpointID,version:a.getAgentApiVersion},{ls:{method:\"GET\",isArray:!0,params:{action:\"ls\"}},get:{method:\"GET\",params:{action:\"get\"},transformResponse:i.browseGetResponse,responseType:\"arraybuffer\"},delete:{method:\"DELETE\",params:{action:\"delete\"}},rename:{method:\"PUT\",params:{action:\"rename\"}}})}s.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"StateManager\"],r().module(\"portainer.agent\").factory(\"Browse\",s)},26084:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e,t){return e(`${t}/:endpointId/agent/:endpointType/v2/dockerhub/:registryId`,{},{limits:{method:\"GET\",params:{registryId:\"@registryId\"}}})}i.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\"],r().module(\"portainer.agent\").factory(\"AgentDockerhub\",i)},74298:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e,t,n,a){return e(`${t}/:endpointId/docker/v:version/host/:action`,{endpointId:n.endpointID,version:a.getAgentApiVersion},{info:{method:\"GET\",params:{action:\"info\"}}})}i.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"StateManager\"],r().module(\"portainer.agent\").factory(\"Host\",i)},79688:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e,t,n,a){return e(`${t}/:endpointId/docker/ping`,{endpointId:n.endpointID},{ping:{method:\"GET\",interceptor:{response:function(e){const t=e.resource,n=e.headers(\"Portainer-Agent-Api-Version\")||1;return t.version=Number(n),t},responseError:function(e){return 404===e.status?{version:1}:a.reject(e)}}}})}i.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"$q\"],r().module(\"portainer.agent\").factory(\"AgentPing\",i)},94477:function(e,t,n){\"use strict\";function a(e){const t={};return t.file=e,t}n.r(t),n.d(t,{browseGetResponse:function(){return a}})},40941:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e,t,n){return e(`${t}/:endpointId/docker/agents`,{endpointId:n.endpointID},{query:{method:\"GET\",isArray:!0}})}i.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\"],r().module(\"portainer.agent\").factory(\"AgentVersion1\",i)},91130:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(94477);function s(e,t,n){return e(`${t}/:endpointId/docker/browse/:volumeID/:action`,{endpointId:n.endpointID},{ls:{method:\"GET\",isArray:!0,params:{action:\"ls\"}},get:{method:\"GET\",params:{action:\"get\"},transformResponse:i.browseGetResponse,responseType:\"arraybuffer\"},delete:{method:\"DELETE\",params:{action:\"delete\"}},rename:{method:\"PUT\",params:{action:\"rename\"}}})}s.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\"],r().module(\"portainer.agent\").factory(\"BrowseVersion1\",s)},78548:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(99662);function s(e,t,n,a,r){return{agents:async function(){const n=r.getState().endpoint.agentApiVersion,a=n>1?e:t;try{return(await a.query({version:n}).$promise).map((function(e){return new i.AgentViewModel(e)}))}catch(e){throw{msg:\"Unable to retrieve agents\",err:e}}},hostInfo:function(e){return n.setPortainerAgentTargetHeader(e),a.info().$promise}}}s.$inject=[\"Agent\",\"AgentVersion1\",\"HttpRequestHelper\",\"Host\",\"StateManager\"],r().module(\"portainer.agent\").factory(\"AgentService\",s)},77884:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e,t,n,a){return{ls:function(t){return e.ls({path:t}).$promise},get:function(t){return e.get({path:t}).$promise},delete:function(t){return e.delete({path:t}).$promise},rename:function(t,n){const a={CurrentFilePath:t,NewFilePath:n};return e.rename({},a).$promise},upload:function(e,r,i,s){const o=a.getAgentApiVersion(),l=`${n}/${e}/docker${o>1?\"/v\"+o:\"\"}/browse/put`;return new Promise(((e,n)=>{t.upload({url:l,data:{file:i,Path:r}}).then(e,n,s)}))}}}i.$inject=[\"Browse\",\"Upload\",\"API_ENDPOINT_ENDPOINTS\",\"StateManager\"],r().module(\"portainer.agent\").factory(\"HostBrowserService\",i)},38918:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e){return{ping:function(){return e.ping().$promise}}}i.$inject=[\"AgentPing\"],r().module(\"portainer.agent\").service(\"AgentPingService\",i)},45824:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e,t,n,a,r){return{ls:function(e,t){return s().ls({volumeID:e,path:t,version:i()}).$promise},get:function(e,t){return s().get({volumeID:e,path:t,version:i()}).$promise},delete:function(e,t){return s().delete({volumeID:e,path:t,version:i()}).$promise},rename:function(e,t,n){const a={CurrentFilePath:t,NewFilePath:n};return s().rename({volumeID:e,version:i()},a).$promise},upload:function(t,n,i,s,o){const l=e.getAgentApiVersion();if(l<2)throw new Error(\"upload is not supported on this agent version\");const c=`${a}/${t}/docker/v${l}/browse/put?volumeID=${s}`;return new Promise(((e,t)=>{r.upload({url:c,data:{file:i,Path:n}}).then(e,t,o)}))}};function i(){return e.getState().endpoint.agentApiVersion}function s(){return i()>1?t:n}}i.$inject=[\"StateManager\",\"Browse\",\"BrowseVersion1\",\"API_ENDPOINT_ENDPOINTS\",\"Upload\"],r().module(\"portainer.agent\").factory(\"VolumeBrowserService\",i)},14916:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(45119);function s(e,t){const n=t.$get();e.settings.pageTracking.trackRelativePath=!0,e.api.setPortainerStatus=i.E4,e.api.setUserRole=i.WR,e.api.clearUserRole=i.Fv,e.api.setUserEndpointRole=i.bd,e.api.clearUserEndpointRole=i.jU,e.api.setCustomVariable=function(e,t,n,a=\"page\"){(0,i.VF)(\"setCustomVariable\",e,t,n,a)},e.api.deleteCustomVariable=function(e,t=\"page\"){(0,i.VF)(\"deleteCustomVariable\",e,t)},e.api.trackSiteSearch=function(e,t,n){if(e){const a=[\"trackSiteSearch\",e,t||!1];r().isDefined(n)&&a.push(n),(0,i.VF)(a)}},e.api.trackGoal=function(e,t){(0,i.VF)(\"trackGoal\",e,t||0)},e.api.trackLink=function(e,t){const n=t||\"link\";(0,i.VF)(\"trackLink\",e,n)},e.registerSetUsername((function(e){(0,i.VF)(\"setUserId\",e)})),e.registerPageTrack((function(e){(0,i.VF)(\"setDocumentTitle\",n.document.title),(0,i.VF)(\"setReferrerUrl\",\"\"),(0,i.VF)(\"setCustomUrl\",\"http://portainer-ce.app\"+e),(0,i.VF)(\"trackPageView\")})),e.registerEventTrack(i.L9),e.registerExceptionTrack((function(e){(0,i.VF)(\"trackEvent\",\"Exceptions\",e.toString(),e.stack,0)}))}s.$inject=[\"$analyticsProvider\",\"$windowProvider\"],t.default=r().module(\"angulartics.matomo\",[\"angulartics\"]).config(s).name},54905:function(e,t,n){\"use strict\";n.r(t),n.d(t,{onStartupAngular:function(){return s}});var a=n(52474),r=n.n(a),i=n(74808);function s(e,t,n,a,s,o,l,c,d){s.initialize(),e.$state=t,e.defaultTitle=document.title;const u=l.set;l.set=function(e){e>l.status()&&u.apply(l,arguments)},c.onBefore({},(()=>{d.resetAgentHeaders()})),n((()=>{!function(e,t){const n=e.currentEndpoint();n&&n.Type==i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&t.ping(n.Id)}(s,o)}),6e4),r()(document).ajaxSend(((e,t,n)=>{const r=\"POST\"===n.type||\"PUT\"===n.type||\"PATCH\"===n.type,i=\"application/json\"!==n.contentType&&n.headers&&!n.headers[\"Content-Type\"];r&&i&&t.setRequestHeader(\"Content-Type\",\"application/json\"),t.setRequestHeader(\"Authorization\",\"Bearer \"+a.getJWT())}))}s.$inject=[\"$rootScope\",\"$state\",\"$interval\",\"LocalStorage\",\"EndpointProvider\",\"SystemService\",\"cfpLoadingBar\",\"$transitions\",\"HttpRequestHelper\"]},42311:function(e,t,n){\"use strict\";n.r(t),n(24026)},18194:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(66960),s=n(39532),o=n(89023),l=n(64062),c=n(2629);function d(e){var t=e.path,n=e.pathParams,a=e.iconClass,r=e.className,i=e.itemName,d=e.children;return(0,c.jsx)(\"li\",{className:(0,s.Z)(\"sidebar-menu-item\",\"app-portainer-components-sidebar-SidebarMenuItem-SidebarMenuItem-module__sidebar-menu-item\",r),\"aria-label\":i,children:(0,c.jsx)(o.UISrefActive,{class:\"active\",children:(0,c.jsxs)(l.r,{to:t,params:n,title:i,children:[d,a&&(0,c.jsx)(\"i\",{className:(0,s.Z)(\"menu-icon fa\",a),\"aria-label\":\"itemIcon\"})]})})})}var u=(0,i.A)((function(e){var t=e.environmentId;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d,{path:\"azure.dashboard\",pathParams:{endpointId:t},iconClass:\"fa-tachometer-alt fa-fw\",className:\"sidebar-list\",itemName:\"Dashboard\",\"data-cy\":\"azureSidebar-dashboard\",children:\"Dashboard\"}),(0,c.jsx)(d,{path:\"azure.containerinstances\",pathParams:{endpointId:t},iconClass:\"fa-cubes fa-fw\",className:\"sidebar-list\",itemName:\"ContainerInstances\",\"data-cy\":\"azureSidebar-containerInstances\",children:\"Container instances\"})]})}),[\"environmentId\"]),p=(n(89999),n(58613),n(65562),n(93742),n(95004)),m=n(45588),g=n(58852),h=n(90635);function f(e){var t=e.value,n=e.icon,a=e.type;return(0,c.jsx)(\"div\",{className:\"col-sm-12 col-md-6\",\"aria-label\":a,children:(0,c.jsx)(h.$L,{children:(0,c.jsxs)(h.kh,{children:[(0,c.jsx)(\"div\",{className:\"widget-icon blue pull-left\",children:(0,c.jsx)(\"i\",{className:n,\"aria-hidden\":\"true\",\"aria-label\":\"icon\"})}),(0,c.jsx)(\"div\",{className:\"title\",\"aria-label\":\"value\",children:t}),(0,c.jsx)(\"div\",{className:\"comment\",\"aria-label\":\"resourceType\",children:a})]})})})}var v=n(46021),b=(n(50527),n(20810)),y=n.n(b),w=(n(40958),n(92429),n(42240),n(25212),n(78495),n(51641)),x=n(99210),S=n(38914);function C(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){C(i,a,r,s,o,\"next\",e)}function o(e){C(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}var $=(0,i.A)((function(){var e,t=(0,m.C)(),n=function(e){return(0,w.useQuery)(\"azure.subscriptions\",(function(){return(0,S.t)(e)}),{meta:{error:{title:\"Failure\",message:\"Unable to retrieve Azure subscriptions\"}}})}(t);(0,p.useEffect)((function(){n.isError&&(0,v.vU)(\"Failure\",n.error,\"Unable to retrieve subscriptions\")}),[n.error,n.isError]);var a=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=(0,w.useQueries)(n.map((function(t){return{queryKey:[\"azure\",e,\"subscriptions\",t.subscriptionId,\"resourceGroups\"],queryFn:(n=k(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,x.k)(e,t.subscriptionId);case 2:return a=n.sent,n.abrupt(\"return\",[t.subscriptionId,a]);case 4:case\"end\":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)}),meta:{error:{title:\"Failure\",message:\"Unable to retrieve Azure resource groups\"}}};var n})));return{resourceGroups:Object.fromEntries(y()(a.map((function(e){return e.data?e.data:null})))),isLoading:a.some((function(e){return e.isLoading})),isError:a.some((function(e){return e.isError})),error:(null===(t=a.find((function(e){return e.error})))||void 0===t?void 0:t.error)||null}}(t,n.data);if((0,p.useEffect)((function(){a.isError&&a.error&&(0,v.vU)(\"Failure\",a.error,\"Unable to retrieve resource groups\")}),[a.error,a.isError]),n.isLoading||a.isLoading)return null;var r=null==n||null===(e=n.data)||void 0===e?void 0:e.length,i=Object.values(null==a?void 0:a.resourceGroups).flatMap((function(e){return Object.values(e)})).length;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(g.mr,{title:\"Home\",breadcrumbs:[{label:\"Dashboard\"}]}),!n.isError&&(0,c.jsxs)(\"div\",{className:\"row\",children:[(0,c.jsx)(f,{value:r,icon:\"fa fa-th-list\",type:\"Subscriptions\"}),!a.isError&&(0,c.jsx)(f,{value:i,icon:\"fa fa-th-list\",type:\"Resource groups\"})]})]})}),[]),A=(n(20493),n(47771),n(26256)),P=n(18480),I=n(87869),T=n(71718),N=n(56268),E=n(50265),R=(n(78433),n(50033),n(28001),n(66549),n(47097),n(98191),n(62176),n(16413)),D=n(1004),O=n(30424);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){var t,n=e.values,a=e.onChange,r=e.hideTitle,i=e.formNamespace,s=e.errors,o=(0,E.aF)().isAdmin,l=n.ownership!==O.X.PUBLIC;return(0,c.jsxs)(c.Fragment,{children:[!r&&(0,c.jsx)(T.i,{children:\"Access control\"}),(0,c.jsx)(\"div\",{className:\"form-group\",children:(0,c.jsx)(\"div\",{className:\"col-sm-12\",children:(0,c.jsx)(R.K,{checked:l,name:(t=\"accessControlEnabled\",i?\"\".concat(i,\".\").concat(t):t),label:\"Enable access control\",tooltip:\"When enabled, you can restrict the access and management of this resource.\",onChange:function(e){var t=O.X.PUBLIC;e&&(t=o?O.X.ADMINISTRATORS:O.X.PRIVATE),a(U(U({},n),{},{ownership:t}))},dataCy:\"portainer-accessMgmtToggle\"})})}),l&&(0,c.jsx)(D.o,{onChange:a,values:n,errors:s,formNamespace:i})]})}var L=n(88606),_=n(72138);var M=n(16986),K=n(81093),B=(0,p.createContext)(null);function H(){if(null==(0,p.useContext)(B))throw new Error(\"Should be inside a InputGroup component\")}function G(e){switch(e){case\"large\":return\"input-group-lg\";case\"small\":return\"input-group-sm\";default:return\"\"}}var z=function(e){var t=e.children,n=e.size;return(0,c.jsx)(B.Provider,{value:!0,children:(0,c.jsx)(\"div\",{className:(0,s.Z)(\"input-group\",G(n)),children:t})})};z.Addon=function(e){var t=e.children;return H(),(0,c.jsx)(\"span\",{className:\"input-group-addon\",children:t})},z.ButtonWrapper=function(e){var t=e.children;return H(),(0,c.jsx)(\"span\",{className:\"input-group-btn\",children:t})},z.Input=I.I;var q=n(24945);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){var t=e.value,n=e.onChange,a=e.errors;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(q.Q,{label:\"Port mapping\",value:t,onChange:n,addLabel:\"map additional port\",itemBuilder:function(){return{host:\"\",container:\"\",protocol:\"TCP\"}},item:J,errors:a}),\"string\"==typeof a&&(0,c.jsx)(\"div\",{className:\"form-group col-md-12\",children:(0,c.jsx)(K.X,{children:a})})]})}function J(e){var t=e.onChange,n=e.item,a=e.error;return(0,c.jsxs)(\"div\",{className:\"app-azure-ContainerInstances-CreateContainerInstanceForm-PortsMappingField-module__item\",children:[(0,c.jsxs)(\"div\",{className:\"flex items-center gap-2\",children:[(0,c.jsxs)(z,{size:\"small\",children:[(0,c.jsx)(z.Addon,{children:\"host\"}),(0,c.jsx)(z.Input,{placeholder:\"e.g. 80\",value:n.host,onChange:function(e){return r(\"host\",e.target.value)}})]}),(0,c.jsx)(\"span\",{className:\"mx-3\",children:(0,c.jsx)(\"i\",{className:\"fa fa-long-arrow-alt-right\",\"aria-hidden\":\"true\"})}),(0,c.jsxs)(z,{size:\"small\",children:[(0,c.jsx)(z.Addon,{children:\"container\"}),(0,c.jsx)(z.Input,{placeholder:\"e.g. 80\",value:n.container,onChange:function(e){return r(\"container\",e.target.value)}})]}),(0,c.jsx)(M.K,{onChange:function(e){return r(\"protocol\",e)},value:n.protocol,options:[{value:\"TCP\"},{value:\"UDP\"}]})]}),!!a&&(0,c.jsx)(\"div\",{className:\"app-azure-ContainerInstances-CreateContainerInstanceForm-PortsMappingField-module__errors\",children:(0,c.jsx)(K.X,{children:Object.values(a)[0]})})]});function r(e,a){t(Y(Y({},n),{},Q({},e,a)))}}var X=n(6811),ee=n(51235),te=n.n(ee);function ne(e){var t=e.id,n=e.namespace,a=e.resourceTypes,r=(te()(a,{resourceType:\"containerGroups\"})||{}).locations;return{id:t,namespace:n,locations:void 0===r?[]:r}}var ae=n(89935);function re(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){re(i,a,r,s,o,\"next\",e)}function o(e){re(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function se(){return(se=ie(regeneratorRuntime.mark((function e(t,n){var a,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=\"/endpoints/\".concat(t,\"/azure/subscriptions/\").concat(n,\"/providers/Microsoft.ContainerInstance\"),e.next=4,X.ZP.get(a,{params:{\"api-version\":\"2018-02-01\"}});case 4:return r=e.sent,i=r.data,e.abrupt(\"return\",ne(i));case 9:throw e.prev=9,e.t0=e.catch(0),(0,X.vs)(e.t0,\"Unable to retrieve provider\",ae.p);case 12:case\"end\":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var oe=n(88114);function le(e,t){return e&&t&&t[e]?t[e].map((function(e){var t=e.name;return{value:e.id,label:t}})):[]}function ce(e,t){if(!e||!t)return[];var n=t[e];return n?n.locations.map((function(e){return{value:e,label:e}})):[]}function de(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){de(i,a,r,s,o,\"next\",e)}function o(e){de(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function pe(){return(pe=ue(regeneratorRuntime.mark((function e(t,n,a,r){var i,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ge(t),e.prev=1,e.next=4,X.ZP.put(me(n,a,r,t.name),i,{params:{\"api-version\":\"2018-04-01\"}});case 4:return s=e.sent,o=s.data,e.abrupt(\"return\",o);case 9:throw e.prev=9,e.t0=e.catch(1),(0,X.vs)(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function me(e,t,n,a){return\"/endpoints/\".concat(e,\"/azure/subscriptions/\").concat(t,\"/resourceGroups/\").concat(n,\"/providers/Microsoft.ContainerInstance/containerGroups/\").concat(a)}function ge(e){for(var t=[],n=[],a=e.ports.filter((function(e){return e.container&&e.host})),r=0;r<a.length;r+=1){var i=a[r];t.push({port:i.container}),n.push({port:i.host,protocol:i.protocol})}return{location:e.location,properties:{osType:e.os,containers:[{name:e.name,properties:{image:e.image,ports:t,resources:{requests:{cpu:e.cpu,memoryInGB:e.memory}}}}],ipAddress:{type:e.allocatePublicIP?\"Public\":\"Private\",ports:n}}}}var he=n(20023),fe=n(15569);function ve(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function be(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){be(i,a,r,s,o,\"next\",e)}function o(e){be(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function we(){var e=(0,o.useCurrentStateAndParams)().params.endpointId;if(!e)throw new Error(\"endpointId url param is required\");var t=(0,E.aF)().isAdmin,n=function(e,t){var n=function(e){var t=(0,w.useQuery)(\"azure.subscriptions\",(function(){return(0,S.t)(e)})),n=t.data,a=t.isError,r=t.error,i=t.isLoading;return(0,p.useEffect)((function(){a&&v.vU(\"Failure\",r,\"Unable to retrieve Azure resources\")}),[a,r]),{subscriptions:n||[],isLoading:i}}(e),a=n.subscriptions,r=n.isLoading,i=function(e,t){var n=(0,w.useQueries)(t.map((function(t){return{queryKey:[\"azure.resourceGroups\",t.subscriptionId],queryFn:function(){return(0,x.k)(e,t.subscriptionId)}}})));return(0,p.useEffect)((function(){var e=n.find((function(e){return e.error}));e&&v.vU(\"Failure\",e.error,\"Unable to retrieve Azure resources\")}),[n]),{resourceGroups:Object.fromEntries(n.map((function(e,n){return[t[n].subscriptionId,e.data||[]]}))),isLoading:n.some((function(e){return e.isLoading}))}}(e,a),s=i.resourceGroups,o=i.isLoading,l=function(e,t){var n=(0,w.useQueries)(t.map((function(t){return{queryKey:[\"azure.containerInstanceProvider\",t.subscriptionId],queryFn:function(){return function(e,t){return se.apply(this,arguments)}(e,t.subscriptionId)}}})));return(0,p.useEffect)((function(){var e=n.find((function(e){return e.error}));e&&v.vU(\"Failure\",e.error,\"Unable to retrieve Azure resources\")}),[n]),{providers:Object.fromEntries(n.map((function(e,n){return[t[n].subscriptionId,e.data]}))),isLoading:n.some((function(e){return e.isLoading}))}}(e,a),c=l.providers,d=l.isLoading,u=(null==a?void 0:a.map((function(e){return{value:e.subscriptionId,label:e.displayName}})))||[],m=h(u),g=le(m,s);return{isUserAdmin:t,initialValues:{name:\"\",location:h(ce(m,c)),subscription:m,resourceGroup:h(g),image:\"\",os:\"Linux\",memory:1,cpu:1,ports:[{container:\"80\",host:\"80\",protocol:\"TCP\"}],allocatePublicIP:!0,accessControl:(0,oe.d)(t)},subscriptions:u,resourceGroups:s,providers:c,isLoading:d||o||r};function h(e){if(0!==e.length)return e[0].value}}(e,t),a=n.initialValues,r=n.isLoading,i=n.providers,s=n.subscriptions,l=n.resourceGroups,d=(0,o.useRouter)(),u=function(e,t){var n=(0,w.useQueryClient)();return(0,w.useMutation)((function(n){if(!n.subscription)throw new he.Z(\"subscription is required\");var a=le(n.subscription,e).find((function(e){return e.value===n.resourceGroup}));if(!a)throw new he.Z(\"resource group not found\");return function(e,t,n,a){return pe.apply(this,arguments)}(n,t,n.subscription,a.label)}),{onSuccess:function(e,t){return(a=regeneratorRuntime.mark((function a(){var r,i,s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=null===(r=e.Portainer)||void 0===r?void 0:r.ResourceControl){a.next=3;break}throw new he.Z(\"resource control expected after creation\");case 3:return s=t.accessControl,a.next=6,(0,fe.e)(s,i);case 6:n.invalidateQueries([\"azure\",\"container-instances\"]);case 7:case\"end\":return a.stop()}}),a)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var i=a.apply(e,t);function s(e){ve(i,n,r,s,o,\"next\",e)}function o(e){ve(i,n,r,s,o,\"throw\",e)}s(void 0)}))})();var a}})}(l,e).mutateAsync;return r?null:(0,c.jsx)(A.J9,{initialValues:a,validationSchema:function(){return function(e){return(0,L.Ry)().shape({name:(0,L.Z_)().required(\"Name is required.\"),image:(0,L.Z_)().required(\"Image is required.\"),subscription:(0,L.Z_)().required(\"Subscription is required.\"),resourceGroup:(0,L.Z_)().required(\"Resource group is required.\"),location:(0,L.Z_)().required(\"Location is required.\"),os:(0,L.Z_)().oneOf([\"Linux\",\"Windows\"]),cpu:(0,L.Rx)().positive(),memory:(0,L.Rx)().positive(),allocatePublicIP:(0,L.O7)(),ports:(0,L.IX)((0,L.Ry)().shape({host:(0,L.Z_)().required(\"host is required\"),container:(0,L.Z_)().required(\"container is required\"),protocol:(0,L.Z_)().oneOf([\"TCP\",\"UDP\"])})).min(1,\"At least one port binding is required\"),accessControl:(0,_.p)(e)})}(t)},onSubmit:function(e){return m.apply(this,arguments)},validateOnMount:!0,validateOnChange:!0,enableReinitialize:!0,children:function(e){var t=e.errors,n=e.handleSubmit,a=e.isSubmitting,r=e.isValid,o=e.values,d=e.setFieldValue;return(0,c.jsxs)(A.l0,{className:\"form-horizontal\",onSubmit:n,noValidate:!0,children:[(0,c.jsx)(T.i,{children:\"Azure settings\"}),(0,c.jsx)(P.N,{label:\"Subscription\",inputId:\"subscription-input\",errors:t.subscription,children:(0,c.jsx)(A.gN,{name:\"subscription\",as:I.P,id:\"subscription-input\",options:s})}),(0,c.jsx)(P.N,{label:\"Resource group\",inputId:\"resourceGroup-input\",errors:t.resourceGroup,children:(0,c.jsx)(A.gN,{name:\"resourceGroup\",as:I.P,id:\"resourceGroup-input\",options:le(o.subscription,l)})}),(0,c.jsx)(P.N,{label:\"Location\",inputId:\"location-input\",errors:t.location,children:(0,c.jsx)(A.gN,{name:\"location\",as:I.P,id:\"location-input\",options:ce(o.subscription,i)})}),(0,c.jsx)(T.i,{children:\"Container configuration\"}),(0,c.jsx)(P.N,{label:\"Name\",inputId:\"name-input\",errors:t.name,children:(0,c.jsx)(A.gN,{name:\"name\",as:I.I,id:\"name-input\",placeholder:\"e.g. myContainer\"})}),(0,c.jsx)(P.N,{label:\"Image\",inputId:\"image-input\",errors:t.image,children:(0,c.jsx)(A.gN,{name:\"image\",as:I.I,id:\"image-input\",placeholder:\"e.g. nginx:alpine\"})}),(0,c.jsx)(P.N,{label:\"OS\",inputId:\"os-input\",errors:t.os,children:(0,c.jsx)(A.gN,{name:\"os\",as:I.P,id:\"os-input\",options:[{label:\"Linux\",value:\"Linux\"},{label:\"Windows\",value:\"Windows\"}]})}),(0,c.jsx)(Z,{value:o.ports,onChange:function(e){return d(\"ports\",e)},errors:t.ports}),(0,c.jsx)(\"div\",{className:\"form-group\",children:(0,c.jsx)(\"div\",{className:\"col-sm-12 small text-muted\",children:\"This will automatically deploy a container with a public IP address\"})}),(0,c.jsx)(T.i,{children:\"Container Resources\"}),(0,c.jsx)(P.N,{label:\"CPU\",inputId:\"cpu-input\",errors:t.cpu,children:(0,c.jsx)(A.gN,{name:\"cpu\",as:I.I,id:\"cpu-input\",type:\"number\",placeholder:\"1\"})}),(0,c.jsx)(P.N,{label:\"Memory\",inputId:\"cpu-input\",errors:t.memory,children:(0,c.jsx)(A.gN,{name:\"memory\",as:I.I,id:\"memory-input\",type:\"number\",placeholder:\"1\"})}),(0,c.jsx)(F,{formNamespace:\"accessControl\",onChange:function(e){return d(\"accessControl\",e)},values:o.accessControl,errors:t.accessControl}),(0,c.jsx)(\"div\",{className:\"form-group\",children:(0,c.jsx)(\"div\",{className:\"col-sm-12\",children:(0,c.jsxs)(N.f,{disabled:!r,isLoading:a,loadingText:\"Deployment in progress...\",children:[(0,c.jsx)(\"i\",{className:\"fa fa-plus space-right\",\"aria-hidden\":\"true\"}),\"Deploy the container\"]})})})]})}});function m(){return(m=ye(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t);case 3:v.Vp(\"Container successfully created\",t.name),d.stateService.go(\"azure.containerinstances\"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v.vU(\"Failure\",e.t0,\"Unable to create container\");case 10:case\"end\":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}}var xe=(0,i.A)((function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(g.mr,{title:\"Create container instance\",breadcrumbs:[{link:\"azure.containerinstances\",label:\"Container instances\"},{label:\"Add container\"}]}),(0,c.jsx)(\"div\",{className:\"row\",children:(0,c.jsx)(\"div\",{className:\"col-sm-12\",children:(0,c.jsx)(h.$L,{children:(0,c.jsx)(h.kh,{children:(0,c.jsx)(we,{})})})})})]})}),[]),Se=r().module(\"portainer.azure.containerInstances\",[]).component(\"createContainerInstanceView\",xe).name,Ce=r().module(\"portainer.azure.react.components\",[]).name,ke=r().module(\"portainer.azure.react.views\",[]).name,$e=r().module(\"portainer.azure.react\",[ke,Ce]).name;const Ae=n(14394);r().module(\"portainer.azure\",[\"portainer.app\",Se,$e]).config([\"$stateRegistryProvider\",function(e){var t={name:\"azure.containerinstances\",url:\"/containerinstances\",views:{\"content@\":{templateUrl:Ae,controller:\"AzureContainerInstancesController\"}}};e.register({name:\"azure\",url:\"/azure\",parent:\"endpoint\",abstract:!0,onEnter:[\"$async\",\"$state\",\"endpoint\",\"EndpointProvider\",\"Notifications\",\"StateManager\",function(e,t,n,a,r,i){return e((async()=>{if(3===n.Type)try{a.setEndpointID(n.Id),a.setEndpointPublicURL(n.PublicURL),a.setOfflineModeFromStatus(n.Status),await i.updateEndpointState(n,[])}catch(e){r.error(\"Failed loading environment\",e),t.go(\"portainer.home\",{},{reload:!0})}else t.go(\"portainer.home\")}))}]}),e.register(t),e.register({name:\"azure.containerinstances.container\",url:\"/:id\",views:{\"content@\":{component:\"containerInstanceDetails\"}}}),e.register({name:\"azure.containerinstances.new\",url:\"/new/\",views:{\"content@\":{component:\"createContainerInstanceView\"}}}),e.register({name:\"azure.dashboard\",url:\"/dashboard\",views:{\"content@\":{component:\"dashboardView\"}}})}]).component(\"azureSidebar\",u).component(\"dashboardView\",$)},74370:function(e,t,n){const a=n(48863);angular.module(\"portainer.azure\").component(\"azureEndpointConfig\",{bindings:{applicationId:\"=\",tenantId:\"=\",authenticationKey:\"=\"},templateUrl:a})},79380:function(e,t,n){const a=n(76974);angular.module(\"portainer.azure\").component(\"containergroupsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\"}})},73216:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ContainerGroupDefaultModel:function(){return i},ContainerGroupViewModel:function(){return s}});var a=n(19898),r=n(24989);function i(){this.Location=\"\",this.OSType=\"Linux\",this.Name=\"\",this.Image=\"\",this.AllocatePublicIP=!0,this.Ports=[{container:80,host:80,protocol:\"TCP\"}],this.CPU=1,this.Memory=1,this.AccessControlData=new a.AccessControlFormData}function s(e){const t=e.properties.ipAddress?e.properties.ipAddress.ports:[],n=e.properties.containers.length?e.properties.containers[0]:{},a=n?n.properties.ports:[];this.Id=e.id,this.Name=e.name,this.Location=e.location,this.IPAddress=e.properties.ipAddress?e.properties.ipAddress.ip:\"\",this.Ports=t.length?t.map(((e,t)=>({container:a[t]&&a[t].port||void 0,host:e.port,protocol:e.protocol}))):[],this.Image=n.properties.image||\"\",this.OSType=e.properties.osType,this.AllocatePublicIP=e.properties.ipAddress&&\"Public\"===e.properties.ipAddress.type,this.CPU=n.properties.resources.requests.cpu,this.Memory=n.properties.resources.requests.memoryInGB,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new r.w(e.Portainer.ResourceControl))}},76606:function(e,t,n){\"use strict\";function a(e){this.Id=e.id,this.SubscriptionId=e.subscriptionId,this.DisplayName=e.displayName,this.Name=e.name}n.r(t),n.d(t,{LocationViewModel:function(){return a}})},18779:function(e,t,n){\"use strict\";function a(e,t){this.Id=e.id,this.SubscriptionId=t,this.Name=e.name,this.Location=e.location}n.r(t),n.d(t,{ResourceGroupViewModel:function(){return a}})},79350:function(e,t,n){\"use strict\";function a(e){this.Id=e.subscriptionId,this.Name=e.displayName}n.r(t),n.d(t,{SubscriptionViewModel:function(){return a}})},1944:function(){angular.module(\"portainer.azure\").factory(\"Azure\",[\"$http\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return{delete:function(a,r){var i=t+\"/\"+n.endpointID()+\"/azure\"+a+\"?api-version=\"+r;return e({method:\"DELETE\",url:i})}}}])},29382:function(){angular.module(\"portainer.azure\").factory(\"ContainerGroup\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";var a={},r=e(t+\"/:endpointId/azure/subscriptions/:subscriptionId/providers/Microsoft.ContainerInstance/containerGroups\",{endpointId:n.endpointID,\"api-version\":\"2018-04-01\"},{query:{method:\"GET\",params:{subscriptionId:\"@subscriptionId\"}}}),i=e(t+\"/:endpointId/azure/subscriptions/:subscriptionId/resourceGroups/:resourceGroupName/providers/Microsoft.ContainerInstance/containerGroups/:containerGroupName\",{endpointId:n.endpointID,\"api-version\":\"2018-04-01\"},{create:{method:\"PUT\",params:{subscriptionId:\"@subscriptionId\",resourceGroupName:\"@resourceGroupName\",containerGroupName:\"@containerGroupName\"}},get:{method:\"GET\"}});return a.query=r.query,a.create=i.create,a.get=i.get,a}])},59630:function(){angular.module(\"portainer.azure\").factory(\"Location\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/azure/subscriptions/:subscriptionId/locations\",{endpointId:n.endpointID,\"api-version\":\"2016-06-01\"},{query:{method:\"GET\",params:{subscriptionId:\"@subscriptionId\"}}})}])},55489:function(){angular.module(\"portainer.azure\").factory(\"Provider\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/azure/subscriptions/:subscriptionId/providers/:providerNamespace\",{endpointId:n.endpointID,\"api-version\":\"2018-02-01\"},{get:{method:\"GET\",params:{subscriptionId:\"@subscriptionId\",providerNamespace:\"@providerNamespace\"}}})}])},88609:function(){angular.module(\"portainer.azure\").factory(\"ResourceGroup\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/azure/subscriptions/:subscriptionId/resourcegroups/:resourceGroupName\",{endpointId:n.endpointID,\"api-version\":\"2018-02-01\"},{query:{method:\"GET\",params:{subscriptionId:\"@subscriptionId\"}},get:{method:\"GET\"}})}])},33086:function(){angular.module(\"portainer.azure\").factory(\"Subscription\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/azure/subscriptions/:id\",{endpointId:n.endpointID,\"api-version\":\"2016-06-01\"},{get:{method:\"GET\",params:{id:\"@id\"}}})}])},8961:function(e,t,n){\"use strict\";n.r(t),n.d(t,{AzureService:function(){return o}});var a=n(18779),r=n(79350),i=n(99210),s=n(38914);function o(e,t,n,o,l){var c={};function d(t,n){for(var a=e.defer(),r={},i=[],s=0;s<t.length;s++){var o=t[s];i.push(n(o.Id))}return e.all(i).then((function(e){for(var n=0;n<e.length;n++){var i=e[n];r[t[n].Id]=i}a.resolve(r)})).catch((function(e){a.reject({msg:\"Unable to retrieve resources\",err:e})})),a.promise}return c.deleteContainerGroup=function(e){return t.delete(e,\"2018-04-01\")},c.subscriptions=async function(){return n((async()=>{const e=o.endpointID();return(await(0,s.t)(e)).map((e=>new r.SubscriptionViewModel(e)))}))},c.resourceGroups=function(e){return n((async()=>d(e,(async e=>{const t=o.endpointID();return(await(0,i.k)(t,e)).map((t=>new a.ResourceGroupViewModel(t,e)))}))))},c.containerGroups=function(e){return d(e,l.containerGroups)},c.aggregate=function(e){var t=[];return Object.keys(e).forEach((function(n){t=t.concat(e[n])})),t},c}o.$inject=[\"$q\",\"Azure\",\"$async\",\"EndpointProvider\",\"ContainerGroupService\"],angular.module(\"portainer.azure\").factory(\"AzureService\",o)},58825:function(e,t,n){\"use strict\";n.r(t);var a=n(73216);angular.module(\"portainer.azure\").factory(\"ContainerGroupService\",[\"$q\",\"ContainerGroup\",function(e,t){var n={containerGroups:function(n){var r=e.defer();return t.query({subscriptionId:n}).$promise.then((function(e){var t=e.value.map((function(e){return new a.ContainerGroupViewModel(e)}));r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve container groups\",err:e})})),r.promise},containerGroup:async function(e,n,r){const i=await t.get({subscriptionId:e,resourceGroupName:n,containerGroupName:r}).$promise;return new a.ContainerGroupViewModel(i)}};return n}])},49153:function(e,t,n){\"use strict\";n.r(t);var a=n(76606);angular.module(\"portainer.azure\").factory(\"LocationService\",[\"$q\",\"Location\",function(e,t){return{locations:function(n){var r=e.defer();return t.query({subscriptionId:n}).$promise.then((function(e){var t=e.value.map((function(e){return new a.LocationViewModel(e)}));r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve locations\",err:e})})),r.promise}}}])},62964:function(e,t,n){\"use strict\";n.r(t);var a=n(18779);angular.module(\"portainer.azure\").factory(\"ResourceGroupService\",[\"$q\",\"ResourceGroup\",function(e,t){var n={resourceGroup:async function(e,n){const r=await t.get({subscriptionId:e,resourceGroupName:n}).$promise;return new a.ResourceGroupViewModel(r)}};return n}])},96564:function(e,t,n){\"use strict\";n.r(t);var a=n(79350);angular.module(\"portainer.azure\").factory(\"SubscriptionService\",[\"$q\",\"Subscription\",function(e,t){return{subscription:async function(e){const n=await t.get({id:e}).$promise;return new a.SubscriptionViewModel(n)}}}])},50309:function(e,t,n){\"use strict\";n.r(t);var a=n(30424);class r{constructor(e,t,n,r,i,s){Object.assign(this,{$state:e,AzureService:t,ContainerGroupService:n,Notifications:r,ResourceGroupService:i,SubscriptionService:s}),this.state={loading:!1},this.resourceType=a.O.ContainerGroup,this.container=null,this.subscription=null,this.resourceGroup=null,this.onUpdateSuccess=this.onUpdateSuccess.bind(this)}onUpdateSuccess(){this.$state.reload()}async $onInit(){this.state.loading=!0;const{id:e}=this.$state.params,{subscriptionId:t,resourceGroupId:n,containerGroupId:a}=function(e){const[,t,n,,a]=e.match(/^\\/subscriptions\\/(.+)\\/resourceGroups\\/(.+)\\/providers\\/(.+)\\/containerGroups\\/(.+)$/);return{subscriptionId:t,resourceGroupId:n,containerGroupId:a}}(e);try{this.subscription=await this.SubscriptionService.subscription(t),this.container=await this.ContainerGroupService.containerGroup(t,n,a),this.resourceGroup=await this.ResourceGroupService.resourceGroup(t,n)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve container instance details\")}this.state.loading=!1}}r.$inject=[\"$state\",\"AzureService\",\"ContainerGroupService\",\"Notifications\",\"ResourceGroupService\",\"SubscriptionService\"],t.default=r},9877:function(e,t,n){\"use strict\";n.r(t);var a=n(50309);const r=n(16622);angular.module(\"portainer.azure\").component(\"containerInstanceDetails\",{templateUrl:r,controller:a.default})},56701:function(){angular.module(\"portainer.azure\").controller(\"AzureContainerInstancesController\",[\"$scope\",\"$state\",\"AzureService\",\"Notifications\",function(e,t,n,a){e.deleteAction=function(r){var i=r.length;angular.forEach(r,(function(r){n.deleteContainerGroup(r.Id).then((function(){a.success(\"Container group successfully removed\",r.Name);var t=e.containerGroups.indexOf(r);e.containerGroups.splice(t,1)})).catch((function(e){a.error(\"Failure\",e,\"Unable to remove container group\")})).finally((function(){0==--i&&t.reload()}))}))},n.subscriptions().then((function(e){var t=e;return n.containerGroups(t)})).then((function(t){e.containerGroups=n.aggregate(t)})).catch((function(e){a.error(\"Failure\",e,\"Unable to load container groups\")}))}])},98767:function(e,t,n){\"use strict\";n.r(t),n.d(t,{configApp:function(){return s}});var a=n(96049),r=n(13501),i=n(6811);function s(e,t,n,s,o,l,c){n.setPrefix(\"portainer\"),s.config({tokenGetter:[\"LocalStorage\",function(e){return e.getJWT()}],whiteListedDomains:[\"localhost\"]}),t.interceptors.push(\"jwtInterceptor\"),t.interceptors.push(\"EndpointStatusInterceptor\"),t.defaults.headers.post[\"Content-Type\"]=\"application/json\",t.defaults.headers.put[\"Content-Type\"]=\"application/json\",t.defaults.headers.patch[\"Content-Type\"]=\"application/json\",t.interceptors.push((()=>({request:i.Ee}))),a.o.applyAddon(r),o.setTriggers({mouseenter:\"mouseleave\",click:\"click\",focus:\"blur\",outsideClick:\"outsideClick\"}),c.includeSpinner=!1,c.parentSelector=\"#loadingbar-placeholder\",c.latencyThreshold=600,e.otherwise(\"/auth\")}s.$inject=[\"$urlRouterProvider\",\"$httpProvider\",\"localStorageServiceProvider\",\"jwtOptionsProvider\",\"$uibTooltipProvider\",\"$compileProvider\",\"cfpLoadingBarProvider\"]},71541:function(e,t,n){\"use strict\";n.r(t),n.d(t,{API_ENDPOINT_AUTH:function(){return a},API_ENDPOINT_BACKUP:function(){return r},API_ENDPOINT_CUSTOM_TEMPLATES:function(){return i},API_ENDPOINT_EDGE_GROUPS:function(){return s},API_ENDPOINT_EDGE_JOBS:function(){return o},API_ENDPOINT_EDGE_STACKS:function(){return l},API_ENDPOINT_EDGE_TEMPLATES:function(){return c},API_ENDPOINT_ENDPOINTS:function(){return d},API_ENDPOINT_ENDPOINT_GROUPS:function(){return u},API_ENDPOINT_KUBERNETES:function(){return p},API_ENDPOINT_MOTD:function(){return m},API_ENDPOINT_REGISTRIES:function(){return g},API_ENDPOINT_RESOURCE_CONTROLS:function(){return h},API_ENDPOINT_SETTINGS:function(){return f},API_ENDPOINT_STACKS:function(){return v},API_ENDPOINT_STATUS:function(){return b},API_ENDPOINT_SUPPORT:function(){return y},API_ENDPOINT_USERS:function(){return w},API_ENDPOINT_TAGS:function(){return x},API_ENDPOINT_TEAMS:function(){return S},API_ENDPOINT_TEAM_MEMBERSHIPS:function(){return C},API_ENDPOINT_TEMPLATES:function(){return k},API_ENDPOINT_WEBHOOKS:function(){return $},DEFAULT_TEMPLATES_URL:function(){return A},PAGINATION_MAX_ITEMS:function(){return P},APPLICATION_CACHE_VALIDITY:function(){return I},CONSOLE_COMMANDS_LABEL_PREFIX:function(){return T},PREDEFINED_NETWORKS:function(){return N},KUBERNETES_DEFAULT_NAMESPACE:function(){return E},KUBERNETES_SYSTEM_NAMESPACES:function(){return R},PORTAINER_FADEOUT:function(){return D},STACK_NAME_VALIDATION_REGEX:function(){return O},TEMPLATE_NAME_VALIDATION_REGEX:function(){return V},BROWSER_OS_PLATFORM:function(){return U},NEW_LINE_BREAKER:function(){return j}});const a=\"api/auth\",r=\"api/backup\",i=\"api/custom_templates\",s=\"api/edge_groups\",o=\"api/edge_jobs\",l=\"api/edge_stacks\",c=\"api/edge_templates\",d=\"api/endpoints\",u=\"api/endpoint_groups\",p=\"api/kubernetes\",m=\"api/motd\",g=\"api/registries\",h=\"api/resource_controls\",f=\"api/settings\",v=\"api/stacks\",b=\"api/status\",y=\"api/support\",w=\"api/users\",x=\"api/tags\",S=\"api/teams\",C=\"api/team_memberships\",k=\"api/templates\",$=\"api/webhooks\",A=\"https://raw.githubusercontent.com/portainer/templates/master/templates.json\",P=10,I=3600,T=\"io.portainer.commands.\",N=[\"host\",\"bridge\",\"ingress\",\"nat\",\"none\"],E=\"default\",R=[\"kube-system\",\"kube-public\",\"kube-node-lease\",\"portainer\"],D=1500,O=\"^[-_a-z0-9]+$\",V=\"^[-_a-z0-9]+$\",U=navigator.userAgent.indexOf(\"Windows NT\")>-1?\"win\":\"lin\",j=\"win\"===U?\"\\r\\n\":\"\\n\";angular.module(\"portainer\").constant(\"API_ENDPOINT_AUTH\",a).constant(\"API_ENDPOINT_BACKUP\",r).constant(\"API_ENDPOINT_CUSTOM_TEMPLATES\",i).constant(\"API_ENDPOINT_EDGE_GROUPS\",s).constant(\"API_ENDPOINT_EDGE_JOBS\",o).constant(\"API_ENDPOINT_EDGE_STACKS\",l).constant(\"API_ENDPOINT_EDGE_TEMPLATES\",c).constant(\"API_ENDPOINT_ENDPOINTS\",d).constant(\"API_ENDPOINT_ENDPOINT_GROUPS\",u).constant(\"API_ENDPOINT_KUBERNETES\",p).constant(\"API_ENDPOINT_MOTD\",m).constant(\"API_ENDPOINT_REGISTRIES\",g).constant(\"API_ENDPOINT_RESOURCE_CONTROLS\",h).constant(\"API_ENDPOINT_SETTINGS\",f).constant(\"API_ENDPOINT_STACKS\",v).constant(\"API_ENDPOINT_STATUS\",b).constant(\"API_ENDPOINT_SUPPORT\",y).constant(\"API_ENDPOINT_USERS\",w).constant(\"API_ENDPOINT_TAGS\",x).constant(\"API_ENDPOINT_TEAMS\",S).constant(\"API_ENDPOINT_TEAM_MEMBERSHIPS\",C).constant(\"API_ENDPOINT_TEMPLATES\",k).constant(\"API_ENDPOINT_WEBHOOKS\",$).constant(\"DEFAULT_TEMPLATES_URL\",A).constant(\"PAGINATION_MAX_ITEMS\",P).constant(\"APPLICATION_CACHE_VALIDITY\",I).constant(\"CONSOLE_COMMANDS_LABEL_PREFIX\",T).constant(\"PREDEFINED_NETWORKS\",N)},99544:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(23945),s=(n(20493),r().module(\"portainer.docker.react.components\",[]).name),o=r().module(\"portainer.docker.react.views\",[]).name,l=r().module(\"portainer.docker.react\",[o,s]).name,c=(n(50033),n(28001),n(66549),n(65562),n(47097),n(98191),n(62176),n(66960)),d=n(95004),u=n(2629),p=(0,d.createContext)(null);function m(){var e=(0,d.useContext)(p);if(null===e)throw new Error(\"must be nested under EnvironmentProvider\");return e}function g(e){var t=e.children,n=e.environment;return(0,u.jsx)(p.Provider,{value:n,children:t})}var h=n(8755),f=(n(78495),n(92429),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(66076),n(77072),n(4450)),v=n(87227),b=n(48625),y=(n(15845),n(7974),n(78433),n(88818)),w=[\"hiddenQuickActions\"];function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){var t=e.actions,n=(0,h.h)(),a=n.settings,r=n.setTableSettings;return(0,u.jsx)(u.Fragment,{children:t.map((function(e){var t=e.id,n=e.label;return(0,u.jsx)(y.X,{label:n,id:\"quick-actions-\".concat(t),checked:!a.hiddenQuickActions.includes(t),onChange:function(e){return n=t,a=e.target.checked,void r((function(e){var t,r=e.hiddenQuickActions,i=void 0===r?[]:r;return C(C({},function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,w)),{},{hiddenQuickActions:a?i.filter((function(e){return e!==n})):[].concat((t=i,function(e){if(Array.isArray(e))return x(e)}(t)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(t)||function(e,t){if(e){if(\"string\"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),[n])})}));var n,a}},t)}))})}function A(e,t){return{id:e,label:t}}var P=n(15362),I=n(43321),T=n(42877);function N(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){N(i,a,r,s,o,\"next\",e)}function o(e){N(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(50527),n(40958);var D=n(73903),O=n(96973),V=n(56713),U=n(90476),j=n(7346),F=n(89023),L=n(46021),_=n(50265),M=n(64062),K=n(77918),B=n(50477),H=n(20249),G=n(75698);function z(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){z(i,a,r,s,o,\"next\",e)}function o(e){z(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function W(e){var t=e.selectedItems,n=e.isAddActionVisible,a=e.endpointId,r=t.length,i=t.some((function(e){return\"paused\"===e.Status})),s=t.some((function(e){return[\"stopped\",\"created\"].includes(e.Status)})),o=t.some((function(e){return[\"running\",\"healthy\",\"unhealthy\",\"starting\"].includes(e.Status)})),l=(0,_.n5)([\"DockerContainerStart\",\"DockerContainerStop\",\"DockerContainerKill\",\"DockerContainerRestart\",\"DockerContainerPause\",\"DockerContainerUnpause\",\"DockerContainerDelete\",\"DockerContainerCreate\"]),c=(0,F.useRouter)();return l?(0,u.jsxs)(\"div\",{className:\"actionBar\",children:[(0,u.jsxs)(G.hE,{children:[(0,u.jsx)(_.FY,{authorizations:\"DockerContainerStart\",children:(0,u.jsxs)(G.zx,{color:\"success\",onClick:function(){return function(e){d(e,H.Zk,\"Container successfully started\",\"Unable to start container\")}(t)},disabled:0===r||!s,children:[(0,u.jsx)(\"i\",{className:\"fa fa-play space-right\",\"aria-hidden\":\"true\"}),\"Start\"]})}),(0,u.jsx)(_.FY,{authorizations:\"DockerContainerStop\",children:(0,u.jsxs)(G.zx,{color:\"danger\",onClick:function(){return function(e){d(e,H.hO,\"Container successfully stopped\",\"Unable to stop container\")}(t)},disabled:0===r||!o,children:[(0,u.jsx)(\"i\",{className:\"fa fa-stop space-right\",\"aria-hidden\":\"true\"}),\"Stop\"]})}),(0,u.jsx)(_.FY,{authorizations:\"DockerContainerKill\",children:(0,u.jsxs)(G.zx,{color:\"danger\",onClick:function(){return function(e){d(e,H.ri,\"Container successfully killed\",\"Unable to kill container\")}(t)},disabled:0===r,children:[(0,u.jsx)(\"i\",{className:\"fa fa-bomb space-right\",\"aria-hidden\":\"true\"}),\"Kill\"]})}),(0,u.jsx)(_.FY,{authorizations:\"DockerContainerRestart\",children:(0,u.jsxs)(G.zx,{onClick:function(){return function(e){d(e,H.wG,\"Container successfully restarted\",\"Unable to restart container\")}(t)},disabled:0===r,children:[(0,u.jsx)(\"i\",{className:\"fa fa-sync space-right\",\"aria-hidden\":\"true\"}),\"Restart\"]})}),(0,u.jsx)(_.FY,{authorizations:\"DockerContainerPause\",children:(0,u.jsxs)(G.zx,{onClick:function(){return function(e){d(e,H.VZ,\"Container successfully paused\",\"Unable to pause container\")}(t)},disabled:0===r||!o,children:[(0,u.jsx)(\"i\",{className:\"fa fa-pause space-right\",\"aria-hidden\":\"true\"}),\"Pause\"]})}),(0,u.jsx)(_.FY,{authorizations:\"DockerContainerUnpause\",children:(0,u.jsxs)(G.zx,{onClick:function(){return function(e){d(e,H.dZ,\"Container successfully resumed\",\"Unable to resume container\")}(t)},disabled:0===r||!i,children:[(0,u.jsx)(\"i\",{className:\"fa fa-play space-right\",\"aria-hidden\":\"true\"}),\"Resume\"]})}),(0,u.jsx)(_.FY,{authorizations:\"DockerContainerDelete\",children:(0,u.jsxs)(G.zx,{color:\"danger\",onClick:function(){return function(e){var t=e.some((function(e){return\"running\"===e.Status})),n=\"You are about to remove one or more \".concat(t?\"running\":\"\",\" containers.\");(0,K.A7)(n,(function(t){if(t){var n=!!t[0];!function(e,t){m.apply(this,arguments)}(e,n)}}))}(t)},disabled:0===r,children:[(0,u.jsx)(\"i\",{className:\"fa fa-trash-alt space-right\",\"aria-hidden\":\"true\"}),\"Remove\"]})})]}),n&&(0,u.jsx)(_.FY,{authorizations:\"DockerContainerCreate\",children:(0,u.jsx)(M.r,{to:\"docker.containers.new\",className:\"space-left\",children:(0,u.jsxs)(G.zx,{children:[(0,u.jsx)(\"i\",{className:\"fa fa-plus space-right\",\"aria-hidden\":\"true\"}),\"Add container\"]})})})]}):null;function d(e,t,n,a){return p.apply(this,arguments)}function p(){return p=q(regeneratorRuntime.mark((function e(t,n,r,i){var s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<t.length)){e.next=16;break}return o=t[s],e.prev=3,(0,B.vj)(o.NodeName),e.next=7,n(a,o.Id);case 7:L.Vp(r,o.Names[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),L.vU(\"Failure\",e.t0,\"\".concat(i,\":\").concat(o.Names[0]));case 13:s+=1,e.next=1;break;case 16:c.stateService.reload();case 17:case\"end\":return e.stop()}}),e,null,[[3,10]])}))),p.apply(this,arguments)}function m(){return m=q(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=16;break}return i=t[r],e.prev=3,(0,B.vj)(i.NodeName),e.next=7,(0,H.sc)(a,i,n);case 7:L.Vp(\"Container successfully removed\",i.Names[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),L.vU(\"Failure\",e.t0,\"Unable to remove container\");case 13:r+=1,e.next=1;break;case 16:c.stateService.reload();case 17:case\"end\":return e.stop()}}),e,null,[[3,10]])}))),m.apply(this,arguments)}}var Y=n(86557);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e){var t=e.isRefreshVisible,n=(0,h.h)(),a=n.settings,r=n.setTableSettings;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(y.X,{id:\"settings-container-truncate-nae\",label:\"Truncate container name\",checked:a.truncateContainerName>0,onChange:function(){return r((function(e){return Z(Z({},e),{},{truncateContainerName:e.truncateContainerName>0?0:32})}))}}),t&&(0,u.jsx)(Y.k,{value:a.autoRefreshRate,onChange:function(e){r({autoRefreshRate:e})}})]})}var ee=n(41066),te={Header:\"Created\",accessor:\"Created\",id:\"created\",Cell:function(e){var t=e.value;return(0,ee.isoDateFromTimestamp)(t)},disableFilters:!0,canHide:!0,Filter:function(){return null}},ne={Header:\"Host\",accessor:function(e){return e.NodeName||\"-\"},id:\"host\",disableFilters:!0,canHide:!0,sortType:\"string\",Filter:function(){return null}},ae=(n(74364),{Header:\"Image\",accessor:\"Image\",id:\"image\",disableFilters:!0,Cell:function(e){var t=e.value,n=m().Status!==i.a2.Up,a=function(e){return e?0===e.indexOf(\"sha256:\")?e.substring(7,19):e.split(\"@sha256\")[0]:\"\"}(t),r=(0,F.useSref)(\"docker.images.image\",{id:t});return n?a:(0,u.jsx)(\"a\",{href:r.href,onClick:r.onClick,children:a})},canHide:!0,sortType:\"string\",Filter:function(){return null}}),re={Header:\"IP Address\",accessor:function(e){return e.IP||\"-\"},id:\"ip\",disableFilters:!0,canHide:!0,Filter:function(){return null}},ie=n(80738),se=n.n(ie),oe={Header:\"Name\",accessor:function(e){var t=e.Names[0];return t.substring(1,t.length)},id:\"name\",Cell:function(e){var t=e.value,n=e.row.original,a=(0,h.h)().settings.truncateContainerName,r=1!==m().Status,i=(0,F.useSref)(\"docker.containers.container\",{id:n.Id,nodeName:n.NodeName}),s=t;return a>0&&(s=se()(t,{length:a})),r?(0,u.jsx)(\"span\",{children:s}):(0,u.jsx)(\"a\",{href:i.href,onClick:i.onClick,title:t,children:s})},disableFilters:!0,Filter:function(){return null},canHide:!0,sortType:\"string\"},le=n(39532),ce=n(30424),de={Header:\"Ownership\",id:\"ownership\",accessor:function(e){var t;return(null===(t=e.ResourceControl)||void 0===t?void 0:t.Ownership)||ce.X.ADMINISTRATORS},Cell:function(e){var t=e.value;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(\"i\",{className:(0,le.Z)((0,ee.ownershipIcon)(t),\"space-right\"),\"aria-hidden\":\"true\"}),t||ce.X.ADMINISTRATORS]})},disableFilters:!0,canHide:!0,sortType:\"string\",Filter:function(){return null}},ue=n(93715),pe=n.n(ue),me={Header:\"Published Ports\",accessor:\"Ports\",id:\"ports\",Cell:function(e){var t=e.value,n=m().PublicURL;return 0===t.length?\"-\":pe()(t,\"public\").map((function(e){return(0,u.jsxs)(\"a\",{className:\"image-tag\",href:\"http://\".concat(n||e.host,\":\").concat(e.public),target:\"_blank\",rel:\"noreferrer\",children:[(0,u.jsx)(\"i\",{className:\"fa fa-external-link-alt\",\"aria-hidden\":\"true\"}),e.public,\":\",e.private]},\"\".concat(e.host,\":\").concat(e.public))}))},disableSortBy:!0,disableFilters:!0,canHide:!0,Filter:function(){return null}},ge=\"app-docker-components-container-quick-actions-ContainerQuickActions-module__root\";function he(e){var t=e.taskId,n=e.containerId,a=e.nodeName,r=e.state,i=e.status;if(t)return(0,u.jsx)(fe,{taskId:t,state:r});var s=[\"starting\",\"running\",\"healthy\",\"unhealthy\"].includes(i);return(0,u.jsxs)(\"div\",{className:(0,le.Z)(\"space-x-1\",ge),children:[r.showQuickActionLogs&&(0,u.jsx)(_.FY,{authorizations:\"DockerContainerLogs\",children:(0,u.jsx)(M.r,{to:\"docker.containers.container.logs\",params:{id:n,nodeName:a},title:\"Logs\",children:(0,u.jsx)(\"i\",{className:\"fa fa-file-alt space-right\",\"aria-hidden\":\"true\"})})}),r.showQuickActionInspect&&(0,u.jsx)(_.FY,{authorizations:\"DockerContainerInspect\",children:(0,u.jsx)(M.r,{to:\"docker.containers.container.inspect\",params:{id:n,nodeName:a},title:\"Inspect\",children:(0,u.jsx)(\"i\",{className:\"fa fa-info-circle space-right\",\"aria-hidden\":\"true\"})})}),r.showQuickActionStats&&s&&(0,u.jsx)(_.FY,{authorizations:\"DockerContainerStats\",children:(0,u.jsx)(M.r,{to:\"docker.containers.container.stats\",params:{id:n,nodeName:a},title:\"Stats\",children:(0,u.jsx)(\"i\",{className:\"fa fa-chart-area space-right\",\"aria-hidden\":\"true\"})})}),r.showQuickActionExec&&s&&(0,u.jsx)(_.FY,{authorizations:\"DockerExecStart\",children:(0,u.jsx)(M.r,{to:\"docker.containers.container.exec\",params:{id:n,nodeName:a},title:\"Exec Console\",children:(0,u.jsx)(\"i\",{className:\"fa fa-terminal space-right\",\"aria-hidden\":\"true\"})})}),r.showQuickActionAttach&&s&&(0,u.jsx)(_.FY,{authorizations:\"DockerContainerAttach\",children:(0,u.jsx)(M.r,{to:\"docker.containers.container.attach\",params:{id:n,nodeName:a},title:\"Attach Console\",children:(0,u.jsx)(\"i\",{className:\"fa fa-plug space-right\",\"aria-hidden\":\"true\"})})})]})}function fe(e){var t=e.taskId,n=e.state;return(0,u.jsxs)(\"div\",{className:(0,le.Z)(\"space-x-1\",ge),children:[n.showQuickActionLogs&&(0,u.jsx)(_.FY,{authorizations:\"DockerTaskLogs\",children:(0,u.jsx)(M.r,{to:\"docker.tasks.task.logs\",params:{id:t},title:\"Logs\",children:(0,u.jsx)(\"i\",{className:\"fa fa-file-alt space-right\",\"aria-hidden\":\"true\"})})}),n.showQuickActionInspect&&(0,u.jsx)(_.FY,{authorizations:\"DockerTaskInspect\",children:(0,u.jsx)(M.r,{to:\"docker.tasks.task\",params:{id:t},title:\"Inspect\",children:(0,u.jsx)(\"i\",{className:\"fa fa-info-circle space-right\",\"aria-hidden\":\"true\"})})})]})}var ve=(0,c.F)(he,[\"taskId\",\"containerId\",\"nodeName\",\"state\",\"status\"]),be={Header:\"Quick Actions\",id:\"actions\",Cell:function(e){var t=e.row.original,n=m().Status!==i.a2.Up,a=(0,h.h)().settings.hiddenQuickActions,r=void 0===a?[]:a,s={showQuickActionAttach:!r.includes(\"attach\"),showQuickActionExec:!r.includes(\"exec\"),showQuickActionInspect:!r.includes(\"inspect\"),showQuickActionLogs:!r.includes(\"logs\"),showQuickActionStats:!r.includes(\"stats\")},o=s.showQuickActionAttach||s.showQuickActionExec||s.showQuickActionInspect||s.showQuickActionLogs||s.showQuickActionStats,l=(0,_.n5)([\"DockerContainerStats\",\"DockerContainerLogs\",\"DockerExecStart\",\"DockerContainerInspect\",\"DockerTaskInspect\",\"DockerTaskLogs\"]);return!n&&o&&l?(0,u.jsx)(he,{containerId:t.Id,nodeName:t.NodeName,status:t.Status,state:s}):null},disableFilters:!0,disableSortBy:!0,canHide:!0,sortType:\"string\",Filter:function(){return null}},ye={Header:\"Stack\",accessor:function(e){return e.StackName||\"-\"},id:\"stack\",sortType:\"string\",disableFilters:!0,canHide:!0,Filter:function(){return null}},we=n(94946),xe=n.n(we),Se={Header:\"State\",accessor:\"Status\",id:\"state\",Cell:function(e){var t=e.value,n=xe()(t),a=[\"starting\",\"healthy\",\"unhealthy\"].includes(n),r=function(){return e([\"paused\",\"starting\",\"unhealthy\"])?\"warning\":e([\"created\"])?\"info\":e([\"stopped\",\"dead\",\"exited\"])?\"danger\":\"success\";function e(e){return e.some((function(e){return n.includes(e)}))}}();return(0,u.jsx)(\"span\",{className:(0,le.Z)(\"label\",\"label-\".concat(r),{interactive:a}),title:a?\"This container has a health check\":\"\",children:t})},sortType:\"string\",filter:\"multiple\",Filter:n(55552).t,canHide:!0};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Pe(e){var t,n,a=e.isAddActionVisible,r=e.dataset,i=e.onRefresh,s=e.isHostColumnVisible,o=(0,h.h)(),l=o.settings,c=o.setTableSettings,p=(t=(0,O.I)(\"containers\"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),g=p[0],w=p[1],x=(0,d.useMemo)((function(){return[oe,Se,be,ye,ae,te,re,ne,me,de]}),[]),S=m();!function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}((0,d.useState)(null),2),a=n[0],r=n[1],i=(0,d.useCallback)((function(){a&&(clearInterval(a),r(null))}),[a]),s=(0,d.useCallback)((function(e){!a&&t&&r(setInterval(E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case\"end\":return e.stop()}}),e)}))),1e3*e))}),[a,t]);(0,d.useEffect)((function(){return e&&t?s(e):i(),i}),[e,s,i,a,t])}(l.autoRefreshRate,i);var C=(0,f.useTable)({defaultCanFilter:!1,columns:x,data:r,filterTypes:{multiple:I.m},initialState:{pageSize:l.pageSize||10,hiddenColumns:l.hiddenColumns,sortBy:[l.sortBy],globalFilter:g},isRowSelectable:function(e){return!e.original.IsPortainer},autoResetSelectedRows:!1,getRowId:function(e){return e.Id},selectCheckboxComponent:y.X},f.useFilters,f.useGlobalFilter,f.useSortBy,f.usePagination,V.i,v.M_),k=C.getTableProps,N=C.getTableBodyProps,F=C.headerGroups,L=C.page,_=C.prepareRow,M=C.selectedFlatRows,K=C.allColumns,B=C.gotoPage,H=C.setPageSize,G=C.setHiddenColumns,z=C.toggleHideColumn,q=C.setGlobalFilter,Y=C.state,Q=Y.pageIndex,Z=Y.pageSize,J=(0,D.N)(g);(0,d.useEffect)((function(){q(J)}),[J,q]),(0,d.useEffect)((function(){z(\"host\",!s)}),[z,s]);var ee=K.filter((function(e){var t=x.find((function(t){return t.id===e.id}));return null==t?void 0:t.canHide})),ie=[A(\"logs\",\"Logs\"),A(\"inspect\",\"Inspect\"),A(\"stats\",\"Stats\"),A(\"exec\",\"Console\"),A(\"attach\",\"Attach\")],se=k(),le=N();return(0,u.jsxs)(P.xJ,{children:[(0,u.jsx)(P.lw,{icon:\"fa-cubes\",label:\"Containers\",children:(0,u.jsxs)(P.MQ,{children:[(0,u.jsx)(T.a,{columns:ee,onChange:function(e){G(e),c((function(t){return ke(ke({},t),{},{hiddenColumns:e})}))},value:l.hiddenColumns}),(0,u.jsx)(P.I6,{quickActions:(0,u.jsx)($,{actions:ie}),children:(0,u.jsx)(X,{isRefreshVisible:!!i})})]})}),(0,u.jsx)(P.p2,{children:(0,u.jsx)(W,{selectedItems:M.map((function(e){return e.original})),isAddActionVisible:a,endpointId:S.Id})}),(0,u.jsx)(O.E,{value:g,onChange:function(e){w(e)}}),(0,u.jsxs)(P.iA,{className:se.className,role:se.role,style:se.style,children:[(0,u.jsx)(\"thead\",{children:F.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,a=t.className,r=t.role,i=t.style;return(0,u.jsx)(P.KA,{className:a,role:r,style:i,headers:e.headers,onSortChange:ce},n)}))}),(0,u.jsx)(\"tbody\",{className:le.className,role:le.role,style:le.style,children:L.length>0?L.map((function(e){_(e);var t=e.getRowProps(),n=t.key,a=t.className,r=t.role,i=t.style;return(0,u.jsx)(P.SC,{cells:e.cells,className:a,role:r,style:i},n)})):(0,u.jsx)(\"tr\",{children:(0,u.jsx)(\"td\",{colSpan:x.length,className:\"text-center text-muted\",children:\"No container available.\"})})})]}),(0,u.jsxs)(U.y,{children:[(0,u.jsx)(j.V,{value:M.length}),(0,u.jsx)(b.j,{showAll:!0,pageLimit:Z,page:Q+1,onPageChange:function(e){return B(e-1)},totalCount:r.length,onPageLimitChange:function(e){H(e),c((function(t){return ke(ke({},t),{},{pageSize:e})}))}})]})]});function ce(e,t){c((function(n){return ke(ke({},n),{},{sortBy:{id:e,desc:t}})}))}}var Ie=[\"endpoint\",\"tableKey\"];function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=(0,c.F)((function(e){var t=e.endpoint,n=e.tableKey,a=void 0===n?\"containers\":n,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,Ie);return(0,u.jsx)(g,{environment:t,children:(0,u.jsx)(h.U,{defaults:{autoRefreshRate:0,truncateContainerName:32,hiddenQuickActions:[],hiddenColumns:[],pageSize:10,sortBy:{id:\"state\",desc:!1}},storageKey:a,children:(0,u.jsx)(Pe,Ne({},r))})})}),[\"endpoint\",\"isAddActionVisible\",\"dataset\",\"onRefresh\",\"isHostColumnVisible\",\"tableKey\"]),De=r().module(\"portainer.docker.containers\",[]).component(\"containersDatatable\",Re).name,Oe=r().module(\"portainer.docker.components\",[]).component(\"containerQuickActions\",ve).name,Ve=n(20810),Ue=n.n(Ve),je=n(51641),Fe=n(45588),Le=n(58852),_e=n(46980),Me=n(51819),Ke=n(24989),Be=n(6811);function He(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function Ge(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){He(i,a,r,s,o,\"next\",e)}function o(e){He(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function ze(){return(ze=Ge(regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be.ZP.get(Ye(t,n));case 3:return a=e.sent,r=a.data,e.abrupt(\"return\",r);case 8:throw e.prev=8,e.t0=e.catch(0),(0,Be.vs)(e.t0,\"Unable to retrieve network details\");case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function qe(){return(qe=Ge(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be.ZP.delete(Ye(t,n));case 3:return e.abrupt(\"return\",n);case 6:throw e.prev=6,e.t0=e.catch(0),(0,Be.vs)(e.t0,\"Unable to remove network\");case 9:case\"end\":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function We(){return(We=Ge(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be.ZP.post(Ye(t,n,\"disconnect\"),{Container:a,Force:!1});case 3:return e.abrupt(\"return\",{networkId:n,environmentId:t});case 6:throw e.prev=6,e.t0=e.catch(0),(0,Be.vs)(e.t0,\"Unable to disconnect container from network\");case 9:case\"end\":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function Ye(e,t,n){var a=\"endpoints/\".concat(e,\"/docker/networks\");return t&&(a+=\"/\".concat(t)),n&&(a+=\"/\".concat(n)),a}var Qe=[\"host\",\"bridge\",\"ingress\",\"nat\",\"none\"];function Ze(e){return Qe.includes(e)}n(99230),n(93742);var Je=n(69452),Xe=n(90635),et=function(e){var t=e.headers,n=void 0===t?[]:t,a=e.dataCy,r=e.children;return(0,u.jsxs)(\"table\",{className:\"table\",\"data-cy\":a,children:[n.length>0&&(0,u.jsx)(\"thead\",{children:(0,u.jsx)(\"tr\",{children:n.map((function(e){return(0,u.jsx)(\"th\",{children:e},e)}))})}),(0,u.jsx)(\"tbody\",{children:r})]})};function tt(e){var t,n,a=e.network,r=e.onRemoveNetworkClicked,i=!Ze(a.Name),s=Je.default.getIPV4Configs(null===(t=a.IPAM)||void 0===t?void 0:t.Config),o=Je.default.getIPV6Configs(null===(n=a.IPAM)||void 0===n?void 0:n.Config);return(0,u.jsx)(\"div\",{className:\"row\",children:(0,u.jsx)(\"div\",{className:\"col-lg-12 col-md-12 col-xs-12\",children:(0,u.jsxs)(Xe.$L,{children:[(0,u.jsx)(Xe.PI,{title:\"Network details\",icon:\"fa-sitemap\"}),(0,u.jsx)(Xe.kh,{className:\"nopadding\",children:(0,u.jsxs)(et,{dataCy:\"networkDetails-detailsTable\",children:[(0,u.jsx)(et.Row,{label:\"Name\",children:a.Name}),(0,u.jsxs)(et.Row,{label:\"Id\",children:[a.Id,i&&(0,u.jsx)(_.FY,{authorizations:\"DockerNetworkDelete\",children:(0,u.jsxs)(G.zx,{dataCy:\"networkDetails-deleteNetwork\",size:\"xsmall\",color:\"danger\",onClick:function(){return r()},children:[(0,u.jsx)(\"i\",{className:\"fa fa-trash-alt space-right\",\"aria-hidden\":\"true\"}),\"Delete this network\"]})})]}),(0,u.jsx)(et.Row,{label:\"Driver\",children:a.Driver}),(0,u.jsx)(et.Row,{label:\"Scope\",children:a.Scope}),(0,u.jsx)(et.Row,{label:\"Attachable\",children:String(a.Attachable)}),(0,u.jsx)(et.Row,{label:\"Internal\",children:String(a.Internal)}),s.map((function(e){return(0,u.jsxs)(d.Fragment,{children:[(0,u.jsx)(et.Row,{label:\"IPV4 Subnet\".concat(l(e.Subnet)),children:\"IPV4 Gateway\".concat(l(e.Gateway))}),(0,u.jsx)(et.Row,{label:\"IPV4 IP Range\".concat(l(e.IPRange)),children:\"IPV4 Excluded IPs\".concat(c(e.AuxiliaryAddresses))})]},e.Subnet)})),o.map((function(e){return(0,u.jsxs)(d.Fragment,{children:[(0,u.jsx)(et.Row,{label:\"IPV6 Subnet\".concat(l(e.Subnet)),children:\"IPV6 Gateway\".concat(l(e.Gateway))}),(0,u.jsx)(et.Row,{label:\"IPV6 IP Range\".concat(l(e.IPRange)),children:\"IPV6 Excluded IPs\".concat(c(e.AuxiliaryAddresses))})]},e.Subnet)}))]})})]})})});function l(e){return e?\" - \".concat(e):\"\"}function c(e){return e?\" - \".concat(Object.values(e).join(\" - \")):\"\"}}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function at(e){var t=e.options,n=Object.entries(t);return 0===n.length?null:(0,u.jsx)(\"div\",{className:\"row\",children:(0,u.jsx)(\"div\",{className:\"col-lg-12 col-md-12 col-xs-12\",children:(0,u.jsxs)(Xe.$L,{children:[(0,u.jsx)(Xe.PI,{title:\"Network options\",icon:\"fa-cogs\"}),(0,u.jsx)(Xe.kh,{className:\"nopadding\",children:(0,u.jsx)(et,{dataCy:\"networkDetails-networkOptionsTable\",children:n.map((function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),r=a[0],i=a[1];return(0,u.jsx)(et.Row,{label:r,children:i},r)}))})})]})})})}et.Row=function(e){var t=e.label,n=e.children;return(0,u.jsxs)(\"tr\",{children:[(0,u.jsx)(\"td\",{children:t}),n&&(0,u.jsx)(\"td\",{\"data-cy\":\"detailsTable-\".concat(t,\"Value\"),children:n})]})},n(40443);var rt=[\"Container Name\",\"IPv4 Address\",\"IPv6 Address\",\"MacAddress\",\"Actions\"];function it(e){var t,n=e.networkContainers,a=e.nodeName,r=e.environmentId,i=e.networkId,s=(t=(0,je.useQueryClient)(),(0,je.useMutation)((function(e){var t=e.containerId;return function(e,t,n){return We.apply(this,arguments)}(e.environmentId,e.networkId,t)}),{onSuccess:function(e){var n=e.networkId,a=e.environmentId;return(0,L.Vp)(\"Container successfully disconnected\",n),t.invalidateQueries([\"environments\",a,\"docker\",\"networks\",n])},onError:function(e){(0,L.vU)(\"Failure\",e,\"Unable to disconnect container from network\")}}));return 0===n.length?null:(0,u.jsx)(\"div\",{className:\"row\",children:(0,u.jsx)(\"div\",{className:\"col-lg-12 col-md-12 col-xs-12\",children:(0,u.jsxs)(Xe.$L,{children:[(0,u.jsx)(Xe.PI,{title:\"Containers in network\",icon:\"fa-server\"}),(0,u.jsx)(Xe.kh,{className:\"nopadding\",children:(0,u.jsx)(et,{headers:rt,dataCy:\"networkDetails-networkContainers\",children:n.map((function(e){return(0,u.jsxs)(\"tr\",{children:[(0,u.jsx)(\"td\",{children:(0,u.jsx)(M.r,{to:\"docker.containers.container\",params:{id:e.Id,nodeName:a},title:e.Name,children:e.Name})}),(0,u.jsx)(\"td\",{children:e.IPv4Address||\"-\"}),(0,u.jsx)(\"td\",{children:e.IPv6Address||\"-\"}),(0,u.jsx)(\"td\",{children:e.MacAddress||\"-\"}),(0,u.jsx)(\"td\",{children:(0,u.jsx)(_.FY,{authorizations:\"DockerNetworkDisconnect\",children:(0,u.jsxs)(G.zx,{dataCy:\"networkDetails-disconnect\".concat(e.Name),size:\"xsmall\",color:\"danger\",onClick:function(){e.Id&&s.mutate({containerId:e.Id,environmentId:r,networkId:i})},children:[(0,u.jsx)(\"i\",{className:\"fa fa-trash-alt space-right\",\"aria-hidden\":\"true\"}),\"Leave Network\"]})})})]},e.Id)}))})})]})})})}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){ct(i,a,r,s,o,\"next\",e)}function o(e){ct(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var pt=(0,c.F)((function(){var e,t,n,a=(0,F.useRouter)(),r=(0,je.useQueryClient)(),i=(t=(0,d.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),s=i[0],o=i[1],l=(0,F.useCurrentStateAndParams)().params,c=l.id,p=l.nodeName,m=(0,Fe.C)(),g=function(e,t){return(0,je.useQuery)([\"environments\",e,\"docker\",\"networks\",t],(function(){return function(e,t){return ze.apply(this,arguments)}(e,t)}),{onError:function(e){(0,L.vU)(\"Failure\",e,\"Unable to get network\")}})}(m,c),h=(0,je.useMutation)((function(e){return function(e,t){return qe.apply(this,arguments)}(e.environmentId,e.networkId)}),{onSuccess:function(e){(0,L.Vp)(\"Network successfully removed\",e)},onError:function(e){(0,L.vU)(\"Failure\",e,\"Unable to remove network\")}}),f=function(e,t){return(0,je.useQuery)([\"environments\",e,\"docker\",\"containers\",{filters:t}],(function(){return(0,H.yt)(e,t)}),{meta:{title:\"Failure\",message:\"Unable to get containers in network\"}})}(m,{network:[c]});if((0,d.useEffect)((function(){g.data&&f.data&&o(function(e,t){return Ue()(t.map((function(t){var n=e.Containers[t.Id];return n?ot(ot({},n),{},{Id:t.Id}):null})))}(g.data,f.data))}),[g.data,f.data]),!g.data)return null;var v=g.data,b=null!==(e=v.Portainer)&&void 0!==e&&e.ResourceControl?new Ke.w(v.Portainer.ResourceControl):void 0;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(Le.mr,{title:\"Network details\",breadcrumbs:[{link:\"docker.networks\",label:\"Networks\"},{link:\"docker.networks.network\",label:g.data.Name}]}),(0,u.jsx)(tt,{network:g.data,onRemoveNetworkClicked:function(){return y.apply(this,arguments)}}),(0,u.jsx)(Me.V,{onUpdateSuccess:function(){return r.invalidateQueries([\"environments\",m,\"docker\",\"networks\",c])},resourceControl:b,resourceType:ce.O.Network,disableOwnershipChange:Ze(g.data.Name),resourceId:c}),(0,u.jsx)(at,{options:g.data.Options}),(0,u.jsx)(it,{networkContainers:s,nodeName:p,environmentId:m,networkId:c})]});function y(){return(y=dt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,(0,_e.Id)(\"Do you want to delete the network?\");case 3:e.sent&&h.mutate({environmentId:m,networkId:c},{onSuccess:function(){a.stateService.go(\"docker.networks\")}});case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}}),[]),mt=r().module(\"portainer.docker.networks\",[]).component(\"networkDetailsView\",pt).name;const gt=n(66188),ht=n(67539),ft=n(20641),vt=n(9003),bt=n(5744),yt=n(8423),wt=n(98757),xt=n(92091),St=n(96215),Ct=n(7942),kt=n(67431),$t=n(30357),At=n(9208),Pt=n(30503),It=n(35003),Tt=n(14147),Nt=n(26447),Et=n(5147),Rt=n(8285),Dt=n(8809),Ot=n(12685),Vt=n(13702),Ut=n(3903),jt=n(66973),Ft=n(53566),Lt=n(42382),_t=n(25872),Mt=n(68156),Kt=n(24021),Bt=n(12367),Ht=n(40640),Gt=n(32240),zt=n(62770),qt=n(61242),Wt=n(95290),Yt=n(10577),Qt=n(90347),Zt=n(9713);r().module(\"portainer.docker\",[\"portainer.app\",De,Oe,mt,l]).config([\"$stateRegistryProvider\",function(e){var t={name:\"docker\",parent:\"endpoint\",url:\"/docker\",abstract:!0,onEnter:[\"endpoint\",\"$async\",\"$state\",\"EndpointService\",\"EndpointProvider\",\"Notifications\",\"StateManager\",\"SystemService\",function(e,t,n,a,r,s,o,l){return t((async()=>{if([1,2,4].includes(e.Type))try{const t=await async function(e){try{return await l.ping(e.Id),1}catch(e){return 2}}(e);if(4!==e.Type&&await async function(e,t){e.Status!==t&&await a.updateEndpoint(e.Id,{Status:t})}(e,t),e.Status=t,t===i.a2.Down)throw new Error(\"Environment is unreachable.\");r.setEndpointID(e.Id),r.setEndpointPublicURL(e.PublicURL),r.setOfflineModeFromStatus(e.Status),await o.updateEndpointState(e)}catch(e){s.error(\"Failed loading environment\",e),n.go(\"portainer.home\",{},{reload:!0})}else n.go(\"portainer.home\")}))}]},n={name:\"docker.configs\",url:\"/configs\",views:{\"content@\":{templateUrl:gt,controller:\"ConfigsController\",controllerAs:\"ctrl\"}}},a={name:\"docker.configs.config\",url:\"/:id\",views:{\"content@\":{templateUrl:ht,controller:\"ConfigController\"}}},r={name:\"docker.configs.new\",url:\"/new?id\",views:{\"content@\":{templateUrl:ft,controller:\"CreateConfigController\",controllerAs:\"ctrl\"}}},s={name:\"docker.containers\",url:\"/containers\",views:{\"content@\":{templateUrl:vt,controller:\"ContainersController\"}}},o={name:\"docker.containers.container\",url:\"/:id?nodeName\",views:{\"content@\":{templateUrl:bt,controller:\"ContainerController\"}}},l={name:\"docker.containers.container.attach\",url:\"/attach\",views:{\"content@\":{templateUrl:yt,controller:\"ContainerConsoleController\"}}},c={name:\"docker.containers.container.exec\",url:\"/exec\",views:{\"content@\":{templateUrl:wt,controller:\"ContainerConsoleController\"}}},d={name:\"docker.containers.new\",url:\"/new?nodeName&from\",views:{\"content@\":{templateUrl:xt,controller:\"CreateContainerController\"}}},u={name:\"docker.containers.container.inspect\",url:\"/inspect\",views:{\"content@\":{templateUrl:St,controller:\"ContainerInspectController\"}}},p={name:\"docker.containers.container.logs\",url:\"/logs\",views:{\"content@\":{templateUrl:Ct,controller:\"ContainerLogsController\"}}},m={name:\"docker.containers.container.stats\",url:\"/stats\",views:{\"content@\":{templateUrl:kt,controller:\"ContainerStatsController\"}}},g={name:\"docker.dashboard\",url:\"/dashboard\",views:{\"content@\":{templateUrl:$t,controller:\"DashboardController\"}}},h={name:\"docker.events\",url:\"/events\",views:{\"content@\":{templateUrl:At,controller:\"EventsController\"}}},f={name:\"docker.images\",url:\"/images\",views:{\"content@\":{templateUrl:Pt,controller:\"ImagesController\"}}},v={name:\"docker.images.image\",url:\"/:id?nodeName\",views:{\"content@\":{templateUrl:It,controller:\"ImageController\"}}},b={name:\"docker.images.build\",url:\"/build\",views:{\"content@\":{templateUrl:Tt,controller:\"BuildImageController\"}}},y={name:\"docker.images.import\",url:\"/import\",views:{\"content@\":{templateUrl:Nt,controller:\"ImportImageController\"}}},w={name:\"docker.networks\",url:\"/networks\",views:{\"content@\":{templateUrl:Et,controller:\"NetworksController\"}}},x={name:\"docker.networks.new\",url:\"/new\",views:{\"content@\":{templateUrl:Rt,controller:\"CreateNetworkController\"}}},S={name:\"docker.secrets\",url:\"/secrets\",views:{\"content@\":{templateUrl:Dt,controller:\"SecretsController\"}}},C={name:\"docker.secrets.secret\",url:\"/:id\",views:{\"content@\":{templateUrl:Ot,controller:\"SecretController\"}}},k={name:\"docker.secrets.new\",url:\"/new\",views:{\"content@\":{templateUrl:Vt,controller:\"CreateSecretController\"}}},$={name:\"docker.services\",url:\"/services\",views:{\"content@\":{templateUrl:Ut,controller:\"ServicesController\"}}},A={name:\"docker.services.service\",url:\"/:id\",views:{\"content@\":{templateUrl:jt,controller:\"ServiceController\"}}},P={name:\"docker.services.new\",url:\"/new\",views:{\"content@\":{templateUrl:Ft,controller:\"CreateServiceController\"}}},I={name:\"docker.services.service.logs\",url:\"/logs\",views:{\"content@\":{templateUrl:Lt,controller:\"ServiceLogsController\"}}},T={name:\"docker.stacks\",url:\"/stacks\",views:{\"content@\":{templateUrl:_t,controller:\"StacksController\"}}},N={name:\"docker.stacks.stack\",url:\"/:name?id&type&regular&external&orphaned&orphanedRunning\",views:{\"content@\":{templateUrl:Mt,controller:\"StackController\"}}},E={name:\"docker.stacks.newstack\",url:\"/newstack\",views:{\"content@\":{templateUrl:Kt,controller:\"CreateStackController\"}}},R={name:\"docker.swarm\",url:\"/swarm\",views:{\"content@\":{templateUrl:Bt,controller:\"SwarmController\"}}},D={name:\"docker.swarm.visualizer\",url:\"/visualizer\",views:{\"content@\":{templateUrl:Ht,controller:\"SwarmVisualizerController\"}}},O={name:\"docker.tasks.task\",url:\"/:id\",views:{\"content@\":{templateUrl:Gt,controller:\"TaskController\"}}},V={name:\"docker.tasks.task.logs\",url:\"/logs\",views:{\"content@\":{templateUrl:zt,controller:\"TaskLogsController\"}}},U={name:\"docker.templates\",url:\"/templates\",views:{\"content@\":{templateUrl:qt,controller:\"TemplatesController\"}}},j={name:\"docker.volumes\",url:\"/volumes\",views:{\"content@\":{templateUrl:Wt,controller:\"VolumesController\"}}},F={name:\"docker.volumes.volume\",url:\"/:id?nodeName\",views:{\"content@\":{templateUrl:Yt,controller:\"VolumeController\"}}},L={name:\"docker.volumes.volume.browse\",url:\"/browse\",views:{\"content@\":{templateUrl:Qt,controller:\"BrowseVolumeController\"}}},_={name:\"docker.volumes.new\",url:\"/new\",views:{\"content@\":{templateUrl:Zt,controller:\"CreateVolumeController\"}}};e.register(n),e.register(a),e.register(r),e.register(s),e.register(o),e.register(c),e.register(l),e.register(d),e.register(u),e.register(p),e.register(m),e.register({name:\"docker.templates.custom\",url:\"/custom\",views:{\"content@\":{component:\"customTemplatesView\"}}}),e.register({name:\"docker.templates.custom.new\",url:\"/new?fileContent&type\",views:{\"content@\":{component:\"createCustomTemplateView\"}},params:{fileContent:\"\",type:\"\"}}),e.register({name:\"docker.templates.custom.edit\",url:\"/:id\",views:{\"content@\":{component:\"editCustomTemplateView\"}}}),e.register(t),e.register(g),e.register({name:\"docker.host\",url:\"/host\",views:{\"content@\":{component:\"hostView\"}}}),e.register({name:\"docker.host.browser\",url:\"/browser\",views:{\"content@\":{component:\"hostBrowserView\"}}}),e.register(h),e.register(f),e.register(v),e.register(b),e.register(y),e.register(w),e.register({name:\"docker.networks.network\",url:\"/:id?nodeName\",views:{\"content@\":{component:\"networkDetailsView\"}}}),e.register(x),e.register({name:\"docker.nodes\",url:\"/nodes\",abstract:!0}),e.register({name:\"docker.nodes.node\",url:\"/:id\",views:{\"content@\":{component:\"nodeDetailsView\"}}}),e.register({name:\"docker.nodes.node.browse\",url:\"/browse\",views:{\"content@\":{component:\"nodeBrowserView\"}}}),e.register(S),e.register(C),e.register(k),e.register($),e.register(A),e.register(P),e.register(I),e.register(T),e.register(N),e.register(E),e.register(R),e.register(D),e.register({name:\"docker.tasks\",url:\"/tasks\",abstract:!0}),e.register(O),e.register(V),e.register(U),e.register(j),e.register(F),e.register(L),e.register(_),e.register({name:\"docker.featuresConfiguration\",url:\"/feat-config\",views:{\"content@\":{component:\"dockerFeaturesConfigurationView\"}}}),e.register({name:\"docker.registries\",url:\"/registries\",views:{\"content@\":{component:\"endpointRegistriesView\"}}}),e.register({name:\"docker.registries.access\",url:\"/:id/access\",views:{\"content@\":{component:\"dockerRegistryAccessView\"}}})}])},83088:function(e,t,n){const a=n(81521);angular.module(\"portainer.docker\").component(\"containerCapabilities\",{templateUrl:a,bindings:{capabilities:\"=\"}})},17592:function(){angular.module(\"portainer.docker\").controller(\"ContainerRestartPolicyController\",[function(){var e=this;this.state={editModel:{}},e.save=function(){e.state.editModel.name===e.name&&e.state.editModel.maximumRetryCount===e.maximumRetryCount||e.updateRestartPolicy(e.state.editModel)},this.$onInit=function(){e.state.editModel={name:e.name?e.name:\"no\",maximumRetryCount:e.maximumRetryCount}}}])},8270:function(e,t,n){const a=n(80239);angular.module(\"portainer.docker\").component(\"containerRestartPolicy\",{templateUrl:a,controller:\"ContainerRestartPolicyController\",bindings:{name:\"<\",maximumRetryCount:\"<\",updateRestartPolicy:\"&\"}})},15772:function(e,t,n){const a=n(171);angular.module(\"portainer.docker\").component(\"dashboardClusterAgentInfo\",{templateUrl:a,controller:\"DashboardClusterAgentInfoController\"})},26419:function(){angular.module(\"portainer.docker\").controller(\"DashboardClusterAgentInfoController\",[\"AgentService\",\"Notifications\",function(e,t){var n=this;this.$onInit=function(){e.agents().then((function(e){n.agentCount=e.length})).catch((function(e){t.error(\"Failure\",e,\"Unable to retrieve agent information\")}))}}])},62135:function(e,t,n){const a=n(80602);angular.module(\"portainer.docker\").component(\"configsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",refreshCallback:\"<\"}})},65532:function(e,t,n){const a=n(49229);angular.module(\"portainer.docker\").component(\"containerNetworksDatatable\",{templateUrl:a,controller:\"ContainerNetworksDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",container:\"<\",availableNetworks:\"<\",joinNetworkAction:\"<\",joinNetworkActionInProgress:\"<\",leaveNetworkActionInProgress:\"<\",leaveNetworkAction:\"<\",nodeName:\"<\"}})},50015:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(83432),s=n.n(i);angular.module(\"portainer.docker\").controller(\"ContainerNetworksDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!0}),this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1),e.Expanded||(this.state.expandAll=!1))},this.itemCanExpand=function(e){return\"\"!==e.GlobalIPv6Address},this.hasExpandableItems=function(){return s()(this.dataset,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,r()(this.dataset,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),r()(this.dataset,(e=>{e.Expanded=!0,e.Highlighted=!0}))}}])},67723:function(e,t,n){const a=n(85566);angular.module(\"portainer.docker\").component(\"containerProcessesDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"=\",headerset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}})},3716:function(e,t,n){const a=n(2576);angular.module(\"portainer.docker\").component(\"eventsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}})},61389:function(e,t,n){const a=n(33261);angular.module(\"portainer.docker\").component(\"imagesDatatable\",{templateUrl:a,controller:\"ImagesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",showHostColumn:\"<\",removeAction:\"<\",downloadAction:\"<\",forceRemoveAction:\"<\",exportInProgress:\"<\",offlineMode:\"<\",refreshCallback:\"<\"}})},40650:function(){angular.module(\"portainer.docker\").controller(\"ImagesDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));var a=this;this.filters={state:{open:!1,enabled:!1,showUsedImages:!0,showUnusedImages:!0}},this.applyFilters=function(e){var t=e,n=a.filters;return!!(0===t.ContainerCount&&n.state.showUnusedImages||0!==t.ContainerCount&&n.state.showUsedImages)},this.onstateFilterChange=function(){var e=this.filters.state,t=!1;e.showUsedImages&&e.showUnusedImages||(t=!0),this.filters.state.enabled=t,n.setDataTableFilters(this.tableKey,this.filters)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=n.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},78570:function(e,t,n){const a=n(19618);angular.module(\"portainer.docker\").component(\"macvlanNodesDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",showIpAddressColumn:\"<\",accessToNodeDetails:\"<\",state:\"=\"}})},24342:function(e,t,n){\"use strict\";n.r(t);var a=n(30424);const r=n(47967);angular.module(\"portainer.docker\").directive(\"networkRowContent\",[function(){return{templateUrl:r,restrict:\"A\",transclude:!0,scope:{item:\"<\",parentCtrl:\"<\",allowCheckbox:\"<\",allowExpand:\"<\"},controller:[\"$scope\",e=>{e.RCO=a.X}]}}])},21035:function(e,t,n){const a=n(94369);angular.module(\"portainer.docker\").component(\"networksDatatable\",{templateUrl:a,controller:\"NetworksDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",showHostColumn:\"<\",removeAction:\"<\",offlineMode:\"<\",refreshCallback:\"<\"}})},22821:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(83432),s=n.n(i);angular.module(\"portainer.docker\").controller(\"NetworksDatatableController\",[\"$scope\",\"$controller\",\"NetworkHelper\",\"DatatableService\",function(e,t,n,a){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.disableRemove=function(e){return n.isSystemNetwork(e)},this.state=Object.assign(this.state,{expandedItems:[]}),this.allowSelection=function(e){return!this.disableRemove(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=a.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=a.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=a.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=a.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()},this.expandItem=function(e,t){e.Expanded=t},this.itemCanExpand=function(e){return e.Subs.length>0},this.hasExpandableItems=function(){return s()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,r()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))}}])},90712:function(e,t,n){const a=n(64255);angular.module(\"portainer.docker\").component(\"nodeTasksDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}})},66951:function(e,t,n){const a=n(53379);angular.module(\"portainer.docker\").component(\"nodesDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",showIpAddressColumn:\"<\",accessToNodeDetails:\"<\",refreshCallback:\"<\"}})},1087:function(e,t,n){const a=n(7091);angular.module(\"portainer.docker\").component(\"secretsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",refreshCallback:\"<\"}})},30700:function(e,t,n){const a=n(71483);angular.module(\"portainer.docker\").component(\"serviceTasksDatatable\",{templateUrl:a,controller:\"ServiceTasksDatatableController\",bindings:{dataset:\"<\",serviceId:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",nodes:\"<\",agentProxy:\"<\",textFilter:\"=\",showTaskLogsButton:\"<\"}})},83076:function(e,t,n){\"use strict\";n.r(t);var a=n(93715),r=n.n(a);angular.module(\"portainer.docker\").controller(\"ServiceTasksDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));var a=this;this.state=Object.assign(this.state,{showQuickActionStats:!0,showQuickActionLogs:!0,showQuickActionConsole:!0,showQuickActionInspect:!0,showQuickActionExec:!0,showQuickActionAttach:!1}),this.filters={state:{open:!1,enabled:!1,values:[]}},this.applyFilters=function(e){for(var t=a.filters,n=0;n<t.state.values.length;n++){var r=t.state.values[n];if(e.Status.State===r.label&&r.display)return!0}return!1},this.onStateFilterChange=function(){for(var e=this.filters.state.values,t=!1,n=0;n<e.length;n++)e[n].display||(t=!0);this.filters.state.enabled=t},this.prepareTableFromDataset=function(){for(var e=[],t=0;t<this.dataset.length;t++){var n=this.dataset[t];e.push({label:n.Status.State,display:!0})}this.filters.state.values=r()(e,\"label\")},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=n.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},88840:function(e,t,n){const a=n(62318);angular.module(\"portainer.docker\").component(\"servicesDatatableActions\",{templateUrl:a,controller:\"ServicesDatatableActionsController\",bindings:{selectedItems:\"=\",selectedItemCount:\"=\",showUpdateAction:\"<\",showAddAction:\"<\",endpointId:\"<\"}})},3474:function(){angular.module(\"portainer.docker\").controller(\"ServicesDatatableActionsController\",[\"$q\",\"$state\",\"ServiceService\",\"ServiceHelper\",\"Notifications\",\"ModalService\",\"ImageHelper\",\"WebhookService\",function(e,t,n,a,r,i,s,o){const l=this;this.scaleAction=function(e){var i=a.serviceToConfig(e.Model);i.Mode.Replicated.Replicas=e.Replicas,n.update(e,i).then((function(){r.success(\"Service successfully scaled\",\"New replica count: \"+e.Replicas),t.reload()})).catch((function(t){r.error(\"Failure\",t,\"Unable to scale service\"),e.Scale=!1,e.Replicas=e.ReplicaCount}))},this.removeAction=function(a){i.confirmDeletion(\"Do you want to remove the selected service(s)? All the containers associated to the selected service(s) will be removed too.\",(function(i){var s,c;i&&(c=(s=a).length,angular.forEach(s,(function(a){n.remove(a).then((function(){return o.webhooks(a.Id,l.endpointId)})).then((function(t){return e.when(0!==t.length&&o.deleteWebhook(t[0].Id))})).then((function(){r.success(\"Service successfully removed\",a.Name)})).catch((function(e){r.error(\"Failure\",e,\"Unable to remove service\")})).finally((function(){0==--c&&t.reload()}))})))}))},this.updateAction=function(e){i.confirmServiceForceUpdate(\"Do you want to force an update of the selected service(s)? All the tasks associated to the selected service(s) will be recreated.\",(function(i){if(i){var o=!1;i[0]&&(o=!0),function(e,i){var o=e.length;angular.forEach(e,(function(e){var l=a.serviceToConfig(e.Model);i&&(l.TaskTemplate.ContainerSpec.Image=s.removeDigestFromRepository(l.TaskTemplate.ContainerSpec.Image)),l.TaskTemplate.ForceUpdate++,n.update(e,l).then((function(){r.success(\"Service successfully updated\",e.Name)})).catch((function(t){r.error(\"Failure\",t,\"Unable to force update service\"+e.Name)})).finally((function(){0==--o&&t.reload()}))}))}(e,o)}}))}}])},22601:function(e,t,n){const a=n(19610);angular.module(\"portainer.docker\").component(\"servicesDatatable\",{templateUrl:a,controller:\"ServicesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",nodes:\"<\",agentProxy:\"<\",showUpdateAction:\"<\",showAddAction:\"<\",showStackColumn:\"<\",showTaskLogsButton:\"<\",refreshCallback:\"<\",notAutoFocus:\"<\",endpointPublicUrl:\"<\",endpointId:\"<\"}})},46311:function(e,t,n){\"use strict\";n.r(t);var a=n(51235),r=n.n(a);angular.module(\"portainer.docker\").controller(\"ServicesDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));var a=this;function i(e,t){r()(t,(function(t){return e.Id===t}))&&a.expandItem(e,!0)}this.state=Object.assign(this.state,{expandAll:!1,expandedItems:[]}),this.columnVisibility={columns:{image:{label:\"Image\",display:!0},ownership:{label:\"OwnerShip\",display:!0},ports:{label:\"Published Ports\",display:!0},updated:{label:\"Last Update\",display:!0}}},this.onColumnVisibilityChange=function(e){this.columnVisibility.columns=e,n.setColumnVisibilitySettings(this.tableKey,this.columnVisibility)}.bind(this),this.expandAll=function(){this.state.expandAll=!this.state.expandAll;for(var e=0;e<this.state.filteredDataSet.length;e++){var t=this.state.filteredDataSet[e];this.expandItem(t,this.state.expandAll)}},this.expandItem=function(e,t){if(e.Expanded=t,e.Expanded)-1===this.state.expandedItems.indexOf(e.Id)&&this.state.expandedItems.push(e.Id);else{var a=this.state.expandedItems.indexOf(e.Id);a>-1&&this.state.expandedItems.splice(a,1)}n.setDataTableExpandedItems(this.tableKey,this.state.expandedItems)},this.expandItems=function(e){var t=0;this.state.expandedItems=e;for(var n=0;n<this.dataset.length;n++){var a=this.dataset[n];i(a,e),a.Expanded&&++t}t===this.dataset.length&&(this.state.expandAll=!0)},this.onDataRefresh=function(){var e=n.getDataTableExpandedItems(this.tableKey);null!==e&&this.expandItems(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=n.getDataTableExpandedItems(this.tableKey);null!==r&&this.expandItems(r);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange();var s=n.getColumnVisibilitySettings(this.tableKey);null!==s&&(this.columnVisibility=s)}}])},77886:function(e,t,n){const a=n(40381);angular.module(\"portainer.docker\").component(\"tasksDatatable\",{templateUrl:a,controller:\"TasksDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",nodes:\"<\",showSlotColumn:\"<\",showLogsButton:\"<\",agentProxy:\"<\"}})},33740:function(){angular.module(\"portainer.docker\").controller(\"TasksDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{showQuickActionStats:!0,showQuickActionLogs:!0,showQuickActionExec:!0,showQuickActionInspect:!0,showQuickActionAttach:!1}),this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=n.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},75198:function(e,t,n){const a=n(43761);angular.module(\"portainer.docker\").component(\"volumesDatatable\",{templateUrl:a,controller:\"VolumesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",showHostColumn:\"<\",removeAction:\"<\",showBrowseAction:\"<\",offlineMode:\"<\",refreshCallback:\"<\"}})},72091:function(){angular.module(\"portainer.docker\").controller(\"VolumesDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));var a=this;this.filters={state:{open:!1,enabled:!1,showUsedVolumes:!0,showUnusedVolumes:!0}},this.applyFilters=function(e){var t=e,n=a.filters;return!!(t.dangling&&n.state.showUnusedVolumes||!t.dangling&&n.state.showUsedVolumes)},this.onstateFilterChange=function(){var e=this.filters.state,t=!1;e.showUsedVolumes&&e.showUnusedVolumes||(t=!0),this.filters.state.enabled=t,n.setDataTableFilters(this.tableKey,this.filters)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=n.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},56784:function(e,t,n){const a=n(23744);angular.module(\"portainer.docker\").component(\"dockerSidebar\",{templateUrl:a,bindings:{isSidebarOpen:\"<\",endpointApiVersion:\"<\",swarmManagement:\"<\",standaloneManagement:\"<\",adminAccess:\"<\",offlineMode:\"<\",currentRouteName:\"<\",endpointId:\"<\",showStacks:\"<\"}})},37610:function(e,t,n){const a=n(9831);angular.module(\"portainer.docker\").component(\"hostOverview\",{templateUrl:a,bindings:{hostDetails:\"<\",engineDetails:\"<\",devices:\"<\",disks:\"<\",isAgent:\"<\",offlineMode:\"<\",agentApiVersion:\"<\",refreshUrl:\"@\",browseUrl:\"@\",hostFeaturesEnabled:\"<\"},transclude:!0})},85943:function(e,t,n){const a=n(56797);angular.module(\"portainer.docker\").component(\"devicesPanel\",{templateUrl:a,bindings:{devices:\"<\"}})},40210:function(e,t,n){const a=n(37287);angular.module(\"portainer.docker\").component(\"disksPanel\",{templateUrl:a,bindings:{disks:\"<\"}})},25203:function(e,t,n){const a=n(63509);angular.module(\"portainer.docker\").component(\"engineDetailsPanel\",{templateUrl:a,bindings:{engine:\"<\"}})},68181:function(e,t,n){const a=n(97106);angular.module(\"portainer.docker\").component(\"hostDetailsPanel\",{templateUrl:a,bindings:{host:\"<\",isBrowseEnabled:\"<\",browseUrl:\"@\"}})},44162:function(){angular.module(\"portainer.docker\").controller(\"NodeAvailabilitySelectController\",[function(){this.onChange=function(){this.onSave({availability:this.availability})}}])},28031:function(e,t,n){const a=n(7762);angular.module(\"portainer.docker\").component(\"nodeAvailabilitySelect\",{templateUrl:a,controller:\"NodeAvailabilitySelectController\",bindings:{availability:\"<\",originalValue:\"<\",onSave:\"&\"}})},55024:function(){angular.module(\"portainer.docker\").controller(\"NodeLabelsTableController\",[function(){var e=this;e.removeLabel=function(t){null!==e.labels.splice(t,1)&&e.onChangedLabels({labels:e.labels})},e.updateLabel=function(t){t.value===t.originalValue&&t.key===t.originalKey||e.onChangedLabels({labels:e.labels})}}])},96399:function(e,t,n){const a=n(642);angular.module(\"portainer.docker\").component(\"nodeLabelsTable\",{templateUrl:a,controller:\"NodeLabelsTableController\",bindings:{labels:\"<\",onChangedLabels:\"&\"}})},70395:function(){angular.module(\"portainer.docker\").controller(\"SwarmNodeDetailsPanelController\",[\"NodeService\",\"LabelHelper\",\"Notifications\",\"$state\",function(e,t,n,a){var r=this;r.state={managerAddress:\"\",hasChanges:!1},r.$onChanges=function(){r.details&&\"manager\"===r.details.role&&(r.state.managerAddress=\"(\"+r.details.managerAddress+\")\")},r.addLabel=function(){r.details.nodeLabels.push({key:\"\",value:\"\",originalValue:\"\",originalKey:\"\"})},r.updateNodeLabels=function(e){r.details.nodeLabels=e,r.state.hasChanges=!0},r.updateNodeAvailability=function(e){r.details.availability=e,r.state.hasChanges=!0},r.saveChanges=function(){var i=r.originalNode,s={Name:i.Name,Availability:r.details.availability,Role:i.Role,Labels:t.fromKeyValueToLabelHash(r.details.nodeLabels),Id:i.Id,Version:i.Version};e.updateNode(s).then((function(){n.success(\"Node successfully updated\",\"Node updated\"),a.go(\"docker.nodes.node\",{id:i.Id},{reload:!0})})).catch((function(e){n.error(\"Failure\",e,\"Failed to update node\")}))},r.cancelChanges=function(){r.details.nodeLabels=r.details.nodeLabels.filter((function(e){return e.originalValue||e.originalKey})).map((function(e){return Object.assign(e,{value:e.originalValue,key:e.originalKey})})),r.details.availability=r.originalNode.Availability,r.state.hasChanges=!1}}])},98186:function(e,t,n){const a=n(92156);angular.module(\"portainer.docker\").component(\"swarmNodeDetailsPanel\",{templateUrl:a,controller:\"SwarmNodeDetailsPanelController\",bindings:{details:\"<\",originalNode:\"<\"}})},72749:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return r}});var a=n(70589);class r{constructor(e,t){this.DockerHubService=e,this.Notifications=t,this.pullRateLimits=null}$onChanges({registryId:e}){e&&this.fetchRateLimits()}$onInit(){this.setValidity=this.setValidity||(()=>{})}async fetchRateLimits(){if(this.pullRateLimits=null,a.default.isAgentEndpoint(this.endpoint)||a.default.isLocalEndpoint(this.endpoint))try{this.pullRateLimits=await this.DockerHubService.checkRateLimits(this.endpoint,this.registryId||0),this.setValidity(!this.pullRateLimits.limit||this.pullRateLimits.limit&&this.pullRateLimits.remaining>=0)}catch(e){console.error(\"Failed loading DockerHub pull rate limits\",e),this.setValidity(!0)}else this.setValidity(!0)}}r.$inject=[\"DockerHubService\",\"Notifications\"]},64906:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(72749);const s=n(52388);r().module(\"portainer.docker\").component(\"porImageRegistryRateLimits\",{bindings:{endpoint:\"<\",registry:\"<\",setValidity:\"<\",isAdmin:\"<\",isDockerHubRegistry:\"<\",isAuthenticated:\"<\",registryId:\"<\"},controller:i.default,transclude:{rateLimitExceeded:\"?porImageRegistryRateLimitExceeded\"},templateUrl:s})},22429:function(e,t,n){\"use strict\";n.r(t);var a=n(51235),r=n.n(a),i=n(65491),s=n.n(i),o=n(74362),l=n.n(o),c=n(30465),d=n.n(c),u=n(66539),p=n.n(u),m=n(44716),g=n.n(m),h=n(83432),f=n.n(h),v=n(29274),b=n.n(v),y=n(74962),w=n(56414);class x{constructor(e,t,n,a,r,i,s){this.$async=e,this.$scope=t,this.ImageHelper=n,this.RegistryService=a,this.EndpointService=r,this.ImageService=i,this.Notifications=s,this.onRegistryChange=this.onRegistryChange.bind(this),this.onImageChange=this.onImageChange.bind(this),this.registries=[],this.images=[],this.defaultRegistry=new y.DockerHubViewModel,this.$scope.$watch((()=>this.model.Registry),this.onRegistryChange),this.$scope.$watch((()=>this.model.Image),this.onImageChange)}isKnownRegistry(e){return!(e instanceof y.DockerHubViewModel)&&e.URL}getRegistryURL(e){let t=e.URL;return e.Type===w.RegistryTypes.GITLAB&&(t=e.URL+\"/\"+e.Gitlab.ProjectPath),t}prepareAutocomplete(){let e=[];const t=this.model.Registry;if(this.isKnownRegistry(t)){const n=this.getRegistryURL(t),a=f()(this.images,(e=>g()(e,n)));e=p()(a,(e=>d()(e,new RegExp(n+\"/?\"),\"\")))}else{const t=f()(this.registries,(e=>this.isKnownRegistry(e))),n=l()(t,(e=>f()(this.images,(t=>g()(t,e.URL))))),a=s()(this.images,n);e=f()(a,(e=>!this.ImageHelper.imageContainsURL(e)))}this.availableImages=e}isDockerHubRegistry(){return this.model.UseRegistry&&(this.model.Registry.Type===w.RegistryTypes.DOCKERHUB||this.model.Registry.Type===w.RegistryTypes.ANONYMOUS)}async onRegistryChange(){this.prepareAutocomplete(),this.model.Registry.Type===w.RegistryTypes.GITLAB&&this.model.Image&&(this.model.Image=d()(this.model.Image,this.model.Registry.Gitlab.ProjectPath,\"\"))}async onImageChange(){this.isDockerHubRegistry()||this.setValidity(!0)}displayedRegistryURL(){return this.getRegistryURL(this.model.Registry)||\"docker.io\"}async reloadRegistries(){return this.$async((async()=>{try{let e=!1;this.registries=await this.EndpointService.registries(this.endpoint.Id,this.namespace),this.registries.sort(((e,t)=>e.Name.localeCompare(t.Name))),this.registries.some((e=>e.Type===w.RegistryTypes.DOCKERHUB))||(e=!0,this.registries.splice(0,0,this.defaultRegistry));const t=this.model.Registry.Id;r()(this.registries,{Id:t})||(this.model.Registry=e?this.defaultRegistry:this.registries[0])}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registries\")}}))}async loadImages(){return this.$async((async()=>{try{if(!this.autoComplete)return void(this.images=[]);const e=await this.ImageService.images();this.images=this.ImageService.getUniqueTagListFromImages(e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve images\")}}))}$onChanges({namespace:e,endpoint:t}){(e||t)&&this.endpoint.Id&&this.reloadRegistries()}$onInit(){return this.$async((async()=>{await this.loadImages()}))}}x.$inject=[\"$async\",\"$scope\",\"ImageHelper\",\"RegistryService\",\"EndpointService\",\"ImageService\",\"Notifications\"],t.default=x,b().module(\"portainer.docker\").controller(\"porImageRegistryController\",x)},91653:function(e,t,n){const a=n(50331);angular.module(\"portainer.docker\").component(\"porImageRegistry\",{templateUrl:a,controller:\"porImageRegistryController\",bindings:{model:\"=\",autoComplete:\"<\",labelClass:\"@\",inputClass:\"@\",endpoint:\"<\",isAdmin:\"<\",checkRateLimits:\"<\",onImageChange:\"&\",setValidity:\"<\",namespace:\"<\"},require:{form:\"^form\"},transclude:!0})},69760:function(e,t,n){const a=n(85759);angular.module(\"portainer.docker\").component(\"logViewer\",{templateUrl:a,controller:\"LogViewerController\",bindings:{data:\"=\",displayTimestamps:\"=\",logCollectionChange:\"<\",sinceTimestamp:\"=\",lineCount:\"=\",resourceName:\"<\"}})},89410:function(e,t,n){\"use strict\";n.r(t);var a=n(55743),r=n.n(a),i=n(4396),s=n.n(i),o=n(71541),l=n(52474);angular.module(\"portainer.docker\").controller(\"LogViewerController\",[\"clipboard\",\"Blob\",\"FileSaver\",function(e,t,n){this.state={availableSinceDatetime:[{desc:\"Last day\",value:s()().subtract(1,\"days\").format()},{desc:\"Last 4 hours\",value:s()().subtract(4,\"hours\").format()},{desc:\"Last hour\",value:s()().subtract(1,\"hours\").format()},{desc:\"Last 10 minutes\",value:s()().subtract(10,\"minutes\").format()}],copySupported:e.supported,logCollection:!0,autoScroll:!0,wrapLines:!0,search:\"\",filteredLogs:[],selectedLines:[]},this.copy=function(){e.copyText(this.state.filteredLogs.map((e=>e.line)).join(o.NEW_LINE_BREAKER)),l(\"#refreshRateChange\").show(),l(\"#refreshRateChange\").fadeOut(2e3)},this.copySelection=function(){e.copyText(this.state.selectedLines.join(o.NEW_LINE_BREAKER)),l(\"#refreshRateChange\").show(),l(\"#refreshRateChange\").fadeOut(2e3)},this.clearSelection=function(){this.state.selectedLines=[]},this.selectLine=function(e){var t=this.state.selectedLines.indexOf(e);-1===t?this.state.selectedLines.push(e):this.state.selectedLines.splice(t,1)},this.downloadLogs=function(){const e=new t([r()(this.state.filteredLogs,((e,t)=>e+t.line+o.NEW_LINE_BREAKER),\"\")]);n.saveAs(e,this.resourceName+\"_logs.txt\")}}])},22852:function(e,t,n){const a=n(23614);angular.module(\"portainer.docker\").component(\"networkMacvlanForm\",{templateUrl:a,controller:\"NetworkMacvlanFormController\",bindings:{data:\"=\",applicationState:\"<\"}})},3476:function(){angular.module(\"portainer.docker\").controller(\"NetworkMacvlanFormController\",[\"$q\",\"NodeService\",\"NetworkService\",\"Notifications\",\"StateManager\",\"Authentication\",function(e,t,n,a,r,i){var s=this;s.requiredNodeSelection=function(){return\"local\"===s.data.Scope&&void 0!==s.data.DatatableState&&0===s.data.DatatableState.selectedItemCount},s.requiredConfigSelection=function(){return\"swarm\"===s.data.Scope&&!s.data.SelectedNetworkConfig},this.$onInit=function(){var r=i.isAdmin();s.isAdmin=r;var o=s.applicationState.endpoint.mode.provider,l=s.applicationState.endpoint.apiVersion;e.all({nodes:\"DOCKER_SWARM_MODE\"!==o||t.nodes(),networks:n.networks(\"DOCKER_STANDALONE\"===o||\"DOCKER_SWARM_MODE\"===o,!1,\"DOCKER_SWARM_MODE\"===o&&l>=1.25)}).then((function(e){!0!==e.nodes&&(s.nodes=e.nodes),s.availableNetworks=e.networks.filter((function(e){return!0===e.ConfigOnly}))})).catch((function(e){a.error(\"Failure\",e,\"Unable to retrieve informations for macvlan\")}))}}])},50373:function(e,t,n){\"use strict\";function a(){this.Scope=\"local\",this.SelectedNetworkConfig=null,this.DatatableState={selectedItems:[]},this.ParentNetworkCard=\"\"}n.r(t),n.d(t,{MacvlanFormData:function(){return a}})},8470:function(e,t,n){const a=n(79420);angular.module(\"portainer.docker\").component(\"volumesCifsForm\",{templateUrl:a,bindings:{data:\"=\"}})},86668:function(e,t,n){\"use strict\";function a(){this.useCIFS=!1,this.serverAddress=\"\",this.share=\"\",this.version=\"CIFS v2.0 (Used by Windows Vista / Server 2008)\",this.versions=[\"CIFS v1.0 (Used by Windows XP / Server 2003 and earlier)\",\"CIFS v2.0 (Used by Windows Vista / Server 2008)\",\"CIFS v2.1 (Used by Windows 7 / Server 2008 R2)\",\"CIFS 3.0 (Used by Windows 8 / Server 2012 and newer)\"],this.versionsNumber=[\"1.0\",\"2.0\",\"2.1\",\"3.0\"],this.username=\"\",this.password=\"\"}n.r(t),n.d(t,{VolumesCIFSFormData:function(){return a}})},87959:function(e,t,n){const a=n(93886);angular.module(\"portainer.docker\").component(\"volumesNfsForm\",{templateUrl:a,bindings:{data:\"=\"}})},4819:function(e,t,n){\"use strict\";function a(){this.useNFS=!1,this.serverAddress=\"\",this.mountPoint=\"\",this.version=\"NFS4\",this.options=\"rw,noatime,rsize=8192,wsize=8192,tcp,timeo=14\",this.versions=[\"NFS4\",\"NFS\"]}n.r(t),n.d(t,{VolumesNFSFormData:function(){return a}})},50352:function(e,t,n){\"use strict\";n.r(t);var a=n(93715),r=n.n(a),i=n(51235),s=n.n(i),o=n(17465),l=n.n(o),c=n(94946),d=n.n(c);function u(e,t){return t.some((function(t){return-1!==e.indexOf(t)}))}angular.module(\"portainer.docker\").filter(\"visualizerTask\",(function(){return function(e){var t=d()(e);return u(t,[\"new\",\"allocated\",\"assigned\",\"accepted\",\"complete\",\"preparing\"])?\"info\":u(t,[\"pending\"])?\"warning\":u(t,[\"shutdown\",\"failed\",\"rejected\"])?\"stopped\":\"running\"}})).filter(\"visualizerTaskBorderColor\",(function(){return function(e){var t=function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t}(e),n=function(e){for(var t=\"#\",n=0;n<3;)t+=(\"00\"+(e>>8*n++&255).toString(16)).slice(-2);return t}(t);return n}})).filter(\"taskstatusbadge\",(function(){return function(e){var t=d()(e),n=\"default\";return u(t,[\"new\",\"allocated\",\"assigned\",\"accepted\",\"preparing\",\"ready\",\"starting\",\"remove\"])?n=\"info\":u(t,[\"pending\"])?n=\"warning\":u(t,[\"shutdown\",\"failed\",\"rejected\",\"orphaned\"])?n=\"danger\":u(t,[\"complete\"])?n=\"primary\":u(t,[\"running\"])&&(n=\"success\"),n}})).filter(\"taskhaslogs\",(function(){return function(e){return[\"running\",\"complete\",\"failed\",\"shutdown\"].indexOf(e)>-1}})).filter(\"containerstatusbadge\",(function(){return function(e){var t=d()(e);return u(t,[\"paused\",\"starting\",\"unhealthy\"])?\"warning\":u(t,[\"created\"])?\"info\":u(t,[\"stopped\",\"dead\",\"exited\"])?\"danger\":\"success\"}})).filter(\"nodestatusbadge\",(function(){return function(e){return\"down\"===e||\"Unhealthy\"===e?\"danger\":\"success\"}})).filter(\"dockerNodeAvailabilityBadge\",(function(){return function(e){return\"pause\"===e?\"warning\":\"drain\"===e?\"danger\":\"success\"}})).filter(\"trimcontainername\",(function(){return function(e){return e?0===e.indexOf(\"/\")?e.replace(\"/\",\"\"):e:\"\"}})).filter(\"getstatetext\",(function(){return function(e){return void 0===e?\"\":e.Dead?\"Dead\":e.Ghost&&e.Running?\"Ghost\":e.Running&&e.Paused?\"Running (Paused)\":e.Running?\"Running\":\"created\"===e.Status?\"Created\":\"Stopped\"}})).filter(\"getstatelabel\",(function(){return function(e){return void 0===e?\"label-default\":e.Ghost&&e.Running?\"label-important\":e.Running?\"label-success\":\"label-default\"}})).filter(\"containername\",(function(){return function(e){var t=e.Names[0];return t.substring(1,t.length)}})).filter(\"swarmversion\",(function(){return function(e){return l()(e,\"/\")[1]}})).filter(\"swarmhostname\",(function(){return function(e){return l()(e.Names[0],\"/\")[1]}})).filter(\"repotags\",(function(){return function(e){return e.RepoTags&&e.RepoTags.length>0?\"<none>:<none>\"===e.RepoTags[0]?[]:e.RepoTags:[]}})).filter(\"command\",(function(){return function(e){if(e)return e.join(\" \")}})).filter(\"hideshasum\",(function(){return function(e){return e?e.split(\"@sha\")[0]:\"\"}})).filter(\"availablenodecount\",[\"ConstraintsHelper\",function(e){return function(t,n){for(var a=0,r=0;r<t.length;r++){var i=t[r];\"active\"===i.Availability&&\"ready\"===i.Status&&e.matchesServiceConstraints(n,i)&&a++}return a}}]).filter(\"runningtaskscount\",(function(){return function(e){for(var t=0,n=0;n<e.length;n++){var a=e[n];\"running\"===a.Status.State&&\"running\"===a.DesiredState&&t++}return t}})).filter(\"runningcontainers\",(function(){return function(e){return e.filter((function(e){return\"running\"===e.State})).length}})).filter(\"stoppedcontainers\",(function(){return function(e){return e.filter((function(e){return\"exited\"===e.State})).length}})).filter(\"healthycontainers\",(function(){return function(e){return e.filter((function(e){return\"healthy\"===e.Status})).length}})).filter(\"unhealthycontainers\",(function(){return function(e){return e.filter((function(e){return\"unhealthy\"===e.Status})).length}})).filter(\"imagestotalsize\",(function(){return function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].VirtualSize;return t}})).filter(\"tasknodename\",(function(){return function(e,t){var n=s()(t,{Id:e});return n?n.Hostname:\"\"}})).filter(\"imagelayercommand\",(function(){return function(e){return e.replace(\"/bin/sh -c #(nop) \",\"\").replace(\"/bin/sh -c \",\"RUN \")}})).filter(\"trimshasum\",(function(){return function(e){if(e)return 0===e.indexOf(\"sha256:\")?e.substring(7,19):l()(e,\"@sha256\")[0]}})).filter(\"trimversiontag\",(function(){return function(e){if(!e)return e;var t=e.lastIndexOf(\":\");return t<0||e.indexOf(\"/\")>t?e:e.substring(0,t)}})).filter(\"unique\",(function(){return r()}))},52161:function(){angular.module(\"portainer.docker\").factory(\"ConfigHelper\",[function(){\"use strict\";return{flattenConfig:function(e){return e?{Id:e.ConfigID,Name:e.ConfigName,FileName:e.File.Name,Uid:e.File.UID,Gid:e.File.GID,Mode:e.File.Mode}:{}},configConfig:function(e){return e?{ConfigID:e.Id,ConfigName:e.Name,File:{Name:e.FileName||e.Name,UID:e.Uid||\"0\",GID:e.Gid||\"0\",Mode:e.Mode||292}}:{}}}}])},82556:function(e,t,n){\"use strict\";n.r(t);var a=n(51235),r=n.n(a);function i(e,t,n){this.op=e,this.value=n,this.key=t}var s=\"node.id\",o=\"node.hostname\",l=\"node.role\",c=\"node.labels.\",d=\"engine.labels.\",u=\"==\",p=\"!=\";function m(e,t){return!t||t.op===u&&e===t.value||t.op===p&&e!==t.value}function g(e,t){return!t||void 0!==r()(e,(function(e){return e.key===t.key&&e.value===t.value}))}function h(e,t){return e.split(t).pop().trim()}function f(e,t,n){return e.split(t).shift().trim().replace(n,\"\")}angular.module(\"portainer.docker\").factory(\"ConstraintsHelper\",[function(){return{transformConstraints:function(e){for(var t={},n=0;n<e.length;n++){var a,r=e[n];r.includes(u)?a=u:r.includes(p)&&(a=p);var m=h(r,a),g=\"\";switch(!0){case r.includes(s):t.nodeId=new i(a,g,m);break;case r.includes(o):t.nodeHostname=new i(a,g,m);break;case r.includes(l):t.nodeRole=new i(a,g,m);break;case r.includes(c):g=f(r,a,c),t.nodeLabels=new i(a,g,m);break;case r.includes(d):g=f(r,a,d),t.engineLabels=new i(a,g,m)}}return t},matchesServiceConstraints:function(e,t){if(void 0===e.Constraints||0===e.Constraints.length)return!0;var n=this.transformConstraints(angular.copy(e.Constraints));return!!(m(t.Id,n.nodeId)&&m(t.Hostname,n.nodeHostname)&&m(t.Role,n.nodeRole)&&g(t.Labels,n.nodeLabels)&&g(t.EngineLabels,n.engineLabels))}}}])},5204:function(e,t,n){\"use strict\";n.r(t);var a=n(19980),r=n.n(a),i=n(55332),s=n.n(i),o=n(16222),l=n.n(o),c=n(86103),d=n.n(c),u=n(68260),p=n.n(u),m=n(41952),g=n.n(m),h=n(66539),f=n.n(h),v=n(17465),b=n.n(v),y=n(54761),w=n.n(y);const x=/^([1-9]|[1-5]?[0-9]{2,4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/m;function S(e){return x.test(e)?parseInt(e,10):0}function C(e){\"string\"!=typeof e&&(e=e.toString());const t=b()(e,\"-\",2),n=f()(t,S);return 1==n.length&&n.push(n[0]),n}function k(e){return\"string\"==typeof e&&(e=C()),Array.isArray(e)&&2===e.length&&e[0]>0&&e[1]>=e[0]}function $(e,t){\"string\"!=typeof e&&(e=e.toString());let n=null;const a=e.indexOf(\":\");a>=0&&(n=e.substr(0,a),e=e.substr(a+1)),t=\"number\"==typeof t?t:S(t);const r=C(e),i=Math.min(r[0],t),s=Math.max(r[1],t);return n?n+\":\"+i+\"-\"+s:i+\"-\"+s}angular.module(\"portainer.docker\").factory(\"ContainerHelper\",[function(){return{commandStringToArray:function(e){return w()(e)},commandArrayToString:function(e){return e.map((function(e){return\"'\"+e+\"'\"})).join(\" \")},configFromContainer:function(e){var t=e.Config;t.HostConfig=e.HostConfig,t.name=e.Name.replace(/^\\//g,\"\");var n=t.HostConfig.NetworkMode;t.NetworkingConfig={EndpointsConfig:{}},t.NetworkingConfig.EndpointsConfig=e.NetworkSettings.Networks,void 0===t.ExposedPorts&&(t.ExposedPorts={}),-1!==n.indexOf(\"container:\")&&(delete t.Hostname,delete t.ExposedPorts);var a=[],r={};for(var i in e.Mounts)if({}.hasOwnProperty.call(e.Mounts,i)){var s=e.Mounts[i],o=s.Name||s.Source,l=s.Destination;if(o&&l){var c=o+\":\"+l;r[l]={},!1===s.RW&&(c+=\":ro\"),a.push(c)}}return t.HostConfig.Binds=a,t.Volumes=r,t},preparePortBindings:function(e){const t={};return g()(e,(e=>{if(!e.containerPort)return;let n=e.hostPort;const a=C(e.containerPort);if(!k(a))throw new Error(\"Invalid port specification: \"+e.containerPort);const r=a[0],i=a[1];let s,o=0,l=0;if(n){if(n.indexOf(\"[\")>-1){const t=b()(n,\"]:\");if(t.length<2)throw new Error(\"Invalid port specification: \"+e.containerPort);s=t[0].replace(\"[\",\"\"),n=t[1]}else if(n.indexOf(\":\")>-1){const e=b()(n,\":\");s=e[0],n=e[1]}const t=C(n);if(!k(t))throw new Error(\"Invalid port specification: \"+n);if(o=t[0],l=t[1],i!==r&&i-r!=l-o)throw new Error(\"Invalid port specification: \"+n)}for(let a=0;a<=i-r;a++){const c=(r+a).toString();o>0&&(n=(o+a).toString()),r===i&&o!==l&&(n+=\"-\"+l.toString());const d=c+\"/\"+e.protocol;t[d]?t[d].push({HostIp:s,HostPort:n}):t[d]=[{HostIp:s,HostPort:n}]}})),t},sortAndCombinePorts:function(e){const t=[],n=p()(e),a=d()(n,(e=>b()(e,\"/\")[1]));return g()(a,((n,a)=>{const r={};for(const t of n)for(const n of e[t])r[n.HostIp]=r[n.HostIp]||[],r[n.HostIp].push(t);g()(r,((n,r)=>{const i=l()(n,(e=>parseInt(b()(e,\"/\")[0],10)));let s=-1,o=-1;g()(i,(n=>{const i=b()(n,\"/\"),l=parseInt(i[0],10),c=e[n][0];e[n].shift();const d=S(c.HostPort);if(d>0){if(t.length>0&&s===d-1&&o===l-1)return t[t.length-1].hostPort=$(t[t.length-1].hostPort,d),t[t.length-1].containerPort=$(t[t.length-1].containerPort,l),s=d,void(o=l);s=d,o=l}else s=-1,o=-1;let u=c.HostPort.toString();r&&(u=`${r}:${u}`);const p={hostPort:u,containerPort:l,protocol:a};t.push(p)}))}))})),t},getContainerNames:function(e){return f()(s()(f()(e,\"Names\")),(e=>r()(e,\"/\")))}}}])},20886:function(e,t,n){\"use strict\";n.r(t),n.d(t,{buildImageFullURI:function(){return l}});var a=n(44716),r=n.n(a),i=n(17465),s=n.n(i),o=n(56414);function l(e){if(!e.UseRegistry)return n(e.Image);const t=function(e){switch(e.Registry.Type){case o.RegistryTypes.GITLAB:return function(e){const t=e.Image.startsWith(\":\")?\"\":\"/\";return`${e.Registry.URL}/${e.Registry.Gitlab.ProjectPath}${t}${e.Image}`}(e);case o.RegistryTypes.QUAY:return function(e){const t=e.Registry.Quay.UseOrganisation?e.Registry.Quay.OrganisationName:e.Registry.Username;return`${e.Registry.URL?e.Registry.URL+\"/\":\"\"}${t}/${e.Image}`}(e);case o.RegistryTypes.ANONYMOUS:return e.Image;default:return function(e){return(e.Registry.URL?e.Registry.URL+\"/\":\"\")+e.Image}(e)}}(e);return n(t);function n(e,t=\"latest\"){return e.includes(\":\")?e:`${e}:${t}`}}angular.module(\"portainer.docker\").factory(\"ImageHelper\",(function(){return{isValidTag:function(e){return e.match(/^(?![\\.\\-])([a-zA-Z0-9\\_\\.\\-])+$/g)},createImageConfigForContainer:function(e){return{fromImage:l(e)}},getImagesNamesForDownload:function(e){return{names:e.map((function(e){return\"<none>:<none>\"!==e.RepoTags[0]?e.RepoTags[0]:e.Id}))}},removeDigestFromRepository:function(e){return e.split(\"@sha\")[0]},imageContainsURL:function(e){const t=s()(e,\"/\"),n=t[0];return t.length>1&&(r()(n,\".\")||r()(n,\":\"))}}}))},46313:function(e,t,n){\"use strict\";n.r(t);var a=n(4622),r=n.n(a);angular.module(\"portainer.docker\").factory(\"InfoHelper\",[function(){return{determineEndpointMode:function(e,t){var n={provider:\"\",role:\"\",agentProxy:!1};return 2!==t&&4!==t||(n.agentProxy=!0),!e.Swarm||r()(e.Swarm.NodeID)?n.provider=\"DOCKER_STANDALONE\":(n.provider=\"DOCKER_SWARM_MODE\",e.Swarm.ControlAvailable?n.role=\"MANAGER\":n.role=\"WORKER\"),n}}}])},6264:function(){angular.module(\"portainer.docker\").factory(\"LabelHelper\",[function(){\"use strict\";return{fromLabelHashToKeyValue:function(e){return e?Object.keys(e).map((function(t){return{key:t,value:e[t],originalKey:t,originalValue:e[t],added:!0}})):[]},fromKeyValueToLabelHash:function(e){var t={};return e&&e.forEach((function(e){e.key&&(t[e.key]=e.value)})),t}}}])},9954:function(e,t,n){\"use strict\";n.r(t);var a=n(92376),r=n(92148),i=n.n(r);const s={black:i().colors[0],red:i().colors[1],green:i().colors[2],yellow:i().colors[3],blue:i().colors[4],magenta:i().colors[5],cyan:i().colors[6],white:i().colors[7],brightBlack:i().colors[8],brightRed:i().colors[9],brightGreen:i().colors[10],brightYellow:i().colors[11],brightBlue:i().colors[12],brightMagenta:i().colors[13],brightCyan:i().colors[14],brightWhite:i().colors[15]},o={bgBlack:i().colors[0],bgRed:i().colors[1],bgGreen:i().colors[2],bgYellow:i().colors[3],bgBlue:i().colors[4],bgMagenta:i().colors[5],bgCyan:i().colors[6],bgWhite:i().colors[7],bgBrightBlack:i().colors[8],bgBrightRed:i().colors[9],bgBrightGreen:i().colors[10],bgBrightYellow:i().colors[11],bgBrightBlue:i().colors[12],bgBrightMagenta:i().colors[13],bgBrightCyan:i().colors[14],bgBrightWhite:i().colors[15]};angular.module(\"portainer.docker\").factory(\"LogHelper\",[function(){var e={};function t(e){return e.replace(/[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,\"\")}function n(e){const[t,n,a]=e;return`rgb(${t}, ${n}, ${a})`}function r(e){const t=e[1];return 2===t?n(e.slice(2)):5===t&&i().colors[e[2]]?n(i().colors[e[2]]):\"\"}return e.formatLogs=function(e,i){i&&(e=function(e){return(e=e.substring(8)).replace(/\\r?\\n(.{8})/g,\"\\n\")}(e));const l=(0,a.Z)(e),c=[];let d=null,u=null,p=\"\",m=[];for(const e of l){const a=e[0];if(s[a])d=n(s[a]);else if(\"moreColor\"===a)d=r(e);else if(\"fgDefault\"===a)d=null;else if(o[a])u=n(o[a]);else if(\"bgMoreColor\"===a)u=r(e);else if(\"bgDefault\"===a)u=null;else if(\"reset\"===a)d=null,u=null;else if(\"text\"===a){const n=e[1].split(\"\\n\");for(let e=0;e<n.length;e++){0!==e&&(c.push({line:p,spans:m}),p=\"\",m=[]);const a=t(n[e]);p+=a,m.push({foregroundColor:d,backgroundColor:u,text:a})}}}return p&&c.push({line:p,spans:m}),c},e}])},69452:function(e,t,n){\"use strict\";n.r(t);var a=n(46545),r=n.n(a),i=n(83432),s=n.n(i);class o{static getIPV4Configs(e){return s()(e,(e=>/^([0-9]{1,3}\\.){3}[0-9]{1,3}(\\/([0-9]|[1-2][0-9]|3[0-2]))?$/.test(e.Subnet)))}static getIPV6Configs(e){return r()(e,...o.getIPV4Configs(e))}}t.default=o},80677:function(){angular.module(\"portainer.docker\").factory(\"NodeHelper\",[function(){\"use strict\";return{nodeToConfig:function(e){return{Name:e.Spec.Name,Role:e.Spec.Role,Labels:e.Spec.Labels,Availability:e.Spec.Availability}}}}])},45665:function(){angular.module(\"portainer.docker\").factory(\"SecretHelper\",[function(){\"use strict\";return{flattenSecret:function(e){return e?{Id:e.SecretID,Name:e.SecretName,FileName:e.File.Name,Uid:e.File.UID,Gid:e.File.GID,Mode:e.File.Mode}:{}},secretConfig:function(e){return e?{SecretID:e.Id,SecretName:e.Name,File:{Name:e.FileName,UID:e.Uid||\"0\",GID:e.Gid||\"0\",Mode:e.Mode||444}}:{}}}}])},18743:function(e,t,n){\"use strict\";n.r(t);var a=n(4396),r=n.n(a);angular.module(\"portainer.docker\").factory(\"ServiceHelper\",[function(){return{associateTasksToService:function(e,t){e.Tasks=[];for(var n=[],a=0;a<t.length;a++){var r=t[a];r.ServiceId===e.Id?(e.Tasks.push(r),r.ServiceName=e.Name):n.push(r)}t=n},serviceToConfig:function(e){return{Name:e.Spec.Name,Labels:e.Spec.Labels,TaskTemplate:e.Spec.TaskTemplate,Mode:e.Spec.Mode,UpdateConfig:e.Spec.UpdateConfig,Networks:e.Spec.Networks,EndpointSpec:e.Spec.EndpointSpec}},translateKeyValueToPlacementPreferences:function(e){if(e){var t=[];return e.forEach((function(e){e.strategy&&\"\"!==e.strategy&&e.value&&\"\"!==e.value&&\"spread\"===e.strategy.toLowerCase()&&t.push({Spread:{SpreadDescriptor:e.value}})})),t}return[]},translateKeyValueToPlacementConstraints:function(e){if(e){var t=[];return e.forEach((function(e){e.key&&\"\"!==e.key&&e.value&&\"\"!==e.value&&t.push(e.key+e.operator+e.value)})),t}return[]},translatePreferencesToKeyValue:function(e){if(e){var t=[];return e.forEach((function(e){e.Spread&&t.push({strategy:\"Spread\",value:e.Spread.SpreadDescriptor})})),t}return[]},translateConstraintsToKeyValue:function(e){if(e){var t=[];return e.forEach((function(e){var n=function(e){var t=e.indexOf(\"==\");return t>=0?[t,\"==\"]:[e.indexOf(\"!=\"),\"!=\"]}(e),a=e.slice(0,n[0]),r=n[1],i=e.slice(n[0]+2);t.push({key:a,value:i,operator:r,originalKey:a,originalValue:i})})),t}},translateHumanDurationToNanos:function(e){var t,n=e.match(/^([0-9]+)(h|m|s|ms|us|ns)$/i);if(null!==n&&3===n.length){var a=parseInt(n[1],10),i=n[2];switch(i){case\"ns\":t=a;break;case\"us\":t=1e3*a;break;default:t=1e6*r().duration(a,i).asMilliseconds()}}return t},translateNanosToHumanDuration:function(e){var t=\"0s\",n={ns:1};return n.us=1e3*n.ns,n.ms=1e3*n.us,n.s=1e3*n.ms,n.m=60*n.s,n.h=60*n.m,Object.keys(n).forEach((function(a){e%n[a]==0&&e/n[a]>0&&(t=e/n[a]+a)})),t},translateLogDriverOptsToKeyValue:function(e){var t=[];return e&&Object.keys(e).forEach((function(n){t.push({key:n,value:e[n],originalKey:n,originalValue:e[n],added:!0})})),t},translateKeyValueToLogDriverOpts:function(e){var t={};return e&&e.forEach((function(e){e.key&&\"\"!==e.key&&e.value&&\"\"!==e.value&&(t[e.key]=e.value)})),t},translateHostsEntriesToHostnameIP:function(e){var t=[];return e&&e.forEach((function(e){if(e.indexOf(\" \")&&2===e.split(\" \").length){var n=e.split(\" \");t.push({hostname:n[1],ip:n[0]})}})),t},translateHostnameIPToHostsEntries:function(e){var t=[];return e&&e.forEach((function(e){e.ip&&e.hostname&&t.push(e.ip+\" \"+e.hostname)})),t}}}])},22588:function(){angular.module(\"portainer.docker\").factory(\"TaskHelper\",[function(){\"use strict\";return{associateContainerToTask:function(e,t){for(var n=0;n<t.length;n++){var a=t[n];if(e.ContainerId===a.Id){e.Container=a;break}}}}}])},60069:function(){angular.module(\"portainer.docker\").factory(\"VolumeHelper\",[function(){\"use strict\";return{createDriverOptions:function(e){var t={};return e.forEach((function(e){t[e.name]=e.value})),t},isVolumeUsedByAService:function(e,t){for(var n=0;n<t.length;n++)for(var a=t[n].Mounts,r=0;r<a.length;r++)if(a[r].Source===e.Id)return!0;return!1}}}])},8691:function(){angular.module(\"portainer.app\").factory(\"ContainersInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){\"use strict\";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a){var r=a.Snapshots[0].SnapshotRaw.Containers;if(void 0!==r)return r}}return e.reject(n)}};return n}])},18872:function(){angular.module(\"portainer.app\").factory(\"ImagesInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){\"use strict\";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a){var r=a.Snapshots[0].SnapshotRaw.Images;if(void 0!==r)return r}}return e.reject(n)}};return n}])},84395:function(){angular.module(\"portainer.app\").factory(\"InfoInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){\"use strict\";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a&&a.Snapshots.length&&a.Snapshots[0].SnapshotRaw){var r=a.Snapshots[0].SnapshotRaw.Info;if(void 0!==r)return r}}return e.reject(n)}};return n}])},2630:function(){angular.module(\"portainer.app\").factory(\"NetworksInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){\"use strict\";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a){var r=a.Snapshots[0].SnapshotRaw.Networks;if(void 0!==r)return r}}return e.reject(n)}};return n}])},73166:function(){angular.module(\"portainer.app\").factory(\"VersionInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){\"use strict\";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a&&a.Snapshots.length&&a.Snapshots[0].SnapshotRaw){var r=a.Snapshots[0].SnapshotRaw.Version;if(void 0!==r)return r}}return e.reject(n)}};return n}])},33022:function(){angular.module(\"portainer.app\").factory(\"VolumesInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){\"use strict\";var n={responseError:function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a){var r=a.Snapshots[0].SnapshotRaw.Volumes;if(void 0!==r)return r}}return e.reject(n)}};return n}])},66807:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ConfigViewModel:function(){return r}});var a=n(24989);function r(e){this.Id=e.ID,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Version=e.Version.Index,this.Name=e.Spec.Name,this.Labels=e.Spec.Labels,this.Data=function(e){try{return decodeURIComponent(atob(e).split(\"\").map((function(e){return\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2)})).join(\"\"))}catch(t){return atob(e)}}(e.Spec.Data),e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new a.w(e.Portainer.ResourceControl))}},12064:function(e,t,n){\"use strict\";n.r(t),n.d(t,{createStatus:function(){return d},ContainerViewModel:function(){return u},ContainerStatsViewModel:function(){return p},ContainerDetailsViewModel:function(){return m}});var a=n(68582),r=n.n(a),i=n(4622),s=n.n(i),o=n(94946),l=n.n(o),c=n(24989);function d(e){var t=l()(e);return t.indexOf(\"paused\")>-1?\"paused\":t.indexOf(\"dead\")>-1?\"dead\":t.indexOf(\"created\")>-1?\"created\":t.indexOf(\"exited\")>-1?\"stopped\":t.indexOf(\"(healthy)\")>-1?\"healthy\":t.indexOf(\"(unhealthy)\")>-1?\"unhealthy\":t.indexOf(\"(health: starting)\")>-1?\"starting\":\"running\"}function u(e){if(this.Id=e.Id,this.Status=d(e.Status),this.State=e.State,this.Created=e.Created,this.Names=e.Names,e.NetworkSettings&&!s()(e.NetworkSettings.Networks)&&(this.IP=e.NetworkSettings.Networks[Object.keys(e.NetworkSettings.Networks)[0]].IPAddress),this.NetworkSettings=e.NetworkSettings,this.Image=e.Image,this.ImageID=e.ImageID,this.Command=e.Command,this.Checked=!1,this.Labels=e.Labels,this.Labels&&this.Labels[\"com.docker.compose.project\"]?this.StackName=this.Labels[\"com.docker.compose.project\"]:this.Labels&&this.Labels[\"com.docker.stack.namespace\"]&&(this.StackName=this.Labels[\"com.docker.stack.namespace\"]),this.Mounts=e.Mounts,this.IsPortainer=e.IsPortainer,this.Ports=[],e.Ports)for(var t=0;t<e.Ports.length;++t){var n=e.Ports[t];n.PublicPort&&this.Ports.push({host:n.IP,private:n.PrivatePort,public:n.PublicPort})}e.Portainer&&(e.Portainer.ResourceControl&&(this.ResourceControl=new c.w(e.Portainer.ResourceControl)),e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName))}function p(e){if(this.read=e.read,this.preread=e.preread,void 0!==e.memory_stats.privateworkingset?(this.MemoryUsage=e.memory_stats.privateworkingset,this.MemoryCache=0,this.NumProcs=e.num_procs,this.isWindows=!0):void 0===e.memory_stats.stats||void 0===e.memory_stats.usage?this.MemoryUsage=this.MemoryCache=0:(this.MemoryCache=0,void 0!==e.memory_stats.stats.cache&&(this.MemoryCache=e.memory_stats.stats.cache),this.MemoryUsage=e.memory_stats.usage-this.MemoryCache),this.PreviousCPUTotalUsage=e.precpu_stats.cpu_usage.total_usage,this.PreviousCPUSystemUsage=e.precpu_stats.system_cpu_usage,this.CurrentCPUTotalUsage=e.cpu_stats.cpu_usage.total_usage,this.CurrentCPUSystemUsage=e.cpu_stats.system_cpu_usage,this.CPUCores=1,e.cpu_stats.cpu_usage.percpu_usage?this.CPUCores=e.cpu_stats.cpu_usage.percpu_usage.length:void 0!==e.cpu_stats.online_cpus&&(this.CPUCores=e.cpu_stats.online_cpus),this.Networks=r()(e.networks),void 0!==e.blkio_stats&&null!==e.blkio_stats.io_service_bytes_recursive){var t=e.blkio_stats.io_service_bytes_recursive.find((e=>\"Read\"===e.op));void 0===t&&(t=e.blkio_stats.io_service_bytes_recursive.find((e=>\"read\"===e.op))),void 0!==t&&(this.BytesRead=t.value);var n=e.blkio_stats.io_service_bytes_recursive.find((e=>\"Write\"===e.op));void 0===n&&(n=e.blkio_stats.io_service_bytes_recursive.find((e=>\"write\"===e.op))),void 0!==n&&(this.BytesWrite=n.value)}else this.noIOdata=!0}function m(e){this.Model=e,this.Id=e.Id,this.State=e.State,this.Created=e.Created,this.Name=e.Name,this.NetworkSettings=e.NetworkSettings,this.Args=e.Args,this.Image=e.Image,this.Config=e.Config,this.HostConfig=e.HostConfig,this.Mounts=e.Mounts,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new c.w(e.Portainer.ResourceControl)),this.IsPortainer=e.IsPortainer}},66328:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ContainerCapabilities:function(){return r},ContainerCapability:function(){return i}});var a={SETPCAP:\"Modify process capabilities.\",MKNOD:\"Create special files using mknod(2).\",AUDIT_WRITE:\"Write records to kernel auditing log.\",CHOWN:\"Make arbitrary changes to file UIDs and GIDs (see chown(2)).\",NET_RAW:\"Use RAW and PACKET sockets.\",DAC_OVERRIDE:\"Bypass file read, write, and execute permission checks.\",FOWNER:\"Bypass permission checks on operations that normally require the file system UID of the process to match the UID of the file.\",FSETID:\"Don\u2019t clear set-user-ID and set-group-ID permission bits when a file is modified.\",KILL:\"Bypass permission checks for sending signals.\",SETGID:\"Make arbitrary manipulations of process GIDs and supplementary GID list.\",SETUID:\"Make arbitrary manipulations of process UIDs.\",NET_BIND_SERVICE:\"Bind a socket to internet domain privileged ports (port numbers less than 1024).\",SYS_CHROOT:\"Use chroot(2), change root directory.\",SETFCAP:\"Set file capabilities.\",SYS_MODULE:\"Load and unload kernel modules.\",SYS_RAWIO:\"Perform I/O port operations (iopl(2) and ioperm(2)).\",SYS_PACCT:\"Use acct(2), switch process accounting on or off.\",SYS_ADMIN:\"Perform a range of system administration operations.\",SYS_NICE:\"Raise process nice value (nice(2), setpriority(2)) and change the nice value for arbitrary processes.\",SYS_RESOURCE:\"Override resource Limits.\",SYS_TIME:\"Set system clock (settimeofday(2), stime(2), adjtimex(2)); set real-time (hardware) clock.\",SYS_TTY_CONFIG:\"Use vhangup(2); employ various privileged ioctl(2) operations on virtual terminals.\",AUDIT_CONTROL:\"Enable and disable kernel auditing; change auditing filter rules; retrieve auditing status and filtering rules.\",MAC_ADMIN:\"Allow MAC configuration or state changes. Implemented for the Smack LSM.\",MAC_OVERRIDE:\"Override Mandatory Access Control (MAC). Implemented for the Smack Linux Security Module (LSM).\",NET_ADMIN:\"Perform various network-related operations.\",SYSLOG:\"Perform privileged syslog(2) operations.\",DAC_READ_SEARCH:\"Bypass file read permission checks and directory read and execute permission checks.\",LINUX_IMMUTABLE:\"Set the FS_APPEND_FL and FS_IMMUTABLE_FL i-node flags.\",NET_BROADCAST:\"Make socket broadcasts, and listen to multicasts.\",IPC_LOCK:\"Lock memory (mlock(2), mlockall(2), mmap(2), shmctl(2)).\",IPC_OWNER:\"Bypass permission checks for operations on System V IPC objects.\",SYS_PTRACE:\"Trace arbitrary processes using ptrace(2).\",SYS_BOOT:\"Use reboot(2) and kexec_load(2), reboot and load a new kernel for later execution.\",LEASE:\"Establish leases on arbitrary files (see fcntl(2)).\",WAKE_ALARM:\"Trigger something that will wake up the system.\",BLOCK_SUSPEND:\"Employ features that can block system suspend.\"};function r(){return[new i(\"SETPCAP\",!0),new i(\"MKNOD\",!0),new i(\"AUDIT_WRITE\",!0),new i(\"CHOWN\",!0),new i(\"NET_RAW\",!0),new i(\"DAC_OVERRIDE\",!0),new i(\"FOWNER\",!0),new i(\"FSETID\",!0),new i(\"KILL\",!0),new i(\"SETGID\",!0),new i(\"SETUID\",!0),new i(\"NET_BIND_SERVICE\",!0),new i(\"SYS_CHROOT\",!0),new i(\"SETFCAP\",!0),new i(\"SYS_MODULE\",!1),new i(\"SYS_RAWIO\",!1),new i(\"SYS_PACCT\",!1),new i(\"SYS_ADMIN\",!1),new i(\"SYS_NICE\",!1),new i(\"SYS_RESOURCE\",!1),new i(\"SYS_TIME\",!1),new i(\"SYS_TTY_CONFIG\",!1),new i(\"AUDIT_CONTROL\",!1),new i(\"MAC_ADMIN\",!1),new i(\"MAC_OVERRIDE\",!1),new i(\"NET_ADMIN\",!1),new i(\"SYSLOG\",!1),new i(\"DAC_READ_SEARCH\",!1),new i(\"LINUX_IMMUTABLE\",!1),new i(\"NET_BROADCAST\",!1),new i(\"IPC_LOCK\",!1),new i(\"IPC_OWNER\",!1),new i(\"SYS_PTRACE\",!1),new i(\"SYS_BOOT\",!1),new i(\"LEASE\",!1),new i(\"WAKE_ALARM\",!1),new i(\"BLOCK_SUSPEND\",!1)].sort((function(e,t){return e.capability<t.capability?-1:1}))}function i(e,t){this.capability=e,this.allowed=t,this.description=a[e]}},44333:function(e,t,n){\"use strict\";function a(e){this.Time=e.time,e.Type?(this.Type=e.Type,this.Details=function(e){var t=e.Actor.Attributes,n=\"\",a=e.Action,r=\"\",i=a.indexOf(\":\");switch(-1!=i&&(r=a.substring(i),a=a.substring(0,i)),e.Type){case\"container\":switch(a){case\"stop\":n=\"Container \"+t.name+\" stopped\";break;case\"destroy\":n=\"Container \"+t.name+\" deleted\";break;case\"create\":n=\"Container \"+t.name+\" created\";break;case\"start\":n=\"Container \"+t.name+\" started\";break;case\"kill\":n=\"Container \"+t.name+\" killed\";break;case\"die\":n=\"Container \"+t.name+\" exited with status code \"+t.exitCode;break;case\"commit\":n=\"Container \"+t.name+\" committed\";break;case\"restart\":n=\"Container \"+t.name+\" restarted\";break;case\"pause\":n=\"Container \"+t.name+\" paused\";break;case\"unpause\":n=\"Container \"+t.name+\" unpaused\";break;case\"attach\":n=\"Container \"+t.name+\" attached\";break;case\"detach\":n=\"Container \"+t.name+\" detached\";break;case\"copy\":n=\"Container \"+t.name+\" copied\";break;case\"export\":n=\"Container \"+t.name+\" exported\";break;case\"health_status\":n=\"Container \"+t.name+\" executed health status\";break;case\"oom\":n=\"Container \"+t.name+\" goes in out of memory\";break;case\"rename\":n=\"Container \"+t.name+\" renamed\";break;case\"resize\":n=\"Container \"+t.name+\" resized\";break;case\"top\":n=\"Showed running processes for container \"+t.name;break;case\"update\":n=\"Container \"+t.name+\" updated\";break;case\"exec_create\":n=\"Exec instance created\";break;case\"exec_start\":n=\"Exec instance started\";break;case\"exec_die\":n=\"Exec instance exited\";break;default:n=\"Unsupported event\"}break;case\"image\":switch(a){case\"delete\":n=\"Image deleted\";break;case\"import\":n=\"Image \"+e.Actor.ID+\" imported\";break;case\"load\":n=\"Image \"+e.Actor.ID+\" loaded\";break;case\"tag\":n=\"New tag created for \"+t.name;break;case\"untag\":n=\"Image untagged\";break;case\"save\":n=\"Image \"+e.Actor.ID+\" saved\";break;case\"pull\":n=\"Image \"+e.Actor.ID+\" pulled\";break;case\"push\":n=\"Image \"+e.Actor.ID+\" pushed\";break;default:n=\"Unsupported event\"}break;case\"network\":switch(a){case\"create\":n=\"Network \"+t.name+\" created\";break;case\"destroy\":n=\"Network \"+t.name+\" deleted\";break;case\"remove\":n=\"Network \"+t.name+\" removed\";break;case\"connect\":n=\"Container connected to \"+t.name+\" network\";break;case\"disconnect\":n=\"Container disconnected from \"+t.name+\" network\";break;default:n=\"Unsupported event\"}break;case\"volume\":switch(a){case\"create\":n=\"Volume \"+e.Actor.ID+\" created\";break;case\"destroy\":n=\"Volume \"+e.Actor.ID+\" deleted\";break;case\"mount\":n=\"Volume \"+e.Actor.ID+\" mounted\";break;case\"unmount\":n=\"Volume \"+e.Actor.ID+\" unmounted\";break;default:n=\"Unsupported event\"}break;default:n=\"Unsupported event\"}return n+r}(e)):(this.Type=e.status,this.Details=e.from)}n.r(t),n.d(t,{EventViewModel:function(){return a}})},84647:function(e,t,n){\"use strict\";function a(e){if(this.Id=e.Id,this.Tag=e.Tag,this.Repository=e.Repository,this.Created=e.Created,this.Checked=!1,this.RepoTags=e.RepoTags,!this.RepoTags&&e.RepoDigests){this.RepoTags=[];for(var t=0;t<e.RepoDigests.length;t++){var n=e.RepoDigests[t],a=n.substring(0,n.indexOf(\"@\"));this.RepoTags.push(a+\":<none>\")}}this.VirtualSize=e.VirtualSize,this.ContainerCount=e.ContainerCount,e.Portainer&&e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName),this.Labels=e.Labels}function r(e){this.hasError=!1;for(var t=[],n=0;n<e.length;n++){var a=e[n];a.stream&&(a=a.stream.replace(/[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,\"\"),t.push(a)),a.errorDetail&&(t.push(a.errorDetail.message),this.hasError=!0)}this.buildLogs=t}n.r(t),n.d(t,{ImageViewModel:function(){return a},ImageBuildModel:function(){return r}})},56946:function(e,t,n){\"use strict\";function a(e){this.Id=e.Id,this.Tag=e.Tag,this.Parent=e.Parent,this.Repository=e.Repository,this.Created=e.Created,this.Checked=!1,this.RepoTags=e.RepoTags,this.VirtualSize=e.VirtualSize,this.DockerVersion=e.DockerVersion,this.Os=e.Os,this.Architecture=e.Architecture,this.Author=e.Author,this.Command=e.Config.Cmd,this.Entrypoint=e.ContainerConfig.Entrypoint?e.ContainerConfig.Entrypoint:\"\",this.ExposedPorts=e.ContainerConfig.ExposedPorts?Object.keys(e.ContainerConfig.ExposedPorts):[],this.Volumes=e.ContainerConfig.Volumes?Object.keys(e.ContainerConfig.Volumes):[],this.Env=e.ContainerConfig.Env?e.ContainerConfig.Env:[],this.Labels=e.ContainerConfig.Labels}n.r(t),n.d(t,{ImageDetailsViewModel:function(){return a}})},75208:function(e,t,n){\"use strict\";function a(e,t){this.Order=e,this.Id=t.Id,this.Created=t.Created,this.CreatedBy=t.CreatedBy,this.Size=t.Size,this.Comment=t.Comment,this.Tags=t.Tags}n.r(t),n.d(t,{ImageLayerViewModel:function(){return a}})},70983:function(e,t,n){\"use strict\";n.r(t),n.d(t,{NetworkViewModel:function(){return r}});var a=n(24989);function r(e){this.Id=e.Id,this.Name=e.Name,this.Scope=e.Scope,this.Driver=e.Driver,this.Attachable=e.Attachable,this.Internal=e.Internal,this.IPAM=e.IPAM,this.Containers=e.Containers,this.Options=e.Options,this.Ingress=e.Ingress,this.Labels=e.Labels,this.Labels&&this.Labels[\"com.docker.compose.project\"]?this.StackName=this.Labels[\"com.docker.compose.project\"]:this.Labels&&this.Labels[\"com.docker.stack.namespace\"]&&(this.StackName=this.Labels[\"com.docker.stack.namespace\"]),e.Portainer&&(e.Portainer.ResourceControl&&(this.ResourceControl=new a.w(e.Portainer.ResourceControl)),e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName)),this.ConfigFrom=e.ConfigFrom,this.ConfigOnly=e.ConfigOnly}},11339:function(e,t,n){\"use strict\";function a(e){this.Model=e,this.Id=e.ID,this.Version=e.Version.Index,this.Name=e.Spec.Name,this.Role=e.Spec.Role,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Availability=e.Spec.Availability;var t=e.Spec.Labels;this.Labels=t?Object.keys(t).map((function(e){return{key:e,value:t[e],originalKey:e,originalValue:t[e],added:!0}})):[];var n=e.Description.Engine.Labels;this.EngineLabels=n?Object.keys(n).map((function(e){return{key:e,value:n[e]}})):[],this.Hostname=e.Description.Hostname,this.PlatformArchitecture=e.Description.Platform.Architecture,this.PlatformOS=e.Description.Platform.OS,this.CPUs=e.Description.Resources.NanoCPUs,this.Memory=e.Description.Resources.MemoryBytes,this.EngineVersion=e.Description.Engine.EngineVersion,this.Plugins=e.Description.Engine.Plugins,this.Status=e.Status.State,e.Status.Addr&&(this.Addr=e.Status.Addr),e.ManagerStatus&&(this.Leader=e.ManagerStatus.Leader,this.Reachability=e.ManagerStatus.Reachability,this.ManagerAddr=e.ManagerStatus.Addr)}n.r(t),n.d(t,{NodeViewModel:function(){return a}})},34161:function(e,t,n){\"use strict\";function a(e){this.Id=e.Id,this.Name=e.Name,this.Enabled=e.Enabled,this.Config=e.Config}n.r(t),n.d(t,{PluginViewModel:function(){return a}})},76939:function(e,t,n){\"use strict\";function a(){this.UseRegistry=!0,this.Registry={},this.Image=\"\"}n.r(t),n.d(t,{PorImageRegistryModel:function(){return a}})},89638:function(e,t,n){\"use strict\";n.r(t),n.d(t,{SecretViewModel:function(){return r}});var a=n(24989);function r(e){this.Id=e.ID,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Version=e.Version.Index,this.Name=e.Spec.Name,this.Labels=e.Spec.Labels,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new a.w(e.Portainer.ResourceControl))}},7456:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ServiceViewModel:function(){return r}});var a=n(24989);function r(e,t,n){this.Model=e,this.Id=e.ID,this.Tasks=[],this.Name=e.Spec.Name,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Image=e.Spec.TaskTemplate.ContainerSpec.Image,this.Version=e.Version.Index,e.Spec.Mode.Replicated?(this.Mode=\"replicated\",this.Replicas=e.Spec.Mode.Replicated.Replicas):(this.Mode=\"global\",n&&(this.Replicas=n.length)),t&&(this.Running=t.length),e.Spec.TaskTemplate.Resources&&(e.Spec.TaskTemplate.Resources.Limits&&(this.LimitNanoCPUs=e.Spec.TaskTemplate.Resources.Limits.NanoCPUs,this.LimitMemoryBytes=e.Spec.TaskTemplate.Resources.Limits.MemoryBytes),e.Spec.TaskTemplate.Resources.Reservations&&(this.ReservationNanoCPUs=e.Spec.TaskTemplate.Resources.Reservations.NanoCPUs,this.ReservationMemoryBytes=e.Spec.TaskTemplate.Resources.Reservations.MemoryBytes)),e.Spec.TaskTemplate.RestartPolicy?(this.RestartCondition=e.Spec.TaskTemplate.RestartPolicy.Condition||\"any\",this.RestartDelay=e.Spec.TaskTemplate.RestartPolicy.Delay||5e9,this.RestartMaxAttempts=e.Spec.TaskTemplate.RestartPolicy.MaxAttempts||0,this.RestartWindow=e.Spec.TaskTemplate.RestartPolicy.Window||0):(this.RestartCondition=\"any\",this.RestartDelay=5e9,this.RestartMaxAttempts=0,this.RestartWindow=0),e.Spec.TaskTemplate.LogDriver?(this.LogDriverName=e.Spec.TaskTemplate.LogDriver.Name||\"\",this.LogDriverOpts=e.Spec.TaskTemplate.LogDriver.Options||[]):(this.LogDriverName=\"\",this.LogDriverOpts=[]),this.Constraints=e.Spec.TaskTemplate.Placement&&e.Spec.TaskTemplate.Placement.Constraints||[],this.Preferences=e.Spec.TaskTemplate.Placement&&e.Spec.TaskTemplate.Placement.Preferences||[],this.Platforms=e.Spec.TaskTemplate.Placement&&e.Spec.TaskTemplate.Placement.Platforms||[],this.Labels=e.Spec.Labels,this.Labels&&this.Labels[\"com.docker.stack.namespace\"]&&(this.StackName=this.Labels[\"com.docker.stack.namespace\"]);var r=e.Spec.TaskTemplate.ContainerSpec;r&&(this.ContainerLabels=r.Labels,this.Command=r.Command,this.Arguments=r.Args,this.Hostname=r.Hostname,this.Env=r.Env,this.Dir=r.Dir,this.User=r.User,this.Groups=r.Groups,this.TTY=r.TTY,this.OpenStdin=r.OpenStdin,this.ReadOnly=r.ReadOnly,this.Mounts=r.Mounts||[],this.StopSignal=r.StopSignal,this.StopGracePeriod=r.StopGracePeriod,this.HealthCheck=r.HealthCheck||{},this.Hosts=r.Hosts,this.DNSConfig=r.DNSConfig,this.Secrets=r.Secrets,this.Configs=r.Configs),e.Endpoint&&(this.Ports=e.Endpoint.Ports),this.LogDriver=e.Spec.TaskTemplate.LogDriver,this.Runtime=e.Spec.TaskTemplate.Runtime,this.VirtualIPs=e.Endpoint?e.Endpoint.VirtualIPs:[],e.Spec.UpdateConfig?(this.UpdateParallelism=void 0!==typeof e.Spec.UpdateConfig.Parallelism?e.Spec.UpdateConfig.Parallelism||0:1,this.UpdateDelay=e.Spec.UpdateConfig.Delay||0,this.UpdateFailureAction=e.Spec.UpdateConfig.FailureAction||\"pause\",this.UpdateOrder=e.Spec.UpdateConfig.Order||\"stop-first\"):(this.UpdateParallelism=1,this.UpdateDelay=0,this.UpdateFailureAction=\"pause\",this.UpdateOrder=\"stop-first\"),this.RollbackConfig=e.Spec.RollbackConfig,this.Checked=!1,this.Scale=!1,this.EditName=!1,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new a.w(e.Portainer.ResourceControl))}},90906:function(e,t,n){\"use strict\";function a(e){this.Id=e.ID}n.r(t),n.d(t,{SwarmViewModel:function(){return a}})},59146:function(e,t,n){\"use strict\";function a(e){this.Id=e.ID,this.Created=e.CreatedAt,this.Updated=e.UpdatedAt,this.Slot=e.Slot,this.Spec=e.Spec,this.Status=e.Status,this.DesiredState=e.DesiredState,this.ServiceId=e.ServiceID,this.NodeId=e.NodeID,e.Status&&e.Status.ContainerStatus&&e.Status.ContainerStatus.ContainerID&&(this.ContainerId=e.Status.ContainerStatus.ContainerID)}n.r(t),n.d(t,{TaskViewModel:function(){return a}})},80682:function(e,t,n){\"use strict\";n.r(t),n.d(t,{VolumeViewModel:function(){return r}});var a=n(24989);function r(e){this.Id=e.Name,this.CreatedAt=e.CreatedAt,this.Driver=e.Driver,this.Options=e.Options,this.Labels=e.Labels,this.Labels&&this.Labels[\"com.docker.compose.project\"]?this.StackName=this.Labels[\"com.docker.compose.project\"]:this.Labels&&this.Labels[\"com.docker.stack.namespace\"]&&(this.StackName=this.Labels[\"com.docker.stack.namespace\"]),this.Mountpoint=e.Mountpoint,this.ResourceId=e.ResourceID,e.Portainer&&(e.Portainer.ResourceControl&&(this.ResourceControl=new a.w(e.Portainer.ResourceControl)),e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName))}},27401:function(e,t,n){\"use strict\";n.r(t);var a=n(12944);angular.module(\"portainer.docker\").factory(\"Build\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return e(t+\"/:endpointId/docker/build\",{endpointId:n.endpointID},{buildImage:{method:\"POST\",ignoreLoadingBar:!0,transformResponse:a.jsonObjectsToArrayHandler,isArray:!0,headers:{\"Content-Type\":\"application/x-tar\"}},buildImageOverride:{method:\"POST\",ignoreLoadingBar:!0,transformResponse:a.jsonObjectsToArrayHandler,isArray:!0}})}])},66055:function(){angular.module(\"portainer.docker\").factory(\"Commit\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/docker/commit\",{endpointId:n.endpointID},{commitContainer:{method:\"POST\",params:{container:\"@id\",repo:\"@repo\"},ignoreLoadingBar:!0}})}])},12477:function(){angular.module(\"portainer.docker\").factory(\"Config\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/docker/configs/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",params:{id:\"@id\"}},query:{method:\"GET\",isArray:!0},create:{method:\"POST\",params:{action:\"create\"},ignoreLoadingBar:!0},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},82791:function(e,t,n){\"use strict\";n.r(t);var a=n(12944);angular.module(\"portainer.docker\").factory(\"Container\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"ContainersInterceptor\",function(e,t,n,r){return e(t+\"/:endpointId/docker/containers/:id/:action\",{name:\"@name\",endpointId:n.endpointID},{query:{method:\"GET\",params:{all:0,action:\"json\",filters:\"@filters\"},isArray:!0,interceptor:r},get:{method:\"GET\",params:{action:\"json\"}},logs:{method:\"GET\",params:{id:\"@id\",action:\"logs\"},ignoreLoadingBar:!0,transformResponse:a.logsHandler},stats:{method:\"GET\",params:{id:\"@id\",stream:!1,action:\"stats\"},ignoreLoadingBar:!0},top:{method:\"GET\",params:{id:\"@id\",action:\"top\"},ignoreLoadingBar:!0},create:{method:\"POST\",params:{action:\"create\"},transformResponse:a.genericHandler,ignoreLoadingBar:!0},exec:{method:\"POST\",params:{id:\"@id\",action:\"exec\"},transformResponse:a.genericHandler,ignoreLoadingBar:!0},inspect:{method:\"GET\",params:{id:\"@id\",action:\"json\"}},update:{method:\"POST\",params:{id:\"@id\",action:\"update\"}},prune:{method:\"POST\",params:{action:\"prune\",filters:\"@filters\"}},resize:{method:\"POST\",params:{id:\"@id\",action:\"resize\",h:\"@height\",w:\"@width\"},transformResponse:a.genericHandler,ignoreLoadingBar:!0}})}])},6396:function(e,t,n){\"use strict\";n.r(t);var a=n(12944);angular.module(\"portainer.docker\").factory(\"Exec\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return e(t+\"/:endpointId/docker/exec/:id/:action\",{endpointId:n.endpointID},{resize:{method:\"POST\",params:{id:\"@id\",action:\"resize\",h:\"@height\",w:\"@width\"},transformResponse:a.genericHandler,ignoreLoadingBar:!0}})}])},10679:function(e,t,n){\"use strict\";n.r(t);var a=n(12944),r=n(89615);angular.module(\"portainer.docker\").factory(\"Image\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"HttpRequestHelper\",\"ImagesInterceptor\",function(e,t,n,i,s){return e(t+\"/:endpointId/docker/images/:id/:action\",{endpointId:n.endpointID},{query:{method:\"GET\",params:{all:0,action:\"json\"},isArray:!0,interceptor:s},get:{method:\"GET\",params:{action:\"json\"}},search:{method:\"GET\",params:{action:\"search\"}},history:{method:\"GET\",params:{action:\"history\"},isArray:!0},insert:{method:\"POST\",params:{id:\"@id\",action:\"insert\"}},tag:{method:\"POST\",params:{id:\"@id\",action:\"tag\",force:0,repo:\"@repo\"},ignoreLoadingBar:!0},inspect:{method:\"GET\",params:{id:\"@id\",action:\"json\"}},push:{method:\"POST\",params:{action:\"push\",id:\"@imageName\"},isArray:!0,transformResponse:a.jsonObjectsToArrayHandler,headers:{\"X-Registry-Auth\":i.registryAuthenticationHeader},ignoreLoadingBar:!0},create:{method:\"POST\",params:{action:\"create\",fromImage:\"@fromImage\"},isArray:!0,transformResponse:a.jsonObjectsToArrayHandler,headers:{\"X-Registry-Auth\":i.registryAuthenticationHeader},ignoreLoadingBar:!0},download:{method:\"GET\",params:{action:\"get\",names:\"@names\"},transformResponse:r.imageGetResponse,responseType:\"blob\",ignoreLoadingBar:!0},remove:{method:\"DELETE\",params:{id:\"@id\",force:\"@force\"},isArray:!0,transformResponse:a.deleteImageHandler}})}])},96452:function(e,t,n){\"use strict\";n.r(t);var a=n(12944);angular.module(\"portainer.docker\").factory(\"Network\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"NetworksInterceptor\",function(e,t,n,r){return e(t+\"/:endpointId/docker/networks/:id/:action\",{id:\"@id\",endpointId:n.endpointID},{query:{method:\"GET\",isArray:!0,interceptor:r},get:{method:\"GET\"},create:{method:\"POST\",params:{action:\"create\"},transformResponse:a.genericHandler,ignoreLoadingBar:!0},remove:{method:\"DELETE\",transformResponse:a.genericHandler},connect:{method:\"POST\",params:{action:\"connect\"}},disconnect:{method:\"POST\",params:{action:\"disconnect\"}}})}])},71989:function(){angular.module(\"portainer.docker\").factory(\"Node\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/docker/nodes/:id/:action\",{endpointId:n.endpointID},{query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"POST\",params:{id:\"@id\",action:\"update\",version:\"@version\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},357:function(){angular.module(\"portainer.docker\").factory(\"Plugin\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/docker/plugins/:id/:action\",{endpointId:n.endpointID},{query:{method:\"GET\",isArray:!0}})}])},12944:function(e,t,n){\"use strict\";function a(e){try{var t=JSON.parse(e);if(t&&\"object\"==typeof t)return t}catch(e){}return!1}function r(e){if(!e)return[];var t=\"[\"+e.replace(/\\n/g,\" \").replace(/\\}\\s*\\{/g,\"}, {\")+\"]\";return angular.fromJson(t)}function i(e){var t={};return e?(a(e)?t=angular.fromJson(e):t.message=e,t):t}function s(e){return{logs:e}}function o(e){var t,n=[];if(a(e))if(t=e,\"[object Array]\"!==Object.prototype.toString.call(t)){var r=angular.fromJson(e);n.push(r)}else n=angular.fromJson(e);else n.push({message:e});return n}n.r(t),n.d(t,{jsonObjectsToArrayHandler:function(){return r},genericHandler:function(){return i},logsHandler:function(){return s},deleteImageHandler:function(){return o}})},89615:function(e,t,n){\"use strict\";function a(e){var t={};return t.file=e,t}n.r(t),n.d(t,{imageGetResponse:function(){return a}})},64522:function(){angular.module(\"portainer.docker\").factory(\"Secret\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/docker/secrets/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",params:{id:\"@id\"}},query:{method:\"GET\",isArray:!0},create:{method:\"POST\",params:{action:\"create\"},ignoreLoadingBar:!0},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},49449:function(e,t,n){\"use strict\";n.r(t);var a=n(12944);angular.module(\"portainer.docker\").factory(\"Service\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"HttpRequestHelper\",function(e,t,n,r){return e(t+\"/:endpointId/docker/services/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",params:{id:\"@id\"}},query:{method:\"GET\",isArray:!0,params:{filters:\"@filters\"}},create:{method:\"POST\",params:{action:\"create\"},headers:{\"X-Registry-Auth\":r.registryAuthenticationHeader,version:\"1.29\"},ignoreLoadingBar:!0},update:{method:\"POST\",params:{id:\"@id\",action:\"update\",version:\"@version\",rollback:\"@rollback\"},headers:{\"X-Registry-Auth\":e=>btoa(JSON.stringify({registryId:e.data.registryId})),version:\"1.29\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},logs:{method:\"GET\",params:{id:\"@id\",action:\"logs\"},ignoreLoadingBar:!0,transformResponse:a.logsHandler}})}])},52358:function(){angular.module(\"portainer.docker\").factory(\"Swarm\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/docker/swarm\",{endpointId:n.endpointID},{get:{method:\"GET\"}})}])},61489:function(e,t,n){\"use strict\";n.r(t);var a=n(12944);angular.module(\"portainer.docker\").factory(\"System\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"InfoInterceptor\",\"VersionInterceptor\",function(e,t,n,r,i){return e(t+\"/:endpointId/docker/:action/:subAction\",{name:\"@name\",endpointId:n.endpointID},{info:{method:\"GET\",params:{action:\"info\"},interceptor:r},version:{method:\"GET\",params:{action:\"version\"},interceptor:i},events:{method:\"GET\",params:{action:\"events\",since:\"@since\",until:\"@until\"},isArray:!0,transformResponse:a.jsonObjectsToArrayHandler},auth:{method:\"POST\",params:{action:\"auth\"}},dataUsage:{method:\"GET\",params:{action:\"system\",subAction:\"df\"}}})}])},86666:function(){angular.module(\"portainer.docker\").factory(\"SystemEndpoint\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",function(e,t){\"use strict\";return e(t+\"/:endpointId/docker/:action/:subAction\",{name:\"@name\"},{ping:{method:\"GET\",params:{action:\"_ping\",endpointId:\"@endpointId\"}}})}])},3446:function(e,t,n){\"use strict\";n.r(t);var a=n(12944);angular.module(\"portainer.docker\").factory(\"Task\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return e(t+\"/:endpointId/docker/tasks/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",params:{id:\"@id\"}},query:{method:\"GET\",isArray:!0,params:{filters:\"@filters\"}},logs:{method:\"GET\",params:{id:\"@id\",action:\"logs\"},ignoreLoadingBar:!0,transformResponse:a.logsHandler}})}])},28192:function(e,t,n){\"use strict\";n.r(t);var a=n(12944);angular.module(\"portainer.docker\").factory(\"Volume\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"VolumesInterceptor\",function(e,t,n,r){return e(t+\"/:endpointId/docker/volumes/:id/:action\",{endpointId:n.endpointID},{query:{method:\"GET\",interceptor:r},get:{method:\"GET\",params:{id:\"@id\"}},create:{method:\"POST\",params:{action:\"create\"},transformResponse:a.genericHandler,ignoreLoadingBar:!0,headers:{\"X-Portainer-VolumeName\":function(e){return e.data.Name||\"\"}}},remove:{method:\"DELETE\",transformResponse:a.genericHandler,params:{id:\"@id\"}}})}])},90544:function(e,t,n){\"use strict\";n.r(t);var a=n(84647);angular.module(\"portainer.docker\").factory(\"BuildService\",[\"$q\",\"Build\",\"FileUploadService\",function(e,t,n){return{buildImageFromUpload:function(t,r,i){var s=e.defer();return n.buildImage(t,r,i).then((function(e){var t=new a.ImageBuildModel(e.data);s.resolve(t)})).catch((function(e){s.reject(e)})),s.promise},buildImageFromURL:function(n,r,i){var s={t:n,remote:r,dockerfile:i},o=e.defer();return t.buildImage(s,{}).$promise.then((function(e){var t=new a.ImageBuildModel(e);o.resolve(t)})).catch((function(e){o.reject(e)})),o.promise},buildImageFromDockerfileContent:function(n,r){var i={t:n},s={content:r},o=e.defer();return t.buildImageOverride(i,s).$promise.then((function(e){var t=new a.ImageBuildModel(e);o.resolve(t)})).catch((function(e){o.reject(e)})),o.promise}}}])},81287:function(e,t,n){\"use strict\";n.r(t);var a=n(66807);angular.module(\"portainer.docker\").factory(\"ConfigService\",[\"$q\",\"Config\",function(e,t){return{config:function(n){var r=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.ConfigViewModel(e);r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve config details\",err:e})})),r.promise},configs:function(){var n=e.defer();return t.query({}).$promise.then((function(e){var t=e.map((function(e){return new a.ConfigViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve configs\",err:e})})),n.promise},remove:function(n){var a=e.defer();return t.remove({id:n}).$promise.then((function(e){e.message?a.reject({msg:e.message}):a.resolve()})).catch((function(e){a.reject({msg:\"Unable to remove config\",err:e})})),a.promise},create:function(e){return t.create(e).$promise}}}])},40725:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(20249),s=n(12064);function o(e,t,n,a,r){const o={killContainer:l(i.ri),pauseContainer:l(i.VZ),renameContainer:l(i.bh),restartContainer:l(i.wG),resumeContainer:l(i.dZ),startContainer:l(i.Zk),stopContainer:l(i.hO),remove:l(i.sc),updateRestartPolicy:function(e,n,a){return t.update({id:e},{RestartPolicy:{Name:n,MaximumRetryCount:a}}).$promise},updateLimits:function(e,n){return t.update({id:e},{MemoryReservation:n.HostConfig.MemoryReservation,Memory:n.HostConfig.Memory,MemorySwap:-1,NanoCpus:n.HostConfig.NanoCpus}).$promise},container:function(n){var a=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new s.ContainerDetailsViewModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:\"Unable to retrieve container information\",err:e})})),a.promise},containers:function(n,a){var r=e.defer();return t.query({all:n,filters:a}).$promise.then((function(e){var t=e.map((function(e){return new s.ContainerViewModel(e)}));r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve containers\",err:e})})),r.promise},resizeTTY:function(n,r,i,s){var o=e.defer();return a((function(){t.resize({},{id:n,height:i,width:r}).$promise.then((function(e){e.message?o.reject({msg:\"Unable to resize tty of container \"+n,err:e.message}):o.resolve(e)})).catch((function(e){o.reject({msg:\"Unable to resize tty of container \"+n,err:e})}))}),s),o.promise},createContainer:function(n){var a=e.defer();return t.create(n).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:\"Unable to create container\",err:e})})),a.promise},createAndStartContainer:function(t){var n,a=e.defer();return o.createContainer(t).then((function(e){return n=e,o.startContainer(n.Id)})).then((function(){a.resolve(n)})).catch((function(e){a.reject(e)})),a.promise},createExec:function(n){var a=e.defer();return t.exec({},n).$promise.then((function(e){e.message?a.reject({msg:e.message,err:e.message}):a.resolve(e)})).catch((function(e){a.reject(e)})),a.promise},logs:function(a,r,i,s,o,l,c){var d=e.defer(),u={id:a,stdout:r||0,stderr:i||0,timestamps:s||0,since:o||0,tail:l||\"all\"};return t.logs(u).$promise.then((function(e){var t=n.formatLogs(e.logs,c);d.resolve(t)})).catch((function(e){d.reject(e)})),d.promise},containerStats:function(n){var a=e.defer();return t.stats({id:n}).$promise.then((function(e){var t=new s.ContainerStatsViewModel(e);a.resolve(t)})).catch((function(e){a.reject(e)})),a.promise},containerTop:function(e){return t.top({id:e}).$promise},inspect:function(e){return t.inspect({id:e}).$promise},prune:function(e){return t.prune({filters:e}).$promise}};return o;function l(e){return function(...t){const n=r.endpointID();return e(n,...t)}}}o.$inject=[\"$q\",\"Container\",\"LogHelper\",\"$timeout\",\"EndpointProvider\"],r().module(\"portainer.docker\").factory(\"ContainerService\",o)},9401:function(){angular.module(\"portainer.docker\").factory(\"ExecService\",[\"$q\",\"$timeout\",\"Exec\",function(e,t,n){\"use strict\";return{resizeTTY:function(a,r,i,s){var o=e.defer();return t((function(){n.resize({},{id:a,height:i,width:r}).$promise.then((function(e){e.message?o.reject({msg:\"Unable to resize tty of exec\",err:e.message}):o.resolve(e)})).catch((function(e){o.reject({msg:\"Unable to resize tty of exec\",err:e})}))}),s),o.promise}}}])},45203:function(e,t,n){\"use strict\";n.r(t);var a=n(17908),r=n.n(a),i=n(75345),s=n.n(i),o=n(71204),l=n.n(o),c=n(74362),d=n.n(c),u=n(46006),p=n.n(u),m=n(84647),g=n(56946),h=n(75208);angular.module(\"portainer.docker\").factory(\"ImageService\",[\"$q\",\"Image\",\"ImageHelper\",\"RegistryService\",\"HttpRequestHelper\",\"ContainerService\",\"FileUploadService\",function(e,t,n,a,i,o,c){var u={image:function(n){var a=e.defer();return t.get({id:n}).$promise.then((function(e){if(e.message)a.reject({msg:e.message});else{var t=new g.ImageDetailsViewModel(e);a.resolve(t)}})).catch((function(e){a.reject({msg:\"Unable to retrieve image details\",err:e})})),a.promise},images:function(n){var a=e.defer();return e.all({containers:n?o.containers(1):[],images:t.query({}).$promise}).then((function(e){var t=e.containers,n=e.images.map((function(e){e.ContainerCount=0;for(var n=0;n<t.length;n++)t[n].ImageID===e.Id&&e.ContainerCount++;return new m.ImageViewModel(e)}));a.resolve(n)})).catch((function(e){a.reject({msg:\"Unable to retrieve images\",err:e})})),a.promise},history:function(n){var a=e.defer();return t.history({id:n}).$promise.then((function(e){if(e.message)a.reject({msg:e.message});else{var t=[],n=e.length;angular.forEach(e,(function(e){t.push(new h.ImageLayerViewModel(n,e)),n--})),a.resolve(t)}})).catch((function(e){a.reject({msg:\"Unable to retrieve image details\",err:e})})),a.promise},pushImage:function(r){var s=e.defer(),o=r.Registry.Authentication?a.encodedCredentials(r.Registry):\"\";i.setRegistryAuthenticationHeader(o);const l=n.createImageConfigForContainer(r);return t.push({imageName:l.fromImage}).$promise.then((function(e){e[e.length-1].error?s.reject({msg:e[e.length-1].error}):s.resolve()})).catch((function(e){s.reject({msg:\"Unable to push image tag\",err:e})})),s.promise},pullImage:function(r,s){var o=r.Registry.Authentication?a.encodedCredentials(r.Registry):\"\";i.setRegistryAuthenticationHeader(o);var l=n.createImageConfigForContainer(r);return s?function(n){var a=e.defer();return t.create({},n).$promise.catch((()=>{})).finally((function(){a.resolve()})),a.promise}(l):function(n){var a=e.defer();return t.create({},n).$promise.then((function(e){if(e.length>0&&e[e.length-1].message){var t=e[e.length-1];a.reject({msg:t.message})}else a.resolve(e)})).catch((function(e){a.reject({msg:\"Unable to pull image\",err:e})})),a.promise}(l)},tagImage:function(e,n){return t.tag({id:e,repo:n}).$promise},downloadImages:function(e){var a=n.getImagesNamesForDownload(e);return t.download(a).$promise},uploadImage:function(e){return c.loadImages(e)},deleteImage:function(n,a){var r=e.defer();return t.remove({id:n,force:a}).$promise.then((function(e){e[0].message?r.reject({msg:e[0].message}):r.resolve()})).catch((function(e){r.reject({msg:\"Unable to remove image\",err:e})})),r.promise},getUniqueTagListFromImages:function(e){return p()(d()(e,(function(e){return l()(e.RepoTags,(function(e){return-1!==e.indexOf(\"<none>\")})),e.RepoTags?s()(e.RepoTags,r()):[]})))}};return u}])},23116:function(e,t,n){\"use strict\";n.r(t);var a=n(70983);angular.module(\"portainer.docker\").factory(\"NetworkService\",[\"$q\",\"Network\",function(e,t){return{create:function(n){var a=e.defer();return t.create(n).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:\"Unable to create network\",err:e})})),a.promise},network:function(n){var r=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.NetworkViewModel(e);r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve network details\",err:e})})),r.promise},networks:function(n,r,i,s){var o=e.defer();return t.query({filters:s}).$promise.then((function(e){var t=e.filter((function(e){return n&&\"local\"===e.Scope||r&&\"swarm\"===e.Scope||i&&\"swarm\"===e.Scope&&!0===e.Attachable?e:void 0})).map((function(e){return new a.NetworkViewModel(e)}));o.resolve(t)})).catch((function(e){o.reject({msg:\"Unable to retrieve networks\",err:e})})),o.promise},remove:function(e){return t.remove({id:e}).$promise},disconnectContainer:function(e,n,a){return t.disconnect({id:e},{Container:n,Force:a}).$promise},connectContainer:function(e,n,a){var r={Container:n};return a&&(r.EndpointConfig={Aliases:a}),t.connect({id:e},r).$promise}}}])},39272:function(e,t,n){\"use strict\";n.r(t);var a=n(11339);angular.module(\"portainer.docker\").factory(\"NodeService\",[\"$q\",\"Node\",function(e,t){var n={nodes:function(){var n=e.defer();return t.query({}).$promise.then((function(e){var t=e.map((function(e){return new a.NodeViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve nodes\",err:e})})),n.promise},node:function(n){var r=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.NodeViewModel(e);return r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve node\",err:e})})),r.promise},updateNode:function(e){return t.update({id:e.Id,version:e.Version},e).$promise},getActiveManager:function(){var t=e.defer();return n.nodes().then((function(e){for(var n=0;n<e.length;++n){var a=e[n];if(\"manager\"===a.Role&&\"active\"===a.Availability&&\"ready\"===a.Status&&\"0.0.0.0\"!==a.Addr){t.resolve(a);break}}})).catch((function(e){t.reject({msg:\"Unable to retrieve nodes\",err:e})})),t.promise}};return n}])},52589:function(e,t,n){\"use strict\";n.r(t);var a=n(44716),r=n.n(a),i=n(34161);angular.module(\"portainer.docker\").factory(\"PluginService\",[\"$q\",\"Plugin\",\"SystemService\",function(e,t,n){var a={};function s(t,i,s){var o=e.defer();return e.all({system:n.plugins(),plugins:t?[]:a.plugins()}).then((function(e){var t=[],n=e.system,a=e.plugins;n[i]&&(t=t.concat(n[i]));for(var l=0;l<a.length;l++){var c=a[l];c.Enabled&&r()(c.Config.Interface.Types,s)&&t.push(c.Name)}o.resolve(t)})).catch((function(e){o.reject({msg:e.msg,err:e})})),o.promise}return a.plugins=function(){var n=e.defer(),a=[];return t.query({}).$promise.then((function(e){for(var t=0;t<e.length;t++){var n=new i.PluginViewModel(e[t]);a.push(n)}})).finally((function(){n.resolve(a)})),n.promise},a.volumePlugins=function(e){return s(e,\"Volume\",\"docker.volumedriver/1.0\")},a.networkPlugins=function(e){return s(e,\"Network\",\"docker.networkdriver/1.0\")},a.loggingPlugins=function(e){return s(e,\"Log\",\"docker.logdriver/1.0\")},a}])},50225:function(e,t,n){\"use strict\";n.r(t);var a=n(89638);angular.module(\"portainer.docker\").factory(\"SecretService\",[\"$q\",\"Secret\",function(e,t){return{secret:function(n){var r=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.SecretViewModel(e);r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve secret details\",err:e})})),r.promise},secrets:function(){var n=e.defer();return t.query({}).$promise.then((function(e){var t=e.map((function(e){return new a.SecretViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve secrets\",err:e})})),n.promise},remove:function(n){var a=e.defer();return t.remove({id:n}).$promise.then((function(e){e.message?a.reject({msg:e.message}):a.resolve()})).catch((function(e){a.reject({msg:\"Unable to remove secret\",err:e})})),a.promise},create:function(e){return t.create(e).$promise}}}])},52550:function(e,t,n){\"use strict\";n.r(t);var a=n(7456);angular.module(\"portainer.docker\").factory(\"ServiceService\",[\"$q\",\"Service\",\"ServiceHelper\",\"TaskService\",\"ResourceControlService\",\"LogHelper\",function(e,t,n,r,i,s){var o={services:function(n){var r=e.defer();return t.query({filters:n||{}}).$promise.then((function(e){var t=e.map((function(e){return new a.ServiceViewModel(e)}));r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve services\",err:e})})),r.promise},service:function(n){var r=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.ServiceViewModel(e);r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve service details\",err:e})})),r.promise},remove:function(n){var a=e.defer();return t.remove({id:n.Id}).$promise.then((function(e){e.message?a.reject({msg:e.message,err:e.message}):a.resolve()})).catch((function(e){a.reject({msg:\"Unable to remove service\",err:e})})),a.promise},update:function(e,n,a){return o.service(e.Id).then((r=>{const i={id:e.Id,version:r.Version};return a&&(i.rollback=a),t.update(i,n).$promise}))},logs:function(n,a,r,i,o,l){var c=e.defer(),d={id:n,stdout:a||0,stderr:r||0,timestamps:i||0,since:o||0,tail:l||\"all\"};return t.logs(d).$promise.then((function(e){var t=s.formatLogs(e.logs,!0);c.resolve(t)})).catch((function(e){c.reject(e)})),c.promise}};return o}])},15268:function(e,t,n){\"use strict\";n.r(t);var a=n(90906);angular.module(\"portainer.docker\").factory(\"SwarmService\",[\"$q\",\"Swarm\",function(e,t){return{swarm:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new a.SwarmViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve Swarm details\",err:e})})),n.promise}}}])},39983:function(e,t,n){\"use strict\";n.r(t);var a=n(44333);angular.module(\"portainer.docker\").factory(\"SystemService\",[\"$q\",\"System\",\"SystemEndpoint\",function(e,t,n){return{plugins:function(){var n=e.defer();return t.info({}).$promise.then((function(e){var t=e.Plugins;n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve plugins information from system\",err:e})})),n.promise},info:function(){return t.info({}).$promise},ping:function(e){return n.ping({endpointId:e}).$promise},version:function(){return t.version({}).$promise},events:function(n,r){var i=e.defer();return t.events({since:n,until:r}).$promise.then((function(e){var t=e.map((function(e){return new a.EventViewModel(e)}));i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve engine events\",err:e})})),i.promise},dataUsage:function(){return t.dataUsage().$promise}}}])},98585:function(e,t,n){\"use strict\";n.r(t);var a=n(59146);angular.module(\"portainer.docker\").factory(\"TaskService\",[\"$q\",\"Task\",\"LogHelper\",function(e,t,n){return{task:function(n){var r=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.TaskViewModel(e);r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve task details\",err:e})})),r.promise},tasks:function(n){var r=e.defer();return t.query({filters:n||{}}).$promise.then((function(e){var t=e.map((function(e){return new a.TaskViewModel(e)}));r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve tasks\",err:e})})),r.promise},logs:function(a,r,i,s,o,l){var c=e.defer(),d={id:a,stdout:r||0,stderr:i||0,timestamps:s||0,since:o||0,tail:l||\"all\"};return t.logs(d).$promise.then((function(e){var t=n.formatLogs(e.logs,!0);c.resolve(t)})).catch((function(e){c.reject(e)})),c.promise}}}])},31746:function(e,t,n){\"use strict\";n.r(t);var a=n(80682);angular.module(\"portainer.docker\").factory(\"VolumeService\",[\"$q\",\"Volume\",\"VolumeHelper\",function(e,t,n){var r={volumes:function(n){var r=e.defer();return t.query(n).$promise.then((function(e){var t=e.Volumes||[];t=t.map((function(e){return new a.VolumeViewModel(e)})),r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve volumes\",err:e})})),r.promise},volume:function(n){var r=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.VolumeViewModel(e);r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve volume details\",err:e})})),r.promise},getVolumes:function(){return t.query({}).$promise},remove:function(n){var a=e.defer();return t.remove({id:n.Id}).$promise.then((function(e){e.message?a.reject({msg:e.message,err:e.message}):a.resolve()})).catch((function(e){a.reject({msg:\"Unable to remove volume\",err:e})})),a.promise},createVolumeConfiguration:function(e,t,a){return{Name:e,Driver:t,DriverOpts:n.createDriverOptions(a)}},createVolume:function(n){var r=e.defer();return t.create(n).$promise.then((function(e){if(e.message)r.reject({msg:e.message});else{var t=new a.VolumeViewModel(e);r.resolve(t)}})).catch((function(e){r.reject({msg:\"Unable to create volume\",err:e})})),r.promise},createVolumes:function(t){var n=t.map((function(e){return r.createVolume(e)}));return e.all(n)},createXAutoGeneratedLocalVolumes:function(t){for(var n=[],a=0;a<t;a++)n.push(r.createVolume({Driver:\"local\"}));return e.all(n)}};return r}])},42177:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);class i{constructor(e,t,n,a){this.$state=e,this.ConfigService=t,this.Notifications=n,this.$async=a,this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this),this.getConfigs=this.getConfigs.bind(this),this.getConfigsAsync=this.getConfigsAsync.bind(this)}getConfigs(){return this.$async(this.getConfigsAsync)}async getConfigsAsync(){try{this.configs=await this.ConfigService.configs()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve configs\")}}async $onInit(){this.configs=[],this.getConfigs()}removeAction(e){return this.$async(this.removeActionAsync,e)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.ConfigService.remove(n.Id),this.Notifications.success(\"Config successfully removed\",n.Name);const e=this.configs.indexOf(n);this.configs.splice(e,1)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove config\")}finally{--t,0===t&&this.$state.reload()}}}i.$inject=[\"$state\",\"ConfigService\",\"Notifications\",\"$async\"],t.default=i,r().module(\"portainer.docker\").controller(\"ConfigsController\",i)},96068:function(e,t,n){\"use strict\";n.r(t);var a=n(68260),r=n.n(a),i=n(29274),s=n.n(i),o=n(19898);class l{constructor(e,t,n,a,r,i,s,l,c,d){this.$state=t,this.$transition$=n,this.$window=a,this.ModalService=r,this.Notifications=i,this.ConfigService=s,this.Authentication=l,this.FormValidator=c,this.ResourceControlService=d,this.$async=e,this.formValues={Name:\"\",Labels:[],AccessControlData:new o.AccessControlFormData,ConfigContent:\"\"},this.state={formValidationError:\"\",isEditorDirty:!1},this.editorUpdate=this.editorUpdate.bind(this),this.createAsync=this.createAsync.bind(this)}async $onInit(){if(this.$window.onbeforeunload=()=>{if(this.formValues.displayCodeEditor&&this.formValues.ConfigContent&&this.state.isEditorDirty)return\"\"},this.$transition$.params().id)try{let e=await this.ConfigService.config(this.$transition$.params().id);this.formValues.Name=e.Name+\"_copy\",this.formValues.Data=e.Data;let t=r()(e.Labels);for(let n=0;n<t.length;n++){let a=t[n],r=e.Labels[a];this.formValues.Labels.push({name:a,value:r})}this.formValues.displayCodeEditor=!0}catch(e){this.formValues.displayCodeEditor=!0,this.Notifications.error(\"Failure\",e,\"Unable to clone config\")}else this.formValues.displayCodeEditor=!0}$onDestroy(){this.state.isEditorDirty=!1}async uiCanExit(){if(this.formValues.displayCodeEditor&&this.formValues.ConfigContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}addLabel(){this.formValues.Labels.push({name:\"\",value:\"\"})}removeLabel(e){this.formValues.Labels.splice(e,1)}prepareLabelsConfig(e){let t={};this.formValues.Labels.forEach((function(e){e.name&&e.value&&(t[e.name]=e.value)})),e.Labels=t}prepareConfigData(e){let t=this.formValues.ConfigContent;e.Data=btoa(unescape(encodeURIComponent(t)))}prepareConfiguration(){let e={};return e.Name=this.formValues.Name,this.prepareConfigData(e),this.prepareLabelsConfig(e),e}validateForm(e,t){this.state.formValidationError=\"\";let n=\"\";return n=this.FormValidator.validateAccessControl(e,t),!n||(this.state.formValidationError=n,!1)}create(){return this.$async(this.createAsync)}async createAsync(){const e=this.formValues.AccessControlData,t=this.Authentication.getUserDetails(),n=this.Authentication.isAdmin();if(\"\"===this.formValues.ConfigContent)return void(this.state.formValidationError=\"Config content must not be empty\");if(!this.validateForm(e,n))return;const a=this.prepareConfiguration();try{const n=(await this.ConfigService.create(a)).Portainer.ResourceControl,r=t.ID;await this.ResourceControlService.applyResourceControl(r,e,n),this.Notifications.success(\"Config successfully created\"),this.state.isEditorDirty=!1,this.$state.go(\"docker.configs\",{},{reload:!0})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create config\")}}editorUpdate(e){this.formValues.ConfigContent=e.getValue(),this.state.isEditorDirty=!0}}l.$inject=[\"$async\",\"$state\",\"$transition$\",\"$window\",\"ModalService\",\"Notifications\",\"ConfigService\",\"Authentication\",\"FormValidator\",\"ResourceControlService\"],t.default=l,s().module(\"portainer.docker\").controller(\"CreateConfigController\",l)},63301:function(e,t,n){\"use strict\";n.r(t);var a=n(30424);angular.module(\"portainer.docker\").controller(\"ConfigController\",[\"$scope\",\"$transition$\",\"$state\",\"ConfigService\",\"Notifications\",function(e,t,n,r,i){e.resourceType=a.O.Config,e.onUpdateResourceControlSuccess=function(){n.reload()},e.removeConfig=function(e){r.remove(e).then((function(){i.success(\"Config successfully removed\"),n.go(\"docker.configs\",{})})).catch((function(e){i.error(\"Failure\",e,\"Unable to remove config\")}))},r.config(t.params().id).then((function(t){e.config=t})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve config details\")}))}])},85196:function(e,t,n){\"use strict\";n.r(t);var a=n(96049),r=n(50433);angular.module(\"portainer.docker\").controller(\"ContainerConsoleController\",[\"$scope\",\"$state\",\"$transition$\",\"ContainerService\",\"ImageService\",\"Notifications\",\"ContainerHelper\",\"ExecService\",\"HttpRequestHelper\",\"LocalStorage\",\"CONSOLE_COMMANDS_LABEL_PREFIX\",function(e,t,n,i,s,o,l,c,d,u,p){var m,g;let h=Object.freeze({disconnected:0,connecting:1,connected:2});function f(e,t){t=t||0,g.fit();var n=g.cols;g.resize(n,30),e(n+t,30+t,1)}function v(t,r){let i=f.bind(this,r);n.params().nodeName&&(t+=\"&nodeName=\"+n.params().nodeName),t=t.indexOf(\"https\")>-1?t.replace(\"https://\",\"wss://\"):t.replace(\"http://\",\"ws://\"),(m=new WebSocket(t)).onopen=function(){e.state=h.connected,(g=new a.o).on(\"data\",(function(e){m.send(e)}));var t=document.getElementById(\"terminal-container\");g.open(t),g.focus(),g.setOption(\"cursorBlink\",!0),window.onresize=function(){i(),e.$apply()},e.$watch(\"toggle\",(function(){setTimeout(i,400)})),m.onmessage=function(e){g.write(e.data)},m.onerror=function(t){e.disconnect(),e.$apply(),o.error(\"Failure\",t,\"Connection error\")},m.onclose=function(){e.disconnect(),e.$apply()},i(1),e.$apply()}}e.loaded=!1,e.states=h,e.state=h.disconnected,e.formValues={},e.containerCommands=[],e.$on(\"$stateChangeStart\",(function(){e.disconnect()})),e.connectAttach=function(){if(e.state>h.disconnected)return;e.state=h.connecting;let a=n.params().id;i.container(a).then((n=>{if(!n.State.Running)return o.error(\"Failure\",n,\"Container \"+a+\" is not running!\"),void e.disconnect();const s={token:u.getJWT(),endpointId:t.params.endpointId,id:a};v((window.location.origin.startsWith(\"http\")?`${window.location.origin}${(0,r.baseHref)()}`:(0,r.baseHref)())+\"api/websocket/attach?\"+Object.keys(s).map((e=>e+\"=\"+s[e])).join(\"&\"),i.resizeTTY.bind(this,a))})).catch((function(t){o.error(\"Error\",t,\"Unable to retrieve container details\"),e.disconnect()}))},e.connectExec=function(){if(!(e.state>h.disconnected)){e.state=h.connecting;var a=e.formValues.isCustomCommand?e.formValues.customCommand:e.formValues.command,s={id:n.params().id,AttachStdin:!0,AttachStdout:!0,AttachStderr:!0,Tty:!0,User:e.formValues.user,Cmd:l.commandStringToArray(a)};i.createExec(s).then((function(e){const n={token:u.getJWT(),endpointId:t.params.endpointId,id:e.Id};v((window.location.origin.startsWith(\"http\")?`${window.location.origin}${(0,r.baseHref)()}`:(0,r.baseHref)())+\"api/websocket/exec?\"+Object.keys(n).map((e=>e+\"=\"+n[e])).join(\"&\"),c.resizeTTY.bind(this,n.id))})).catch((function(t){o.error(\"Failure\",t,\"Unable to exec into container\"),e.disconnect()}))}},e.disconnect=function(){m&&m.close(),e.state>h.disconnected&&(e.state=h.disconnected,g&&(g.write(\"\\n\\r(connection closed)\"),g.dispose()))},e.autoconnectAttachView=function(){return e.initView().then((function(){e.container.State.Running&&e.connectAttach()}))},e.initView=function(){return d.setPortainerAgentTargetHeader(n.params().nodeName),i.container(n.params().id).then((function(t){var n=t;return e.container=n,s.image(n.Image)})).then((function(t){var n=t,a=e.container.Config.Labels;e.imageOS=n.Os,e.formValues.command=\"windows\"===n.Os?\"powershell\":\"bash\",e.containerCommands=Object.keys(a).filter((function(e){return 0===e.indexOf(p)})).map((function(e){return{title:e.replace(p,\"\"),command:a[e]}})),e.loaded=!0})).catch((function(e){o.error(\"Error\",e,\"Unable to retrieve container details\")}))}}])},89610:function(){function e(e,t,n,a){function r(){t.containers(1).then((function(t){e.containers=t})).catch((function(t){n.error(\"Failure\",t,\"Unable to retrieve containers\"),e.containers=[]}))}e.offlineMode=1!==a.Status,e.endpoint=a,e.getContainers=r,r()}e.$inject=[\"$scope\",\"ContainerService\",\"Notifications\",\"endpoint\"],angular.module(\"portainer.docker\").controller(\"ContainersController\",e)},51079:function(e,t,n){\"use strict\";n.r(t);var a=n(98484),r=n.n(a),i=n(51235),s=n.n(i),o=n(39576),l=n.n(o),c=n(66539),d=n.n(c),u=n(13507),p=n.n(u),m=n(83432),g=n.n(m),h=n(6632),f=n.n(h),v=n(4622),b=n.n(v),y=n(41952),w=n.n(y),x=n(76939),S=n(93994),C=n(26196),k=n(66328),$=n(19898),A=n(12064);angular.module(\"portainer.docker\").controller(\"CreateContainerController\",[\"$q\",\"$scope\",\"$async\",\"$state\",\"$timeout\",\"$transition$\",\"$filter\",\"Container\",\"ContainerHelper\",\"Image\",\"ImageHelper\",\"Volume\",\"NetworkService\",\"ResourceControlService\",\"Authentication\",\"Notifications\",\"ContainerService\",\"ImageService\",\"FormValidator\",\"ModalService\",\"RegistryService\",\"SystemService\",\"PluginService\",\"HttpRequestHelper\",\"endpoint\",function(e,t,n,a,i,o,c,u,m,h,v,y,P,I,T,N,E,R,D,O,V,U,j,F,L){function _(e){if(t.formValues.MemoryLimit>=0){var n=(Math.round(8*t.formValues.MemoryLimit)/8).toFixed(3);n*=1048576,e.HostConfig.Memory=n}if(t.formValues.MemoryReservation>=0){var a=(Math.round(8*t.formValues.MemoryReservation)/8).toFixed(3);a*=1048576,e.HostConfig.MemoryReservation=a}t.formValues.CpuLimit>=0&&(e.HostConfig.NanoCpus=1e9*t.formValues.CpuLimit)}function M(){var i=null;return F.setPortainerAgentTargetHeader(t.formValues.NodeName),s().then((function(e){return i=e,e})).then((function(t){return t?(n=e.defer(),O.confirm({title:\"Are you sure ?\",message:\"A container with the same name already exists. Portainer can automatically remove it and re-create one. Do you want to replace it?\",buttons:{confirm:{label:\"Replace\",className:\"btn-danger\"}},callback:function(e){n.resolve(e)}}),n.promise):e.when(!0);var n})).then((function(n){return n?(a=t.formValues.AccessControlData,r=t.isAdmin,t.state.formValidationError=\"\",(i=D.validateAccessControl(a,r))&&(t.state.formValidationError=i,1)?e.when():(t.state.actionInProgress=!0,e.when(t.formValues.alwaysPull&&R.pullImage(t.formValues.RegistryModel,!0)).then(y).then(C).then(k).then($).then(A).then(V).catch(o))):e.when();var a,r,i})).catch((function(e){N.error(\"Failure\",e,\"Unable to create container\")})).finally((function(){t.state.actionInProgress=!1}));function s(){return u.query({all:1,filters:{name:[\"^/\"+t.config.name+\"$\"]}}).$promise.then((function(e){if(e.length)return e[0]})).catch((function(e){N.error(\"Failure\",e,\"Unable to retrieve containers\")}))}function o(t){var n=e.defer();return s().then((function(e){if(e&&(!i||e.Id!==i.Id))return E.remove(e,!0)})).then(h).then((function(){n.reject(t)})).catch((function(e){n.reject(e)})),n.promise}function h(){if(i)return E.renameContainer(i.Id,i.Names[0].substring(1))}function y(){return i?function(t){return\"running\"!==t.State?e.when():E.stopContainer(t.Id)}(i).then(x):e.when()}function x(){return E.renameContainer(i.Id,i.Names[0].substring(1)+\"-old\")}function C(){return n((async()=>{const e=function(){var e=angular.copy(t.config);return function(e){b()(e.Cmd)||\"default\"==t.formValues.CmdMode?delete e.Cmd:e.Cmd=m.commandStringToArray(e.Cmd)}(e),function(e){(\"default\"==t.formValues.EntrypointMode||b()(e.Cmd)&&b()(e.Entrypoint))&&(e.Entrypoint=null)}(e),function(e){var n=e.HostConfig.NetworkMode,a=t.formValues.NetworkContainer,r=a;a&&\"object\"==typeof a&&(r=c(\"trimcontainername\")(a.Names[0]));var i=n;if(r&&(i+=\":\"+r,e.Hostname=\"\"),e.HostConfig.NetworkMode=i,e.MacAddress=t.formValues.MacAddress,e.NetworkingConfig.EndpointsConfig[i]={IPAMConfig:{IPv4Address:t.formValues.IPv4,IPv6Address:t.formValues.IPv6}},i&&f()(t.config.NetworkingConfig.EndpointsConfig[i],\"Aliases\")){var s=t.config.NetworkingConfig.EndpointsConfig[i].Aliases;e.NetworkingConfig.EndpointsConfig[i].Aliases=g()(s,(e=>!p()(t.fromContainer.Id,e)))}var o=[];t.formValues.DnsPrimary&&o.push(t.formValues.DnsPrimary),t.formValues.DnsSecondary&&o.push(t.formValues.DnsSecondary),e.HostConfig.Dns=o,e.HostConfig.ExtraHosts=d()(g()(t.formValues.ExtraHosts,(e=>e.value)),\"value\")}(e),function(e){const n=v.createImageConfigForContainer(t.formValues.RegistryModel);e.Image=n.fromImage}(e),function(e){const t=m.preparePortBindings(e.HostConfig.PortBindings);e.ExposedPorts={},w()(t,((t,n)=>e.ExposedPorts[n]={})),e.HostConfig.PortBindings=t}(e),function(e){var n=t.formValues.Console,a=!0,r=!0;\"tty\"===n?a=!1:\"interactive\"===n?r=!1:\"none\"===n&&(a=!1,r=!1),e.OpenStdin=a,e.Tty=r}(e),function(e){e.Env=S.convertToArrayOfStrings(t.formValues.Env)}(e),function(e){var n=[],a={};t.formValues.Volumes.forEach((function(e){var t=e.name,r=e.containerPath;if(t&&r){var i=t+\":\"+r;a[r]={},e.readOnly&&(i+=\":ro\"),n.push(i)}})),e.HostConfig.Binds=n,e.Volumes=a}(e),function(e){var n={};t.formValues.Labels.forEach((function(e){e.name&&(e.value?n[e.name]=e.value:n[e.name]=\"\")})),e.Labels=n}(e),function(e){var t=[];e.HostConfig.Devices.forEach((function(e){e.pathOnHost&&(\"\"===e.pathInContainer&&(e.pathInContainer=e.pathOnHost),t.push({PathOnHost:e.pathOnHost,PathInContainer:e.pathInContainer,CgroupPermissions:\"rwm\"}))})),e.HostConfig.Devices=t}(e),_(e),function(e){var n={};t.formValues.LogDriverName&&(e.HostConfig.LogConfig={Type:t.formValues.LogDriverName},\"none\"!==t.formValues.LogDriverName&&(t.formValues.LogDriverOpts.forEach((function(e){e.name&&(n[e.name]=e.value)})),0!==Object.keys(n).length&&n.constructor===Object&&(e.HostConfig.LogConfig.Config=n)))}(e),function(e){var n=t.formValues.capabilities.filter((function(e){return!0===e.allowed})),a=t.formValues.capabilities.filter((function(e){return!1===e.allowed})),r=function(e){return e.capability};e.HostConfig.CapAdd=n.map(r),e.HostConfig.CapDrop=a.map(r)}(e),function(e){var n={};t.formValues.Sysctls.forEach((function(e){e.name&&e.value&&(n[e.name]=e.value)})),e.HostConfig.Sysctls=n}(e),e}();return await E.createAndStartContainer(e)}))}function k(e){const n=T.getUserDetails().ID,a=e.Portainer.ResourceControl,r=e.Id,i=t.formValues.AccessControlData;return I.applyResourceControl(n,i,a).then((function(){return r}))}function $(n){if(!t.extraNetworks)return e.when();var a=r()(t.extraNetworks,(function(e,a){if(l()(e,\"Aliases\"))var r=g()(e.Aliases,(e=>!p()(t.fromContainer.Id,e)));return P.connectContainer(a,n,r)}));return e.all(a)}function A(){var t=e.defer();if(i)return E.remove(i,!0).then((function(){N.success(\"Container Removed\",i.Id),t.resolve()})).catch((function(e){t.reject({msg:\"Unable to remove container\",err:e})})),t.promise;t.resolve()}function V(){N.success(\"Container successfully created\"),a.go(\"docker.containers\",{},{reload:!0})}}t.create=M,t.update=async function(){t.state.actionInProgress=!0;var e=angular.copy(t.config);_(e),await async function(e){try{t.state.settingUnlimitedResources?M():(await E.updateLimits(o.params().from,e),t.config=e,N.success(\"Limits updated\"))}catch(e){N.error(\"Failure\",e,\"Update Limits fail\")}}(e),t.state.actionInProgress=!1},t.endpoint=L,t.containerWebhookFeature=C.tE.CONTAINER_WEBHOOK,t.formValues={alwaysPull:!0,Console:\"none\",Volumes:[],NetworkContainer:null,Labels:[],ExtraHosts:[],MacAddress:\"\",IPv4:\"\",IPv6:\"\",DnsPrimary:\"\",DnsSecondary:\"\",AccessControlData:new $.AccessControlFormData,CpuLimit:0,MemoryLimit:0,MemoryReservation:0,CmdMode:\"default\",EntrypointMode:\"default\",Env:[],NodeName:null,capabilities:[],Sysctls:[],LogDriverName:\"\",LogDriverOpts:[],RegistryModel:new x.PorImageRegistryModel},t.extraNetworks={},t.state={formValidationError:\"\",actionInProgress:!1,mode:\"\",pullImageValidity:!0,settingUnlimitedResources:!1},t.handleEnvVarChange=function(e){t.formValues.Env=e},t.refreshSlider=function(){i((function(){t.$broadcast(\"rzSliderForceRender\")}))},t.onImageNameChange=function(){t.formValues.CmdMode=\"default\",t.formValues.EntrypointMode=\"default\"},t.setPullImageValidity=function(e){e||(t.formValues.alwaysPull=!1),t.state.pullImageValidity=e},t.config={Image:\"\",Env:[],Cmd:\"\",MacAddress:\"\",ExposedPorts:{},Entrypoint:\"\",HostConfig:{RestartPolicy:{Name:\"no\"},PortBindings:[],PublishAllPorts:!1,Binds:[],AutoRemove:!1,NetworkMode:\"bridge\",Privileged:!1,Init:!1,Runtime:null,ExtraHosts:[],Devices:[],CapAdd:[],CapDrop:[],Sysctls:{}},NetworkingConfig:{EndpointsConfig:{}},Labels:{}},t.addVolume=function(){t.formValues.Volumes.push({name:\"\",containerPath:\"\",readOnly:!1,type:\"volume\"})},t.removeVolume=function(e){t.formValues.Volumes.splice(e,1)},t.addPortBinding=function(){t.config.HostConfig.PortBindings.push({hostPort:\"\",containerPort:\"\",protocol:\"tcp\"})},t.removePortBinding=function(e){t.config.HostConfig.PortBindings.splice(e,1)},t.addLabel=function(){t.formValues.Labels.push({name:\"\",value:\"\"})},t.removeLabel=function(e){t.formValues.Labels.splice(e,1)},t.addExtraHost=function(){t.formValues.ExtraHosts.push({value:\"\"})},t.removeExtraHost=function(e){t.formValues.ExtraHosts.splice(e,1)},t.addDevice=function(){t.config.HostConfig.Devices.push({pathOnHost:\"\",pathInContainer:\"\"})},t.removeDevice=function(e){t.config.HostConfig.Devices.splice(e,1)},t.addSysctl=function(){t.formValues.Sysctls.push({name:\"\",value:\"\"})},t.removeSysctl=function(e){t.formValues.Sysctls.splice(e,1)},t.addLogDriverOpt=function(){t.formValues.LogDriverOpts.push({name:\"\",value:\"\"})},t.removeLogDriverOpt=function(e){t.formValues.LogDriverOpts.splice(e,1)},t.fromContainerMultipleNetworks=!1,t.resetNetworkConfig=function(){t.config.NetworkingConfig={EndpointsConfig:{}}},t.handleResourceChange=function(){t.state.settingUnlimitedResources=!1,(t.config.HostConfig.Memory>0&&0===t.formValues.MemoryLimit||t.config.HostConfig.MemoryReservation>0&&0===t.formValues.MemoryReservation||t.config.HostConfig.NanoCpus>0&&0===t.formValues.CpuLimit)&&(t.state.settingUnlimitedResources=!0)},async function(){var e=o.params().nodeName;t.formValues.NodeName=e,F.setPortainerAgentTargetHeader(e),t.isAdmin=T.isAdmin(),t.showDeviceMapping=await async function(){return L.SecuritySettings.allowDeviceMappingForRegularUsers||T.isAdmin()}(),t.showSysctls=await async function(){return L.SecuritySettings.allowSysctlSettingForRegularUsers||T.isAdmin()}(),t.areContainerCapabilitiesEnabled=await async function(){return L.SecuritySettings.allowContainerCapabilitiesForRegularUsers||T.isAdmin()}(),t.isAdminOrEndpointAdmin=T.isAdmin(),y.query({},(function(e){t.availableVolumes=e.Volumes.sort(((e,t)=>e.Name.localeCompare(t.Name)))}),(function(e){N.error(\"Failure\",e,\"Unable to retrieve volumes\")}));var n=t.applicationState.endpoint.mode.provider,a=t.applicationState.endpoint.apiVersion;P.networks(\"DOCKER_STANDALONE\"===n||\"DOCKER_SWARM_MODE\"===n,!1,\"DOCKER_SWARM_MODE\"===n&&a>=1.25).then((function(e){e.push({Name:\"container\"}),t.availableNetworks=e.sort(((e,t)=>e.Name.localeCompare(t.Name))),s()(e,{Name:\"nat\"})&&(t.config.HostConfig.NetworkMode=\"nat\")})).catch((function(e){N.error(\"Failure\",e,\"Unable to retrieve networks\")})),u.query({},(function(e){var n=e;t.runningContainers=n,o.params().from?u.get({id:o.params().from}).$promise.then((function(e){var n,a=new A.ContainerDetailsViewModel(e);a.ResourceControl&&a.ResourceControl.Public&&(t.formValues.AccessControlData.AccessControlEnabled=!1),t.fromContainer=a,t.state.mode=\"duplicate\",t.config=m.configFromContainer(a.Model),t.config.Cmd&&(t.config.Cmd=m.commandArrayToString(t.config.Cmd),t.formValues.CmdMode=\"override\"),l()(t.config,\"Entrypoint\")&&(null==t.config.Entrypoint&&(t.config.Entrypoint=\"\"),t.formValues.EntrypointMode=\"override\"),n=e.HostConfig.LogConfig,t.formValues.LogDriverName=n.Type,t.formValues.LogDriverOpts=d()(n.Config,(function(e,t){return{name:t,value:e}})),function(){const e=m.sortAndCombinePorts(t.config.HostConfig.PortBindings);t.config.HostConfig.PortBindings=e}(),function(e){for(var n in e.Mounts)if({}.hasOwnProperty.call(e.Mounts,n)){var a=e.Mounts[n],r={type:a.Type,name:a.Name||a.Source,containerPath:a.Destination,readOnly:!1===a.RW};t.formValues.Volumes.push(r)}}(e),function(e){if(t.config.NetworkingConfig={EndpointsConfig:{}},\"default\"===e.HostConfig.NetworkMode&&(t.config.HostConfig.NetworkMode=\"bridge\",s()(t.availableNetworks,{Name:\"bridge\"})||(t.config.HostConfig.NetworkMode=\"nat\")),0===t.config.HostConfig.NetworkMode.indexOf(\"container:\")){var n=t.config.HostConfig.NetworkMode.split(/^container:/)[1];for(var a in t.config.HostConfig.NetworkMode=\"container\",t.runningContainers)t.runningContainers[a].Id==n&&(t.formValues.NetworkContainer=t.runningContainers[a])}if(t.fromContainerMultipleNetworks=Object.keys(e.NetworkSettings.Networks).length>=2,e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode]&&e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig&&(e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv4Address&&(t.formValues.IPv4=e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv4Address),e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv6Address&&(t.formValues.IPv6=e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv6Address)),t.config.NetworkingConfig.EndpointsConfig[t.config.HostConfig.NetworkMode]=e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode],Object.keys(e.NetworkSettings.Networks).length>1){var r=e.NetworkSettings.Networks[Object.keys(e.NetworkSettings.Networks)[0]];t.config.NetworkingConfig.EndpointsConfig[t.config.HostConfig.NetworkMode]=r,t.extraNetworks=angular.copy(e.NetworkSettings.Networks),delete t.extraNetworks[Object.keys(e.NetworkSettings.Networks)[0]]}if(t.formValues.MacAddress=e.Config.MacAddress,e.HostConfig.Dns&&e.HostConfig.Dns[0]&&(t.formValues.DnsPrimary=e.HostConfig.Dns[0],e.HostConfig.Dns[1]&&(t.formValues.DnsSecondary=e.HostConfig.Dns[1])),t.config.HostConfig.ExtraHosts){for(var i=t.config.HostConfig.ExtraHosts,o=0;o<i.length;o++){var l=i[o];t.formValues.ExtraHosts.push({value:l})}t.config.HostConfig.ExtraHosts=[]}}(e),t.formValues.Env=S.parseArrayOfStrings(t.config.Env),function(){for(var e in t.config.Labels)({}).hasOwnProperty.call(t.config.Labels,e)&&t.formValues.Labels.push({name:e,value:t.config.Labels[e]})}(),t.config.OpenStdin&&t.config.Tty?t.formValues.Console=\"both\":!t.config.OpenStdin&&t.config.Tty?t.formValues.Console=\"tty\":t.config.OpenStdin&&!t.config.Tty?t.formValues.Console=\"interactive\":t.config.OpenStdin||t.config.Tty||(t.formValues.Console=\"none\"),function(){var e=[];for(var n in t.config.HostConfig.Devices)if({}.hasOwnProperty.call(t.config.HostConfig.Devices,n)){var a=t.config.HostConfig.Devices[n];e.push({pathOnHost:a.PathOnHost,pathInContainer:a.PathInContainer})}t.config.HostConfig.Devices=e}(),V.retrievePorRegistryModelFromRepository(t.config.Image,L.Id).then((e=>{t.formValues.RegistryModel=e})).catch((function(e){N.error(\"Failure\",e,\"Unable to retrieve registry\")})),function(e){e.HostConfig.NanoCpus&&(t.formValues.CpuLimit=e.HostConfig.NanoCpus/1e9),e.HostConfig.Memory&&(t.formValues.MemoryLimit=e.HostConfig.Memory/1024/1024),e.HostConfig.MemoryReservation&&(t.formValues.MemoryReservation=e.HostConfig.MemoryReservation/1024/1024)}(e),function(e){function n(e){return e.capability===i.capability}e.HostConfig.CapAdd&&e.HostConfig.CapAdd.forEach((function(e){t.formValues.capabilities.push(new k.ContainerCapability(e,!0))})),e.HostConfig.CapDrop&&e.HostConfig.CapDrop.forEach((function(e){t.formValues.capabilities.push(new k.ContainerCapability(e,!1))}));for(var a=new k.ContainerCapabilities,r=0;r<a.length;r++){var i=a[r];s()(t.formValues.capabilities,n)||t.formValues.capabilities.push(i)}t.formValues.capabilities.sort((function(e,t){return e.capability<t.capability?-1:1}))}(e),function(){for(var e in t.config.HostConfig.Sysctls)({}).hasOwnProperty.call(t.config.HostConfig.Sysctls,e)&&t.formValues.Sysctls.push({name:e,value:t.config.HostConfig.Sysctls[e]})}()})).catch((function(e){N.error(\"Failure\",e,\"Unable to retrieve container\")})):(t.fromContainer={},t.formValues.capabilities=t.areContainerCapabilitiesEnabled?new k.ContainerCapabilities:[])}),(function(e){N.error(\"Failure\",e,\"Unable to retrieve running containers\")})),U.info().then((function(e){t.availableRuntimes=e.Runtimes?Object.keys(e.Runtimes):[],t.state.sliderMaxCpu=32,e.NCPU&&(t.state.sliderMaxCpu=e.NCPU),t.state.sliderMaxMemory=32768,e.MemTotal&&(t.state.sliderMaxMemory=Math.floor(e.MemTotal/1e3/1e3))})).catch((function(e){N.error(\"Failure\",e,\"Unable to retrieve engine details\")})),t.allowBindMounts=t.isAdminOrEndpointAdmin||L.SecuritySettings.allowBindMountsForRegularUsers,t.allowPrivilegedMode=L.SecuritySettings.allowPrivilegedModeForRegularUsers,j.loggingPlugins(a<1.25).then((function(e){t.availableLoggingDrivers=e}))}()}])},94518:function(e,t,n){\"use strict\";n.r(t);var a=n(94946),r=n.n(a),i=n(40714),s=n.n(i),o=n(41952),l=n.n(o),c=n(4396),d=n.n(c),u=n(76939),p=n(77918),m=n(26196),g=n(30424);angular.module(\"portainer.docker\").controller(\"ContainerController\",[\"$q\",\"$scope\",\"$state\",\"$transition$\",\"$filter\",\"$async\",\"Commit\",\"ContainerHelper\",\"ContainerService\",\"ImageHelper\",\"NetworkService\",\"Notifications\",\"ModalService\",\"ResourceControlService\",\"RegistryService\",\"ImageService\",\"HttpRequestHelper\",\"Authentication\",\"endpoint\",function(e,t,n,a,i,o,c,h,f,v,b,y,w,x,S,C,k,$,A){t.resourceType=g.O.Container,t.endpoint=A,t.isAdmin=$.isAdmin(),t.activityTime=0,t.portBindings=[],t.displayRecreateButton=!1,t.containerWebhookFeature=m.tE.CONTAINER_WEBHOOK,t.config={RegistryModel:new u.PorImageRegistryModel,commitInProgress:!1},t.state={recreateContainerInProgress:!1,joinNetworkInProgress:!1,leaveNetworkInProgress:!1,pullImageValidity:!1},t.setPullImageValidity=function(e){t.state.pullImageValidity=e},t.updateRestartPolicy=function(n,a){return a=\"on-failure\"===n?a:void 0,f.updateRestartPolicy(t.container.Id,n,a).then((function(){t.container.HostConfig.RestartPolicy={Name:n,MaximumRetryCount:a},y.success(\"Restart policy updated\")})).catch((function(t){return y.error(\"Failure\",t,\"Unable to update restart policy\"),e.reject(t)}))},t.onUpdateResourceControlSuccess=function(){n.reload()};var P=function(){var e=a.params().nodeName;k.setPortainerAgentTargetHeader(e),t.nodeName=e,f.container(a.params().id).then((function(e){var n=e;t.container=n,t.container.edit=!1,t.container.newContainerName=i(\"trimcontainername\")(n.Name),n.State.Running?t.activityTime=d().duration(d()(n.State.StartedAt).utc().diff(d()().utc())).humanize():\"created\"===n.State.Status?t.activityTime=d().duration(d()(n.Created).utc().diff(d()().utc())).humanize():t.activityTime=d().duration(d()().utc().diff(d()(n.State.FinishedAt).utc())).humanize(),t.portBindings=[],n.NetworkSettings.Ports&&l()(Object.keys(n.NetworkSettings.Ports),(function(e){n.NetworkSettings.Ports[e]&&l()(n.NetworkSettings.Ports[e],(n=>{const a={};a.container=e,a.host=`${n.HostIp}:${n.HostPort}`,t.portBindings.push(a)}))})),t.container.Config.Env=s()(t.container.Config.Env,r());const a=t.container.Config.Labels[\"com.docker.swarm.service.id\"],o=t.container.HostConfig.AutoRemove,c=$.isAdmin(),{allowContainerCapabilitiesForRegularUsers:u,allowHostNamespaceForRegularUsers:p,allowDeviceMappingForRegularUsers:m,allowSysctlSettingForRegularUsers:g,allowBindMountsForRegularUsers:h,allowPrivilegedModeForRegularUsers:f}=A.SecuritySettings,v=!(u&&h&&m&&g&&p&&f);t.displayRecreateButton=!a&&!o&&(c||!v)})).catch((function(e){y.error(\"Failure\",e,\"Unable to retrieve container info\")}))};function I(e,t,n,a){t(e).then((function(){y.success(n,e),P()})).catch((function(e){y.error(\"Failure\",e,a)}))}async function T(){t.config.commitInProgress=!0;const e=t.config.RegistryModel,r=v.createImageConfigForContainer(e);try{await c.commitContainer({id:a.params().id,repo:r.fromImage}).$promise,y.success(\"Image created\",a.params().id),n.reload()}catch(e){y.error(\"Failure\",e,\"Unable to create image\"),t.config.commitInProgress=!1}}t.start=function(){I(a.params().id,f.startContainer,\"Container successfully started\",\"Unable to start container\")},t.stop=function(){I(a.params().id,f.stopContainer,\"Container successfully stopped\",\"Unable to stop container\")},t.kill=function(){I(a.params().id,f.killContainer,\"Container successfully killed\",\"Unable to kill container\")},t.pause=function(){I(a.params().id,f.pauseContainer,\"Container successfully paused\",\"Unable to pause container\")},t.unpause=function(){I(a.params().id,f.resumeContainer,\"Container successfully resumed\",\"Unable to resume container\")},t.restart=function(){I(a.params().id,f.restartContainer,\"Container successfully restarted\",\"Unable to restart container\")},t.renameContainer=function(){var e=t.container;f.renameContainer(a.params().id,e.newContainerName).then((function(){e.Name=e.newContainerName,y.success(\"Container successfully renamed\",e.Name)})).catch((function(t){e.newContainerName=e.Name,y.error(\"Failure\",t,\"Unable to rename container\")})).finally((function(){t.container.edit=!1}))},t.containerLeaveNetwork=function(e,a){t.state.leaveNetworkInProgress=!0,b.disconnectContainer(a,e.Id,!1).then((function(){y.success(\"Container left network\",e.Id),n.reload()})).catch((function(e){y.error(\"Failure\",e,\"Unable to disconnect container from network\")})).finally((function(){t.state.leaveNetworkInProgress=!1}))},t.containerJoinNetwork=function(e,a){t.state.joinNetworkInProgress=!0,b.connectContainer(a,e.Id).then((function(){y.success(\"Container joined network\",e.Id),n.reload()})).catch((function(e){y.error(\"Failure\",e,\"Unable to connect container to network\")})).finally((function(){t.state.joinNetworkInProgress=!1}))},t.commit=function(){return o(T)},t.confirmRemove=function(){var e=\"You are about to remove a container.\";t.container.State.Running&&(e=\"You are about to remove a running container.\"),(0,p.A7)(e,(function(e){if(e){var a=!1;e[0]&&(a=!0),function(e){f.remove(t.container,e).then((function(){y.success(\"Container successfully removed\"),n.go(\"docker.containers\",{},{reload:!0})})).catch((function(e){y.error(\"Failure\",e,\"Unable to remove container\")}))}(a)}}))},t.recreate=function(){w.confirmContainerRecreation((function(a){if(a){var r=!1;a[0]&&(r=!0),function(a){var r=t.container,i=h.configFromContainer(r.Model);t.state.recreateContainerInProgress=!0;var s=r.State.Running;(a?S.retrievePorRegistryModelFromRepository(r.Config.Image,A.Id).then((e=>C.pullImage(e,!1))):e.when()).then((function(){return s?f.stopContainer(r.Id):e.when()})).then((function(){return f.renameContainer(r.Id,r.Name+\"-old\")})).then((function(){var t=i.NetworkingConfig.EndpointsConfig,n=Object.keys(t);return n.length>1&&(i.NetworkingConfig.EndpointsConfig={},i.NetworkingConfig.EndpointsConfig[n[0]]=t[0]),e.all([f.createContainer(i),t])})).then((function(t){var n=t[0],a=t[1],r=Object.keys(a).map((function(e){b.connectContainer(e,n.Id)}));return e.all(r).then((function(){return n}))})).then((function(t){return s?f.startContainer(t.Id).then((function(){return t})):e.when(t)})).then((function(e){const t=$.getUserDetails().ID,n=r.ResourceControl,a=e.Portainer.ResourceControl;return x.duplicateResourceControl(t,n,a)})).then((function(e){return f.remove(r,!0).then((function(){return e}))})).then((function(){y.success(\"Container successfully re-created\"),n.go(\"docker.containers\",{},{reload:!0})})).catch((function(e){y.error(\"Failure\",e,\"Unable to re-create container\"),t.state.recreateContainerInProgress=!1}))}(r)}}))};var N=t.applicationState.endpoint.mode.provider,E=t.applicationState.endpoint.apiVersion;b.networks(\"DOCKER_STANDALONE\"===N||\"DOCKER_SWARM_MODE\"===N,!1,\"DOCKER_SWARM_MODE\"===N&&E>=1.25).then((function(e){var n=e;t.availableNetworks=n})).catch((function(e){y.error(\"Failure\",e,\"Unable to retrieve networks\")})),P()}])},62897:function(){angular.module(\"portainer.docker\").controller(\"ContainerInspectController\",[\"$scope\",\"$transition$\",\"Notifications\",\"ContainerService\",\"HttpRequestHelper\",function(e,t,n,a,r){e.state={DisplayTextView:!1},e.containerInfo={},r.setPortainerAgentTargetHeader(t.params().nodeName),a.inspect(t.params().id).then((function(t){e.containerInfo=t})).catch((function(e){n.error(\"Failure\",e,\"Unable to inspect container\")}))}])},47381:function(e,t,n){\"use strict\";n.r(t);var a=n(4396),r=n.n(a);angular.module(\"portainer.docker\").controller(\"ContainerLogsController\",[\"$scope\",\"$transition$\",\"$interval\",\"ContainerService\",\"Notifications\",\"HttpRequestHelper\",function(e,t,n,a,i,s){function o(){var t=e.repeater;angular.isDefined(t)&&(n.cancel(t),t=null)}function l(s){var l=e.state.refreshRate;e.repeater=n((function(){a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,r()(e.state.sinceTimestamp).unix(),e.state.lineCount,s).then((function(t){e.logs=t})).catch((function(e){o(),i.error(\"Failure\",e,\"Unable to retrieve container logs\")}))}),1e3*l)}e.state={refreshRate:3,lineCount:100,sinceTimestamp:\"\",displayTimestamps:!1},e.changeLogCollection=function(t){t?l(!e.container.Config.Tty):o()},e.$on(\"$destroy\",(function(){o()})),s.setPortainerAgentTargetHeader(t.params().nodeName),a.container(t.params().id).then((function(n){var s,c=n;e.container=c,s=!c.Config.Tty,a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,r()(e.state.sinceTimestamp).unix(),e.state.lineCount,s).then((function(t){e.logs=t,l(s)})).catch((function(e){o(),i.error(\"Failure\",e,\"Unable to retrieve container logs\")}))})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve container information\")}))}])},19393:function(e,t,n){\"use strict\";n.r(t);var a=n(4396),r=n.n(a),i=n(52474);angular.module(\"portainer.docker\").controller(\"ContainerStatsController\",[\"$q\",\"$scope\",\"$transition$\",\"$document\",\"$interval\",\"ContainerService\",\"ChartService\",\"Notifications\",\"HttpRequestHelper\",function(e,t,n,a,s,o,l,c,d){function u(){var e=t.repeater;angular.isDefined(e)&&(s.cancel(e),e=null)}function p(e,t){if(e.Networks.length>0){var n=e.Networks[0].rx_bytes,a=e.Networks[0].tx_bytes,i=r()(e.read).format(\"HH:mm:ss\");l.UpdateNetworkChart(i,n,a,t)}}function m(e,t){var n=r()(e.read).format(\"HH:mm:ss\");l.UpdateMemoryChart(n,e.MemoryUsage,e.MemoryCache,t)}function g(e,t){var n=r()(e.read).format(\"HH:mm:ss\");!0!==e.noIOData&&l.UpdateIOChart(n,e.BytesRead,e.BytesWrite,t)}function h(e,t){var n=r()(e.read).format(\"HH:mm:ss\"),a=e.isWindows?function(e){var t=e.NumProcs*parseFloat(r()(e.read,\"YYYY-MM-DDTHH:mm:ss.SSSSSSSSSZ\").valueOf()-r()(e.preread,\"YYYY-MM-DDTHH:mm:ss.SSSSSSSSSZ\").valueOf()),n=0;return t>0&&(n=parseFloat(e.CurrentCPUTotalUsage-e.PreviousCPUTotalUsage)/parseFloat(100*t)),n}(e):function(e){var t=0,n=e.CurrentCPUTotalUsage-e.PreviousCPUTotalUsage,a=e.CurrentCPUSystemUsage-e.PreviousCPUSystemUsage;return a>0&&n>0&&(t=n/a*e.CPUCores*100),t}(e);l.UpdateCPUChart(n,a,t)}function f(a,r,i,l){var d=t.state.refreshRate;t.repeater=s((function(){e.all({stats:o.containerStats(n.params().id),top:o.containerTop(n.params().id)}).then((function(e){var n=e.stats;t.processInfo=e.top,p(n,a),m(n,i),h(n,r),g(n,l)})).catch((function(e){u(),c.error(\"Failure\",e,\"Unable to retrieve container statistics\")}))}),1e3*d)}t.state={refreshRate:\"5\",networkStatsUnavailable:!1,ioStatsUnavailable:!1},t.$on(\"$destroy\",(function(){u()})),t.changeUpdateRepeater=function(){var e=t.networkChart,n=t.cpuChart,a=t.memoryChart,r=t.ioChart;u(),f(e,n,a,r),i(\"#refreshRateChange\").show(),i(\"#refreshRateChange\").fadeOut(1500)},d.setPortainerAgentTargetHeader(n.params().nodeName),o.container(n.params().id).then((function(e){t.container=e})).catch((function(e){c.error(\"Failure\",e,\"Unable to retrieve container information\")})),a.ready((function(){!function(){var a=i(\"#networkChart\"),r=l.CreateNetworkChart(a);t.networkChart=r;var s=i(\"#cpuChart\"),d=l.CreateCPUChart(s);t.cpuChart=d;var v=i(\"#memoryChart\"),b=l.CreateMemoryChart(v);t.memoryChart=b;var y=i(\"#ioChart\"),w=l.CreateIOChart(y);t.ioChart=w,function(a,r,i,s){e.all({stats:o.containerStats(n.params().id),top:o.containerTop(n.params().id)}).then((function(e){var n=e.stats;t.processInfo=e.top,0===n.Networks.length&&(t.state.networkStatsUnavailable=!0),!0===n.noIOData&&(t.state.ioStatsUnavailable=!0),p(n,a),m(n,i),h(n,r),g(n,s),f(a,r,i,s)})).catch((function(e){u(),c.error(\"Failure\",e,\"Unable to retrieve container statistics\")}))}(r,d,b,w)}()}))}])},88444:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(83432),s=n.n(i),o=n(89858),l=n.n(o),c=n(29274),d=n.n(c),u=n(70589),p=n(74808);d().module(\"portainer.docker\").controller(\"DashboardController\",[\"$scope\",\"$q\",\"Authentication\",\"ContainerService\",\"ImageService\",\"NetworkService\",\"VolumeService\",\"SystemService\",\"ServiceService\",\"StackService\",\"Notifications\",\"StateManager\",\"TagService\",\"endpoint\",function(e,t,n,a,i,o,c,d,m,g,h,f,v,b){e.dismissInformationPanel=function(e){f.dismissInformationPanel(e)},e.offlineMode=!1,e.showStacks=!1,async function(){const f=e.applicationState.endpoint.mode;e.endpoint=b,e.showStacks=await async function(){return n.isAdmin()||b.SecuritySettings.allowStackManagementForRegularUsers}(),e.showEnvUrl=b.Type!==p.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&b.Type!==p.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment,t.all({containers:a.containers(1),images:i.images(!1),volumes:c.volumes(),networks:o.networks(!0,!0,!0),services:\"DOCKER_SWARM_MODE\"===f.provider&&\"MANAGER\"===f.role?m.services():[],stacks:g.stacks(!0,\"DOCKER_SWARM_MODE\"===f.provider&&\"MANAGER\"===f.role,b.Id),info:d.info(),tags:v.tags()}).then((function(t){e.containers=t.containers,e.images=t.images,e.volumeCount=t.volumes.length,e.networkCount=t.networks.length,e.serviceCount=t.services.length,e.stackCount=t.stacks.length,e.info=t.info,e.endpointTags=b.TagIds.length?l()(s()(r()(b.TagIds,(e=>{const n=t.tags.find((t=>t.Id===e));return n?n.Name:\"\"})),Boolean),\", \"):\"-\",e.offlineMode=(0,u.isOfflineEndpoint)(b)})).catch((function(e){h.error(\"Failure\",e,\"Unable to load dashboard data\")}))}()}])},25006:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return r}});var a=n(26196);class r{constructor(e,t,n,r,i){this.$async=e,this.$scope=t,this.EndpointService=n,this.Notifications=r,this.StateManager=i,this.limitedFeature=a.tE.HIDE_AUTO_UPDATE_WINDOW,this.formValues={enableHostManagementFeatures:!1,allowVolumeBrowserForRegularUsers:!1,disableBindMountsForRegularUsers:!1,disablePrivilegedModeForRegularUsers:!1,disableHostNamespaceForRegularUsers:!1,disableStackManagementForRegularUsers:!1,disableDeviceMappingForRegularUsers:!1,disableContainerCapabilitiesForRegularUsers:!1,disableSysctlSettingForRegularUsers:!1},this.isAgent=!1,this.state={actionInProgress:!1,autoUpdateSettings:{Enabled:!1},timeZone:\"\"},this.save=this.save.bind(this),this.onChangeField=this.onChangeField.bind(this),this.onToggleAutoUpdate=this.onToggleAutoUpdate.bind(this),this.onChangeEnableHostManagementFeatures=this.onChangeField(\"enableHostManagementFeatures\"),this.onChangeAllowVolumeBrowserForRegularUsers=this.onChangeField(\"allowVolumeBrowserForRegularUsers\"),this.onChangeDisableBindMountsForRegularUsers=this.onChangeField(\"disableBindMountsForRegularUsers\"),this.onChangeDisablePrivilegedModeForRegularUsers=this.onChangeField(\"disablePrivilegedModeForRegularUsers\"),this.onChangeDisableHostNamespaceForRegularUsers=this.onChangeField(\"disableHostNamespaceForRegularUsers\"),this.onChangeDisableStackManagementForRegularUsers=this.onChangeField(\"disableStackManagementForRegularUsers\"),this.onChangeDisableDeviceMappingForRegularUsers=this.onChangeField(\"disableDeviceMappingForRegularUsers\"),this.onChangeDisableContainerCapabilitiesForRegularUsers=this.onChangeField(\"disableContainerCapabilitiesForRegularUsers\"),this.onChangeDisableSysctlSettingForRegularUsers=this.onChangeField(\"disableSysctlSettingForRegularUsers\")}onToggleAutoUpdate(e){return this.$scope.$evalAsync((()=>{this.state.autoUpdateSettings.Enabled=e}))}onChange(e){return this.$scope.$evalAsync((()=>{this.formValues={...this.formValues,...e}}))}onChangeField(e){return t=>{this.onChange({[e]:t})}}isContainerEditDisabled(){const{disableBindMountsForRegularUsers:e,disableHostNamespaceForRegularUsers:t,disablePrivilegedModeForRegularUsers:n,disableDeviceMappingForRegularUsers:a,disableContainerCapabilitiesForRegularUsers:r,disableSysctlSettingForRegularUsers:i}=this.formValues;return e||t||n||a||r||i}async save(){return this.$async((async()=>{try{this.state.actionInProgress=!0;const e={enableHostManagementFeatures:this.formValues.enableHostManagementFeatures,allowBindMountsForRegularUsers:!this.formValues.disableBindMountsForRegularUsers,allowPrivilegedModeForRegularUsers:!this.formValues.disablePrivilegedModeForRegularUsers,allowVolumeBrowserForRegularUsers:this.formValues.allowVolumeBrowserForRegularUsers,allowHostNamespaceForRegularUsers:!this.formValues.disableHostNamespaceForRegularUsers,allowDeviceMappingForRegularUsers:!this.formValues.disableDeviceMappingForRegularUsers,allowStackManagementForRegularUsers:!this.formValues.disableStackManagementForRegularUsers,allowContainerCapabilitiesForRegularUsers:!this.formValues.disableContainerCapabilitiesForRegularUsers,allowSysctlSettingForRegularUsers:!this.formValues.disableSysctlSettingForRegularUsers};await this.EndpointService.updateSecuritySettings(this.endpoint.Id,e),this.endpoint.SecuritySettings=e,this.Notifications.success(\"Saved settings successfully\")}catch(e){this.Notifications.error(\"Failure\",e,\"Failed saving settings\")}this.state.actionInProgress=!1}))}checkAgent(){return this.StateManager.getState().endpoint.mode.agentProxy}$onInit(){const e=this.endpoint.SecuritySettings,t=this.checkAgent();this.isAgent=t,this.formValues={enableHostManagementFeatures:t&&e.enableHostManagementFeatures,allowVolumeBrowserForRegularUsers:t&&e.allowVolumeBrowserForRegularUsers,disableBindMountsForRegularUsers:!e.allowBindMountsForRegularUsers,disablePrivilegedModeForRegularUsers:!e.allowPrivilegedModeForRegularUsers,disableHostNamespaceForRegularUsers:!e.allowHostNamespaceForRegularUsers,disableDeviceMappingForRegularUsers:!e.allowDeviceMappingForRegularUsers,disableStackManagementForRegularUsers:!e.allowStackManagementForRegularUsers,disableContainerCapabilitiesForRegularUsers:!e.allowContainerCapabilitiesForRegularUsers,disableSysctlSettingForRegularUsers:!e.allowSysctlSettingForRegularUsers}}}r.$inject=[\"$async\",\"$scope\",\"EndpointService\",\"Notifications\",\"StateManager\"]},68958:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(25006);const s=n(97582);r().module(\"portainer.docker\").component(\"dockerFeaturesConfigurationView\",{templateUrl:s,controller:i.default,bindings:{endpoint:\"<\"}})},63181:function(e,t,n){\"use strict\";n.r(t);var a=n(4396),r=n.n(a);angular.module(\"portainer.docker\").controller(\"EventsController\",[\"$scope\",\"Notifications\",\"SystemService\",function(e,t,n){var a,i;a=r()().subtract(24,\"hour\").unix(),i=r()().unix(),n.events(a,i).then((function(t){e.events=t})).catch((function(e){t.error(\"Failure\",e,\"Unable to load events\")}))}])},34776:function(){angular.module(\"portainer.docker\").controller(\"HostBrowserViewController\",[\"SystemService\",\"Notifications\",function(e,t){var n=this;n.$onInit=function(){e.info().then((function(e){n.host=e})).catch((function(e){t.error(\"Unable to retrieve host information\",e)}))}}])},24233:function(e,t,n){const a=n(18659);angular.module(\"portainer.docker\").component(\"hostBrowserView\",{templateUrl:a,controller:\"HostBrowserViewController\",bindings:{endpoint:\"<\"}})},43279:function(e,t,n){\"use strict\";n.r(t);var a=n(70589);angular.module(\"portainer.docker\").controller(\"HostViewController\",[\"$q\",\"SystemService\",\"Notifications\",\"StateManager\",\"AgentService\",\"ContainerService\",\"Authentication\",function(e,t,n,r,i,s,o){var l=this;this.$onInit=function(){var c=r.getState();l.state.isAgent=c.endpoint.mode.agentProxy,l.state.isAdmin=o.isAdmin();var d=c.endpoint.agentApiVersion;l.state.agentApiVersion=d,l.state.enableHostManagementFeatures=l.endpoint.SecuritySettings.enableHostManagementFeatures,e.all({version:t.version(),info:t.info(),jobs:l.state.isAdmin?s.containers(!0,{label:[\"io.portainer.job.endpoint\"]}):[]}).then((function(e){var t;if(l.engineDetails=function(e){var t=e.version,n=e.info;return{releaseVersion:t.Version,apiVersion:t.ApiVersion,rootDirectory:n.DockerRootDir,storageDriver:n.Driver,loggingDriver:n.LoggingDriver,volumePlugins:n.Plugins.Volume,networkPlugins:n.Plugins.Network}}(e),l.hostDetails={os:{arch:(t=e.info).Architecture,type:t.OSType,name:t.OperatingSystem},name:t.Name,kernelVersion:t.KernelVersion,totalCPU:t.NCPU,totalMemory:t.MemTotal},l.state.offlineMode=(0,a.isOfflineEndpoint)(l.endpoint),l.jobs=e.jobs,l.state.isAgent&&d>1)return i.hostInfo(e.info.Hostname).then((function(e){l.devices=e.PCIDevices,l.disks=e.PhysicalDisks}))})).catch((function(e){n.error(\"Failure\",e,\"Unable to retrieve engine details\")}))},l.state={isAgent:!1,isAdmin:!1,offlineMode:!1},this.engineDetails={},this.hostDetails={},this.devices=null,this.disks=null}])},15906:function(e,t,n){const a=n(20927);angular.module(\"portainer.docker\").component(\"hostView\",{templateUrl:a,controller:\"HostViewController\",bindings:{endpoint:\"<\"}})},88741:function(){function e(e,t,n,a,r,i,s){e.state={BuildType:\"editor\",actionInProgress:!1,activeTab:0,isEditorDirty:!1},e.formValues={ImageNames:[{Name:\"\"}],UploadFile:null,DockerFileContent:\"\",URL:\"\",Path:\"Dockerfile\",NodeName:null},n.onbeforeunload=()=>{if(\"editor\"===e.state.BuildType&&e.formValues.DockerFileContent&&e.state.isEditorDirty)return\"\"},e.$on(\"$destroy\",(function(){e.state.isEditorDirty=!1})),e.addImageName=function(){e.formValues.ImageNames.push({Name:\"\"})},e.removeImageName=function(t){e.formValues.ImageNames.splice(t,1)},e.buildImage=async function(){return t((async()=>{if(\"editor\"!==e.state.BuildType||\"\"!==e.formValues.DockerFileContent){e.state.actionInProgress=!0;var t=e.formValues.ImageNames.filter((function(e){return e.Name})).map((function(e){return e.Name})),n=e.formValues.NodeName;s.setPortainerAgentTargetHeader(n);try{const n=await function(t,n){var a=e.state.BuildType,i=e.formValues.Path;if(\"upload\"===a){var s=e.formValues.UploadFile;return r.buildImageFromUpload(n,s,i)}if(\"url\"===a){var o=e.formValues.URL;return r.buildImageFromURL(n,o,i)}var l=e.formValues.DockerFileContent;return r.buildImageFromDockerfileContent(n,l)}(0,t);e.buildLogs=n.buildLogs,e.state.activeTab=1,n.hasError?i.error(\"An error occurred during build\",{msg:\"Please check build logs output\"}):(i.success(\"Image successfully built\"),e.state.isEditorDirty=!1)}catch(e){i.error(\"Failure\",e,\"Unable to build image\")}finally{e.state.actionInProgress=!1}}else e.state.formValidationError=\"Dockerfile content must not be empty\"}))},e.validImageNames=function(){for(var t=0;t<e.formValues.ImageNames.length;t++)if(\"\"!==e.formValues.ImageNames[t].Name)return!0;return!1},e.editorUpdate=function(t){e.formValues.DockerFileContent=t.getValue(),e.state.isEditorDirty=!0},this.uiCanExit=async function(){if(\"editor\"===e.state.BuildType&&e.formValues.DockerFileContent&&e.state.isEditorDirty)return a.confirmWebEditorDiscard()}}e.$inject=[\"$scope\",\"$async\",\"$window\",\"ModalService\",\"BuildService\",\"Notifications\",\"HttpRequestHelper\"],angular.module(\"portainer.docker\").controller(\"BuildImageController\",e)},37391:function(e,t,n){\"use strict\";n.r(t);var a=n(94946),r=n.n(a),i=n(40714),s=n.n(i),o=n(44716),l=n.n(o),c=n(76939),d=n(52474);angular.module(\"portainer.docker\").controller(\"ImageController\",[\"$async\",\"$q\",\"$scope\",\"$transition$\",\"$state\",\"Authentication\",\"ImageService\",\"ImageHelper\",\"RegistryService\",\"Notifications\",\"HttpRequestHelper\",\"ModalService\",\"FileSaver\",\"Blob\",\"endpoint\",\"EndpointService\",\"RegistryModalService\",function(e,t,n,a,i,o,u,p,m,g,h,f,v,b,y,w,x){n.endpoint=y,n.isAdmin=o.isAdmin(),n.formValues={RegistryModel:new c.PorImageRegistryModel},n.state={exportInProgress:!1,pullImageValidity:!1},n.sortType=\"Order\",n.sortReverse=!1,n.order=function(e){n.sortReverse=n.sortType===e&&!n.sortReverse,n.sortType=e},n.toggleLayerCommand=function(e){d(\"#layer-command-expander\"+e+\" span\").toggleClass(\"glyphicon-plus-sign glyphicon-minus-sign\"),d(\"#layer-command-\"+e+\"-short\").toggle(),d(\"#layer-command-\"+e+\"-full\").toggle()},n.setPullImageValidity=function(e){n.state.pullImageValidity=e},n.tagImage=function(){const e=n.formValues.RegistryModel,t=p.createImageConfigForContainer(e);u.tagImage(a.params().id,t.fromImage).then((function(){g.success(\"Image successfully tagged\"),i.go(\"docker.images.image\",{id:a.params().id},{reload:!0})})).catch((function(e){g.error(\"Failure\",e,\"Unable to tag image\")}))},n.pushTag=async function(t){return e((async()=>{try{const e=await x.registryModal(t,n.registries);e&&(d(\"#uploadResourceHint\").show(),await u.pushImage(e),g.success(\"Image successfully pushed\",t))}catch(e){g.error(\"Failure\",e,\"Unable to push image to repository\")}finally{d(\"#uploadResourceHint\").hide()}}))},n.pullTag=async function(t){return e((async()=>{try{const e=await x.registryModal(t,n.registries);e&&(d(\"#downloadResourceHint\").show(),await u.pullImage(e),g.success(\"Image successfully pulled\",t))}catch(e){g.error(\"Failure\",e,\"Unable to pull image from repository\")}finally{d(\"#downloadResourceHint\").hide()}}))},n.removeTag=function(e){u.deleteImage(e,!1).then((function(){1===n.image.RepoTags.length?(g.success(\"Image successfully deleted\",e),i.go(\"docker.images\",{},{reload:!0})):(g.success(\"Tag successfully deleted\",e),i.go(\"docker.images.image\",{id:a.params().id},{reload:!0}))})).catch((function(e){g.error(\"Failure\",e,\"Unable to remove image\")}))},n.removeImage=function(e){u.deleteImage(e,!1).then((function(){g.success(\"Image successfully deleted\",e),i.go(\"docker.images\",{},{reload:!0})})).catch((function(e){g.error(\"Failure\",e,\"Unable to remove image\")}))},n.exportImage=function(e){0===e.RepoTags.length||l()(e.RepoTags,\"<none>\")?g.warning(\"\",\"Cannot download a untagged image\"):f.confirmImageExport((function(t){t&&function(e){h.setPortainerAgentTargetHeader(e.NodeName),n.state.exportInProgress=!0,u.downloadImages([e]).then((function(e){var t=new b([e.file],{type:\"application/x-tar\"});v.saveAs(t,\"images.tar\"),g.success(\"Image successfully downloaded\")})).catch((function(e){g.error(\"Failure\",e,\"Unable to download image\")})).finally((function(){n.state.exportInProgress=!1}))}(e)}))},async function(){h.setPortainerAgentTargetHeader(a.params().nodeName);try{n.registries=await m.loadRegistriesForDropdown(y.Id)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load registries\")}t.all({image:u.image(a.params().id),history:u.history(a.params().id)}).then((function(e){n.image=e.image,n.history=e.history,n.image.Env=s()(n.image.Env,r())})).catch((function(e){g.error(\"Failure\",e,\"Unable to retrieve image details\"),i.go(\"docker.images\")}))}()}])},12107:function(e,t,n){\"use strict\";n.r(t);var a=n(93715),r=n.n(a),i=n(51235),s=n.n(i),o=n(76939),l=n(70589);angular.module(\"portainer.docker\").controller(\"ImagesController\",[\"$scope\",\"$state\",\"Authentication\",\"ImageService\",\"Notifications\",\"ModalService\",\"HttpRequestHelper\",\"FileSaver\",\"Blob\",\"endpoint\",function(e,t,n,a,i,c,d,u,p,m){function g(){a.images(!0).then((function(t){e.images=t,e.offlineMode=(0,l.isOfflineEndpoint)(m)})).catch((function(t){i.error(\"Failure\",t,\"Unable to retrieve images\"),e.images=[]}))}e.endpoint=m,e.isAdmin=n.isAdmin(),e.state={actionInProgress:!1,exportInProgress:!1,pullRateValid:!1},e.formValues={RegistryModel:new o.PorImageRegistryModel,NodeName:null},e.pullImage=function(){const n=e.formValues.RegistryModel;var r=e.formValues.NodeName;d.setPortainerAgentTargetHeader(r),e.state.actionInProgress=!0,a.pullImage(n,!1).then((function(e){var a=e[e.length-1].errorDetail;if(a)return i.error(\"Failure\",a,\"Unable to pull image\");i.success(\"Image successfully pulled\",n.Image),t.reload()})).catch((function(e){i.error(\"Failure\",e,\"Unable to pull image\")})).finally((function(){e.state.actionInProgress=!1}))},e.confirmRemovalAction=function(t,n){c.confirmImageForceRemoval((function(a){a&&e.removeAction(t,n)}))},e.downloadAction=function(t){(function(e){for(var t=0;t<e.length;t++){var n=e[t];if(s()(n.RepoTags,(function(e){return e.indexOf(\"<none>\")>-1})))return i.warning(\"\",\"Cannot download a untagged image\"),!1}return!(r()(e,\"NodeName\").length>1&&(i.warning(\"\",\"Cannot download images from different nodes at the same time\"),1))})(t)&&c.confirmImageExport((function(n){var r;n&&(r=t,d.setPortainerAgentTargetHeader(r[0].NodeName),e.state.exportInProgress=!0,a.downloadImages(r).then((function(e){var t=new p([e.file],{type:\"application/x-tar\"});u.saveAs(t,\"images.tar\"),i.success(\"Image(s) successfully downloaded\")})).catch((function(e){i.error(\"Failure\",e,\"Unable to download image(s)\")})).finally((function(){e.state.exportInProgress=!1})))}))},e.removeAction=function(n,r){var s=n.length;angular.forEach(n,(function(n){d.setPortainerAgentTargetHeader(n.NodeName),a.deleteImage(n.Id,r).then((function(){i.success(\"Image successfully removed\",n.Id);var t=e.images.indexOf(n);e.images.splice(t,1)})).catch((function(e){i.error(\"Failure\",e,\"Unable to remove image\")})).finally((function(){0==--s&&t.reload()}))}))},e.offlineMode=!1,e.getImages=g,e.setPullImageValidity=function(t){e.state.pullRateValid=t},g()}])},14521:function(e,t,n){\"use strict\";n.r(t);var a=n(76939);angular.module(\"portainer.docker\").controller(\"ImportImageController\",[\"$scope\",\"$state\",\"ImageService\",\"Notifications\",\"HttpRequestHelper\",\"Authentication\",\"ImageHelper\",\"endpoint\",function(e,t,n,r,i,s,o,l){e.state={actionInProgress:!1},e.endpoint=l,e.isAdmin=s.isAdmin(),e.formValues={UploadFile:null,NodeName:null,RegistryModel:new a.PorImageRegistryModel},e.setPullImageValidity=function(t){e.state.pullImageValidity=t},e.uploadImage=async function(){e.state.actionInProgress=!0;var a=e.formValues.NodeName;i.setPortainerAgentTargetHeader(a);var s=e.formValues.UploadFile;try{const{data:a}=await n.uploadImage(s);if(a.error)r.error(\"Failure\",a.error,\"Unable to upload image\");else if(a.stream){var l=/Loaded.*?: (.*?)\\n$/g.exec(a.stream);l&&2==l.length&&(await async function(t){const a=e.formValues.RegistryModel;if(a.Image){const e=o.createImageConfigForContainer(a);try{await n.tagImage(t,e.fromImage)}catch(e){r.error(\"Failure\",e,\"Unable to tag image\")}}}(l[1]),t.go(\"docker.images.image\",{id:l[1]},{reload:!0})),r.success(\"Images successfully uploaded\")}else r.success(\"The uploaded tar file contained multiple images. The provided tag therefore has been ignored.\")}catch(e){r.error(\"Failure\",e,\"Unable to upload image\")}finally{e.state.actionInProgress=!1}}}])},543:function(e,t,n){\"use strict\";n.r(t);var a=n(83432),r=n.n(a),i=n(41952),s=n.n(i),o=n(55743),l=n.n(o),c=n(17465),d=n.n(c),u=n(19898),p=n(50373);angular.module(\"portainer.docker\").controller(\"CreateNetworkController\",[\"$q\",\"$scope\",\"$state\",\"PluginService\",\"Notifications\",\"NetworkService\",\"LabelHelper\",\"Authentication\",\"ResourceControlService\",\"FormValidator\",\"HttpRequestHelper\",function(e,t,n,a,i,o,c,m,g,h,f){function v(e,t){const n=d()(e,\"=\");return 2===n.length?n[1]===t:e===t}function b(e,t){e.AuxiliaryAddresses={},s()(t.AuxiliaryAddresses,((t,n)=>{const a=d()(t,\"=\");2===a.length?e.AuxiliaryAddresses[a[0]]=a[1]:e.AuxiliaryAddresses[\"device\"+n]=t}))}function y(e){f.setPortainerAgentTargetHeader(e.nodeName),f.setPortainerAgentManagerOperation(e.managerOperation),t.state.actionInProgress=!0,o.create(e.networkConfiguration).then((function(t){const n=e.userDetails.ID,a=e.accessControlData,r=t.Portainer.ResourceControl;return g.applyResourceControl(n,a,r)})).then((function(){i.success(\"Network successfully created\"),e.reload&&n.go(\"docker.networks\",{},{reload:!0})})).catch((function(e){i.error(\"Failure\",e,\"An error occured during network creation\")})).finally((function(){t.state.actionInProgress=!1}))}var w;t.formValues={DriverOptions:[],IPV4:{Subnet:\"\",Gateway:\"\",IPRange:\"\",AuxiliaryAddresses:[]},IPV6:{Subnet:\"\",Gateway:\"\",IPRange:\"\",AuxiliaryAddresses:[]},Labels:[],AccessControlData:new u.AccessControlFormData,NodeName:null,Macvlan:new p.MacvlanFormData},t.state={formValidationError:\"\",actionInProgress:!1},t.availableNetworkDrivers=[],t.config={Driver:\"bridge\",CheckDuplicate:!0,Internal:!1,Attachable:!1,EnableIPv6:!1,IPAM:{Driver:\"default\",Config:[]},Labels:{}},t.addDriverOption=function(){t.formValues.DriverOptions.push({name:\"\",value:\"\"})},t.removeDriverOption=function(e){t.formValues.DriverOptions.splice(e,1)},t.addLabel=function(){t.formValues.Labels.push({key:\"\",value:\"\"})},t.removeLabel=function(e){t.formValues.Labels.splice(e,1)},t.addIPV4AuxAddress=function(){t.formValues.IPV4.AuxiliaryAddresses.push(\"\")},t.addIPV6AuxAddress=function(){t.formValues.IPV6.AuxiliaryAddresses.push(\"\")},t.removeIPV4AuxAddress=function(e){t.formValues.IPV4.AuxiliaryAddresses.splice(e,1),t.state.IPV4AuxiliaryAddressesError.splice(e,1)},t.removeIPV6AuxAddress=function(e){t.formValues.IPV6.AuxiliaryAddresses.splice(e,1),t.state.IPV6AuxiliaryAddressesError.splice(e,1)},t.checkIPV4AuxiliaryAddress=function(e){t.state.IPV4AuxiliaryAddressesError[e]=v(t.formValues.IPV4.AuxiliaryAddresses[e],t.formValues.IPV4.Gateway)},t.checkIPV6AuxiliaryAddress=function(e){t.state.IPV6AuxiliaryAddressesError[e]=v(t.formValues.IPV6.AuxiliaryAddresses[e],t.formValues.IPV6.Gateway)},t.isValid=function(){const e=!l()(t.state.IPV4AuxiliaryAddressesError,((e,t)=>e||t),!1),n=!l()(t.state.IPV6AuxiliaryAddressesError,((e,t)=>e||t),!1);return e&&n},t.create=function(){var e=function(){var e=angular.copy(t.config);return function(e){if(t.formValues.IPV4.Subnet){let n={};n.Subnet=t.formValues.IPV4.Subnet,t.formValues.IPV4.Gateway&&(n.Gateway=t.formValues.IPV4.Gateway),t.formValues.IPV4.IPRange&&(n.IPRange=t.formValues.IPV4.IPRange),t.formValues.IPV4.AuxiliaryAddresses.length&&b(n,t.formValues.IPV4),e.IPAM.Config.push(n)}if(t.formValues.IPV6.Subnet){let n={};n.Subnet=t.formValues.IPV6.Subnet,t.formValues.IPV6.Gateway&&(n.Gateway=t.formValues.IPV6.Gateway),t.formValues.IPV6.IPRange&&(n.IPRange=t.formValues.IPV6.IPRange),t.formValues.IPV6.AuxiliaryAddresses.length&&b(n,t.formValues.IPV6),e.EnableIPv6=!0,e.IPAM.Config.push(n)}}(e),function(e){var n={};t.formValues.DriverOptions.forEach((function(e){n[e.name]=e.value})),e.Options=n}(e),function(e){e.Labels=c.fromKeyValueToLabelHash(t.formValues.Labels)}(e),e}(),n=t.formValues.AccessControlData,a=m.getUserDetails();if(function(e,n){var a;return t.state.formValidationError=\"\",!(a=h.validateAccessControl(e,n))||(t.state.formValidationError=a,!1)}(n,m.isAdmin())){var r,i={nodeName:t.formValues.NodeName,managerOperation:!1,networkConfiguration:e,userDetails:a,accessControlData:n,reload:!0};if(t.applicationState.endpoint.mode.agentProxy&&\"DOCKER_SWARM_MODE\"===t.applicationState.endpoint.mode.provider&&\"overlay\"===t.config.Driver&&(i.managerOperation=!0),\"macvlan\"===t.config.Driver)if(\"local\"===t.formValues.Macvlan.Scope)(r=e).Internal=null,r.Attachable=null,r.ConfigOnly=!0,r.Options.parent=t.formValues.Macvlan.ParentNetworkCard;else if(\"swarm\"===t.formValues.Macvlan.Scope){var s=t.formValues.Macvlan.SelectedNetworkConfig;!function(e,n){e.ConfigFrom={Network:n.Name},\"DOCKER_SWARM_MODE\"===t.applicationState.endpoint.mode.provider?e.Scope=\"swarm\":e.Scope=\"local\"}(e,s),i.nodeName=s.NodeName}if(\"macvlan\"===t.config.Driver&&\"local\"===t.formValues.Macvlan.Scope&&t.applicationState.endpoint.mode.agentProxy&&\"DOCKER_SWARM_MODE\"===t.applicationState.endpoint.mode.provider){var o=t.formValues.Macvlan.DatatableState.selectedItems;o.forEach((function(e,t){i.nodeName=e.Hostname,i.reload=t===o.length-1,y(i)}))}else y(i)}},w=t.applicationState.endpoint.apiVersion,t.state.IPV4AuxiliaryAddressesError=[],t.state.IPV6AuxiliaryAddressesError=[],a.networkPlugins(w<1.25).then((function(e){t.availableNetworkDrivers=e,t.availableNetworkDrivers=r()(t.availableNetworkDrivers,(e=>\"host\"!==e&&\"null\"!==e))})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve network drivers\")}))}])},74225:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(25445),s=n.n(i),o=n(40714),l=n.n(o),c=n(66539),d=n.n(c),u=n(86103),p=n.n(u),m=n(1979),g=n.n(m),h=n(71204),f=n.n(h),v=n(51235),b=n.n(v),y=n(69452),w=n(70589);angular.module(\"portainer.docker\").controller(\"NetworksController\",[\"$q\",\"$scope\",\"$state\",\"NetworkService\",\"Notifications\",\"HttpRequestHelper\",\"endpoint\",\"AgentService\",function(e,t,n,a,i,o,c,u){function m(){const n={networks:a.networks(!0,!0,!0)};t.applicationState.endpoint.mode.agentProxy&&\"DOCKER_SWARM_MODE\"===t.applicationState.endpoint.mode.provider&&(n.agents=u.agents()),e.all(n).then((e=>{t.offlineMode=(0,w.isOfflineEndpoint)(c);const n=r()(e.networks,(e=>e.Subs=[]));t.applicationState.endpoint.mode.agentProxy&&\"DOCKER_SWARM_MODE\"===t.applicationState.endpoint.mode.provider?t.networks=function(e,t){const n=f()(e,(e=>\"swarm\"!==e.Scope)),a=g()(p()(e,(e=>e.Id))),r=d()(a,(e=>l()(e,(e=>(e=>b()(t,(t=>t.NodeName===e.NodeName)).NodeRole)(e))))),i=d()(r,(e=>{const t=e[0];for(let n=1;n<e.length;n++)t.Subs.push(e[n]);return t}));return s()(i,...n)}(e.networks,e.agents):t.networks=n,r()(t.networks,(e=>{e.IPAM.IPV4Configs=y.default.getIPV4Configs(e.IPAM.Config),e.IPAM.IPV6Configs=y.default.getIPV6Configs(e.IPAM.Config)}))})).catch((e=>{t.networks=[],i.error(\"Failure\",e,\"Unable to retrieve networks\")}))}t.removeAction=function(e){var r=e.length;angular.forEach(e,(function(e){o.setPortainerAgentTargetHeader(e.NodeName),a.remove(e.Id).then((function(){i.success(\"Network successfully removed\",e.Name);var n=t.networks.indexOf(e);t.networks.splice(n,1)})).catch((function(e){i.error(\"Failure\",e,\"Unable to remove network\")})).finally((function(){0==--r&&n.reload()}))}))},t.offlineMode=!1,t.getNetworks=m,m()}])},50451:function(){angular.module(\"portainer.docker\").controller(\"NodeBrowserController\",[\"$stateParams\",\"NodeService\",\"HttpRequestHelper\",\"Notifications\",function(e,t,n,a){var r=this;r.$onInit=function(){r.nodeId=e.id,t.node(r.nodeId).then((function(e){n.setPortainerAgentTargetHeader(e.Hostname),r.node=e})).catch((function(e){a.error(\"Unable to retrieve host information\",e)}))}}])},83602:function(e,t,n){const a=n(52707);angular.module(\"portainer.docker\").component(\"nodeBrowserView\",{templateUrl:a,controller:\"NodeBrowserController\",bindings:{endpoint:\"<\"}})},29978:function(){angular.module(\"portainer.docker\").controller(\"NodeDetailsViewController\",[\"$q\",\"$stateParams\",\"NodeService\",\"StateManager\",\"AgentService\",\"ContainerService\",\"Authentication\",function(e,t,n,a,r,i,s){var o=this;function l(e,t){return e.filter((function(e){return e.Type===t})).map((function(e){return e.Name}))}o.$onInit=function(){var c=a.getState();o.state.isAgent=c.endpoint.mode.agentProxy,o.state.isAdmin=s.isAdmin(),o.state.enableHostManagementFeatures=o.endpoint.SecuritySettings.enableHostManagementFeatures;var d=o.state.isAdmin&&o.state.isAgent,u=t.id;e.all({node:n.node(u),jobs:d?i.containers(!0,{label:[\"io.portainer.job.endpoint\"]}):[]}).then((function(e){var t=e.node;if(o.originalNode=t,o.hostDetails=function(e){return{os:{arch:e.PlatformArchitecture,type:e.PlatformOS},name:e.Hostname,totalCPU:e.CPUs/1e9,totalMemory:e.Memory}}(t),o.engineDetails=function(e){return{releaseVersion:e.EngineVersion,volumePlugins:l(e.Plugins,\"Volume\"),networkPlugins:l(e.Plugins,\"Network\"),engineLabels:e.EngineLabels}}(t),o.nodeDetails=function(e){return{name:e.Name,role:e.Role,managerAddress:e.ManagerAddr,availability:e.Availability,status:e.Status,nodeLabels:e.Labels}}(t),o.jobs=e.jobs,o.state.isAgent){var n=c.endpoint.agentApiVersion;if(o.state.agentApiVersion=n,n<2)return;r.hostInfo(t.Hostname).then((function(e){o.devices=e.PCIDevices,o.disks=e.PhysicalDisks}))}}))},o.state={isAgent:!1,isAdmin:!1}}])},74275:function(e,t,n){const a=n(89455);angular.module(\"portainer.docker\").component(\"nodeDetailsView\",{templateUrl:a,controller:\"NodeDetailsViewController\",bindings:{endpoint:\"<\"}})},77152:function(e,t,n){const a=n(73675);angular.module(\"portainer.docker\").component(\"dockerRegistryAccessView\",{templateUrl:a,controller:\"DockerRegistryAccessController\",bindings:{endpoint:\"<\"}})},40106:function(e,t,n){\"use strict\";n.r(t);var a=n(93133);class r{constructor(e,t,n,a,r,i){this.$async=e,this.$state=t,this.Notifications=n,this.EndpointService=a,this.GroupService=r,this.RegistryService=i,this.updateAccess=this.updateAccess.bind(this),this.filterUsers=this.filterUsers.bind(this)}updateAccess(){return this.$async((async()=>{this.state.actionInProgress=!0;try{await this.EndpointService.updateRegistryAccess(this.state.endpointId,this.state.registryId,this.registryEndpointAccesses),this.Notifications.success(\"Access successfully updated\"),this.$state.reload()}catch(e){this.state.actionInProgress=!1,this.Notifications.error(\"Failure\",e,\"Unable to update accesses\")}}))}filterUsers(e){const t=this.endpoint.UserAccessPolicies,n=this.endpoint.TeamAccessPolicies,r=this.endpointGroup.UserAccessPolicies,i=this.endpointGroup.TeamAccessPolicies;return e.filter((e=>{const s=e instanceof a.UserAccessViewModel&&(t[e.Id]||r[e.Id]),o=e instanceof a.TeamAccessViewModel&&(n[e.Id]||i[e.Id]);return s||o}))}$onInit(){return this.$async((async()=>{try{this.state={viewReady:!1,actionInProgress:!1,endpointId:this.$state.params.endpointId,registryId:this.$state.params.id},this.registry=await this.RegistryService.registry(this.state.registryId,this.state.endpointId),this.registryEndpointAccesses=this.registry.RegistryAccesses[this.state.endpointId]||{},this.endpointGroup=await this.GroupService.group(this.endpoint.GroupId)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registry details\")}finally{this.state.viewReady=!0}}))}}r.$inject=[\"$async\",\"$state\",\"Notifications\",\"EndpointService\",\"GroupService\",\"RegistryService\"],t.default=r,angular.module(\"portainer.docker\").controller(\"DockerRegistryAccessController\",r)},65968:function(e,t,n){\"use strict\";n.r(t);var a=n(19898);angular.module(\"portainer.docker\").controller(\"CreateSecretController\",[\"$scope\",\"$state\",\"Notifications\",\"SecretService\",\"LabelHelper\",\"Authentication\",\"ResourceControlService\",\"FormValidator\",function(e,t,n,r,i,s,o,l){e.formValues={Name:\"\",Data:\"\",Labels:[],encodeSecret:!0,AccessControlData:new a.AccessControlFormData},e.state={formValidationError:\"\",actionInProgress:!1},e.addLabel=function(){e.formValues.Labels.push({key:\"\",value:\"\"})},e.removeLabel=function(t){e.formValues.Labels.splice(t,1)},e.create=function(){const a=e.formValues.AccessControlData,c=s.getUserDetails(),d=s.isAdmin();if(function(t,n){var a;return e.state.formValidationError=\"\",!(a=l.validateAccessControl(t,n))||(e.state.formValidationError=a,!1)}(a,d)){e.state.actionInProgress=!0;var u=((p={}).Name=e.formValues.Name,function(t){e.formValues.encodeSecret?t.Data=btoa(unescape(encodeURIComponent(e.formValues.Data))):t.Data=e.formValues.Data}(p),function(t){t.Labels=i.fromKeyValueToLabelHash(e.formValues.Labels)}(p),p);r.create(u).then((function(e){const t=c.ID,n=e.Portainer.ResourceControl;return o.applyResourceControl(t,a,n)})).then((function(){n.success(\"Secret successfully created\"),t.go(\"docker.secrets\",{},{reload:!0})})).catch((function(e){n.error(\"Failure\",e,\"Unable to create secret\")})).finally((function(){e.state.actionInProgress=!1}))}var p}}])},20842:function(e,t,n){\"use strict\";n.r(t);var a=n(30424);angular.module(\"portainer.docker\").controller(\"SecretController\",[\"$scope\",\"$transition$\",\"$state\",\"SecretService\",\"Notifications\",function(e,t,n,r,i){e.resourceType=a.O.Secret,e.onUpdateResourceControlSuccess=function(){n.reload()},e.removeSecret=function(e){r.remove(e).then((function(){i.success(\"Secret successfully removed\"),n.go(\"docker.secrets\",{})})).catch((function(e){i.error(\"Failure\",e,\"Unable to remove secret\")}))},r.secret(t.params().id).then((function(t){e.secret=t})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve secret details\")}))}])},69654:function(){angular.module(\"portainer.docker\").controller(\"SecretsController\",[\"$scope\",\"$state\",\"SecretService\",\"Notifications\",function(e,t,n,a){function r(){n.secrets().then((function(t){e.secrets=t})).catch((function(t){e.secrets=[],a.error(\"Failure\",t,\"Unable to retrieve secrets\")}))}e.removeAction=function(r){var i=r.length;angular.forEach(r,(function(r){n.remove(r.Id).then((function(){a.success(\"Secret successfully removed\",r.Name);var t=e.secrets.indexOf(r);e.secrets.splice(t,1)})).catch((function(e){a.error(\"Failure\",e,\"Unable to remove secret\")})).finally((function(){0==--i&&t.reload()}))}))},e.getSecrets=r,r()}])},91188:function(e,t,n){\"use strict\";n.r(t);var a=n(17908),r=n.n(a),i=n(75345),s=n.n(i),o=n(76939),l=n(93994),c=n(19898);n(74827),n(61573),n(98876),n(14714),angular.module(\"portainer.docker\").controller(\"CreateServiceController\",[\"$q\",\"$scope\",\"$state\",\"$timeout\",\"Service\",\"ServiceHelper\",\"ConfigService\",\"ConfigHelper\",\"SecretHelper\",\"SecretService\",\"VolumeService\",\"NetworkService\",\"ImageHelper\",\"LabelHelper\",\"Authentication\",\"ResourceControlService\",\"Notifications\",\"FormValidator\",\"PluginService\",\"RegistryService\",\"HttpRequestHelper\",\"NodeService\",\"WebhookService\",\"endpoint\",function(e,t,n,a,i,d,u,p,m,g,h,f,v,b,y,w,x,S,C,k,$,A,P,I){function T(e){return[].concat.apply([],e.split(\"'\").map((function(e,t){return t%2?e:e.split(\" \")}))).filter(Boolean)}var N;t.endpoint=I,t.formValues={Name:\"\",RegistryModel:new o.PorImageRegistryModel,Mode:\"replicated\",Replicas:1,Command:\"\",EntryPoint:\"\",WorkingDir:\"\",User:\"\",Env:[],Labels:[],ContainerLabels:[],Volumes:[],Network:\"\",ExtraNetworks:[],HostsEntries:[],Ports:[],Parallelism:1,PlacementConstraints:[],PlacementPreferences:[],UpdateDelay:\"0s\",UpdateOrder:\"stop-first\",FailureAction:\"pause\",Secrets:[],Configs:[],AccessControlData:new c.AccessControlFormData,CpuLimit:0,CpuReservation:0,MemoryLimit:0,MemoryReservation:0,MemoryLimitUnit:\"MB\",MemoryReservationUnit:\"MB\",RestartCondition:\"any\",RestartDelay:\"5s\",RestartMaxAttempts:0,RestartWindow:\"0s\",LogDriverName:\"\",LogDriverOpts:[],Webhook:!1},t.state={formValidationError:\"\",actionInProgress:!1,pullImageValidity:!1},t.allowBindMounts=!1,t.handleEnvVarChange=function(e){t.formValues.Env=e},t.refreshSlider=function(){a((function(){t.$broadcast(\"rzSliderForceRender\")}))},t.setPullImageValidity=function(e){t.state.pullImageValidity=e},t.addPortBinding=function(){t.formValues.Ports.push({PublishedPort:\"\",TargetPort:\"\",Protocol:\"tcp\",PublishMode:\"ingress\"})},t.removePortBinding=function(e){t.formValues.Ports.splice(e,1)},t.addExtraNetwork=function(){t.formValues.ExtraNetworks.push({Name:\"\"})},t.removeExtraNetwork=function(e){t.formValues.ExtraNetworks.splice(e,1)},t.addHostsEntry=function(){t.formValues.HostsEntries.push({})},t.removeHostsEntry=function(e){t.formValues.HostsEntries.splice(e,1)},t.addVolume=function(){t.formValues.Volumes.push({Source:null,Target:\"\",ReadOnly:!1,Type:\"volume\"})},t.removeVolume=function(e){t.formValues.Volumes.splice(e,1)},t.addConfig=function(){t.formValues.Configs.push({})},t.removeConfig=function(e){t.formValues.Configs.splice(e,1),t.checkIfConfigDuplicated()},t.addSecret=function(){t.formValues.Secrets.push({overrideTarget:!1})},t.removeSecret=function(e){t.formValues.Secrets.splice(e,1),t.checkIfSecretDuplicated()},t.addPlacementConstraint=function(){t.formValues.PlacementConstraints.push({key:\"\",operator:\"==\",value:\"\"})},t.removePlacementConstraint=function(e){t.formValues.PlacementConstraints.splice(e,1)},t.addPlacementPreference=function(){t.formValues.PlacementPreferences.push({strategy:\"spread\",value:\"\"})},t.removePlacementPreference=function(e){t.formValues.PlacementPreferences.splice(e,1)},t.addLabel=function(){t.formValues.Labels.push({key:\"\",value:\"\"})},t.removeLabel=function(e){t.formValues.Labels.splice(e,1)},t.addContainerLabel=function(){t.formValues.ContainerLabels.push({key:\"\",value:\"\"})},t.removeContainerLabel=function(e){t.formValues.ContainerLabels.splice(e,1)},t.addLogDriverOpt=function(){t.formValues.LogDriverOpts.push({name:\"\",value:\"\"})},t.removeLogDriverOpt=function(e){t.formValues.LogDriverOpts.splice(e,1)},t.checkIfSecretDuplicated=function(){t.formValues.Secrets.$invalid=!1,[...t.formValues.Secrets].sort(((e,t)=>e.model.Id.localeCompare(t.model.Id))).sort(((e,n)=>{e.model.Id===n.model.Id&&(t.formValues.Secrets.$invalid=!0,t.formValues.Secrets.$error=\"Secret \"+e.model.Name+\" cannot be assigned multiple times.\")})),t.formValues.Secrets.$invalid||(t.formValues.Secrets.$error=\"\")},t.checkIfConfigDuplicated=function(){t.formValues.Configs.$invalid=!1,[...t.formValues.Configs].sort(((e,t)=>e.model.Id.localeCompare(t.model.Id))).sort(((e,n)=>{e.model.Id===n.model.Id&&(t.formValues.Configs.$invalid=!0,t.formValues.Configs.$error=\"Config \"+e.model.Name+\" cannot be assigned multiple times.\")})),t.formValues.Configs.$invalid||(t.formValues.Configs.$error=\"\")},t.volumesAreValid=function(){return t.formValues.Volumes.every((e=>e.Target&&e.Source))},t.create=function(){var a,o,c=t.formValues.AccessControlData;(function(e,n){var a;return t.state.formValidationError=\"\",!(a=S.validateAccessControl(e,n)||t.formValues.Secrets.$error||t.formValues.Configs.$error)||(t.state.formValidationError=a,!1)})(c,t.isAdmin)&&(t.state.actionInProgress=!0,function(a,r){const s=t.formValues.RegistryModel;var o=s.Registry.Authentication?k.encodedCredentials(s.Registry):\"\";$.setRegistryAuthenticationHeader(o),i.create(a).$promise.then((function(n){const a=n.ID,i=n.Portainer.ResourceControl,s=y.getUserDetails().ID,o=w.applyResourceControl(s,r,i),l=t.formValues.RegistryModel.Registry.Id,c=e.when(4!==I.Type&&t.formValues.Webhook&&P.createServiceWebhook(a,I.Id,l));return e.all([o,c])})).then((function(){x.success(\"Service successfully created\"),n.go(\"docker.services\",{},{reload:!0})})).catch((function(e){x.error(\"Failure\",e,\"Unable to create service\")})).finally((function(){t.state.actionInProgress=!1}))}((a=t.formValues,function(e,t){\"replicated\"===t.Mode?e.Mode.Replicated={Replicas:t.Replicas}:e.Mode.Global={}}(o={Name:a.Name,TaskTemplate:{ContainerSpec:{Mounts:[]},Placement:{},Resources:{Limits:{},Reservations:{}}},Mode:{},EndpointSpec:{}},a),function(e,t){var n=v.createImageConfigForContainer(t.RegistryModel);e.TaskTemplate.ContainerSpec.Image=n.fromImage}(o,a),function(e,t){let n=[];t.Ports.forEach((function(e){const t={Protocol:e.Protocol,PublishMode:e.PublishMode};e.TargetPort&&(t.TargetPort=+e.TargetPort,e.PublishedPort&&(t.PublishedPort=+e.PublishedPort),n.push(t))})),e.EndpointSpec.Ports=n}(o,a),function(e,t){t.EntryPoint&&(e.TaskTemplate.ContainerSpec.Command=T(t.EntryPoint)),t.Command&&(e.TaskTemplate.ContainerSpec.Args=T(t.Command)),t.User&&(e.TaskTemplate.ContainerSpec.User=t.User),t.WorkingDir&&(e.TaskTemplate.ContainerSpec.Dir=t.WorkingDir)}(o,a),function(e,t){e.TaskTemplate.ContainerSpec.Env=l.convertToArrayOfStrings(t.Env)}(o,a),function(e,t){e.Labels=b.fromKeyValueToLabelHash(t.Labels),e.TaskTemplate.ContainerSpec.Labels=b.fromKeyValueToLabelHash(t.ContainerLabels)}(o,a),function(e,t){t.Volumes.forEach((function(t){if(t.Source&&t.Target)if(\"volume\"!==t.Type)e.TaskTemplate.ContainerSpec.Mounts.push(t);else{var n=(a=t.Source,r=t.Target,i=t.ReadOnly,{Target:r,Source:a.Id,Type:\"volume\",ReadOnly:i,VolumeOptions:{Labels:a.Labels,DriverConfig:{Name:a.Driver,Options:a.Options}}});e.TaskTemplate.ContainerSpec.Mounts.push(n)}var a,r,i}))}(o,a),function(e,t){var n=[];t.Network&&n.push({Target:t.Network}),t.ExtraNetworks.forEach((function(e){n.push({Target:e.Name})})),e.Networks=s()(n,r())}(o,a),function(e,t){var n=[];t.HostsEntries&&(t.HostsEntries.forEach((function(e){if(e.value&&e.value.indexOf(\":\")&&2===e.value.split(\":\").length){var t=e.value.split(\":\");n.push(t[1]+\" \"+t[0])}})),n.length>0&&(e.TaskTemplate.ContainerSpec.Hosts=n))}(o,a),function(e,t){e.UpdateConfig={Parallelism:t.Parallelism||0,Delay:d.translateHumanDurationToNanos(t.UpdateDelay)||0,FailureAction:t.FailureAction,Order:t.UpdateOrder}}(o,a),function(e,t){if(t.Configs){var n=[];angular.forEach(t.Configs,(function(e){if(e.model){var t=p.configConfig(e.model);t.File.Name=e.FileName||t.File.Name,n.push(t)}})),e.TaskTemplate.ContainerSpec.Configs=n}}(o,a),function(e,t){if(t.Secrets){var n=[];angular.forEach(t.Secrets,(function(e){if(e.model){var t=m.secretConfig(e.model);t.File.Name=t.SecretName,e.overrideTarget&&e.target&&\"\"!==e.target&&(t.File.Name=e.target),n.push(t)}})),e.TaskTemplate.ContainerSpec.Secrets=n}}(o,a),function(e,t){e.TaskTemplate.Placement.Constraints=d.translateKeyValueToPlacementConstraints(t.PlacementConstraints),e.TaskTemplate.Placement.Preferences=d.translateKeyValueToPlacementPreferences(t.PlacementPreferences)}(o,a),function(e,t){t.CpuLimit>0&&(e.TaskTemplate.Resources.Limits.NanoCPUs=1e9*t.CpuLimit),t.CpuReservation>0&&(e.TaskTemplate.Resources.Reservations.NanoCPUs=1e9*t.CpuReservation)}(o,a),function(e,t){var n=(Math.round(8*t.MemoryLimit)/8).toFixed(3);n*=1048576,\"GB\"===t.MemoryLimitUnit&&(n*=1024),n>0&&(e.TaskTemplate.Resources.Limits.MemoryBytes=n);var a=(Math.round(8*t.MemoryReservation)/8).toFixed(3);a*=1048576,\"GB\"===t.MemoryReservationUnit&&(a*=1024),a>0&&(e.TaskTemplate.Resources.Reservations.MemoryBytes=a)}(o,a),function(e,t){e.TaskTemplate.RestartPolicy={Condition:t.RestartCondition||\"any\",Delay:d.translateHumanDurationToNanos(t.RestartDelay)||5e9,MaxAttempts:t.RestartMaxAttempts||0,Window:d.translateHumanDurationToNanos(t.RestartWindow)||0}}(o,a),function(e,t){var n={};t.LogDriverName&&(e.TaskTemplate.LogDriver={Name:t.LogDriverName},\"none\"!==t.LogDriverName&&(t.LogDriverOpts.forEach((function(e){e.name&&(n[e.name]=e.value)})),0!==Object.keys(n).length&&n.constructor===Object&&(e.TaskTemplate.LogDriver.Options=n)))}(o,a),o),c))},N=t.applicationState.endpoint.apiVersion,e.all({volumes:h.volumes(),networks:f.networks(!0,!0,!1),secrets:N>=1.25?g.secrets():[],configs:N>=1.3?u.configs():[],nodes:A.nodes(),availableLoggingDrivers:C.loggingPlugins(N<1.25),allowBindMounts:async function(){const e=y.isAdmin(),{allowBindMountsForRegularUsers:t}=I.SecuritySettings;return e||t}()}).then((function(e){t.availableVolumes=e.volumes,t.availableNetworks=e.networks,t.availableSecrets=e.secrets,t.availableConfigs=e.configs,t.availableLoggingDrivers=e.availableLoggingDrivers,function(e){var n=0,a=0;for(var r in e)e[r].CPUs&&e[r].CPUs>n&&(n=e[r].CPUs),e[r].Memory&&e[r].Memory>a&&(a=e[r].Memory);t.state.sliderMaxCpu=n>0?n/1e9:32,t.state.sliderMaxMemory=a>0?Math.floor(a/1e3/1e3):32768}(e.nodes),t.isAdmin=y.isAdmin(),t.allowBindMounts=e.allowBindMounts})).catch((function(e){x.error(\"Failure\",e,\"Unable to initialize view\")}))}])},1816:function(e,t,n){\"use strict\";n.r(t);var a=n(99432),r=n.n(a),i=n(51235),s=n.n(i),o=n(25445),l=n.n(o),c=n(93715),d=n.n(c),u=n(83432),p=n.n(u),m=n(66539),g=n.n(m),h=n(6632),f=n.n(h),v=n(76939),b=n(93994),y=n(30424),w=n(52474);n(74612),n(17590),n(83431),n(33964),n(73631),n(49394),n(69480),n(47300),n(95765),n(2224),n(82292),n(31402),n(95266),n(418),n(13269),n(91082),n(72493),n(87512),angular.module(\"portainer.docker\").controller(\"ServiceController\",[\"$q\",\"$scope\",\"$transition$\",\"$state\",\"$location\",\"$timeout\",\"$anchorScroll\",\"ServiceService\",\"ConfigService\",\"ConfigHelper\",\"SecretService\",\"ImageService\",\"SecretHelper\",\"ServiceHelper\",\"LabelHelper\",\"TaskService\",\"NodeService\",\"ContainerService\",\"TaskHelper\",\"Notifications\",\"ModalService\",\"PluginService\",\"Authentication\",\"VolumeService\",\"ImageHelper\",\"WebhookService\",\"clipboard\",\"WebhookHelper\",\"NetworkService\",\"RegistryService\",\"endpoint\",function(e,t,n,a,i,o,c,u,m,h,x,S,C,k,$,A,P,I,T,N,E,R,D,O,V,U,j,F,L,_,M){t.resourceType=y.O.Service,t.onUpdateResourceControlSuccess=function(){a.reload()},t.endpoint=M,t.state={updateInProgress:!1,deletionInProgress:!1,rollbackInProgress:!1},t.formValues={RegistryModel:new v.PorImageRegistryModel},t.tasks=[],t.availableImages=[],t.lastVersion=0;var K={},B=[];function H(e){var n=k.serviceToConfig(e.Model);if(n.Name=e.Name,n.Labels=$.fromKeyValueToLabelHash(e.ServiceLabels),n.TaskTemplate.ContainerSpec.Env=b.convertToArrayOfStrings(e.EnvironmentVariables),n.TaskTemplate.ContainerSpec.Labels=$.fromKeyValueToLabelHash(e.ServiceContainerLabels),t.hasChanges(e,[\"Image\"])){const e=V.createImageConfigForContainer(t.formValues.RegistryModel);n.TaskTemplate.ContainerSpec.Image=e.fromImage,n.registryId=t.formValues.RegistryModel.Registry.Id}else n.TaskTemplate.ContainerSpec.Image=e.Image;if(t.hasChanges(e,[\"Networks\"])&&(n.Networks=g()(p()(e.Networks,(e=>e.Id&&e.Editable)),(e=>({Target:e.Id}))),n.TaskTemplate.Networks=n.Networks),n.TaskTemplate.ContainerSpec.Secrets=e.ServiceSecrets?e.ServiceSecrets.map(C.secretConfig):[],n.TaskTemplate.ContainerSpec.Configs=e.ServiceConfigs?e.ServiceConfigs.map(h.configConfig):[],n.TaskTemplate.ContainerSpec.Hosts=e.Hosts?k.translateHostnameIPToHostsEntries(e.Hosts):[],\"replicated\"===e.Mode&&(n.Mode.Replicated.Replicas=e.Replicas),n.TaskTemplate.ContainerSpec.Mounts=e.ServiceMounts,void 0===n.TaskTemplate.Placement&&(n.TaskTemplate.Placement={}),n.TaskTemplate.Placement.Constraints=k.translateKeyValueToPlacementConstraints(e.ServiceConstraints),n.TaskTemplate.Placement.Preferences=k.translateKeyValueToPlacementPreferences(e.ServicePreferences),t.hasChanges(e,[\"LimitNanoCPUs\",\"LimitMemoryBytes\",\"ReservationNanoCPUs\",\"ReservationMemoryBytes\"])){var a=(Math.round(8*e.LimitMemoryBytes)/8).toFixed(3);a*=1048576;var r=(Math.round(8*e.ReservationMemoryBytes)/8).toFixed(3);r*=1048576,n.TaskTemplate.Resources={Limits:{NanoCPUs:1e9*e.LimitNanoCPUs,MemoryBytes:a},Reservations:{NanoCPUs:1e9*e.ReservationNanoCPUs,MemoryBytes:r}}}if(t.hasChanges(e,[\"UpdateFailureAction\",\"UpdateDelay\",\"UpdateParallelism\",\"UpdateOrder\"])&&(n.UpdateConfig={Parallelism:e.UpdateParallelism,Delay:k.translateHumanDurationToNanos(e.UpdateDelay)||0,FailureAction:e.UpdateFailureAction,Order:e.UpdateOrder}),t.hasChanges(e,[\"RestartCondition\",\"RestartDelay\",\"RestartMaxAttempts\",\"RestartWindow\"])&&(n.TaskTemplate.RestartPolicy={Condition:e.RestartCondition,Delay:k.translateHumanDurationToNanos(e.RestartDelay)||5e9,MaxAttempts:e.RestartMaxAttempts,Window:k.translateHumanDurationToNanos(e.RestartWindow)||0}),n.TaskTemplate.LogDriver=null,e.LogDriverName&&(n.TaskTemplate.LogDriver={Name:e.LogDriverName},\"none\"!==e.LogDriverName)){var i=k.translateKeyValueToLogDriverOpts(e.LogDriverOpts);0!==Object.keys(i).length&&i.constructor===Object&&(n.TaskTemplate.LogDriver.Options=i)}return e.Ports&&e.Ports.forEach((function(e){null!==e.PublishedPort&&\"\"!==e.PublishedPort||delete e.PublishedPort})),n.EndpointSpec={Mode:n.EndpointSpec&&n.EndpointSpec.Mode||\"vip\",Ports:e.Ports},n}function G(){var a=t.applicationState.endpoint.apiVersion,i=t.applicationState.endpoint.mode.agentProxy,v=null;u.service(n.params().id).then((function(n){return v=n,t.isUpdating=t.lastVersion>=v.Version,t.isUpdating||(t.lastVersion=v.Version),function(e){e.LimitNanoCPUs=e.LimitNanoCPUs/1e9||0,e.ReservationNanoCPUs=e.ReservationNanoCPUs/1e9||0,e.LimitMemoryBytes=e.LimitMemoryBytes/1024/1024||0,e.ReservationMemoryBytes=e.ReservationMemoryBytes/1024/1024||0}(v),function(e){e.ServiceSecrets=e.Secrets?e.Secrets.map(C.flattenSecret):[],e.ServiceConfigs=e.Configs?e.Configs.map(h.flattenConfig):[],e.EnvironmentVariables=b.parseArrayOfStrings(e.Env).map((e=>({...e,added:!0}))).sort(((e,t)=>e.name>t.name?1:-1)),e.LogDriverOpts=k.translateLogDriverOptsToKeyValue(e.LogDriverOpts),e.ServiceLabels=$.fromLabelHashToKeyValue(e.Labels),e.ServiceContainerLabels=$.fromLabelHashToKeyValue(e.ContainerLabels),e.ServiceMounts=angular.copy(e.Mounts),e.ServiceConstraints=k.translateConstraintsToKeyValue(e.Constraints),e.ServicePreferences=k.translatePreferencesToKeyValue(e.Preferences),e.Hosts=k.translateHostsEntriesToHostnameIP(e.Hosts)}(v),function(e){e.RestartDelay=k.translateNanosToHumanDuration(e.RestartDelay)||\"5s\",e.RestartWindow=k.translateNanosToHumanDuration(e.RestartWindow)||\"0s\",e.UpdateDelay=k.translateNanosToHumanDuration(e.UpdateDelay)||\"0s\",e.StopGracePeriod=e.StopGracePeriod?k.translateNanosToHumanDuration(e.StopGracePeriod):\"\"}(v),t.service=v,K=angular.copy(v),e.all({volumes:O.volumes(),tasks:A.tasks({service:[v.Name]}),containers:i?I.containers():[],nodes:P.nodes(),secrets:a>=1.25?x.secrets():[],configs:a>=1.3?m.configs():[],availableImages:S.images(),availableLoggingDrivers:R.loggingPlugins(a<1.25),availableNetworks:L.networks(!0,!0,a>=1.25),webhooks:U.webhooks(v.Id,M.Id)})})).then((async function(e){t.nodes=e.nodes,t.configs=e.configs,t.secrets=e.secrets,t.availableImages=S.getUniqueTagListFromImages(e.availableImages),t.availableLoggingDrivers=e.availableLoggingDrivers,t.availableVolumes=e.volumes,t.allowBindMounts=M.SecuritySettings.allowBindMountsForRegularUsers,t.isAdmin=D.isAdmin(),t.availableNetworks=e.availableNetworks,t.swarmNetworks=p()(t.availableNetworks,(e=>\"swarm\"===e.Scope));const n=d()(l()(t.service.Model.Spec.Networks||[],t.service.Model.Spec.TaskTemplate.Networks||[]),\"Target\"),a=p()(g()(n,(({Target:t})=>s()(e.availableNetworks,{Id:t}))),Boolean);if(r()(t.service.Ports,(e=>\"ingress\"===e.PublishMode))){const e=s()(t.availableNetworks,(e=>e.Ingress));e&&a.unshift(e)}if(t.service.Networks=await Promise.all(g()(a,(async e=>{let t=\"\";if(e.IPAM.Config.length)t=e.IPAM.Config[0].Subnet;else{const n=await L.network(e.Id);t=n&&n.IPAM&&n.IPAM.Config&&n.IPAM.Config.length&&n.IPAM.Config[0].Subnet||\"\"}return{Id:e.Id,Name:e.Name,Addr:t,Editable:!e.Ingress}}))),K.Networks=angular.copy(t.service.Networks),e.webhooks.length>0){var u=e.webhooks[0];t.WebhookExists=!0,t.webhookID=u.Id,t.webhookURL=F.returnWebhookUrl(u.Token)}var m=e.tasks;if(i)for(var h=e.containers,b=0;b<m.length;b++){var y=m[b];T.associateContainerToTask(y,h)}k.associateTasksToService(v,m),t.tasks=e.tasks;var w=0;for(var x in e.nodes)e.nodes[x].CPUs&&e.nodes[x].CPUs>w&&(w=e.nodes[x].CPUs);t.state.sliderMaxCpu=w>0?w/1e9:32;const C=t.service.Model.Spec.TaskTemplate.ContainerSpec.Image;_.retrievePorRegistryModelFromRepository(C,M.Id).then((e=>{t.formValues.RegistryModel=e,t.initialRegistryID=f()(e,\"Registry.Id\",0)})),t.state.addSecret={override:!1},o((function(){c()}))})).catch((function(e){t.secrets=[],t.configs=[],N.error(\"Failure\",e,\"Unable to retrieve service details\")}))}function z(e,t){B.push(t),e.hasChanges=!0}t.goToItem=function(e){i.hash()!==e?i.hash(e):c()},t.addEnvironmentVariable=function(e){e.EnvironmentVariables.push({name:\"\",value:\"\"}),z(e,\"EnvironmentVariables\",e.EnvironmentVariables)},t.onChangeEnvVars=function(e){const n=t.service,a=n.EnvironmentVariables;n.EnvironmentVariables=e.map((e=>{const t=a.find((({name:t})=>e.name===t)),n=t&&t.added;return{...e,added:n}})),z(n,\"EnvironmentVariables\",n.EnvironmentVariables)},t.addConfig=function(e,t){t&&0===e.ServiceConfigs.filter((function(e){return e.Id===t.Id})).length&&(e.ServiceConfigs.push({Id:t.Id,Name:t.Name,FileName:t.Name,Uid:\"0\",Gid:\"0\",Mode:292}),z(e,\"ServiceConfigs\",e.ServiceConfigs))},t.removeConfig=function(e,t){null!==e.ServiceConfigs.splice(t,1)&&z(e,\"ServiceConfigs\",e.ServiceConfigs)},t.updateConfig=function(e){z(e,\"ServiceConfigs\",e.ServiceConfigs)},t.addSecret=function(e,t){if(t.secret){var n=t.secret.Name;t.override&&(n=t.target),0===e.ServiceSecrets.filter((function(e){return e.Id===t.secret.Id&&e.FileName===n})).length&&(e.ServiceSecrets.push({Id:t.secret.Id,Name:t.secret.Name,FileName:n,Uid:\"0\",Gid:\"0\",Mode:444}),z(e,\"ServiceSecrets\",e.ServiceSecrets))}},t.removeSecret=function(e,t){null!==e.ServiceSecrets.splice(t,1)&&z(e,\"ServiceSecrets\",e.ServiceSecrets)},t.addLabel=function(e){e.ServiceLabels.push({key:\"\",value:\"\",originalValue:\"\"}),z(e,\"ServiceLabels\",e.ServiceLabels)},t.removeLabel=function(e,t){null!==e.ServiceLabels.splice(t,1)&&z(e,\"ServiceLabels\",e.ServiceLabels)},t.updateLabel=function(e,t){t.value===t.originalValue&&t.key===t.originalKey||z(e,\"ServiceLabels\",e.ServiceLabels)},t.addContainerLabel=function(e){e.ServiceContainerLabels.push({key:\"\",value:\"\",originalValue:\"\"}),z(e,\"ServiceContainerLabels\",e.ServiceContainerLabels)},t.removeContainerLabel=function(e,t){null!==e.ServiceContainerLabels.splice(t,1)&&z(e,\"ServiceContainerLabels\",e.ServiceContainerLabels)},t.updateContainerLabel=function(e,t){t.value===t.originalValue&&t.key===t.originalKey||z(e,\"ServiceContainerLabels\",e.ServiceContainerLabels)},t.addMount=function(e){e.ServiceMounts.push({Type:\"volume\",Source:null,Target:\"\",ReadOnly:!1}),z(e,\"ServiceMounts\",e.ServiceMounts)},t.removeMount=function(e,t){null!==e.ServiceMounts.splice(t,1)&&z(e,\"ServiceMounts\",e.ServiceMounts)},t.onChangeMountType=function(e,n){n.Source=null,t.updateMount(e,n)},t.updateMount=function(e){z(e,\"ServiceMounts\",e.ServiceMounts)},t.addNetwork=function(e){e.Networks||(e.Networks=[]),e.Networks.push({Editable:!0})},t.removeNetwork=function(e,t){var n=e.Networks.splice(t,1);n&&n.length&&n[0].Id&&z(e,\"Networks\",e.Networks)},t.updateNetwork=function(e){z(e,\"Networks\",e.Networks)},t.addPlacementConstraint=function(e){e.ServiceConstraints.push({key:\"\",operator:\"==\",value:\"\"}),z(e,\"ServiceConstraints\",e.ServiceConstraints)},t.removePlacementConstraint=function(e,t){null!==e.ServiceConstraints.splice(t,1)&&z(e,\"ServiceConstraints\",e.ServiceConstraints)},t.updatePlacementConstraint=function(e){z(e,\"ServiceConstraints\",e.ServiceConstraints)},t.addPlacementPreference=function(e){e.ServicePreferences.push({strategy:\"spread\",value:\"\"}),z(e,\"ServicePreferences\",e.ServicePreferences)},t.removePlacementPreference=function(e,t){null!==e.ServicePreferences.splice(t,1)&&z(e,\"ServicePreferences\",e.ServicePreferences)},t.updatePlacementPreference=function(e){z(e,\"ServicePreferences\",e.ServicePreferences)},t.addPublishedPort=function(e){e.Ports||(e.Ports=[]),e.Ports.push({PublishedPort:\"\",TargetPort:\"\",Protocol:\"tcp\",PublishMode:\"ingress\"})},t.updatePublishedPort=function(e){z(e,\"Ports\",e.Ports)},t.removePortPublishedBinding=function(e,t){null!==e.Ports.splice(t,1)&&z(e,\"Ports\",e.Ports)},t.addLogDriverOpt=function(e){e.LogDriverOpts.push({key:\"\",value:\"\",originalValue:\"\"}),z(e,\"LogDriverOpts\",e.LogDriverOpts)},t.removeLogDriverOpt=function(e,t){null!==e.LogDriverOpts.splice(t,1)&&z(e,\"LogDriverOpts\",e.LogDriverOpts)},t.updateLogDriverOpt=function(e,t){t.value===t.originalValue&&t.key===t.originalKey||z(e,\"LogDriverOpts\",e.LogDriverOpts)},t.updateLogDriverName=function(e){z(e,\"LogDriverName\",e.LogDriverName)},t.addHostsEntry=function(e){e.Hosts||(e.Hosts=[]),e.Hosts.push({hostname:\"\",ip:\"\"})},t.removeHostsEntry=function(e,t){null!==e.Hosts.splice(t,1)&&z(e,\"Hosts\",e.Hosts)},t.updateHostsEntry=function(e){z(e,\"Hosts\",e.Hosts)},t.updateWebhook=function(e){t.WebhookExists?U.deleteWebhook(t.webhookID).then((function(){t.webhookURL=null,t.webhookID=null,t.WebhookExists=!1})).catch((function(e){N.error(\"Failure\",e,\"Unable to delete webhook\")})):U.createServiceWebhook(e.Id,M.Id,t.initialRegistryID).then((function(e){t.WebhookExists=!0,t.webhookID=e.Id,t.webhookURL=F.returnWebhookUrl(e.Token)})).catch((function(e){N.error(\"Failure\",e,\"Unable to create webhook\")}))},t.updateWebhookRegistryId=function(){const e=f()(t.formValues.RegistryModel,\"Registry.Id\",0),n=t.initialRegistryID!=e;t.WebhookExists&&n&&U.updateServiceWebhook(t.webhookID,e).catch((function(e){N.error(\"Failure\",e,\"Unable to update webhook\")}))},t.copyWebhook=function(){j.copyText(t.webhookURL),w(\"#copyNotification\").show(),w(\"#copyNotification\").fadeOut(2e3)},t.cancelChanges=async function(e,n){if(n)for(const e of n)if(\"Image\"===e)t.formValues.RegistryModel=await _.retrievePorRegistryModelFromRepository(K.Image,M.Id);else{var a=B.indexOf(e);a>=0&&B.splice(a,1)}else t.formValues.RegistryModel=await _.retrievePorRegistryModelFromRepository(K.Image,M.Id),n=Object.keys(e),B=[];n.forEach((function(t){e[t]=K[t]})),e.hasChanges=!1},t.hasChanges=function(e,n){var a=!1;return n.forEach((function(n){if(\"Image\"===n){const n=e?e.Model.Spec.TaskTemplate.ContainerSpec.Image:null,r=V.createImageConfigForContainer(t.formValues.RegistryModel).fromImage;a=a||n!==r}else a=a||B.indexOf(n)>=0})),a},t.mountsAreValid=function(){return t.service.ServiceMounts.every((e=>e.Source&&e.Target))},t.rollbackService=function(e){E.confirm({title:\"Rollback service\",message:\"Are you sure you want to rollback?\",buttons:{confirm:{label:\"Yes\",className:\"btn-danger\"}},callback:function(n){n&&function(e){t.state.rollbackInProgress=!0;let n={};n=H(e),u.update(e,n,\"previous\").then((function(e){e.message&&e.message.match(/^rpc error:/)?N.error(\"Failure\",e,\"Error\"):(N.success(\"Success\",\"Service successfully rolled back\"),t.cancelChanges({}),G())})).catch((function(e){e.data.message&&e.data.message.includes(\"does not have a previous spec\")?N.error(\"Failure\",{message:\"No previous config to rollback to.\"}):N.error(\"Failure\",e,\"Unable to rollback service\")})).finally((function(){t.state.rollbackInProgress=!1}))}(e)}})},t.setPullImageValidity=function(e){t.state.pullImageValidity=e},t.updateService=function(e){let n={};n=H(e),u.update(e,n).then((function(e){e.message&&e.message.match(/^rpc error:/)?N.error(\"Failure\",e,\"Error\"):(N.success(\"Service successfully updated\",\"Service updated\"),t.updateWebhookRegistryId()),t.cancelChanges({}),G()}),(function(e){N.error(\"Failure\",e,\"Unable to update service\")}))},t.removeService=function(){E.confirmDeletion(\"Do you want to remove this service? All the containers associated to this service will be removed too.\",(function(n){n&&(t.state.deletionInProgress=!0,u.remove(t.service).then((function(){return e.when(t.webhookID&&U.deleteWebhook(t.webhookID))})).then((function(){N.success(\"Service successfully deleted\"),a.go(\"docker.services\",{})})).catch((function(e){N.error(\"Failure\",e,\"Unable to remove service\")})).finally((function(){t.state.deletionInProgress=!1})))}))},t.forceUpdateService=function(e){E.confirmServiceForceUpdate(\"Do you want to force an update of the service? All the tasks associated to the service will be recreated.\",(function(n){if(n){var a=!1;n[0]&&(a=!0),function(e,n){var a=k.serviceToConfig(e.Model);n&&(a.TaskTemplate.ContainerSpec.Image=V.removeDigestFromRepository(a.TaskTemplate.ContainerSpec.Image)),a.TaskTemplate.ForceUpdate++,t.state.updateInProgress=!0,u.update(e,a).then((function(){N.success(\"Service successfully updated\",e.Name),t.cancelChanges({}),G()})).catch((function(t){N.error(\"Failure\",t,\"Unable to force update service\",e.Name)})).finally((function(){t.state.updateInProgress=!1}))}(e,a)}}))},t.updateServiceAttribute=function(e,t){e[t]===K[t]&&t in K||(e.hasChanges=!0),B.push(t)},t.filterNetworks=function(e,n){return e.filter((e=>!e.Ingress&&(e.Id===n.Id||t.service.Networks.every((t=>e.Id!==t.Id)))))},G()}])},59139:function(e,t,n){\"use strict\";n.r(t);var a=n(4396),r=n.n(a);angular.module(\"portainer.docker\").controller(\"ServiceLogsController\",[\"$scope\",\"$transition$\",\"$interval\",\"ServiceService\",\"Notifications\",function(e,t,n,a,i){function s(){var t=e.repeater;angular.isDefined(t)&&(n.cancel(t),t=null)}function o(){var o=e.state.refreshRate;e.repeater=n((function(){a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,r()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t})).catch((function(e){s(),i.error(\"Failure\",e,\"Unable to retrieve service logs\")}))}),1e3*o)}e.state={refreshRate:3,lineCount:100,sinceTimestamp:\"\",displayTimestamps:!1},e.changeLogCollection=function(e){e?o():s()},e.$on(\"$destroy\",(function(){s()})),a.service(t.params().id).then((function(n){e.service=n,a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,r()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t,o()})).catch((function(e){s(),i.error(\"Failure\",e,\"Unable to retrieve service logs\")}))})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve service information\")}))}])},48566:function(){angular.module(\"portainer.docker\").controller(\"ServicesController\",[\"$q\",\"$scope\",\"ServiceService\",\"ServiceHelper\",\"Notifications\",\"TaskService\",\"TaskHelper\",\"NodeService\",\"ContainerService\",\"endpoint\",function(e,t,n,a,r,i,s,o,l,c){function d(){var c=t.applicationState.endpoint.mode.agentProxy;return e.all({services:n.services(),tasks:i.tasks(),containers:c?l.containers(1):[],nodes:o.nodes()}).then((function(e){var n=e.services,r=e.tasks;if(c)for(var i=e.containers,o=0;o<r.length;o++){var l=r[o];s.associateContainerToTask(l,i)}for(var d=0;d<n.length;d++){var u=n[d];a.associateTasksToService(u,r)}t.nodes=e.nodes,t.tasks=r,t.services=n})).catch((function(e){t.services=[],r.error(\"Failure\",e,\"Unable to retrieve services\")}))}t.getServices=d,t.endpoint=c,d()}])},9104:function(){angular.module(\"portainer.docker\").controller(\"SwarmController\",[\"$q\",\"$scope\",\"SystemService\",\"NodeService\",\"Notifications\",\"StateManager\",\"Authentication\",function(e,t,n,a,r,i,s){function o(e,n){var a={};a.name=e[n][0],a.ip=e[n][1],a.Id=e[n+1][1],a.status=e[n+2][1],a.containers=e[n+3][1],a.cpu=e[n+4][1].split(\"/\")[1],a.memory=e[n+5][1].split(\"/\")[1],a.labels=e[n+6][1],a.version=e[n+8][1],t.swarm.Status.push(a)}function l(){\"DOCKER_SWARM_MODE\"===t.applicationState.endpoint.mode.provider&&a.nodes().then((function(e){var n=e;!function(e){var n=0,a=0;angular.forEach(e,(function(e){n+=e.CPUs,a+=e.Memory})),t.totalCPU=n/1e9,t.totalMemory=a}(n),t.nodes=n})).catch((function(e){r.error(\"Failure\",e,\"Unable to retrieve cluster details\")}))}t.info={},t.docker={},t.swarm={},t.totalCPU=0,t.totalMemory=0,t.getNodes=l,function(){t.isAdmin=s.isAdmin();var a=t.applicationState.endpoint.mode.provider;e.all({version:n.version(),info:n.info()}).then((function(e){t.docker=e.version,t.info=e.info,\"DOCKER_SWARM_MODE\"===a?l():function(e){var n=e.SystemStatus;t.swarm[n[1][0]]=n[1][1],t.swarm[n[2][0]]=n[2][1];var a=\"primary\"===n[0][1]?n[3][1]:n[4][1],r=parseInt(a,10);t.swarm[n[3][0]]=r,t.swarm.Status=[],function(e,t){var n=\"primary\"===e[0][1]?4:5;for(let a=0;a<t;a++)o(e,n),n+=9}(n,r)}(e.info)})).catch((function(e){r.error(\"Failure\",e,\"Unable to retrieve cluster details\")}))}()}])},83456:function(e,t,n){var a=n(52474);angular.module(\"portainer.docker\").controller(\"SwarmVisualizerController\",[\"$q\",\"$scope\",\"$document\",\"$interval\",\"NodeService\",\"ServiceService\",\"TaskService\",\"Notifications\",\"LocalStorage\",function(e,t,n,r,i,s,o,l,c){function d(){var e=t.repeater;angular.isDefined(e)&&(r.cancel(e),e=null)}function u(){var n=t.state.refreshRate;t.repeater=r((function(){e.all({nodes:i.nodes(),services:s.services(),tasks:o.tasks()}).then((function(e){var n=e.nodes;t.nodes=n;var a=e.services;t.services=a;var r=e.tasks;t.tasks=r,p(n,a,r)})).catch((function(e){d(),l.error(\"Failure\",e,\"Unable to retrieve cluster information\")}))}),1e3*n)}function p(e,n,a){var r={};!function(e,t){for(var n=0;n<e.length;n++)for(var a=e[n],r=0;r<t.length;r++){var i=t[r];i.ServiceId===a.Id&&(i.ServiceName=a.Name)}}(n,a),function(e,t){for(var n=0;n<e.length;n++){var a=e[n];a.Tasks=[];for(var r=0;r<t.length;r++){var i=t[r];i.NodeId===a.Id&&a.Tasks.push(i)}}}(e,a),r.nodes=e,t.visualizerData=r}t.state={ShowInformationPanel:!0,DisplayOnlyRunningTasks:!1,DisplayNodeLabels:!1,refreshRate:\"5\"},t.$on(\"$destroy\",(function(){d()})),t.changeShowInformationPanel=function(e){t.state.ShowInformationPanel=e,c.storeSwarmVisualizerSettings(\"show_info_panel\",e)},t.changeDisplayOnlyRunningTasks=function(){var e=t.state.DisplayOnlyRunningTasks;c.storeSwarmVisualizerSettings(\"display_only_running_tasks\",e)},t.changeDisplayNodeLabels=function(){var e=t.state.DisplayNodeLabels;c.storeSwarmVisualizerSettings(\"display_node_labels\",e)},t.changeUpdateRepeater=function(){d(),u(),a(\"#refreshRateChange\").show(),a(\"#refreshRateChange\").fadeOut(1500),c.storeSwarmVisualizerSettings(\"refresh_rate\",t.state.refreshRate)},e.all({nodes:i.nodes(),services:s.services(),tasks:o.tasks()}).then((function(e){var n=e.nodes;t.nodes=n;var a=e.services;t.services=a;var r=e.tasks;t.tasks=r,p(n,a,r),u()})).catch((function(e){l.error(\"Failure\",e,\"Unable to initialize cluster visualizer\")})),function(){var e=c.getSwarmVisualizerSettings(\"show_info_panel\");null!=e&&(t.state.ShowInformationPanel=e);var n=c.getSwarmVisualizerSettings(\"display_only_running_tasks\");null!=n&&(t.state.DisplayOnlyRunningTasks=n);var a=c.getSwarmVisualizerSettings(\"display_node_labels\");null!=a&&(t.state.DisplayNodeLabels=a);var r=c.getSwarmVisualizerSettings(\"refresh_rate\");null!=r&&(t.state.refreshRate=r)}()}])},75349:function(){angular.module(\"portainer.docker\").controller(\"TaskController\",[\"$scope\",\"$transition$\",\"TaskService\",\"ServiceService\",\"Notifications\",function(e,t,n,a,r){n.task(t.params().id).then((function(t){var n=t;return e.task=n,a.service(n.ServiceId)})).then((function(t){var n=t;e.service=n})).catch((function(e){r.error(\"Failure\",e,\"Unable to retrieve task details\")}))}])},93356:function(e,t,n){\"use strict\";n.r(t);var a=n(4396),r=n.n(a);angular.module(\"portainer.docker\").controller(\"TaskLogsController\",[\"$scope\",\"$transition$\",\"$interval\",\"TaskService\",\"ServiceService\",\"Notifications\",function(e,t,n,a,i,s){function o(){var t=e.repeater;angular.isDefined(t)&&(n.cancel(t),t=null)}function l(){var i=e.state.refreshRate;e.repeater=n((function(){a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,r()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t})).catch((function(e){o(),s.error(\"Failure\",e,\"Unable to retrieve task logs\")}))}),1e3*i)}e.state={refreshRate:3,lineCount:100,sinceTimestamp:\"\",displayTimestamps:!1},e.changeLogCollection=function(e){e?l():o()},e.$on(\"$destroy\",(function(){o()})),a.task(t.params().id).then((function(t){var n=t;return e.task=n,i.service(n.ServiceId)})).then((function(n){var i=n;e.service=i,a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,r()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t,l()})).catch((function(e){o(),s.error(\"Failure\",e,\"Unable to retrieve task logs\")}))})).catch((function(e){s.error(\"Failure\",e,\"Unable to retrieve task details\")}))}])},63137:function(){function e(e,t,n,a){e.volumeId=t.params().id,e.nodeName=t.params().nodeName,e.agentApiVersion=n.getAgentApiVersion(),e.endpointId=a.Id}e.$inject=[\"$scope\",\"$transition$\",\"StateManager\",\"endpoint\"],angular.module(\"portainer.docker\").controller(\"BrowseVolumeController\",e)},61362:function(e,t,n){\"use strict\";n.r(t);var a=n(19898),r=n(4819),i=n(86668);angular.module(\"portainer.docker\").controller(\"CreateVolumeController\",[\"$q\",\"$scope\",\"$state\",\"VolumeService\",\"PluginService\",\"ResourceControlService\",\"Authentication\",\"Notifications\",\"FormValidator\",\"HttpRequestHelper\",function(e,t,n,s,o,l,c,d,u,p){var m;t.formValues={Driver:\"local\",DriverOptions:[],AccessControlData:new a.AccessControlFormData,NodeName:null,NFSData:new r.VolumesNFSFormData,CIFSData:new i.VolumesCIFSFormData},t.state={formValidationError:\"\",actionInProgress:!1},t.availableVolumeDrivers=[],t.addDriverOption=function(){t.formValues.DriverOptions.push({name:\"\",value:\"\"})},t.removeDriverOption=function(e){t.formValues.DriverOptions.splice(e,1)},t.create=function(){var e=t.formValues.Name,a=t.formValues.Driver,r=t.formValues.DriverOptions;t.formValues.NFSData.useNFS&&function(e){var n=t.formValues.NFSData;e.push({name:\"type\",value:\"nfs\"});var a=\"addr=\"+n.serverAddress+\",\"+n.options;\"NFS4\"===n.version&&(a+=\",nfsvers=4\"),e.push({name:\"o\",value:a});var r=\":\"===n.mountPoint[0]?n.mountPoint:\":\"+n.mountPoint;e.push({name:\"device\",value:r})}(r),t.formValues.CIFSData.useCIFS&&function(e){const n=t.formValues.CIFSData;e.push({name:\"type\",value:\"cifs\"});let a=n.share.replace(\"\\\\\",\"/\");\"/\"!==a[0]&&(a=\"/\"+a);const r=\"//\"+n.serverAddress+a;e.push({name:\"device\",value:r});const i=n.versionsNumber[n.versions.indexOf(n.version)],s=\"addr=\"+n.serverAddress+\",username=\"+n.username+\",password=\"+n.password+\",vers=\"+i;e.push({name:\"o\",value:s})}(r);var i=s.createVolumeConfiguration(e,a,r),o=t.formValues.AccessControlData,m=c.getUserDetails(),g=c.isAdmin();if(function(e,n){var a;return t.state.formValidationError=\"\",!(a=u.validateAccessControl(e,n))||(t.state.formValidationError=a,!1)}(o,g)){var h=t.formValues.NodeName;p.setPortainerAgentTargetHeader(h),t.state.actionInProgress=!0,s.createVolume(i).then((function(e){const t=m.ID,n=e.ResourceControl;return l.applyResourceControl(t,o,n)})).then((function(){d.success(\"Volume successfully created\"),n.go(\"docker.volumes\",{},{reload:!0})})).catch((function(e){d.error(\"Failure\",e,\"An error occured during volume creation\")})).finally((function(){t.state.actionInProgress=!1}))}},m=t.applicationState.endpoint.apiVersion,o.volumePlugins(m<1.25).then((function(e){t.availableVolumeDrivers=e})).catch((function(e){d.error(\"Failure\",e,\"Unable to retrieve volume drivers\")}))}])},28862:function(e,t,n){\"use strict\";n.r(t);var a=n(30424);angular.module(\"portainer.docker\").controller(\"VolumeController\",[\"$scope\",\"$state\",\"$transition$\",\"$q\",\"ModalService\",\"VolumeService\",\"ContainerService\",\"Notifications\",\"HttpRequestHelper\",function(e,t,n,r,i,s,o,l,c){e.resourceType=a.O.Volume,e.onUpdateResourceControlSuccess=function(){t.reload()},e.removeVolume=function(){i.confirmDeletion(\"Do you want to remove this volume?\",(a=>{a&&s.remove(e.volume).then((function(){l.success(\"Volume successfully removed\",n.params().id),t.go(\"docker.volumes\",{})})).catch((function(e){l.error(\"Failure\",e,\"Unable to remove volume\")}))}))},c.setPortainerAgentTargetHeader(n.params().nodeName),s.volume(n.params().id).then((function(t){var n=t;e.volume=n;var a={volume:[n.Id]};return o.containers(1,a)})).then((function(t){var n=(e.isCioDriver?t.containers:t).map((function(t){return t.volumeData=function(e,t){return e.Mounts.find((function(e){return e.Name===t}))}(t,e.volume.Id),t}));e.containersUsingVolume=n})).catch((function(e){l.error(\"Failure\",e,\"Unable to retrieve volume details\")}))}])},6002:function(e,t,n){\"use strict\";n.r(t);var a=n(70589);angular.module(\"portainer.docker\").controller(\"VolumesController\",[\"$q\",\"$scope\",\"$state\",\"VolumeService\",\"ServiceService\",\"VolumeHelper\",\"Notifications\",\"HttpRequestHelper\",\"Authentication\",\"ModalService\",\"endpoint\",function(e,t,n,r,i,s,o,l,c,d,u){function p(){var n=t.applicationState.endpoint.mode.provider,l=t.applicationState.endpoint.mode.role;e.all({attached:r.volumes({filters:{dangling:[\"false\"]}}),dangling:r.volumes({filters:{dangling:[\"true\"]}}),services:\"DOCKER_SWARM_MODE\"===n&&\"MANAGER\"===l?i.services():[]}).then((function(e){var n=e.services;t.offlineMode=(0,a.isOfflineEndpoint)(u),t.volumes=e.attached.map((function(e){return e.dangling=!1,e})).concat(e.dangling.map((function(e){return e.dangling=!0,s.isVolumeUsedByAService(e,n)&&(e.dangling=!1),e})))})).catch((function(e){o.error(\"Failure\",e,\"Unable to retrieve volumes\")}))}t.removeAction=function(e){d.confirmDeletion(\"Do you want to remove the selected volume(s)?\",(a=>{if(a){var i=e.length;angular.forEach(e,(function(e){l.setPortainerAgentTargetHeader(e.NodeName),r.remove(e).then((function(){o.success(\"Volume successfully removed\",e.Id);var n=t.volumes.indexOf(e);t.volumes.splice(n,1)})).catch((function(e){o.error(\"Failure\",e,\"Unable to remove volume\")})).finally((function(){0==--i&&n.reload()}))}))}}))},t.offlineMode=!1,t.getVolumes=p,p(),t.showBrowseAction=t.applicationState.endpoint.mode.agentProxy&&(c.isAdmin()||u.SecuritySettings.allowVolumeBrowserForRegularUsers)}])},11829:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(6142),s=(n(20493),n(66960)),o=n(83810),l=n(64858),c=r().module(\"app.edge.components\",[]).component(\"edgeScriptForm\",(0,s.A)(o.y,[\"edgeInfo\",\"commands\",\"isNomadTokenVisible\"])).component(\"edgeCheckinIntervalField\",l.v).name,d=n(89023),u=n(8755),p=n(58852),m=n(86064),g=(n(40516),n(83294)),h=(n(65562),n(57592),n(92429),n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(66076),n(77072),n(4450)),f=n(87227),v=n(75698),b=n(15362),y=n(96973),w=n(7346),x=n(48625),S=n(46021),C=(n(40958),n(50527),n(51641));n(6811);var k=n(2629),$=(0,s.A)((function(){var e=(0,d.useRouter)(),t=(0,m.LH)({edgeDeviceFilter:\"untrusted\"});return t.environments,t.isLoading,t.totalCount,e.stateService.go(\"edge.devices\"),null}),[]),A=r().module(\"portainer.edge.react.components\",[]).name,P=r().module(\"portainer.edge.react.views\",[]).name,I=r().module(\"portainer.edge.react\",[P,A]).name,T=n(95004),N=n(78322),E=n(22589),R=n(27749),D=(n(19992),n(15556),n(50033),n(66549),n(47097),n(98191),n(62176),n(73903)),O=n(86103),V=n.n(O),U=(n(78495),n(43321)),j=n(42877),F=n(56713),L=n(90476);function _(e){var t=e.children;return(0,k.jsx)(\"div\",{className:\"app-portainer-components-datatables-components-InnerDatatable-module__inner-datatable\",children:t})}var M=n(76827);function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var B=(0,T.createContext)(null);function H(e){var t,n,a=e.environmentId,r=e.children,i=(0,T.useReducer)((function(e){return!e}),!1),s=(n=2,function(e){if(Array.isArray(e))return e}(t=i)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),o=s[0],l=s[1],c=(0,T.useMemo)((function(){return{isLoading:o,toggleIsLoading:l,environmentId:a}}),[o,l,a]);return(0,k.jsx)(B.Provider,{value:c,children:r})}function G(){var e=(0,T.useContext)(B);if(!e)throw new Error(\"should be nested under RowProvider\");return e}var z,q,W={Header:\"Hostname\",accessor:function(e){return e.hostname||\"-\"},id:\"hostname\",disableFilters:!0,canHide:!0,sortType:\"string\",Filter:function(){return null}},Y=n(39532),Q={Header:\"MPS Status\",id:\"status\",disableFilters:!0,canHide:!0,sortType:\"string\",Cell:function(e){var t=e.row.original;return(0,k.jsx)(\"span\",{className:(0,Y.Z)({\"text-success\":t.connectionStatus}),children:t.connectionStatus?\"Connected\":\"Disconnected\"})},Filter:function(){return null}};!function(e){e.Running=\"Running\",e.Sleep=\"Sleep\",e.Off=\"Off\",e.Hibernate=\"Hibernate\",e.PowerCycle=\"Power Cycle\"}(z||(z={})),function(e){e[e.On=2]=\"On\",e[e.SleepLight=3]=\"SleepLight\",e[e.SleepDeep=4]=\"SleepDeep\",e[e.OffHard=6]=\"OffHard\",e[e.Hibernate=7]=\"Hibernate\",e[e.OffSoft=8]=\"OffSoft\",e[e.PowerCycle=9]=\"PowerCycle\",e[e.OffHardGraceful=13]=\"OffHardGraceful\"}(q||(q={}));var Z={Header:\"Power State\",accessor:function(e){return J(e.powerState)},id:\"powerState\",disableFilters:!0,canHide:!0,sortType:\"string\",Cell:function(e){var t=e.row.original,n=G().isLoading;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(\"span\",{className:(0,Y.Z)({\"text-success\":t.powerState===q.On}),children:J(t.powerState)}),(0,k.jsx)(\"span\",{children:n&&(0,k.jsx)(\"i\",{className:\"fa fa-cog fa-spin space-left\"})})]})},Filter:function(){return null}};function J(e){switch(e){case q.On:return z.Running;case q.SleepLight:case q.SleepDeep:return z.Sleep;case q.OffHard:case q.OffSoft:case q.OffHardGraceful:return z.Off;case q.Hibernate:return z.Hibernate;case q.PowerCycle:return z.PowerCycle;default:return\"-\"}}var X=n(30335);function ee(e){var t=e.children;return(0,k.jsx)(X.v2,{className:\"app-portainer-components-datatables-components-ActionsMenu-module__actions\",children:function(e){var n=e.isExpanded;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(X.j2,{className:(0,Y.Z)(\"app-portainer-components-datatables-components-ActionsMenu-module__table-actions-menu-btn\",n&&\"app-portainer-components-datatables-components-ActionsMenu-module__actions-active\"),children:(0,k.jsx)(\"i\",{className:\"fa fa-ellipsis-v\",\"aria-hidden\":\"true\"})}),(0,k.jsx)(X.qy,{children:(0,k.jsx)(\"div\",{className:\"app-portainer-components-datatables-components-ActionsMenu-module__table-actions-menu-list\",children:t})})]})}})}var te,ne=n(46980);function ae(e){var t=e.children;return(0,k.jsx)(\"div\",{className:\"app-portainer-components-datatables-components-ActionsMenuTitle-module__table-actions-title\",children:t})}function re(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){re(i,a,r,s,o,\"next\",e)}function o(e){re(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}!function(e){e.PowerOn=\"power on\",e.PowerOff=\"power off\",e.Restart=\"restart\"}(te||(te={}));var se={Header:\"Actions\",accessor:function(){return\"actions\"},id:\"actions\",disableFilters:!0,canHide:!0,disableResizing:!0,width:\"5px\",sortType:\"string\",Filter:function(){return null},Cell:function(e){var t=e.row.original,n=(0,C.useQueryClient)(),a=G(),r=a.isLoading,i=a.toggleIsLoading,s=a.environmentId,o=(0,d.useSref)(\"portainer.endpoints.endpoint.kvm\",{id:s,deviceId:t.guid,deviceName:t.hostname});return(0,k.jsxs)(ee,{children:[(0,k.jsx)(ae,{children:\"AMT Functions\"}),(0,k.jsx)(X.sN,{disabled:r,onSelect:function(){return l(te.PowerOn)},children:\"Power ON\"}),(0,k.jsx)(X.sN,{disabled:r,onSelect:function(){return l(te.PowerOff)},children:\"Power OFF\"}),(0,k.jsx)(X.sN,{disabled:r,onSelect:function(){return l(te.Restart)},children:\"Restart\"}),(0,k.jsx)(X.Uk,{href:o.href,onClick:o.onClick,disabled:r,children:\"KVM\"})]});function l(e){return c.apply(this,arguments)}function c(){return(c=ie(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ne.l9)({title:\"Confirm action\",message:\"Are you sure you want to \".concat(a,\" the device?\"),buttons:{cancel:{label:\"Cancel\",className:\"btn-default\"},confirm:{label:\"Confirm\",className:\"btn-primary\"}}});case 2:if(e.sent){e.next=5;break}return e.abrupt(\"return\");case 5:return e.prev=5,i(),e.next=9,(0,M.aP)(s,t.guid,a);case 9:return S.Vp(\"\".concat(a,\" action sent successfully\"),t.hostname),e.next=12,n.invalidateQueries([\"amt_devices\",s]);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),S.vU(\"Failure\",e.t0,\"Failed to \".concat(a,\" the device\"));case 17:return e.prev=17,i(),e.finish(17);case 20:case\"end\":return e.stop()}}),e,null,[[5,14,17,20]])})))).apply(this,arguments)}}};function oe(e){var t=e.environmentId,n=(0,T.useMemo)((function(){return[W,Q,Z,se]}),[]),a=function(e){var t=(0,C.useQuery)([\"amt_devices\",e],(function(){return(0,M.PW)(e)})),n=t.isLoading,a=t.data,r=t.isError,i=t.error;return(0,T.useEffect)((function(){r&&S.vU(\"Failure\",i,\"Failed retrieving AMT devices\")}),[r,i]),{isLoading:n,devices:(0,T.useMemo)((function(){return a||[]}),[a]),error:r?i:void 0}}(t),r=a.isLoading,i=a.devices,s=a.error,o=(0,h.useTable)({columns:n,data:i},h.usePagination),l=o.getTableProps,c=o.getTableBodyProps,d=o.headerGroups,u=o.page,p=o.prepareRow,m=l(),g=c();return(0,k.jsx)(_,{children:(0,k.jsx)(b.xJ,{children:(0,k.jsxs)(b.iA,{className:m.className,role:m.role,style:m.style,children:[(0,k.jsx)(\"thead\",{children:d.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,a=t.className,r=t.role,i=t.style;return(0,k.jsx)(b.KA,{className:a,role:r,style:i,headers:e.headers},n)}))}),(0,k.jsx)(\"tbody\",{className:g.className,role:g.role,style:g.style,children:!r&&i&&i.length>0?u.map((function(e){p(e);var n=e.getRowProps(),a=n.key,r=n.className,i=n.role,s=n.style;return(0,k.jsx)(H,{environmentId:t,children:(0,k.jsx)(b.SC,{cells:e.cells,className:r,role:i,style:s},a)},a)})):(0,k.jsx)(\"tr\",{children:(0,k.jsx)(\"td\",{colSpan:5,className:\"text-center text-muted\",children:le(r,s)})})})]})})})}function le(e,t){return e?\"Loading...\":t?t.message:\"No devices found\"}var ce=n(77918),de=n(31848),ue=n(64062);function pe(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function me(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){pe(i,a,r,s,o,\"next\",e)}function o(e){pe(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function ge(e){var t=e.selectedItems,n=e.isOpenAMTEnabled,a=e.isFDOEnabled,r=e.setLoadingMessage,i=e.showWaitingRoomLink,s=(0,d.useRouter)();return(0,k.jsxs)(\"div\",{className:\"actionBar\",children:[(0,k.jsxs)(v.zx,{disabled:t.length<1,color:\"danger\",onClick:function(){return function(){return o.apply(this,arguments)}()},children:[(0,k.jsx)(\"i\",{className:\"fa fa-trash-alt space-right\",\"aria-hidden\":\"true\"}),\"Remove\"]}),(0,k.jsxs)(v.zx,{onClick:function(){return function(){return l.apply(this,arguments)}()},children:[(0,k.jsx)(\"i\",{className:\"fa fa-plus-circle space-right\",\"aria-hidden\":\"true\"}),\"Add Device\"]}),n&&(0,k.jsxs)(v.zx,{disabled:1!==t.length,onClick:function(){return function(e){return c.apply(this,arguments)}(t)},children:[(0,k.jsx)(\"i\",{className:\"fa fa-link space-right\",\"aria-hidden\":\"true\"}),\"Associate with OpenAMT\"]}),i&&(0,k.jsx)(ue.r,{to:\"edge.devices.waiting-room\",children:(0,k.jsx)(v.zx,{children:\"Waiting Room\"})})]});function o(){return o=me(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ne.l9)({title:\"Are you sure ?\",message:\"This action will remove all configurations associated to your environment(s). Continue?\",buttons:{confirm:{label:\"Remove\",className:\"btn-danger\"}}});case 2:if(e.sent){e.next=5;break}return e.abrupt(\"return\");case 5:return e.next=7,Promise.all(t.map(function(){var e=me(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,de.xr)(t.Id);case 3:S.Vp(\"Environment successfully removed\",t.Name),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),S.vU(\"Failure\",e.t0,\"Unable to remove environment\");case 9:case\"end\":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.next=9,s.stateService.reload();case 9:case\"end\":return e.stop()}}),e)}))),o.apply(this,arguments)}function l(){return(l=me(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return s.stateService.go(\"portainer.endpoints.newEdgeDevice\"),e.abrupt(\"return\");case 3:return e.next=5,(0,ce.SW)({title:\"How would you like to add an Edge Device?\",inputType:\"radio\",inputOptions:[{text:\"Provision bare-metal using Intel FDO\",value:\"FDO\"},{text:\"Deploy agent manually\",value:\"MANUAL\"}],buttons:{confirm:{label:\"Confirm\",className:\"btn-primary\"}}});case 5:t=e.sent,e.t0=t,e.next=\"FDO\"===e.t0?9:\"MANUAL\"===e.t0?11:13;break;case 9:return s.stateService.go(\"portainer.endpoints.importDevice\"),e.abrupt(\"break\",14);case 11:return s.stateService.go(\"portainer.endpoints.newEdgeDevice\"),e.abrupt(\"break\",14);case 13:return e.abrupt(\"break\",14);case 14:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return c=me(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[0],e.next=3,(0,ne.l9)({title:\"\",message:\"Associate \".concat(n.Name,\" with OpenAMT\"),buttons:{cancel:{label:\"Cancel\",className:\"btn-default\"},confirm:{label:\"Confirm\",className:\"btn-primary\"}}});case 3:if(e.sent){e.next=6;break}return e.abrupt(\"return\");case 6:return e.prev=6,r(\"Activating Active Management Technology on selected device...\"),e.next=10,(0,M.xq)(n.Id);case 10:S.Vp(\"Successfully associated with OpenAMT\",n.Name),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),S.vU(\"Failure\",e.t0,\"Unable to associate with OpenAMT\");case 16:return e.prev=16,r(\"\"),e.finish(16);case 19:case\"end\":return e.stop()}}),e,null,[[6,13,16,19]])}))),c.apply(this,arguments)}}var he=n(86557);function fe(){var e=(0,u.h)(),t=e.settings,n=e.setTableSettings;return(0,k.jsx)(he.k,{value:t.autoRefreshRate,onChange:function(e){n({autoRefreshRate:e})}})}var ve=(0,T.createContext)(null);function be(e){var t=e.groupName,n=e.isOpenAmtEnabled,a=e.children,r=(0,T.useMemo)((function(){return{groupName:t,isOpenAmtEnabled:n}}),[t,n]);return(0,k.jsx)(ve.Provider,{value:r,children:a})}function ye(){var e=(0,T.useContext)(ve);if(!e)throw new Error(\"should be nested under RowProvider\");return e}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e){var t,n=e.row,a=e.showExpandArrow,r=e.children;return(0,k.jsxs)(k.Fragment,{children:[a&&(0,k.jsx)(\"button\",{type:\"button\",className:\"app-portainer-components-datatables-components-ExpandingCell-module__expand-button\",children:(0,k.jsx)(\"i\",xe(xe({},n.getToggleRowExpandedProps()),{},{className:\"fas \".concat((t=n.isExpanded,t?\"fa-angle-down\":\"fa-angle-right\"),\" space-right\"),\"aria-hidden\":\"true\"}))}),r]})}var ke={Header:\"Name\",accessor:function(e){return e.Name},id:\"name\",Cell:function(e){var t=e.value,n=e.row,a=!!(ye().isOpenAmtEnabled&&n.original.AMTDeviceGUID&&n.original.AMTDeviceGUID.length>0);return(0,k.jsx)(Ce,{row:n,showExpandArrow:a,children:(0,k.jsx)(ue.r,{to:\"portainer.endpoints.endpoint\",params:{id:n.original.Id},title:t,children:t})})},disableFilters:!0,Filter:function(){return null},canHide:!1,sortType:\"string\"},$e=n(63504),Ae={Header:\"Heartbeat\",accessor:\"Status\",id:\"status\",Cell:function(e){var t=e.row.original;return(0,k.jsx)($e.x,{environment:t})},disableFilters:!0,canHide:!0},Pe={Header:\"Group\",accessor:function(e){return e.GroupId},Cell:function(){return ye().groupName},id:\"groupName\",Filter:n(55552).t,canHide:!0},Ie=n(57941),Te={Header:\"Actions\",accessor:function(){return\"actions\"},id:\"actions\",disableFilters:!0,canHide:!0,disableResizing:!0,width:\"5px\",sortType:\"string\",Filter:function(){return null},Cell:function(e){var t=e.row.original,n=((0,d.useRouter)(),(0,Ie.Bv)(t)),a=(0,d.useSref)(n,{id:t.Id,endpointId:t.Id});return(0,k.jsxs)(ee,{children:[(0,k.jsx)(X.Uk,{href:a.href,onClick:a.onClick,children:\"Browse\"}),!1]})}};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e){var t=e.isFdoEnabled,n=e.isOpenAmtEnabled,a=e.showWaitingRoomLink,r=e.mpsServer,i=e.dataset,s=e.onChangeSearch,o=e.search,l=e.groups,c=e.setLoadingMessage,d=e.pagination,p=e.onChangePagination,m=e.totalCount,v=(0,u.h)(),S=v.settings,C=v.setTableSettings,$=(0,T.useMemo)((function(){return[ke,Ae,Pe,Te]}),[]),A=(0,h.useTable)({defaultCanFilter:!1,columns:$,data:i,filterTypes:{multiple:U.m},initialState:{hiddenColumns:S.hiddenColumns,sortBy:[S.sortBy]},isRowSelectable:function(){return!0},autoResetExpanded:!1,autoResetSelectedRows:!1,getRowId:function(e){return e.Id.toString()},selectColumnWidth:5},h.useFilters,h.useSortBy,h.useExpanded,F.i,f.M_),P=A.getTableProps,I=A.getTableBodyProps,N=A.headerGroups,E=A.rows,R=A.prepareRow,D=A.selectedFlatRows,O=A.allColumns,_=A.setHiddenColumns,M=O.filter((function(e){var t=$.find((function(t){return t.id===e.id}));return null==t?void 0:t.canHide})),K=P(),B=I(),H=i.some((function(e){return e.AMTDeviceGUID&&\"\"!==e.AMTDeviceGUID})),G=V()(l,\"Id\");return(0,k.jsx)(\"div\",{className:\"row\",children:(0,k.jsx)(\"div\",{className:\"col-sm-12\",children:(0,k.jsxs)(b.xJ,{children:[(0,k.jsx)(b.lw,{icon:\"fa-plug\",label:\"Edge Devices\",children:(0,k.jsxs)(b.MQ,{children:[(0,k.jsx)(j.a,{columns:M,onChange:function(e){_(e),C((function(t){return Ee(Ee({},t),{},{hiddenColumns:e})}))},value:S.hiddenColumns}),(0,k.jsx)(b.I6,{children:(0,k.jsx)(fe,{})})]})}),(0,k.jsx)(b.p2,{children:(0,k.jsx)(ge,{selectedItems:D.map((function(e){return e.original})),isFDOEnabled:t,isOpenAMTEnabled:n,setLoadingMessage:c,showWaitingRoomLink:a})}),n&&H&&(0,k.jsx)(\"div\",{className:\"app-edge-EdgeDevices-EdgeDevicesView-EdgeDevicesDatatable-EdgeDevicesDatatable-module__kvm-tip\",children:(0,k.jsxs)(g.a,{color:\"blue\",children:[\"For the KVM function to work you need to have the MPS server added to your trusted site list, browse to this\",\" \",(0,k.jsx)(\"a\",{href:\"https://\".concat(r),target:\"_blank\",rel:\"noreferrer\",className:\"space-right\",children:\"site\"}),\"and add to your trusted site list\"]})}),(0,k.jsx)(y.E,{value:o,onChange:function(e){s(e)}}),(0,k.jsxs)(b.iA,{className:K.className,role:K.role,style:K.style,children:[(0,k.jsx)(\"thead\",{children:N.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,a=t.className,r=t.role,i=t.style;return(0,k.jsx)(b.KA,{className:a,role:r,style:i,headers:e.headers,onSortChange:z},n)}))}),(0,k.jsx)(\"tbody\",{className:B.className,role:B.role,style:B.style,children:(0,k.jsx)(b.iA.Content,{prepareRow:R,rows:E,renderRow:function(e,t){var a,r=t.key,i=t.className,s=t.role,o=t.style,l=G[e.original.GroupId];return(0,k.jsxs)(be,{isOpenAmtEnabled:n,groupName:null===(a=l[0])||void 0===a?void 0:a.Name,children:[(0,k.jsx)(b.SC,{cells:e.cells,className:i,role:s,style:o},r),e.isExpanded&&(0,k.jsxs)(\"tr\",{children:[(0,k.jsx)(\"td\",{}),(0,k.jsx)(\"td\",{colSpan:e.cells.length-1,children:(0,k.jsx)(oe,{environmentId:e.original.Id})})]})]},r)}})})]}),(0,k.jsxs)(L.y,{children:[(0,k.jsx)(w.V,{value:D.length}),(0,k.jsx)(x.j,{isPageInputVisible:!0,pageLimit:d.pageLimit,page:d.page,onPageChange:function(e){p({page:e})},totalCount:m,onPageLimitChange:function(e){(function(e){p({pageLimit:e})})(e),C((function(t){return Ee(Ee({},t),{},{pageSize:e})}))}})]})]})})});function z(e,t){C((function(n){return Ee(Ee({},n),{},{sortBy:{id:e,desc:t}})}))}}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e){var t=Object.assign({},e),n=\"edgeDevices\";return(0,k.jsx)(u.U,{defaults:{autoRefreshRate:0,hiddenQuickActions:[],hiddenColumns:[],pageSize:10,sortBy:{id:\"state\",desc:!1}},storageKey:n,children:(0,k.jsx)(_e,{storageKey:n,children:function(e){var a=e.environments,r=e.pagination,i=e.totalCount,s=e.setPagination,o=e.search,l=e.setSearch;return(0,k.jsx)(De,je(je({},t),{},{storageKey:n,dataset:a,pagination:r,onChangePagination:s,totalCount:i,search:o,onChangeSearch:l}))}})})}function _e(e){var t=e.children,n=e.storageKey,a=(0,u.h)().settings,r=Oe((0,T.useState)({pageLimit:a.pageSize,page:1}),2),i=r[0],s=r[1],o=Oe((0,y.I)(n),2),l=o[0],c=o[1],d=(0,D.N)(l),p=(0,m.LH)(je({edgeDeviceFilter:\"trusted\",search:d},i),1e3*a.autoRefreshRate),g=p.environments,h=p.isLoading,f=p.totalCount;return h?null:(0,k.jsx)(k.Fragment,{children:t({environments:g,totalCount:f,pagination:i,setPagination:function(e){s((function(t){return je(je({},t),e)}))},search:l,setSearch:c})})}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ke=(0,s.A)((function(){var e,t,n=(e=(0,T.useState)(\"\"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),a=n[0],r=n[1],i=(0,N.rV)(),s=(0,E.X)();if(!i.data||!s.data)return null;var o=i.data;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(p.mr,{title:\"Edge Devices\",reload:!0,breadcrumbs:[{label:\"EdgeDevices\"}]}),a?(0,k.jsx)(R.d,{message:a}):(0,k.jsx)(Le,{setLoadingMessage:r,isFdoEnabled:o.EnableEdgeComputeFeatures&&o.fdoConfiguration.enabled,showWaitingRoomLink:!1,isOpenAmtEnabled:o.EnableEdgeComputeFeatures&&o.openAMTConfiguration.enabled,mpsServer:o.openAMTConfiguration.mpsServer,groups:s.data,storageKey:\"edgeDevices\"})]})}),[]);r().module(\"portainer.edge\",[i.default,c,I]).component(\"waitingRoomView\",$).component(\"edgeDevicesView\",Ke).config([\"$stateRegistryProvider\",function(e){e.register({name:\"edge.devices\",url:\"/devices\",views:{\"content@\":{component:\"edgeDevicesView\"}}}),e.register({name:\"edge\",url:\"/edge\",parent:\"root\",abstract:!0}),e.register({name:\"edge.groups\",url:\"/groups\",views:{\"content@\":{component:\"edgeGroupsView\"}}}),e.register({name:\"edge.groups.new\",url:\"/new\",views:{\"content@\":{component:\"createEdgeGroupView\"}}}),e.register({name:\"edge.groups.edit\",url:\"/:groupId\",views:{\"content@\":{component:\"editEdgeGroupView\"}}}),e.register({name:\"edge.stacks\",url:\"/stacks\",views:{\"content@\":{component:\"edgeStacksView\"}}}),e.register({name:\"edge.stacks.new\",url:\"/new\",views:{\"content@\":{component:\"createEdgeStackView\"}}}),e.register({name:\"edge.stacks.edit\",url:\"/:stackId\",views:{\"content@\":{component:\"editEdgeStackView\"}},params:{tab:0}}),e.register({name:\"edge.jobs\",url:\"/jobs\",views:{\"content@\":{component:\"edgeJobsView\"}}}),e.register({name:\"edge.jobs.job\",url:\"/:id\",views:{\"content@\":{component:\"edgeJobView\"}},params:{tab:0}}),e.register({name:\"edge.jobs.new\",url:\"/new\",views:{\"content@\":{component:\"createEdgeJobView\"}}})}])},24381:function(e,t,n){\"use strict\";n.r(t),n.d(t,{AssociatedEndpointsDatatableController:function(){return i}});var a=n(29274),r=n.n(a);class i{constructor(e,t,n,a){this.extendGenericController(t,e),this.DatatableService=n,this.PaginationService=a,this.state=Object.assign(this.state,{orderBy:this.orderBy,loading:!0,filteredDataSet:[],totalFilteredDataset:0,pageNumber:1}),this.onPageChange=this.onPageChange.bind(this),this.paginationChanged=this.paginationChanged.bind(this)}extendGenericController(e,t){const n=this.$onInit.bind(this),a=this.changePaginationLimit.bind(this),i=this.onTextFilterChange.bind(this);r().extend(this,e(\"GenericDatatableController\",{$scope:t})),this.$onInit=n,this.changePaginationLimit=a,this.onTextFilterChange=i}$onInit(){this.setDefaults(),this.prepareTableFromDataset();var e=this.DatatableService.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=this.DatatableService.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.paginationChanged()}$onChanges({updateKey:e}){e.currentValue&&!e.isFirstChange()&&this.paginationChanged()}onPageChange(e){this.state.pageNumber=e,this.paginationChanged()}changePaginationLimit(){this.PaginationService.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChanged()}onTextFilterChange(){var e=this.state.textFilter;this.DatatableService.setDataTableTextFilters(this.tableKey,e),this.paginationChanged()}paginationChanged(){this.state.loading=!0,this.state.filteredDataSet=[];const e=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1;this.retrievePage(e,this.state.paginatedItemLimit,this.state.textFilter).then((e=>{this.state.filteredDataSet=e.endpoints,this.state.totalFilteredDataSet=e.totalCount})).finally((()=>{this.state.loading=!1}))}}i.$inject=[\"$scope\",\"$controller\",\"DatatableService\",\"PaginationService\"]},34139:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(24381);const s=n(31140);r().module(\"portainer.edge\").component(\"associatedEndpointsDatatable\",{templateUrl:s,controller:i.AssociatedEndpointsDatatableController,bindings:{titleText:\"@\",titleIcon:\"@\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",retrievePage:\"<\",updateKey:\"<\"}})},72155:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);const i=n(18514);r().module(\"portainer.edge\").component(\"edgeGroupsSelector\",{templateUrl:i,bindings:{model:\"<\",items:\"<\",onChange:\"<\"}})},267:function(e,t,n){\"use strict\";n.r(t),n.d(t,{EdgeJobFormController:function(){return c}});var a=n(83432),r=n.n(a),i=n(44716),s=n.n(i),o=n(4396),l=n.n(o);class c{constructor(){this.state={formValidationError:\"\"},this.scheduleValues=[{displayed:\"Every hour\",cron:\"0 * * * *\"},{displayed:\"Every 2 hours\",cron:\"0 */2 * * *\"},{displayed:\"Every day\",cron:\"0 0 * * *\"}],this.formValues={datetime:l()(),scheduleValue:this.scheduleValues[0],cronMethod:\"basic\",method:\"editor\"},this.cronRegex=/(@(annually|yearly|monthly|weekly|daily|hourly|reboot))|(@every (\\d+(ns|us|\u00b5s|ms|s|m|h))+)|((((\\d+,)+\\d+|(\\d+(\\/|-)\\d+)|\\d+|\\*) ){4,6}((\\d+,)+\\d+|(\\d+(\\/|-)\\d+)|\\d+|\\*))/,this.action=this.action.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this)}onChangeModel(e){const t=l()().add(\"hours\",1);this.formValues={datetime:e.CronExpression?d(e.CronExpression,t):t,scheduleValue:this.formValues.scheduleValue,cronMethod:e.Recurring?\"advanced\":\"basic\",method:this.formValues.method}}action(){var e,t;this.state.formValidationError=\"\",\"editor\"!==this.formValues.method||\"\"!==this.model.FileContent?(\"basic\"===this.formValues.cronMethod?this.model.Recurring?this.model.CronExpression=this.formValues.scheduleValue.cron:this.model.CronExpression=(e=this.formValues.datetime,[(t=l()(e)).minutes(),t.hours(),t.date(),t.month()+1,\"*\"].join(\" \")):this.model.Recurring=!0,this.formAction(this.formValues.method)):this.state.formValidationError=\"Script file content must not be empty\"}editorUpdate(e){this.model.FileContent=e.getValue(),this.isEditorDirty=!0}associateEndpoint(e){s()(this.model.Endpoints,e.Id)||(this.model.Endpoints=[...this.model.Endpoints,e.Id])}dissociateEndpoint(e){this.model.Endpoints=r()(this.model.Endpoints,(t=>t!==e.Id))}$onInit(){this.onChangeModel(this.model)}}function d(e,t=l()()){var n=e.split(\" \");return n.length>4?(n=n.slice(0,4),l()(e,\"m H D M\")):t}c.$inject=[]},59788:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(267);const s=n(7422);r().module(\"portainer.edge\").component(\"edgeJobForm\",{templateUrl:s,controller:i.EdgeJobFormController,bindings:{model:\"=\",groups:\"<\",tags:\"<\",addLabelAction:\"<\",removeLabelAction:\"<\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\",isEditorDirty:\"=\"}})},11314:function(e,t,n){\"use strict\";n.r(t),n.d(t,{EdgeJobResultsDatatableController:function(){return o}});var a=n(99432),r=n.n(a),i=n(29274),s=n.n(i);class o{constructor(e,t,n){this.$state=n,s().extend(this,e(\"GenericDatatableController\",{$scope:t}))}collectLogs(...e){this.settings.repeater.autoRefresh=!0,this.settings.repeater.refreshRate=\"5\",this.onSettingsRepeaterChange(),this.onCollectLogsClick(...e)}$onChanges({dataset:e}){e&&e.currentValue&&this.onDatasetChange(e.currentValue)}onDatasetChange(e){const t=r()(e,(e=>2===e.LogsStatus));this.settings.repeater.autoRefresh=t,this.settings.repeater.refreshRate=\"5\",this.onSettingsRepeaterChange()}}o.$inject=[\"$controller\",\"$scope\",\"$state\"]},46642:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(11314);const s=n(88832);r().module(\"portainer.edge\").component(\"edgeJobResultsDatatable\",{templateUrl:s,controller:i.EdgeJobResultsDatatableController,bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",onDownloadLogsClick:\"<\",onCollectLogsClick:\"<\",onClearLogsClick:\"<\",refreshCallback:\"<\"}})},25758:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);const i=n(14186);r().module(\"portainer.edge\").component(\"edgeJobsDatatable\",{templateUrl:i,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\"}})},70830:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(){this.deploymentOptions=[{id:\"deployment_compose\",icon:\"fab fa-docker\",label:\"Compose\",description:\"docker-compose format\",value:0},{id:\"deployment_kube\",icon:\"fa fa-cubes\",label:\"Kubernetes\",description:\"Kubernetes manifest format\",value:1,disabled:()=>this.hasDockerEndpoint(),tooltip:()=>this.hasDockerEndpoint()?\"Cannot use this option with Edge Docker endpoints\":\"\"}]}}a.$inject=[]},60559:function(e,t,n){\"use strict\";n.r(t),n.d(t,{edgeStackDeploymentTypeSelector:function(){return s}});var a=n(29274),r=n.n(a),i=n(70830);const s={templateUrl:n(23423),controller:i.default,bindings:{value:\"<\",onChange:\"<\",hasDockerEndpoint:\"<\"}};r().module(\"portainer.edge\").component(\"edgeStackDeploymentTypeSelector\",s)},67383:function(e,t,n){\"use strict\";n.r(t),n.d(t,{EdgeStackEndpointsDatatableController:function(){return i}});var a=n(29274),r=n.n(a);class i{constructor(e,t,n,a,r,i){this.extendGenericController(n,t),this.DatatableService=a,this.PaginationService=r,this.Notifications=i,this.$async=e,this.state=Object.assign(this.state,{orderBy:this.orderBy,loading:!0,filteredDataSet:[],totalFilteredDataset:0,pageNumber:1}),this.onPageChange=this.onPageChange.bind(this),this.paginationChanged=this.paginationChanged.bind(this),this.paginationChangedAsync=this.paginationChangedAsync.bind(this),this.statusMap={1:\"OK\",2:\"Error\",3:\"Acknowledged\"}}extendGenericController(e,t){const n=this.$onInit.bind(this),a=this.changePaginationLimit.bind(this),i=this.onTextFilterChange.bind(this);r().extend(this,e(\"GenericDatatableController\",{$scope:t})),this.$onInit=n,this.changePaginationLimit=a,this.onTextFilterChange=i}$onInit(){this.setDefaults(),this.prepareTableFromDataset();var e=this.DatatableService.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=this.DatatableService.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.paginationChanged()}onPageChange(e){this.state.pageNumber=e,this.paginationChanged()}changePaginationLimit(){this.PaginationService.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChanged()}onTextFilterChange(){var e=this.state.textFilter;this.DatatableService.setDataTableTextFilters(this.tableKey,e),this.paginationChanged()}paginationChanged(){this.$async(this.paginationChangedAsync)}async paginationChangedAsync(){this.state.loading=!0,this.state.filteredDataSet=[];const e=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1;try{const{endpoints:t,totalCount:n}=await this.retrievePage(e,this.state.paginatedItemLimit,this.state.textFilter);this.state.filteredDataSet=t,this.state.totalFilteredDataSet=n}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environments\")}finally{this.state.loading=!1}}}i.$inject=[\"$async\",\"$scope\",\"$controller\",\"DatatableService\",\"PaginationService\",\"Notifications\"]},91505:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(67383);const s=n(77656);r().module(\"portainer.edge\").component(\"edgeStackEndpointsDatatable\",{templateUrl:s,controller:i.EdgeStackEndpointsDatatableController,bindings:{titleText:\"@\",titleIcon:\"@\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",retrievePage:\"<\"}})},794:function(e,t,n){\"use strict\";n.r(t),n.d(t,{EdgeStackStatusController:function(){return r}});const a={1:\"ok\",2:\"error\",3:\"acknowledged\"};class r{$onChanges({stackStatus:e}){if(!e||!e.currentValue)return;const t={ok:0,error:0,acknowledged:0};for(let n in e.currentValue){const r=e.currentValue[n];t[a[r.Type]]++}this.status=t}}},26342:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(794);const s=n(53501);r().module(\"portainer.edge\").component(\"edgeStackStatus\",{templateUrl:s,controller:i.EdgeStackStatusController,bindings:{stackStatus:\"<\"}})},70018:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);const i=n(3942);r().module(\"portainer.edge\").component(\"edgeStacksDatatable\",{templateUrl:i,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",refreshCallback:\"<\"}})},83205:function(e,t,n){\"use strict\";n.r(t),n.d(t,{EditEdgeStackFormController:function(){return r}});var a=n(74808);class r{constructor(){this.state={endpointTypes:[]},this.fileContents={0:\"\",1:\"\"},this.onChangeGroups=this.onChangeGroups.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeComposeConfig=this.onChangeComposeConfig.bind(this),this.onChangeKubeManifest=this.onChangeKubeManifest.bind(this),this.hasDockerEndpoint=this.hasDockerEndpoint.bind(this),this.hasKubeEndpoint=this.hasKubeEndpoint.bind(this),this.onChangeDeploymentType=this.onChangeDeploymentType.bind(this),this.removeLineBreaks=this.removeLineBreaks.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this)}hasKubeEndpoint(){return this.state.endpointTypes.includes(a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment)}hasDockerEndpoint(){return this.state.endpointTypes.includes(a.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment)}onChangeGroups(e){this.model.EdgeGroups=e,this.checkEndpointTypes(e)}isFormValid(){return this.model.EdgeGroups.length&&this.model.StackFileContent&&this.validateEndpointsForDeployment()}checkEndpointTypes(e){const t=e.map((e=>this.edgeGroups.find((t=>t.Id===e))));this.state.endpointTypes=t.flatMap((e=>e.EndpointTypes))}removeLineBreaks(e){return e.replace(/(\\r\\n|\\n|\\r)/gm,\"\")}onChangeFileContent(e,t){const n=this.fileContents[e];this.removeLineBreaks(n)!==this.removeLineBreaks(t)&&(this.model.StackFileContent=t,this.fileContents[e]=t,this.isEditorDirty=!0)}onChangeKubeManifest(e){this.onChangeFileContent(1,e)}onChangeComposeConfig(e){this.onChangeFileContent(0,e)}onChangeDeploymentType(e){this.model.DeploymentType=e,this.model.StackFileContent=this.fileContents[e]}validateEndpointsForDeployment(){return 0==this.model.DeploymentType||!this.hasDockerEndpoint()}$onInit(){this.checkEndpointTypes(this.model.EdgeGroups)}}r.$inject=[]},56037:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(83205);const s=n(51367);r().module(\"portainer.edge\").component(\"editEdgeStackForm\",{templateUrl:s,controller:i.EditEdgeStackFormController,bindings:{model:\"<\",actionInProgress:\"<\",submitAction:\"<\",edgeGroups:\"<\",isEditorDirty:\"=\"}})},88633:function(e,t,n){\"use strict\";n.r(t),n.d(t,{EdgeGroupFormController:function(){return l}});var a=n(83432),r=n.n(a),i=n(44716),s=n.n(i),o=n(46980);class l{constructor(e,t,n){this.EndpointService=e,this.$async=t,this.$scope=n,this.endpoints={state:{limit:\"10\",filter:\"\",pageNumber:1,totalCount:0},value:null},this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpointAsync=this.dissociateEndpointAsync.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this),this.getDynamicEndpointsAsync=this.getDynamicEndpointsAsync.bind(this),this.getDynamicEndpoints=this.getDynamicEndpoints.bind(this),this.onChangeTags=this.onChangeTags.bind(this),n.$watch((()=>this.model),(()=>{this.model.Dynamic&&this.getDynamicEndpoints()}),!0)}onChangeTags(e){return this.$scope.$evalAsync((()=>{this.model.TagIds=e}))}associateEndpoint(e){s()(this.model.Endpoints,e.Id)||(this.model.Endpoints=[...this.model.Endpoints,e.Id])}dissociateEndpoint(e){return this.$async(this.dissociateEndpointAsync,e)}async dissociateEndpointAsync(e){await(0,o.l9)({title:\"Confirm action\",message:\"Removing the environment from this group will remove its corresponding edge stacks\",buttons:{cancel:{label:\"Cancel\",className:\"btn-default\"},confirm:{label:\"Confirm\",className:\"btn-primary\"}}})&&(this.model.Endpoints=r()(this.model.Endpoints,(t=>t!==e.Id)))}getDynamicEndpoints(){return this.$async(this.getDynamicEndpointsAsync)}async getDynamicEndpointsAsync(){const{pageNumber:e,limit:t,search:n}=this.endpoints.state,a=(e-1)*t+1,r={search:n,types:[4,7],tagIds:this.model.TagIds,tagsPartialMatch:this.model.PartialMatch},i=await this.EndpointService.endpoints(a,t,r),s=parseInt(i.totalCount,10);this.endpoints.value=i.value,this.endpoints.state.totalCount=s}}l.$inject=[\"EndpointService\",\"$async\",\"$scope\"]},36906:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(88633);const s=n(68393);r().module(\"portainer.edge\").component(\"edgeGroupForm\",{templateUrl:s,controller:i.EdgeGroupFormController,bindings:{model:\"<\",groups:\"<\",formActionLabel:\"@\",formAction:\"<\",actionInProgress:\"<\",loaded:\"<\",pageType:\"@\"}})},9868:function(e,t,n){\"use strict\";n.r(t),n.d(t,{EdgeGroupsDatatableController:function(){return i}});var a=n(29274),r=n.n(a);class i{constructor(e,t){const n=this.allowSelection;r().extend(this,t(\"GenericDatatableController\",{$scope:e})),this.allowSelection=n.bind(this)}allowSelection(e){return!e.HasEdgeStack}}i.$inject=[\"$scope\",\"$controller\"]},36267:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(9868);const s=n(48384);r().module(\"portainer.edge\").component(\"edgeGroupsDatatable\",{templateUrl:s,controller:i.EdgeGroupsDatatableController,bindings:{dataset:\"<\",titleIcon:\"@\",tableKey:\"@\",orderBy:\"@\",removeAction:\"<\",updateAction:\"<\",reverseOrder:\"<\"}})},65658:function(e,t,n){\"use strict\";n.r(t);var a=n(29274);n.n(a)().module(\"portainer.edge\").factory(\"EdgeGroups\",[\"$resource\",\"API_ENDPOINT_EDGE_GROUPS\",function(e,t){return e(t+\"/:id/:action\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@Id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},96791:function(){function e(e,t){return e(t+\"/:id/tasks/:taskId/:action\",{},{query:{method:\"GET\",isArray:!0,params:{id:\"@id\"}},logFile:{method:\"GET\",params:{id:\"@id\",taskId:\"@taskId\",action:\"logs\"}},clearLogs:{method:\"DELETE\",params:{id:\"@id\",taskId:\"@taskId\",action:\"logs\"}},collectLogs:{method:\"POST\",params:{id:\"@id\",taskId:\"@taskId\",action:\"logs\"}}})}e.$inject=[\"$resource\",\"API_ENDPOINT_EDGE_JOBS\"],angular.module(\"portainer.edge\").factory(\"EdgeJobResults\",e)},2056:function(){function e(e,t){return e(t+\"/:id/:action\",{},{create:{method:\"POST\"},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},file:{method:\"GET\",params:{id:\"@id\",action:\"file\"}},tasks:{method:\"GET\",isArray:!0,params:{id:\"@id\",action:\"tasks\"}}})}e.$inject=[\"$resource\",\"API_ENDPOINT_EDGE_JOBS\"],angular.module(\"portainer.edge\").factory(\"EdgeJobs\",e)},86796:function(e,t,n){\"use strict\";n.r(t);var a=n(29274);n.n(a)().module(\"portainer.edge\").factory(\"EdgeStacks\",[\"$resource\",\"API_ENDPOINT_EDGE_STACKS\",function(e,t){return e(t+\"/:id/:action\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},file:{method:\"GET\",params:{id:\"@id\",action:\"file\"}}})}])},42163:function(e,t,n){\"use strict\";n.r(t);var a=n(29274);n.n(a)().module(\"portainer.edge\").factory(\"EdgeTemplates\",[\"$resource\",\"API_ENDPOINT_EDGE_TEMPLATES\",function(e,t){return e(t,{},{query:{method:\"GET\",isArray:!0}})}])},800:function(e,t,n){\"use strict\";n.r(t);var a=n(29274);n.n(a)().module(\"portainer.edge\").factory(\"EdgeGroupService\",[\"EdgeGroups\",function(e){return{group:function(t){return e.get({id:t}).$promise},groups:function(){return e.query({}).$promise},remove:function(t){return e.remove({id:t}).$promise},create:function(t){return e.create(t).$promise},update:function(t){return e.update(t).$promise}}}])},30221:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(82653);function s(e,t,n){var a={edgeJob:async function(t){try{return await e.get({id:t}).$promise}catch(e){throw{msg:\"Unable to retrieve edgeJob\",err:e}}},edgeJobs:async function(){try{return await e.query().$promise}catch(e){throw{msg:\"Unable to retrieve edgeJobs\",err:e}}},jobResults:async function(e){try{return await t.query({id:e}).$promise}catch(e){throw{msg:\"Unable to retrieve results associated to the edgeJob\",err:e}}},logFile:function(e,n){return t.logFile({id:e,taskId:n}).$promise},collectLogs:function(e,n){return t.collectLogs({id:e,taskId:n}).$promise},clearLogs:function(e,n){return t.clearLogs({id:e,taskId:n}).$promise},createEdgeJobFromFileContent:function(t){var n=new i.ScheduleCreateRequest(t);return e.create({method:\"string\"},n).$promise},createEdgeJobFromFileUpload:function(e){var t=new i.ScheduleCreateRequest(e);return n.createSchedule(t)},updateEdgeJob:function(t){var n=new i.ScheduleUpdateRequest(t);return e.update(n).$promise},remove:function(t){return e.remove({id:t}).$promise},getScriptFile:function(t){return e.file({id:t}).$promise}};return a}s.$inject=[\"EdgeJobs\",\"EdgeJobResults\",\"FileUploadService\"],r().module(\"portainer.edge\").factory(\"EdgeJobService\",s)},27527:function(e,t,n){\"use strict\";n.r(t);var a=n(29274);n.n(a)().module(\"portainer.edge\").factory(\"EdgeStackService\",[\"EdgeStacks\",\"FileUploadService\",function(e,t){return{stack:function(t){return e.get({id:t}).$promise},stacks:function(){return e.query({}).$promise},remove:function(t){return e.remove({id:t}).$promise},stackFile:async function(t){try{const{StackFileContent:n}=await e.file({id:t}).$promise;return n}catch(e){throw{msg:\"Unable to retrieve stack content\",err:e}}},updateStack:async function(t,n){return e.update({id:t},n).$promise},createStackFromFileContent:async function(t){try{return await e.create({method:\"string\"},t).$promise}catch(e){throw{msg:\"Unable to create the stack\",err:e}}},createStackFromFileUpload:async function(e,n){try{return await t.createEdgeStack(e,n)}catch(e){throw{msg:\"Unable to create the stack\",err:e}}},createStackFromGitRepository:async function(t,n){try{return await e.create({method:\"repository\"},{...t,RepositoryURL:n.RepositoryURL,RepositoryReferenceName:n.RepositoryReferenceName,FilePathInRepository:n.FilePathInRepository,RepositoryAuthentication:n.RepositoryAuthentication,RepositoryUsername:n.RepositoryUsername,RepositoryPassword:n.RepositoryPassword}).$promise}catch(e){throw{msg:\"Unable to create the stack\",err:e}}},update:function(t){return e.update(t).$promise}}}])},10993:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);class i{constructor(e){this.EdgeTemplates=e}edgeTemplates(){return this.EdgeTemplates.query().$promise}async edgeTemplate(e){const t=await fetch(e.stackFile);if(!t.ok)throw new Error(t.statusText);return t.text()}}i.$inject=[\"EdgeTemplates\"],r().module(\"portainer.edge\").service(\"EdgeTemplateService\",i)},44932:function(e,t,n){\"use strict\";n.r(t),n.d(t,{CreateEdgeGroupController:function(){return a}});class a{constructor(e,t,n,a,r){this.EdgeGroupService=e,this.GroupService=t,this.Notifications=n,this.$state=a,this.$async=r,this.state={actionInProgress:!1,loaded:!1},this.model={Name:\"\",Endpoints:[],Dynamic:!1,TagIds:[],PartialMatch:!1},this.createGroup=this.createGroup.bind(this),this.createGroupAsync=this.createGroupAsync.bind(this)}async $onInit(){const e=await this.GroupService.groups();this.endpointGroups=e,this.state.loaded=!0}createGroup(){return this.$async(this.createGroupAsync)}async createGroupAsync(){this.state.actionInProgress=!0;try{await this.EdgeGroupService.create(this.model),this.Notifications.success(\"Edge group successfully created\"),this.$state.go(\"edge.groups\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create edge group\")}finally{this.state.actionInProgress=!1}}}a.$inject=[\"EdgeGroupService\",\"GroupService\",\"Notifications\",\"$state\",\"$async\"]},35146:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(44932);const s=n(4690);r().module(\"portainer.edge\").component(\"createEdgeGroupView\",{templateUrl:s,controller:i.CreateEdgeGroupController})},62044:function(e,t,n){\"use strict\";n.r(t),n.d(t,{EdgeGroupsController:function(){return i}});var a=n(71204),r=n.n(a);class i{constructor(e,t,n,a){this.$async=e,this.$state=t,this.EdgeGroupService=n,this.Notifications=a,this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}async $onInit(){try{this.items=await this.EdgeGroupService.groups()}catch(e){this.items=[],this.Notifications.error(\"Failure\",e,\"Unable to retrieve Edge groups\")}}removeAction(e){return this.$async(this.removeActionAsync,e)}async removeActionAsync(e){for(let t of e)try{await this.EdgeGroupService.remove(t.Id),this.Notifications.success(\"Edge Group successfully removed\",t.Name),r()(this.items,t)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove Edge Group\")}this.$state.reload()}}i.$inject=[\"$async\",\"$state\",\"EdgeGroupService\",\"Notifications\"]},45359:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(62044);const s=n(52934);r().module(\"portainer.edge\").component(\"edgeGroupsView\",{templateUrl:s,controller:i.EdgeGroupsController})},23794:function(e,t,n){\"use strict\";n.r(t),n.d(t,{EditEdgeGroupController:function(){return a}});class a{constructor(e,t,n,a,r){this.EdgeGroupService=e,this.GroupService=t,this.Notifications=n,this.$state=a,this.$async=r,this.state={actionInProgress:!1,loaded:!1},this.updateGroup=this.updateGroup.bind(this),this.updateGroupAsync=this.updateGroupAsync.bind(this)}async $onInit(){const[e,t]=await Promise.all([this.GroupService.groups(),this.EdgeGroupService.group(this.$state.params.groupId)]);t||(this.Notifications.error(\"Failed to find edge group\",{}),this.$state.go(\"edge.groups\")),this.endpointGroups=e,this.model=t,this.state.loaded=!0}updateGroup(){return this.$async(this.updateGroupAsync)}async updateGroupAsync(){this.state.actionInProgress=!0;try{await this.EdgeGroupService.update(this.model),this.Notifications.success(\"Edge group successfully updated\"),this.$state.go(\"edge.groups\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update edge group\")}finally{this.state.actionInProgress=!1}}}a.$inject=[\"EdgeGroupService\",\"GroupService\",\"Notifications\",\"$state\",\"$async\"]},58188:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(23794);const s=n(25575);r().module(\"portainer.edge\").component(\"editEdgeGroupView\",{templateUrl:s,controller:i.EditEdgeGroupController})},8039:function(e,t,n){\"use strict\";n.r(t),n.d(t,{CreateEdgeJobViewController:function(){return a}});class a{constructor(e,t,n,a,r,i,s,o,l){this.state={actionInProgress:!1,isEditorDirty:!1},this.model={Name:\"\",Recurring:!1,CronExpression:\"\",Endpoints:[],FileContent:\"\",File:null},this.$async=e,this.$q=t,this.$state=n,this.$window=a,this.ModalService=r,this.Notifications=o,this.GroupService=s,this.EdgeJobService=i,this.TagService=l,this.create=this.create.bind(this),this.createEdgeJob=this.createEdgeJob.bind(this),this.createAsync=this.createAsync.bind(this)}create(e){return this.$async(this.createAsync,e)}async createAsync(e){this.state.actionInProgress=!0;try{await this.createEdgeJob(e,this.model),this.Notifications.success(\"Edge job successfully created\"),this.state.isEditorDirty=!1,this.$state.go(\"edge.jobs\",{},{reload:!0})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create Edge job\")}this.state.actionInProgress=!1}createEdgeJob(e,t){return\"editor\"===e?this.EdgeJobService.createEdgeJobFromFileContent(t):this.EdgeJobService.createEdgeJobFromFileUpload(t)}async uiCanExit(){if(this.model.FileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){try{const[e,t]=await Promise.all([this.GroupService.groups(),this.TagService.tags()]);this.groups=e,this.tags=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve page data\")}this.$window.onbeforeunload=()=>{if(this.model.FileContent&&this.state.isEditorDirty)return\"\"}}$onDestroy(){this.state.isEditorDirty=!1}}a.$inject=[\"$async\",\"$q\",\"$state\",\"$window\",\"ModalService\",\"EdgeJobService\",\"GroupService\",\"Notifications\",\"TagService\"]},47994:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(8039);const s=n(4913);r().module(\"portainer.edge\").component(\"createEdgeJobView\",{templateUrl:s,controller:i.CreateEdgeJobViewController})},87609:function(e,t,n){\"use strict\";n.r(t),n.d(t,{EdgeJobController:function(){return o}});var a=n(51235),r=n.n(a),i=n(66539),s=n.n(i);class o{constructor(e,t,n,a,r,i,s,o,l,c,d,u){this.state={actionInProgress:!1,showEditorTab:!1,isEditorDirty:!1},this.$async=e,this.$q=t,this.$state=n,this.$window=a,this.ModalService=r,this.EdgeJobService=i,this.EndpointService=s,this.FileSaver=o,this.GroupService=l,this.HostBrowserService=c,this.Notifications=d,this.TagService=u,this.update=this.update.bind(this),this.updateAsync=this.updateAsync.bind(this),this.downloadLogs=this.downloadLogs.bind(this),this.downloadLogsAsync=this.downloadLogsAsync.bind(this),this.collectLogs=this.collectLogs.bind(this),this.collectLogsAsync=this.collectLogsAsync.bind(this),this.clearLogs=this.clearLogs.bind(this),this.clearLogsAsync=this.clearLogsAsync.bind(this),this.refresh=this.refresh.bind(this),this.refreshAsync=this.refreshAsync.bind(this),this.showEditor=this.showEditor.bind(this)}update(){return this.$async(this.updateAsync)}async updateAsync(){const e=this.edgeJob;this.state.actionInProgress=!0;try{await this.EdgeJobService.updateEdgeJob(e),this.Notifications.success(\"Edge job successfully updated\"),this.state.isEditorDirty=!1,this.$state.go(\"edge.jobs\",{},{reload:!0})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update Edge job\")}this.state.actionInProgress=!1}downloadLogs(e){return this.$async(this.downloadLogsAsync,e)}async downloadLogsAsync(e){try{const t=await this.EdgeJobService.logFile(this.edgeJob.Id,e),n=new Blob([t.FileContent],{type:\"text/plain;charset=utf-8\"}),a=`job_${this.edgeJob.Id}_task_${e}.log`;this.FileSaver.saveAs(n,a)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to download file\")}}associateEndpointsToResults(e,t){return s()(e,(e=>{const n=r()(t,(t=>t.Id===e.EndpointId));return e.Endpoint=n,e}))}collectLogs(e){return this.$async(this.collectLogsAsync,e)}async collectLogsAsync(e){try{await this.EdgeJobService.collectLogs(this.edgeJob.Id,e),r()(this.results,(t=>t.EndpointId===e)).LogsStatus=2}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to collect logs\")}}clearLogs(e){return this.$async(this.clearLogsAsync,e)}async clearLogsAsync(e){try{await this.EdgeJobService.clearLogs(this.edgeJob.Id,e),r()(this.results,(t=>t.EndpointId===e)).LogsStatus=1}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to clear logs\")}}refresh(){return this.$async(this.refreshAsync)}async refreshAsync(){const{id:e}=this.$state.params,t=await this.EdgeJobService.jobResults(e);if(t.length>0){const e=s()(t,(e=>e.EndpointId)),n=await this.EndpointService.endpoints(void 0,void 0,{endpointIds:e});this.results=this.associateEndpointsToResults(t,n.value)}else this.results=t}showEditor(){this.state.showEditorTab=!0}async uiCanExit(){if(this.edgeJob&&this.edgeJob.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){const{id:e,tab:t}=this.$state.params;this.state.activeTab=t,t&&0!==t||(this.state.showEditorTab=!0);try{const[t,n,a,r,i]=await Promise.all([this.EdgeJobService.edgeJob(e),this.EdgeJobService.getScriptFile(e),this.EdgeJobService.jobResults(e),this.GroupService.groups(),this.TagService.tags()]);if(t.FileContent=n.FileContent,this.oldFileContent=t.FileContent,this.edgeJob=t,this.groups=r,this.tags=i,a.length>0){const e=s()(a,(e=>e.EndpointId)),t=await this.EndpointService.endpoints(void 0,void 0,{endpointIds:e});this.results=this.associateEndpointsToResults(a,t.value)}else this.results=a}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environment list\")}this.$window.onbeforeunload=()=>{if(this.edgeJob&&this.edgeJob.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return\"\"}}$onDestroy(){this.state.isEditorDirty=!1}}o.$inject=[\"$async\",\"$q\",\"$state\",\"$window\",\"ModalService\",\"EdgeJobService\",\"EndpointService\",\"FileSaver\",\"GroupService\",\"HostBrowserService\",\"Notifications\",\"TagService\"]},6300:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(87609);const s=n(14399);r().module(\"portainer.edge\").component(\"edgeJobView\",{templateUrl:s,controller:i.EdgeJobController})},54223:function(e,t,n){\"use strict\";n.r(t),n.d(t,{EdgeJobsViewController:function(){return i}});var a=n(71204),r=n.n(a);class i{constructor(e,t,n,a,r){this.$async=e,this.$state=t,this.EdgeJobService=n,this.ModalService=a,this.Notifications=r,this.removeAction=this.removeAction.bind(this),this.deleteJobsAsync=this.deleteJobsAsync.bind(this),this.deleteJobs=this.deleteJobs.bind(this)}removeAction(e){this.ModalService.confirmDeletion(\"Do you want to remove the selected edge job(s) ?\",(t=>{t&&this.deleteJobs(e)}))}deleteJobs(e){return this.$async(this.deleteJobsAsync,e)}async deleteJobsAsync(e){for(let t of e)try{await this.EdgeJobService.remove(t.Id),this.Notifications.success(\"Edge job successfully removed\",t.Name),r()(this.edgeJobs,t)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove Edge job \"+t.Name)}this.$state.reload()}async $onInit(){try{const e=await this.EdgeJobService.edgeJobs();this.edgeJobs=e}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve Edge jobs\"),this.edgeJobs=[]}}}i.$inject=[\"$async\",\"$state\",\"EdgeJobService\",\"ModalService\",\"Notifications\"]},30190:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(54223);const s=n(53684);r().module(\"portainer.edge\").component(\"edgeJobsView\",{templateUrl:s,controller:i.EdgeJobsViewController})},32884:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e,t,n,a,r,i,s,o,l){Object.assign(this,{$state:e,$window:t,ModalService:n,EdgeStackService:a,EdgeGroupService:r,EdgeTemplateService:i,Notifications:s,FormHelper:o,$async:l}),this.formValues={Name:\"\",StackFileContent:\"\",StackFile:null,RepositoryURL:\"\",RepositoryReferenceName:\"\",RepositoryAuthentication:!1,RepositoryUsername:\"\",RepositoryPassword:\"\",Env:[],ComposeFilePathInRepository:\"\",Groups:[],DeploymentType:0},this.state={Method:\"editor\",formValidationError:\"\",actionInProgress:!1,StackType:null,isEditorDirty:!1,hasKubeEndpoint:!1,endpointTypes:[]},this.edgeGroups=null,this.createStack=this.createStack.bind(this),this.validateForm=this.validateForm.bind(this),this.createStackByMethod=this.createStackByMethod.bind(this),this.createStackFromFileContent=this.createStackFromFileContent.bind(this),this.createStackFromFileUpload=this.createStackFromFileUpload.bind(this),this.createStackFromGitRepository=this.createStackFromGitRepository.bind(this),this.onChangeGroups=this.onChangeGroups.bind(this),this.hasDockerEndpoint=this.hasDockerEndpoint.bind(this),this.onChangeDeploymentType=this.onChangeDeploymentType.bind(this)}buildAnalyticsProperties(){const e={type:function(e){switch(e){case\"editor\":return\"web-editor\";case\"repository\":return\"git\";case\"upload\":return\"file-upload\";case\"template\":return\"template\"}}(this.state.Method),format:\"compose\"};return\"template\"===e.type&&(e.templateName=this.selectedTemplate.title),{metadata:e}}uiCanExit(){if(\"editor\"===this.state.Method&&this.formValues.StackFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){try{this.edgeGroups=await this.EdgeGroupService.groups(),this.noGroups=0===this.edgeGroups.length}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve Edge groups\")}this.$window.onbeforeunload=()=>{if(\"editor\"===this.state.Method&&this.formValues.StackFileContent&&this.state.isEditorDirty)return\"\"}}$onDestroy(){this.state.isEditorDirty=!1}createStack(){return this.$async((async()=>{const e=this.formValues.Name;let t=this.state.Method;if(\"template\"===t&&(t=\"editor\"),this.validateForm(t)){this.state.actionInProgress=!0;try{await this.createStackByMethod(e,t),this.Notifications.success(\"Stack successfully deployed\"),this.state.isEditorDirty=!1,this.$state.go(\"edge.stacks\")}catch(e){this.Notifications.error(\"Deployment error\",e,\"Unable to deploy stack\")}finally{this.state.actionInProgress=!1}}}))}onChangeGroups(e){this.formValues.Groups=e,this.checkIfEndpointTypes(e)}checkIfEndpointTypes(e){const t=e.map((e=>this.edgeGroups.find((t=>t.Id===e))));this.state.endpointTypes=t.flatMap((e=>e.EndpointTypes)),this.hasDockerEndpoint()&&1==this.formValues.DeploymentType&&this.onChangeDeploymentType(0)}hasKubeEndpoint(){return this.state.endpointTypes.includes(7)}hasDockerEndpoint(){return this.state.endpointTypes.includes(4)}validateForm(e){if(this.state.formValidationError=\"\",\"editor\"!==e||\"\"!==this.formValues.StackFileContent)return!0;this.state.formValidationError=\"Stack file content must not be empty\"}createStackByMethod(e,t){switch(t){case\"editor\":return this.createStackFromFileContent(e);case\"upload\":return this.createStackFromFileUpload(e);case\"repository\":return this.createStackFromGitRepository(e)}}createStackFromFileContent(e){const{StackFileContent:t,Groups:n,DeploymentType:a}=this.formValues;return this.EdgeStackService.createStackFromFileContent({name:e,StackFileContent:t,EdgeGroups:n,DeploymentType:a})}createStackFromFileUpload(e){const{StackFile:t,Groups:n,DeploymentType:a}=this.formValues;return this.EdgeStackService.createStackFromFileUpload({Name:e,EdgeGroups:n,DeploymentType:a},t)}createStackFromGitRepository(e){const{Groups:t,DeploymentType:n}=this.formValues,a={RepositoryURL:this.formValues.RepositoryURL,RepositoryReferenceName:this.formValues.RepositoryReferenceName,FilePathInRepository:this.formValues.ComposeFilePathInRepository,RepositoryAuthentication:this.formValues.RepositoryAuthentication,RepositoryUsername:this.formValues.RepositoryUsername,RepositoryPassword:this.formValues.RepositoryPassword};return this.EdgeStackService.createStackFromGitRepository({name:e,EdgeGroups:t,DeploymentType:n},a)}onChangeDeploymentType(e){this.formValues.DeploymentType=e,this.state.Method=\"editor\",this.formValues.StackFileContent=\"\"}formIsInvalid(){return this.form.$invalid||!this.formValues.Groups.length||[\"template\",\"editor\"].includes(this.state.Method)&&!this.formValues.StackFileContent||\"upload\"===this.state.Method&&!this.formValues.StackFile}}a.$inject=[\"$state\",\"$window\",\"ModalService\",\"EdgeStackService\",\"EdgeGroupService\",\"EdgeTemplateService\",\"Notifications\",\"FormHelper\",\"$async\"]},96478:function(e,t,n){\"use strict\";n.r(t),n.d(t,{createEdgeStackView:function(){return r}});var a=n(32884);const r={templateUrl:n(71818),controller:a.default}},83615:function(e,t,n){\"use strict\";n.r(t);class a{constructor(e,t,n){Object.assign(this,{$async:e,EdgeTemplateService:t,Notifications:n}),this.methodOptions=[{id:\"method_editor\",icon:\"fa fa-edit\",label:\"Web editor\",description:\"Use our Web editor\",value:\"editor\"},{id:\"method_upload\",icon:\"fa fa-upload\",label:\"Upload\",description:\"Upload from your computer\",value:\"upload\"},{id:\"method_repository\",icon:\"fab fa-github\",label:\"Repository\",description:\"Use a git repository\",value:\"repository\"},{id:\"method_template\",icon:\"fa fa-rocket\",label:\"Template\",description:\"Use an Edge stack template\",value:\"template\"}],this.selectedTemplate=null,this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeFile=this.onChangeFile.bind(this),this.onChangeTemplate=this.onChangeTemplate.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this)}onChangeFormValues(e){this.formValues=e}onChangeMethod(e){this.state.Method=e,this.formValues.StackFileContent=\"\",this.selectedTemplate=null}onChangeTemplate(e){return this.$async((async()=>{this.formValues.StackFileContent=\"\";try{const t=await this.EdgeTemplateService.edgeTemplate(e);this.formValues.StackFileContent=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve Template\")}}))}onChangeFileContent(e){this.formValues.StackFileContent=e,this.state.isEditorDirty=!0}onChangeFile(e){return this.$async((async()=>{this.formValues.StackFile=e}))}async $onInit(){return this.$async((async()=>{try{const e=await this.EdgeTemplateService.edgeTemplates();this.templates=e.map((e=>({...e,label:`${e.title} - ${e.description}`})))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve Templates\")}}))}}a.$inject=[\"$async\",\"EdgeTemplateService\",\"Notifications\"],t.default=a},32878:function(e,t,n){\"use strict\";n.r(t),n.d(t,{edgeStacksDockerComposeForm:function(){return r}});var a=n(83615);const r={templateUrl:n(2892),controller:a.default,bindings:{formValues:\"=\",state:\"=\"}}},24125:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(96478),s=n(32878),o=n(56799),l=n(82456);t.default=r().module(\"portainer.edge.stacks.create\",[]).component(\"createEdgeStackView\",i.createEdgeStackView).component(\"edgeStacksDockerComposeForm\",s.edgeStacksDockerComposeForm).component(\"edgeStacksKubeManifestForm\",o.kubeManifestForm).component(\"kubeDeployDescription\",l.kubeDeployDescription).name},82456:function(e,t,n){\"use strict\";n.r(t),n.d(t,{kubeDeployDescription:function(){return a}});const a={templateUrl:n(87700)}},56799:function(e,t,n){\"use strict\";n.r(t),n.d(t,{kubeManifestForm:function(){return r}});var a=n(23836);const r={templateUrl:n(65398),controller:a.default,bindings:{formValues:\"=\",state:\"=\"}}},23836:function(e,t,n){\"use strict\";n.r(t);class a{constructor(e){Object.assign(this,{$async:e}),this.methodOptions=[{id:\"method_editor\",icon:\"fa fa-edit\",label:\"Web editor\",description:\"Use our Web editor\",value:\"editor\"},{id:\"method_upload\",icon:\"fa fa-upload\",label:\"Upload\",description:\"Upload from your computer\",value:\"upload\"},{id:\"method_repository\",icon:\"fab fa-github\",label:\"Repository\",description:\"Use a git repository\",value:\"repository\"}],this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this),this.onChangeFile=this.onChangeFile.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this)}onChangeFormValues(e){this.formValues=e}onChangeFileContent(e){this.state.isEditorDirty=!0,this.formValues.StackFileContent=e}onChangeFile(e){return this.$async((async()=>{this.formValues.StackFile=e}))}onChangeMethod(e){this.state.Method=e}}a.$inject=[\"$async\"],t.default=a},33661:function(e,t,n){\"use strict\";n.r(t),n.d(t,{EdgeStacksViewController:function(){return i}});var a=n(71204),r=n.n(a);class i{constructor(e,t,n,a,r){this.$state=e,this.Notifications=t,this.EdgeStackService=n,this.$scope=a,this.$async=r,this.stacks=void 0,this.getStacks=this.getStacks.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}$onInit(){this.getStacks()}removeAction(e){return this.$async(this.removeActionAsync,e)}async removeActionAsync(e){for(let t of e)try{await this.EdgeStackService.remove(t.Id),this.Notifications.success(\"Stack successfully removed\",t.Name),r()(this.stacks,t)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove stack \"+t.Name)}this.$state.reload()}async getStacks(){try{this.stacks=await this.EdgeStackService.stacks()}catch(e){this.stacks=[],this.Notifications.error(\"Failure\",e,\"Unable to retrieve stacks\")}}}i.$inject=[\"$state\",\"Notifications\",\"EdgeStackService\",\"$scope\",\"$async\"]},82138:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(33661);const s=n(51919);r().module(\"portainer.edge\").component(\"edgeStacksView\",{templateUrl:s,controller:i.EdgeStacksViewController})},66514:function(e,t,n){\"use strict\";n.r(t),n.d(t,{EditEdgeStackViewController:function(){return c}});var a=n(51235),r=n.n(a),i=n(66539),s=n.n(i),o=n(55332),l=n.n(o);class c{constructor(e,t,n,a,r,i,s,o){this.$async=e,this.$state=t,this.$window=n,this.ModalService=a,this.EdgeGroupService=r,this.EdgeStackService=i,this.EndpointService=s,this.Notifications=o,this.stack=null,this.edgeGroups=null,this.state={actionInProgress:!1,activeTab:0,isEditorDirty:!1},this.deployStack=this.deployStack.bind(this),this.deployStackAsync=this.deployStackAsync.bind(this),this.getPaginatedEndpoints=this.getPaginatedEndpoints.bind(this),this.getPaginatedEndpointsAsync=this.getPaginatedEndpointsAsync.bind(this)}async $onInit(){const{stackId:e,tab:t}=this.$state.params;this.state.activeTab=t;try{const[t,n,a]=await Promise.all([this.EdgeGroupService.groups(),this.EdgeStackService.stack(e),this.EdgeStackService.stackFile(e)]);this.edgeGroups=t,this.stack=n,this.stackEndpointIds=this.filterStackEndpoints(n.EdgeGroups,t),this.originalFileContent=a,this.formValues={StackFileContent:a,EdgeGroups:this.stack.EdgeGroups,DeploymentType:this.stack.DeploymentType},this.oldFileContent=this.formValues.StackFileContent}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve stack data\")}this.$window.onbeforeunload=()=>{if(this.formValues.StackFileContent!==this.oldFileContent&&this.state.isEditorDirty)return\"\"}}$onDestroy(){this.state.isEditorDirty=!1}async uiCanExit(){if(this.formValues.StackFileContent.replace(/(\\r\\n|\\n|\\r)/gm,\"\")!==this.oldFileContent.replace(/(\\r\\n|\\n|\\r)/gm,\"\")&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}filterStackEndpoints(e,t){return l()(s()(e,(e=>r()(t,{Id:e}).Endpoints)))}deployStack(){return this.$async(this.deployStackAsync)}async deployStackAsync(){this.state.actionInProgress=!0;try{this.originalFileContent!=this.formValues.StackFileContent&&(this.formValues.Version=this.stack.Version+1),await this.EdgeStackService.updateStack(this.stack.Id,this.formValues),this.Notifications.success(\"Stack successfully deployed\"),this.state.isEditorDirty=!1,this.$state.go(\"edge.stacks\")}catch(e){this.Notifications.error(\"Deployment error\",e,\"Unable to deploy stack\")}finally{this.state.actionInProgress=!1}}getPaginatedEndpoints(...e){return this.$async(this.getPaginatedEndpointsAsync,...e)}async getPaginatedEndpointsAsync(e,t,n){try{const a={search:n,types:[4,7],endpointIds:this.stackEndpointIds},{value:r,totalCount:i}=await this.EndpointService.endpoints(e,t,a);return{endpoints:s()(r,(e=>{const t=this.stack.Status[e.Id];return e.Status=t,e})),totalCount:i}}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environment information\")}}}c.$inject=[\"$async\",\"$state\",\"$window\",\"ModalService\",\"EdgeGroupService\",\"EdgeStackService\",\"EndpointService\",\"Notifications\"]},36237:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(66514);const s=n(48023);r().module(\"portainer.edge\").component(\"editEdgeStackView\",{templateUrl:s,controller:i.EditEdgeStackViewController})},6142:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(24125);t.default=r().module(\"portainer.edge.stacks\",[i.default]).name},88304:function(e,t,n){\"use strict\";n.r(t),n(42311),n(34125);var a=n(29274),r=n.n(a),i=n(28127),s=(n(63924),n(14916)),o=(n(26317),n(18194),n(99544),n(11829),n(51192),n(54905)),l=n(98767),c=n(20037),d=n(26196),u=(n(20493),r().module(\"portainer.nomad.react.components\",[]).name),p=r().module(\"portainer.nomad.react.views\",[]).name,m=r().module(\"portainer.nomad.react\",[p,u]).name,g=r().module(\"portainer.nomad\",[\"portainer.app\",m]).name;(0,c.S1)(d.cX.CE),r().module(\"portainer\",[\"ui.bootstrap\",\"ui.router\",i.jd,\"ui.select\",\"isteven-multi-select\",\"ngSanitize\",\"ngFileUpload\",\"ngMessages\",\"ngResource\",\"angularUtils.directives.dirPagination\",\"LocalStorageModule\",\"angular-jwt\",\"angular-json-tree\",\"angular-loading-bar\",\"angular-clipboard\",\"ngFileSaver\",\"luegg.directives\",\"portainer.app\",\"portainer.agent\",\"portainer.azure\",\"portainer.docker\",\"portainer.kubernetes\",g,\"portainer.edge\",\"rzModule\",\"moment-picker\",\"angulartics\",s.default]).run(o.onStartupAngular).config(l.configApp);{const e=n(19338);e.keys().filter((e=>!e.includes(\".test\"))).forEach((function(t){e(t)}))}},94734:function(e,t,n){\"use strict\";n.r(t);var a=n(87658),r=n(79023),i=(n(20493),n(29274)),s=n.n(i),o=s().module(\"portainer.kubernetes.react.components\",[]).name,l=s().module(\"portainer.kubernetes.react.views\",[]).name,c=s().module(\"portainer.kubernetes.react\",[l,o]).name;angular.module(\"portainer.kubernetes\",[\"portainer.app\",a.default,r.default,c]).config([\"$stateRegistryProvider\",function(e){const t={name:\"kubernetes\",url:\"/kubernetes\",parent:\"endpoint\",abstract:!0,onEnter:[\"$async\",\"$state\",\"endpoint\",\"EndpointProvider\",\"KubernetesHealthService\",\"KubernetesNamespaceService\",\"Notifications\",\"StateManager\",function(e,t,n,a,r,i,s,o){return e((async()=>{if([5,6,7].includes(n.Type))try{if(7===n.Type)try{await r.ping(n.Id),n.Status=1}catch(e){n.Status=2}if(a.setEndpointID(n.Id),await o.updateEndpointState(n),7===n.Type&&2===n.Status)throw new Error(\"Unable to contact Edge agent, please ensure that the agent is properly running on the remote environment.\");await i.get()}catch(e){s.error(\"Failed loading environment\",e),t.go(\"portainer.home\",{},{reload:!0})}else t.go(\"portainer.home\")}))}]};e.register(t),e.register({name:\"kubernetes.helm\",url:\"/helm/:namespace/:name\",views:{\"content@\":{component:\"kubernetesHelmApplicationView\"}}}),e.register({name:\"kubernetes.templates.helm\",url:\"/helm\",views:{\"content@\":{component:\"helmTemplatesView\"}}}),e.register({name:\"kubernetes.applications\",url:\"/applications\",views:{\"content@\":{component:\"kubernetesApplicationsView\"}}}),e.register({name:\"kubernetes.applications.new\",url:\"/new\",views:{\"content@\":{component:\"kubernetesCreateApplicationView\"}}}),e.register({name:\"kubernetes.applications.application\",url:\"/:namespace/:name\",views:{\"content@\":{component:\"kubernetesApplicationView\"}}}),e.register({name:\"kubernetes.applications.application.edit\",url:\"/edit\",views:{\"content@\":{component:\"kubernetesCreateApplicationView\"}}}),e.register({name:\"kubernetes.applications.application.console\",url:\"/:pod/:container/console\",views:{\"content@\":{component:\"kubernetesApplicationConsoleView\"}}}),e.register({name:\"kubernetes.applications.application.logs\",url:\"/:pod/:container/logs\",views:{\"content@\":{component:\"kubernetesApplicationLogsView\"}}}),e.register({name:\"kubernetes.applications.application.stats\",url:\"/:pod/:container/stats\",views:{\"content@\":{component:\"kubernetesApplicationStatsView\"}}}),e.register({name:\"kubernetes.stacks\",url:\"/stacks\",abstract:!0}),e.register({name:\"kubernetes.stacks.stack\",url:\"/:namespace/:name\",abstract:!0}),e.register({name:\"kubernetes.stacks.stack.logs\",url:\"/logs\",views:{\"content@\":{component:\"kubernetesStackLogsView\"}}}),e.register({name:\"kubernetes.configurations\",url:\"/configurations\",views:{\"content@\":{component:\"kubernetesConfigurationsView\"}}}),e.register({name:\"kubernetes.configurations.new\",url:\"/new\",views:{\"content@\":{component:\"kubernetesCreateConfigurationView\"}}}),e.register({name:\"kubernetes.configurations.configuration\",url:\"/:namespace/:name\",views:{\"content@\":{component:\"kubernetesConfigurationView\"}}}),e.register({name:\"kubernetes.cluster\",url:\"/cluster\",views:{\"content@\":{component:\"kubernetesClusterView\"}}}),e.register({name:\"kubernetes.dashboard\",url:\"/dashboard\",views:{\"content@\":{component:\"kubernetesDashboardView\"}}}),e.register({name:\"kubernetes.deploy\",url:\"/deploy?templateId\",views:{\"content@\":{component:\"kubernetesDeployView\"}},params:{templateId:\"\"}}),e.register({name:\"kubernetes.cluster.node\",url:\"/:name\",views:{\"content@\":{component:\"kubernetesNodeView\"}}}),e.register({name:\"kubernetes.cluster.node.stats\",url:\"/stats\",views:{\"content@\":{component:\"kubernetesNodeStatsView\"}}}),e.register({name:\"kubernetes.resourcePools\",url:\"/pools\",views:{\"content@\":{component:\"kubernetesResourcePoolsView\"}}}),e.register({name:\"kubernetes.resourcePools.new\",url:\"/new\",views:{\"content@\":{component:\"kubernetesCreateResourcePoolView\"}}}),e.register({name:\"kubernetes.resourcePools.resourcePool\",url:\"/:id\",views:{\"content@\":{component:\"kubernetesResourcePoolView\"}}}),e.register({name:\"kubernetes.resourcePools.resourcePool.access\",url:\"/access\",views:{\"content@\":{component:\"kubernetesResourcePoolAccessView\"}}}),e.register({name:\"kubernetes.volumes\",url:\"/volumes\",views:{\"content@\":{component:\"kubernetesVolumesView\"}}}),e.register({name:\"kubernetes.volumes.volume\",url:\"/:namespace/:name\",views:{\"content@\":{component:\"kubernetesVolumeView\"}}}),e.register({name:\"kubernetes.registries\",url:\"/registries\",views:{\"content@\":{component:\"endpointRegistriesView\"}}}),e.register({name:\"kubernetes.registries.access\",url:\"/:id/access\",views:{\"content@\":{component:\"kubernetesRegistryAccessView\"}}})}])},28953:function(e,t,n){const a=n(15879);angular.module(\"portainer.kubernetes\").component(\"kubernetesContainersDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",refreshCallback:\"<\",isPod:\"<\",useServerMetrics:\"<\"}})},41727:function(e,t,n){\"use strict\";n.r(t);var a=n(82434);t.default=class{$onInit(){const e=(this.configurations||[]).filter((e=>e.Data&&e.Type===a.KubernetesConfigurationTypes.SECRET)).flatMap((e=>Object.entries(e.Data))).map((([e,t])=>({key:e,value:t})));this.state={secrets:e}}}},3962:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(41727);const s=n(99055);r().module(\"portainer.kubernetes\").component(\"kubernetesApplicationsDatatableDetails\",{templateUrl:s,controller:i.default,bindings:{configurations:\"<\"}})},87082:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);const i=n(57257);r().module(\"portainer.kubernetes\").component(\"kubernetesApplicationsDatatableUrl\",{templateUrl:i,bindings:{publishedUrl:\"@\"}})},42270:function(e,t,n){\"use strict\";n.r(t);const a=n(69333);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationsDatatable\",{templateUrl:a,controller:\"KubernetesApplicationsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",settingsKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",refreshCallback:\"<\",onPublishingModeClick:\"<\",isPrimary:\"<\"}})},45941:function(e,t,n){\"use strict\";n.r(t);var a=n(93715),r=n.n(a),i=n(7172),s=n(57947),o=n(7506),l=n(82434);angular.module(\"portainer.docker\").controller(\"KubernetesApplicationsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"Authentication\",function(e,t,n,a){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));const c=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.state=Object.assign(this.state,{expandAll:!1,expandedItems:[]}),this.filters={state:{open:!1,enabled:!1,values:[]}},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,this.state.filteredDataSet.forEach((e=>this.expandItem(e,this.state.expandAll)))},this.isItemExpanded=function(e){return this.state.expandedItems.includes(e.Id)},this.isExpandable=function(e){return e.KubernetesApplications||this.hasConfigurationSecrets(e)||!!this.getPublishedUrl(e).length},this.expandItem=function(e,t){t?t&&!this.state.expandedItems.includes(e.Id)&&(this.state.expandedItems=[...this.state.expandedItems,e.Id]):this.state.expandedItems=this.state.expandedItems.filter((t=>t!==e.Id)),n.setDataTableExpandedItems(this.tableKey,this.state.expandedItems)},this.expandItems=function(e){this.state.expandedItems=e,this.state.expandedItems.length===this.dataset.length&&(this.state.expandAll=!0)},this.onDataRefresh=function(){const e=n.getDataTableExpandedItems(this.tableKey);null!==e&&this.expandItems(e)},this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isExternalApplication=function(e){return s.default.isExternalApplication(e)},this.isSystemNamespace=function(e){return e.KubernetesApplications&&e.KubernetesApplications.length>0?e.KubernetesApplications.some((e=>o.default.isSystemNamespace(e.ResourcePool))):o.default.isSystemNamespace(e.ResourcePool)},this.isDisplayed=function(e){return!c.isSystemNamespace(e)||c.settings.showSystem},this.getPublishedUrl=function(e){const t=e.PublishedPorts.flatMap((e=>e.IngressRules)).filter((({Host:e,IP:t})=>e||t)).map((({Host:e,IP:t,Port:n,Path:a})=>`${443===n?\"https\":\"http\"}://${e||t}${80===n||443===n?\"\":`:${n}`}${a}`));let n=[];e.LoadBalancerIPAddress&&(n=e.PublishedPorts.map((t=>`http://${e.LoadBalancerIPAddress}:${t.Port}`)));const a=[...t,...n];return a.length>0?a[0]:\"\"},this.hasConfigurationSecrets=function(e){return e.Configurations&&e.Configurations.some((e=>e.Data&&e.Type===l.KubernetesConfigurationTypes.SECRET))},this.allowSelection=function(e){return!this.isSystemNamespace(e)},this.applyFilters=function(e){return c.filters.state.values.some((t=>e.ApplicationType===t.type&&t.display))},this.onStateFilterChange=function(){this.filters.state.enabled=this.filters.state.values.some((e=>!e.display))},this.prepareTableFromDataset=function(){const e=this.dataset.map((e=>({type:e.ApplicationType,display:!0})));this.filters.state.values=r()(e,\"type\")},this.$onInit=function(){this.isAdmin=a.isAdmin(),this.KubernetesApplicationDeploymentTypes=i.KubernetesApplicationDeploymentTypes,this.KubernetesApplicationTypes=i.KubernetesApplicationTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;const e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);const t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());const r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);const s=n.getDataTableExpandedItems(this.tableKey);null!==s&&this.expandItems(s);const o=n.getDataTableSettings(this.settingsKey);null!==o&&(this.settings=o,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},50195:function(e,t,n){const a=n(13181);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationsPortsDatatable\",{templateUrl:a,controller:\"KubernetesApplicationsPortsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\"}})},77106:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(83432),s=n.n(i),o=n(7172),l=n(57947),c=n(7506),d=n(79990);angular.module(\"portainer.docker\").controller(\"KubernetesApplicationsPortsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"Authentication\",function(e,t,n,a){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1});var i=this;this.KubernetesServiceTypes=d.KubernetesServiceTypes,this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isExternalApplication=function(e){return l.default.isExternalApplication(e)},this.isSystemNamespace=function(e){return c.default.isSystemNamespace(e.ResourcePool)},this.isDisplayed=function(e){return!i.isSystemNamespace(e)||i.settings.showSystem},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Ports.length>1||e.Ports[0].IngressRules.length>1},this.buildIngressRuleURL=function(e){return\"http://\"+(e.Host?e.Host:e.IP)+e.Path},this.portHasIngressRules=function(e){return e.IngressRules.length>0},this.ruleCanBeDisplayed=function(e){return!(!e.Host&&!e.IP)},this.hasExpandableItems=function(){return s()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,r()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.isAdmin=a.isAdmin(),this.KubernetesApplicationDeploymentTypes=o.KubernetesApplicationDeploymentTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},21266:function(e,t,n){const a=n(35558);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationsStacksDatatable\",{templateUrl:a,controller:\"KubernetesApplicationsStacksDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\",removeAction:\"<\"}})},89107:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(83432),s=n.n(i),o=n(7172),l=n(57947),c=n(7506);angular.module(\"portainer.kubernetes\").controller(\"KubernetesApplicationsStacksDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"Authentication\",function(e,t,n,a){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1});var i=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isExternalApplication=function(e){return l.default.isExternalApplication(e)},this.allowSelection=function(e){return!this.isSystemNamespace(e.ResourcePool)},this.isSystemNamespace=function(e){return c.default.isSystemNamespace(e)},this.isDisplayed=function(e){return!i.isSystemNamespace(e.ResourcePool)||i.settings.showSystem},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Applications.length>0},this.hasExpandableItems=function(){return s()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,r()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.isAdmin=a.isAdmin(),this.KubernetesApplicationDeploymentTypes=o.KubernetesApplicationDeploymentTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},95240:function(e,t,n){const a=n(62178);angular.module(\"portainer.kubernetes\").component(\"kubernetesConfigurationsDatatable\",{templateUrl:a,controller:\"KubernetesConfigurationsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",refreshCallback:\"<\",removeAction:\"<\"}})},63507:function(e,t,n){\"use strict\";n.r(t);var a=n(51780),r=n(7506);angular.module(\"portainer.docker\").controller(\"KubernetesConfigurationsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"Authentication\",function(e,t,n,i){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));const s=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isSystemNamespace=function(e){return r.default.isSystemNamespace(e.Namespace)},this.isSystemToken=function(e){return a.default.isSystemToken(e)},this.isSystemConfig=function(e){return s.isSystemNamespace(e)||s.isSystemToken(e)||e.IsRegistrySecret},this.isExternalConfiguration=function(e){return a.default.isExternalConfiguration(e)},this.isDisplayed=function(e){return!s.isSystemConfig(e)||s.settings.showSystem&&s.isAdmin},this.allowSelection=function(e){return!this.isSystemConfig(e)&&!e.Used},this.$onInit=function(){this.isAdmin=i.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=n.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},39564:function(e,t,n){const a=n(29649);angular.module(\"portainer.kubernetes\").component(\"kubernetesEventsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",loading:\"<\",refreshCallback:\"<\"}})},78458:function(e,t,n){const a=n(95947);angular.module(\"portainer.kubernetes\").component(\"kubernetesIntegratedApplicationsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\"}})},56531:function(e,t,n){const a=n(33989);angular.module(\"portainer.kubernetes\").component(\"kubernetesNodeApplicationsDatatable\",{templateUrl:a,controller:\"KubernetesNodeApplicationsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\"}})},8122:function(e,t,n){\"use strict\";n.r(t);var a=n(7172),r=n(57947),i=n(7506);angular.module(\"portainer.docker\").controller(\"KubernetesNodeApplicationsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.isSystemNamespace=function(e){return i.default.isSystemNamespace(e.ResourcePool)},this.isExternalApplication=function(e){return r.default.isExternalApplication(e)},this.$onInit=function(){this.KubernetesApplicationDeploymentTypes=a.KubernetesApplicationDeploymentTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},60810:function(e,t,n){const a=n(93172);angular.module(\"portainer.kubernetes\").component(\"kubernetesNodesDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",refreshCallback:\"<\",isAdmin:\"<\",useServerMetrics:\"<\"}})},56975:function(e,t,n){const a=n(60927);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourcePoolApplicationsDatatable\",{templateUrl:a,controller:\"KubernetesResourcePoolApplicationsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\"}})},94817:function(e,t,n){\"use strict\";n.r(t);var a=n(57947);angular.module(\"portainer.docker\").controller(\"KubernetesResourcePoolApplicationsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.isExternalApplication=function(e){return a.default.isExternalApplication(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=n.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},22158:function(e,t,n){const a=n(70586);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourcePoolsDatatable\",{templateUrl:a,controller:\"KubernetesResourcePoolsDatatableController\",bindings:{endpoint:\"<\",titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",refreshCallback:\"<\"}})},51329:function(e,t,n){\"use strict\";n.r(t);var a=n(7506);angular.module(\"portainer.docker\").controller(\"KubernetesResourcePoolsDatatableController\",[\"$scope\",\"$controller\",\"Authentication\",\"DatatableService\",function(e,t,n,r){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));var i=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){r.setDataTableSettings(this.tableKey,this.settings)},this.canManageAccess=function(e){return(this.endpoint.Kubernetes.Configuration.RestrictDefaultNamespace||!a.default.isDefaultNamespace(e.Namespace.Name))&&!this.isSystemNamespace(e)},this.disableRemove=function(e){return this.isSystemNamespace(e)||a.default.isDefaultNamespace(e.Namespace.Name)},this.isSystemNamespace=function(e){return a.default.isSystemNamespace(e.Namespace.Name)},this.isDisplayed=function(e){return!i.isSystemNamespace(e)||i.settings.showSystem&&i.isAdmin},this.namespaceStatusColor=function(e){switch(e.toLowerCase()){case\"active\":return\"success\";case\"terminating\":return\"danger\";default:return\"primary\"}},this.allowSelection=function(e){return!this.disableRemove(e)},this.$onInit=function(){this.isAdmin=n.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=r.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=r.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=r.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=r.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},62925:function(e,t,n){const a=n(18491);angular.module(\"portainer.kubernetes\").component(\"kubernetesVolumesDatatable\",{templateUrl:a,controller:\"KubernetesVolumesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",refreshCallback:\"<\"}})},63651:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(11507),s=n(7506);class o{constructor(e,t,n,a){this.$async=e,this.$controller=t,this.Authentication=n,this.DatatableService=a,this.onInit=this.onInit.bind(this),this.allowSelection=this.allowSelection.bind(this),this.isDisplayed=this.isDisplayed.bind(this)}onSettingsShowSystemChange(){this.DatatableService.setDataTableSettings(this.tableKey,this.settings)}disableRemove(e){return this.isSystemNamespace(e)||this.isUsed(e)}isUsed(e){return i.default.isUsed(e)}isSystemNamespace(e){return s.default.isSystemNamespace(e.ResourcePool.Namespace.Name)}isDisplayed(e){return!this.isSystemNamespace(e)||this.settings.showSystem}isExternalVolume(e){return i.default.isExternalVolume(e)}allowSelection(e){return!this.disableRemove(e)}async onInit(){this.setDefaults(),this.prepareTableFromDataset(),this.isAdmin=this.Authentication.isAdmin(),this.settings.showSystem=!1,this.state.orderBy=this.orderBy;var e=this.DatatableService.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=this.DatatableService.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=this.DatatableService.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}$onInit(){const e=r().extend({},this.$controller(\"GenericDatatableController\"),this);return r().extend(this,e),this.$async(this.onInit)}}o.$inject=[\"$async\",\"$controller\",\"Authentication\",\"DatatableService\"],t.default=o,r().module(\"portainer.kubernetes\").controller(\"KubernetesVolumesDatatableController\",o)},41399:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e,t,n,a){this.$state=e,this.$async=t,this.HelmService=n,this.Notifications=a}doesRepoExist(){return!!this.state.repository&&this.repos.includes(this.state.repository.toLowerCase().replace(/\\/$/,\"\"))}async addRepository(){this.state.isAddingRepo=!0;try{await this.HelmService.addHelmRepository(this.endpoint.Id,{url:this.state.repository}),this.Notifications.success(\"Helm repository added successfully\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Installation error\",e)}finally{this.state.isAddingRepo=!1}}$onInit(){return this.$async((async()=>{this.state={isAddingRepo:!1,repository:\"\"}}))}}a.$inject=[\"$state\",\"$async\",\"HelmService\",\"Notifications\"]},79553:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(41399);const s=n(46598);r().module(\"portainer.kubernetes\").component(\"helmAddRepository\",{templateUrl:s,controller:i.default,bindings:{repos:\"<\",endpoint:\"<\"}})},43579:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);const i=n(2894);r().module(\"portainer.kubernetes\").component(\"helmTemplatesListItem\",{templateUrl:i,bindings:{model:\"<\",onSelect:\"<\"},transclude:{actions:\"?templateItemActions\"}})},88416:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e,t,n,a){this.$async=e,this.DatatableService=t,this.HelmService=n,this.Notifications=a,this.updateCategories=this.updateCategories.bind(this)}async updateCategories(){try{const e=this.charts.map((e=>e.annotations)).filter((e=>e)).map((e=>e.category)),t=[...new Set(e)].sort();this.state.categories=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve helm charts categories\")}}onTextFilterChange(){this.DatatableService.setDataTableTextFilters(this.tableKey,this.state.textFilter)}clearCategory(){this.state.selectedCategory=\"\"}$onChanges(){this.charts.length>0&&this.updateCategories()}$onInit(){return this.$async((async()=>{this.state={textFilter:\"\",selectedCategory:\"\",categories:[]};const e=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==e&&(this.state.textFilter=e)}))}}a.$inject=[\"$async\",\"DatatableService\",\"HelmService\",\"Notifications\"]},15778:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(88416);const s=n(24633);r().module(\"portainer.kubernetes\").component(\"helmTemplatesList\",{templateUrl:s,controller:i.default,bindings:{loading:\"<\",titleText:\"@\",titleIcon:\"@\",charts:\"<\",tableKey:\"@\",selectAction:\"<\"}})},67316:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return s}});var a=n(40714),r=n.n(a),i=n(7506);class s{constructor(e,t,n,a,r,i,s,o,l,c){this.$analytics=e,this.$async=t,this.$window=a,this.$state=n,this.$anchorScroll=r,this.Authentication=i,this.HelmService=s,this.KubernetesResourcePoolService=o,this.Notifications=l,this.ModalService=c,this.editorUpdate=this.editorUpdate.bind(this),this.uiCanExit=this.uiCanExit.bind(this),this.installHelmchart=this.installHelmchart.bind(this),this.getHelmValues=this.getHelmValues.bind(this),this.selectHelmChart=this.selectHelmChart.bind(this),this.getHelmRepoURLs=this.getHelmRepoURLs.bind(this),this.getLatestCharts=this.getLatestCharts.bind(this),this.getResourcePools=this.getResourcePools.bind(this),a.onbeforeunload=()=>{if(this.state.isEditorDirty)return\"\"}}editorUpdate(e){const t=e.getValue();this.state.originalvalues===t?this.state.isEditorDirty=!1:(this.state.values=t,this.state.isEditorDirty=!0)}async uiCanExit(){if(this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async installHelmchart(){this.state.actionInProgress=!0;try{const e={Name:this.state.appName,Repo:this.state.chart.repo,Chart:this.state.chart.name,Values:this.state.values,Namespace:this.state.resourcePool.Namespace.Name};await this.HelmService.install(this.endpoint.Id,e),this.Notifications.success(\"Helm Chart successfully installed\"),this.$analytics.eventTrack(\"kubernetes-helm-install\",{category:\"kubernetes\",metadata:{\"chart-name\":this.state.chart.name}}),this.state.isEditorDirty=!1,this.$state.go(\"kubernetes.applications\")}catch(e){this.Notifications.error(\"Installation error\",e)}finally{this.state.actionInProgress=!1}}async getHelmValues(){this.state.loadingValues=!0;try{const{values:e}=await this.HelmService.values(this.state.chart.repo,this.state.chart.name);this.state.values=e,this.state.originalvalues=e}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve helm chart values.\")}finally{this.state.loadingValues=!1}}async selectHelmChart(e){this.$anchorScroll(\"view-top\"),this.state.showCustomValues=!1,this.state.chart=e,await this.getHelmValues()}async getHelmRepoURLs(){this.state.reposLoading=!0;try{const{GlobalRepository:e,UserRepositories:t}=await this.HelmService.getHelmRepositories(this.endpoint.Id);this.state.globalRepository=e;const n=t.map((e=>e.URL)),a=[...new Set([e,...n])].map((e=>e.toLowerCase())).filter((e=>e));return this.state.repos=a,a}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve helm repo urls.\")}finally{this.state.reposLoading=!1}}async getLatestCharts(e){this.state.chartsLoading=!0;try{const t=e.map((e=>this.HelmService.search(e))),n=await Promise.allSettled(t),a=n.filter((e=>\"fulfilled\"===e.status)).map((t=>({entries:t.value.entries,repo:e[n.indexOf(t)]}))).flatMap((({entries:e,repo:t})=>Object.values(e).map((e=>({...e[0],repo:t})))));this.state.charts=a}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve helm repo charts.\")}finally{this.state.chartsLoading=!1}}async getResourcePools(){this.state.resourcePoolsLoading=!0;try{const e=(await this.KubernetesResourcePoolService.get()).filter((e=>!i.default.isSystemNamespace(e.Namespace.Name)));this.state.resourcePools=r()(e,(({Namespace:e})=>\"default\"===e.Name?0:1)),this.state.resourcePool=this.state.resourcePools[0]}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve initial helm data.\")}finally{this.state.resourcePoolsLoading=!1}}$onInit(){return this.$async((async()=>{this.state={appName:\"\",chart:null,showCustomValues:!1,actionInProgress:!1,resourcePools:[],resourcePool:\"\",values:null,originalvalues:null,repos:[],charts:[],loadingValues:!1,isEditorDirty:!1,chartsLoading:!1,resourcePoolsLoading:!1,viewReady:!1,isAdmin:this.Authentication.isAdmin(),globalRepository:void 0};const e=await this.getHelmRepoURLs();await Promise.all([this.getLatestCharts(e),this.getResourcePools()]),this.state.viewReady=!0}))}$onDestroy(){this.state.isEditorDirty=!1}}s.$inject=[\"$analytics\",\"$async\",\"$state\",\"$window\",\"$anchorScroll\",\"Authentication\",\"HelmService\",\"KubernetesResourcePoolService\",\"Notifications\",\"ModalService\"]},71228:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(67316);const s=n(18236);r().module(\"portainer.kubernetes\").component(\"helmTemplatesView\",{templateUrl:s,controller:i.default,bindings:{endpoint:\"<\"}})},65473:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return c}});var a=n(66539),r=n.n(a),i=n(79990),s=n(14917),o=n(54241),l=n(20783);class c{constructor(e,t){this.EndpointProvider=e,this.Authentication=t,this.KubernetesApplicationPublishingTypes=l.KubernetesApplicationPublishingTypes}addPort(){const e=new i.KubernetesServicePort;if(e.nodePort=\"\",e.port=\"\",e.targetPort=\"\",e.protocol=\"TCP\",this.ingressType){const t=new i.KubernetesIngressServiceRoute;t.ServiceName=this.serviceName,this.serviceType===l.KubernetesApplicationPublishingTypes.CLUSTER_IP&&this.originalIngresses.length>0&&(t.IngressName||(t.IngressName=this.originalIngresses[0].Name),t.Host||(t.Host=this.originalIngresses[0].Hosts[0])),e.ingress=t,e.Ingress=!0}this.servicePorts.push(e)}removePort(e){this.servicePorts.splice(e,1)}servicePort(e){const t=this.servicePorts[e].targetPort;this.servicePorts[e].port=t}isAdmin(){return this.Authentication.isAdmin()}onChangeContainerPort(){const e=this.state.duplicates.targetPort,t=r()(this.servicePorts,(e=>e.targetPort)),n=o.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}onChangeServicePort(){const e=this.state.duplicates.servicePort,t=r()(this.servicePorts,(e=>e.port)),n=o.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}onChangeNodePort(){const e=this.state.duplicates.nodePort,t=r()(this.servicePorts,(e=>e.nodePort)),n=o.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}$onInit(){0===this.servicePorts.length&&this.addPort(),this.state={duplicates:{targetPort:new s.KubernetesFormValidationReferences,servicePort:new s.KubernetesFormValidationReferences,nodePort:new s.KubernetesFormValidationReferences},endpointId:this.EndpointProvider.endpointID()}}}c.$inject=[\"EndpointProvider\",\"Authentication\"]},1542:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(65473);const s=n(74226);r().module(\"portainer.kubernetes\").component(\"kubeServicesItemView\",{templateUrl:s,controller:i.default,bindings:{serviceType:\"<\",servicePorts:\"=\",serviceRoutes:\"=\",ingressType:\"<\",originalIngresses:\"<\",isEdit:\"<\",serviceName:\"<\",multiItemDisable:\"<\",serviceIndex:\"<\",loadbalancerEnabled:\"<\"}})},54466:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return i}});var a=n(79990),r=n(20783);class i{constructor(e,t,n){this.$async=e,this.EndpointProvider=t,this.Authentication=n}addEntry(e){const t=new a.KubernetesService;e===r.KubernetesApplicationPublishingTypes.INGRESS?(t.Type=r.KubernetesApplicationPublishingTypes.CLUSTER_IP,t.Ingress=!0):t.Type=e,t.Selector=this.formValues.Selector,t.Name=this.getUniqName(),this.formValues.Services.push(t)}getUniqName(){let e=2,t=this.formValues.Name;const n=this.formValues.Services.sort(((e,t)=>e.Name.localeCompare(t.Name)));return 0!==n.length&&n.forEach((n=>{n.Name===t&&(t=this.formValues.Name+\"-\"+e,e+=1)})),t}deleteService(e){this.formValues.Services.splice(e,1)}addPort(e){const t=new a.KubernetesServicePort;this.formValues.Services[e].Ports.push(t)}serviceType(e){switch(e){case r.KubernetesApplicationPublishingTypes.CLUSTER_IP:return a.KubernetesServiceTypes.CLUSTER_IP;case r.KubernetesApplicationPublishingTypes.NODE_PORT:return a.KubernetesServiceTypes.NODE_PORT;case r.KubernetesApplicationPublishingTypes.LOAD_BALANCER:return a.KubernetesServiceTypes.LOAD_BALANCER;case r.KubernetesApplicationPublishingTypes.INGRESS:return a.KubernetesServiceTypes.INGRESS}}isAdmin(){return this.Authentication.isAdmin()}iconStyle(e){switch(e){case r.KubernetesApplicationPublishingTypes.CLUSTER_IP:return\"fa fa-list-alt\";case r.KubernetesApplicationPublishingTypes.NODE_PORT:return\"fa fa-list\";case r.KubernetesApplicationPublishingTypes.LOAD_BALANCER:return\"fa fa-project-diagram\";case r.KubernetesApplicationPublishingTypes.INGRESS:return\"fa fa-route\"}}$onInit(){this.state={serviceType:[{typeName:a.KubernetesServiceTypes.CLUSTER_IP,typeValue:r.KubernetesApplicationPublishingTypes.CLUSTER_IP},{typeName:a.KubernetesServiceTypes.NODE_PORT,typeValue:r.KubernetesApplicationPublishingTypes.NODE_PORT},{typeName:a.KubernetesServiceTypes.LOAD_BALANCER,typeValue:r.KubernetesApplicationPublishingTypes.LOAD_BALANCER},{typeName:a.KubernetesServiceTypes.INGRESS,typeValue:r.KubernetesApplicationPublishingTypes.INGRESS}],selected:r.KubernetesApplicationPublishingTypes.CLUSTER_IP,endpointId:this.EndpointProvider.endpointID()}}}i.$inject=[\"$async\",\"EndpointProvider\",\"Authentication\"]},14957:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(54466);const s=n(68629);r().module(\"portainer.kubernetes\").component(\"kubeServicesView\",{templateUrl:s,controller:i.default,bindings:{formValues:\"=\",isEdit:\"<\",loadbalancerEnabled:\"<\"}})},30761:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return s}});var a=n(96049),r=n(13501),i=n(50433);class s{constructor(e,t,n,a,r,i){this.$async=n,this.$window=t,this.TerminalWindow=e,this.EndpointProvider=a,this.LocalStorage=r,this.Notifications=i,t.onbeforeunload=()=>{if(this.state.shell.connected)return\"\"}}disconnect(){this.state.shell.connected&&(this.state.shell.connected=!1,this.state.icon=\"fas fa-window-minimize\",this.state.shell.socket.close(),this.state.shell.term.dispose(),this.TerminalWindow.terminalclose(),this.$window.onresize=null)}screenClear(){this.state.shell.term.clear()}miniRestore(){\"mini\"===this.state.css?(this.state.css=\"normal\",this.state.icon=\"fas fa-window-minimize\",this.TerminalWindow.terminalopen()):(this.state.css=\"mini\",this.state.icon=\"fas fa-window-restore\",this.TerminalWindow.terminalclose())}configureSocketAndTerminal(e,t){e.onopen=()=>{const e=document.getElementById(\"terminal-container\");t.open(e),t.setOption(\"cursorBlink\",!0),t.focus(),t.fit(),t.writeln(\"#Run kubectl commands inside here\"),t.writeln(\"#e.g. kubectl get all\"),t.writeln(\"\")},t.on(\"data\",(t=>{e.send(t)})),e.onmessage=e=>{t.write(e.data)},e.onerror=e=>{this.disconnect(),e.target.readyState!==WebSocket.CLOSED&&this.Notifications.error(\"Failure\",e,\"Websocket connection error\")},this.$window.onresize=()=>{this.TerminalWindow.terminalresize()},e.onclose=this.disconnect.bind(this),this.state.shell.connected=!0}connectConsole(){this.TerminalWindow.terminalopen(),this.state.css=\"normal\";const e={token:this.LocalStorage.getJWT(),endpointId:this.EndpointProvider.endpointID()},t=\"https:\"===this.$window.location.protocol?\"wss://\":\"ws://\",n=(0,i.baseHref)()+\"api/websocket/kubernetes-shell\",s=`${t}${n.startsWith(\"http\")?n.replace(/^https?:\\/\\//i,\"\"):window.location.host+n}?${Object.entries(e).map((([e,t])=>`${e}=${t}`)).join(\"&\")}`;a.o.applyAddon(r),this.state.shell.socket=new WebSocket(s),this.state.shell.term=new a.o,this.configureSocketAndTerminal(this.state.shell.socket,this.state.shell.term)}$onInit(){return this.$async((async()=>{this.state={css:\"normal\",icon:\"fa-window-minimize\",shell:{connected:!1,socket:null,term:null}}}))}$onDestroy(){this.state.shell.connected&&(this.disconnect(),this.$window.onresize=null)}}s.$inject=[\"TerminalWindow\",\"$window\",\"$async\",\"EndpointProvider\",\"LocalStorage\",\"Notifications\"]},92590:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(30761);const s=n(68366);r().module(\"portainer.kubernetes\").component(\"kubectlShell\",{templateUrl:s,controller:i.default})},4546:function(e,t,n){const a=n(80331);angular.module(\"portainer.kubernetes\").component(\"kubernetesConfigurationData\",{templateUrl:a,controller:\"KubernetesConfigurationDataController\",bindings:{formValues:\"=\",isValid:\"=\",isCreation:\"=\",isEditorDirty:\"=\"}})},16591:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(29274),s=n.n(i),o=n(28380),l=n.n(o),c=n(52300),d=n(54241),u=n(51780),p=n(30578);class m{constructor(e){this.$async=e,this.editorUpdate=this.editorUpdate.bind(this),this.editorUpdateAsync=this.editorUpdateAsync.bind(this),this.onFileLoad=this.onFileLoad.bind(this),this.onFileLoadAsync=this.onFileLoadAsync.bind(this),this.showSimpleMode=this.showSimpleMode.bind(this),this.showAdvancedMode=this.showAdvancedMode.bind(this)}onChangeKey(e){e&&e.Used||(this.state.duplicateKeys=d.default.getDuplicates(r()(this.formValues.Data,(e=>e.Key))),this.state.invalidKeys=d.default.getInvalidKeys(r()(this.formValues.Data,(e=>e.Key))),this.isValid=0===Object.keys(this.state.duplicateKeys).length&&0===Object.keys(this.state.invalidKeys).length)}addEntry(){this.formValues.Data.push(new p.KubernetesConfigurationFormValuesEntry)}removeEntry(e,t){t.Used||(this.formValues.Data.splice(e,1),this.onChangeKey())}async editorUpdateAsync(e){this.formValues.DataYaml!==e.getValue()&&(this.formValues.DataYaml=e.getValue(),this.isEditorDirty=!0)}editorUpdate(e){return this.$async(this.editorUpdateAsync,e)}async onFileLoadAsync(e){const t=new p.KubernetesConfigurationFormValuesEntry,n=l().detect(Buffer.from(e.target.result)),a=new TextDecoder(n);if(t.Key=e.target.fileName,t.IsBinary=u.default.isBinary(n),t.IsBinary){const n=a.decode(e.target.result);t.Value=c.DS.encode(n)}else t.Value=a.decode(e.target.result);this.formValues.Data.push(t),this.onChangeKey()}onFileLoad(e){return this.$async(this.onFileLoadAsync,e)}addEntryFromFile(e){if(e){const t=new FileReader;t.fileName=e.name,t.onload=this.onFileLoad,t.readAsArrayBuffer(e)}}showSimpleMode(){this.formValues.IsSimple=!0,this.formValues.Data=u.default.parseYaml(this.formValues),this.onChangeKey()}showAdvancedMode(){this.formValues.IsSimple=!1,this.formValues.DataYaml=u.default.parseData(this.formValues)}$onInit(){this.state={duplicateKeys:[],invalidKeys:{}}}}m.$inject=[\"$async\"],t.default=m,s().module(\"portainer.kubernetes\").controller(\"KubernetesConfigurationDataController\",m)},51713:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);const i=n(81105);r().module(\"portainer.kubernetes\").component(\"kubernetesSidebar\",{templateUrl:i,bindings:{endpointId:\"<\",isSidebarOpen:\"<\",adminAccess:\"<\"}})},42718:function(e,t,n){const a=n(37751);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourceReservation\",{templateUrl:a,controller:\"KubernetesResourceReservationController\",bindings:{description:\"@\",cpuReservation:\"<\",cpuUsage:\"<\",cpuLimit:\"<\",memoryReservation:\"<\",memoryUsage:\"<\",memoryLimit:\"<\",displayUsage:\"<\"}})},44579:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);class i{usageValues(){this.cpuLimit&&(this.cpuReservationPercent=Math.round(this.cpuReservation/this.cpuLimit*100)),this.memoryLimit&&(this.memoryReservationPercent=Math.round(this.memoryReservation/this.memoryLimit*100)),this.displayUsage&&this.cpuLimit&&this.memoryLimit&&(this.cpuUsagePercent=Math.round(this.cpuUsage/this.cpuLimit*100),this.memoryUsagePercent=Math.round(this.memoryUsage/this.memoryLimit*100))}$onInit(){this.usageValues()}$onChanges(){this.usageValues()}}t.default=i,r().module(\"portainer.kubernetes\").controller(\"KubernetesResourceReservationController\",i)},43281:function(e,t,n){const a=n(18691);angular.module(\"portainer.kubernetes\").component(\"kubernetesViewHeader\",{templateUrl:a,transclude:!0,bindings:{viewReady:\"<\",title:\"@\",state:\"@\"}})},15572:function(e,t,n){const a=n(41776);angular.module(\"portainer.kubernetes\").component(\"kubernetesViewLoading\",{templateUrl:a,bindings:{viewReady:\"<\"}})},31938:function(e,t,n){const a=n(96354);angular.module(\"portainer.kubernetes\").component(\"kubernetesYamlInspector\",{templateUrl:a,controller:\"KubernetesYamlInspectorController\",bindings:{key:\"@\",data:\"<\"}})},50346:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(52474);class s{constructor(e){this.clipboard=e,this.expanded=!1}copyYAML(){this.clipboard.copyText(this.data),i(\"#copyNotificationYAML\").show().fadeOut(2500)}toggleYAMLInspectorExpansion(){let e=this.expanded?\"500px\":\"80vh\";i(\"kubernetes-yaml-inspector code-editor > div.CodeMirror\").css({height:e}),this.expanded=!this.expanded}}s.$inject=[\"clipboard\"],t.default=s,r().module(\"portainer.kubernetes\").controller(\"KubernetesYamlInspectorController\",s)},10293:function(e,t,n){\"use strict\";n.r(t);var a=n(46006),r=n.n(a),i=n(83432),s=n.n(i),o=n(55743),l=n.n(o),c=n(74362),d=n.n(c),u=n(25445),p=n.n(u),m=n(46545),g=n.n(m),h=n(51235),f=n.n(h),v=n(41952),b=n.n(v),y=n(66539),w=n.n(y),x=n(29500),S=n.n(x),C=n(7172),k=n(79990),$=n(22229),A=n(14917),P=n(57947),I=n(95929),T=n(12512),N=n(15986),E=n(86998),R=n(56636),D=n(20023),O=n(7587),V=n(12925);class U{static applicationCommon(e,t,n,a,i){const o=t.spec.template?g()(p()(t.spec.template.spec.containers,t.spec.template.spec.initContainers),void 0):t.spec.containers;if(e.Id=t.metadata.uid,e.Name=t.metadata.name,e.Metadata=t.metadata,t.metadata.labels){const{labels:n}=t.metadata;e.StackId=n[C.KubernetesPortainerApplicationStackIdLabel]?parseInt(n[C.KubernetesPortainerApplicationStackIdLabel],10):null,e.StackName=n[C.KubernetesPortainerApplicationStackNameLabel]||\"\",e.ApplicationKind=n[C.KubernetesPortainerApplicationKindLabel]||\"\",e.ApplicationOwner=n[C.KubernetesPortainerApplicationOwnerLabel]||\"\",e.ApplicationName=n[C.KubernetesPortainerApplicationNameLabel]||e.Name}if(e.Note=t.metadata.annotations&&t.metadata.annotations[C.KubernetesPortainerApplicationNote]||\"\",e.ResourcePool=t.metadata.namespace,o.length&&(e.Image=o[0].image),t.spec.template&&t.spec.template.spec&&t.spec.template.spec.imagePullSecrets&&t.spec.template.spec.imagePullSecrets.length&&(e.RegistryId=parseInt(t.spec.template.spec.imagePullSecrets[0].name.replace(\"registry-\",\"\"),10)),e.CreationDate=t.metadata.creationTimestamp,e.Env=g()(d()(w()(o,\"env\")),void 0),e.Pods=t.spec.selector?P.default.associatePodsAndApplication(n,t.spec.selector):[t],e.Limits=l()(o,((e,t)=>(t.resources.limits&&t.resources.limits.cpu&&(e.Cpu+=$.default.parseCPU(t.resources.limits.cpu)),t.resources.limits&&t.resources.limits.memory&&(e.Memory+=S()(t.resources.limits.memory,{base:10})),e)),{Cpu:0,Memory:0}),e.Requests=l()(o,((e,t)=>(t.resources.requests&&t.resources.requests.cpu&&(e.Cpu+=$.default.parseCPU(t.resources.requests.cpu)),t.resources.requests&&t.resources.requests.memory&&(e.Memory+=S()(t.resources.requests.memory,{base:10})),e)),{Cpu:0,Memory:0}),a){const t=a.spec.type;e.ServiceType=t,e.ServiceId=a.metadata.uid,e.ServiceName=a.metadata.name,e.ClusterIp=a.spec.clusterIP,e.ExternalIp=a.spec.externalIP,t===k.KubernetesServiceTypes.LOAD_BALANCER&&a.status.loadBalancer.ingress&&a.status.loadBalancer.ingress.length>0&&(e.LoadBalancerIPAddress=a.status.loadBalancer.ingress[0].ip||a.status.loadBalancer.ingress[0].hostname);const n=p()(...w()(o,(e=>e.ports))),r=function(e,t){const n=w()(e,(e=>{const t=new C.KubernetesApplicationPort;return t.Port=e.port,t.TargetPort=e.targetPort,t.NodePort=e.nodePort,t.Protocol=e.protocol,t}));return b()(n,(e=>{if(isNaN(e.TargetPort)){const n=f()(t,{name:e.TargetPort});n&&(e.TargetPort=n.containerPort)}})),n}(a.spec.ports,n),l=O.KubernetesIngressHelper.findSBoundServiceIngressesRules(i,a.metadata.name);b()(r,(e=>e.IngressRules=s()(l,(t=>t.Port===e.Port)))),e.PublishedPorts=r}if(t.spec.template?e.Volumes=t.spec.template.spec.volumes?t.spec.template.spec.volumes:[]:e.Volumes=t.spec.volumes,t.spec.volumeClaimTemplates){const n=w()(t.spec.volumeClaimTemplates,(e=>({name:e.metadata.name,persistentVolumeClaim:{claimName:e.metadata.name}}))),a=s()(n,(t=>!f()(e.Volumes,{persistentVolumeClaim:{claimName:t.persistentVolumeClaim.claimName}})));e.Volumes=p()(e.Volumes,a)}const c=s()(e.Volumes,(e=>e.persistentVolumeClaim||e.hostPath));e.PersistedFolders=w()(c,(e=>{const t=r()(d()(w()(o,\"volumeMounts\")),\"name\"),n=f()(t,{name:e.name});if(n){const t=new C.KubernetesApplicationPersistedFolder;return t.MountPath=n.mountPath,e.persistentVolumeClaim?t.PersistentVolumeClaimName=e.persistentVolumeClaim.claimName:t.HostPath=e.hostPath.path,t}})),e.PersistedFolders=g()(e.PersistedFolders,void 0),e.ConfigurationVolumes=l()(e.Volumes,((e,t)=>{if(t.configMap||t.secret){const n=f()(d()(w()(o,\"volumeMounts\")),{name:t.name});if(n){let a=[],r=\"\";if(t.configMap?(a=t.configMap.items,r=t.configMap.name):(a=t.secret.items,r=t.secret.secretName),a)b()(a,(t=>{const a=new C.KubernetesApplicationConfigurationVolume;a.fileMountPath=n.mountPath+\"/\"+t.path,a.rootMountPath=n.mountPath,a.configurationKey=t.key,a.configurationName=r,e.push(a)}));else{const t=new C.KubernetesApplicationConfigurationVolume;t.fileMountPath=n.mountPath,t.rootMountPath=n.mountPath,t.configurationName=r,e.push(t)}}}return e}),[])}static apiPodToApplication(e,t,n,a){const r=new C.KubernetesApplication;return U.applicationCommon(r,e,t,n,a),r.ApplicationType=C.KubernetesApplicationTypes.POD,r}static apiDeploymentToApplication(e,t,n,a){const r=new C.KubernetesApplication;return U.applicationCommon(r,e,t,n,a),r.ApplicationType=C.KubernetesApplicationTypes.DEPLOYMENT,r.DeploymentType=C.KubernetesApplicationDeploymentTypes.REPLICATED,r.DataAccessPolicy=C.KubernetesApplicationDataAccessPolicies.SHARED,r.RunningPodsCount=e.status.availableReplicas||e.status.replicas-e.status.unavailableReplicas||0,r.TotalPodsCount=e.spec.replicas,r}static apiDaemonSetToApplication(e,t,n,a){const r=new C.KubernetesApplication;return U.applicationCommon(r,e,t,n,a),r.ApplicationType=C.KubernetesApplicationTypes.DAEMONSET,r.DeploymentType=C.KubernetesApplicationDeploymentTypes.GLOBAL,r.DataAccessPolicy=C.KubernetesApplicationDataAccessPolicies.SHARED,r.RunningPodsCount=e.status.numberAvailable||e.status.desiredNumberScheduled-e.status.numberUnavailable||0,r.TotalPodsCount=e.status.desiredNumberScheduled,r}static apiStatefulSetToapplication(e,t,n,a){const r=new C.KubernetesApplication;return U.applicationCommon(r,e,t,n,a),r.ApplicationType=C.KubernetesApplicationTypes.STATEFULSET,r.DeploymentType=C.KubernetesApplicationDeploymentTypes.REPLICATED,r.DataAccessPolicy=C.KubernetesApplicationDataAccessPolicies.ISOLATED,r.RunningPodsCount=e.status.readyReplicas||0,r.TotalPodsCount=e.spec.replicas,r.HeadlessServiceName=e.spec.serviceName,r}static applicationToFormValues(e,t,n,a,r,i){const o=new A.KubernetesApplicationFormValues;o.ApplicationType=e.ApplicationType,o.ResourcePool=f()(t,[\"Namespace.Name\",e.ResourcePool]),o.Name=e.Name,o.Services=P.default.generateServicesFormValuesFromServices(e),o.Selector=P.default.generateSelectorFromService(e),o.StackName=e.StackName,o.ApplicationOwner=e.ApplicationOwner,o.ImageModel.Image=e.Image,o.ImageModel.Registry.Id=e.RegistryId,o.ReplicaCount=e.TotalPodsCount,o.MemoryLimit=$.default.megaBytesValue(e.Limits.Memory),o.CpuLimit=e.Limits.Cpu,o.DeploymentType=e.DeploymentType,o.DataAccessPolicy=e.DataAccessPolicy,o.EnvironmentVariables=P.default.generateEnvVariablesFromEnv(e.Env),o.PersistedFolders=P.default.generatePersistedFoldersFormValuesFromPersistedFolders(e.PersistedFolders,a),o.Configurations=P.default.generateConfigurationFormValuesFromEnvAndVolumes(e.Env,e.ConfigurationVolumes,n),o.AutoScaler=P.default.generateAutoScalerFormValueFromHorizontalPodAutoScaler(e.AutoScaler,o.ReplicaCount),o.PublishedPorts=P.default.generatePublishedPortsFormValuesFromPublishedPorts(e.ServiceType,e.PublishedPorts,i),o.Containers=e.Containers;const l=s()(o.PublishedPorts,(e=>e.IngressName)).length;return e.ServiceType===k.KubernetesServiceTypes.LOAD_BALANCER?o.PublishingType=C.KubernetesApplicationPublishingTypes.LOAD_BALANCER:e.ServiceType===k.KubernetesServiceTypes.NODE_PORT?o.PublishingType=C.KubernetesApplicationPublishingTypes.NODE_PORT:e.ServiceType===k.KubernetesServiceTypes.CLUSTER_IP&&l?o.PublishingType=C.KubernetesApplicationPublishingTypes.INGRESS:o.PublishingType=C.KubernetesApplicationPublishingTypes.CLUSTER_IP,e.Pods&&e.Pods.length&&P.default.generatePlacementsFormValuesFromAffinity(o,e.Pods[0].Affinity,r),o}static applicationFormValuesToApplication(e){e.ApplicationOwner=V.default.ownerToLabel(e.ApplicationOwner);const t=R.default.applicationFormValuesToVolumeClaims(e),n=P.default.hasRWX(t),a=e.DeploymentType===C.KubernetesApplicationDeploymentTypes.REPLICATED&&(0===t.length||t.length>0&&e.DataAccessPolicy===C.KubernetesApplicationDataAccessPolicies.SHARED)||e.ApplicationType===C.KubernetesApplicationTypes.DEPLOYMENT,r=e.DeploymentType===C.KubernetesApplicationDeploymentTypes.REPLICATED&&t.length>0&&e.DataAccessPolicy===C.KubernetesApplicationDataAccessPolicies.ISOLATED||e.ApplicationType===C.KubernetesApplicationTypes.STATEFULSET,i=e.DeploymentType===C.KubernetesApplicationDeploymentTypes.GLOBAL&&(0===t.length||t.length>0&&e.DataAccessPolicy===C.KubernetesApplicationDataAccessPolicies.SHARED&&n)||e.ApplicationType===C.KubernetesApplicationTypes.DAEMONSET;let s,o;if(a)s=I.default.applicationFormValuesToDeployment(e,t);else if(r)s=N.default.applicationFormValuesToStatefulSet(e,t);else{if(!i)throw new D.Z(\"Unable to determine which association to use to convert form\");s=T.default.applicationFormValuesToDaemonSet(e,t)}r&&(o=E.default.applicationFormValuesToHeadlessService(e));let l=E.default.applicationFormValuesToService(e);return l.Ports.length||(l=void 0),[s,o,E.default.applicationFormValuesToServices(e),l,t]}}t.default=U},40654:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(80738),s=n.n(i),o=n(66539),l=n.n(o),c=n(25445),d=n.n(c),u=n(59712),p=n.n(u),m=n(13978),g=n(40879),h=n(82434),f=n(30578);class v{static apiToPortainerAccessConfigMap(e){const t=new m.KubernetesPortainerAccessConfigMap;return t.Id=e.metadata.uid,t.Data=e.data,t}static createAccessPayload(e){const t=new g.KubernetesConfigMapCreatePayload;return p()(t,\"binaryData\"),t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.data=e.Data,t}static updateAccessPayload(e){const t=v.createAccessPayload(e);return t.metadata.uid=e.Id,t}static apiToConfigMap(e,t){const n=new m.KubernetesConfigMap;return n.Id=e.metadata.uid,n.Name=e.metadata.name,n.Namespace=e.metadata.namespace,n.ConfigurationOwner=e.metadata.labels?e.metadata.labels[h.KubernetesPortainerConfigurationOwnerLabel]:\"\",n.CreationDate=e.metadata.creationTimestamp,n.Yaml=t?t.data:\"\",n.Data=d()(l()(e.data,((e,t)=>{const n=new f.KubernetesConfigurationFormValuesEntry;return n.Key=t,n.Value=e,n})),l()(e.binaryData,((e,t)=>{const n=new f.KubernetesConfigurationFormValuesEntry;return n.Key=t,n.Value=e,n.IsBinary=!0,n}))),n}static defaultConfigMap(e,t){const n=new m.KubernetesConfigMap;return n.Name=t,n.Namespace=e,n}static createPayload(e){const t=new g.KubernetesConfigMapCreatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace;const n=s()(e.ConfigurationOwner,{length:63,omission:\"\"});return t.metadata.labels[h.KubernetesPortainerConfigurationOwnerLabel]=n,r()(e.Data,(e=>{e.IsBinary?t.binaryData[e.Key]=e.Value:t.data[e.Key]=e.Value})),t}static updatePayload(e){const t=new g.KubernetesConfigMapUpdatePayload;return t.metadata.uid=e.Id,t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[h.KubernetesPortainerConfigurationOwnerLabel]=e.ConfigurationOwner,r()(e.Data,(e=>{e.IsBinary?t.binaryData[e.Key]=e.Value:t.data[e.Key]=e.Value})),t}static configurationFormValuesToConfigMap(e){const t=new m.KubernetesConfigMap;return t.Id=e.Id,t.Name=e.Name,t.Namespace=e.ResourcePool.Namespace.Name,t.ConfigurationOwner=e.ConfigurationOwner,t.Data=e.Data,t}}t.default=v},10241:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(82434);t.default=class{static secretToConfiguration(e){const t=new i.KubernetesConfiguration;return t.Type=i.KubernetesConfigurationTypes.SECRET,t.Id=e.Id,t.Name=e.Name,t.Namespace=e.Namespace,t.CreationDate=e.CreationDate,t.Yaml=e.Yaml,r()(e.Data,(e=>{t.Data[e.Key]=e.Value})),t.ConfigurationOwner=e.ConfigurationOwner,t.IsRegistrySecret=e.IsRegistrySecret,t}static configMapToConfiguration(e){const t=new i.KubernetesConfiguration;return t.Type=i.KubernetesConfigurationTypes.CONFIGMAP,t.Id=e.Id,t.Name=e.Name,t.Namespace=e.Namespace,t.CreationDate=e.CreationDate,t.Yaml=e.Yaml,r()(e.Data,(e=>{t.Data[e.Key]=e.Value})),t.ConfigurationOwner=e.ConfigurationOwner,t}}},12512:function(e,t,n){\"use strict\";n.r(t);var a=n(34901),r=n(12745),i=n(82935),s=n(7172),o=n(57947),l=n(22229),c=n(12925),d=n(20886);class u{static applicationFormValuesToDaemonSet(e,t){const n=new r.KubernetesDaemonSet;return n.Namespace=e.ResourcePool.Namespace.Name,n.Name=e.Name,n.StackName=e.StackName?e.StackName:e.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n.ImageModel=e.ImageModel,n.CpuLimit=e.CpuLimit,n.MemoryLimit=l.default.bytesValue(e.MemoryLimit),n.Env=o.default.generateEnvFromEnvVariables(e.EnvironmentVariables),o.default.generateVolumesFromPersistentVolumClaims(n,t),o.default.generateEnvOrVolumesFromConfigurations(n,e.Configurations),o.default.generateAffinityFromPlacements(n,e),n}static createPayload(e){const t=new i.KubernetesDaemonSetCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[s.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[s.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[s.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.annotations[s.KubernetesPortainerApplicationNote]=e.Note,t.spec.replicas=e.ReplicaCount,t.spec.selector.matchLabels.app=e.Name,t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[s.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,t.spec.template.spec.containers[0].image=(0,d.buildImageFullURI)(e.ImageModel),e.ImageModel.Registry&&e.ImageModel.Registry.Authentication&&(t.spec.template.spec.imagePullSecrets=[{name:`registry-${e.ImageModel.Registry.Id}`}]),t.spec.template.spec.affinity=e.Affinity,c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].env\",e.Env),c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].volumeMounts\",e.VolumeMounts),c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.volumes\",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}static patchPayload(e,t){const n=u.createPayload(e),r=u.createPayload(t);return a.qu(n,r)}}t.default=u},95929:function(e,t,n){\"use strict\";n.r(t);var a=n(34901),r=n(59238),i=n(95008),s=n(7172),o=n(57947),l=n(22229),c=n(12925),d=n(20886);class u{static applicationFormValuesToDeployment(e,t){const n=new r.KubernetesDeployment;return n.Namespace=e.ResourcePool.Namespace.Name,n.Name=e.Name,n.StackName=e.StackName?e.StackName:e.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n.ReplicaCount=e.ReplicaCount,n.ImageModel=e.ImageModel,n.CpuLimit=e.CpuLimit,n.MemoryLimit=l.default.bytesValue(e.MemoryLimit),n.Env=o.default.generateEnvFromEnvVariables(e.EnvironmentVariables),n.Containers=e.Containers,o.default.generateVolumesFromPersistentVolumClaims(n,t),o.default.generateEnvOrVolumesFromConfigurations(n,e.Configurations),o.default.generateAffinityFromPlacements(n,e),n}static createPayload(e){const t=new i.KubernetesDeploymentCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[s.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[s.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[s.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.annotations[s.KubernetesPortainerApplicationNote]=e.Note,t.spec.replicas=e.ReplicaCount,t.spec.selector.matchLabels.app=e.Name,t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[s.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,e.ImageModel&&(t.spec.template.spec.containers[0].image=(0,d.buildImageFullURI)(e.ImageModel),e.ImageModel.Registry&&e.ImageModel.Registry.Authentication&&(t.spec.template.spec.imagePullSecrets=[{name:`registry-${e.ImageModel.Registry.Id}`}])),t.spec.template.spec.affinity=e.Affinity,c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].env\",e.Env),c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].volumeMounts\",e.VolumeMounts),c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.volumes\",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}static patchPayload(e,t){const n=u.createPayload(e),r=u.createPayload(t);return a.qu(n,r)}}t.default=u},43083:function(e,t,n){\"use strict\";n.r(t);var a=n(82239);t.default=class{static apiToEvent(e){const t=new a.KubernetesEvent;return t.Id=e.metadata.uid,t.Date=e.lastTimestamp||e.eventTime,t.Type=e.type,t.Message=e.message,t.Involved=e.involvedObject,t}}},2544:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return u}});var a=n(80738),r=n.n(a),i=n(4622),s=n.n(i),o=n(35076),l=n(63829),c=n(72210),d=n(7506);class u{static apiToNamespace(e,t){const n=new o.KubernetesNamespace;if(n.Id=e.metadata.uid,n.Name=e.metadata.name,n.CreationDate=e.metadata.creationTimestamp,n.Status=e.status.phase,n.Yaml=t?t.data:\"\",n.ResourcePoolName=e.metadata.labels?e.metadata.labels[c.KubernetesPortainerResourcePoolNameLabel]:\"\",n.ResourcePoolOwner=e.metadata.labels?e.metadata.labels[c.KubernetesPortainerResourcePoolOwnerLabel]:\"\",n.IsSystem=d.default.isDefaultSystemNamespace(e.metadata.name),e.metadata.labels){const t=e.metadata.labels[c.KubernetesPortainerNamespaceSystemLabel];s()(t)||(n.IsSystem=\"true\"===t)}return n}static createPayload(e){const t=new l.KubernetesNamespaceCreatePayload;if(t.metadata.name=e.Name,t.metadata.labels[c.KubernetesPortainerResourcePoolNameLabel]=e.ResourcePoolName,e.ResourcePoolOwner){const n=r()(e.ResourcePoolOwner,{length:63,omission:\"\"});t.metadata.labels[c.KubernetesPortainerResourcePoolOwnerLabel]=n}return t}}},56636:function(e,t,n){\"use strict\";n.r(t);var a=n(4622),r=n.n(a),i=n(66539),s=n.n(i),o=n(71204),l=n.n(o),c=n(51235),d=n.n(c),u=n(34901),p=n(72913),m=n(88296),g=n(7172);class h{static apiToPersistentVolumeClaim(e,t,n){const a=new p.KubernetesPersistentVolumeClaim;return a.Id=e.metadata.uid,a.Name=e.metadata.name,a.Namespace=e.metadata.namespace,a.CreationDate=e.metadata.creationTimestamp,a.Storage=`${e.spec.resources.requests.storage}B`,a.StorageClass=d()(t,{Name:e.spec.storageClassName}),a.Yaml=n?n.data:\"\",a.ApplicationOwner=e.metadata.labels?e.metadata.labels[g.KubernetesPortainerApplicationOwnerLabel]:\"\",a.ApplicationName=e.metadata.labels?e.metadata.labels[g.KubernetesPortainerApplicationNameLabel]:\"\",a}static applicationFormValuesToVolumeClaims(e){return l()(e.PersistedFolders,(e=>e.NeedsDeletion)),s()(e.PersistedFolders,(t=>{const n=new p.KubernetesPersistentVolumeClaim;if(r()(t.ExistingVolume))t.PersistentVolumeClaimName?(n.Name=t.PersistentVolumeClaimName,n.PreviousName=t.PersistentVolumeClaimName):n.Name=e.Name+\"-\"+n.Name,n.Storage=\"\"+t.Size+t.SizeUnit.charAt(0),n.StorageClass=t.StorageClass;else{const e=t.ExistingVolume.PersistentVolumeClaim;n.Name=e.Name,t.PersistentVolumeClaimName&&(n.PreviousName=t.PersistentVolumeClaimName),n.StorageClass=e.StorageClass,n.Storage=e.Storage.charAt(0),n.CreationDate=e.CreationDate,n.Id=e.Id}return n.MountPath=t.ContainerPath,n.Namespace=e.ResourcePool.Namespace.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n}))}static createPayload(e){const t=new m.KubernetesPersistentVolumClaimCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.spec.resources.requests.storage=e.Storage,t.spec.storageClassName=e.StorageClass?e.StorageClass.Name:\"\",t.metadata.labels.app=e.ApplicationName,t.metadata.labels[g.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.labels[g.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t}static patchPayload(e,t){const n=h.createPayload(e),a=h.createPayload(t);return u.qu(n,a)}}t.default=h},57911:function(e,t,n){\"use strict\";n.r(t);var a=n(44716),r=n.n(a),i=n(46545),s=n.n(i),o=n(66539),l=n.n(o),c=n(72210),d=n(35076),u=n(47086),p=n(57456);t.default=class{static apiToResourcePool(e){const t=new c.KubernetesResourcePool;return t.Namespace=e,t.Yaml=e.Yaml,t}static formValuesToResourcePool(e){const t=new d.KubernetesNamespace;t.Name=e.Name,t.ResourcePoolName=e.Name,t.ResourcePoolOwner=e.Owner,t.IsSystem=e.IsSystem;const n=p.default.resourcePoolFormValuesToResourceQuota(e),a=l()(e.IngressClasses,(e=>{if(e.Selected)return e.Namespace=t.Name,u.KubernetesIngressConverter.resourcePoolIngressClassFormValueToIngress(e)})),i=s()(a,void 0),o=l()(e.Registries,(t=>(t.RegistryAccesses[e.EndpointId]||(t.RegistryAccesses[e.EndpointId]={Namespaces:[]}),r()(t.RegistryAccesses[e.EndpointId].Namespaces,e.Name)||(t.RegistryAccesses[e.EndpointId].Namespaces=[...t.RegistryAccesses[e.EndpointId].Namespaces,e.Name]),t)));return[t,n,i,o]}}},57456:function(e,t,n){\"use strict\";n.r(t);var a=n(34901),r=n(29500),i=n.n(r),s=n(47685),o=n(75976),l=n(21458),c=n(72210),d=n(22229),u=n(12925),p=n(16496);class m{static apiToResourceQuota(e,t){const n=new s.KubernetesResourceQuota;return n.Id=e.metadata.uid,n.Namespace=e.metadata.namespace,n.Name=e.metadata.name,n.CpuLimit=0,n.MemoryLimit=0,e.spec.hard&&e.spec.hard[s.KubernetesPortainerResourceQuotaCPULimit]&&(n.CpuLimit=d.default.parseCPU(e.spec.hard[s.KubernetesPortainerResourceQuotaCPULimit])),e.spec.hard&&e.spec.hard[s.KubernetesPortainerResourceQuotaMemoryLimit]&&(n.MemoryLimit=i()(e.spec.hard[s.KubernetesPortainerResourceQuotaMemoryLimit],{base:10})),n.MemoryLimitUsed=0,e.status.used&&e.status.used[s.KubernetesPortainerResourceQuotaMemoryLimit]&&(n.MemoryLimitUsed=i()(e.status.used[s.KubernetesPortainerResourceQuotaMemoryLimit],{base:10})),n.CpuLimitUsed=0,e.status.used&&e.status.used[s.KubernetesPortainerResourceQuotaCPULimit]&&(n.CpuLimitUsed=d.default.parseCPU(e.status.used[s.KubernetesPortainerResourceQuotaCPULimit])),n.Yaml=t?t.data:\"\",n.ResourcePoolName=e.metadata.labels?e.metadata.labels[c.KubernetesPortainerResourcePoolNameLabel]:\"\",n.ResourcePoolOwner=e.metadata.labels?e.metadata.labels[c.KubernetesPortainerResourcePoolOwnerLabel]:\"\",n}static createPayload(e){const t=new o.KubernetesResourceQuotaCreatePayload;return t.metadata.name=l.default.generateResourceQuotaName(e.Namespace),t.metadata.namespace=e.Namespace,u.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${s.KubernetesPortainerResourceQuotaCPURequest}']`,e.CpuLimit),u.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${s.KubernetesPortainerResourceQuotaMemoryRequest}']`,e.MemoryLimit),u.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${s.KubernetesPortainerResourceQuotaCPULimit}']`,e.CpuLimit),u.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${s.KubernetesPortainerResourceQuotaMemoryLimit}']`,e.MemoryLimit),t.metadata.labels[c.KubernetesPortainerResourcePoolNameLabel]=e.ResourcePoolName,e.ResourcePoolOwner&&(t.metadata.labels[c.KubernetesPortainerResourcePoolOwnerLabel]=e.ResourcePoolOwner),t}static updatePayload(e){const t=m.createPayload(e);return t.metadata.uid=e.Id,t}static patchPayload(e,t){const n=m.createPayload(e),r=m.createPayload(t);return a.qu(n,r)}static quotaToResourcePoolFormValues(e){const t=new p.KubernetesResourcePoolFormValues(s.KubernetesResourceQuotaDefaults);return t.Name=e.Namespace,t.CpuLimit=e.CpuLimit,t.MemoryLimit=d.default.megaBytesValue(e.MemoryLimit),(t.CpuLimit||t.MemoryLimit)&&(t.HasQuota=!0),t.StorageClasses=e.StorageRequests,t}static resourcePoolFormValuesToResourceQuota(e){if(e.HasQuota){const t=new s.KubernetesResourceQuota(e.Name);return e.HasQuota&&(t.CpuLimit=e.CpuLimit,t.MemoryLimit=d.default.bytesValue(e.MemoryLimit)),t.ResourcePoolName=e.Name,t.ResourcePoolOwner=e.Owner,t}}}t.default=m},52341:function(e,t,n){\"use strict\";n.r(t);var a=n(44716),r=n.n(a),i=n(66539),s=n.n(i),o=n(41952),l=n.n(o),c=n(80738),d=n.n(c),u=n(60622),p=n(69730),m=n(82434),g=n(30578);t.default=class{static createPayload(e){const t=new u.KubernetesSecretCreatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace;const n=d()(e.ConfigurationOwner,{length:63,omission:\"\"});t.metadata.labels[m.KubernetesPortainerConfigurationOwnerLabel]=n;let a=\"\";return l()(e.Data,(e=>{e.IsBinary?(t.data[e.Key]=e.Value,a+=\"\"!==a?\"|\"+e.Key:e.Key):t.stringData[e.Key]=e.Value})),\"\"!==a&&(t.metadata.annotations[m.KubernetesPortainerConfigurationDataAnnotation]=a),t}static updatePayload(e){const t=new u.KubernetesSecretUpdatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[m.KubernetesPortainerConfigurationOwnerLabel]=e.ConfigurationOwner;let n=\"\";return l()(e.Data,(e=>{e.IsBinary?(t.data[e.Key]=e.Value,n+=\"\"!==n?\"|\"+e.Key:e.Key):t.stringData[e.Key]=e.Value})),\"\"!==n&&(t.metadata.annotations[m.KubernetesPortainerConfigurationDataAnnotation]=n),t}static apiToSecret(e,t){const n=new p.KubernetesApplicationSecret;return n.Id=e.metadata.uid,n.Name=e.metadata.name,n.Namespace=e.metadata.namespace,n.ConfigurationOwner=e.metadata.labels?e.metadata.labels[m.KubernetesPortainerConfigurationOwnerLabel]:\"\",n.CreationDate=e.metadata.creationTimestamp,n.IsRegistrySecret=e.metadata.annotations&&!!e.metadata.annotations[\"portainer.io/registry.id\"],n.Yaml=t?t.data:\"\",n.Data=s()(e.data,((t,n)=>{const a=e.metadata.annotations?e.metadata.annotations[m.KubernetesPortainerConfigurationDataAnnotation]:\"\",i=new g.KubernetesConfigurationFormValuesEntry;return i.Key=n,i.IsBinary=r()(a,i.Key),i.IsBinary?i.Value=t:i.Value=atob(t),i})),n}static configurationFormValuesToSecret(e){const t=new p.KubernetesApplicationSecret;return t.Name=e.Name,t.Namespace=e.ResourcePool.Namespace.Name,t.ConfigurationOwner=e.ConfigurationOwner,t.Data=e.Data,t}}},86998:function(e,t,n){\"use strict\";n.r(t);var a=n(46545),r=n.n(a),i=n(93715),s=n.n(i),o=n(66539),l=n.n(o),c=n(94946),d=n.n(c),u=n(34901),p=n(31249),m=n(7172),g=n(79990),h=n(57637);class f{static applicationFormValuesToService(e){const t=new g.KubernetesService;t.Namespace=e.ResourcePool.Namespace.Name,t.Name=e.Name,t.StackName=e.StackName?e.StackName:e.Name,t.ApplicationOwner=e.ApplicationOwner,t.ApplicationName=e.Name,e.PublishingType===m.KubernetesApplicationPublishingTypes.NODE_PORT?t.Type=g.KubernetesServiceTypes.NODE_PORT:e.PublishingType===m.KubernetesApplicationPublishingTypes.LOAD_BALANCER&&(t.Type=g.KubernetesServiceTypes.LOAD_BALANCER);const n=l()(e.PublishedPorts,(n=>function(e,t,n){if(t.IsNew||!t.NeedsDeletion){const a=e.Name,r=new g.KubernetesServicePort;return r.name=d()(a+\"-\"+t.ContainerPort+\"-\"+t.Protocol),r.port=n===g.KubernetesServiceTypes.LOAD_BALANCER?t.LoadBalancerPort:t.ContainerPort,r.targetPort=t.ContainerPort,r.protocol=t.Protocol,n===g.KubernetesServiceTypes.NODE_PORT&&t.NodePort?r.nodePort=t.NodePort:n===g.KubernetesServiceTypes.LOAD_BALANCER&&t.LoadBalancerNodePort?r.nodePort=t.LoadBalancerNodePort:delete r.nodePort,r}}(e,n,t.Type)));return t.Ports=s()(r()(n,void 0),(e=>e.targetPort+e.protocol)),t}static applicationFormValuesToServices(e){let t=[];return e.Services.forEach((function(n){const a=new g.KubernetesService;a.Namespace=e.ResourcePool.Namespace.Name,a.Name=n.Name,a.StackName=e.StackName?e.StackName:e.Name,a.ApplicationOwner=e.ApplicationOwner,a.ApplicationName=e.Name,n.Type===m.KubernetesApplicationPublishingTypes.NODE_PORT?a.Type=g.KubernetesServiceTypes.NODE_PORT:n.Type===m.KubernetesApplicationPublishingTypes.LOAD_BALANCER?a.Type=g.KubernetesServiceTypes.LOAD_BALANCER:n.Type===m.KubernetesApplicationPublishingTypes.CLUSTER_IP&&(a.Type=g.KubernetesServiceTypes.CLUSTER_IP),a.Ingress=n.Ingress,void 0!==n.Selector?a.Selector=n.Selector:a.Selector={app:e.Name};let r=[];n.Ports.forEach((function(e,t){const n=new g.KubernetesServicePort;n.name=\"port-\"+t,n.port=e.port,e.nodePort&&(n.nodePort=e.nodePort),n.protocol=e.protocol,n.targetPort=e.targetPort,n.ingress=e.ingress,r.push(n)})),a.Ports=r,t.push(a)})),t}static applicationFormValuesToHeadlessService(e){const t=f.applicationFormValuesToService(e);return t.Name=h.default.generateHeadlessServiceName(e.Name),t.Headless=!0,t.Selector={app:e.Name},t}static createPayload(e){const t=new p.KubernetesServiceCreatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[m.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[m.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[m.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner;const n=[];return e.Ports.forEach((e=>{const t={};t.name=e.name,t.port=e.port,t.nodePort=e.nodePort,t.protocol=e.protocol,t.targetPort=e.targetPort,n.push(t)})),t.spec.ports=n,t.spec.selector=e.Selector,e.Headless?(t.spec.clusterIP=g.KubernetesServiceHeadlessClusterIP,delete t.spec.ports):e.Type&&(t.spec.type=e.Type),t}static patchPayload(e,t){const n=f.createPayload(e),a=f.createPayload(t);return u.qu(n,a)}}t.default=f},15986:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(34901),s=n(91920),o=n(13871),l=n(7172),c=n(57947),d=n(22229),u=n(12925),p=n(20886),m=n(56636);class g{static applicationFormValuesToStatefulSet(e,t){const n=new s.KubernetesStatefulSet;return n.Namespace=e.ResourcePool.Namespace.Name,n.Name=e.Name,n.StackName=e.StackName?e.StackName:e.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n.ReplicaCount=e.ReplicaCount,n.ImageModel=e.ImageModel,n.CpuLimit=e.CpuLimit,n.MemoryLimit=d.default.bytesValue(e.MemoryLimit),n.Env=c.default.generateEnvFromEnvVariables(e.EnvironmentVariables),c.default.generateVolumesFromPersistentVolumClaims(n,t),c.default.generateEnvOrVolumesFromConfigurations(n,e.Configurations),c.default.generateAffinityFromPlacements(n,e),n}static createPayload(e){const t=new o.KubernetesStatefulSetCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[l.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[l.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[l.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.annotations[l.KubernetesPortainerApplicationNote]=e.Note,t.spec.replicas=e.ReplicaCount,t.spec.serviceName=e.ServiceName,t.spec.selector.matchLabels.app=e.Name,t.spec.volumeClaimTemplates=r()(e.VolumeClaims,(e=>m.default.createPayload(e))),t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[l.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,e.ImageModel.Image&&(t.spec.template.spec.containers[0].image=(0,p.buildImageFullURI)(e.ImageModel),e.ImageModel.Registry&&e.ImageModel.Registry.Authentication&&(t.spec.template.spec.imagePullSecrets=[{name:`registry-${e.ImageModel.Registry.Id}`}])),t.spec.template.spec.affinity=e.Affinity,u.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].env\",e.Env),u.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].volumeMounts\",e.VolumeMounts),u.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.volumes\",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}static patchPayload(e,t){const n=g.createPayload(e),a=g.createPayload(t);return i.qu(n,a)}}t.default=g},17981:function(e,t,n){\"use strict\";n.r(t);var a=n(34901),r=n(86871),i=n(79824);class s{static apiToStorageClass(e){const t=new r.KubernetesStorageClass;return t.Name=e.metadata.name,t.Provisioner=e.provisioner,t.AllowVolumeExpansion=e.allowVolumeExpansion,t}static createPayload(e){const t=new i.KubernetesStorageClassCreatePayload;return t.metadata.name=e.Name,t.provisioner=e.Provisioner,t.allowVolumeExpansion=e.AllowVolumeExpansion,t}static patchPayload(e,t){const n=s.createPayload(e),r=s.createPayload(t);return a.qu(n,r)}}t.default=s},92192:function(e,t,n){\"use strict\";n.r(t);var a=n(72913);t.default=class{static pvcToVolume(e,t){const n=new a.KubernetesVolume;return n.PersistentVolumeClaim=e,n.ResourcePool=t,n}}},79023:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(79403),s=n(52657),o=n(6793);function l(e){e.register({name:\"kubernetes.templates\",url:\"/templates\",abstract:!0}),e.register({name:\"kubernetes.templates.custom\",url:\"/custom\",views:{\"content@\":{component:\"kubeCustomTemplatesView\"}}}),e.register({name:\"kubernetes.templates.custom.new\",url:\"/new?fileContent\",views:{\"content@\":{component:\"kubeCreateCustomTemplateView\"}},params:{fileContent:\"\"}}),e.register({name:\"kubernetes.templates.custom.edit\",url:\"/:id\",views:{\"content@\":{component:\"kubeEditCustomTemplateView\"}}})}l.$inject=[\"$stateRegistryProvider\"],t.default=r().module(\"portainer.kubernetes.custom-templates\",[]).config(l).component(\"kubeCustomTemplatesView\",i.kubeCustomTemplatesView).component(\"kubeEditCustomTemplateView\",s.kubeEditCustomTemplateView).component(\"kubeCreateCustomTemplateView\",o.kubeCreateCustomTemplateView).name},6793:function(e,t,n){\"use strict\";n.r(t),n.d(t,{kubeCreateCustomTemplateView:function(){return r}});var a=n(2267);const r={templateUrl:n(21843),controller:a.default}},2267:function(e,t,n){\"use strict\";n.r(t);var a=n(56619),r=n(19898),i=n(26951),s=n(20037);class o{constructor(e,t,n,i,o,l,c,d){Object.assign(this,{$async:e,$state:t,Authentication:n,CustomTemplateService:i,FormValidator:o,ModalService:l,Notifications:c,ResourceControlService:d}),this.methodOptions=[(0,a.es)(\"method_editor\",\"fa fa-edit\",\"Web editor\",\"Use our Web editor\",\"editor\"),(0,a.es)(\"method_upload\",\"fa fa-upload\",\"Upload\",\"Upload from your computer\",\"upload\")],this.templates=null,this.isTemplateVariablesEnabled=s.aW,this.state={method:\"editor\",actionInProgress:!1,formValidationError:\"\",isEditorDirty:!1,isTemplateValid:!0},this.formValues={FileContent:\"\",File:null,Title:\"\",Description:\"\",Note:\"\",Logo:\"\",AccessControlData:new r.AccessControlFormData,Variables:[]},this.onChangeFile=this.onChangeFile.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onBeforeOnload=this.onBeforeOnload.bind(this),this.handleChange=this.handleChange.bind(this),this.onVariablesChange=this.onVariablesChange.bind(this)}onChangeMethod(e){this.state.method=e,this.formValues.Variables=[]}onChangeFileContent(e){this.handleChange({FileContent:e}),this.parseTemplate(e),this.state.isEditorDirty=!0}parseTemplate(e){if(!this.isTemplateVariablesEnabled)return;const t=(0,i.NT)(e),n=!!t;this.state.isTemplateValid=n,n&&this.onVariablesChange((0,i.fD)(this.formValues.Variables,t))}onVariablesChange(e){this.handleChange({Variables:e})}onChangeFile(e){this.handleChange({File:e})}handleChange(e){return this.$async((async()=>{this.formValues={...this.formValues,...e}}))}async createCustomTemplate(){return this.$async((async()=>{const{method:e}=this.state;if(this.validateForm(e)){this.state.actionInProgress=!0;try{const t=await this.createCustomTemplateByMethod(e,this.formValues),n=this.formValues.AccessControlData,a=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(a,n,t.ResourceControl),this.Notifications.success(\"Custom template successfully created\"),this.state.isEditorDirty=!1,this.$state.go(\"kubernetes.templates.custom\")}catch(e){this.Notifications.error(\"Failure\",e,\"Failed creating custom template\")}finally{this.state.actionInProgress=!1}}}))}createCustomTemplateByMethod(e,t){switch(t.Type=3,e){case\"editor\":return this.createCustomTemplateFromFileContent(t);case\"upload\":return this.createCustomTemplateFromFileUpload(t)}}createCustomTemplateFromFileContent(e){return this.CustomTemplateService.createCustomTemplateFromFileContent(e)}createCustomTemplateFromFileUpload(e){return this.CustomTemplateService.createCustomTemplateFromFileUpload(e)}validateForm(e){if(this.state.formValidationError=\"\",\"editor\"===e&&\"\"===this.formValues.FileContent)return this.state.formValidationError=\"Template file content must not be empty\",!1;const t=this.formValues.Title;if(this.templates.some((e=>e.Title===t)))return this.state.formValidationError=\"A template with the same name already exists\",!1;if(!this.state.isTemplateValid)return this.state.formValidationError=\"Template is not valid\",!1;const n=this.Authentication.isAdmin(),a=this.formValues.AccessControlData,r=this.FormValidator.validateAccessControl(a,n);return!r||(this.state.formValidationError=r,!1)}async $onInit(){return this.$async((async()=>{const{fileContent:e,type:t}=this.$state.params;this.formValues.FileContent=e,this.parseTemplate(e),t&&(this.formValues.Type=+t);try{this.templates=await this.CustomTemplateService.customTemplates(3)}catch(e){this.Notifications.error(\"Failure loading\",e,\"Failed loading custom templates\")}this.state.loading=!1,window.addEventListener(\"beforeunload\",this.onBeforeOnload)}))}$onDestroy(){window.removeEventListener(\"beforeunload\",this.onBeforeOnload)}isEditorDirty(){return\"editor\"===this.state.method&&this.formValues.FileContent&&this.state.isEditorDirty}onBeforeOnload(e){this.isEditorDirty()&&(e.preventDefault(),e.returnValue=\"\")}uiCanExit(){if(this.isEditorDirty())return this.ModalService.confirmWebEditorDiscard()}}o.$inject=[\"$async\",\"$state\",\"Authentication\",\"CustomTemplateService\",\"FormValidator\",\"ModalService\",\"Notifications\",\"ResourceControlService\"],t.default=o},79403:function(e,t,n){\"use strict\";n.r(t),n.d(t,{kubeCustomTemplatesView:function(){return r}});var a=n(11916);const r={templateUrl:n(66295),controller:a.default}},11916:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return o}});var a=n(71204),r=n.n(a),i=n(51235),s=n.n(i);class o{constructor(e,t,n,a,r,i,s){Object.assign(this,{$async:e,$state:t,Authentication:n,CustomTemplateService:a,FormValidator:r,ModalService:i,Notifications:s}),this.state={selectedTemplate:null,formValidationError:\"\",actionInProgress:!1},this.currentUser={isAdmin:!1,id:null},this.isEditAllowed=this.isEditAllowed.bind(this),this.getTemplates=this.getTemplates.bind(this),this.validateForm=this.validateForm.bind(this),this.confirmDelete=this.confirmDelete.bind(this),this.selectTemplate=this.selectTemplate.bind(this)}selectTemplate(e){this.$state.go(\"kubernetes.deploy\",{templateId:e.Id})}isEditAllowed(e){return this.currentUser.isAdmin||this.currentUser.id===e.CreatedByUserId}getTemplates(){return this.$async((async()=>{try{this.templates=await this.CustomTemplateService.customTemplates(3)}catch(e){this.Notifications.error(\"Failed loading templates\",e,\"Unable to load custom templates\")}}))}validateForm(e,t){this.state.formValidationError=\"\";const n=this.FormValidator.validateAccessControl(e,t);return!n||(this.state.formValidationError=n,!1)}confirmDelete(e){return this.$async((async()=>{if(await this.ModalService.confirmDeletionAsync(\"Are you sure that you want to delete this template?\"))try{var t=s()(this.templates,{Id:e});await this.CustomTemplateService.remove(e),this.Notifications.success(\"Template successfully deleted\",t&&t.Title),r()(this.templates,{Id:e})}catch(e){this.Notifications.error(\"Failure\",e,\"Failed to delete template\")}}))}$onInit(){this.getTemplates(),this.currentUser.isAdmin=this.Authentication.isAdmin();const e=this.Authentication.getUserDetails();this.currentUser.id=e.ID}}o.$inject=[\"$async\",\"$state\",\"Authentication\",\"CustomTemplateService\",\"FormValidator\",\"ModalService\",\"Notifications\"]},52657:function(e,t,n){\"use strict\";n.r(t),n.d(t,{kubeEditCustomTemplateView:function(){return r}});var a=n(69199);const r={templateUrl:n(13968),controller:a.default}},69199:function(e,t,n){\"use strict\";n.r(t);var a=n(24989),r=n(19898),i=n(20037),s=n(26951);class o{constructor(e,t,n,a,r,s,o,l){Object.assign(this,{$async:e,$state:t,ModalService:n,Authentication:a,CustomTemplateService:r,FormValidator:s,Notifications:o,ResourceControlService:l}),this.isTemplateVariablesEnabled=i.aW,this.formValues=null,this.state={formValidationError:\"\",isEditorDirty:!1,isTemplateValid:!0},this.templates=[],this.getTemplate=this.getTemplate.bind(this),this.submitAction=this.submitAction.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this),this.handleChange=this.handleChange.bind(this),this.onVariablesChange=this.onVariablesChange.bind(this)}getTemplate(){return this.$async((async()=>{try{const{id:e}=this.$state.params,[t,n]=await Promise.all([this.CustomTemplateService.customTemplate(e),this.CustomTemplateService.customTemplateFile(e)]);t.FileContent=n,t.Variables=t.Variables||[],this.formValues=t,this.parseTemplate(n),this.oldFileContent=this.formValues.FileContent,this.formValues.ResourceControl=new a.w(t.ResourceControl),this.formValues.AccessControlData=new r.AccessControlFormData}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve custom template data\")}}))}onVariablesChange(e){this.handleChange({Variables:e})}handleChange(e){return this.$async((async()=>{this.formValues={...this.formValues,...e}}))}parseTemplate(e){if(!this.isTemplateVariablesEnabled)return;const t=(0,s.NT)(e),n=!!t;this.state.isTemplateValid=n,n&&this.onVariablesChange((0,s.fD)(this.formValues.Variables,t))}validateForm(){if(this.state.formValidationError=\"\",!this.formValues.FileContent)return this.state.formValidationError=\"Template file content must not be empty\",!1;const e=this.formValues.Title,t=this.$state.params.id;if(this.templates.some((n=>n.Title===e&&n.Id!=t)))return this.state.formValidationError=`A template with the name ${e} already exists`,!1;const n=this.Authentication.isAdmin(),a=this.formValues.AccessControlData,r=this.FormValidator.validateAccessControl(a,n);return!r||(this.state.formValidationError=r,!1)}submitAction(){return this.$async((async()=>{if(this.validateForm()){this.actionInProgress=!0;try{await this.CustomTemplateService.updateCustomTemplate(this.formValues.Id,this.formValues);const e=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(e,this.formValues.AccessControlData,this.formValues.ResourceControl),this.Notifications.success(\"Custom template successfully updated\"),this.state.isEditorDirty=!1,this.$state.go(\"kubernetes.templates.custom\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update custom template\")}finally{this.actionInProgress=!1}}}))}onChangeFileContent(e){l(this.formValues.FileContent)!==l(e)&&(this.formValues.FileContent=e,this.parseTemplate(e),this.state.isEditorDirty=!0)}async $onInit(){this.$async((async()=>{this.getTemplate();try{this.templates=await this.CustomTemplateService.customTemplates()}catch(e){this.Notifications.error(\"Failure loading\",e,\"Failed loading custom templates\")}window.addEventListener(\"beforeunload\",this.onBeforeUnload)}))}isEditorDirty(){return this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty}uiCanExit(){if(this.isEditorDirty())return this.ModalService.confirmWebEditorDiscard()}onBeforeUnload(e){if(this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return e.preventDefault(),e.returnValue=\"\",\"\"}$onDestroy(){window.removeEventListener(\"beforeunload\",this.onBeforeUnload)}}function l(e=\"\"){return e.replace(/(\\r\\n|\\n|\\r)/gm,\"\")}o.$inject=[\"$async\",\"$state\",\"ModalService\",\"Authentication\",\"CustomTemplateService\",\"FormValidator\",\"Notifications\",\"ResourceControlService\"],t.default=o},59041:function(e,t,n){\"use strict\";n.r(t);var a=n(51235),r=n.n(a),i=n(66539),s=n.n(i),o=n(17465),l=n.n(o),c=n(5264);t.default=class{static apiToEndpoint(e){const t=new c.KubernetesEndpoint;t.Id=e.metadata.uid,t.Name=e.metadata.name,t.Namespace=e.metadata.namespace;const n=e.metadata.annotations?e.metadata.annotations[c.KubernetesEndpointAnnotationLeader]:\"\";if(n){const e=JSON.parse(n),a=l()(e.holderIdentity,\"_\");t.HolderIdentity=a[0]}return e.subsets&&(t.Subsets=s()(e.subsets,(e=>{const t=new c.KubernetesEndpointSubset;t.Ips=s()(e.addresses,\"ip\");const n=r()(e.ports,{name:\"https\"});return t.Port=n?n.port:void 0,t}))),t}}},5264:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesEndpointAnnotationLeader:function(){return a},KubernetesEndpoint:function(){return i},KubernetesEndpointSubset:function(){return o}});const a=\"control-plane.alpha.kubernetes.io/leader\",r=Object.freeze({Id:\"\",Name:\"\",Namespace:\"\",HolderIdentity:\"\",Subsets:[]});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}const s=Object.freeze({Ips:[],Port:0});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},42964:function(){angular.module(\"portainer.kubernetes\").factory(\"KubernetesEndpoints\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return function(a){return e(t+\"/:endpointId/kubernetes/api/v1\"+(a?\"/namespaces/:namespace\":\"\")+\"/endpoints/:id\",{endpointId:n.endpointID,namespace:a},{get:{method:\"GET\",ignoreLoadingBar:!0}})}}])},5427:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(29274),s=n.n(i),o=n(20023),l=n(59041);class c{constructor(e,t){this.$async=e,this.KubernetesEndpoints=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{const t=await this.KubernetesEndpoints(e).get().$promise;return r()(t.items,(e=>l.default.apiToEndpoint(e)))}catch(e){throw new o.Z(\"Unable to retrieve environments\",e)}}get(e){return this.$async(this.getAllAsync,e)}}c.$inject=[\"$async\",\"KubernetesEndpoints\"],t.default=c,s().module(\"portainer.kubernetes\").service(\"KubernetesEndpointService\",c)},11518:function(e,t,n){\"use strict\";n.r(t);var a=n(18622),r=n.n(a),i=n(94946),s=n.n(i),o=n(7172),l=n(31275);angular.module(\"portainer.kubernetes\").filter(\"kubernetesApplicationServiceTypeIcon\",(function(){return function(e){switch(s()(e)){case\"loadbalancer\":return\"fa-project-diagram\";case\"clusterip\":return\"fa-list-alt\";case\"nodeport\":return\"fa-list\"}}})).filter(\"kubernetesApplicationServiceTypeText\",(function(){return function(e){switch(s()(e)){case\"loadbalancer\":return\"LoadBalancer\";case\"clusterip\":return\"ClusterIP\";case\"nodeport\":return\"NodePort\"}}})).filter(\"kubernetesApplicationTypeText\",(function(){return function(e){switch(e){case o.KubernetesApplicationTypes.DEPLOYMENT:return o.KubernetesApplicationTypeStrings.DEPLOYMENT;case o.KubernetesApplicationTypes.DAEMONSET:return o.KubernetesApplicationTypeStrings.DAEMONSET;case o.KubernetesApplicationTypes.STATEFULSET:return o.KubernetesApplicationTypeStrings.STATEFULSET;case o.KubernetesApplicationTypes.POD:return o.KubernetesApplicationTypeStrings.POD;case o.KubernetesApplicationTypes.HELM:return o.KubernetesApplicationTypeStrings.HELM;default:return\"-\"}}})).filter(\"kubernetesApplicationCPUValue\",(function(){return function(e){return r()(e,2)}})).filter(\"kubernetesApplicationDataAccessPolicyIcon\",(function(){return function(e){switch(e){case o.KubernetesApplicationDataAccessPolicies.ISOLATED:return\"fa-cubes\";case o.KubernetesApplicationDataAccessPolicies.SHARED:return\"fa-cube\"}}})).filter(\"kubernetesApplicationDataAccessPolicyText\",(function(){return function(e){switch(e){case o.KubernetesApplicationDataAccessPolicies.ISOLATED:return\"Isolated\";case o.KubernetesApplicationDataAccessPolicies.SHARED:return\"Shared\"}}})).filter(\"kubernetesApplicationDataAccessPolicyTooltip\",(function(){return function(e){switch(e){case o.KubernetesApplicationDataAccessPolicies.ISOLATED:return\"All the instances of this application are using their own data.\";case o.KubernetesApplicationDataAccessPolicies.SHARED:return\"All the instances of this application are sharing the same data.\"}}})).filter(\"kubernetesApplicationConstraintNodeAffinityValue\",(function(){return function(e,t){return t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.IN||t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.NOT_IN?e:t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.EXISTS||t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.DOES_NOT_EXIST?\"\":t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.GREATER_THAN||t===l.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.LOWER_THAN?e[0]:\"\"}})).filter(\"kubernetesNodeLabelHumanReadbleText\",(function(){return function(e){return{\"kubernetes.io/os\":\"Operating system\",\"kubernetes.io/arch\":\"Architecture\",\"kubernetes.io/hostname\":\"Node\"}[e]||e}})).filter(\"kubernetesApplicationIngressEmptyHostname\",(function(){return function(e){return\"\"===e?\"<use IP>\":e}}))},63642:function(e,t,n){\"use strict\";n.r(t);var a=n(82434);angular.module(\"portainer.kubernetes\").filter(\"kubernetesConfigurationTypeText\",(function(){return function(e){switch(e){case a.KubernetesConfigurationTypes.SECRET:return\"Secret\";case a.KubernetesConfigurationTypes.CONFIGMAP:return\"ConfigMap\"}}}))},58311:function(e,t,n){\"use strict\";n.r(t);var a=n(94946),r=n.n(a);angular.module(\"portainer.kubernetes\").filter(\"kubernetesEventTypeColor\",(function(){return function(e){switch(r()(e)){case\"normal\":return\"info\";case\"warning\":return\"warning\";default:return\"danger\"}}}))},11634:function(){angular.module(\"portainer.kubernetes\").filter(\"kubernetesUsageLevelInfo\",(function(){return function(e){return e>=80?\"danger\":e>50&&e<80?\"warning\":\"success\"}}))},65744:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e,t){const n=t+\"/:endpointId/kubernetes/helm\",a=\"/api/templates/helm\";return e(n,{},{templates:{url:a,method:\"GET\",params:{repo:\"@repo\"},cache:!0},show:{url:`${a}/:type`,method:\"GET\",params:{repo:\"@repo\",chart:\"@chart\"},transformResponse:function(e){return{values:e}}},getHelmRepositories:{method:\"GET\",url:`${n}/repositories`},addHelmRepository:{method:\"POST\",url:`${n}/repositories`},list:{method:\"GET\",isArray:!0,params:{namespace:\"@namespace\",selector:\"@selector\",filter:\"@filter\",output:\"@output\"}},install:{method:\"POST\"},uninstall:{url:`${n}/:release`,method:\"DELETE\",params:{namespace:\"@namespace\"}}})}i.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\"],r().module(\"portainer.kubernetes\").factory(\"HelmFactory\",i)},40846:function(e,t,n){\"use strict\";n.r(t),n.d(t,{HelmService:function(){return s}});var a=n(29274),r=n.n(a),i=n(20023);function s(e){return{search:async function(t){try{return await e.templates({repo:t}).$promise}catch(e){throw new i.Z(\"Unable to retrieve helm charts\",e)}},values:async function(t,n){try{return await e.show({repo:t,chart:n,type:\"values\"}).$promise}catch(e){throw new i.Z(\"Unable to retrieve values from chart\",e)}},getHelmRepositories:async function(t){return await e.getHelmRepositories({endpointId:t}).$promise},addHelmRepository:async function(t,n){return await e.addHelmRepository({endpointId:t},n).$promise},install:async function(t,n){return await e.install({endpointId:t},n).$promise},uninstall:async function(t,{Name:n,ResourcePool:a}){try{await e.uninstall({endpointId:t,release:n,namespace:a}).$promise}catch(e){throw new i.Z(\"Unable to delete release\",e)}},listReleases:async function(t,{namespace:n,selector:a,filter:r,output:s}){try{return await e.list({endpointId:t,selector:a,namespace:n,filter:r,output:s}).$promise}catch(e){throw new i.Z(\"Unable to retrieve release list\",e)}}}}s.$inject=[\"HelmFactory\"],r().module(\"portainer.kubernetes\").factory(\"HelmService\",s)},57947:function(e,t,n){\"use strict\";n.r(t),n.d(t,{PodKubernetesInstanceLabel:function(){return K},PodManagedByLabel:function(){return B}});var a=n(17908),r=n.n(a),i=n(13507),s=n.n(i),o=n(51235),l=n.n(o),c=n(86103),d=n.n(c),u=n(47915),p=n.n(u),m=n(25445),g=n.n(m),h=n(68260),f=n.n(h),v=n(71204),b=n.n(v),y=n(55743),w=n.n(y),x=n(74362),S=n.n(x),C=n(44716),k=n.n(C),$=n(66539),A=n.n($),P=n(46545),I=n.n(P),T=n(41952),N=n.n(T),E=n(83432),R=n.n(E),D=(n(27914),n(83270)),O=n(79990),V=n(82434),U=n(14917),j=n(11505),F=n(11507),L=n(7172),_=n(31275),M=n(78398);const K=\"app.kubernetes.io/instance\",B=\"app.kubernetes.io/managed-by\";class H{static isExternalApplication(e){return!e.ApplicationOwner}static associatePodsAndApplication(e,t){return R()(e,[\"metadata.labels\",t.matchLabels])}static associateContainerPersistedFoldersAndConfigurations(e,t){N()(t,(t=>{t.PersistedFolders=I()(A()(e.PersistedFolders,(e=>{if(e.MountPath&&k()(A()(t.VolumeMounts,\"mountPath\"),e.MountPath))return e})),void 0),t.ConfigurationVolumes=I()(A()(e.ConfigurationVolumes,(e=>{if(e.rootMountPath&&k()(A()(t.VolumeMounts,\"mountPath\"),e.rootMountPath))return e})),void 0)}))}static associateContainersAndApplication(e){if(!e.Pods||0===e.Pods.length)return[];const t=e.Pods[0].Containers;return H.associateContainerPersistedFoldersAndConfigurations(e,t),t}static associateAllContainersAndApplication(e){const t=S()(A()(e.Pods,\"Containers\"));return H.associateContainerPersistedFoldersAndConfigurations(e,t),t}static portMappingsFromApplications(e){return w()(e,((e,t)=>{if(t.PublishedPorts.length>0){const n=new D.KubernetesPortMapping;n.Name=t.Name,n.ResourcePool=t.ResourcePool,n.ServiceType=t.ServiceType,n.LoadBalancerIPAddress=t.LoadBalancerIPAddress,n.ApplicationOwner=t.ApplicationOwner,n.Ports=A()(t.PublishedPorts,(e=>{const t=new D.KubernetesPortMappingPort;return t.Port=n.ServiceType===O.KubernetesServiceTypes.NODE_PORT?e.NodePort:e.Port,t.TargetPort=e.TargetPort,t.Protocol=e.Protocol,t.IngressRules=e.IngressRules,t})),e.push(n)}return e}),[])}static generateEnvFromEnvVariables(e){return b()(e,(e=>e.NeedsDeletion)),A()(e,(e=>{const t=new j.KubernetesApplicationEnvPayload;return t.name=e.Name,void 0===e.Value?delete t.value:t.value=e.Value,t}))}static generateEnvVariablesFromEnv(e){const t=A()(e,(e=>{if(e.valueFrom)return;const t=new U.KubernetesApplicationEnvironmentVariableFormValue;return t.Name=e.name,t.Value=e.value,t.IsNew=!1,t.NameIndex=e.name,t}));return I()(t,void 0)}static generateConfigurationFormValuesFromEnvAndVolumes(e,t,n){const a=S()(n,(n=>{const a=n.Type===V.KubernetesConfigurationTypes.CONFIGMAP?\"valueFrom.configMapKeyRef.name\":\"valueFrom.secretKeyRef.name\",r=R()(e,[a,n.Name]),i=R()(t,{configurationName:n.Name});if(!r.length&&!i.length)return;const s=w()(f()(n.Data),((e,t)=>{const n=R()(r,{name:t}),a=R()(i,{configurationKey:t}),s={Key:t,Count:n.length+a.length,Sum:g()(n,a),EnvCount:n.length,VolCount:a.length};return e.push(s),e}),[]),o=p()(A()(s,\"Count\")),l=o-p()(A()(s,\"VolCount\")),c=A()(new Array(o),(()=>new U.KubernetesApplicationConfigurationFormValue));return N()(c,((e,t)=>{e.SelectedConfiguration=n,t>=l&&(e.Overriden=!0,e.OverridenKeys=A()(s,(e=>{const n=new U.KubernetesApplicationConfigurationFormValueOverridenKey;return n.Key=e.Key,e.Count?t<e.EnvCount?n.Type=U.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.ENVIRONMENT:(n.Type=U.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM,n.Path=e.Sum[t].rootMountPath):n.Type=U.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.NONE,n})))})),c}));return I()(a,void 0)}static generateEnvOrVolumesFromConfigurations(e,t){let n=[],a=[],r=[];return N()(t,(t=>{const i=t.SelectedConfiguration.Type===V.KubernetesConfigurationTypes.CONFIGMAP;if(t.Overriden){const s=R()(t.OverridenKeys,(e=>e.Type===U.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.ENVIRONMENT));N()(s,(e=>{const a=i?new j.KubernetesApplicationEnvConfigMapPayload:new j.KubernetesApplicationEnvSecretPayload;a.name=e.Key,i?(a.valueFrom.configMapKeyRef.name=t.SelectedConfiguration.Name,a.valueFrom.configMapKeyRef.key=e.Key):(a.valueFrom.secretKeyRef.name=t.SelectedConfiguration.Name,a.valueFrom.secretKeyRef.key=e.Key),n.push(a)}));const o=R()(t.OverridenKeys,(e=>e.Type===U.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM)),l=d()(o,\"Path\");N()(l,((n,s)=>{const o=F.default.generatedApplicationConfigVolumeName(e.Name),l=t.SelectedConfiguration.Name,c=A()(n,(e=>{const t=new j.KubernetesApplicationVolumeEntryPayload;return t.key=e.Key,t.path=e.Key,t})),d=i?new j.KubernetesApplicationVolumeMountPayload:new j.KubernetesApplicationVolumeMountPayload(!0),u=i?new j.KubernetesApplicationVolumeConfigMapPayload:new j.KubernetesApplicationVolumeSecretPayload;d.name=o,d.mountPath=s,u.name=o,i?(u.configMap.name=l,u.configMap.items=c):(u.secret.secretName=l,u.secret.items=c),r.push(d),a.push(u)}))}else{const e=f()(t.SelectedConfiguration.Data);N()(e,(e=>{const a=i?new j.KubernetesApplicationEnvConfigMapPayload:new j.KubernetesApplicationEnvSecretPayload;a.name=e,i?(a.valueFrom.configMapKeyRef.name=t.SelectedConfiguration.Name,a.valueFrom.configMapKeyRef.key=e):(a.valueFrom.secretKeyRef.name=t.SelectedConfiguration.Name,a.valueFrom.secretKeyRef.key=e),n.push(a)}))}})),e.Env=g()(e.Env,n),e.Volumes=g()(e.Volumes,a),e.VolumeMounts=g()(e.VolumeMounts,r),e}static generateServicesFormValuesFromServices(e){let t=[];if(e.Services)return e.Services.forEach((function(n){if(\"None\"!==n.spec.clusterIP){const a=new O.KubernetesService;a.Namespace=n.metadata.namespace,a.Name=n.metadata.name,a.StackName=n.StackName,a.ApplicationOwner=e.ApplicationOwner,a.ApplicationName=e.ApplicationName,a.Type=n.spec.type,n.spec.type===O.KubernetesServiceTypes.CLUSTER_IP?a.Type=1:n.spec.type===O.KubernetesServiceTypes.NODE_PORT?a.Type=2:n.spec.type===O.KubernetesServiceTypes.LOAD_BALANCER&&(a.Type=3);let r=[];n.spec.ports.forEach((function(t){const i=new O.KubernetesServicePort;i.name=t.name,i.port=t.port,i.nodePort=t.nodePort,i.protocol=t.protocol,i.targetPort=t.targetPort,e.Ingresses.value.forEach((e=>{const t=l()(e.Paths,{ServiceName:n.metadata.name});t&&(i.ingress={IngressName:t.IngressName,Host:t.Host,Path:t.Path},a.Ingress=!0)})),r.push(i)})),a.Ports=r,a.Selector=e.Raw.spec.selector.matchLabels,t.push(a)}})),t}static generateSelectorFromService(e){if(\"Pod\"!==e.Raw.kind)return e.Raw.spec.selector.matchLabels}static generatePublishedPortsFormValuesFromPublishedPorts(e,t,n){const a=(t,a)=>{const r=new U.KubernetesApplicationPublishedPortFormValue;return r.IsNew=!1,a&&(r.IngressName=a.IngressName,r.IngressRoute=a.Path,r.IngressHost=a.Host,r.IngressHosts=n&&n.find((e=>e.Name===a.IngressName)).Hosts),r.Protocol=t.Protocol,r.ContainerPort=t.TargetPort,e===O.KubernetesServiceTypes.LOAD_BALANCER?(r.LoadBalancerPort=t.Port,r.LoadBalancerNodePort=t.NodePort):e===O.KubernetesServiceTypes.NODE_PORT&&(r.NodePort=t.NodePort),r};return S()(t,(e=>e.IngressRules.length?A()(e.IngressRules,(t=>a(e,t))):a(e)))}static generateAutoScalerFormValueFromHorizontalPodAutoScaler(e,t){const n=new U.KubernetesApplicationAutoScalerFormValue;return e?(n.IsUsed=!0,n.MinReplicas=e.MinReplicas,n.MaxReplicas=e.MaxReplicas,n.TargetCPUUtilization=e.TargetCPUUtilization,n.ApiVersion=e.ApiVersion):(n.ApiVersion=\"apps/v1\",n.MinReplicas=t,n.MaxReplicas=t),n}static generatePersistedFoldersFormValuesFromPersistedFolders(e,t){return A()(e,(e=>{const n=l()(t,(t=>s()(t.Name,e.PersistentVolumeClaimName))),a=new U.KubernetesApplicationPersistedFolderFormValue(n.StorageClass);return a.PersistentVolumeClaimName=e.PersistentVolumeClaimName,a.Size=parseInt(n.Storage,10),a.SizeUnit=n.Storage.slice(-2),a.ContainerPath=e.MountPath,a}))}static generateVolumesFromPersistentVolumClaims(e,t){e.VolumeMounts=[],e.Volumes=[],N()(t,(t=>{const n=new j.KubernetesApplicationVolumeMountPayload,a=t.Name;n.name=a,n.mountPath=t.MountPath,e.VolumeMounts.push(n);const r=new j.KubernetesApplicationVolumePersistentPayload;r.name=a,r.persistentVolumeClaim.claimName=a,e.Volumes.push(r)}))}static hasRWOOnly(e){return l()(e.PersistedFolders,(e=>e.StorageClass&&r()(e.StorageClass.AccessModes,[\"RWO\"])))}static hasRWX(e){return void 0!==l()(e,(e=>e.StorageClass&&k()(e.StorageClass.AccessModes,\"RWX\")))}static generatePlacementsFormValuesFromAffinity(e,t,n){let a=e.Placements,r=e.PlacementType;const i=t.nodeAffinity;i&&i.requiredDuringSchedulingIgnoredDuringExecution?(r=L.KubernetesApplicationPlacementTypes.MANDATORY,N()(i.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms,(e=>{N()(e.matchExpressions,(e=>{const t=new U.KubernetesApplicationPlacementFormValue,r=l()(n,{Key:e.key});t.Label=r,t.Value=e.values[0],t.IsNew=!1,a.push(t)}))}))):i&&i.preferredDuringSchedulingIgnoredDuringExecution&&(r=L.KubernetesApplicationPlacementTypes.PREFERRED,N()(i.preferredDuringSchedulingIgnoredDuringExecution,(e=>{N()(e.preference.matchExpressions,(e=>{const t=new U.KubernetesApplicationPlacementFormValue,r=l()(n,{Key:e.key});t.Label=r,t.Value=e.values[0],t.IsNew=!1,a.push(t)}))}))),e.Placements=a,e.PlacementType=r}static generateAffinityFromPlacements(e,t){if(t.DeploymentType===L.KubernetesApplicationDeploymentTypes.REPLICATED){const n=t.Placements,a=new M.KubernetesPodNodeAffinityPayload;let r=A()(n,(e=>{if(!e.NeedsDeletion){const t=new M.KubernetesNodeSelectorRequirementPayload;return t.key=e.Label.Key,e.Value?(t.operator=_.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.IN,t.values=[e.Value]):(t.operator=_.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.EXISTS,delete t.values),t}}));if(r=I()(r,void 0),r.length){if(t.PlacementType===L.KubernetesApplicationPlacementTypes.MANDATORY){const e=new M.KubernetesNodeSelectorTermPayload;e.matchExpressions=r,a.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.push(e),delete a.preferredDuringSchedulingIgnoredDuringExecution}else if(t.PlacementType===L.KubernetesApplicationPlacementTypes.PREFERRED){const e=new M.KubernetesPreferredSchedulingTermPayload;e.preference=new M.KubernetesNodeSelectorTermPayload,e.preference.matchExpressions=r,a.preferredDuringSchedulingIgnoredDuringExecution.push(e),delete a.requiredDuringSchedulingIgnoredDuringExecution}e.Affinity=new _.KubernetesPodAffinity,e.Affinity.nodeAffinity=a}}}static getHelmApplications(e){const t=e.filter((e=>e.Metadata.labels&&e.Metadata.labels[K]&&\"Helm\"===e.Metadata.labels[B])),n={};t.forEach((e=>{const t=e.ResourcePool,a=e.Metadata.labels[K];n[t]?n[t][a]=[...n[t][a]||[],e]:n[t]={[a]:[e]}}));const a=Object.values(n).flatMap((e=>Object.entries(e))).map((([e,t])=>{const n=new L.HelmApplication;n.Name=e,n.ApplicationType=L.KubernetesApplicationTypes.HELM,n.ApplicationOwner=t[0].ApplicationOwner,n.KubernetesApplications=t;const a=t.some((e=>e.RunningPodsCount<e.TotalPodsCount));return n.Status=a?\"Not ready\":\"Ready\",n.CreationDate=t.map((e=>e.CreationDate)).sort(((e,t)=>new Date(e)-new Date(t)))[0],n.ResourcePool=t[0].ResourcePool,n.Id=n.ResourcePool+\"-\"+n.Name.toLowerCase().replaceAll(\" \",\"-\"),n}));return a}static getNestedApplications(e){const t=H.getHelmApplications(e),n=[...new Set(t.map((e=>e.Name)))];return{helmApplications:t,nonHelmApplications:e.filter((e=>!e.Metadata.labels||!n.includes(e.Metadata.labels[K])))}}}t.default=H},65011:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(29274),s=n.n(i),o=n(20023),l=n(7172),c=n(24601);class d{static getPatchPayload(e,t){let n;switch(e.ApplicationType){case l.KubernetesApplicationTypes.DEPLOYMENT:n=d._getDeploymentPayload(e,t);break;case l.KubernetesApplicationTypes.DAEMONSET:n=d._getDaemonSetPayload(e,t);break;case l.KubernetesApplicationTypes.STATEFULSET:n=d._getStatefulSetPayload(e,t);break;default:throw new o.Z(\"Unable to determine which association to use to convert patch\")}return n}static _getDeploymentPayload(e,t){const n=s().copy(t),a=e.Raw;delete n.spec.template.metadata.labels[c.KubernetesSystem_DefaultDeploymentUniqueLabelKey];const i={};return r()(c.KubernetesSystem_AnnotationsToSkip,((e,t)=>{const n=a.metadata.annotations[t];n&&(i[t]=n)})),r()(n.metadata.annotations,((e,t)=>{c.KubernetesSystem_AnnotationsToSkip[t]||(i[t]=e)})),[{op:\"replace\",path:\"/spec/template\",value:n.spec.template},{op:\"replace\",path:\"/metadata/annotations\",value:i}]}static _getDaemonSetPayload(e,t){return t.data}static _getStatefulSetPayload(e,t){return t.data}}t.default=d},12925:function(e,t,n){\"use strict\";n.r(t);var a=n(80738),r=n.n(a),i=n(30465),s=n.n(i),o=n(5354),l=n.n(o),c=n(59712),d=n.n(c);t.default=class{static assignOrDeleteIfEmpty(e,t,n){!n||n instanceof Array&&!n.length?d()(e,t):l()(e,t,n)}static ownerToLabel(e){let t=s()(e,/[^-A-Za-z0-9_.]/g,\".\");return t=r()(t,{length:63,omission:\"\"}),t=s()(t,/^[-_.]*/g,\"\"),t=s()(t,/[-_.]*$/g,\"\"),t}static assignOrDeleteIfEmptyOrZero(e,t,n){!n||0===n||n instanceof Array&&!n.length?d()(e,t):l()(e,t,n)}}},58007:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(5777),s=n.n(i),o=n(13978),l=n(93133);t.default=class{static parseJSONData(e){return s()(e.Data,((t,n)=>{try{e.Data[n]=JSON.parse(t)}catch(a){e.Data[n]=t}})),e}static modifiyNamespaceAccesses(e,t,n){return e.Data[o.KubernetesPortainerConfigMapAccessKey][t]={UserAccessPolicies:{},TeamAccessPolicies:{}},r()(n,(n=>{n instanceof l.UserAccessViewModel?e.Data[o.KubernetesPortainerConfigMapAccessKey][t].UserAccessPolicies[n.Id]={RoleId:0}:n instanceof l.TeamAccessViewModel&&(e.Data[o.KubernetesPortainerConfigMapAccessKey][t].TeamAccessPolicies[n.Id]={RoleId:0})})),s()(e.Data,((t,n)=>{e.Data[n]=JSON.stringify(t)})),e}}},51780:function(e,t,n){\"use strict\";n.r(t);var a=n(55743),r=n.n(a),i=n(66539),s=n.n(i),o=n(41952),l=n.n(o),c=n(44716),d=n.n(c),u=n(13507),p=n.n(u),m=n(51235),g=n.n(m),h=n(83432),f=n.n(h),v=n(78879),b=n.n(v),y=n(82434),w=n(30578);class x{static getUsingApplications(e,t){return f()(t,(t=>{let n,a;return e.Type===y.KubernetesConfigurationTypes.CONFIGMAP?(n=g()(t.Env,{valueFrom:{configMapKeyRef:{name:e.Name}}}),a=g()(t.Volumes,{configMap:{name:e.Name}})):(n=g()(t.Env,{valueFrom:{secretKeyRef:{name:e.Name}}}),a=g()(t.Volumes,{secret:{secretName:e.Name}})),n||a}))}static isSystemToken(e){return p()(e.Name,\"default-token-\")}static isBinary(e){return\"\"!==e&&!d()(e,\"ISO\")&&!d()(e,\"UTF\")}static setConfigurationUsed(e){e.Used=e.Applications&&0!==e.Applications.length}static setConfigurationsUsed(e,t){l()(e,(e=>{e.Applications=x.getUsingApplications(e,t),x.setConfigurationUsed(e)}))}static getApplicationConfigurations(e,t){const n=t.filter((t=>0!==x.getUsingApplications(t,e).length));return e.map((e=>{const t=n.filter((t=>e.ApplicationName===t.Name&&e.ResourcePool===t.Namespace)),a=n.filter((t=>e.ConfigurationVolumes.some((e=>e.configurationName===t.Name)))).filter((e=>!t.some((t=>t.Name===e.Name))));return e.Configurations=[...t,...a],e}))}static parseYaml(e){return b().defaultOptions.customTags=[\"binary\"],s()(b().parse(e.DataYaml),((t,n)=>{const a=new w.KubernetesConfigurationFormValuesEntry;a.Key=n,a.Value=t;const r=g()(e.Data,{Key:a.Key});return a.IsBinary=!!r&&r.IsBinary,a}))}static parseData(e){if(!e.Data.length)return\"\";const t=r()(e.Data,((e,t)=>(e[t.Key]=t.Value,e)),{});return b().stringify(t)}static isExternalConfiguration(e){return!e.ConfigurationOwner}}t.default=x},52929:function(e,t,n){\"use strict\";n.r(t);var a=n(83432),r=n.n(a);t.default=class{static warningCount(e){return r()(e,(e=>\"Warning\"===e.Type)).length}}},54241:function(e,t,n){\"use strict\";n.r(t);var a=n(86103),r=n.n(a),i=n(41952),s=n.n(i);t.default=class{static getInvalidKeys(e){const t={};return s()(e,((e,n)=>{/^[-._a-zA-Z0-9]+$/.test(e)||(t[n]=!0)})),t}static getDuplicates(e){const t=r()(e),n={};return s()(e,((e,a)=>{e&&t[e].length>1&&(n[a]=e)})),n}}},48367:function(e,t,n){\"use strict\";n.r(t);var a=n(11600),r=n.n(a),i=n(40714),s=n.n(i),o=n(83432),l=n.n(o),c=n(51235),d=n.n(c);class u{static _isControlledBy(e){return t=>void 0!==d()(t.metadata.ownerReferences,{uid:e.metadata.uid})}static filterOwnedRevisions(e,t){const n=l()(e,[\"metadata.labels\",t.spec.selector.matchLabels]),a=l()(n,u._isControlledBy(t));return s()(a,[\"revision\",\"metadata.creationTimestamp\"])}static getCurrentRevision(e){return r()(e)}}t.default=u},38215:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(17908),s=n.n(i),o=n(40714),l=n.n(o),c=n(83432),d=n.n(c),u=n(51235),p=n.n(u),m=n(29274),g=n.n(m),h=n(24601);class f{static _isControlledBy(e){return t=>void 0!==p()(t.metadata.ownerReferences,{uid:e.metadata.uid})}static filterOwnedRevisions(e,t){const n=d()(e,[\"spec.selector\",t.spec.selector]),a=d()(n,f._isControlledBy(t));return l()(a,[\"metadata.creationTimestamp\",\"metadata.name\"])}static getCurrentRevision(e,t){const n=g().copy(e),a=p()(n,(e=>(delete e.spec.template.metadata.labels[h.KubernetesSystem_DefaultDeploymentUniqueLabelKey],s()(t.spec.template,e.spec.template))));return a.revision=a.metadata.annotations[h.KubernetesSystem_RevisionAnnotation],a}static filterVersionedRevisions(e){const t=d()(e,(e=>void 0!==e.metadata.annotations[h.KubernetesSystem_RevisionAnnotation]));return r()(t,(e=>(e.revision=e.metadata.annotations[h.KubernetesSystem_RevisionAnnotation],e)))}}t.default=f},70224:function(e,t,n){\"use strict\";n.r(t);var a=n(40714),r=n.n(a),i=n(20023),s=n(38215),o=n(48367),l=n(47220),c=n(7172);class d{static getRevisions(e,t){let n,a;switch(t.ApplicationType){case c.KubernetesApplicationTypes.DEPLOYMENT:[n,a]=d._getDeploymentRevisions(e,t.Raw);break;case c.KubernetesApplicationTypes.DAEMONSET:[n,a]=d._getDaemonSetRevisions(e,t.Raw);break;case c.KubernetesApplicationTypes.STATEFULSET:[n,a]=d._getStatefulSetRevisions(e,t.Raw);break;default:throw new i.Z(\"Unable to determine which association to use to get revisions\")}return a=r()(a,\"revision\"),[n,a]}static _getDeploymentRevisions(e,t){const n=s.default.filterOwnedRevisions(e,t);return[s.default.getCurrentRevision(n,t),s.default.filterVersionedRevisions(n)]}static _getDaemonSetRevisions(e,t){const n=o.default.filterOwnedRevisions(e,t);return[o.default.getCurrentRevision(n,t),n]}static _getStatefulSetRevisions(e,t){const n=l.default.filterOwnedRevisions(e,t);return[l.default.getCurrentRevision(n,t),n]}}t.default=d},47220:function(e,t,n){\"use strict\";n.r(t);var a=n(11600),r=n.n(a),i=n(40714),s=n.n(i),o=n(83432),l=n.n(o),c=n(51235),d=n.n(c);class u{static _isControlledBy(e){return t=>void 0!==d()(t.metadata.ownerReferences,{uid:e.metadata.uid})}static filterOwnedRevisions(e,t){const n=l()(e,[\"metadata.labels\",t.spec.selector.matchLabels]),a=l()(n,u._isControlledBy(t));return s()(a,[\"revision\",\"metadata.creationTimestamp\"])}static getCurrentRevision(e){return r()(e)}}t.default=u},7506:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return o}});var a=n(44716),r=n.n(a),i=n(35076),s=n(22823);class o{static isSystemNamespace(e){return(0,s.isSystem)(e)}static isDefaultNamespace(e){return e===i.KUBERNETES_DEFAULT_NAMESPACE}static isDefaultSystemNamespace(e){return r()(i.KUBERNETES_DEFAULT_SYSTEM_NAMESPACES,e)}}},21458:function(e,t,n){\"use strict\";n.r(t);var a=n(47685);t.default=class{static generateResourceQuotaName(e){return a.KubernetesPortainerResourceQuotaPrefix+e}static formatBytes(e,t=0,n=!0){if(0===e)return{Size:0,SizeUnit:\"B\"};const a=n?1e3:1024,r=t<0?0:t,i=Math.floor(Math.log(e)/Math.log(a));return{Size:parseFloat((e/Math.pow(a,i)).toFixed(r)),SizeUnit:[\"B\",\"KB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"][i]}}}},22229:function(e,t,n){\"use strict\";n.r(t);var a=n(94467),r=n.n(a),i=n(25445),s=n.n(i),o=n(55743),l=n.n(o),c=n(29500),d=n.n(c),u=n(46685);class p{static computeResourceReservation(e){const t=l()(e,((e,t)=>s()(e,t.Containers)),[]);return l()(t,((e,t)=>(t.Requests&&(t.Requests.memory&&(e.Memory+=d()(t.Requests.memory,{base:10})),t.Requests.cpu&&(e.CPU+=p.parseCPU(t.Requests.cpu))),e)),new u.KubernetesResourceReservation)}static parseCPU(e){let t=parseInt(e,10);return r()(e,\"m\")?t/=1e3:r()(e,\"n\")&&(t/=1e9),t}static megaBytesValue(e){return Math.floor(d()(e)/1e3/1e3)}static bytesValue(e){return 1e3*d()(e)*1e3}}t.default=p},57637:function(e,t,n){\"use strict\";n.r(t);var a=n(83432),r=n.n(a),i=n(55828),s=n.n(i),o=n(51235),l=n.n(o),c=n(79990);t.default=class{static generateHeadlessServiceName(e){return c.KubernetesServiceHeadlessPrefix+e}static findApplicationBoundService(e,t){if(t.spec.template)return l()(e,(e=>e.spec.selector&&s()(t.spec.template.metadata.labels,e.spec.selector)))}static findApplicationBoundServices(e,t){if(t.spec.template)return r()(e,(e=>e.spec.selector&&s()(t.spec.template.metadata.labels,e.spec.selector)))}}},41208:function(e,t,n){\"use strict\";n.r(t);var a=n(51235),r=n.n(a),i=n(55743),s=n.n(i),o=n(31084);t.default=class{static stacksFromApplications(e){return s()(e,((e,t)=>{if(t.StackName){let n=r()(e,{Name:t.StackName,ResourcePool:t.ResourcePool});n||(n=new o.KubernetesStack,n.Name=t.StackName,n.ResourcePool=t.ResourcePool,e.push(n)),n.Applications.push(t)}return e}),[])}}},69461:function(e,t,n){\"use strict\";n.r(t);var a=n(41208);describe(\"stacksFromApplications\",(()=>{const{stacksFromApplications:e}=a.default;test(\"should return an empty array when passed an empty array\",(()=>{expect(e([])).toHaveLength(0)})),test(\"should return an empty array when passed a list of applications without stacks\",(()=>{expect(e([{StackName:\"\"},{StackName:\"\"},{StackName:\"\"},{StackName:\"\"}])).toHaveLength(0)}))}))},11507:function(e,t,n){\"use strict\";n.r(t);var a=n(44716),r=n.n(a),i=n(13507),s=n.n(i),o=n(66539),l=n.n(o),c=n(46545),d=n.n(c),u=n(83432),p=n.n(u),m=n(15964),g=n.n(m),h=n(7172);t.default=class{static getUsingApplications(e,t){return p()(t,(t=>{const n=d()(l()(t.Volumes,\"persistentVolumeClaim.claimName\"),void 0),a=p()(n,(t=>s()(e.PersistentVolumeClaim.Name,t)));return e.ResourcePool.Namespace.Name===t.ResourcePool&&a.length&&(t.ApplicationType!==h.KubernetesApplicationTypes.STATEFULSET||r()(e.PersistentVolumeClaim.Name,t.Name))}))}static isUsed(e){return 0!==e.Applications.length}static generatedApplicationConfigVolumeName(e){return\"config-\"+e+\"-\"+g()()}static isExternalVolume(e){return!e.PersistentVolumeClaim.ApplicationOwner}}},41247:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesHorizontalPodAutoScalerConverter:function(){return s}});var a=n(34901),r=n(90914),i=n(85597);class s{static apiToModel(e,t){const n=new r.KubernetesHorizontalPodAutoScaler;return n.Id=e.metadata.uid,n.Namespace=e.metadata.namespace,n.Name=e.metadata.name,n.MinReplicas=e.spec.minReplicas,n.MaxReplicas=e.spec.maxReplicas,n.TargetCPUUtilization=e.spec.targetCPUUtilizationPercentage,e.spec.scaleTargetRef&&(n.TargetEntity.ApiVersion=e.spec.scaleTargetRef.apiVersion,n.TargetEntity.Kind=e.spec.scaleTargetRef.kind,n.TargetEntity.Name=e.spec.scaleTargetRef.name),n.Yaml=t?t.data:\"\",n}static createPayload(e){const t=new i.KubernetesHorizontalPodAutoScalerCreatePayload;return t.metadata.namespace=e.Namespace,t.metadata.name=e.TargetEntity.Name,t.spec.minReplicas=e.MinReplicas,t.spec.maxReplicas=e.MaxReplicas,t.spec.targetCPUUtilizationPercentage=e.TargetCPUUtilization,t.spec.scaleTargetRef.apiVersion=e.TargetEntity.ApiVersion,t.spec.scaleTargetRef.kind=e.TargetEntity.Kind,t.spec.scaleTargetRef.name=e.TargetEntity.Name,t}static patchPayload(e,t){const n=s.createPayload(e),r=s.createPayload(t);return a.qu(n,r)}static applicationFormValuesToModel(e,t){const n=new r.KubernetesHorizontalPodAutoScaler;return n.Name=e.Name,n.Namespace=e.ResourcePool.Namespace.Name,n.MinReplicas=e.AutoScaler.MinReplicas,n.MaxReplicas=e.AutoScaler.MaxReplicas,n.TargetCPUUtilization=e.AutoScaler.TargetCPUUtilization,n.TargetEntity.Name=e.Name,n.TargetEntity.Kind=t,n.TargetEntity.ApiVersion=e.AutoScaler.ApiVersion,n}}},1239:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesHorizontalPodAutoScalerHelper:function(){return d}});var a=n(51235),r=n.n(a),i=n(20023),s=n(7172),o=n(59238),l=n(91920),c=n(12745);class d{static findApplicationBoundScaler(e,t){const n=d.getApplicationTypeString(t);return r()(e,(e=>e.TargetEntity.Kind===n&&e.TargetEntity.Name===t.Name))}static getApplicationTypeString(e){if(e instanceof s.KubernetesApplication&&e.ApplicationType===s.KubernetesApplicationTypes.DEPLOYMENT||e instanceof o.KubernetesDeployment)return s.KubernetesApplicationTypeStrings.DEPLOYMENT;if(e instanceof s.KubernetesApplication&&e.ApplicationType===s.KubernetesApplicationTypes.DAEMONSET||e instanceof c.KubernetesDaemonSet)return s.KubernetesApplicationTypeStrings.DAEMONSET;if(e instanceof s.KubernetesApplication&&e.ApplicationType===s.KubernetesApplicationTypes.STATEFULSET||e instanceof l.KubernetesStatefulSet)return s.KubernetesApplicationTypeStrings.STATEFULSET;if(e instanceof s.KubernetesApplication&&e.ApplicationType===s.KubernetesApplicationTypes.POD)return s.KubernetesApplicationTypeStrings.POD;throw new i.Z(\"Unable to determine application type\")}}},90914:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesHorizontalPodAutoScaler:function(){return r}});const a=Object.freeze({Id:\"\",Namespace:\"\",Name:\"\",MinReplicas:1,MaxReplicas:1,TargetCPUUtilization:0,TargetEntity:{ApiVersion:\"\",Kind:\"\",Name:\"\"},Yaml:\"\"});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},85597:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesHorizontalPodAutoScalerCreatePayload:function(){return r}});const a=Object.freeze({metadata:{namespace:\"\",name:\"\"},spec:{maxReplicas:0,minReplicas:0,targetCPUUtilizationPercentage:0,scaleTargetRef:{kind:\"\",name:\"\"}}});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},61160:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesHorizontalPodAutoScalers\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(r){return e(t+\"/:endpointId/kubernetes/apis/autoscaling/v1\"+(r?\"/namespaces/:namespace\":\"\")+\"/horizontalpodautoscalers/:id/:action\",{endpointId:n.endpointID,namespace:r},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},rollback:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},51866:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(29274),s=n.n(i),o=n(20023),l=n(82469),c=n(41247);class d{constructor(e,t){this.$async=e,this.KubernetesHorizontalPodAutoScalers=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new l.KubernetesCommonParams;n.id=t;const[a,r]=await Promise.all([this.KubernetesHorizontalPodAutoScalers(e).get(n).$promise,this.KubernetesHorizontalPodAutoScalers(e).getYaml(n).$promise]);return c.KubernetesHorizontalPodAutoScalerConverter.apiToModel(a,r)}catch(e){throw new o.Z(\"Unable to retrieve HorizontalPodAutoScaler\",e)}}async getAllAsync(e){try{const t=await this.KubernetesHorizontalPodAutoScalers(e).get().$promise;return r()(t.items,(e=>c.KubernetesHorizontalPodAutoScalerConverter.apiToModel(e)))}catch(e){throw new o.Z(\"Unable to retrieve HorizontalPodAutoScalers\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=c.KubernetesHorizontalPodAutoScalerConverter.createPayload(e),a=n.metadata.namespace;return await this.KubernetesHorizontalPodAutoScalers(a).create(t,n).$promise}catch(e){throw new o.Z(\"Unable to create horizontalPodAutoScaler\",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new l.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,r=c.KubernetesHorizontalPodAutoScalerConverter.patchPayload(e,t);if(!r.length)return;return await this.KubernetesHorizontalPodAutoScalers(a).patch(n,r).$promise}catch(e){throw new o.Z(\"Unable to patch horizontalPodAutoScaler\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new l.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesHorizontalPodAutoScalers(n).delete(t).$promise}catch(e){throw new o.Z(\"Unable to remove horizontalPodAutoScaler\",e)}}delete(e){return this.$async(this.deleteAsync,e)}}d.$inject=[\"$async\",\"KubernetesHorizontalPodAutoScalers\"],t.default=d,s().module(\"portainer.kubernetes\").service(\"KubernetesHorizontalPodAutoScalerService\",d)},62072:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesIngressClassAnnotation:function(){return a},KubernetesNginxRewriteTargetAnnotations:function(){return r},KubernetesTraefikRewriteTargetAnnotations:function(){return i},KubernetesNginxUseregexAnnotations:function(){return s},KubernetesIngressClassTypes:function(){return o},PortainerIngressClassTypes:function(){return l}});const a=\"kubernetes.io/ingress.class\",r={Key:\"nginx.ingress.kubernetes.io/rewrite-target\",Value:\"/$1\"},i={Key:\"traefik.ingress.kubernetes.io/rewrite-target\",Value:\"/$1\"},s={Key:\"nginx.ingress.kubernetes.io/use-regex\",Value:\"true\"},o=Object.freeze({NGINX:\"nginx\",TRAEFIK:\"traefik\"}),l=\"ingress.portainer.io/ingress-type\"},47086:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesIngressConverter:function(){return U}});var a=n(25445),r=n.n(a),i=n(86103),s=n.n(i),o=n(46545),l=n.n(o),c=n(4160),d=n.n(c),u=n(36947),p=n.n(u),m=n(13507),g=n.n(m),h=n(71204),f=n.n(h),v=n(51235),b=n.n(v),y=n(41952),w=n.n(y),x=n(45849),S=n.n(x),C=n(46006),k=n.n(C),$=n(66539),A=n.n($),P=n(74362),I=n.n(P),T=n(34901),N=n(12925),E=n(16496),R=n(7172),D=n(27155),O=n(17362),V=n(62072);class U{static apiToModel(e){const t=I()(e.spec.rules,(t=>t.http?A()(t.http.paths,(n=>{const a=new D.KubernetesIngressRule;return a.IngressName=e.metadata.name,a.ServiceName=n.backend.service.name,a.Host=t.host||\"\",a.IP=e.status.loadBalancer.ingress?e.status.loadBalancer.ingress[0].ip:void 0,a.Port=n.backend.service.port.number,a.Path=n.path,a})):[])),n=new D.KubernetesIngress;n.Name=e.metadata.name,n.Namespace=e.metadata.namespace,n.Annotations=e.metadata.annotations||{},n.IngressClassName=e.metadata.annotations&&e.metadata.annotations[V.KubernetesIngressClassAnnotation]?e.metadata.annotations[V.KubernetesIngressClassAnnotation]:e.spec.ingressClassName,n.Paths=t,n.Hosts=k()(A()(e.spec.rules,\"host\"));const a=S()(n.Hosts,(e=>void 0===e));return a>=0&&n.Hosts.splice(a,1,\"\"),n}static applicationFormValuesToIngresses(e,t){const n=e.PublishingType===R.KubernetesApplicationPublishingTypes.INGRESS,a=angular.copy(e.OriginalIngresses);return w()(e.PublishedPorts,(e=>{const r=b()(a,{Name:e.IngressName});if(r)if(e.NeedsDeletion)f()(r.Paths,(n=>n.Port===e.ContainerPort&&n.ServiceName===t&&n.Path===e.IngressRoute));else if(n&&e.IsNew){const n=new D.KubernetesIngressRule;n.IngressName=r.Name,n.ServiceName=t,n.Port=e.ContainerPort,e.IngressRoute&&(n.Path=g()(e.IngressRoute,\"/\")?e.IngressRoute:\"/\"+e.IngressRoute),n.Host=e.IngressHost,r.Paths.push(n)}})),a}static applicationFormValuesToDeleteIngresses(e,t){const n=angular.copy(e.OriginalIngresses);return t.Services.forEach((e=>{n.forEach((t=>{const n=b()(t.Paths,{ServiceName:e.metadata.name});n&&f()(t.Paths,n)}))})),n}static removeIngressesPaths(e,t){const n=angular.copy(e);return n.forEach((e=>{t.forEach((t=>{f()(e.Paths,{ServiceName:t.Name})}))})),n}static generateNewIngresses(e,t){const n=angular.copy(e);return t.filter((e=>e.Ingress)).forEach((e=>{if(0!==e.Ports.length){const t=b()(n,{Name:e.Ports[0].ingress.IngressName});if(t){const n=new D.KubernetesIngressRule;n.ServiceName=e.Name,n.IngressName=e.Ports[0].ingress.IngressName,n.Host=e.Ports[0].ingress.Host,n.Path=g()(e.Ports[0].ingress.Path,\"/\")?e.Ports[0].ingress.Path:\"/\"+e.Ports[0].ingress.Path,n.Port=e.Ports[0].port,t.Paths.push(n)}}})),n}static newApplicationFormValuesToIngresses(e,t,n){const a=angular.copy(e.OriginalIngresses);return n.forEach((e=>{const n=b()(a,{Name:e.ingress.IngressName});if(n){const a=new D.KubernetesIngressRule;a.ServiceName=t,a.IngressName=e.ingress.IngressName,a.Host=e.ingress.Host,a.Path=g()(e.ingress.Path,\"/\")?e.ingress.Path:\"/\"+e.ingress.Path,a.Port=e.port,n.Paths.push(a)}})),a}static resourcePoolIngressClassFormValueToIngress(e){const t=new D.KubernetesIngress;t.Name=e.IngressClass.Name,t.Namespace=e.Namespace;const n=A()(e.Annotations,(e=>[e.Key,e.Value]));return t.Annotations=p()(n),t.Annotations[V.PortainerIngressClassTypes]=e.IngressClass.Name,t.IngressClassName=e.IngressClass.Name,t.Hosts=e.Hosts,t.Paths=e.Paths,t}static ingressClassesToFormValues(e,t){return A()(e,(e=>{const n=new E.KubernetesResourcePoolIngressClassFormValue(e),a=b()(t,{Name:e.Name});if(a){n.Selected=!0,n.WasSelected=!0,n.Hosts=A()(a.Hosts,(e=>{const t=new E.KubernetesResourcePoolIngressClassHostFormValue;return t.Host=e,t.PreviousHost=e,t.IsNew=!1,t}));const e=A()(d()(a.Annotations),(([e,t])=>{if(e!==V.PortainerIngressClassTypes){const n=new E.KubernetesResourcePoolIngressClassAnnotationFormValue;return n.Key=e,n.Value=t,n}}));n.Annotations=l()(e,void 0),n.AdvancedConfig=n.Annotations.length>0,n.Paths=a.Paths}return n}))}static createPayload(e){const t=new O.KubernetesIngressCreatePayload;if(t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.annotations=e.Annotations,t.spec.ingressClassName=e.IngressClassName,e.Paths&&e.Paths.length){w()(e.Paths,(e=>{\"undefined\"!==e.Host&&void 0!==e.Host||(e.Host=\"\")}));const n=[],a=s()(e.Paths,\"Host\");let i=A()(a,((t,a)=>{const r=b()(e.Hosts,(e=>e===a||e.PreviousHost===a));if(a=r.Host||r,r.NeedsDeletion)return;const i=new O.KubernetesIngressRuleCreatePayload;return N.default.assignOrDeleteIfEmpty(i,\"host\",a),i.http.paths=A()(t,(e=>{const t=new O.KubernetesIngressRulePathCreatePayload;return t.path=e.Path,t.backend.service.name=e.ServiceName,t.backend.service.port.number=e.Port,t})),n.push(a),i}));i=l()(i,void 0);const o=l()(A()(e.Hosts,(e=>e.NeedsDeletion?void 0:e.Host||e)),void 0),c=l()(o,...n),d=A()(c,(e=>({host:e})));i=r()(i,d),N.default.assignOrDeleteIfEmpty(t,\"spec.rules\",i)}else e.Hosts?(t.spec.rules=[],w()(e.Hosts,(e=>{e.NeedsDeletion||t.spec.rules.push({host:e.Host||e})}))):delete t.spec.rules;return t}static patchPayload(e,t){const n=U.createPayload(e),a=U.createPayload(t);return T.qu(n,a)}}},7587:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesIngressHelper:function(){return o}});var a=n(83432),r=n.n(a),i=n(74362),s=n.n(i);class o{static findSBoundServiceIngressesRules(e,t){const n=s()(e,\"Paths\");return r()(n,{ServiceName:t})}}},27155:function(e,t,n){\"use strict\";function a(){return{Name:\"\",Namespace:\"\",Annotations:{},Hosts:[],Paths:[],IngressClassName:\"\"}}function r(){return{IngressName:\"\",ServiceName:\"\",Host:\"\",IP:\"\",Port:\"\",Path:\"\"}}function i(){return{Name:\"\",Type:void 0,NeedsDeletion:!1,IsNew:!0}}n.r(t),n.d(t,{KubernetesIngress:function(){return a},KubernetesIngressRule:function(){return r},KubernetesIngressClass:function(){return i}})},17362:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesIngressCreatePayload:function(){return r},KubernetesIngressRuleCreatePayload:function(){return i},KubernetesIngressRulePathCreatePayload:function(){return s}});var a=n(27367);function r(){return{metadata:new a.KubernetesCommonMetadataPayload,spec:{ingressClassName:\"\",rules:[]}}}function i(){return{host:\"\",http:{paths:[]}}}function s(){return{path:\"\",pathType:\"ImplementationSpecific\",backend:{service:{name:\"\",port:{number:0}}}}}},45678:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);function r(e,t,n){return function(r){return e(`${t}/:endpointId/kubernetes/apis/networking.k8s.io/v1${r?\"/namespaces/:namespace\":\"\"}/ingresses/:id/:action`,{endpointId:n.endpointID,namespace:r},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},rollback:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}r.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\"],angular.module(\"portainer.kubernetes\").factory(\"KubernetesIngresses\",r)},76706:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesIngressService:function(){return p}});var a=n(25445),r=n.n(a),i=n(55743),s=n.n(i),o=n(29274),l=n.n(o),c=n(20023),d=n(82469),u=n(47086);function p(e,t){return{get:function(t,r){return r?e(n,t,r):e(a,t)},create:function(n){return e((async()=>{try{const e={},a=u.KubernetesIngressConverter.createPayload(n),r=a.metadata.namespace;return await t(r).create(e,a).$promise}catch(e){throw new c.Z(\"Unable to create ingress\",e)}}))},patch:function(n,a){return e((async()=>{try{const e=new d.KubernetesCommonParams;e.id=a.Name;const r=a.Namespace,i=u.KubernetesIngressConverter.patchPayload(n,a);if(!i.length)return;return await t(r).patch(e,i).$promise}catch(e){throw new c.Z(\"Unable to patch ingress\",e)}}))},delete:function(n,a){return e((async()=>{try{const e=new d.KubernetesCommonParams;e.id=a,await t(n).delete(e).$promise}catch(e){throw new c.Z(\"Unable to delete ingress\",e)}}))}};async function n(e,n){try{const a=new d.KubernetesCommonParams;a.id=n;const[r,i]=await Promise.all([t(e).get(a).$promise,t(e).getYaml(a).$promise]);return{Raw:u.KubernetesIngressConverter.apiToModel(r),Yaml:i.data}}catch(e){throw new c.Z(\"Unable to retrieve Ingress\",e)}}async function a(e){try{const n=await t(e).get().$promise;return s()(n.items,((e,t)=>r()(e,u.KubernetesIngressConverter.apiToModel(t))),[])}catch(e){throw new c.Z(\"Unable to retrieve Ingresses\",e)}}}p.$inject=[\"$async\",\"KubernetesIngresses\"],l().module(\"portainer.kubernetes\").service(\"KubernetesIngressService\",p)},60299:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(20023),s=n(82469);class o{constructor(e,t){this.$async=e,this.KubernetesMetrics=t,this.capabilitiesAsync=this.capabilitiesAsync.bind(this),this.getPodAsync=this.getPodAsync.bind(this),this.getNodeAsync=this.getNodeAsync.bind(this),this.getPodsAsync=this.getPodsAsync.bind(this),this.getNodesAsync=this.getNodesAsync.bind(this)}async capabilitiesAsync(e){try{await this.KubernetesMetrics().capabilities({endpointId:e}).$promise}catch(e){throw new i.Z(\"Unable to retrieve metrics\",e)}}capabilities(e){return this.$async(this.capabilitiesAsync,e)}async getNodeAsync(e){try{const t=new s.KubernetesCommonParams;return t.id=e,await this.KubernetesMetrics().getNode(t).$promise}catch(e){throw new i.Z(\"Unable to retrieve node stats\",e)}}getNode(e){return this.$async(this.getNodeAsync,e)}async getPodAsync(e,t){try{const n=new s.KubernetesCommonParams;return n.id=t,await this.KubernetesMetrics(e).getPod(n).$promise}catch(e){throw new i.Z(\"Unable to retrieve pod stats\",e)}}getPod(e,t){return this.$async(this.getPodAsync,e,t)}async getNodesAsync(e){try{return await this.KubernetesMetrics().getNodes({endpointId:e}).$promise}catch(e){throw new i.Z(\"Unable to retrieve nodes stats\",e)}}getNodes(e){return this.$async(this.getNodesAsync,e)}async getPodsAsync(e){try{return await this.KubernetesMetrics(e).getPods().$promise}catch(e){throw new i.Z(\"Unable to retrieve pod stats\",e)}}getPods(e){return this.$async(this.getPodsAsync,e)}}o.$inject=[\"$async\",\"KubernetesMetrics\"],t.default=o,r().module(\"portainer.kubernetes\").service(\"KubernetesMetricsService\",o)},26835:function(){angular.module(\"portainer.kubernetes\").factory(\"KubernetesMetrics\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return function(a){const r=t+\"/:endpointId/kubernetes/apis/metrics.k8s.io/v1beta1\",i=`${r}${a?\"/namespaces/:namespace\":\"\"}/pods/:id`;return e(r,{endpointId:n.endpointID,namespace:a},{capabilities:{method:\"GET\"},getPod:{method:\"GET\",url:i},getNode:{method:\"GET\",url:`${r}/nodes/:id`},getPods:{method:\"GET\",url:`${r}/namespaces/:namespace/pods`},getNodes:{method:\"GET\",url:`${r}/nodes`}})}}])},14917:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesApplicationFormValues:function(){return i},KubernetesApplicationConfigurationFormValueOverridenKeyTypes:function(){return s},KubernetesApplicationConfigurationFormValueOverridenKey:function(){return l},KubernetesApplicationConfigurationFormValue:function(){return d},KubernetesApplicationEnvironmentVariableFormValue:function(){return p},KubernetesApplicationPersistedFolderFormValue:function(){return g},KubernetesApplicationPublishedPortFormValue:function(){return h},KubernetesApplicationPlacementFormValue:function(){return f},KubernetesApplicationAutoScalerFormValue:function(){return b},KubernetesFormValidationReferences:function(){return y}});var a=n(76939),r=n(7172);function i(){this.ApplicationType=void 0,this.ResourcePool={},this.Name=\"\",this.StackName=\"\",this.ApplicationOwner=\"\",this.ImageModel=new a.PorImageRegistryModel,this.Note=\"\",this.MemoryLimit=0,this.CpuLimit=0,this.DeploymentType=r.KubernetesApplicationDeploymentTypes.REPLICATED,this.ReplicaCount=1,this.AutoScaler={},this.Containers=[],this.Services=[],this.EnvironmentVariables=[],this.DataAccessPolicy=r.KubernetesApplicationDataAccessPolicies.ISOLATED,this.PersistedFolders=[],this.Configurations=[],this.PublishingType=r.KubernetesApplicationPublishingTypes.CLUSTER_IP,this.PublishedPorts=[],this.PlacementType=r.KubernetesApplicationPlacementTypes.PREFERRED,this.Placements=[],this.OriginalIngresses=void 0,this.IsPublishingService=!1}const s=Object.freeze({NONE:0,ENVIRONMENT:1,FILESYSTEM:2}),o=Object.freeze({Key:\"\",Path:\"\",Type:s.ENVIRONMENT});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}const c=Object.freeze({SelectedConfiguration:void 0,Overriden:!1,OverridenKeys:[]});class d{constructor(){Object.assign(this,JSON.parse(JSON.stringify(c)))}}const u=Object.freeze({Name:\"\",Value:\"\",IsSecret:!1,NeedsDeletion:!1,IsNew:!0,NameIndex:\"\"});class p{constructor(){Object.assign(this,JSON.parse(JSON.stringify(u)))}}const m=Object.freeze({PersistentVolumeClaimName:\"\",NeedsDeletion:!1,ContainerPath:\"\",Size:\"\",SizeUnit:\"GB\",StorageClass:{},ExistingVolume:null,UseNewVolume:!0});class g{constructor(e){Object.assign(this,JSON.parse(JSON.stringify(m))),this.StorageClass=e}}function h(){return{NeedsDeletion:!1,IsNew:!0,ContainerPort:\"\",NodePort:\"\",LoadBalancerPort:\"\",LoadBalancerNodePort:void 0,Protocol:\"TCP\",IngressName:void 0,IngressRoute:void 0,IngressHost:void 0,IngressHosts:[]}}function f(){return{Label:{},Value:\"\",NeedsDeletion:!1,IsNew:!0}}const v=Object.freeze({MinReplicas:0,MaxReplicas:0,TargetCPUUtilization:50,ApiVersion:\"\",IsUsed:!1});class b{constructor(){Object.assign(this,JSON.parse(JSON.stringify(v)))}}function y(){return{refs:{},hasRefs:!1}}},20783:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesApplicationDeploymentTypes:function(){return a},KubernetesApplicationDataAccessPolicies:function(){return r},KubernetesApplicationTypes:function(){return i},KubernetesApplicationTypeStrings:function(){return s},KubernetesApplicationPublishingTypes:function(){return o},KubernetesApplicationPlacementTypes:function(){return l},KubernetesApplicationQuotaDefaults:function(){return c},KubernetesPortainerApplicationStackNameLabel:function(){return d},KubernetesPortainerApplicationStackIdLabel:function(){return u},KubernetesPortainerApplicationKindLabel:function(){return p},KubernetesPortainerApplicationNameLabel:function(){return m},KubernetesPortainerApplicationOwnerLabel:function(){return g},KubernetesPortainerApplicationNote:function(){return h}});const a=Object.freeze({REPLICATED:1,GLOBAL:2}),r=Object.freeze({SHARED:1,ISOLATED:2}),i=Object.freeze({DEPLOYMENT:1,DAEMONSET:2,STATEFULSET:3,POD:4,HELM:5}),s=Object.freeze({HELM:\"Helm\",DEPLOYMENT:\"Deployment\",DAEMONSET:\"DaemonSet\",STATEFULSET:\"StatefulSet\",POD:\"Pod\"}),o=Object.freeze({CLUSTER_IP:1,NODE_PORT:2,LOAD_BALANCER:3,INGRESS:4}),l=Object.freeze({PREFERRED:1,MANDATORY:2}),c={CpuLimit:.1,MemoryLimit:64},d=\"io.portainer.kubernetes.application.stack\",u=\"io.portainer.kubernetes.application.stackid\",p=\"io.portainer.kubernetes.application.kind\",m=\"io.portainer.kubernetes.application.name\",g=\"io.portainer.kubernetes.application.owner\",h=\"io.portainer.kubernetes.application.note\"},7172:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesApplicationDataAccessPolicies:function(){return a.KubernetesApplicationDataAccessPolicies},KubernetesApplicationDeploymentTypes:function(){return a.KubernetesApplicationDeploymentTypes},KubernetesApplicationPlacementTypes:function(){return a.KubernetesApplicationPlacementTypes},KubernetesApplicationPublishingTypes:function(){return a.KubernetesApplicationPublishingTypes},KubernetesApplicationQuotaDefaults:function(){return a.KubernetesApplicationQuotaDefaults},KubernetesApplicationTypeStrings:function(){return a.KubernetesApplicationTypeStrings},KubernetesApplicationTypes:function(){return a.KubernetesApplicationTypes},KubernetesPortainerApplicationKindLabel:function(){return a.KubernetesPortainerApplicationKindLabel},KubernetesPortainerApplicationNameLabel:function(){return a.KubernetesPortainerApplicationNameLabel},KubernetesPortainerApplicationNote:function(){return a.KubernetesPortainerApplicationNote},KubernetesPortainerApplicationOwnerLabel:function(){return a.KubernetesPortainerApplicationOwnerLabel},KubernetesPortainerApplicationStackIdLabel:function(){return a.KubernetesPortainerApplicationStackIdLabel},KubernetesPortainerApplicationStackNameLabel:function(){return a.KubernetesPortainerApplicationStackNameLabel},KubernetesApplication:function(){return i},HelmApplication:function(){return s},KubernetesApplicationPersistedFolder:function(){return l},KubernetesApplicationConfigurationVolume:function(){return d},KubernetesApplicationPort:function(){return p},KubernetesDeploymentTypes:function(){return m}});var a=n(20783);const r=Object.freeze({Id:\"\",Name:\"\",StackName:\"\",StackId:\"\",ApplicationKind:\"\",ApplicationOwner:\"\",ApplicationName:\"\",ResourcePool:\"\",Image:\"\",CreationDate:0,Pods:[],Containers:[],Metadata:{},Limits:{},ServiceType:\"\",ServiceId:\"\",ServiceName:\"\",HeadlessServiceName:void 0,LoadBalancerIPAddress:void 0,PublishedPorts:[],Volumes:[],Env:[],PersistedFolders:[],ConfigurationVolumes:[],DeploymentType:\"Unknown\",DataAccessPolicy:\"Unknown\",ApplicationType:\"Unknown\",RunningPodsCount:0,TotalPodsCount:0,Yaml:\"\",Note:\"\",Revisions:void 0,CurrentRevision:void 0,Raw:void 0,AutoScaler:void 0});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}class s{constructor(){this.Id=\"\",this.Name=\"\",this.KubernetesApplications=[],this.ApplicationOwner=\"\",this.CreationDate=0,this.ApplicationType=\"Unknown\",this.Status=\"\",this.StackName=\"-\",this.ResourcePool=\"-\",this.Image=\"-\",this.PublishedPorts=[]}}const o=Object.freeze({MountPath:\"\",PersistentVolumeClaimName:\"\",HostPath:\"\"});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}const c=Object.freeze({fileMountPath:\"\",rootMountPath:\"\",configurationKey:\"\",configurationName:\"\"});class d{constructor(){Object.assign(this,JSON.parse(JSON.stringify(c)))}}const u=Object.freeze({IngressRules:[],NodePort:0,TargetPort:0,Port:0,Protocol:\"\"});class p{constructor(){Object.assign(this,JSON.parse(JSON.stringify(u)))}}const m=Object.freeze({GIT:\"git\",CONTENT:\"content\",APPLICATION_FORM:\"application form\",URL:\"url\"})},11505:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesApplicationVolumeMountPayload:function(){return r},KubernetesApplicationVolumePersistentPayload:function(){return s},KubernetesApplicationVolumeConfigMapPayload:function(){return l},KubernetesApplicationVolumeSecretPayload:function(){return d},KubernetesApplicationVolumeEntryPayload:function(){return p},KubernetesApplicationEnvPayload:function(){return g},KubernetesApplicationEnvConfigMapPayload:function(){return f},KubernetesApplicationEnvSecretPayload:function(){return b}});const a=Object.freeze({name:\"\",mountPath:\"\",readOnly:!1});class r{constructor(e){Object.assign(this,JSON.parse(JSON.stringify(a))),e?this.readOnly=!0:delete this.readOnly}}const i=Object.freeze({name:\"\",persistentVolumeClaim:{claimName:\"\"}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}const o=Object.freeze({name:\"\",configMap:{name:\"\",items:[]}});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}const c=Object.freeze({name:\"\",secret:{secretName:\"\",items:[]}});class d{constructor(){Object.assign(this,JSON.parse(JSON.stringify(c)))}}const u=Object.freeze({key:\"\",path:\"\"});class p{constructor(){Object.assign(this,JSON.parse(JSON.stringify(u)))}}const m=Object.freeze({name:\"\",value:\"\"});class g{constructor(){Object.assign(this,JSON.parse(JSON.stringify(m)))}}const h=Object.freeze({name:\"\",valueFrom:{configMapKeyRef:{name:\"\",key:\"\"}}});class f{constructor(){Object.assign(this,JSON.parse(JSON.stringify(h)))}}const v=Object.freeze({name:\"\",valueFrom:{secretKeyRef:{name:\"\",key:\"\"}}});class b{constructor(){Object.assign(this,JSON.parse(JSON.stringify(v)))}}},82469:function(e,t,n){\"use strict\";function a(){return{id:\"\"}}n.r(t),n.d(t,{KubernetesCommonParams:function(){return a}})},27367:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesCommonMetadataPayload:function(){return r}});const a=Object.freeze({uid:\"\",name:\"\",namespace:\"\",labels:{},annotations:{}});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},13978:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesPortainerConfigMapNamespace:function(){return a},KubernetesPortainerConfigMapConfigName:function(){return r},KubernetesPortainerConfigMapAccessKey:function(){return i},KubernetesPortainerAccessConfigMap:function(){return s},KubernetesConfigMap:function(){return l}});const a=\"portainer\",r=\"portainer-config\",i=\"NamespaceAccessPolicies\";function s(){return{Id:0,Name:r,Namespace:a,Data:{}}}const o=Object.freeze({Id:0,Name:\"\",Namespace:\"\",Yaml:\"\",ConfigurationOwner:\"\",Data:[]});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}},40879:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesConfigMapCreatePayload:function(){return i},KubernetesConfigMapUpdatePayload:function(){return o}});var a=n(27367);const r=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,data:{},binaryData:{}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}const s=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,data:{},binaryData:{}});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},30578:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesConfigurationFormValues:function(){return i},KubernetesConfigurationFormValuesEntry:function(){return o}});var a=n(82434);const r=Object.freeze({Id:\"\",ResourcePool:\"\",Name:\"\",ConfigurationOwner:\"\",Type:a.KubernetesConfigurationTypes.CONFIGMAP,Data:[],DataYaml:\"\",IsSimple:!0});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}const s=Object.freeze({Key:\"\",Value:\"\",IsBinary:!1});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},82434:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesPortainerConfigurationOwnerLabel:function(){return a},KubernetesPortainerConfigurationDataAnnotation:function(){return r},KubernetesConfiguration:function(){return s},KubernetesConfigurationTypes:function(){return o}});const a=\"io.portainer.kubernetes.configuration.owner\",r=\"io.portainer.kubernetes.configuration.data\",i=Object.freeze({Id:0,Name:\"\",Type:\"\",Namespace:\"\",CreationDate:\"\",ConfigurationOwner:\"\",Used:!1,Applications:[],Data:{}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}const o=Object.freeze({CONFIGMAP:1,SECRET:2})},12745:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesDaemonSet:function(){return r}});const a=Object.freeze({Namespace:\"\",Name:\"\",StackName:\"\",ImageModel:null,Env:[],CpuLimit:0,MemoryLimit:0,VoluemMounts:[],Volumes:[],Secret:void 0,ApplicationName:\"\",ApplicationOwner:\"\",Note:\"\",Affinity:void 0});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},82935:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesDaemonSetCreatePayload:function(){return i}});var a=n(27367);const r=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{replicas:0,selector:{matchLabels:{app:\"\"}},updateStrategy:{type:\"RollingUpdate\",rollingUpdate:{maxUnavailable:1}},template:{metadata:{labels:{app:\"\"}},spec:{containers:[{name:\"\",image:\"\",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},6253:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesDeployManifestTypes:function(){return a},KubernetesDeployBuildMethods:function(){return r},KubernetesDeployRequestMethods:function(){return i},RepositoryMechanismTypes:function(){return s}});const a=Object.freeze({KUBERNETES:1,COMPOSE:2}),r=Object.freeze({GIT:1,WEB_EDITOR:2,CUSTOM_TEMPLATE:3,URL:4}),i=Object.freeze({REPOSITORY:\"repository\",STRING:\"string\",URL:\"url\"}),s=Object.freeze({WEBHOOK:\"Webhook\",INTERVAL:\"Interval\"})},59238:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesDeployment:function(){return r}});const a=Object.freeze({Namespace:\"\",Name:\"\",StackName:\"\",ReplicaCount:0,ImageModel:null,Env:[],CpuLimit:0,MemoryLimit:0,VolumeMounts:[],Volumes:[],Secret:void 0,ApplicationName:\"\",ApplicationOwner:\"\",Note:\"\",Affinity:void 0});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},95008:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesDeploymentCreatePayload:function(){return i}});var a=n(27367);const r=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{replicas:0,selector:{matchLabels:{app:\"\"}},strategy:{type:\"RollingUpdate\",rollingUpdate:{maxSurge:0,maxUnavailable:\"100%\"}},template:{metadata:{labels:{app:\"\"}},spec:{affinity:{},containers:[{name:\"\",image:\"\",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},82239:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesEvent:function(){return r}});const a=Object.freeze({Id:\"\",Date:0,Type:\"\",Message:\"\",Involved:{}});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},24601:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesSystem_DefaultDeploymentUniqueLabelKey:function(){return a},KubernetesSystem_RevisionAnnotation:function(){return r},KubernetesSystem_RevisionHistoryAnnotation:function(){return i},KubernetesSystem_ChangeCauseAnnotation:function(){return s},KubernetesSystem_DesiredReplicasAnnotation:function(){return o},KubernetesSystem_MaxReplicasAnnotation:function(){return l},KubernetesSystem_AnnotationsToSkip:function(){return c}});const a=\"pod-template-hash\",r=\"deployment.kubernetes.io/revision\",i=\"deployment.kubernetes.io/revision-history\",s=\"kubernetes.io/change-cause\",o=\"deployment.kubernetes.io/desired-replicas\",l=\"deployment.kubernetes.io/max-replicas\",c={\"kubectl.kubernetes.io/last-applied-configuration\":!0,[r]:!0,[i]:!0,[o]:!0,[l]:!0,\"deprecated.deployment.rollback.to\":!0}},35076:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesNamespace:function(){return a},KUBERNETES_DEFAULT_SYSTEM_NAMESPACES:function(){return r},KUBERNETES_DEFAULT_NAMESPACE:function(){return i}});class a{constructor(){this.Id=\"\",this.Name=\"\",this.CreationDate=\"\",this.Status=\"\",this.Yaml=\"\",this.ResourcePoolName=\"\",this.ResourcePoolOwner=\"\",this.IsSystem=!1}}const r=[\"kube-system\",\"kube-public\",\"kube-node-lease\",\"portainer\"],i=\"default\"},63829:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesNamespaceCreatePayload:function(){return i}});var a=n(27367);const r=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},74335:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesNodesLimits:function(){return o}});var a=n(30385),r=n.n(a),i=n(41952),s=n.n(i);class o{constructor(e){this.MaxCPU=0,this.MaxMemory=0,this.nodesLimits=this.convertCPU(e),this.calculateMaxCPUMemory()}convertCPU(e){return s()(e,(e=>{e.CPU&&(e.CPU/=1e3)})),e}calculateMaxCPUMemory(){const e=Object.values(this.nodesLimits);this.MaxCPU=r()(e,\"CPU\").CPU,this.MaxMemory=r()(e,\"Memory\").Memory}overflowForReplica(e,t,n){return s()(this.nodesLimits,(a=>{n-=Math.min(Math.floor(a.CPU/e),Math.floor(a.Memory/t))})),n>0}overflowForGlobal(e,t){let n=!1;return s()(this.nodesLimits,(a=>{(e>a.CPU||t>a.Memory)&&(n=!0)})),n}excludesPods(e,t,n){const a=this.nodesLimits;s()(e,(e=>{const r=e.Node;r&&a[r]&&(a[r].CPU+=t,a[r].Memory+=n)})),this.calculateMaxCPUMemory()}}},83270:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesPortMappingPort:function(){return r},KubernetesPortMapping:function(){return s}});const a=Object.freeze({Port:0,TargetPort:0,Protocol:\"\",IngressRules:[]});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}const i=Object.freeze({Expanded:!1,Highlighted:!1,ResourcePool:\"\",ServiceType:\"\",ApplicationOwner:\"\",LoadBalancerIPAddress:\"\",Ports:[]});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},16496:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesResourcePoolFormValues:function(){return r},KubernetesResourcePoolIngressClassFormValue:function(){return i},KubernetesResourcePoolIngressClassAnnotationFormValue:function(){return s},KubernetesResourcePoolIngressClassHostFormValue:function(){return o},KubernetesResourcePoolNginxRewriteAnnotationFormValue:function(){return l},KubernetesResourcePoolNginxUseregexAnnotationFormValue:function(){return c},KubernetesResourcePoolTraefikRewriteAnnotationFormValue:function(){return d}});var a=n(62072);function r(e){this.Name=\"\",this.MemoryLimit=e.MemoryLimit,this.CpuLimit=e.CpuLimit,this.HasQuota=!1,this.IngressClasses=[],this.Registries=[],this.EndpointId=0,this.IsSystem=!1}function i(e){return{Namespace:void 0,IngressClass:e,RewriteTarget:!1,Annotations:[],Hosts:[],Selected:!1,WasSelected:!1,AdvancedConfig:!1,Paths:[]}}function s(){return{Key:\"\",Value:\"\"}}function o(){return{Host:\"\",PreviousHost:\"\",NeedsDeletion:!1,IsNew:!0}}function l(){return a.KubernetesNginxRewriteTargetAnnotations}function c(){return a.KubernetesNginxUseregexAnnotations}function d(){return a.KubernetesTraefikRewriteTargetAnnotations}},72210:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesPortainerResourcePoolNameLabel:function(){return a},KubernetesPortainerResourcePoolOwnerLabel:function(){return r},KubernetesPortainerNamespaceSystemLabel:function(){return i},KubernetesResourcePool:function(){return s}});const a=\"io.portainer.kubernetes.resourcepool.name\",r=\"io.portainer.kubernetes.resourcepool.owner\",i=\"io.portainer.kubernetes.namespace.system\";function s(){return{Namespace:{},Quota:void 0,Ingresses:[],Yaml:\"\"}}},47685:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesPortainerResourceQuotaPrefix:function(){return r},KubernetesPortainerResourceQuotaCPULimit:function(){return i},KubernetesPortainerResourceQuotaMemoryLimit:function(){return s},KubernetesPortainerResourceQuotaCPURequest:function(){return o},KubernetesPortainerResourceQuotaMemoryRequest:function(){return l},KubernetesResourceQuotaDefaults:function(){return c},KubernetesResourceQuota:function(){return d}});var a=n(21458);const r=\"portainer-rq-\",i=\"limits.cpu\",s=\"limits.memory\",o=\"requests.cpu\",l=\"requests.memory\",c={CpuLimit:0,MemoryLimit:0};function d(e){return{Id:\"\",Namespace:e||\"\",Name:e?a.default.generateResourceQuotaName(e):\"\",CpuLimit:c.CpuLimit,MemoryLimit:c.MemoryLimit,CpuLimitUsed:c.CpuLimit,MemoryLimitUsed:c.MemoryLimit,Yaml:\"\",ResourcePoolName:\"\",ResourcePoolOwner:\"\"}}},75976:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesResourceQuotaCreatePayload:function(){return i}});var a=n(27367),r=n(47685);function i(){return{metadata:new a.KubernetesCommonMetadataPayload,spec:{hard:{[r.KubernetesPortainerResourceQuotaCPURequest]:0,[r.KubernetesPortainerResourceQuotaMemoryRequest]:0,[r.KubernetesPortainerResourceQuotaCPULimit]:0,[r.KubernetesPortainerResourceQuotaMemoryLimit]:0}}}}},46685:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesResourceReservation:function(){return r}});const a=Object.freeze({Memory:0,CPU:0});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},39212:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesResourceTypes:function(){return a},KubernetesResourceActions:function(){return r}});const a=Object.freeze({NAMESPACE:\"Namespace\",RESOURCEQUOTA:\"ResourceQuota\",CONFIGMAP:\"ConfigMap\",SECRET:\"Secret\",DEPLOYMENT:\"Deployment\",STATEFULSET:\"StatefulSet\",DAEMONSET:\"Daemonset\",PERSISTENT_VOLUME_CLAIM:\"PersistentVolumeClaim\",SERVICE:\"Service\",INGRESS:\"Ingress\",HORIZONTAL_POD_AUTOSCALER:\"HorizontalPodAutoscaler\"}),r=Object.freeze({CREATE:\"Create\",UPDATE:\"Update\",DELETE:\"Delete\"})},69730:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesApplicationSecret:function(){return r}});const a=Object.freeze({Id:0,Name:\"\",Namespace:\"\",CreationDate:\"\",ConfigurationOwner:\"\",Yaml:\"\",Data:[]});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},60622:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesSecretCreatePayload:function(){return i},KubernetesSecretUpdatePayload:function(){return o}});var a=n(27367);const r=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,type:\"Opaque\",data:{},stringData:{}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}const s=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,type:\"Opaque\",data:{},stringData:{}});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},79990:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesServiceHeadlessPrefix:function(){return a},KubernetesServiceHeadlessClusterIP:function(){return r},KubernetesServiceTypes:function(){return i},KubernetesService:function(){return o},KubernetesIngressService:function(){return c},KubernetesIngressServiceRoute:function(){return u},KubernetesServicePort:function(){return m}});const a=\"headless-\",r=\"None\",i=Object.freeze({LOAD_BALANCER:\"LoadBalancer\",NODE_PORT:\"NodePort\",CLUSTER_IP:\"ClusterIP\",INGRESS:\"Ingress\"}),s=Object.freeze({Headless:!1,Namespace:\"\",Name:\"\",StackName:\"\",Ports:[],Type:\"\",ClusterIP:\"\",ApplicationName:\"\",ApplicationOwner:\"\",Note:\"\",Ingress:!1,Selector:{}});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}const l=Object.freeze({Headless:!1,Namespace:\"\",Name:\"\",StackName:\"\",Ports:[],Type:\"\",ClusterIP:\"\",ApplicationName:\"\",ApplicationOwner:\"\",Note:\"\",Ingress:!0,IngressRoute:[]});class c{constructor(){Object.assign(this,JSON.parse(JSON.stringify(l)))}}const d=Object.freeze({Host:\"\",IngressName:\"\",Path:\"\",ServiceName:\"\"});class u{constructor(){Object.assign(this,JSON.parse(JSON.stringify(d)))}}const p=Object.freeze({name:\"\",port:0,targetPort:0,protocol:\"\",nodePort:0,ingress:\"\"});class m{constructor(){Object.assign(this,JSON.parse(JSON.stringify(p)))}}},31249:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesServiceCreatePayload:function(){return i}});var a=n(27367);const r=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{ports:[],selector:{app:\"\"},type:\"\",clusterIP:\"\"}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},31084:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesStack:function(){return r}});const a=Object.freeze({Name:\"\",ResourcePool:\"\",Applications:[]});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},91920:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesStatefulSet:function(){return r}});const a=Object.freeze({Namespace:\"\",Name:\"\",StackName:\"\",ReplicaCount:0,ImageModel:null,Env:[],CpuLimit:\"\",MemoryLimit:\"\",VolumeMounts:[],Volumes:[],Secret:void 0,VolumeClaims:[],ServiceName:\"\",ApplicationName:\"\",ApplicationOwner:\"\",Note:\"\",Affinity:void 0});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},13871:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesStatefulSetCreatePayload:function(){return i}});var a=n(27367);const r=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{replicas:0,serviceName:\"\",selector:{matchLabels:{app:\"\"}},volumeClaimTemplates:[],updateStrategy:{type:\"RollingUpdate\",rollingUpdate:{partition:0}},template:{metadata:{labels:{app:\"\"}},spec:{containers:[{name:\"\",image:\"\",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},86871:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesStorageClassAccessPolicies:function(){return r},KubernetesStorageClass:function(){return s}});const a=Object.freeze([{Name:\"RWO\",Description:\"Allow read-write from a single pod only (RWO)\",selected:!0},{Name:\"RWX\",Description:\"Allow read-write access from one or more pods concurrently (RWX)\",selected:!1}]);function r(){return JSON.parse(JSON.stringify(a))}const i=Object.freeze({Name:\"\",AccessModes:[],Provisioner:\"\",AllowVolumeExpansion:!1});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},79824:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesStorageClassCreatePayload:function(){return i}});var a=n(27367);const r=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,provisioner:\"\",allowVolumeExpansion:!1});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},72913:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesPersistentVolumeClaim:function(){return s},KubernetesVolume:function(){return l}});var a=n(15964),r=n.n(a);const i=Object.freeze({Id:\"\",Name:\"\",PreviousName:\"\",Namespace:\"\",Storage:0,StorageClass:{},CreationDate:\"\",ApplicationOwner:\"\",ApplicationName:\"\",MountPath:\"\",Yaml:\"\"});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i))),this.Name=r()()}}const o=Object.freeze({ResourcePool:{},PersistentVolumeClaim:{},Applications:[]});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}},88296:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesPersistentVolumClaimCreatePayload:function(){return i}});var a=n(27367);const r=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{accessModes:[\"ReadWriteOnce\"],resources:{requests:{storage:\"\"}},storageClassName:\"\"}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},76676:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesNodeConditionTypes:function(){return y}});var a=n(55743),r=n.n(a),i=n(83432),s=n.n(i),o=n(66539),l=n.n(o),c=n(39576),d=n.n(c),u=n(51235),p=n.n(u),m=n(34901),g=n(48942),h=n(22229),f=n(2949),v=n(11801);class b{static apiToNode(e,t){t||(t=new g.KubernetesNode),t.Id=e.metadata.uid;const n=p()(e.status.addresses,{type:\"Hostname\"});t.Name=n?n.address:e.metadata.Name,t.Labels=e.metadata.labels,t.Role=d()(e.metadata.labels,\"node-role.kubernetes.io/master\")?\"Master\":\"Worker\";const a=p()(e.status.conditions,{type:y.READY}),r=p()(e.status.conditions,{type:y.MEMORY_PRESSURE}),i=p()(e.status.conditions,{type:y.PID_PRESSURE}),s=p()(e.status.conditions,{type:y.DISK_PRESSURE}),o=p()(e.status.conditions,{type:y.NETWORK_UNAVAILABLE});t.Conditions={MemoryPressure:r&&\"True\"===r.status,PIDPressure:i&&\"True\"===i.status,DiskPressure:s&&\"True\"===s.status,NetworkUnavailable:o&&\"True\"===o.status},t.Availability=g.KubernetesNodeAvailabilities.ACTIVE,!0===e.spec.unschedulable&&(t.Availability=d()(e.metadata.labels,g.KubernetesPortainerNodeDrainLabel)?g.KubernetesNodeAvailabilities.DRAIN:g.KubernetesNodeAvailabilities.PAUSE),\"False\"===a.status?t.Status=\"Unhealthy\":\"Unknown\"===a.status||t.Conditions.MemoryPressure||t.Conditions.PIDPressure||t.Conditions.DiskPressure||t.Conditions.NetworkUnavailable?t.Status=\"Warning\":t.Status=\"Ready\",t.CPU=h.default.parseCPU(e.status.allocatable.cpu),t.Memory=e.status.allocatable.memory,t.Version=e.status.nodeInfo.kubeletVersion;const c=p()(e.status.addresses,{type:\"InternalIP\"});return t.IPAddress=c?c.address:\"-\",t.Taints=l()(e.spec.taints,(e=>{const t=new g.KubernetesNodeTaint;return t.Key=e.key,t.Value=e.value,t.Effect=e.effect,t})),t}static apiToNodeDetails(e,t){let n=new g.KubernetesNodeDetails;return n=b.apiToNode(e,n),n.CreationDate=e.metadata.creationTimestamp,n.OS.Architecture=e.status.nodeInfo.architecture,n.OS.Platform=e.status.nodeInfo.operatingSystem,n.OS.Image=e.status.nodeInfo.osImage,n.Yaml=t?t.data:\"\",n}static nodeToFormValues(e){const t=new f.KubernetesNodeFormValues;return t.Availability=e.Availability,t.Taints=l()(e.Taints,(e=>{const t=new f.KubernetesNodeTaintFormValues;return t.Key=e.Key,t.Value=e.Value,t.Effect=e.Effect,t.NeedsDeletion=!1,t.IsNew=!1,t})),t.Labels=l()(e.Labels,((e,t)=>{const n=new f.KubernetesNodeLabelFormValues;return n.Key=t,n.Value=e,n.NeedsDeletion=!1,n.IsNew=!1,n})),t}static formValuesToNode(e,t){const n=angular.copy(e);n.Availability=t.Availability;const a=s()(t.Taints,(e=>!e.NeedsDeletion));n.Taints=l()(a,(e=>{const t=new g.KubernetesNodeTaint;return t.Key=e.Key,t.Value=e.Value,t.Effect=e.Effect,t}));const i=s()(t.Labels,(e=>!e.NeedsDeletion));return n.Labels=r()(i,((e,t)=>(e[t.Key]=t.Value?t.Value:\"\",e)),{}),n}static createPayload(e){const t=new v.KubernetesNodeCreatePayload;t.metadata.name=e.Name;const n=l()(e.Taints,(e=>{const t=new v.KubernetesNodeTaintPayload;return t.key=e.Key,t.value=e.Value,t.effect=e.Effect,t}));return t.spec.taints=n.length?n:void 0,t.metadata.labels=e.Labels,e.Availability!==g.KubernetesNodeAvailabilities.ACTIVE&&(t.spec.unschedulable=!0,e.Availability===g.KubernetesNodeAvailabilities.DRAIN?t.metadata.labels[g.KubernetesPortainerNodeDrainLabel]=\"\":delete t.metadata.labels[g.KubernetesPortainerNodeDrainLabel]),t}static patchPayload(e,t){const n=b.createPayload(e),a=b.createPayload(t);return m.qu(n,a)}}const y=Object.freeze({READY:\"Ready\",MEMORY_PRESSURE:\"MemoryPressure\",PID_PRESSURE:\"PIDPressure\",DISK_PRESSURE:\"DiskPressure\",NETWORK_UNAVAILABLE:\"NetworkUnavailable\"});t.default=b},57067:function(e,t,n){\"use strict\";n.r(t);var a=n(94946),r=n.n(a);angular.module(\"portainer.kubernetes\").filter(\"kubernetesNodeStatusColor\",(function(){return function(e){switch(r()(e)){case\"ready\":return\"success\";case\"warning\":return\"warning\";default:return\"danger\"}}})).filter(\"kubernetesNodeConditionsMessage\",(function(){return function(e){return e.MemoryPressure?\"Node memory is running low\":e.PIDPressure?\"Too many processes running on the node\":e.DiskPressure?\"Node disk capacity is running low\":e.NetworkUnavailable?\"Incorrect node network configuration\":void 0}}))},2949:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesNodeFormValues:function(){return r},KubernetesNodeTaintFormValues:function(){return s},KubernetesNodeLabelFormValues:function(){return l}});const a=Object.freeze({Taints:[],Labels:[],Availability:\"\"});class r{constructor(){Object.assign(JSON.parse(JSON.stringify(a)))}}const i=Object.freeze({Key:\"\",Values:\"\",Effect:\"\",NeedsDeletion:!1,IsNew:!1,IsChanged:!1});class s{constructor(){Object.assign(JSON.parse(JSON.stringify(i)))}}const o=Object.freeze({Key:\"\",Values:\"\",NeedsDeletion:!1,IsNew:!1,IsUsed:!1,IsChanged:!1});class l{constructor(){Object.assign(JSON.parse(JSON.stringify(o)))}}},14780:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesNodeHelper:function(){return x}});var a=n(86103),r=n.n(a),i=n(4160),s=n.n(i),o=n(74362),l=n.n(o),c=n(51235),d=n.n(c),u=n(46006),p=n.n(u),m=n(66539),g=n.n(m),h=n(55332),f=n.n(h),v=n(40714),b=n.n(v),y=n(13507),w=n.n(y);class x{static isSystemLabel(e){return!e.IsNew&&(w()(e.Key,\"beta.kubernetes.io\")||w()(e.Key,\"kubernetes.io\")||\"node-role.kubernetes.io/master\"===e.Key)}static reorderLabels(e){return b()(e,(e=>!x.isSystemLabel(e)))}static computeUsedLabels(e,t){const n=f()(g()(e,\"Pods\")),a=p()(f()(g()(n,\"NodeSelector\")));return g()(t,(e=>(e.IsUsed=!!d()(a,(t=>t&&t[e.Key]===e.Value)),e)))}static generateNodeLabelsFromNodes(e){const t=l()(e,(e=>g()(s()(e.Labels),(([e,t])=>({key:e,value:t})))));return g()(r()(t,\"key\"),((e,t)=>({Key:t,Values:p()(g()(e,\"value\"))})))}}},48942:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesPortainerNodeDrainLabel:function(){return a},KubernetesNode:function(){return i},KubernetesNodeDetails:function(){return o},KubernetesNodeTaint:function(){return c},KubernetesNodeAvailabilities:function(){return d},KubernetesNodeTaintEffects:function(){return u}});const a=\"io.portainer/node-status-drain\",r=Object.freeze({Id:\"\",Name:\"\",Labels:{},Role:\"\",Status:\"\",CPU:0,Memory:\"\",Version:\"\",IPAddress:\"\",Api:!1,Taints:[],Port:0,Availability:\"\"});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}const s=Object.freeze({CreationDate:\"\",OS:{Architecture:\"\",Platform:\"\",Image:\"\"},Conditions:[],Yaml:\"\"});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r))),Object.assign(this,JSON.parse(JSON.stringify(s)))}}const l=Object.freeze({Key:\"\",Value:\"\",Effect:\"\"});class c{constructor(){Object.assign(this,JSON.parse(JSON.stringify(l)))}}const d=Object.freeze({ACTIVE:\"Active\",PAUSE:\"Pause\",DRAIN:\"Drain\"}),u=Object.freeze({NOSCHEDULE:\"NoSchedule\",PREFERNOSCHEDULE:\"PreferNoSchedule\",NOEXECUTE:\"NoExecute\"})},11801:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesNodeCreatePayload:function(){return r},KubernetesNodeTaintPayload:function(){return s}});const a=Object.freeze({metadata:{name:\"\",labels:{}},spec:{taints:void 0}});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}const i=Object.freeze({key:\"\",value:\"\",effect:\"\"});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},9790:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesNodes\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(){return e(t+\"/:endpointId/kubernetes/api/v1/nodes/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},6795:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(29274),s=n.n(i),o=n(20023),l=n(76676),c=n(82469);class d{constructor(e,t){this.$async=e,this.KubernetesNodes=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.patchAsync=this.patchAsync.bind(this)}async getAsync(e){try{const t=new c.KubernetesCommonParams;t.id=e;const[n,a]=await Promise.all([this.KubernetesNodes().get(t).$promise,this.KubernetesNodes().getYaml(t).$promise]);return l.default.apiToNodeDetails(n,a)}catch(e){const t=e.data;throw new o.Z(\"Unable to retrieve node details\",t)}}async getAllAsync(){try{const e=await this.KubernetesNodes().get().$promise;return r()(e.items,(e=>l.default.apiToNode(e)))}catch(e){throw{msg:\"Unable to retrieve nodes\",err:e}}}get(e){return e?this.$async(this.getAsync,e):this.$async(this.getAllAsync)}async patchAsync(e,t){try{const n=new c.KubernetesCommonParams;n.id=e.Name;const a=l.default.formValuesToNode(e,t),r=l.default.patchPayload(e,a),i=await this.KubernetesNodes().patch(n,r).$promise;return l.default.apiToNodeDetails(i)}catch(e){throw{msg:\"Unable to patch node\",err:e}}}patch(e,t){return this.$async(this.patchAsync,e,t)}}d.$inject=[\"$async\",\"KubernetesNodes\"],t.default=d,s().module(\"portainer.kubernetes\").service(\"KubernetesNodeService\",d)},22050:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return y}});var a=n(37336),r=n.n(a),i=n(25445),s=n.n(i),o=n(51235),l=n.n(o),c=n(83432),d=n.n(c),u=n(66539),p=n.n(u),m=n(34901),g=n(12925),h=n(7172),f=n(31275),v=n(61005);function b(e,t){const n=l()(e,{name:t});if(!n)return\"Terminated\";const a=n.state;return a.waiting?\"Waiting\":a.running?\"Running\":\"Terminated\"}class y{static apiToModel(e){const t=new f.KubernetesPod;var n;return t.Id=e.metadata.uid,t.Name=e.metadata.name,t.Namespace=e.metadata.namespace,t.Images=p()(e.spec.containers,\"image\"),t.Status=function(e){const t=p()(e,\"state\"),n=d()(t,(e=>e.running)).length;return d()(t,(e=>e.waiting)).length?\"Waiting\":n?\"Running\":\"Terminated\"}(e.status.containerStatuses),t.Restarts=r()(e.status.containerStatuses,\"restartCount\"),t.Node=e.spec.nodeName,t.CreationDate=e.status.startTime,t.Containers=function(e){const t=e.spec.containers,n=e.spec.initContainers;return s()(p()(t,(t=>{const n=new f.KubernetesPodContainer;return n.Type=f.KubernetesPodContainerTypes.APP,n.PodName=e.metadata.name,n.PodIP=e.status.podIP,n.Name=t.name,n.Image=t.image,n.ImagePullPolicy=t.imagePullPolicy,n.Node=e.spec.nodeName,n.CreationDate=e.status.startTime,n.Status=b(e.status.containerStatuses,t.name),n.Limits=t.resources.limits,n.Requests=t.resources.requests,n.VolumeMounts=t.volumeMounts,n.Env=t.env,n})),p()(n,(t=>{const n=new f.KubernetesPodContainer;return n.Type=f.KubernetesPodContainerTypes.INIT,n.PodName=e.metadata.name,n.Name=t.name,n.Image=t.image,n.Node=e.spec.nodeName,n.CreationDate=e.status.startTime,n.Status=b(e.status.containerStatuses,t.name),n.Limits=t.resources.limits,n.Requests=t.resources.requests,n.VolumeMounts=t.volumeMounts,n.Env=t.env,n})))}(e),t.Labels=e.metadata.labels,t.Affinity=function(e){const t=new f.KubernetesPodAffinity;return e&&(t.nodeAffinity=e.nodeAffinity||{}),t}(e.spec.affinity),t.NodeSelector=e.spec.nodeSelector,t.Tolerations=(n=e.spec.tolerations,p()(n,(e=>{const t=new f.KubernetesPodToleration;return t.Key=e.key,t.Operator=e.operator,t.Value=e.value,t.TolerationSeconds=e.tolerationSeconds,t.Effect=e.effect,t}))),t}static evictionPayload(e){const t=new f.KubernetesPodEviction;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t}static patchPayload(e,t){const n=w(e),a=w(t);return m.qu(n,a)}}function w(e){const t=(0,v.createPayloadFactory)();return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[h.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[h.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[h.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,e.Note?t.metadata.annotations[h.KubernetesPortainerApplicationNote]=e.Note:t.metadata.annotations=void 0,t.spec.replicas=e.ReplicaCount,t.spec.selector.matchLabels.app=e.Name,t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[h.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,t.spec.template.spec.containers[0].image=e.Image,t.spec.template.spec.affinity=e.Affinity,g.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].env\",e.Env),g.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].volumeMounts\",e.VolumeMounts),g.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.volumes\",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}},15826:function(e,t,n){\"use strict\";n.r(t);var a=n(94946),r=n.n(a);angular.module(\"portainer.kubernetes\").filter(\"kubernetesPodStatusColor\",(function(){return function(e){switch(r()(e)){case\"running\":return\"success\";case\"waiting\":return\"warning\";case\"terminated\":return\"info\";default:return\"danger\"}}})).filter(\"kubernetesPodConditionStatusBadge\",(function(){return function(e,t){switch(t){case\"Unschedulable\":switch(e){case\"True\":return\"fa-exclamation-triangle red-icon\";case\"False\":return\"fa-check green-icon\";case\"Unknown\":return\"fa-exclamation-circle orange-icon\"}break;case\"PodScheduled\":case\"Ready\":case\"Initialized\":case\"ContainersReady\":switch(e){case\"True\":return\"fa-check green-icon\";case\"False\":return\"fa-exclamation-triangle red-icon\";case\"Unknown\":return\"fa-exclamation-circle orange-icon\"}break;default:return\"fa-question-circle red-icon\"}}})).filter(\"kubernetesPodConditionStatusText\",(function(){return function(e,t){switch(t){case\"Unschedulable\":switch(e){case\"True\":return\"Alert\";case\"False\":return\"OK\";case\"Unknown\":return\"Warning\"}break;case\"PodScheduled\":case\"Ready\":case\"Initialized\":case\"ContainersReady\":switch(e){case\"True\":return\"Ok\";case\"False\":return\"Alert\";case\"Unknown\":return\"Warning\"}break;default:return\"Unknown\"}}}))},73689:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesPodNodeAffinityNodeSelectorRequirementOperators:function(){return a},KubernetesPodAffinity:function(){return r}});const a=Object.freeze({IN:\"In\",NOT_IN:\"NotIn\",EXISTS:\"Exists\",DOES_NOT_EXIST:\"DoesNotExist\",GREATER_THAN:\"Gt\",LOWER_THAN:\"Lt\"});function r(){return{nodeAffinity:{}}}},31275:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesPodAffinity:function(){return a.KubernetesPodAffinity},KubernetesPodNodeAffinityNodeSelectorRequirementOperators:function(){return a.KubernetesPodNodeAffinityNodeSelectorRequirementOperators},KubernetesPod:function(){return i},KubernetesPodToleration:function(){return o},KubernetesPodContainer:function(){return c},KubernetesPodEviction:function(){return u},KubernetesPodContainerTypes:function(){return p}});var a=n(73689);const r=Object.freeze({Id:\"\",Name:\"\",Namespace:\"\",Images:[],Status:\"\",Restarts:0,Node:\"\",CreationDate:\"\",Containers:[],Labels:[],Affinity:{},Tolerations:[],NodeSelector:void 0});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}const s=Object.freeze({Key:\"\",Operator:\"\",Value:\"\",TolerationSeconds:0,Effect:\"\"});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}const l=Object.freeze({Type:0,PodName:\"\",Name:\"\",Image:\"\",ImagePullPolicy:\"\",Node:\"\",CreationDate:\"\",Status:\"\",Limits:{},Requests:{},VolumeMounts:{},ConfigurationVolumes:[],PersistedFolders:[],Env:[]});class c{constructor(){Object.assign(this,JSON.parse(JSON.stringify(l)))}}const d=Object.freeze({apiVersion:\"policy/v1beta1\",kind:\"Eviction\",metadata:{name:\"\",namespace:\"\"}});class u{constructor(){Object.assign(this,JSON.parse(JSON.stringify(d)))}}const p={INIT:1,APP:2}},78398:function(e,t,n){\"use strict\";function a(){return{requiredDuringSchedulingIgnoredDuringExecution:{nodeSelectorTerms:[]},preferredDuringSchedulingIgnoredDuringExecution:[]}}function r(){return{weight:1,preference:{}}}function i(){return{matchExpressions:[]}}function s(){return{key:\"\",operator:\"\",values:[]}}n.r(t),n.d(t,{KubernetesPodNodeAffinityPayload:function(){return a},KubernetesPreferredSchedulingTermPayload:function(){return r},KubernetesNodeSelectorTermPayload:function(){return i},KubernetesNodeSelectorRequirementPayload:function(){return s}})},61005:function(e,t,n){\"use strict\";n.r(t),n.d(t,{createPayloadFactory:function(){return r}});var a=n(27367);function r(){return{metadata:new a.KubernetesCommonMetadataPayload,spec:{replicas:0,selector:{matchLabels:{app:\"\"}},strategy:{type:\"RollingUpdate\",rollingUpdate:{maxSurge:0,maxUnavailable:\"100%\"}},template:{metadata:{labels:{app:\"\"}},spec:{affinity:{},containers:[{name:\"\",image:\"\",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}}}},30754:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(20023),s=n(82469),o=n(22050);class l{constructor(e,t){this.$async=e,this.KubernetesPods=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.logsAsync=this.logsAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.evictionAsync=this.evictionAsync.bind(this)}async getAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t;const[a,r]=await Promise.all([this.KubernetesPods(e).get(n).$promise,this.KubernetesPods(e).getYaml(n).$promise]);return{Raw:a,Yaml:r.data}}catch(e){throw new i.Z(\"Unable to retrieve pod\",e)}}async getAllAsync(e){try{return(await this.KubernetesPods(e).get().$promise).items}catch(e){throw new i.Z(\"Unable to retrieve pods\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async logsAsync(e,t,n){try{const a=new s.KubernetesCommonParams;a.id=t,n&&(a.container=n);const r=await this.KubernetesPods(e).logs(a).$promise;return 0===r.logs.length?[]:r.logs.split(\"\\n\")}catch(e){throw new i.Z(\"Unable to retrieve pod logs\",e)}}logs(e,t,n){return this.$async(this.logsAsync,e,t,n)}async patchAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,r=o.default.patchPayload(e,t);if(!r.length)return;return await this.KubernetesPods(a).patch(n,r).$promise}catch(e){throw new i.Z(\"Unable to patch pod\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new s.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesPods(n).delete(t).$promise}catch(e){throw new i.Z(\"Unable to remove pod\",e)}}delete(e){return this.$async(this.deleteAsync,e)}async evictionAsync(e){try{const t=new s.KubernetesCommonParams;t.id=e.Name,t.action=\"eviction\";const n=e.Namespace,a=o.default.evictionPayload(e);await this.KubernetesPods(n).evict(t,a).$promise}catch(e){throw new i.Z(\"Unable to evict pod\",e)}}eviction(e){return this.$async(this.evictionAsync,e)}}l.$inject=[\"$async\",\"KubernetesPods\"],t.default=l,r().module(\"portainer.kubernetes\").service(\"KubernetesPodService\",l)},87658:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(51482);t.default=r().module(\"portainer.kubernetes.registries\",[]).component(\"kubernetesRegistryAccessView\",i.kubernetesRegistryAccessView).name},51482:function(e,t,n){\"use strict\";n.r(t),n.d(t,{kubernetesRegistryAccessView:function(){return r}});var a=n(60124);const r={templateUrl:n(2780),controller:a.default,bindings:{endpoint:\"<\"}}},60124:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return r}});var a=n(7506);class r{constructor(e,t,n,a,r,i,s){this.$async=e,this.$state=t,this.ModalService=n,this.Notifications=r,this.KubernetesResourcePoolService=s,this.RegistryService=i,this.EndpointService=a,this.state={actionInProgress:!1},this.selectedResourcePools=[],this.resourcePools=[],this.savedResourcePools=[],this.handleRemove=this.handleRemove.bind(this)}async submit(){return this.updateNamespaces([...this.savedResourcePools.map((({value:e})=>e)),...this.selectedResourcePools.map((e=>e.name))])}handleRemove(e){const t=e.map((({value:e})=>e)),n=this.savedResourcePools.map((({value:e})=>e)).filter((e=>!t.includes(e)));this.ModalService.confirmDeletion(\"This registry might be used by one or more applications inside this environment. Removing the registry access could lead to a service interruption for these applications.<br/><br/>Do you wish to continue?\",(e=>{if(e)return this.updateNamespaces(n)}))}updateNamespaces(e){return this.$async((async()=>{try{await this.EndpointService.updateRegistryAccess(this.endpoint.Id,this.registry.Id,{namespaces:e}),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Failed saving registry access\")}}))}$onInit(){return this.$async((async()=>{try{this.state={registryId:this.$state.params.id},this.registry=await this.RegistryService.registry(this.state.registryId,this.endpoint.Id),this.registry.RegistryAccesses&&this.registry.RegistryAccesses[this.endpoint.Id]&&(this.savedResourcePools=this.registry.RegistryAccesses[this.endpoint.Id].Namespaces.map((e=>({value:e}))))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registry details\")}try{const e=await this.KubernetesResourcePoolService.get();this.resourcePools=e.filter((e=>!a.default.isSystemNamespace(e.Namespace.Name)&&!this.savedResourcePools.find((({value:t})=>t===e.Namespace.Name)))).map((e=>({name:e.Namespace.Name,id:e.Namespace.Id})))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve namespaces\")}}))}}r.$inject=[\"$async\",\"$state\",\"ModalService\",\"EndpointService\",\"Notifications\",\"RegistryService\",\"KubernetesResourcePoolService\"]},83972:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesConfigMaps\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(r){return e(t+\"/:endpointId/kubernetes/api/v1\"+(r?\"/namespaces/:namespace\":\"\")+\"/configmaps/:id/:action\",{endpointId:n.endpointID,namespace:r},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},delete:{method:\"DELETE\"}})}}])},20017:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesControllerRevisions\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(r){return e(t+\"/:endpointId/kubernetes/apis/apps/v1\"+(r?\"/namespaces/:namespace\":\"\")+\"/controllerrevisions/:id/:action\",{endpointId:n.endpointID,namespace:r},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},38345:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesDaemonSets\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(r){return e(t+\"/:endpointId/kubernetes/apis/apps/v1\"+(r?\"/namespaces/:namespace\":\"\")+\"/daemonsets/:id/:action\",{endpointId:n.endpointID,namespace:r},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},rollback:{method:\"PATCH\",headers:{\"Content-Type\":\"application/strategic-merge-patch+json\"}},delete:{method:\"DELETE\"}})}}])},36566:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesDeployments\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(r){return e(t+\"/:endpointId/kubernetes/apis/apps/v1\"+(r?\"/namespaces/:namespace\":\"\")+\"/deployments/:id/:action\",{endpointId:n.endpointID,namespace:r},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},rollback:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},85333:function(){angular.module(\"portainer.kubernetes\").factory(\"KubernetesEndpoints\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return function(a){return e(t+\"/:endpointId/kubernetes/api/v1\"+(a?\"/namespaces/:namespace\":\"\")+\"/endpoints/:id\",{endpointId:n.endpointID,namespace:a},{get:{method:\"GET\",ignoreLoadingBar:!0}})}}])},69673:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesEvents\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(r){return e(t+\"/:endpointId/kubernetes/api/v1\"+(r?\"/namespaces/:namespace\":\"\")+\"/events/:id/:action\",{endpointId:n.endpointID,namespace:r},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},delete:{method:\"DELETE\"}})}}])},71461:function(){angular.module(\"portainer.kubernetes\").factory(\"KubernetesHealth\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",function(e,t){\"use strict\";return e(t+\"/:id/kubernetes/healthz\",{},{ping:{method:\"GET\",params:{id:\"id\"}}})}])},82475:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesNamespaces\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(){return e(t+\"/:endpointId/kubernetes/api/v1/namespaces/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},delete:{method:\"DELETE\"},status:{method:\"GET\",params:{action:\"status\"},ignoreLoadingBar:!0}})}}])},40912:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e,t,n){return e(t+\"/:endpointId/nodes_limits\",{endpointId:n.endpointID},{get:{method:\"GET\",ignoreLoadingBar:!0,transformResponse:e=>({data:JSON.parse(e)})}})}i.$inject=[\"$resource\",\"API_ENDPOINT_KUBERNETES\",\"EndpointProvider\"],r().module(\"portainer.kubernetes\").factory(\"KubernetesNodesLimits\",i)},58732:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesPersistentVolumeClaims\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(r){return e(t+\"/:endpointId/kubernetes/api/v1\"+(r?\"/namespaces/:namespace\":\"\")+\"/persistentvolumeclaims/:id/:action\",{endpointId:n.endpointID,namespace:r},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},83699:function(e,t,n){\"use strict\";n.r(t);var a=n(25658),r=n(12944);angular.module(\"portainer.kubernetes\").factory(\"KubernetesPods\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(i){return e(t+\"/:endpointId/kubernetes/api/v1\"+(i?\"/namespaces/:namespace\":\"\")+\"/pods/:id/:action\",{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},delete:{method:\"DELETE\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},logs:{method:\"GET\",params:{action:\"log\"},transformResponse:r.logsHandler},evict:{method:\"POST\"}})}}])},93449:function(){function e(e){return e(\"/api/kubernetes/:endpointId/namespaces/:namespaceName/:action\",{},{toggleSystem:{method:\"PUT\",params:{action:\"system\"}}})}e.$inject=[\"$resource\"],angular.module(\"portainer.kubernetes\").factory(\"KubernetesPortainerNamespaces\",e)},81056:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesReplicaSets\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(r){return e(t+\"/:endpointId/kubernetes/apis/apps/v1\"+(r?\"/namespaces/:namespace\":\"\")+\"/replicasets/:id/:action\",{endpointId:n.endpointID,namespace:r},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},10129:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesResourceQuotas\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(r){return e(t+\"/:endpointId/kubernetes/api/v1\"+(r?\"/namespaces/:namespace\":\"\")+\"/resourcequotas/:id/:action\",{endpointId:n.endpointID,namespace:r},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},25658:function(e,t,n){\"use strict\";function a(e){return{data:e}}n.r(t),n.d(t,{rawResponse:function(){return a}})},61588:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesSecrets\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(r){return e(t+\"/:endpointId/kubernetes/api/v1\"+(r?\"/namespaces/:namespace\":\"\")+\"/secrets/:id/:action\",{endpointId:n.endpointID,namespace:r},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},delete:{method:\"DELETE\"}})}}])},68376:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesServices\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(r){return e(t+\"/:endpointId/kubernetes/api/v1\"+(r?\"/namespaces/:namespace\":\"\")+\"/services/:id/:action\",{endpointId:n.endpointID,namespace:r},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},55594:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesStatefulSets\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(r){return e(t+\"/:endpointId/kubernetes/apis/apps/v1\"+(r?\"/namespaces/:namespace\":\"\")+\"/statefulsets/:id/:action\",{endpointId:n.endpointID,namespace:r},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},rollback:{method:\"PATCH\",headers:{\"Content-Type\":\"application/strategic-merge-patch+json\"}},delete:{method:\"DELETE\"}})}}])},33415:function(e,t,n){\"use strict\";n.r(t);var a=n(25658);angular.module(\"portainer.kubernetes\").factory(\"KubernetesStorage\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(){return e(t+\"/:endpointId/kubernetes/apis/storage.k8s.io/v1/storageclasses/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},94358:function(e,t,n){\"use strict\";n.r(t);var a=n(4622),r=n.n(a),i=n(55332),s=n.n(i),o=n(41952),l=n.n(o),c=n(46545),d=n.n(c),u=n(74362),p=n.n(u),m=n(25445),g=n.n(m),h=n(51235),f=n.n(h),v=n(66539),b=n.n(v),y=n(29274),w=n.n(y),x=n(20023),S=n(7172),C=n(57947),k=n(65011),$=n(10293),A=n(59238),P=n(91920),I=n(12745),T=n(57637),N=n(1239),E=n(41247),R=n(47086),D=n(22050);class O{constructor(e,t,n,a,r,i,s,o,l,c,d,u,p){this.$async=e,this.Authentication=t,this.KubernetesDeploymentService=n,this.KubernetesDaemonSetService=a,this.KubernetesStatefulSetService=r,this.KubernetesServiceService=i,this.KubernetesSecretService=s,this.KubernetesPersistentVolumeClaimService=o,this.KubernetesNamespaceService=l,this.KubernetesPodService=c,this.KubernetesHistoryService=d,this.KubernetesHorizontalPodAutoScalerService=u,this.KubernetesIngressService=p,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.patchPartialAsync=this.patchPartialAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}_getApplicationApiService(e){let t;if(e instanceof A.KubernetesDeployment||e instanceof S.KubernetesApplication&&e.ApplicationType===S.KubernetesApplicationTypes.DEPLOYMENT)t=this.KubernetesDeploymentService;else if(e instanceof I.KubernetesDaemonSet||e instanceof S.KubernetesApplication&&e.ApplicationType===S.KubernetesApplicationTypes.DAEMONSET)t=this.KubernetesDaemonSetService;else if(e instanceof P.KubernetesStatefulSet||e instanceof S.KubernetesApplication&&e.ApplicationType===S.KubernetesApplicationTypes.STATEFULSET)t=this.KubernetesStatefulSetService;else{if(!(e instanceof S.KubernetesApplication&&e.ApplicationType===S.KubernetesApplicationTypes.POD))throw new x.Z(\"Unable to determine which association to use to retrieve API Service\");t=this.KubernetesPodService}return t}_generateIngressPatchPromises(e,t){return b()(t,(t=>{const n=f()(e,{Name:t.Name});return this.KubernetesIngressService.patch(n,t)}))}async getAsync(e,t){const[n,a,r,i,s,o,l]=await Promise.allSettled([this.KubernetesDeploymentService.get(e,t),this.KubernetesDaemonSetService.get(e,t),this.KubernetesStatefulSetService.get(e,t),this.KubernetesPodService.get(e,t),this.KubernetesPodService.get(e),this.KubernetesHorizontalPodAutoScalerService.get(e),this.KubernetesIngressService.get(e)]);let c,d;if(\"fulfilled\"===n.status)c=n,d=$.default.apiDeploymentToApplication;else if(\"fulfilled\"===a.status)c=a,d=$.default.apiDaemonSetToApplication;else if(\"fulfilled\"===r.status)c=r,d=$.default.apiStatefulSetToapplication;else{if(\"fulfilled\"!==i.status)throw new x.Z(\"Unable to determine which association to use to convert application\");c=i,d=$.default.apiPodToApplication}const u=await this.KubernetesServiceService.get(e),p=T.default.findApplicationBoundService(u,c.value.Raw),m=p?await this.KubernetesServiceService.get(e,p.metadata.name):{},g=T.default.findApplicationBoundServices(u,c.value.Raw),h=d(c.value.Raw,s.value,m.Raw,l.value);h.Yaml=c.value.Yaml,h.Raw=c.value.Raw,h.Pods=b()(h.Pods,(e=>D.default.apiToModel(e))),h.Containers=C.default.associateContainersAndApplication(h),h.Services=g;const f=N.KubernetesHorizontalPodAutoScalerHelper.findApplicationBoundScaler(o.value,h),v=f?await this.KubernetesHorizontalPodAutoScalerService.get(e,f.Name):void 0;return h.AutoScaler=v,h.Ingresses=l,await this.KubernetesHistoryService.get(h),m.Yaml&&(h.Yaml+=\"---\\n\"+m.Yaml),v&&v.Yaml&&(h.Yaml+=\"---\\n\"+v.Yaml),h}async getAllAsync(e){const t=e?[e]:b()(await this.KubernetesNamespaceService.get(),\"Name\"),n=(e,t,n,a,r)=>{const i=T.default.findApplicationBoundService(n,e),s=T.default.findApplicationBoundServices(n,e),o=t(e,a,i,r);return o.Containers=C.default.associateContainersAndApplication(o),o.Services=s,o},a=await Promise.all(b()(t,(async e=>{const[t,a,r,i,s,o,c]=await Promise.all([this.KubernetesDeploymentService.get(e),this.KubernetesDaemonSetService.get(e),this.KubernetesStatefulSetService.get(e),this.KubernetesServiceService.get(e),this.KubernetesPodService.get(e),this.KubernetesIngressService.get(e),this.KubernetesHorizontalPodAutoScalerService.get(e)]),u=b()(t,(e=>n(e,$.default.apiDeploymentToApplication,i,s,o))),m=b()(a,(e=>n(e,$.default.apiDaemonSetToApplication,i,s,o))),h=b()(r,(e=>n(e,$.default.apiStatefulSetToapplication,i,s,o))),f=g()(p()(u,\"Pods\"),p()(m,\"Pods\"),p()(h,\"Pods\")),v=d()(s,...f),y=b()(v,(e=>n(e,$.default.apiPodToApplication,i,s,o))),w=g()(u,m,h,y);return l()(w,(e=>{e.Pods=b()(e.Pods,(e=>D.default.apiToModel(e)))})),await Promise.all(l()(w,(async t=>{const n=N.KubernetesHorizontalPodAutoScalerHelper.findApplicationBoundScaler(c,t),a=n?await this.KubernetesHorizontalPodAutoScalerService.get(e,n.Name):void 0;t.AutoScaler=a,t.Ingresses=await this.KubernetesIngressService.get(e)}))),w})));return s()(a)}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){let[t,n,a,r,i]=$.default.applicationFormValuesToApplication(e);if(a){a.forEach((async e=>{await this.KubernetesServiceService.create(e)}));const t=R.KubernetesIngressConverter.generateNewIngresses(e.OriginalIngresses,a);t&&await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,t))}if(r&&e.PublishingType===S.KubernetesApplicationPublishingTypes.INGRESS){const t=R.KubernetesIngressConverter.applicationFormValuesToIngresses(e,r.Name);await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,t))}const s=this._getApplicationApiService(t);if(t instanceof P.KubernetesStatefulSet)t.VolumeClaims=i,n=await this.KubernetesServiceService.create(n),t.ServiceName=n.metadata.name;else{const e=b()(i,(e=>{if(!e.PreviousName&&!e.Id)return this.KubernetesPersistentVolumeClaimService.create(e)}));await Promise.all(d()(e,void 0))}if(e.AutoScaler.IsUsed&&e.DeploymentType!==S.KubernetesApplicationDeploymentTypes.GLOBAL){const n=N.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(t),a=E.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,n);await this.KubernetesHorizontalPodAutoScalerService.create(a)}await s.create(t)}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){const[n,a,r,,i]=$.default.applicationFormValuesToApplication(e),[s,o,l,,c]=$.default.applicationFormValuesToApplication(t),d=this._getApplicationApiService(n),u=this._getApplicationApiService(s);if(d!==u)return r&&await this.KubernetesServiceService.delete(r),await this.delete(n),await new Promise((e=>setTimeout(e,5e3))),await this.create(t);if(s instanceof P.KubernetesStatefulSet)await this.KubernetesServiceService.patch(a,o);else{const e=b()(c,(e=>{if(!e.PreviousName&&!e.Id)return this.KubernetesPersistentVolumeClaimService.create(e);if(!e.Id){const t=f()(i,{Name:e.PreviousName});return this.KubernetesPersistentVolumeClaimService.patch(t,e)}}));await Promise.all(e)}if(await u.patch(n,s),0===r.length&&0!==l.length){l.forEach((async e=>{await this.KubernetesServiceService.create(e)}));const t=R.KubernetesIngressConverter.generateNewIngresses(e.OriginalIngresses,l);t&&await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,t))}if(0!==r.length&&0===l.length){const t=R.KubernetesIngressConverter.removeIngressesPaths(e.OriginalIngresses,r);t&&await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,t)),await this.KubernetesServiceService.deleteAll(r)}if(0!==r.length&&0!==l.length){r.forEach((async e=>{f()(l,{Name:e.Name})||await this.KubernetesServiceService.deleteSingle(e)})),l.forEach((async e=>{const t=f()(r,{Name:e.Name});t?await this.KubernetesServiceService.patch(t,e):await this.KubernetesServiceService.create(e)}));const t=R.KubernetesIngressConverter.removeIngressesPaths(e.OriginalIngresses,r),n=R.KubernetesIngressConverter.generateNewIngresses(t,l);await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,n))}const p=N.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(s),m=E.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(t,p);if(e.AutoScaler.IsUsed){const a=N.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(n),r=E.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,a);t.AutoScaler.IsUsed?await this.KubernetesHorizontalPodAutoScalerService.patch(r,m):await this.KubernetesHorizontalPodAutoScalerService.delete(r)}else t.AutoScaler.IsUsed&&await this.KubernetesHorizontalPodAutoScalerService.create(m)}async patchPartialAsync(e,t){const n={Name:e.Name,Namespace:e.ResourcePool,StackName:e.StackName,Note:e.Note},a={Name:t.Name,Namespace:t.ResourcePool,StackName:t.StackName,Note:t.Note},r=this._getApplicationApiService(e);await r.patch(n,a)}patch(e,t,n=!1){return n?this.$async(this.patchPartialAsync,e,t):this.$async(this.patchAsync,e,t)}async deleteAsync(e){const t={Namespace:e.ResourcePool||e.Namespace,Name:e.Name};w().copy(t).Name=e.Name;const n=this._getApplicationApiService(e);if(await n.delete(t),n===this.KubernetesStatefulSetService&&(w().copy(t).Name=e instanceof P.KubernetesStatefulSet?e.ServiceName:e.HeadlessServiceName),e.ServiceType&&(await this.KubernetesServiceService.delete(e.Services),e.Ingresses.length)){const n={OriginalIngresses:await this.KubernetesIngressService.get(t.Namespace),PublishedPorts:C.default.generatePublishedPortsFormValuesFromPublishedPorts(e.ServiceType,e.PublishedPorts)},a=R.KubernetesIngressConverter.applicationFormValuesToDeleteIngresses(n,e);await Promise.all(this._generateIngressPatchPromises(n.OriginalIngresses,a))}r()(e.AutoScaler)||await this.KubernetesHorizontalPodAutoScalerService.delete(e.AutoScaler)}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t){const n=k.default.getPatchPayload(e,t),a=this._getApplicationApiService(e);await a.rollback(e.ResourcePool,e.Name,n)}rollback(e,t){return this.$async(this.rollbackAsync,e,t)}}O.$inject=[\"$async\",\"Authentication\",\"KubernetesDeploymentService\",\"KubernetesDaemonSetService\",\"KubernetesStatefulSetService\",\"KubernetesServiceService\",\"KubernetesSecretService\",\"KubernetesPersistentVolumeClaimService\",\"KubernetesNamespaceService\",\"KubernetesPodService\",\"KubernetesHistoryService\",\"KubernetesHorizontalPodAutoScalerService\",\"KubernetesIngressService\"],t.default=O,w().module(\"portainer.kubernetes\").service(\"KubernetesApplicationService\",O)},45819:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(6632),s=n.n(i),o=n(29274),l=n.n(o),c=n(20023),d=n(40654),u=n(82469),p=n(13978);class m{constructor(e,t){this.$async=e,this.KubernetesConfigMaps=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.updateAsync=this.updateAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}getAccess(e,t){return this.$async((async()=>{try{const n=new u.KubernetesCommonParams;n.id=t;const a=await this.KubernetesConfigMaps(e).get(n).$promise;return d.default.apiToPortainerAccessConfigMap(a)}catch(e){if(404===e.status)return new p.KubernetesPortainerAccessConfigMap;throw new c.Z(\"Unable to retrieve Portainer accesses\",e)}}))}createAccess(e){return this.$async((async()=>{try{const t=d.default.createAccessPayload(e),n={},a=t.metadata.namespace,r=await this.KubernetesConfigMaps(a).create(n,t).$promise;return d.default.apiToPortainerAccessConfigMap(r)}catch(e){throw new c.Z(\"Unable to create Portainer accesses\",e)}}))}updateAccess(e){return this.$async((async()=>{try{if(!e.Id)return await this.createAccess(e);const t=d.default.updateAccessPayload(e),n=new u.KubernetesCommonParams;n.id=t.metadata.name;const a=t.metadata.namespace,r=await this.KubernetesConfigMaps(a).update(n,t).$promise;return d.default.apiToPortainerAccessConfigMap(r)}catch(e){throw new c.Z(\"Unable to update Portainer accesses\",e)}}))}async getAsync(e,t){try{const n=new u.KubernetesCommonParams;n.id=t;const[a,r]=await Promise.allSettled([this.KubernetesConfigMaps(e).get(n).$promise,this.KubernetesConfigMaps(e).getYaml(n).$promise]);if(404===s()(a,\"reason.status\")&&404===s()(r,\"reason.status\"))return d.default.defaultConfigMap(e,t);if(a.value)return d.default.apiToConfigMap(a.value,r.value);throw new c.Z(\"Unable to retrieve config map \",t)}catch(n){if(404===n.status)return d.default.defaultConfigMap(e,t);throw new c.Z(\"Unable to retrieve config map\",n)}}async getAllAsync(e){try{const t=await this.KubernetesConfigMaps(e).get().$promise;return r()(t.items,(e=>d.default.apiToConfigMap(e)))}catch(e){throw new c.Z(\"Unable to retrieve config maps\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t=d.default.createPayload(e),n={},a=t.metadata.namespace,r=await this.KubernetesConfigMaps(a).create(n,t).$promise;return d.default.apiToConfigMap(r)}catch(e){throw new c.Z(\"Unable to create config map\",e)}}create(e){return this.$async(this.createAsync,e)}async updateAsync(e){try{if(!e.Id)return await this.create(e);const t=d.default.updatePayload(e),n=new u.KubernetesCommonParams;n.id=t.metadata.name;const a=t.metadata.namespace,r=await this.KubernetesConfigMaps(a).update(n,t).$promise;return d.default.apiToConfigMap(r)}catch(e){throw new c.Z(\"Unable to update config map\",e)}}update(e){return this.$async(this.updateAsync,e)}async deleteAsync(e){try{const t=new u.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesConfigMaps(n).delete(t).$promise}catch(e){throw new c.Z(\"Unable to delete config map\",e)}}delete(e){return this.$async(this.deleteAsync,e)}}m.$inject=[\"$async\",\"KubernetesConfigMaps\"],t.default=m,l().module(\"portainer.kubernetes\").service(\"KubernetesConfigMapService\",m)},81567:function(e,t,n){\"use strict\";n.r(t);var a=n(55332),r=n.n(a),i=n(25445),s=n.n(i),o=n(66539),l=n.n(o),c=n(29274),d=n.n(c),u=n(10241),p=n(40654),m=n(52341),g=n(82434),h=n(12925);class f{constructor(e,t,n,a,r){this.$async=e,this.Authentication=t,this.KubernetesNamespaceService=n,this.KubernetesConfigMapService=a,this.KubernetesSecretService=r,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.updateAsync=this.updateAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){const[n,a]=await Promise.allSettled([this.KubernetesConfigMapService.get(e,t),this.KubernetesSecretService.get(e,t)]);let r;return\"fulfilled\"===a.status?(r=u.default.secretToConfiguration(a.value),r):(r=u.default.configMapToConfiguration(n.value),r)}async getAllAsync(e){const t=e?[e]:l()(await this.KubernetesNamespaceService.get(),\"Name\"),n=await Promise.all(l()(t,(async e=>{const[t,n]=await Promise.all([this.KubernetesConfigMapService.get(e),this.KubernetesSecretService.get(e)]),a=l()(n,(e=>u.default.secretToConfiguration(e))),r=l()(t,(e=>u.default.configMapToConfiguration(e)));return s()(r,a)})));return r()(n)}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){if(e.ConfigurationOwner=h.default.ownerToLabel(e.ConfigurationOwner),e.Type===g.KubernetesConfigurationTypes.CONFIGMAP){const t=p.default.configurationFormValuesToConfigMap(e);await this.KubernetesConfigMapService.create(t)}else{const t=m.default.configurationFormValuesToSecret(e);await this.KubernetesSecretService.create(t)}}create(e){return this.$async(this.createAsync,e)}async updateAsync(e,t){if(e.Type===g.KubernetesConfigurationTypes.CONFIGMAP){const n=p.default.configurationFormValuesToConfigMap(e);n.ConfigurationOwner=t.ConfigurationOwner,await this.KubernetesConfigMapService.update(n)}else{const n=m.default.configurationFormValuesToSecret(e);n.ConfigurationOwner=t.ConfigurationOwner,await this.KubernetesSecretService.update(n)}}update(e,t){return this.$async(this.updateAsync,e,t)}async deleteAsync(e){e.Type===g.KubernetesConfigurationTypes.CONFIGMAP?await this.KubernetesConfigMapService.delete(e):await this.KubernetesSecretService.delete(e)}delete(e){return this.$async(this.deleteAsync,e)}}f.$inject=[\"$async\",\"Authentication\",\"KubernetesNamespaceService\",\"KubernetesConfigMapService\",\"KubernetesSecretService\"],t.default=f,d().module(\"portainer.kubernetes\").service(\"KubernetesConfigurationService\",f)},40917:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(20023);class s{constructor(e,t){this.$async=e,this.KubernetesControllerRevisions=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{return(await this.KubernetesControllerRevisions(e).get().$promise).items}catch(e){throw new i.Z(\"Unable to retrieve ControllerRevisions\",e)}}get(e){return this.$async(this.getAllAsync,e)}}s.$inject=[\"$async\",\"KubernetesControllerRevisions\"],t.default=s,r().module(\"portainer.kubernetes\").service(\"KubernetesControllerRevisionService\",s)},42183:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(20023),s=n(82469),o=n(12512);class l{constructor(e,t){this.$async=e,this.KubernetesDaemonSets=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t;const[a,r]=await Promise.all([this.KubernetesDaemonSets(e).get(n).$promise,this.KubernetesDaemonSets(e).getYaml(n).$promise]);return{Raw:a,Yaml:r.data}}catch(e){throw new i.Z(\"Unable to retrieve DaemonSet\",e)}}async getAllAsync(e){try{return(await this.KubernetesDaemonSets(e).get().$promise).items}catch(e){throw new i.Z(\"Unable to retrieve DaemonSets\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesDaemonSets(a).create(t,n).$promise}catch(e){throw new i.Z(\"Unable to create daemonset\",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,r=o.default.patchPayload(e,t);if(!r.length)return;return await this.KubernetesDaemonSets(a).patch(n,r).$promise}catch(e){throw new i.Z(\"Unable to patch daemonSet\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new s.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesDaemonSets(n).delete(t).$promise}catch(e){throw new i.Z(\"Unable to remove daemonset\",e)}}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t,n){try{const a=new s.KubernetesCommonParams;a.id=t,await this.KubernetesDaemonSets(e).rollback(a,n).$promise}catch(e){throw new i.Z(\"Unable to rollback daemonset\",e)}}rollback(e,t,n){return this.$async(this.rollbackAsync,e,t,n)}}l.$inject=[\"$async\",\"KubernetesDaemonSets\"],t.default=l,r().module(\"portainer.kubernetes\").service(\"KubernetesDaemonSetService\",l)},18354:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(20023),s=n(82469),o=n(95929);class l{constructor(e,t){this.$async=e,this.KubernetesDeployments=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t;const[a,r]=await Promise.all([this.KubernetesDeployments(e).get(n).$promise,this.KubernetesDeployments(e).getYaml(n).$promise]);return{Raw:a,Yaml:r.data}}catch(e){throw new i.Z(\"Unable to retrieve Deployment\",e)}}async getAllAsync(e){try{return(await this.KubernetesDeployments(e).get().$promise).items}catch(e){throw new i.Z(\"Unable to retrieve Deployments\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesDeployments(a).create(t,n).$promise}catch(e){throw new i.Z(\"Unable to create deployment\",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,r=o.default.patchPayload(e,t);if(!r.length)return;return await this.KubernetesDeployments(a).patch(n,r).$promise}catch(e){throw new i.Z(\"Unable to patch deployment\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new s.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesDeployments(n).delete(t).$promise}catch(e){throw new i.Z(\"Unable to remove deployment\",e)}}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t,n){try{const a=new s.KubernetesCommonParams;a.id=t,await this.KubernetesDeployments(e).rollback(a,n).$promise}catch(e){throw new i.Z(\"Unable to rollback deployment\",e)}}rollback(e,t,n){return this.$async(this.rollbackAsync,e,t,n)}}l.$inject=[\"$async\",\"KubernetesDeployments\"],t.default=l,r().module(\"portainer.kubernetes\").service(\"KubernetesDeploymentService\",l)},3855:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(29274),s=n.n(i),o=n(20023),l=n(43083);class c{constructor(e,t){this.$async=e,this.KubernetesEvents=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{const t=await this.KubernetesEvents(e).get().$promise;return r()(t.items,(e=>l.default.apiToEvent(e)))}catch(e){throw new o.Z(\"Unable to retrieve events\",e)}}get(e){return this.$async(this.getAllAsync,e)}}c.$inject=[\"$async\",\"KubernetesEvents\"],t.default=c,s().module(\"portainer.kubernetes\").service(\"KubernetesEventService\",c)},24717:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(20023);class s{constructor(e,t){this.$async=e,this.KubernetesHealth=t,this.pingAsync=this.pingAsync.bind(this)}async pingAsync(e){try{return await this.KubernetesHealth.ping({id:e}).$promise}catch(e){throw new i.Z(\"Unable to retrieve environment health\",e)}}ping(e){return this.$async(this.pingAsync,e)}}s.$inject=[\"$async\",\"KubernetesHealth\"],t.default=s,r().module(\"portainer.kubernetes\").service(\"KubernetesHealthService\",s)},18842:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(20023),s=n(70224),o=n(7172);class l{constructor(e,t,n){this.$async=e,this.KubernetesReplicaSetService=t,this.KubernetesControllerRevisionService=n,this.getAsync=this.getAsync.bind(this)}async getAsync(e){try{const t=e.ResourcePool;let n;switch(e.ApplicationType){case o.KubernetesApplicationTypes.DEPLOYMENT:n=await this.KubernetesReplicaSetService.get(t);break;case o.KubernetesApplicationTypes.DAEMONSET:case o.KubernetesApplicationTypes.STATEFULSET:n=await this.KubernetesControllerRevisionService.get(t);break;case o.KubernetesApplicationTypes.POD:n=[];break;default:throw new i.Z(\"Unable to determine which association to use for history\")}if(n.length){const[t,a]=s.default.getRevisions(n,e);e.CurrentRevision=t,e.Revisions=a}return e}catch(e){throw new i.Z(\"\",e)}}get(e){return this.$async(this.getAsync,e)}}l.$inject=[\"$async\",\"KubernetesReplicaSetService\",\"KubernetesControllerRevisionService\"],t.default=l,r().module(\"portainer.kubernetes\").service(\"KubernetesHistoryService\",l)},44987:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(29274),s=n.n(i),o=n(20023),l=n(82469),c=n(2544),d=n(22823),u=n(67808);class p{constructor(e,t){this.$async=e,this.KubernetesNamespaces=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e){try{const t=new l.KubernetesCommonParams;t.id=e,await this.KubernetesNamespaces().status(t).$promise;const[n,a]=await Promise.all([this.KubernetesNamespaces().get(t).$promise,this.KubernetesNamespaces().getYaml(t).$promise]),r=c.default.apiToNamespace(n,a);return(0,d.updateNamespaces)([r]),r}catch(e){throw new o.Z(\"Unable to retrieve namespace\",e)}}async getAllAsync(){try{const e=await this.KubernetesNamespaces().get().$promise,t=r()(e.items,(e=>this.KubernetesNamespaces().status({id:e.metadata.name}).$promise)),n=await(0,u.default)(t),a=r()(n.fulfilled,(e=>c.default.apiToNamespace(e)));return(0,d.updateNamespaces)(a),a}catch(e){throw new o.Z(\"Unable to retrieve namespaces\",e)}}get(e){return e?this.$async(this.getAsync,e):this.$async(this.getAllAsync)}async createAsync(e){try{const t=c.default.createPayload(e),n={};return await this.KubernetesNamespaces().create(n,t).$promise}catch(e){throw new o.Z(\"Unable to create namespace\",e)}}create(e){return this.$async(this.createAsync,e)}async deleteAsync(e){try{const t=new l.KubernetesCommonParams;t.id=e.Name,await this.KubernetesNamespaces().delete(t).$promise}catch(e){throw new o.Z(\"Unable to delete namespace\",e)}}delete(e){return this.$async(this.deleteAsync,e)}}p.$inject=[\"$async\",\"KubernetesNamespaces\"],t.default=p,s().module(\"portainer.kubernetes\").service(\"KubernetesNamespaceService\",p)},73774:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(20023),s=n(74335);class o{constructor(e){this.KubernetesNodesLimits=e}async get(){try{const e=await this.KubernetesNodesLimits.get().$promise;return new s.KubernetesNodesLimits(e.data)}catch(e){throw new i.Z(\"Unable to retrieve nodes limits\",e)}}}o.$inject=[\"KubernetesNodesLimits\"],t.default=o,r().module(\"portainer.kubernetes\").service(\"KubernetesNodesLimitsService\",o)},79362:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(29274),s=n.n(i),o=n(20023),l=n(56636),c=n(82469);class d{constructor(e,t){this.$async=e,this.KubernetesPersistentVolumeClaims=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t,n){try{const a=new c.KubernetesCommonParams;a.id=n;const[r,i]=await Promise.all([this.KubernetesPersistentVolumeClaims(e).get(a).$promise,this.KubernetesPersistentVolumeClaims(e).getYaml(a).$promise]);return l.default.apiToPersistentVolumeClaim(r,t,i)}catch(e){throw new o.Z(\"Unable to retrieve persistent volume claim\",e)}}async getAllAsync(e,t){try{const n=await this.KubernetesPersistentVolumeClaims(e).get().$promise;return r()(n.items,(e=>l.default.apiToPersistentVolumeClaim(e,t)))}catch(e){throw new o.Z(\"Unable to retrieve persistent volume claims\",e)}}get(e,t,n){return n?this.$async(this.getAsync,e,t,n):this.$async(this.getAllAsync,e,t)}async createAsync(e){try{const t={},n=l.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesPersistentVolumeClaims(a).create(t,n).$promise}catch(e){throw new o.Z(\"Unable to create persistent volume claim\",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new c.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,r=l.default.patchPayload(e,t);if(!r.length)return;return await this.KubernetesPersistentVolumeClaims(a).patch(n,r).$promise}catch(e){throw new o.Z(\"Unable to patch persistent volume claim\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new c.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesPersistentVolumeClaims(n).delete(t).$promise}catch(e){throw new o.Z(\"Unable to delete persistent volume claim\",e)}}delete(e){return this.$async(this.deleteAsync,e)}}d.$inject=[\"$async\",\"KubernetesPersistentVolumeClaims\"],t.default=d,s().module(\"portainer.kubernetes\").service(\"KubernetesPersistentVolumeClaimService\",d)},59010:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(20023);class s{constructor(e,t){this.$async=e,this.KubernetesReplicaSets=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{return(await this.KubernetesReplicaSets(e).get().$promise).items}catch(e){throw new i.Z(\"Unable to retrieve ReplicaSets\",e)}}get(e){return this.$async(this.getAllAsync,e)}}s.$inject=[\"$async\",\"KubernetesReplicaSets\"],t.default=s,r().module(\"portainer.kubernetes\").service(\"KubernetesReplicaSetService\",s)},22539:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesResourcePoolService:function(){return C}});var a=n(25445),r=n.n(a),i=n(67386),s=n.n(i),o=n(66900),l=n.n(o),c=n(55332),d=n.n(c),u=n(46545),p=n.n(u),m=n(51235),g=n.n(m),h=n(83432),f=n.n(h),v=n(66539),b=n.n(v),y=n(29274),w=n.n(y),x=n(57911),S=n(21458);function C(e,t,n,a,i,o){return{get:function(t){return t?e(c,t):e(u)},create:function(r){return e((async()=>{const[e,s,o,l]=x.default.formValuesToResourcePool(r);await n.create(e),s&&await a.create(s);const c=b()(o,(e=>i.create(e)));await Promise.all(c);const d=r.EndpointId,u=b()(l,(e=>t.updateRegistryAccess(d,e.Id,e.RegistryAccesses[d])));await Promise.all(u)}))},patch:function(n,o){return e((async()=>{const[,e,c,u]=x.default.formValuesToResourcePool(n),[,m,h,v]=x.default.formValuesToResourcePool(o);e&&m?await a.patch(e,m):!e&&m?await a.create(m):e&&!m&&await a.delete(e);const y=f()(h,(e=>!g()(c,{Name:e.Name}))),S=f()(c,(e=>!g()(h,{Name:e.Name}))),C=p()(h,...y),k=b()(y,(e=>i.create(e))),$=b()(S,(e=>i.delete(e.Namespace,e.Name))),A=b()(C,(e=>{const t=g()(c,{Name:e.Name});return e.Paths=w().copy(t.Paths),e.PreviousHost=t.Host,i.patch(t,e)})),P=d()([k,$,A]);await Promise.all(P);const I=o.EndpointId,T=l()(u,v,\"Id\"),N=p()(u,...T),E=b()(v,(e=>t.updateRegistryAccess(I,e.Id,e.RegistryAccesses[I]))),R=b()(N,(e=>(s()(e.RegistryAccesses[I].Namespaces,o.Name),t.updateRegistryAccess(I,e.Id,e.RegistryAccesses[I]))));await Promise.all(r()(E,R))}))},delete:function(t){return e((async()=>{await n.delete(t.Namespace)}))},toggleSystem:function(e,t,n){return o.toggleSystem({namespaceName:t,endpointId:e},{system:n}).$promise}};async function c(e){const t=await n.get(e),[r]=await Promise.allSettled([a.get(e,S.default.generateResourceQuotaName(e))]),i=x.default.apiToResourcePool(t);return\"fulfilled\"===r.status&&(i.Quota=r.value,i.Yaml+=\"---\\n\"+r.value.Yaml),i}async function u(){const e=await n.get();return await Promise.all(b()(e,(async e=>{const t=e.Name,[n]=await Promise.allSettled([a.get(t,S.default.generateResourceQuotaName(t))]),r=x.default.apiToResourcePool(e);return\"fulfilled\"===n.status&&(r.Quota=n.value,r.Yaml+=\"---\\n\"+n.value.Yaml),r})))}}C.$inject=[\"$async\",\"EndpointService\",\"KubernetesNamespaceService\",\"KubernetesResourceQuotaService\",\"KubernetesIngressService\",\"KubernetesPortainerNamespaces\"],w().module(\"portainer.kubernetes\").service(\"KubernetesResourcePoolService\",C)},85927:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KubernetesResourceQuotaService:function(){return d}});var a=n(66539),r=n.n(a),i=n(29274),s=n.n(i),o=n(20023),l=n(82469),c=n(57456);function d(e,t){return{get:function(t,r){return r?e(n,t,r):e(a,t)},create:function(n){return e((async()=>{try{const e=c.default.createPayload(n),a=e.metadata.namespace,r={},i=await t(a).create(r,e).$promise;return c.default.apiToResourceQuota(i)}catch(e){throw new o.Z(\"Unable to create quota\",e)}}))},patch:function(n,a){return e((async()=>{try{const e=new l.KubernetesCommonParams;e.id=a.Name;const r=a.Namespace,i=c.default.patchPayload(n,a);if(!i.length)return;return await t(r).patch(e,i).$promise}catch(e){throw new o.Z(\"Unable to update resource quota\",e)}}))},delete:function(n){return e((async()=>{try{const e=new l.KubernetesCommonParams;e.id=n.Name,await t(n.Namespace).delete(e).$promise}catch(e){throw new o.Z(\"Unable to delete quota\",e)}}))}};async function n(e,n){try{const a=new l.KubernetesCommonParams;a.id=n;const[r,i]=await Promise.all([t(e).get(a).$promise,t(e).getYaml(a).$promise]);return c.default.apiToResourceQuota(r,i)}catch(e){throw new o.Z(\"Unable to retrieve resource quota\",e)}}async function a(e){try{const n=await t(e).get().$promise;return r()(n.items,(e=>c.default.apiToResourceQuota(e)))}catch(e){throw new o.Z(\"Unable to retrieve resource quotas\",e)}}}d.$inject=[\"$async\",\"KubernetesResourceQuotas\"],s().module(\"portainer.kubernetes\").service(\"KubernetesResourceQuotaService\",d)},76354:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(29274),s=n.n(i),o=n(20023),l=n(52341),c=n(82469);class d{constructor(e,t){this.$async=e,this.KubernetesSecrets=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.updateAsync=this.updateAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new c.KubernetesCommonParams;n.id=t;const[a,r]=await Promise.all([this.KubernetesSecrets(e).get(n).$promise,this.KubernetesSecrets(e).getYaml(n).$promise]);return l.default.apiToSecret(a,r)}catch(e){throw new o.Z(\"Unable to retrieve secret\",e)}}async getAllAsync(e){try{const t=await this.KubernetesSecrets(e).get().$promise;return r()(t.items,(e=>l.default.apiToSecret(e)))}catch(e){throw new o.Z(\"Unable to retrieve secrets\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t=l.default.createPayload(e),n=t.metadata.namespace,a={};return await this.KubernetesSecrets(n).create(a,t).$promise}catch(e){throw new o.Z(\"Unable to create secret\",e)}}create(e){return this.$async(this.createAsync,e)}async updateAsync(e){try{const t=l.default.updatePayload(e),n=new c.KubernetesCommonParams;n.id=t.metadata.name;const a=t.metadata.namespace,r=await this.KubernetesSecrets(a).update(n,t).$promise;return l.default.apiToSecret(r)}catch(e){throw new o.Z(\"Unable to update secret\",e)}}update(e){return this.$async(this.updateAsync,e)}async deleteAsync(e){try{const t=new c.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesSecrets(n).delete(t).$promise}catch(e){throw new o.Z(\"Unable to delete secret\",e)}}delete(e){return this.$async(this.deleteAsync,e)}}d.$inject=[\"$async\",\"KubernetesSecrets\"],t.default=d,s().module(\"portainer.kubernetes\").service(\"KubernetesSecretService\",d)},7055:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(20023),s=n(82469),o=n(86998);class l{constructor(e,t){this.$async=e,this.KubernetesServices=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this),this.deleteSingleAsync=this.deleteSingleAsync.bind(this),this.deleteAllAsync=this.deleteAllAsync.bind(this)}async getAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t;const[a,r]=await Promise.all([this.KubernetesServices(e).get(n).$promise,this.KubernetesServices(e).getYaml(n).$promise]);return{Raw:a,Yaml:r.data}}catch(e){throw new i.Z(\"Unable to retrieve service\",e)}}async getAllAsync(e){try{return(await this.KubernetesServices(e).get().$promise).items}catch(e){throw new i.Z(\"Unable to retrieve services\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesServices(a).create(t,n).$promise}catch(e){throw new i.Z(\"Unable to create service\",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,r=o.default.patchPayload(e,t);if(!r.length)return;return await this.KubernetesServices(a).patch(n,r).$promise}catch(e){throw new i.Z(\"Unable to patch service\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){e.forEach((async e=>{try{const t=new s.KubernetesCommonParams;t.id=e.metadata&&e.metadata.name||e.Name;const n=e.metadata&&e.metadata.namespace||e.Namespace;await this.KubernetesServices(n).delete(t).$promise}catch(e){console.error(\"unable to remove service\",e)}}))}delete(e){return this.$async(this.deleteAsync,e)}async deleteAllAsync(e){e.forEach((async e=>{try{const t=new s.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesServices(n).delete(t).$promise}catch(e){console.error(\"unable to remove service\",e)}}))}deleteAll(e){return this.$async(this.deleteAllAsync,e)}async deleteSingleAsync(e){try{const t=new s.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesServices(n).delete(t).$promise}catch(e){console.error(\"unable to remove service\",e)}}deleteSingle(e){return this.$async(this.deleteSingleAsync,e)}}l.$inject=[\"$async\",\"KubernetesServices\"],t.default=l,r().module(\"portainer.kubernetes\").service(\"KubernetesServiceService\",l)},4063:function(e,t,n){\"use strict\";n.r(t);var a=n(46545),r=n.n(a),i=n(46006),s=n.n(i),o=n(66539),l=n.n(o),c=n(29274),d=n.n(c);class u{constructor(e,t){this.$async=e,this.KubernetesApplicationService=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){const t=await this.KubernetesApplicationService.get(e),n=l()(t,(e=>e.StackName));return s()(r()(n,\"-\",\"\"))}get(e){return this.$async(this.getAllAsync,e)}}u.$inject=[\"$async\",\"KubernetesApplicationService\"],t.default=u,d().module(\"portainer.kubernetes\").service(\"KubernetesStackService\",u)},4165:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(20023),s=n(82469),o=n(15986);class l{constructor(e,t,n){this.$async=e,this.KubernetesStatefulSets=t,this.KubernetesServiceService=n,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t;const[a,r]=await Promise.all([this.KubernetesStatefulSets(e).get(n).$promise,this.KubernetesStatefulSets(e).getYaml(n).$promise]),i={Raw:a,Yaml:r.data},o=a.spec.serviceName;if(o)try{const t=await this.KubernetesServiceService.get(e,o);i.Yaml+=\"---\\n\"+t.Yaml}catch(e){}return i}catch(e){throw new i.Z(\"Unable to retrieve StatefulSet\",e)}}async getAllAsync(e){try{return(await this.KubernetesStatefulSets(e).get().$promise).items}catch(e){throw new i.Z(\"Unable to retrieve StatefulSets\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesStatefulSets(a).create(t,n).$promise}catch(e){throw new i.Z(\"Unable to create statefulSet\",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new s.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,r=o.default.patchPayload(e,t);if(!r.length)return;return await this.KubernetesStatefulSets(a).patch(n,r).$promise}catch(e){throw new i.Z(\"Unable to patch statefulSet\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new s.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesStatefulSets(n).delete(t).$promise}catch(e){throw new i.Z(\"Unable to remove statefulSet\",e)}}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t,n){try{const a=new s.KubernetesCommonParams;a.id=t,await this.KubernetesStatefulSets(e).rollback(a,n).$promise}catch(e){throw new i.Z(\"Unable to rollback statefulSet\",e)}}rollback(e,t,n){return this.$async(this.rollbackAsync,e,t,n)}}l.$inject=[\"$async\",\"KubernetesStatefulSets\",\"KubernetesServiceService\"],t.default=l,r().module(\"portainer.kubernetes\").service(\"KubernetesStatefulSetService\",l)},36552:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(29274),s=n.n(i),o=n(20023),l=n(17981),c=n(82469);class d{constructor(e,t){this.$async=e,this.KubernetesStorage=t,this.getAsync=this.getAsync.bind(this),this.patchAsync=this.patchAsync.bind(this)}async getAsync(e){try{const t={endpointId:e},n=await this.KubernetesStorage().get(t).$promise;return r()(n.items,(e=>l.default.apiToStorageClass(e)))}catch(e){throw new o.Z(\"Unable to retrieve storage classes\",e)}}get(e){return this.$async(this.getAsync,e)}async patchAsync(e,t,n){try{const a=new c.KubernetesCommonParams;a.id=n.Name,a.endpointId=e;const r=l.default.patchPayload(t,n);await this.KubernetesStorage().patch(a,r).$promise}catch(e){throw new o.Z(\"Unable to patch storage class\",e)}}patch(e,t,n){return this.$async(this.patchAsync,e,t,n)}}d.$inject=[\"$async\",\"KubernetesStorage\"],t.default=d,s().module(\"portainer.kubernetes\").service(\"KubernetesStorageService\",d)},78085:function(e,t,n){\"use strict\";n.r(t);var a=n(55332),r=n.n(a),i=n(66539),s=n.n(i),o=n(29274),l=n.n(o),c=n(92192);class d{constructor(e,t,n,a){this.$async=e,this.KubernetesResourcePoolService=t,this.KubernetesApplicationService=n,this.KubernetesPersistentVolumeClaimService=a,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t,n){const[a,r]=await Promise.all([this.KubernetesPersistentVolumeClaimService.get(e,t,n),this.KubernetesResourcePoolService.get(e)]);return c.default.pvcToVolume(a,r)}async getAllAsync(e,t){const n=await this.KubernetesResourcePoolService.get(e),a=n instanceof Array?n:[n],i=await Promise.all(s()(a,(async e=>{const n=await this.KubernetesPersistentVolumeClaimService.get(e.Namespace.Name,t);return s()(n,(t=>c.default.pvcToVolume(t,e)))})));return r()(i)}get(e,t,n){return n?this.$async(this.getAsync,e,t,n):this.$async(this.getAllAsync,e,t)}async deleteAsync(e){await this.KubernetesPersistentVolumeClaimService.delete(e.PersistentVolumeClaim)}delete(e){return this.$async(this.deleteAsync,e)}}d.$inject=[\"$async\",\"KubernetesResourcePoolService\",\"KubernetesApplicationService\",\"KubernetesPersistentVolumeClaimService\"],t.default=d,l().module(\"portainer.kubernetes\").service(\"KubernetesVolumeService\",d)},22823:function(e,t,n){\"use strict\";n.r(t),n.d(t,{isSystem:function(){return r},updateNamespaces:function(){return i}});const a={};function r(e){return a[e]&&a[e].IsSystem}function i(e){e.forEach((e=>a[e.Name]=e))}},86393:function(e,t,n){const a=n(79573);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationsView\",{templateUrl:a,controller:\"KubernetesApplicationsController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\",endpoint:\"<\"}})},55495:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(71204),s=n.n(i),o=n(66539),l=n.n(o),c=n(29274),d=n.n(c),u=n(41208),p=n(57947),m=n(51780),g=n(7172);class h{constructor(e,t,n,a,r,i,s,o,l,c){this.$async=e,this.$state=t,this.Notifications=n,this.KubernetesApplicationService=a,this.HelmService=r,this.KubernetesConfigurationService=i,this.Authentication=s,this.ModalService=o,this.LocalStorage=l,this.StackService=c,this.onInit=this.onInit.bind(this),this.getApplications=this.getApplications.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this),this.removeStacksAction=this.removeStacksAction.bind(this),this.removeStacksActionAsync=this.removeStacksActionAsync.bind(this),this.onPublishingModeClick=this.onPublishingModeClick.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab(\"applications\",e)}async removeStacksActionAsync(e){let t=e.length;for(const n of e)try{if(n.Applications.some((e=>!e.ApplicationKind))){const e=l()(n.Applications,(e=>this.KubernetesApplicationService.delete(e)));await Promise.all(e)}else{const e=n.Applications.find((e=>null!==e.StackId));e&&e.StackId&&await this.StackService.remove({Id:e.StackId},!1,this.endpoint.Id)}this.Notifications.success(\"Stack successfully removed\",n.Name),s()(this.state.stacks,{Name:n.Name})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove stack\")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeStacksAction(e){this.ModalService.confirmDeletion(\"Are you sure that you want to remove the selected stack(s) ? This will remove all the applications associated to the stack(s).\",(t=>{if(t)return this.$async(this.removeStacksActionAsync,e)}))}async removeActionAsync(e){let t=e.length;for(const n of e)try{if(n.ApplicationType===g.KubernetesApplicationTypes.HELM)await this.HelmService.uninstall(this.endpoint.Id,n);else if(await this.KubernetesApplicationService.delete(n),n.Metadata.labels[g.KubernetesPortainerApplicationStackNameLabel]){const e=this.state.stacks.find((e=>e.Name===n.StackName)),t=e.Applications.indexOf(n);e.Applications.splice(t,1),0===e.Applications.length&&n.StackId&&await this.StackService.remove({Id:n.StackId},!1,this.endpoint.Id)}this.Notifications.success(\"Application successfully removed\",n.Name);const e=this.state.applications.indexOf(n);this.state.applications.splice(e,1)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove application\")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion(\"Do you want to remove the selected application(s)?\",(t=>{if(t)return this.$async(this.removeActionAsync,e)}))}onPublishingModeClick(e){this.state.activeTab=1,r()(this.state.ports,(t=>{t.Expanded=!1,t.Highlighted=!1,t.Name===e.Name&&t.Ports.length>1&&(t.Expanded=!0,t.Highlighted=!0)}))}async getApplicationsAsync(){try{const[e,t]=await Promise.all([this.KubernetesApplicationService.get(),this.KubernetesConfigurationService.get()]),n=m.default.getApplicationConfigurations(e,t),{helmApplications:a,nonHelmApplications:r}=p.default.getNestedApplications(n);this.state.applications=[...a,...r],this.state.stacks=u.default.stacksFromApplications(e),this.state.ports=p.default.portMappingsFromApplications(e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications\")}}getApplications(){return this.$async(this.getApplicationsAsync)}async onInit(){this.state={activeTab:this.LocalStorage.getActiveTab(\"applications\"),currentName:this.$state.$current.name,isAdmin:this.Authentication.isAdmin(),viewReady:!1,applications:[],stacks:[],ports:[]},await this.getApplications(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"applications\",0)}}h.$inject=[\"$async\",\"$state\",\"Notifications\",\"KubernetesApplicationService\",\"HelmService\",\"KubernetesConfigurationService\",\"Authentication\",\"ModalService\",\"LocalStorage\",\"StackService\"],t.default=h,d().module(\"portainer.kubernetes\").controller(\"KubernetesApplicationsController\",h)},88386:function(e,t,n){const a=n(65998);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationConsoleView\",{templateUrl:a,controller:\"KubernetesApplicationConsoleController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\",endpoint:\"<\"}})},33243:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(96049),s=n(50433);class o{constructor(e,t,n,a,r){this.$async=e,this.$state=t,this.Notifications=n,this.KubernetesApplicationService=a,this.LocalStorage=r,this.onInit=this.onInit.bind(this)}disconnect(){this.state.socket.close(),this.state.term.dispose(),this.state.connected=!1}configureSocketAndTerminal(e,t){e.onopen=function(){const e=document.getElementById(\"terminal-container\");t.open(e),t.setOption(\"cursorBlink\",!0),t.focus()},t.on(\"data\",(function(t){e.send(t)})),e.onmessage=function(e){t.write(e.data)},e.onerror=function(e){this.disconnect(),this.Notifications.error(\"Failure\",e,\"Websocket connection error\")}.bind(this),this.state.socket.onclose=function(){this.disconnect()}.bind(this),this.state.connected=!0}connectConsole(){const e={token:this.LocalStorage.getJWT(),endpointId:this.endpoint.Id,namespace:this.application.ResourcePool,podName:this.podName,containerName:this.containerName,command:this.state.command};let t=(window.location.origin.startsWith(\"http\")?`${window.location.origin}${(0,s.baseHref)()}`:(0,s.baseHref)())+\"api/websocket/pod?\"+Object.keys(e).map((t=>t+\"=\"+e[t])).join(\"&\");t=t.indexOf(\"https\")>-1?t.replace(\"https://\",\"wss://\"):t.replace(\"http://\",\"ws://\"),this.state.socket=new WebSocket(t),this.state.term=new i.o,this.configureSocketAndTerminal(this.state.socket,this.state.term)}async onInit(){const e=[\"/bin/bash\",\"/bin/sh\"];this.state={actionInProgress:!1,availableCommands:e,command:e[1],connected:!1,socket:null,term:null,viewReady:!1};const t=this.$transition$.params().pod,n=this.$transition$.params().name,a=this.$transition$.params().namespace,r=this.$transition$.params().container;this.podName=t,this.containerName=r;try{this.application=await this.KubernetesApplicationService.get(a,n)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application logs\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}o.$inject=[\"$async\",\"$state\",\"Notifications\",\"KubernetesApplicationService\",\"LocalStorage\"],t.default=o,r().module(\"portainer.kubernetes\").controller(\"KubernetesApplicationConsoleController\",o)},58791:function(e,t,n){const a=n(1866);angular.module(\"portainer.kubernetes\").component(\"kubernetesCreateApplicationView\",{templateUrl:a,controller:\"KubernetesCreateApplicationController\",controllerAs:\"ctrl\",bindings:{endpoint:\"<\"}})},8924:function(e,t,n){\"use strict\";n.r(t);var a=n(40714),r=n.n(a),i=n(71204),s=n.n(i),o=n(83464),l=n.n(o),c=n(17908),d=n.n(c),u=n(83432),p=n.n(u),m=n(44716),g=n.n(m),h=n(74362),f=n.n(h),v=n(41952),b=n.n(v),y=n(25445),w=n.n(y),x=n(46006),S=n.n(x),C=n(55743),k=n.n(C),$=n(68260),A=n.n($),P=n(66539),I=n.n(P),T=n(51235),N=n.n(T),E=n(29274),R=n.n(E),D=n(29500),O=n.n(D),V=n(34901),U=n(56414),j=n(7172),F=n(14917),L=n(54241),_=n(10293),M=n(22229),K=n(79990),B=n(57947),H=n(11507),G=n(7506),z=n(14780);class q{constructor(e,t,n,a,r,i,s,o,l,c,d,u,p,m,g,h,f){this.$scope=e,this.$async=t,this.$state=n,this.Notifications=a,this.Authentication=r,this.ModalService=i,this.KubernetesResourcePoolService=s,this.KubernetesApplicationService=o,this.KubernetesStackService=l,this.KubernetesConfigurationService=c,this.KubernetesNodeService=d,this.KubernetesVolumeService=m,this.KubernetesIngressService=u,this.KubernetesPersistentVolumeClaimService=p,this.RegistryService=g,this.StackService=h,this.KubernetesNodesLimitsService=f,this.ApplicationDeploymentTypes=j.KubernetesApplicationDeploymentTypes,this.ApplicationDataAccessPolicies=j.KubernetesApplicationDataAccessPolicies,this.ApplicationPublishingTypes=j.KubernetesApplicationPublishingTypes,this.ApplicationPlacementTypes=j.KubernetesApplicationPlacementTypes,this.ApplicationTypes=j.KubernetesApplicationTypes,this.ApplicationConfigurationFormValueOverridenKeyTypes=F.KubernetesApplicationConfigurationFormValueOverridenKeyTypes,this.ServiceTypes=K.KubernetesServiceTypes,this.KubernetesDeploymentTypes=j.KubernetesDeploymentTypes,this.state={appType:this.KubernetesDeploymentTypes.APPLICATION_FORM,updateWebEditorInProgress:!1,actionInProgress:!1,useLoadBalancer:!1,useServerMetrics:!1,sliders:{cpu:{min:0,max:0},memory:{min:0,max:0}},nodes:{memory:0,cpu:0},namespaceLimits:{memory:0,cpu:0},resourcePoolHasQuota:!1,viewReady:!1,availableSizeUnits:[\"MB\",\"GB\",\"TB\"],alreadyExists:!1,duplicates:{environmentVariables:new F.KubernetesFormValidationReferences,persistedFolders:new F.KubernetesFormValidationReferences,configurationPaths:new F.KubernetesFormValidationReferences,existingVolumes:new F.KubernetesFormValidationReferences,publishedPorts:{containerPorts:new F.KubernetesFormValidationReferences,nodePorts:new F.KubernetesFormValidationReferences,ingressRoutes:new F.KubernetesFormValidationReferences,loadBalancerPorts:new F.KubernetesFormValidationReferences},placements:new F.KubernetesFormValidationReferences},isEdit:this.$state.params.namespace&&this.$state.params.name,persistedFoldersUseExistingVolumes:!1,pullImageValidity:!1},this.isAdmin=this.Authentication.isAdmin(),this.editChanges=[],this.storageClasses=[],this.state.useLoadBalancer=!1,this.state.useServerMetrics=!1,this.formValues=new F.KubernetesApplicationFormValues,this.updateApplicationAsync=this.updateApplicationAsync.bind(this),this.deployApplicationAsync=this.deployApplicationAsync.bind(this),this.setPullImageValidity=this.setPullImageValidity.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onServicePublishChange=this.onServicePublishChange.bind(this)}onChangeFileContent(e){this.stackFileContent.replace(/(\\r\\n|\\n|\\r)/gm,\"\")!==e.replace(/(\\r\\n|\\n|\\r)/gm,\"\")&&(this.state.isEditorDirty=!0,this.stackFileContent=e)}async updateApplicationViaWebEditor(){return this.$async((async()=>{try{if(!await this.ModalService.confirmAsync({title:\"Are you sure?\",message:\"Any changes to this application will be overriden and may cause a service interruption. Do you wish to continue?\",buttons:{confirm:{label:\"Update\",className:\"btn-warning\"}}}))return;this.state.updateWebEditorInProgress=!0,await this.StackService.updateKubeStack({EndpointId:this.endpoint.Id,Id:this.application.StackId},this.stackFileContent,null),this.state.isEditorDirty=!1,await this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Failed redeploying application\")}finally{this.state.updateWebEditorInProgress=!1}}))}async uiCanExit(){if(this.stackFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}setPullImageValidity(e){this.state.pullImageValidity=e}imageValidityIsValid(){return this.state.pullImageValidity||this.formValues.ImageModel.Registry.Type!==U.RegistryTypes.DOCKERHUB}onChangeName(){const e=N()(this.applications,{Name:this.formValues.Name});this.state.alreadyExists=this.state.isEdit&&e&&this.application.Id!==e.Id||!this.state.isEdit&&e}unselectAutoScaler(){this.formValues.DeploymentType===this.ApplicationDeploymentTypes.GLOBAL&&(this.formValues.AutoScaler.IsUsed=!1)}addConfiguration(){let e=new F.KubernetesApplicationConfigurationFormValue;e.SelectedConfiguration=this.configurations[0],this.formValues.Configurations.push(e)}removeConfiguration(e){this.formValues.Configurations.splice(e,1),this.onChangeConfigurationPath()}overrideConfiguration(e){const t=this.formValues.Configurations[e];t.Overriden=!0,t.OverridenKeys=I()(A()(t.SelectedConfiguration.Data),(e=>{const t=new F.KubernetesApplicationConfigurationFormValueOverridenKey;return t.Key=e,t}))}resetConfiguration(e){const t=this.formValues.Configurations[e];t.Overriden=!1,t.OverridenKeys=[],this.onChangeConfigurationPath()}clearConfigurations(){this.formValues.Configurations=[]}onChangeConfigurationPath(){this.state.duplicates.configurationPaths.refs=[];const e=k()(this.formValues.Configurations,((e,t)=>{const n=S()(I()(t.OverridenKeys,\"Path\"));return w()(e,n)}),[]),t=L.default.getDuplicates(e);b()(this.formValues.Configurations,((e,n)=>{b()(e.OverridenKeys,((e,a)=>{const r=N()(t,(t=>t===e.Path));r&&(this.state.duplicates.configurationPaths.refs[n+\"_\"+a]=r)}))})),this.state.duplicates.configurationPaths.hasRefs=Object.keys(this.state.duplicates.configurationPaths.refs).length>0}addEnvironmentVariable(){this.formValues.EnvironmentVariables.push(new F.KubernetesApplicationEnvironmentVariableFormValue)}restoreEnvironmentVariable(e){e.NeedsDeletion=!1}removeEnvironmentVariable(e){const t=this.formValues.EnvironmentVariables.indexOf(e);if(-1!==t){const e=this.formValues.EnvironmentVariables[t];e.IsNew?this.formValues.EnvironmentVariables.splice(t,1):e.NeedsDeletion=!0}this.onChangeEnvironmentName()}onChangeEnvironmentName(){this.state.duplicates.environmentVariables.refs=L.default.getDuplicates(I()(this.formValues.EnvironmentVariables,\"Name\")),this.state.duplicates.environmentVariables.hasRefs=Object.keys(this.state.duplicates.environmentVariables.refs).length>0}addPersistedFolder(){let e={};this.storageClasses.length>0&&(e=this.storageClasses[0]);const t=new F.KubernetesApplicationPersistedFolderFormValue(e);this.formValues.PersistedFolders.push(t),this.resetDeploymentType()}restorePersistedFolder(e){this.formValues.PersistedFolders[e].NeedsDeletion=!1,this.validatePersistedFolders()}resetPersistedFolders(){this.formValues.PersistedFolders=b()(this.formValues.PersistedFolders,(e=>{e.ExistingVolume=null,e.UseNewVolume=!0})),this.validatePersistedFolders()}removePersistedFolder(e){this.state.isEdit&&this.formValues.PersistedFolders[e].PersistentVolumeClaimName?this.formValues.PersistedFolders[e].NeedsDeletion=!0:this.formValues.PersistedFolders.splice(e,1),this.validatePersistedFolders()}useNewVolume(e){this.formValues.PersistedFolders[e].UseNewVolume=!0,this.formValues.PersistedFolders[e].ExistingVolume=null,this.state.persistedFoldersUseExistingVolumes=!k()(this.formValues.PersistedFolders,((e,t)=>e&&t.UseNewVolume),!0),this.validatePersistedFolders()}useExistingVolume(e){this.formValues.PersistedFolders[e].UseNewVolume=!1,this.state.persistedFoldersUseExistingVolumes=!!N()(this.formValues.PersistedFolders,{UseNewVolume:!1}),this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED&&(this.formValues.DataAccessPolicy=this.ApplicationDataAccessPolicies.SHARED,this.resetDeploymentType()),this.validatePersistedFolders()}validatePersistedFolders(){this.onChangePersistedFolderPath(),this.onChangeExistingVolumeSelection()}onChangePersistedFolderPath(){this.state.duplicates.persistedFolders.refs=L.default.getDuplicates(I()(this.formValues.PersistedFolders,(e=>{if(!e.NeedsDeletion)return e.ContainerPath}))),this.state.duplicates.persistedFolders.hasRefs=Object.keys(this.state.duplicates.persistedFolders.refs).length>0}onChangeExistingVolumeSelection(){this.state.duplicates.existingVolumes.refs=L.default.getDuplicates(I()(this.formValues.PersistedFolders,(e=>{if(!e.NeedsDeletion)return e.ExistingVolume?e.ExistingVolume.PersistentVolumeClaim.Name:\"\"}))),this.state.duplicates.existingVolumes.hasRefs=Object.keys(this.state.duplicates.existingVolumes.refs).length>0}addPlacement(){const e=new F.KubernetesApplicationPlacementFormValue,t=this.nodesLabels[0];e.Label=t,e.Value=t.Values[0],this.formValues.Placements.push(e),this.onChangePlacement()}restorePlacement(e){this.formValues.Placements[e].NeedsDeletion=!1,this.onChangePlacement()}removePlacement(e){this.state.isEdit&&!this.formValues.Placements[e].IsNew?this.formValues.Placements[e].NeedsDeletion=!0:this.formValues.Placements.splice(e,1),this.onChangePlacement()}onChangePlacement(){this.onChangePlacementLabelValidate()}onChangePlacementLabel(e){this.formValues.Placements[e].Value=this.formValues.Placements[e].Label.Values[0],this.onChangePlacementLabelValidate()}onChangePlacementLabelValidate(){const e=this.state.duplicates.placements,t=I()(this.formValues.Placements,(e=>e.NeedsDeletion?void 0:e.Label.Key)),n=L.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}onServicePublishChange(){!this.formValues.IsPublishingService||this.formValues.PublishedPorts.length?this.formValues.IsPublishingService?this.formValues.PublishedPorts.forEach((e=>e.NeedsDeletion=!1)):this.formValues.PublishedPorts=this.formValues.PublishedPorts.filter((e=>!e.IsNew)).map((e=>({...e,NeedsDeletion:!0}))):this.addPublishedPort()}addPublishedPort(){const e=new F.KubernetesApplicationPublishedPortFormValue,t=this.ingresses;this.formValues.PublishingType===j.KubernetesApplicationPublishingTypes.INGRESS&&(e.IngressName=t&&t.length?t[0].Name:void 0,e.IngressHost=t&&t.length?t[0].Hosts[0]:void 0,e.IngressHosts=t&&t.length?t[0].Hosts:void 0),this.formValues.PublishedPorts.length&&(e.Protocol=this.formValues.PublishedPorts[0].Protocol),this.formValues.PublishedPorts.push(e)}resetPublishedPorts(){const e=this.ingresses;b()(this.formValues.PublishedPorts,(t=>{t.IngressName=e&&e.length?e[0].Name:void 0,t.IngressHost=e&&e.length?e[0].Hosts[0]:void 0}))}restorePublishedPort(e){this.formValues.PublishedPorts[e].NeedsDeletion=!1,this.onChangePublishedPorts()}removePublishedPort(e){this.state.isEdit&&!this.formValues.PublishedPorts[e].IsNew?this.formValues.PublishedPorts[e].NeedsDeletion=!0:this.formValues.PublishedPorts.splice(e,1),this.onChangePublishedPorts()}onChangePublishedPorts(){this.onChangePortMappingContainerPort(),this.onChangePortMappingNodePort(),this.onChangePortMappingIngressRoute(),this.onChangePortMappingLoadBalancer(),this.onChangePortProtocol()}onChangePortMappingContainerPort(){const e=this.state.duplicates.publishedPorts.containerPorts;if(this.formValues.PublishingType!==j.KubernetesApplicationPublishingTypes.INGRESS){const t=I()(this.formValues.PublishedPorts,(e=>e.NeedsDeletion?void 0:e.ContainerPort+e.Protocol)),n=L.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}else e.refs={},e.hasRefs=!1}onChangePortMappingNodePort(){const e=this.state.duplicates.publishedPorts.nodePorts;if(this.formValues.PublishingType===j.KubernetesApplicationPublishingTypes.NODE_PORT){const t=I()(this.formValues.PublishedPorts,(e=>e.NeedsDeletion?void 0:e.NodePort)),n=L.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}else e.refs={},e.hasRefs=!1}onChangePortMappingIngress(e){const t=this.formValues.PublishedPorts[e],n=N()(this.ingresses,{Name:t.IngressName});t.IngressHosts=n.Hosts,this.ingressHostnames=n.Hosts,t.IngressHost=this.ingressHostnames.length?this.ingressHostnames[0]:[],this.onChangePublishedPorts()}onChangePortMappingIngressRoute(){const e=this.state.duplicates.publishedPorts.ingressRoutes;if(this.formValues.PublishingType===j.KubernetesApplicationPublishingTypes.INGRESS){const t=I()(this.formValues.PublishedPorts,(e=>e.IsNew&&e.IngressRoute?`${e.IngressHost||e.IngressName}${e.IngressRoute}`:void 0)),n=I()(this.formValues.PublishedPorts,(e=>e.NeedsDeletion&&e.IngressRoute?`${e.IngressHost||e.IngressName}${e.IngressRoute}`:void 0)),a=f()(this.ingresses,(e=>I()(e.Paths,(t=>`${t.Host||e.Name}${t.Path}`)))),r=L.default.getDuplicates(t);b()(t,((e,t)=>{g()(a,e)&&!g()(n,e)&&(r[t]=e)})),e.refs=r,e.hasRefs=Object.keys(r).length>0}else e.refs={},e.hasRefs=!1}onChangePortMappingLoadBalancer(){const e=this.state.duplicates.publishedPorts.loadBalancerPorts;if(this.formValues.PublishingType===j.KubernetesApplicationPublishingTypes.LOAD_BALANCER){const t=I()(this.formValues.PublishedPorts,(e=>e.NeedsDeletion?void 0:e.LoadBalancerPort)),n=L.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}else e.refs={},e.hasRefs=!1}onChangePortProtocol(e){if(this.formValues.PublishingType===j.KubernetesApplicationPublishingTypes.LOAD_BALANCER){const t=p()(this.formValues.PublishedPorts,{IsNew:!0});b()(t,(n=>{n.Protocol=e?this.formValues.PublishedPorts[e].Protocol:t[0].Protocol})),this.onChangePortMappingLoadBalancer()}this.onChangePortMappingContainerPort()}isValid(){return!(this.state.alreadyExists||this.state.duplicates.environmentVariables.hasRefs||this.state.duplicates.persistedFolders.hasRefs||this.state.duplicates.configurationPaths.hasRefs||this.state.duplicates.existingVolumes.hasRefs||this.state.duplicates.publishedPorts.containerPorts.hasRefs||this.state.duplicates.publishedPorts.nodePorts.hasRefs||this.state.duplicates.publishedPorts.ingressRoutes.hasRefs||this.state.duplicates.publishedPorts.loadBalancerPorts.hasRefs)}storageClassAvailable(){return this.storageClasses&&this.storageClasses.length>0}hasMultipleStorageClassesAvailable(){return this.storageClasses&&this.storageClasses.length>1}resetDeploymentType(){this.formValues.DeploymentType=this.ApplicationDeploymentTypes.REPLICATED}showDataAccessPolicySection(){return 0!==this.formValues.PersistedFolders.length}supportGlobalDeployment(){const e=0!==this.formValues.PersistedFolders.length,t=B.default.hasRWOOnly(this.formValues),n=this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED;return!e||!t&&!n}isEditAndStatefulSet(){return this.state.isEdit&&this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED}supportScalableReplicaDeployment(){const e=0!==this.formValues.PersistedFolders.length,t=B.default.hasRWOOnly(this.formValues),n=this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED;return!(e&&!n&&(!e||t))}getNonScalableStorage(){let e=[];for(let t=0;t<this.formValues.PersistedFolders.length;t++){const n=this.formValues.PersistedFolders[t];n.StorageClass&&d()(n.StorageClass.AccessModes,[\"RWO\"])?e.push(n.StorageClass.Name):e.push(\"<no storage option available>\")}return S()(e).join(\", \")}enforceReplicaCountMinimum(){null===this.formValues.ReplicaCount&&(this.formValues.ReplicaCount=1)}resourceQuotaCapacityExceeded(){return!this.state.sliders.memory.max||!this.state.sliders.cpu.max}nodeLimitsOverflow(){const e=this.formValues.CpuLimit,t=M.default.bytesValue(this.formValues.MemoryLimit);return this.nodesLimits.overflowForReplica(e,t,1)}effectiveInstances(){return this.formValues.DeploymentType===this.ApplicationDeploymentTypes.GLOBAL?this.nodeNumber:this.formValues.ReplicaCount}resourceReservationsOverflow(){const e=this.effectiveInstances(),t=this.formValues.CpuLimit,n=this.state.namespaceLimits.cpu,a=M.default.bytesValue(this.formValues.MemoryLimit),r=this.state.namespaceLimits.memory;return 1e3*t*e>1e3*n||a*e>r||(this.formValues.DeploymentType===this.ApplicationDeploymentTypes.REPLICATED?this.nodesLimits.overflowForReplica(t,a,e):this.nodesLimits.overflowForGlobal(t,a))}autoScalerOverflow(){const e=this.formValues.AutoScaler.MaxReplicas,t=this.formValues.CpuLimit,n=this.state.namespaceLimits.cpu,a=M.default.bytesValue(this.formValues.MemoryLimit),r=this.state.namespaceLimits.memory;return 1e3*t*e>1e3*n||a*e>r||this.nodesLimits.overflowForReplica(t,a,e)}publishViaLoadBalancerEnabled(){return this.state.useLoadBalancer&&0!==this.state.maxLoadBalancersQuota}publishViaIngressEnabled(){return this.ingresses.length}isEditAndNoChangesMade(){if(!this.state.isEdit)return!1;const e=V.qu(this.savedFormValues,this.formValues);return this.editChanges=p()(e,(e=>!g()(e.path,\"$$hashKey\")&&\"/ApplicationType\"!==e.path)),!this.editChanges.length}isAddPersistentFolderButtonShowed(){return!this.isEditAndStatefulSet()&&this.formValues.Containers.length<=1}isNewVolumeButtonDisabled(e){return this.isEditAndExistingPersistedFolder(e)}isExistingVolumeButtonDisabled(){return!this.hasAvailableVolumes()||this.isEdit&&this.application.ApplicationType===this.ApplicationTypes.STATEFULSET}hasAvailableVolumes(){return this.availableVolumes.length>0}isEditAndExistingPersistedFolder(e){return this.state.isEdit&&this.formValues.PersistedFolders[e].PersistentVolumeClaimName}isEditAndNotNewPublishedPort(e){return this.state.isEdit&&!this.formValues.PublishedPorts[e].IsNew}hasNoPublishedPorts(){return 0===this.formValues.PublishedPorts.filter((e=>!e.NeedsDeletion)).length}isEditAndNotNewPlacement(e){return this.state.isEdit&&!this.formValues.Placements[e].IsNew}isNewAndNotFirst(e){return!this.state.isEdit&&0!==e}showPlacementPolicySection(){return 0!==p()(this.formValues.Placements,{NeedsDeletion:!1}).length}isNonScalable(){const e=this.supportScalableReplicaDeployment(),t=this.supportGlobalDeployment(),n=this.formValues.ReplicaCount>1,a=this.formValues.DeploymentType===this.ApplicationDeploymentTypes.REPLICATED;return a&&!e&&n||!a&&!t}isDeployUpdateButtonDisabled(){const e=this.resourceReservationsOverflow(),t=this.autoScalerOverflow(),n=this.state.actionInProgress,a=!this.isValid(),r=this.isEditAndNoChangesMade(),i=this.isNonScalable(),s=this.formValues.IsPublishingService&&this.hasNoPublishedPorts();return e||t||n||a||r||i||s}isExternalApplication(){return!!this.application&&B.default.isExternalApplication(this.application)}disableLoadBalancerEdit(){return this.state.isEdit&&this.application.ServiceType===this.ServiceTypes.LOAD_BALANCER&&!this.application.LoadBalancerIPAddress&&this.formValues.PublishingType===this.ApplicationPublishingTypes.LOAD_BALANCER}isPublishingTypeEditDisabled(){const e=p()(this.formValues.PublishedPorts,{IsNew:!1,NeedsDeletion:!1});return this.state.isEdit&&this.formValues.PublishedPorts.length>0&&e.length>0}isEditLBWithPorts(){return this.formValues.PublishingType===j.KubernetesApplicationPublishingTypes.LOAD_BALANCER&&0===p()(this.formValues.PublishedPorts,{IsNew:!1}).length}isProtocolOptionDisabled(e,t){return this.disableLoadBalancerEdit()||this.isEditAndNotNewPublishedPort(e)&&this.formValues.PublishedPorts[e].Protocol!==t||this.isEditLBWithPorts()&&this.formValues.PublishedPorts[e].Protocol!==t&&this.isNewAndNotFirst(e)}updateSliders(){const e=this.formValues.ResourcePool.Quota;let t=0,n=0,a=this.state.namespaceLimits.cpu,r=this.state.namespaceLimits.memory;e&&(e.CpuLimit&&(t=j.KubernetesApplicationQuotaDefaults.CpuLimit),e.MemoryLimit&&(n=M.default.bytesValue(j.KubernetesApplicationQuotaDefaults.MemoryLimit))),a=Math.min(a,this.nodesLimits.MaxCPU),r=Math.min(r,this.nodesLimits.MaxMemory),r<n&&(n=0,r=0),this.state.sliders.memory.min=M.default.megaBytesValue(n),this.state.sliders.memory.max=M.default.megaBytesValue(r),this.state.sliders.cpu.min=t,this.state.sliders.cpu.max=l()(a,2),this.state.isEdit||(this.formValues.CpuLimit=t,this.formValues.MemoryLimit=M.default.megaBytesValue(n))}updateNamespaceLimits(){let e=this.state.nodes.cpu,t=this.state.nodes.memory;const n=this.formValues.ResourcePool.Quota;this.state.resourcePoolHasQuota=!1,n&&(n.CpuLimit&&(this.state.resourcePoolHasQuota=!0,e=n.CpuLimit-n.CpuLimitUsed,this.state.isEdit&&this.savedFormValues.CpuLimit&&(e+=this.savedFormValues.CpuLimit*this.effectiveInstances())),n.MemoryLimit&&(this.state.resourcePoolHasQuota=!0,t=n.MemoryLimit-n.MemoryLimitUsed,this.state.isEdit&&this.savedFormValues.MemoryLimit&&(t+=M.default.bytesValue(this.savedFormValues.MemoryLimit)*this.effectiveInstances()))),this.state.namespaceLimits.cpu=e,this.state.namespaceLimits.memory=t}refreshStacks(e){return this.$async((async()=>{try{this.stacks=await this.KubernetesStackService.get(e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve stacks\")}}))}refreshConfigurations(e){return this.$async((async()=>{try{this.configurations=await this.KubernetesConfigurationService.get(e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve configurations\")}}))}refreshApplications(e){return this.$async((async()=>{try{this.applications=await this.KubernetesApplicationService.get(e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications\")}}))}refreshVolumes(e){return this.$async((async()=>{try{const t=this.endpoint.Kubernetes.Configuration.StorageClasses,n=await this.KubernetesVolumeService.get(e,t);b()(n,(e=>{e.Applications=H.default.getUsingApplications(e,this.applications)})),this.volumes=n;const a=p()(this.volumes,(e=>{const t=!H.default.isUsed(e),n=e.PersistentVolumeClaim.StorageClass&&g()(e.PersistentVolumeClaim.StorageClass.AccessModes,\"RWX\");return t||n}));this.availableVolumes=a}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve volumes\")}}))}refreshIngresses(e){return this.$async((async()=>{try{this.ingresses=await this.KubernetesIngressService.get(e),this.ingressHostnames=this.ingresses.length?this.ingresses[0].Hosts:[],this.publishViaIngressEnabled()||(this.savedFormValues?this.formValues.PublishingType=this.savedFormValues.PublishingType:this.formValues.PublishingType=this.ApplicationPublishingTypes.CLUSTER_IP),this.formValues.OriginalIngresses=this.ingresses}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve ingresses\")}}))}refreshNamespaceData(e){return this.$async((async()=>{await Promise.all([this.refreshStacks(e),this.refreshConfigurations(e),this.refreshApplications(e),this.refreshIngresses(e),this.refreshVolumes(e)]),this.onChangeName()}))}resetFormValues(){this.clearConfigurations(),this.resetPersistedFolders(),this.resetPublishedPorts()}onResourcePoolSelectionChange(){return this.$async((async()=>{const e=this.formValues.ResourcePool.Namespace.Name;this.updateNamespaceLimits(),this.updateSliders(),await this.refreshNamespaceData(e),this.resetFormValues()}))}async deployApplicationAsync(){this.state.actionInProgress=!0;try{this.formValues.ApplicationOwner=this.Authentication.getUserDetails().username,s()(this.formValues.Configurations,(e=>void 0===e.SelectedConfiguration)),await this.KubernetesApplicationService.create(this.formValues),this.Notifications.success(\"Application successfully deployed\",this.formValues.Name),this.$state.go(\"kubernetes.applications\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create application\")}finally{this.state.actionInProgress=!1}}async updateApplicationAsync(){try{this.state.actionInProgress=!0,await this.KubernetesApplicationService.patch(this.savedFormValues,this.formValues),this.Notifications.success(\"Application successfully updated\"),this.$state.go(\"kubernetes.applications.application\",{name:this.application.Name,namespace:this.application.ResourcePool})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update application\")}finally{this.state.actionInProgress=!1}}deployApplication(){if(!this.state.isEdit)return this.$async(this.deployApplicationAsync);this.ModalService.confirmUpdate(\"Updating the application may cause a service interruption. Do you wish to continue?\",(e=>{if(e)return this.$async(this.updateApplicationAsync)}))}getApplication(){return this.$async((async()=>{try{const e=this.$state.params.namespace,t=this.endpoint.Kubernetes.Configuration.StorageClasses;[this.application,this.persistentVolumeClaims]=await Promise.all([this.KubernetesApplicationService.get(e,this.$state.params.name),this.KubernetesPersistentVolumeClaimService.get(e,t)])}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application details\")}}))}async parseImageConfiguration(e){return this.$async((async()=>{try{return await this.RegistryService.retrievePorRegistryModelFromRepository(e.Image,this.endpoint.Id,e.Registry.Id,this.$state.params.namespace)}catch(t){return this.Notifications.error(\"Failure\",t,\"Unable to retrieve registry\"),e}}))}$onInit(){return this.$async((async()=>{try{this.storageClasses=this.endpoint.Kubernetes.Configuration.StorageClasses,this.state.useLoadBalancer=this.endpoint.Kubernetes.Configuration.UseLoadBalancer,this.state.useServerMetrics=this.endpoint.Kubernetes.Configuration.UseServerMetrics;const[e,t,n]=await Promise.all([this.KubernetesResourcePoolService.get(),this.KubernetesNodeService.get(),this.KubernetesNodesLimitsService.get()]);this.nodesLimits=n;const a=p()(e,(e=>!G.default.isSystemNamespace(e.Namespace.Name)));if(this.resourcePools=r()(a,(({Namespace:e})=>\"default\"===e.Name?0:1)),this.formValues.ResourcePool=this.resourcePools[0],!this.formValues.ResourcePool)return;b()(t,(e=>{this.state.nodes.memory+=O()(e.Memory),this.state.nodes.cpu+=e.CPU})),this.nodesLabels=z.KubernetesNodeHelper.generateNodeLabelsFromNodes(t),this.nodeNumber=t.length;const i=this.state.isEdit?this.$state.params.namespace:this.formValues.ResourcePool.Namespace.Name;await this.refreshNamespaceData(i),this.state.isEdit?(await this.getApplication(),this.formValues=_.default.applicationToFormValues(this.application,this.resourcePools,this.configurations,this.persistentVolumeClaims,this.nodesLabels,this.ingresses),this.application.ApplicationKind&&(this.state.appType=j.KubernetesDeploymentTypes[this.application.ApplicationKind.toUpperCase()],this.application.ApplicationKind===j.KubernetesDeploymentTypes.URL&&(this.state.appType=j.KubernetesDeploymentTypes.CONTENT),this.application.StackId&&(this.stack=await this.StackService.stack(this.application.StackId),this.state.appType===j.KubernetesDeploymentTypes.CONTENT&&(this.stackFileContent=await this.StackService.getStackFile(this.application.StackId)))),this.formValues.OriginalIngresses=this.ingresses,this.formValues.ImageModel=await this.parseImageConfiguration(this.formValues.ImageModel),this.savedFormValues=R().copy(this.formValues),delete this.formValues.ApplicationType,this.application.ApplicationType!==j.KubernetesApplicationTypes.STATEFULSET&&b()(this.formValues.PersistedFolders,(e=>{const t=N()(this.availableVolumes,[\"PersistentVolumeClaim.Name\",e.PersistentVolumeClaimName]);t&&(e.UseNewVolume=!1,e.ExistingVolume=t)})),await this.refreshNamespaceData(i)):this.formValues.AutoScaler=B.default.generateAutoScalerFormValueFromHorizontalPodAutoScaler(null,this.formValues.ReplicaCount),this.state.isEdit&&this.nodesLimits.excludesPods(this.application.Pods,this.formValues.CpuLimit,M.default.bytesValue(this.formValues.MemoryLimit)),this.formValues.IsPublishingService=this.formValues.PublishedPorts.length>0,this.updateNamespaceLimits(),this.updateSliders()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load view data\")}finally{this.state.viewReady=!0}}))}}q.$inject=[\"$scope\",\"$async\",\"$state\",\"Notifications\",\"Authentication\",\"ModalService\",\"KubernetesResourcePoolService\",\"KubernetesApplicationService\",\"KubernetesStackService\",\"KubernetesConfigurationService\",\"KubernetesNodeService\",\"KubernetesIngressService\",\"KubernetesPersistentVolumeClaimService\",\"KubernetesVolumeService\",\"RegistryService\",\"StackService\",\"KubernetesNodesLimitsService\"],t.default=q,R().module(\"portainer.kubernetes\").controller(\"KubernetesCreateApplicationController\",q)},56378:function(e,t,n){const a=n(45758);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationView\",{templateUrl:a,controller:\"KubernetesApplicationController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\",endpoint:\"<\"}})},66485:function(e,t,n){\"use strict\";n.r(t);var a=n(83432),r=n.n(a),i=n(92375),s=n.n(i),o=n(46545),l=n.n(o),c=n(44716),d=n.n(c),u=n(19980),p=n.n(u),m=n(66539),g=n.n(m),h=n(71204),f=n.n(h),v=n(51235),b=n.n(v),y=n(41952),w=n.n(y),x=n(29274),S=n.n(x),C=n(34901),k=n(7172),$=n(52929),A=n(57947),P=n(79990),I=n(31275),T=n(7506),N=n(52474);class E{constructor(e,t,n,a,r,i,s,o,l,c,d,u){this.$async=e,this.$state=t,this.clipboard=n,this.Notifications=a,this.LocalStorage=r,this.ModalService=i,this.StackService=u,this.KubernetesApplicationService=s,this.KubernetesEventService=o,this.KubernetesStackService=l,this.KubernetesPodService=c,this.KubernetesNodeService=d,this.KubernetesApplicationDeploymentTypes=k.KubernetesApplicationDeploymentTypes,this.KubernetesApplicationTypes=k.KubernetesApplicationTypes,this.KubernetesDeploymentTypes=k.KubernetesDeploymentTypes,this.ApplicationDataAccessPolicies=k.KubernetesApplicationDataAccessPolicies,this.KubernetesServiceTypes=P.KubernetesServiceTypes,this.KubernetesPodContainerTypes=I.KubernetesPodContainerTypes,this.onInit=this.onInit.bind(this),this.getApplication=this.getApplication.bind(this),this.getApplicationAsync=this.getApplicationAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this),this.updateApplicationKindText=this.updateApplicationKindText.bind(this),this.updateApplicationAsync=this.updateApplicationAsync.bind(this),this.redeployApplicationAsync=this.redeployApplicationAsync.bind(this),this.rollbackApplicationAsync=this.rollbackApplicationAsync.bind(this),this.copyLoadBalancerIP=this.copyLoadBalancerIP.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab(\"application\",e)}showEditor(){this.state.showEditorTab=!0,this.selectTab(3)}isSystemNamespace(){return T.default.isSystemNamespace(this.application.ResourcePool)}isExternalApplication(){return A.default.isExternalApplication(this.application)}copyLoadBalancerIP(){this.clipboard.copyText(this.application.LoadBalancerIPAddress),N(\"#copyNotificationLB\").show().fadeOut(2500)}copyApplicationName(){this.clipboard.copyText(this.application.Name),N(\"#copyNotificationApplicationName\").show().fadeOut(2500)}hasPersistedFolders(){return this.application&&this.application.PersistedFolders.length}hasVolumeConfiguration(){return this.application&&this.application.ConfigurationVolumes.length}hasEventWarnings(){return this.state.eventWarningCount}buildIngressRuleURL(e){return\"http://\"+(e.Host?e.Host:e.IP)+e.Path}portHasIngressRules(e){return e.IngressRules.length>0}ruleCanBeDisplayed(e){return!(!e.Host&&!e.IP)}isStack(){return this.application.StackId}async rollbackApplicationAsync(){try{const e=s()(this.application.Revisions,-2);await this.KubernetesApplicationService.rollback(this.application,e),this.Notifications.success(\"Application successfully rolled back\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to rollback the application\")}}rollbackApplication(){this.ModalService.confirmUpdate(\"Rolling back the application to a previous configuration may cause a service interruption. Do you wish to continue?\",(e=>{if(e)return this.$async(this.rollbackApplicationAsync)}))}async redeployApplicationAsync(){try{const e=g()(this.application.Pods,(e=>this.KubernetesPodService.delete(e)));await Promise.all(e),this.Notifications.success(\"Application successfully redeployed\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to redeploy the application\")}}redeployApplication(){this.ModalService.confirmUpdate(\"Redeploying the application may cause a service interruption. Do you wish to continue?\",(e=>{if(e)return this.$async(this.redeployApplicationAsync)}))}async updateApplicationAsync(){try{const e=S().copy(this.application);e.Note=this.formValues.Note,await this.KubernetesApplicationService.patch(this.application,e,!0),this.Notifications.success(\"Application successfully updated\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update application\")}}updateApplication(){return this.$async(this.updateApplicationAsync)}updateApplicationKindText(){this.application.ApplicationKind===this.KubernetesDeploymentTypes.GIT?this.state.appType=\"git repository\":(this.application.ApplicationKind===this.KubernetesDeploymentTypes.CONTENT||this.application.ApplicationKind===this.KubernetesDeploymentTypes.URL)&&(this.state.appType=\"manifest\")}async getEventsAsync(){try{this.state.eventsLoading=!0;const e=await this.KubernetesEventService.get(this.state.params.namespace);this.events=r()(e,(e=>e.Involved.uid===this.application.Id||e.Involved.uid===this.application.ServiceId||void 0!==b()(this.application.Pods,(t=>t.Id===e.Involved.uid)))),this.state.eventWarningCount=$.default.warningCount(this.events)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application related events\")}finally{this.state.eventsLoading=!1}}getEvents(){return this.$async(this.getEventsAsync)}async getApplicationAsync(){try{this.state.dataLoading=!0;const[e,t]=await Promise.all([this.KubernetesApplicationService.get(this.state.params.namespace,this.state.params.name),this.KubernetesNodeService.get()]);if(this.application=e,this.allContainers=A.default.associateAllContainersAndApplication(e),this.formValues.Note=this.application.Note,this.formValues.Services=this.application.Services,this.application.Note&&(this.state.expandedNote=!0),this.application.CurrentRevision&&(this.formValues.SelectedRevision=b()(this.application.Revisions,{revision:this.application.CurrentRevision.revision})),this.state.useIngress=b()(e.PublishedPorts,(e=>this.portHasIngressRules(e))),this.placements=function(e,t){return e=function(e,t){const n=t.Pods[0];return w()(e,(e=>{e.AcceptsApplication=!0,e.Expanded=!1,n&&(e.UnmetTaints=[],w()(e.Taints,(t=>{const a=b()(n.Tolerations,{Key:t.Key,Operator:\"Equal\",Value:t.Value,Effect:t.Effect}),r=b()(n.Tolerations,{Key:t.Key,Operator:\"Exists\",Effect:t.Effect}),i=b()(n.Tolerations,{Key:t.Key,Operator:\"Equal\",Value:t.Value,Effect:\"\"}),s=b()(n.Tolerations,{Key:t.Key,Operator:\"Exists\",Effect:\"\"}),o=b()(n.Tolerations,{Key:\"\",Operator:\"Exists\",Effect:\"\"});a||r||i||s||o?e.AcceptsApplication=!0:(e.AcceptsApplication=!1,e.UnmetTaints.push(t))})))})),e}(e,t),e=function(e,t){if(!t.Pods||0===t.Pods.length)return e;const n=t.Pods[0];return w()(e,(e=>{if(n.NodeSelector){const t=C.qu(e.Labels,n.NodeSelector);f()(t,{op:\"remove\"}),e.UnmatchedNodeSelectorLabels=g()(t,(e=>({key:p()(e.path,\"/\"),value:e.value}))),e.UnmatchedNodeSelectorLabels.length&&(e.AcceptsApplication=!1)}if(n.Affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution){const t=g()(n.Affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms,(t=>{const n=g()(t.matchExpressions,(t=>{const n={}.hasOwnProperty.call(e.Labels,t.key),a=n&&d()(t.values,e.Labels[t.key]);if(!(t.operator===I.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.EXISTS&&n||t.operator===I.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.DOES_NOT_EXIST&&!n||t.operator===I.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.IN&&a||t.operator===I.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.NOT_IN&&!a||t.operator===I.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.GREATER_THAN&&n&&parseInt(e.Labels[t.key],10)>parseInt(t.values[0],10)||t.operator===I.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.LOWER_THAN&&n&&parseInt(e.Labels[t.key],10)<parseInt(t.values[0],10)))return t}));return l()(n,void 0)}));f()(t,(e=>0===e.length)),e.UnmatchedNodeAffinities=t,e.UnmatchedNodeAffinities.length&&(e.AcceptsApplication=!1)}})),e}(e,t),e}(t,this.application),this.state.placementWarning=!b()(this.placements,{AcceptsApplication:!0}),e.StackId){const t=await this.StackService.getStackFile(e.StackId);this.stackFileContent=t}}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application details\")}finally{this.state.dataLoading=!1}}getApplication(){return this.$async(this.getApplicationAsync)}async onInit(){this.state={activeTab:0,currentName:this.$state.$current.name,showEditorTab:!1,DisplayedPanel:\"pods\",eventsLoading:!0,dataLoading:!0,viewReady:!1,params:{namespace:this.$transition$.params().namespace,name:this.$transition$.params().name},appType:this.KubernetesDeploymentTypes.APPLICATION_FORM,eventWarningCount:0,placementWarning:!1,expandedNote:!1,useIngress:!1,useServerMetrics:this.endpoint.Kubernetes.Configuration.UseServerMetrics,publicUrl:this.endpoint.PublicURL},this.state.activeTab=this.LocalStorage.getActiveTab(\"application\"),this.formValues={Note:\"\",SelectedRevision:void 0},await this.getApplication(),await this.getEvents(),this.updateApplicationKindText(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"application\",0)}}E.$inject=[\"$async\",\"$state\",\"clipboard\",\"Notifications\",\"LocalStorage\",\"ModalService\",\"KubernetesApplicationService\",\"KubernetesEventService\",\"KubernetesStackService\",\"KubernetesPodService\",\"KubernetesNodeService\",\"StackService\"],t.default=E,S().module(\"portainer.kubernetes\").controller(\"KubernetesApplicationController\",E)},20630:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return i}});var a=n(41952),r=n.n(a);class i{constructor(e,t){this.$async=e,this.KubernetesIngressService=t}$onInit(){return this.$async((async()=>{this.hasIngress,this.applicationIngress=[];const e=await this.KubernetesIngressService.get(this.application.ResourcePool),t=this.application.Services;r()(t,(t=>{r()(e,(e=>{r()(e.Paths,(e=>{e.ServiceName===t.metadata.name&&(this.applicationIngress.push(e),this.hasIngress=!0)}))}))}))}))}}i.$inject=[\"$async\",\"KubernetesIngressService\"]},63060:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(20630);const s=n(70881);r().module(\"portainer.kubernetes\").component(\"kubernetesApplicationIngressTable\",{templateUrl:s,controller:i.default,bindings:{application:\"<\",publicUrl:\"<\"}})},29272:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(83432),s=n.n(i);angular.module(\"portainer.docker\").controller(\"KubernetesApplicationPlacementsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"Authentication\",function(e,t,n,a){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1}),this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return!e.AcceptsApplication},this.hasExpandableItems=function(){return s()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,r()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.isAdmin=a.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},50156:function(e,t,n){const a=n(83260);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationPlacementsDatatable\",{templateUrl:a,controller:\"KubernetesApplicationPlacementsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\",loading:\"<\",removeAction:\"<\"}})},18137:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);const i=n(29262);r().module(\"portainer.kubernetes\").component(\"kubernetesApplicationServicesTable\",{templateUrl:i,bindings:{services:\"<\",application:\"<\",publicUrl:\"<\"}})},85392:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return r}});var a=n(20023);class r{constructor(e,t,n,a,r){this.$async=e,this.$state=t,this.Authentication=n,this.Notifications=a,this.HelmService=r}async getHelmApplication(){try{this.state.dataLoading=!0;const e=await this.HelmService.listReleases(this.endpoint.Id,{selector:`name=${this.state.params.name}`,namespace:this.state.params.namespace});if(!(e.length>0))throw new a.Z(`Release ${this.state.params.name} not found`);this.state.release=e[0]}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve helm application details\")}finally{this.state.dataLoading=!1}}$onInit(){return this.$async((async()=>{this.state={dataLoading:!0,viewReady:!1,params:{name:this.$state.params.name,namespace:this.$state.params.namespace},release:{name:void 0,chart:void 0,app_version:void 0}},await this.getHelmApplication(),this.state.viewReady=!0}))}}r.$inject=[\"$async\",\"$state\",\"Authentication\",\"Notifications\",\"HelmService\"]},8180:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(85392);const s=n(21152);r().module(\"portainer.kubernetes\").component(\"kubernetesHelmApplicationView\",{templateUrl:s,controller:i.default,bindings:{endpoint:\"<\"}})},81297:function(e,t,n){const a=n(28068);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationLogsView\",{templateUrl:a,controller:\"KubernetesApplicationLogsController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},94649:function(e,t,n){\"use strict\";n.r(t);var a=n(55743),r=n.n(a),i=n(29274),s=n.n(i);class o{constructor(e,t,n,a,r,i,s,o){this.$async=e,this.$state=t,this.$interval=n,this.Notifications=a,this.KubernetesApplicationService=r,this.KubernetesPodService=i,this.Blob=s,this.FileSaver=o,this.onInit=this.onInit.bind(this),this.stopRepeater=this.stopRepeater.bind(this),this.getApplicationLogsAsync=this.getApplicationLogsAsync.bind(this)}updateAutoRefresh(){this.state.autoRefresh?this.setUpdateRepeater():this.stopRepeater()}stopRepeater(){s().isDefined(this.repeater)&&(this.$interval.cancel(this.repeater),this.repeater=null)}setUpdateRepeater(){this.repeater=this.$interval(this.getApplicationLogsAsync,this.state.refreshRate)}downloadLogs(){const e=new this.Blob([r()(this.applicationLogs,((e,t)=>e+\"\\n\"+t),\"\")]);this.FileSaver.saveAs(e,this.podName+\"_logs.txt\")}async getApplicationLogsAsync(){try{this.applicationLogs=await this.KubernetesPodService.logs(this.application.ResourcePool,this.podName,this.containerName)}catch(e){this.stopRepeater(),this.Notifications.error(\"Failure\",e,\"Unable to retrieve application logs\")}}async onInit(){this.state={autoRefresh:!1,refreshRate:5e3,search:\"\",viewReady:!1};const e=this.$transition$.params().pod,t=this.$transition$.params().name,n=this.$transition$.params().namespace,a=this.$transition$.params().container;this.applicationLogs=[],this.podName=e,this.containerName=a;try{const[r,i]=await Promise.all([this.KubernetesApplicationService.get(n,t),this.KubernetesPodService.logs(n,e,a)]);this.application=r,this.applicationLogs=i}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application logs\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.stopRepeater()}}o.$inject=[\"$async\",\"$state\",\"$interval\",\"Notifications\",\"KubernetesApplicationService\",\"KubernetesPodService\",\"Blob\",\"FileSaver\"],t.default=o,s().module(\"portainer.kubernetes\").controller(\"KubernetesApplicationLogsController\",o)},61260:function(e,t,n){const a=n(96144);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationStatsView\",{templateUrl:a,controller:\"KubernetesApplicationStatsController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},13754:function(e,t,n){\"use strict\";n.r(t);var a=n(51235),r=n.n(a),i=n(29274),s=n.n(i),o=n(4396),l=n.n(o),c=n(29500),d=n.n(c),u=n(22229),p=n(22050),m=n(52474);class g{constructor(e,t,n,a,r,i,s,o,l){this.$async=e,this.$state=t,this.$interval=n,this.$document=a,this.Notifications=r,this.KubernetesPodService=i,this.KubernetesNodeService=s,this.KubernetesMetricsService=o,this.ChartService=l,this.onInit=this.onInit.bind(this)}changeUpdateRepeater(){var e=this.cpuChart,t=this.memoryChart;this.stopRepeater(),this.setUpdateRepeater(e,t),m(\"#refreshRateChange\").show(),m(\"#refreshRateChange\").fadeOut(1500)}updateCPUChart(){const e=l()(this.stats.read).format(\"HH:mm:ss\");this.ChartService.UpdateCPUChart(e,this.stats.CPUUsage,this.cpuChart)}updateMemoryChart(){const e=l()(this.stats.read).format(\"HH:mm:ss\");this.ChartService.UpdateMemoryChart(e,this.stats.MemoryUsage,this.stats.MemoryCache,this.memoryChart)}stopRepeater(){var e=this.repeater;s().isDefined(e)&&(this.$interval.cancel(e),e=void 0)}setUpdateRepeater(){const e=this.state.refreshRate;this.repeater=this.$interval((async()=>{try{await this.getStats(),this.updateCPUChart(),this.updateMemoryChart()}catch(e){this.stopRepeater(),this.Notifications.error(\"Failure\",e)}}),1e3*e)}initCharts(){const e=m(\"#cpuChart\"),t=this.ChartService.CreateCPUChart(e);this.cpuChart=t;const n=m(\"#memoryChart\"),a=this.ChartService.CreateMemoryChart(n);this.memoryChart=a,this.updateCPUChart(),this.updateMemoryChart(),this.setUpdateRepeater()}getStats(){return this.$async((async()=>{try{const e=await this.KubernetesMetricsService.getPod(this.state.transition.namespace,this.state.transition.podName),t=r()(e.containers,{name:this.state.transition.containerName});if(t){const n=d()(t.usage.memory),a=u.default.parseCPU(t.usage.cpu);this.stats={read:e.timestamp,preread:\"\",MemoryCache:0,MemoryUsage:n,NumProcs:\"\",isWindows:!1,PreviousCPUTotalUsage:0,CPUUsage:a/this.nodeCPU*100,CPUCores:0}}}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application stats\")}}))}$onDestroy(){this.stopRepeater()}async onInit(){this.state={autoRefresh:!1,refreshRate:\"30\",viewReady:!1,transition:{podName:this.$transition$.params().pod,containerName:this.$transition$.params().container,namespace:this.$transition$.params().namespace,applicationName:this.$transition$.params().name},getMetrics:!1};try{await this.KubernetesMetricsService.getPod(this.state.transition.namespace,this.state.transition.podName)}catch(e){return this.state.getMetrics=!1,void(this.state.viewReady=!0)}try{const e=await this.KubernetesPodService.get(this.state.transition.namespace,this.state.transition.podName),t=p.default.apiToModel(e.Raw);if(!t)throw new Error(\"Unable to find pod\");{const e=await this.KubernetesNodeService.get(t.Node);this.nodeCPU=e.CPU}await this.getStats(),this.state.getMetrics=!0,this.$document.ready((()=>{this.initCharts()}))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application stats\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}g.$inject=[\"$async\",\"$state\",\"$interval\",\"$document\",\"Notifications\",\"KubernetesPodService\",\"KubernetesNodeService\",\"KubernetesMetricsService\",\"ChartService\"],t.default=g,s().module(\"portainer.kubernetes\").controller(\"KubernetesApplicationStatsController\",g)},24924:function(e,t,n){const a=n(21284);angular.module(\"portainer.kubernetes\").component(\"kubernetesClusterView\",{templateUrl:a,controller:\"KubernetesClusterController\",controllerAs:\"ctrl\",bindings:{endpoint:\"<\"}})},99641:function(e,t,n){\"use strict\";n.r(t);var a=n(55743),r=n.n(a),i=n(44716),s=n.n(i),o=n(41952),l=n.n(o),c=n(66539),d=n.n(c),u=n(55332),p=n.n(u),m=n(51235),g=n.n(m),h=n(83432),f=n.n(h),v=n(29274),b=n.n(v),y=n(29500),w=n.n(y),x=n(22229),S=n(46685);class C{constructor(e,t,n,a,r,i,s,o,l){this.$async=e,this.$state=t,this.Authentication=n,this.Notifications=a,this.LocalStorage=r,this.KubernetesNodeService=i,this.KubernetesMetricsService=s,this.KubernetesApplicationService=o,this.KubernetesEndpointService=l,this.onInit=this.onInit.bind(this),this.getNodes=this.getNodes.bind(this),this.getNodesAsync=this.getNodesAsync.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.getEndpointsAsync=this.getEndpointsAsync.bind(this),this.hasResourceUsageAccess=this.hasResourceUsageAccess.bind(this)}async getEndpointsAsync(){try{const e=await this.KubernetesEndpointService.get(),t=f()(e,{Namespace:\"kube-system\"});this.systemEndpoints=f()(t,(e=>e.HolderIdentity));const n=g()(e,{Name:\"kubernetes\"});if(n&&n.Subsets){const e=p()(d()(n.Subsets,\"Ips\"));l()(this.nodes,(t=>{t.Api=s()(e,t.IPAddress)}))}}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environments\")}}getEndpoints(){return this.$async(this.getEndpointsAsync)}async getNodesAsync(){try{const e=await this.KubernetesNodeService.get();l()(e,(e=>e.Memory=w()(e.Memory))),this.nodes=e,this.CPULimit=r()(this.nodes,((e,t)=>t.CPU+e),0),this.CPULimit=Math.round(1e4*this.CPULimit)/1e4,this.MemoryLimit=r()(this.nodes,((e,t)=>x.default.megaBytesValue(t.Memory)+e),0)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve nodes\")}}getNodes(){return this.$async(this.getNodesAsync)}async getApplicationsAsync(){try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get();const e=d()(this.nodes,(e=>e.Name));this.resourceReservation=r()(this.applications,((t,n)=>{n.Pods=f()(n.Pods,(t=>e.includes(t.Node)));const a=x.default.computeResourceReservation(n.Pods);return t.CPU+=a.CPU,t.Memory+=a.Memory,t}),new S.KubernetesResourceReservation),this.resourceReservation.Memory=x.default.megaBytesValue(this.resourceReservation.Memory),this.hasResourceUsageAccess()&&await this.getResourceUsage(this.endpoint.Id)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications\")}finally{this.state.applicationsLoading=!1}}getApplications(){return this.$async(this.getApplicationsAsync)}async getResourceUsage(e){try{const t=(await this.KubernetesMetricsService.getNodes(e)).items.map((e=>e.usage)).reduce(((e,t)=>(e.CPU+=x.default.parseCPU(t.cpu),e.Memory+=x.default.megaBytesValue(t.memory),e)),new S.KubernetesResourceReservation);this.resourceUsage=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve cluster resource usage\")}}hasResourceUsageAccess(){return this.isAdmin&&this.state.useServerMetrics}async onInit(){this.isAdmin=this.Authentication.isAdmin();const e=this.endpoint.Kubernetes.Configuration.UseServerMetrics;this.state={applicationsLoading:!0,viewReady:!1,useServerMetrics:e},await this.getNodes(),this.isAdmin&&(await this.getEndpoints(),await this.getApplications()),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}C.$inject=[\"$async\",\"$state\",\"Authentication\",\"Notifications\",\"LocalStorage\",\"KubernetesNodeService\",\"KubernetesMetricsService\",\"KubernetesApplicationService\",\"KubernetesEndpointService\"],t.default=C,b().module(\"portainer.kubernetes\").controller(\"KubernetesClusterController\",C)},64696:function(e,t,n){const a=n(78928);angular.module(\"portainer.kubernetes\").component(\"kubernetesNodeView\",{templateUrl:a,controller:\"KubernetesNodeController\",controllerAs:\"ctrl\",bindings:{endpoint:\"<\",$transition$:\"<\"}})},79308:function(e,t,n){\"use strict\";n.r(t);var a=n(68582),r=n.n(a),i=n(41952),s=n.n(i),o=n(51235),l=n.n(o),c=n(55332),d=n.n(c),u=n(83432),p=n.n(u),m=n(66539),g=n.n(m),h=n(29274),f=n.n(h),v=n(22229),b=n(46685),y=n(52929),w=n(76676),x=n(2949),S=n(48942),C=n(54241),k=n(14780);class ${constructor(e,t,n,a,r,i,s,o,l,c,d,u){this.$async=e,this.$state=t,this.Notifications=n,this.LocalStorage=a,this.ModalService=r,this.KubernetesNodeService=i,this.KubernetesEventService=s,this.KubernetesPodService=o,this.KubernetesApplicationService=l,this.KubernetesEndpointService=c,this.KubernetesMetricsService=d,this.Authentication=u,this.onInit=this.onInit.bind(this),this.getNodesAsync=this.getNodesAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.getEndpointsAsync=this.getEndpointsAsync.bind(this),this.updateNodeAsync=this.updateNodeAsync.bind(this),this.drainNodeAsync=this.drainNodeAsync.bind(this),this.hasResourceUsageAccess=this.hasResourceUsageAccess.bind(this),this.getNodeUsageAsync=this.getNodeUsageAsync.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab(\"node\",e)}onChangeTaintKey(e){this.state.duplicateTaintKeys=C.default.getDuplicates(g()(this.formValues.Taints,(e=>{if(!e.NeedsDeletion)return e.Key}))),this.state.hasDuplicateTaintKeys=Object.keys(this.state.duplicateTaintKeys).length>0,this.onChangeTaint(e)}onChangeTaint(e){this.formValues.Taints[e]&&(this.formValues.Taints[e].IsChanged=!0)}addTaint(){const e=new x.KubernetesNodeTaintFormValues;e.IsNew=!0,e.Effect=S.KubernetesNodeTaintEffects.NOSCHEDULE,this.formValues.Taints.push(e)}removeTaint(e){const t=this.formValues.Taints[e];t.IsNew?this.formValues.Taints.splice(e,1):t.NeedsDeletion=!0,this.onChangeTaintKey()}restoreTaint(e){this.formValues.Taints[e].NeedsDeletion=!1,this.onChangeTaintKey()}computeTaintsWarning(){return p()(this.formValues.Taints,(e=>e.Effect===S.KubernetesNodeTaintEffects.NOEXECUTE&&(e.IsNew||e.IsChanged))).length}onChangeLabelKey(e){this.state.duplicateLabelKeys=C.default.getDuplicates(g()(this.formValues.Labels,(e=>{if(!e.NeedsDeletion)return e.Key}))),this.state.hasDuplicateLabelKeys=Object.keys(this.state.duplicateLabelKeys).length>0,this.onChangeLabel(e)}onChangeLabel(e){this.formValues.Labels[e]&&(this.formValues.Labels[e].IsChanged=!0)}addLabel(){const e=new x.KubernetesNodeLabelFormValues;e.IsNew=!0,this.formValues.Labels.push(e)}removeLabel(e){const t=this.formValues.Labels[e];t.IsNew?this.formValues.Labels.splice(e,1):t.NeedsDeletion=!0,this.onChangeLabelKey()}restoreLabel(e){this.formValues.Labels[e].NeedsDeletion=!1,this.onChangeLabelKey()}isSystemLabel(e){return k.KubernetesNodeHelper.isSystemLabel(this.formValues.Labels[e])}computeLabelsWarning(){return p()(this.formValues.Labels,(e=>e.IsUsed&&(e.NeedsDeletion||e.IsChanged))).length}computeCordonWarning(){return this.formValues.Availability===this.availabilities.PAUSE}computeDrainWarning(){return this.formValues.Availability===this.availabilities.DRAIN}async drainNodeAsync(){const e=d()(g()(this.applications,(e=>e.Pods)));let t=e.length;for(const n of e)try{await this.KubernetesPodService.eviction(n),this.Notifications.success(\"Pod successfully evicted\",n.Name)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to evict pod\"),this.formValues.Availability=this.availabilities.PAUSE,await this.KubernetesNodeService.patch(this.node,this.formValues)}finally{--t,0===t&&(this.formValues.Availability=this.availabilities.PAUSE,await this.KubernetesNodeService.patch(this.node,this.formValues))}}drainNode(){return this.$async(this.drainNodeAsync)}isNoChangesMade(){const e=w.default.formValuesToNode(this.node,this.formValues);return!w.default.patchPayload(this.node,e).length}isDrainError(){return(this.state.isDrainOperation||this.state.isContainPortainer)&&this.formValues.Availability===this.availabilities.DRAIN}isFormValid(){return!(this.state.hasDuplicateTaintKeys||this.state.hasDuplicateLabelKeys||this.isNoChangesMade()||this.isDrainError())}resetFormValues(){this.formValues=w.default.nodeToFormValues(this.node)}async getEndpointsAsync(){try{const e=await this.KubernetesEndpointService.get();this.endpoint=l()(e,{Name:\"kubernetes\"}),this.endpoint&&this.endpoint.Subsets&&s()(this.endpoint.Subsets,(e=>s()(e.Ips,(t=>{if(t===this.node.IPAddress)return this.node.Api=!0,this.node.Port=e.Port,!1}))))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environments\")}}getEndpoints(){return this.$async(this.getEndpointsAsync)}async updateNodeAsync(){try{this.node=await this.KubernetesNodeService.patch(this.node,this.formValues),\"Drain\"===this.formValues.Availability&&await this.drainNode(),this.Notifications.success(\"Node updated successfully\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update node\")}}updateNode(){const e=this.computeTaintsWarning(),t=this.computeLabelsWarning(),n=this.computeCordonWarning(),a=this.computeDrainWarning();if(e&&!t)this.ModalService.confirmUpdate(\"Changes to taints will immediately deschedule applications running on this node without the corresponding tolerations. Do you wish to continue?\",(e=>{if(e)return this.$async(this.updateNodeAsync)}));else if(!e&&t)this.ModalService.confirmUpdate(\"Removing or changing a label that is used might prevent applications from being scheduled on this node in the future. Do you wish to continue?\",(e=>{if(e)return this.$async(this.updateNodeAsync)}));else if(e&&t)this.ModalService.confirmUpdate(\"Changes to taints will immediately deschedule applications running on this node without the corresponding tolerations.<br/></br/>Removing or changing a label that is used might prevent applications from scheduling on this node in the future.\\n\\nDo you wish to continue?\",(e=>{if(e)return this.$async(this.updateNodeAsync)}));else if(n)this.ModalService.confirmUpdate(\"Marking this node as unschedulable will effectively cordon the node and prevent any new workload from being scheduled on that node. Are you sure?\",(e=>{if(e)return this.$async(this.updateNodeAsync)}));else{if(!a)return this.$async(this.updateNodeAsync);this.ModalService.confirmUpdate(\"Draining this node will cause all workloads to be evicted from that node. This might lead to some service interruption. Are you sure?\",(e=>{if(e)return this.$async(this.updateNodeAsync)}))}}async getNodesAsync(){try{this.state.dataLoading=!0;const e=this.$transition$.params().name;this.nodes=await this.KubernetesNodeService.get(),this.node=l()(this.nodes,{Name:e}),this.state.isDrainOperation=l()(this.nodes,{Availability:this.availabilities.DRAIN})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve node\")}finally{this.state.dataLoading=!1}}getNodes(){return this.$async(this.getNodesAsync)}hasResourceUsageAccess(){return this.state.isAdmin&&this.state.useServerMetrics}async getNodeUsageAsync(){try{const e=this.$transition$.params().name,t=await this.KubernetesMetricsService.getNode(e);this.resourceUsage=new b.KubernetesResourceReservation,this.resourceUsage.CPU=v.default.parseCPU(t.usage.cpu),this.resourceUsage.Memory=v.default.megaBytesValue(t.usage.memory)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve node resource usage\")}}getNodeUsage(){return this.$async(this.getNodeUsageAsync)}hasEventWarnings(){return this.state.eventWarningCount}async getEventsAsync(){try{this.state.eventsLoading=!0;const e=await this.KubernetesEventService.get();this.events=e.filter((e=>\"Node\"===e.Involved.kind)),this.state.eventWarningCount=y.default.warningCount(this.events)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve node events\")}finally{this.state.eventsLoading=!1}}getEvents(){return this.$async(this.getEventsAsync)}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}async getApplicationsAsync(){try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get(),this.resourceReservation=new b.KubernetesResourceReservation,this.applications=g()(this.applications,(e=>(e.Pods=p()(e.Pods,(e=>e.Node===this.node.Name)),e))),this.applications=p()(this.applications,(e=>0!==e.Pods.length)),this.applications=g()(this.applications,(e=>{const t=v.default.computeResourceReservation(e.Pods);return e.CPU=t.CPU,e.Memory=t.Memory,this.resourceReservation.CPU+=t.CPU,this.resourceReservation.Memory+=t.Memory,e})),this.resourceReservation.Memory=v.default.megaBytesValue(this.resourceReservation.Memory),this.memoryLimit=v.default.megaBytesValue(this.node.Memory),this.state.isContainPortainer=l()(this.applications,{ApplicationName:\"portainer\"}),this.hasResourceUsageAccess()&&await this.getNodeUsage()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications\")}finally{this.state.applicationsLoading=!1}}getApplications(){return this.$async(this.getApplicationsAsync)}async onInit(){this.availabilities=S.KubernetesNodeAvailabilities,this.state={isAdmin:this.Authentication.isAdmin(),activeTab:this.LocalStorage.getActiveTab(\"node\"),currentName:this.$state.$current.name,dataLoading:!0,eventsLoading:!0,applicationsLoading:!0,showEditorTab:!1,viewReady:!1,eventWarningCount:0,duplicateTaintKeys:[],hasDuplicateTaintKeys:!1,duplicateLabelKeys:[],hasDuplicateLabelKeys:!1,isDrainOperation:!1,isContainPortainer:!1,useServerMetrics:this.endpoint.Kubernetes.Configuration.UseServerMetrics},await this.getNodes(),await this.getEvents(),await this.getApplications(),await this.getEndpoints(),this.availableEffects=r()(S.KubernetesNodeTaintEffects),this.formValues=w.default.nodeToFormValues(this.node),this.formValues.Labels=k.KubernetesNodeHelper.computeUsedLabels(this.applications,this.formValues.Labels),this.formValues.Labels=k.KubernetesNodeHelper.reorderLabels(this.formValues.Labels),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"node\",0)}}$.$inject=[\"$async\",\"$state\",\"Notifications\",\"LocalStorage\",\"ModalService\",\"KubernetesNodeService\",\"KubernetesEventService\",\"KubernetesPodService\",\"KubernetesApplicationService\",\"KubernetesEndpointService\",\"KubernetesMetricsService\",\"Authentication\"],t.default=$,f().module(\"portainer.kubernetes\").controller(\"KubernetesNodeController\",$)},83490:function(e,t,n){const a=n(49709);angular.module(\"portainer.kubernetes\").component(\"kubernetesNodeStatsView\",{templateUrl:a,controller:\"KubernetesNodeStatsController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},2997:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(4396),s=n.n(i),o=n(29500),l=n.n(o),c=n(22229),d=n(71541),u=n(52474);class p{constructor(e,t,n,a,r,i,s,o){this.$async=e,this.$state=t,this.$interval=n,this.$document=a,this.Notifications=r,this.KubernetesNodeService=i,this.KubernetesMetricsService=s,this.ChartService=o,this.onInit=this.onInit.bind(this)}changeUpdateRepeater(){var e=this.cpuChart,t=this.memoryChart;this.stopRepeater(),this.setUpdateRepeater(e,t),u(\"#refreshRateChange\").show(),u(\"#refreshRateChange\").fadeOut(d.PORTAINER_FADEOUT)}updateCPUChart(){const e=s()(this.stats.read).format(\"HH:mm:ss\");this.ChartService.UpdateCPUChart(e,this.stats.CPUUsage,this.cpuChart)}updateMemoryChart(){const e=s()(this.stats.read).format(\"HH:mm:ss\");this.ChartService.UpdateMemoryChart(e,this.stats.MemoryUsage,0,this.memoryChart)}stopRepeater(){var e=this.repeater;r().isDefined(e)&&(this.$interval.cancel(e),this.repeater=void 0)}setUpdateRepeater(){const e=this.state.refreshRate;this.repeater=this.$interval((async()=>{try{await this.getStats(),this.updateCPUChart(),this.updateMemoryChart()}catch(e){this.stopRepeater(),this.Notifications.error(\"Failure\",e)}}),1e3*e)}initCharts(){const e=u(\"#cpuChart\"),t=this.ChartService.CreateCPUChart(e);this.cpuChart=t;const n=u(\"#memoryChart\"),a=this.ChartService.CreateMemoryChart(n);this.memoryChart=a,this.updateCPUChart(),this.updateMemoryChart(),this.setUpdateRepeater()}getStats(){return this.$async((async()=>{try{const e=await this.KubernetesMetricsService.getNode(this.state.transition.nodeName);if(e){const t=l()(e.usage.memory),n=c.default.parseCPU(e.usage.cpu);this.stats={read:e.creationTimestamp,MemoryUsage:t,CPUUsage:n/this.nodeCPU*100}}}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve node stats\")}}))}$onDestroy(){this.stopRepeater()}async onInit(){this.state={autoRefresh:!1,refreshRate:\"30\",viewReady:!1,transition:{nodeName:this.$transition$.params().name},getMetrics:!0};try{if(await this.KubernetesMetricsService.getNode(this.state.transition.nodeName)){const e=await this.KubernetesNodeService.get(this.state.transition.nodeName);this.nodeCPU=e.CPU||1,await this.getStats(),this.state.getMetrics&&this.$document.ready((()=>{this.initCharts()}))}else this.state.getMetrics=!1}catch(e){this.state.getMetrics=!1,this.Notifications.error(\"Failure\",e,\"Unable to retrieve node stats\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}p.$inject=[\"$async\",\"$state\",\"$interval\",\"$document\",\"Notifications\",\"KubernetesNodeService\",\"KubernetesMetricsService\",\"ChartService\"],t.default=p,r().module(\"portainer.kubernetes\").controller(\"KubernetesNodeStatsController\",p)},56286:function(e,t,n){const a=n(79773);angular.module(\"portainer.kubernetes\").component(\"kubernetesConfigurationsView\",{templateUrl:a,controller:\"KubernetesConfigurationsController\",controllerAs:\"ctrl\"})},35752:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(51780);class s{constructor(e,t,n,a,r,i,s){this.$async=e,this.$state=t,this.Notifications=n,this.Authentication=a,this.KubernetesConfigurationService=r,this.KubernetesApplicationService=i,this.ModalService=s,this.onInit=this.onInit.bind(this),this.getConfigurations=this.getConfigurations.bind(this),this.getConfigurationsAsync=this.getConfigurationsAsync.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this),this.refreshCallback=this.refreshCallback.bind(this),this.refreshCallbackAsync=this.refreshCallbackAsync.bind(this)}async getConfigurationsAsync(){try{this.state.configurationsLoading=!0,this.configurations=await this.KubernetesConfigurationService.get(),i.default.setConfigurationsUsed(this.configurations,this.applications)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve configurations\")}finally{this.state.configurationsLoading=!1}}getConfigurations(){return this.$async(this.getConfigurationsAsync)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.KubernetesConfigurationService.delete(n),this.Notifications.success(\"Configurations successfully removed\",n.Name);const e=this.configurations.indexOf(n);this.configurations.splice(e,1)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove configuration\")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion(\"Do you want to remove the selected configuration(s)?\",(t=>{if(t)return this.$async(this.removeActionAsync,e)}))}async getApplicationsAsync(){try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications\")}finally{this.state.applicationsLoading=!1}}getApplications(){return this.$async(this.getApplicationsAsync)}async refreshCallbackAsync(){await this.getConfigurations(),await this.getApplications()}refreshCallback(){return this.$async(this.refreshCallbackAsync)}async onInit(){this.state={configurationsLoading:!0,applicationsLoading:!0,viewReady:!1,isAdmin:this.Authentication.isAdmin()},await this.getApplications(),await this.getConfigurations(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}s.$inject=[\"$async\",\"$state\",\"Notifications\",\"Authentication\",\"KubernetesConfigurationService\",\"KubernetesApplicationService\",\"ModalService\"],t.default=s,r().module(\"portainer.kubernetes\").controller(\"KubernetesConfigurationsController\",s)},9022:function(e,t,n){const a=n(5502);angular.module(\"portainer.kubernetes\").component(\"kubernetesCreateConfigurationView\",{templateUrl:a,controller:\"KubernetesCreateConfigurationController\",controllerAs:\"ctrl\"})},38646:function(e,t,n){\"use strict\";n.r(t);var a=n(51235),r=n.n(a),i=n(83432),s=n.n(i),o=n(29274),l=n.n(o),c=n(30578),d=n(82434),u=n(51780),p=n(7506);class m{constructor(e,t,n,a,r,i,s,o){this.$async=e,this.$state=t,this.$window=n,this.ModalService=a,this.Notifications=r,this.Authentication=i,this.KubernetesConfigurationService=s,this.KubernetesResourcePoolService=o,this.KubernetesConfigurationTypes=d.KubernetesConfigurationTypes,this.onInit=this.onInit.bind(this),this.createConfigurationAsync=this.createConfigurationAsync.bind(this),this.getConfigurationsAsync=this.getConfigurationsAsync.bind(this)}onChangeName(){const e=s()(this.configurations,(e=>e.Namespace===this.formValues.ResourcePool.Namespace.Name));this.state.alreadyExist=void 0!==r()(e,(e=>e.Name===this.formValues.Name))}onResourcePoolSelectionChange(){this.onChangeName()}isFormValid(){const e=!this.state.alreadyExist&&this.state.isDataValid;return this.formValues.IsSimple?this.formValues.Data.length>0&&e:e}async createConfigurationAsync(){try{this.state.actionInProgress=!0,this.formValues.ConfigurationOwner=this.Authentication.getUserDetails().username,this.formValues.IsSimple||(this.formValues.Data=u.default.parseYaml(this.formValues)),await this.KubernetesConfigurationService.create(this.formValues),this.Notifications.success(\"Configuration succesfully created\"),this.state.isEditorDirty=!1,this.$state.go(\"kubernetes.configurations\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create configuration\")}finally{this.state.actionInProgress=!1}}createConfiguration(){return this.$async(this.createConfigurationAsync)}async getConfigurationsAsync(){try{this.configurations=await this.KubernetesConfigurationService.get()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve configurations\")}}getConfigurations(){return this.$async(this.getConfigurationsAsync)}async uiCanExit(){if(!this.formValues.IsSimple&&this.formValues.DataYaml&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async onInit(){this.state={actionInProgress:!1,viewReady:!1,alreadyExist:!1,isDataValid:!0,isEditorDirty:!1},this.formValues=new c.KubernetesConfigurationFormValues,this.formValues.Data.push(new c.KubernetesConfigurationFormValuesEntry);try{const e=await this.KubernetesResourcePoolService.get();this.resourcePools=s()(e,(e=>!p.default.isSystemNamespace(e.Namespace.Name))),this.formValues.ResourcePool=this.resourcePools[0],await this.getConfigurations()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load view data\")}finally{this.state.viewReady=!0}this.$window.onbeforeunload=()=>{if(!this.formValues.IsSimple&&this.formValues.DataYaml&&this.state.isEditorDirty)return\"\"}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.isEditorDirty=!1}}m.$inject=[\"$async\",\"$state\",\"$window\",\"ModalService\",\"Notifications\",\"Authentication\",\"KubernetesConfigurationService\",\"KubernetesResourcePoolService\"],t.default=m,l().module(\"portainer.kubernetes\").controller(\"KubernetesCreateConfigurationController\",m)},78025:function(e,t,n){const a=n(61330);angular.module(\"portainer.kubernetes\").component(\"kubernetesConfigurationView\",{templateUrl:a,controller:\"KubernetesConfigurationController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},55682:function(e,t,n){\"use strict\";n.r(t);var a=n(46006),r=n.n(a),i=n(83432),s=n.n(i),o=n(51235),l=n.n(o),c=n(29274),d=n.n(c),u=n(30578),p=n(82434),m=n(51780),g=n(10241),h=n(52929),f=n(7506),v=n(52474);class b{constructor(e,t,n,a,r,i,s,o,l,c,d,u,m){this.$async=e,this.$state=t,this.$window=n,this.clipboard=a,this.Notifications=r,this.LocalStorage=i,this.ModalService=d,this.KubernetesConfigurationService=s,this.KubernetesResourcePoolService=c,this.KubernetesApplicationService=u,this.KubernetesEventService=m,this.KubernetesConfigurationTypes=p.KubernetesConfigurationTypes,this.KubernetesConfigMapService=o,this.KubernetesSecretService=l,this.onInit=this.onInit.bind(this),this.getConfigurationAsync=this.getConfigurationAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this),this.getApplications=this.getApplications.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.getConfigurationsAsync=this.getConfigurationsAsync.bind(this),this.updateConfiguration=this.updateConfiguration.bind(this),this.updateConfigurationAsync=this.updateConfigurationAsync.bind(this)}isSystemNamespace(){return f.default.isSystemNamespace(this.configuration.Namespace)}isSystemConfig(){return this.isSystemNamespace()||this.configuration.IsRegistrySecret}selectTab(e){this.LocalStorage.storeActiveTab(\"configuration\",e)}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}copyConfigurationValue(e){this.clipboard.copyText(this.formValues.Data[e].Value),v(\"#copyValueNotification_\"+e).show().fadeOut(2500)}isFormValid(){return this.formValues.IsSimple?this.formValues.Data.length>0&&this.state.isDataValid:this.state.isDataValid}async updateConfigurationAsync(){try{this.state.actionInProgress=!0,this.formValues.Type!==this.configuration.Type||this.formValues.ResourcePool.Namespace.Name!==this.configuration.Namespace||this.formValues.Name!==this.configuration.Name?(await this.KubernetesConfigurationService.create(this.formValues),await this.KubernetesConfigurationService.delete(this.configuration),this.Notifications.success(\"Configuration succesfully updated\"),this.$state.go(\"kubernetes.configurations.configuration\",{namespace:this.formValues.ResourcePool.Namespace.Name,name:this.formValues.Name},{reload:!0})):(await this.KubernetesConfigurationService.update(this.formValues,this.configuration),this.Notifications.success(\"Configuration succesfully updated\"),this.$state.reload(this.$state.current))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update configuration\")}finally{this.state.actionInProgress=!1}}updateConfiguration(){if(!this.configuration.Used)return this.$async(this.updateConfigurationAsync);{const e=this.configuration.Applications.length>1?\"s\":\"\";this.ModalService.confirmUpdate(`The changes will be propagated to ${this.configuration.Applications.length} running application${e}. Are you sure you want to update this configuration?`,(e=>{if(e)return this.$async(this.updateConfigurationAsync)}))}}async getConfigurationAsync(){try{this.state.configurationLoading=!0;const e=this.$transition$.params().name,t=this.$transition$.params().namespace,[n,a]=await Promise.allSettled([this.KubernetesConfigMapService.get(t,e),this.KubernetesSecretService.get(t,e)]);if(\"rejected\"===a.status&&403===a.reason.err.status)throw this.$state.go(\"kubernetes.configurations\"),new Error(\"Not authorized to edit secret\");return\"fulfilled\"===a.status?(this.configuration=g.default.secretToConfiguration(a.value),this.formValues.Data=a.value.Data):(this.configuration=g.default.configMapToConfiguration(n.value),this.formValues.Data=n.value.Data),this.formValues.ResourcePool=l()(this.resourcePools,(e=>e.Namespace.Name===this.configuration.Namespace)),this.formValues.Id=this.configuration.Id,this.formValues.Name=this.configuration.Name,this.formValues.Type=this.configuration.Type,this.oldDataYaml=this.formValues.DataYaml,this.configuration}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve configuration\")}finally{this.state.configurationLoading=!1}}getConfiguration(){return this.$async(this.getConfigurationAsync)}async getApplicationsAsync(e){try{this.state.applicationsLoading=!0;const t=await this.KubernetesApplicationService.get(e);this.configuration.Applications=m.default.getUsingApplications(this.configuration,t),m.default.setConfigurationUsed(this.configuration)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications\")}finally{this.state.applicationsLoading=!1}}getApplications(e){return this.$async(this.getApplicationsAsync,e)}hasEventWarnings(){return this.state.eventWarningCount}async getEventsAsync(e){try{this.state.eventsLoading=!0,this.events=await this.KubernetesEventService.get(e),this.events=s()(this.events,(e=>e.Involved.uid===this.configuration.Id)),this.state.eventWarningCount=h.default.warningCount(this.events)}catch(e){this.Notifications(\"Failure\",e,\"Unable to retrieve events\")}finally{this.state.eventsLoading=!1}}getEvents(e){return this.$async(this.getEventsAsync,e)}async getConfigurationsAsync(){try{this.configurations=await this.KubernetesConfigurationService.get()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve configurations\")}}getConfigurations(){return this.$async(this.getConfigurationsAsync)}tagUsedDataKeys(){const e=this.$transition$.params().name,t=r()(this.configuration.Applications.flatMap((t=>t.Env.filter((t=>t.valueFrom&&t.valueFrom.configMapKeyRef&&t.valueFrom.configMapKeyRef.name===e)).map((e=>e.name)))));this.formValues.Data=this.formValues.Data.map((e=>t.includes(e.Key)?{...e,Used:!0}:e))}async uiCanExit(){if(!this.formValues.IsSimple&&this.formValues.DataYaml!==this.oldDataYaml&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async onInit(){try{this.state={actionInProgress:!1,configurationLoading:!0,applicationsLoading:!0,eventsLoading:!0,showEditorTab:!1,viewReady:!1,eventWarningCount:0,activeTab:0,currentName:this.$state.$current.name,isDataValid:!0,isEditorDirty:!1},this.state.activeTab=this.LocalStorage.getActiveTab(\"configuration\"),this.formValues=new u.KubernetesConfigurationFormValues,this.resourcePools=await this.KubernetesResourcePoolService.get(),await this.getConfiguration()&&(await this.getApplications(this.configuration.Namespace),await this.getEvents(this.configuration.Namespace),await this.getConfigurations()),this.tagUsedDataKeys()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load view data\")}finally{this.state.viewReady=!0}this.$window.onbeforeunload=()=>{if(!this.formValues.IsSimple&&this.formValues.DataYaml!==this.oldDataYaml&&this.state.isEditorDirty)return\"\"}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"configuration\",0),this.state.isEditorDirty=!1}}b.$inject=[\"$async\",\"$state\",\"$window\",\"clipboard\",\"Notifications\",\"LocalStorage\",\"KubernetesConfigurationService\",\"KubernetesConfigMapService\",\"KubernetesSecretService\",\"KubernetesResourcePoolService\",\"ModalService\",\"KubernetesApplicationService\",\"KubernetesEventService\"],t.default=b,d().module(\"portainer.kubernetes\").controller(\"KubernetesConfigurationController\",b)},71244:function(e,t,n){\"use strict\";n.r(t);var a=n(83432),r=n.n(a),i=n(46545),s=n.n(i),o=n(67386),l=n.n(o),c=n(51235),d=n.n(c),u=n(44716),p=n.n(u),m=n(66539),g=n.n(m),h=n(41952),f=n.n(h),v=n(29274),b=n.n(v),y=n(86871),w=n(14917),x=n(27155),S=n(54241),C=n(62072),k=n(7506),$=n(26196);class A{constructor(e,t,n,a,r,i,s,o,l,c,d){this.$async=e,this.$state=t,this.$scope=n,this.Notifications=a,this.KubernetesStorageService=r,this.EndpointService=i,this.EndpointProvider=s,this.ModalService=o,this.KubernetesResourcePoolService=l,this.KubernetesIngressService=c,this.KubernetesMetricsService=d,this.IngressClassTypes=C.KubernetesIngressClassTypes,this.onInit=this.onInit.bind(this),this.configureAsync=this.configureAsync.bind(this),this.limitedFeature=$.tE.K8S_SETUP_DEFAULT,this.limitedFeatureAutoWindow=$.tE.HIDE_AUTO_UPDATE_WINDOW,this.onToggleAutoUpdate=this.onToggleAutoUpdate.bind(this),this.onChangeEnableResourceOverCommit=this.onChangeEnableResourceOverCommit.bind(this)}storageClassAvailable(){return this.StorageClasses&&this.StorageClasses.length>0}hasValidStorageConfiguration(){let e=!0;return f()(this.StorageClasses,(t=>{t.selected&&0===t.AccessModes.length&&(e=!1)})),e}addIngressClass(){this.formValues.IngressClasses.push(new x.KubernetesIngressClass),this.onChangeIngressClass()}restoreIngressClass(e){this.formValues.IngressClasses[e].NeedsDeletion=!1,this.onChangeIngressClass()}removeIngressClass(e){this.formValues.IngressClasses[e].IsNew?this.formValues.IngressClasses.splice(e,1):this.formValues.IngressClasses[e].NeedsDeletion=!0,this.onChangeIngressClass()}onChangeIngressClass(){const e=this.state.duplicates.ingressClasses,t=g()(this.formValues.IngressClasses,(e=>e.NeedsDeletion?void 0:e.Name)),n=S.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}onChangeIngressClassName(e){const t=this.formValues.IngressClasses[e];p()(t.Name,C.KubernetesIngressClassTypes.NGINX)?t.Type=C.KubernetesIngressClassTypes.NGINX:p()(t.Name,C.KubernetesIngressClassTypes.TRAEFIK)&&(t.Type=C.KubernetesIngressClassTypes.TRAEFIK),this.onChangeIngressClass()}hasTraefikIngress(){return d()(this.formValues.IngressClasses,{Type:this.IngressClassTypes.TRAEFIK})}onChangeEnableResourceOverCommit(e){this.$scope.$evalAsync((()=>{this.formValues.EnableResourceOverCommit=e,e&&(this.formValues.ResourceOverCommitPercentage=20)}))}assignFormValuesToEndpoint(e,t,n){e.Kubernetes.Configuration.StorageClasses=t,e.Kubernetes.Configuration.UseLoadBalancer=this.formValues.UseLoadBalancer,e.Kubernetes.Configuration.UseServerMetrics=this.formValues.UseServerMetrics,e.Kubernetes.Configuration.IngressClasses=n,e.Kubernetes.Configuration.RestrictDefaultNamespace=this.formValues.RestrictDefaultNamespace}transformFormValues(){const e=g()(this.StorageClasses,(e=>{if(e.selected){const t=new y.KubernetesStorageClass;return t.Name=e.Name,t.AccessModes=g()(e.AccessModes,\"Name\"),t.Provisioner=e.Provisioner,t.AllowVolumeExpansion=e.AllowVolumeExpansion,t}}));l()(e,void 0);const t=s()(g()(this.formValues.IngressClasses,(e=>e.NeedsDeletion?void 0:e)),void 0);return l()(t,void 0),[e,t]}async removeIngressesAcrossNamespaces(){const e=r()(this.formValues.IngressClasses,{NeedsDeletion:!0});if(!e.length)return;const t=[],n=this.EndpointProvider.endpointID();this.EndpointProvider.setEndpointID(this.endpoint.Id);try{const a=await this.KubernetesResourcePoolService.get(),i=r()(a,(e=>!k.default.isSystemNamespace(e.Namespace.Name)&&!k.default.isDefaultNamespace(e.Namespace.Name)));e.forEach((e=>{i.forEach((n=>{t.push(this.KubernetesIngressService.delete(n.Namespace.Name,e.Name))}))}))}finally{this.EndpointProvider.setEndpointID(n)}(await Promise.allSettled(t)).forEach((e=>{if(\"rejected\"==e.status&&404!=e.reason.err.status)throw e.reason}))}enableMetricsServer(){this.formValues.UseServerMetrics?(this.state.metrics.userClick=!0,this.state.metrics.pending=!0,this.KubernetesMetricsService.capabilities(this.endpoint.Id).then((()=>{this.state.metrics.isServerRunning=!0,this.state.metrics.pending=!1,this.formValues.UseServerMetrics=!0})).catch((()=>{this.state.metrics.isServerRunning=!1,this.state.metrics.pending=!1,this.formValues.UseServerMetrics=!1}))):(this.state.metrics.userClick=!1,this.formValues.UseServerMetrics=!1)}async configureAsync(){try{this.state.actionInProgress=!0;const[e,t]=this.transformFormValues();await this.removeIngressesAcrossNamespaces(),this.assignFormValuesToEndpoint(this.endpoint,e,t),await this.EndpointService.updateEndpoint(this.endpoint.Id,this.endpoint);const n=g()(e,(e=>{const t=d()(this.oldStorageClasses,{Name:e.Name});if(t)return this.KubernetesStorageService.patch(this.state.endpointId,t,e)}));await Promise.all(n);const a=this.EndpointProvider.endpoints(),r=d()(a,(e=>e.Id===this.endpoint.Id));r&&(this.assignFormValuesToEndpoint(r,e,t),this.EndpointProvider.setEndpoints(a)),this.Notifications.success(\"Configuration successfully applied\"),this.$state.go(\"portainer.home\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to apply configuration\")}finally{this.state.actionInProgress=!1}}configure(){if(!r()(this.formValues.IngressClasses,{NeedsDeletion:!0}).length)return this.$async(this.configureAsync);this.ModalService.confirmUpdate(\"Removing ingress controllers may cause applications to be unaccessible. All ingress configurations from affected applications will be removed.<br/><br/>Do you wish to continue?\",(e=>{if(e)return this.$async(this.configureAsync)}))}restrictDefaultToggledOn(){return this.formValues.RestrictDefaultNamespace&&!this.oldFormValues.RestrictDefaultNamespace}onToggleAutoUpdate(e){return this.$scope.$evalAsync((()=>{this.state.autoUpdateSettings.Enabled=e}))}async onInit(){this.state={actionInProgress:!1,displayConfigureClassPanel:{},viewReady:!1,endpointId:this.$state.params.id,duplicates:{ingressClasses:new w.KubernetesFormValidationReferences},metrics:{pending:!1,isServerRunning:!1,userClick:!1}},this.formValues={UseLoadBalancer:!1,UseServerMetrics:!1,IngressClasses:[],RestrictDefaultNamespace:!1};try{[this.StorageClasses,this.endpoint]=await Promise.all([this.KubernetesStorageService.get(this.state.endpointId),this.EndpointService.endpoint(this.state.endpointId)]),f()(this.StorageClasses,(e=>{e.availableAccessModes=new y.KubernetesStorageClassAccessPolicies;const t=d()(this.endpoint.Kubernetes.Configuration.StorageClasses,(t=>t.Name===e.Name));t&&(e.selected=!0,f()(t.AccessModes,(t=>{const n=d()(e.availableAccessModes,{Name:t});n&&(n.selected=!0)})))})),this.oldStorageClasses=b().copy(this.StorageClasses),this.formValues.UseLoadBalancer=this.endpoint.Kubernetes.Configuration.UseLoadBalancer,this.formValues.UseServerMetrics=this.endpoint.Kubernetes.Configuration.UseServerMetrics,this.formValues.RestrictDefaultNamespace=this.endpoint.Kubernetes.Configuration.RestrictDefaultNamespace,this.formValues.IngressClasses=g()(this.endpoint.Kubernetes.Configuration.IngressClasses,(e=>(e.IsNew=!1,e.NeedsDeletion=!1,e))),this.oldFormValues=Object.assign({},this.formValues)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environment configuration\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}A.$inject=[\"$async\",\"$state\",\"$scope\",\"Notifications\",\"KubernetesStorageService\",\"EndpointService\",\"EndpointProvider\",\"ModalService\",\"KubernetesResourcePoolService\",\"KubernetesIngressService\",\"KubernetesMetricsService\"],t.default=A,b().module(\"portainer.kubernetes\").controller(\"KubernetesConfigureController\",A)},15219:function(e,t,n){const a=n(38947);angular.module(\"portainer.kubernetes\").component(\"kubernetesDashboardView\",{templateUrl:a,controller:\"KubernetesDashboardController\",controllerAs:\"ctrl\",bindings:{endpoint:\"<\"}})},79581:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(83432),s=n.n(i),o=n(89858),l=n.n(o),c=n(29274),d=n.n(c),u=n(51780),p=n(7506),m=n(74808);class g{constructor(e,t,n,a,r,i,s,o,l){this.$async=e,this.Notifications=t,this.EndpointService=n,this.KubernetesResourcePoolService=a,this.KubernetesApplicationService=r,this.KubernetesConfigurationService=i,this.KubernetesVolumeService=s,this.Authentication=o,this.TagService=l,this.onInit=this.onInit.bind(this),this.getAll=this.getAll.bind(this),this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(){const e=this.Authentication.isAdmin(),t=this.endpoint.Kubernetes.Configuration.StorageClasses;this.showEnvUrl=this.endpoint.Type!==m.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&this.endpoint.Type!==m.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment;try{const[n,a,i,o,c]=await Promise.all([this.KubernetesResourcePoolService.get(),this.KubernetesApplicationService.get(),this.KubernetesConfigurationService.get(),this.KubernetesVolumeService.get(void 0,t),this.TagService.tags()]);this.applications=a,this.volumes=o,this.endpointTags=this.endpoint.TagIds.length?l()(s()(r()(this.endpoint.TagIds,(e=>{const t=c.find((t=>t.Id===e));return t?t.Name:\"\"})),Boolean),\", \"):\"-\",e?(this.pools=n,this.configurations=i):(this.pools=s()(n,(e=>!p.default.isSystemNamespace(e.Namespace.Name))),this.configurations=s()(i,(e=>!u.default.isSystemToken(e))))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load dashboard data\")}}getAll(){return this.$async(this.getAllAsync)}async onInit(){this.state={viewReady:!1},await this.getAll(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}g.$inject=[\"$async\",\"Notifications\",\"EndpointService\",\"KubernetesResourcePoolService\",\"KubernetesApplicationService\",\"KubernetesConfigurationService\",\"KubernetesVolumeService\",\"Authentication\",\"TagService\"],t.default=g,d().module(\"portainer.kubernetes\").controller(\"KubernetesDashboardController\",g)},36661:function(e,t,n){const a=n(32635);angular.module(\"portainer.kubernetes\").component(\"kubernetesDeployView\",{templateUrl:a,controller:\"KubernetesDeployController\",controllerAs:\"ctrl\",bindings:{endpoint:\"<\"}})},23322:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(4622),s=n.n(i),o=n(29274),l=n.n(o),c=n(65808),d=n.n(c),u=n(15964),p=n.n(u),m=n(20023),g=n(6253),h=n(56619),f=n(26951),v=n(20037);class b{constructor(e,t,n,a,r,i,s,o,l,c){this.$async=e,this.$state=t,this.$window=n,this.Authentication=a,this.ModalService=r,this.Notifications=i,this.KubernetesResourcePoolService=s,this.StackService=o,this.WebhookHelper=l,this.CustomTemplateService=c,this.DeployMethod=\"manifest\",this.isTemplateVariablesEnabled=v.aW,this.deployOptions=[(0,h.es)(\"method_kubernetes\",\"fa fa-cubes\",\"Kubernetes\",\"Kubernetes manifest format\",g.KubernetesDeployManifestTypes.KUBERNETES),(0,h.es)(\"method_compose\",\"fab fa-docker\",\"Compose\",\"docker-compose format\",g.KubernetesDeployManifestTypes.COMPOSE)],this.methodOptions=[(0,h.es)(\"method_repo\",\"fab fa-github\",\"Git Repository\",\"Use a git repository\",g.KubernetesDeployBuildMethods.GIT),(0,h.es)(\"method_editor\",\"fa fa-edit\",\"Web editor\",\"Use our Web editor\",g.KubernetesDeployBuildMethods.WEB_EDITOR),(0,h.es)(\"method_url\",\"fa fa-globe\",\"URL\",\"Specify a URL to a file\",g.KubernetesDeployBuildMethods.URL),(0,h.es)(\"method_template\",\"fa fa-rocket\",\"Custom Template\",\"Use a custom template\",g.KubernetesDeployBuildMethods.CUSTOM_TEMPLATE)],this.state={DeployType:g.KubernetesDeployManifestTypes.KUBERNETES,BuildMethod:g.KubernetesDeployBuildMethods.GIT,tabLogsDisabled:!0,activeTab:0,viewReady:!1,isEditorDirty:!1,templateId:null,template:null},this.formValues={StackName:\"\",RepositoryURL:\"\",RepositoryReferenceName:\"\",RepositoryAuthentication:!1,RepositoryUsername:\"\",RepositoryPassword:\"\",AdditionalFiles:[],ComposeFilePathInRepository:\"\",RepositoryAutomaticUpdates:!1,RepositoryMechanism:g.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:\"5m\",RepositoryWebhookURL:l.returnStackWebhookUrl(p()()),Variables:{}},this.ManifestDeployTypes=g.KubernetesDeployManifestTypes,this.BuildMethods=g.KubernetesDeployBuildMethods,this.onChangeTemplateId=this.onChangeTemplateId.bind(this),this.deployAsync=this.deployAsync.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.getNamespacesAsync=this.getNamespacesAsync.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this),this.buildAnalyticsProperties=this.buildAnalyticsProperties.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onChangeDeployType=this.onChangeDeployType.bind(this),this.onChangeTemplateVariables=this.onChangeTemplateVariables.bind(this)}onChangeTemplateVariables(e){this.onChangeFormValues({Variables:e}),this.renderTemplate()}renderTemplate(){if(!this.isTemplateVariablesEnabled)return;const e=(0,f.SM)(this.state.templateContent,this.formValues.Variables,this.state.template.Variables);this.onChangeFormValues({EditorContent:e})}buildAnalyticsProperties(){const e={type:function(e){switch(e){case g.KubernetesDeployBuildMethods.GIT:return\"git\";case g.KubernetesDeployBuildMethods.WEB_EDITOR:return\"web-editor\"}}(this.state.BuildMethod),format:function(e){switch(e){case g.KubernetesDeployManifestTypes.COMPOSE:return\"compose\";case g.KubernetesDeployManifestTypes.KUBERNETES:return\"manifest\"}}(this.state.DeployType),role:(t=this.Authentication.isAdmin(),t?\"admin\":\"standard\"),\"automatic-updates\":function(e,t){switch(e&&t){case g.RepositoryMechanismTypes.INTERVAL:return\"polling\";case g.RepositoryMechanismTypes.WEBHOOK:return\"webhook\";default:return\"off\"}}(this.formValues.RepositoryAutomaticUpdates,this.formValues.RepositoryMechanism)};var t;return this.state.BuildMethod===g.KubernetesDeployBuildMethods.GIT&&(e.auth=this.formValues.RepositoryAuthentication),{metadata:e}}onChangeMethod(e){this.state.BuildMethod=e}onChangeDeployType(e){this.state.DeployType=e,e==this.ManifestDeployTypes.COMPOSE?this.DeployMethod=\"compose\":this.DeployMethod=\"manifest\"}disableDeploy(){const e=this.state.BuildMethod===g.KubernetesDeployBuildMethods.GIT&&(!this.formValues.RepositoryURL||!this.formValues.FilePathInRepository||this.formValues.RepositoryAuthentication&&!this.formValues.RepositoryPassword)&&s()(this.formValues.Namespace),t=this.state.BuildMethod===g.KubernetesDeployBuildMethods.WEB_EDITOR&&s()(this.formValues.EditorContent)&&s()(this.formValues.Namespace),n=this.state.BuildMethod==g.KubernetesDeployBuildMethods.WEB_EDITOR.URL&&s()(this.formValues.ManifestURL),a=s()(this.formValues.Namespace);return!this.formValues.StackName||e||t||n||this.state.actionInProgress||a}onChangeFormValues(e){this.formValues={...this.formValues,...e}}onChangeTemplateId(e,t){return this.$async((async()=>{if(t&&(this.state.templateId!==e||this.state.template!==t)){this.state.templateId=e,this.state.template=t;try{const n=await this.CustomTemplateService.customTemplateFile(e);if(this.state.templateContent=n,this.onChangeFileContent(n),t.Variables&&t.Variables.length>0){const e=Object.fromEntries(t.Variables.map((e=>[e.name,\"\"])));this.onChangeTemplateVariables(e)}}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load template file\")}}}))}onChangeFileContent(e){this.formValues.EditorContent=e,this.state.isEditorDirty=!0}displayErrorLog(e){this.errorLog=d()(e),this.state.tabLogsDisabled=!1,this.state.activeTab=1}async deployAsync(){this.errorLog=\"\",this.state.actionInProgress=!0;try{let e,t=this.state.DeployType===this.ManifestDeployTypes.COMPOSE;switch(this.state.BuildMethod){case this.BuildMethods.GIT:e=g.KubernetesDeployRequestMethods.REPOSITORY;break;case this.BuildMethods.WEB_EDITOR:e=g.KubernetesDeployRequestMethods.STRING;break;case g.KubernetesDeployBuildMethods.CUSTOM_TEMPLATE:e=g.KubernetesDeployRequestMethods.STRING,t=!1;break;case this.BuildMethods.URL:e=g.KubernetesDeployRequestMethods.URL;break;default:throw new m.Z(\"Unable to determine build method\")}let n=\"\";n=this.formValues.namespace_toggle?\"\":this.formValues.Namespace;const a={ComposeFormat:t,Namespace:n,StackName:this.formValues.StackName};e===g.KubernetesDeployRequestMethods.REPOSITORY?(a.RepositoryURL=this.formValues.RepositoryURL,a.RepositoryReferenceName=this.formValues.RepositoryReferenceName,a.RepositoryAuthentication=!!this.formValues.RepositoryAuthentication,a.RepositoryAuthentication&&(a.RepositoryUsername=this.formValues.RepositoryUsername,a.RepositoryPassword=this.formValues.RepositoryPassword),a.ManifestFile=this.formValues.ComposeFilePathInRepository,a.AdditionalFiles=this.formValues.AdditionalFiles,this.formValues.RepositoryAutomaticUpdates&&(a.AutoUpdate={},this.formValues.RepositoryMechanism===g.RepositoryMechanismTypes.INTERVAL?a.AutoUpdate.Interval=this.formValues.RepositoryFetchInterval:this.formValues.RepositoryMechanism===g.RepositoryMechanismTypes.WEBHOOK&&(a.AutoUpdate.Webhook=this.formValues.RepositoryWebhookURL.split(\"/\").reverse()[0]))):e===g.KubernetesDeployRequestMethods.STRING?a.StackFileContent=this.formValues.EditorContent:a.ManifestURL=this.formValues.ManifestURL,await this.StackService.kubernetesDeploy(this.endpoint.Id,e,a),this.Notifications.success(\"Manifest successfully deployed\"),this.state.isEditorDirty=!1,this.$state.go(\"kubernetes.applications\")}catch(e){this.Notifications.error(\"Unable to deploy manifest\",e,\"Unable to deploy resources\"),this.displayErrorLog(e.err.data.details)}finally{this.state.actionInProgress=!1}}deploy(){return this.$async(this.deployAsync)}async getNamespacesAsync(){try{const e=await this.KubernetesResourcePoolService.get(),t=r()(e,\"Namespace\").sort(((e,t)=>\"default\"===e.Name?-1:\"default\"===t.Name?1:0));this.namespaces=t,this.namespaces.length>0&&(this.formValues.Namespace=this.namespaces[0].Name)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load namespaces data\")}}getNamespaces(){return this.$async(this.getNamespacesAsync)}async uiCanExit(){if(this.formValues.EditorContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}$onInit(){return this.$async((async()=>{if(this.formValues.namespace_toggle=!1,await this.getNamespaces(),this.$state.params.templateId){const e=parseInt(this.$state.params.templateId,10);e&&!Number.isNaN(e)&&(this.state.BuildMethod=g.KubernetesDeployBuildMethods.CUSTOM_TEMPLATE,this.state.templateId=e)}this.state.viewReady=!0,this.$window.onbeforeunload=()=>{if(this.formValues.EditorContent&&this.state.isEditorDirty)return\"\"}}))}$onDestroy(){this.state.isEditorDirty=!1}}b.$inject=[\"$async\",\"$state\",\"$window\",\"Authentication\",\"ModalService\",\"Notifications\",\"KubernetesResourcePoolService\",\"StackService\",\"WebhookHelper\",\"CustomTemplateService\"],t.default=b,l().module(\"portainer.kubernetes\").controller(\"KubernetesDeployController\",b)},28311:function(e,t,n){const a=n(9273);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourcePoolAccessView\",{templateUrl:a,controller:\"KubernetesResourcePoolAccessController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\",endpoint:\"<\"}})},38513:function(e,t,n){\"use strict\";n.r(t);var a=n(25445),r=n.n(a),i=n(46545),s=n.n(i),o=n(83432),l=n.n(o),c=n(29274),d=n.n(c),u=n(13978),p=n(93133),m=n(58007);class g{constructor(e,t,n,a,r,i,s){this.$async=e,this.$state=t,this.Notifications=n,this.KubernetesResourcePoolService=a,this.KubernetesConfigMapService=r,this.GroupService=i,this.AccessService=s,this.onInit=this.onInit.bind(this),this.authorizeAccessAsync=this.authorizeAccessAsync.bind(this),this.unauthorizeAccessAsync=this.unauthorizeAccessAsync.bind(this),this.unauthorizeAccess=this.unauthorizeAccess.bind(this)}initAccessConfigMap(e){return e.Name=u.KubernetesPortainerConfigMapConfigName,e.Namespace=u.KubernetesPortainerConfigMapNamespace,e.Data[u.KubernetesPortainerConfigMapAccessKey]={},e}async onInit(){const e=this.endpoint;this.state={actionInProgress:!1,viewReady:!1},this.formValues={multiselectOutput:[]};try{const t=this.$transition$.params().id;let[n,a]=await Promise.all([this.KubernetesResourcePoolService.get(t),this.KubernetesConfigMapService.getAccess(u.KubernetesPortainerConfigMapNamespace,u.KubernetesPortainerConfigMapConfigName)]);const r=await this.GroupService.group(e.GroupId),i=[],o=await this.AccessService.accesses(e,r,i);this.pool=n,0===a.Id&&(a=this.initAccessConfigMap(a)),a=m.default.parseJSONData(a),this.authorizedUsersAndTeams=[],this.accessConfigMap=a;const c=a.Data[u.KubernetesPortainerConfigMapAccessKey][t];c&&(this.authorizedUsersAndTeams=l()(o.authorizedUsersAndTeams,(e=>e instanceof p.UserAccessViewModel&&c.UserAccessPolicies?void 0!==c.UserAccessPolicies[e.Id]:!!(e instanceof p.TeamAccessViewModel&&c.TeamAccessPolicies)&&void 0!==c.TeamAccessPolicies[e.Id]))),this.availableUsersAndTeams=s()(o.authorizedUsersAndTeams,...this.authorizedUsersAndTeams)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve namespace information\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}async authorizeAccessAsync(){try{this.state.actionInProgress=!0;const e=r()(this.authorizedUsersAndTeams,this.formValues.multiselectOutput),t=m.default.modifiyNamespaceAccesses(d().copy(this.accessConfigMap),this.pool.Namespace.Name,e);await this.KubernetesConfigMapService.updateAccess(t),this.Notifications.success(\"Access successfully created\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create accesses\")}}authorizeAccess(){return this.$async(this.authorizeAccessAsync)}async unauthorizeAccessAsync(e){try{this.state.actionInProgress=!0;const t=s()(this.authorizedUsersAndTeams,...e),n=m.default.modifiyNamespaceAccesses(d().copy(this.accessConfigMap),this.pool.Namespace.Name,t);await this.KubernetesConfigMapService.updateAccess(n),this.Notifications.success(\"Access successfully removed\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove accesses\")}finally{this.state.actionInProgress=!1}}unauthorizeAccess(e){return this.$async(this.unauthorizeAccessAsync,e)}}g.$inject=[\"$async\",\"$state\",\"Notifications\",\"KubernetesResourcePoolService\",\"KubernetesConfigMapService\",\"GroupService\",\"AccessService\"],t.default=g,d().module(\"portainer.kubernetes\").controller(\"KubernetesResourcePoolAccessController\",g)},74474:function(e,t,n){\"use strict\";n.r(t),n.d(t,{storageClassSwitch:function(){return s}});var a=n(29274),r=n.n(a),i=n(10405);const s={templateUrl:n(87925),controller:i.default,bindings:{value:\"<\",onChange:\"<\",name:\"<\"}};r().module(\"portainer.kubernetes\").component(\"storageClassSwitch\",s)},10405:function(e,t,n){\"use strict\";n.r(t);var a=n(26196);class r{constructor(){this.featureId=a.tE.K8S_RESOURCE_POOL_STORAGE_QUOTA,this.handleChange=this.handleChange.bind(this)}handleChange(e){this.onChange(this.name,e)}}r.$inject=[],t.default=r},19777:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(83908);const s=n(28134);r().module(\"portainer.kubernetes\").component(\"kubernetesCreateResourcePoolView\",{templateUrl:s,controller:i.default,bindings:{endpoint:\"<\"}})},83908:function(e,t,n){\"use strict\";n.r(t);var a=n(51235),r=n.n(a),i=n(5777),s=n.n(i),o=n(44716),l=n.n(o),c=n(41952),d=n.n(c),u=n(83432),p=n.n(u),m=n(20810),g=n.n(m),h=n(74362),f=n.n(h),v=n(29500),b=n.n(v),y=n(47685),w=n(22229),x=n(16496),S=n(47086),C=n(54241),k=n(14917),$=n(62072),A=n(26196);class P{constructor(e,t,n,a,r,i,s,o,l){Object.assign(this,{$async:e,$state:t,$scope:n,Notifications:a,KubernetesNodeService:r,KubernetesResourcePoolService:i,KubernetesIngressService:s,Authentication:o,EndpointService:l}),this.IngressClassTypes=$.KubernetesIngressClassTypes,this.LBQuotaFeatureId=A.tE.K8S_RESOURCE_POOL_LB_QUOTA,this.onToggleStorageQuota=this.onToggleStorageQuota.bind(this),this.onToggleLoadBalancerQuota=this.onToggleLoadBalancerQuota.bind(this)}onToggleStorageQuota(e,t){this.$scope.$evalAsync((()=>{this.formValues.StorageClasses=this.formValues.StorageClasses.map((n=>n.Name!==e?n:{...n,Selected:t}))}))}onToggleLoadBalancerQuota(e){this.$scope.$evalAsync((()=>{this.formValues.UseLoadBalancersQuota=e}))}onChangeIngressHostname(){const e=this.state.duplicates.ingressHosts,t=f()(this.formValues.IngressClasses,\"Hosts\"),n=g()(t.map((e=>e.Host))),a=p()(n,(e=>!e.NeedsDeletion)),r=f()(this.allIngresses,\"Hosts\"),i=C.default.getDuplicates(a);d()(n,((e,t)=>{void 0!==e&&l()(r,e)&&(i[t]=e)}));const o={};let c=0;d()(this.formValues.IngressClasses,(e=>{o[e.IngressClass.Name]={},d()(e.Hosts,((t,n)=>{t.Host===i[c]&&(o[e.IngressClass.Name][n]=t.Host),c++}))})),e.refs=o,e.hasRefs=!1,s()(o,(t=>{Object.keys(t).length>0&&(e.hasRefs=!0)}))}addHostname(e){e.Hosts.push(new x.KubernetesResourcePoolIngressClassHostFormValue)}removeHostname(e,t){e.Hosts.splice(t,1),this.onChangeIngressHostname()}addAnnotation(e){e.Annotations.push(new x.KubernetesResourcePoolIngressClassAnnotationFormValue)}addRewriteAnnotation(e){e.IngressClass.Type===this.IngressClassTypes.NGINX&&e.Annotations.push(new x.KubernetesResourcePoolNginxRewriteAnnotationFormValue),e.IngressClass.Type===this.IngressClassTypes.TRAEFIK&&e.Annotations.push(new x.KubernetesResourcePoolTraefikRewriteAnnotationFormValue)}addUseregexAnnotation(e){e.Annotations.push(new x.KubernetesResourcePoolNginxUseregexAnnotationFormValue)}removeAnnotation(e,t){e.Annotations.splice(t,1)}isCreateButtonDisabled(){return this.state.actionInProgress||this.formValues.HasQuota&&!this.isQuotaValid()||this.state.isAlreadyExist||this.state.hasPrefixKube||this.state.duplicates.ingressHosts.hasRefs}onChangeName(){this.state.isAlreadyExist=void 0!==r()(this.resourcePools,(e=>e.Namespace.Name===this.formValues.Name)),this.state.hasPrefixKube=/^kube-/.test(this.formValues.Name)}isQuotaValid(){return!(this.state.sliderMaxCpu<this.formValues.CpuLimit||this.state.sliderMaxMemory<this.formValues.MemoryLimit||0===this.formValues.CpuLimit&&0===this.formValues.MemoryLimit)}checkDefaults(){this.formValues.CpuLimit<this.defaults.CpuLimit&&(this.formValues.CpuLimit=this.defaults.CpuLimit),this.formValues.MemoryLimit<w.default.megaBytesValue(this.defaults.MemoryLimit)&&(this.formValues.MemoryLimit=w.default.megaBytesValue(this.defaults.MemoryLimit))}createResourcePool(){return this.$async((async()=>{this.state.actionInProgress=!0;try{this.checkDefaults(),this.formValues.Owner=this.Authentication.getUserDetails().username,await this.KubernetesResourcePoolService.create(this.formValues),this.Notifications.success(\"Namespace successfully created\",this.formValues.Name),this.$state.go(\"kubernetes.resourcePools\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create namespace\")}finally{this.state.actionInProgress=!1}}))}getIngresses(){return this.$async((async()=>{try{this.allIngresses=await this.KubernetesIngressService.get()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve ingresses.\")}}))}getResourcePools(){return this.$async((async()=>{try{this.resourcePools=await this.KubernetesResourcePoolService.get()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve namespaces\")}}))}getRegistries(){return this.$async((async()=>{try{this.registries=await this.EndpointService.registries(this.endpoint.Id)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registries\")}}))}$onInit(){return this.$async((async()=>{try{const e=this.endpoint;this.defaults=y.KubernetesResourceQuotaDefaults,this.formValues=new x.KubernetesResourcePoolFormValues(this.defaults),this.formValues.EndpointId=this.endpoint.Id,this.formValues.HasQuota=!0,this.state={actionInProgress:!1,sliderMaxMemory:0,sliderMaxCpu:0,viewReady:!1,isAlreadyExist:!1,hasPrefixKube:!1,canUseIngress:e.Kubernetes.Configuration.IngressClasses.length,duplicates:{ingressHosts:new k.KubernetesFormValidationReferences},isAdmin:this.Authentication.isAdmin()};const t=await this.KubernetesNodeService.get();if(d()(t,(e=>{this.state.sliderMaxMemory+=b()(e.Memory),this.state.sliderMaxCpu+=e.CPU})),this.state.sliderMaxMemory=w.default.megaBytesValue(this.state.sliderMaxMemory),await this.getResourcePools(),this.state.canUseIngress){await this.getIngresses();const t=e.Kubernetes.Configuration.IngressClasses;this.formValues.IngressClasses=S.KubernetesIngressConverter.ingressClassesToFormValues(t)}d()(this.formValues.IngressClasses,(e=>{0===e.Hosts.length&&e.Hosts.push(new x.KubernetesResourcePoolIngressClassHostFormValue)})),await this.getRegistries()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load view data\")}finally{this.state.viewReady=!0}}))}}P.$inject=[\"$async\",\"$state\",\"$scope\",\"Notifications\",\"KubernetesNodeService\",\"KubernetesResourcePoolService\",\"KubernetesIngressService\",\"Authentication\",\"EndpointService\"],t.default=P},63009:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(83432),s=n.n(i);angular.module(\"portainer.kubernetes\").controller(\"KubernetesResourcePoolIngressesDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1}),this.onSettingsRepeaterChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Paths.length>0},this.hasExpandableItems=function(){return s()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,r()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=n.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},88952:function(e,t,n){const a=n(23932);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourcePoolIngressesDatatable\",{templateUrl:a,controller:\"KubernetesResourcePoolIngressesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\"}})},85146:function(e,t,n){const a=n(50856);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourcePoolView\",{templateUrl:a,controller:\"KubernetesResourcePoolController\",controllerAs:\"ctrl\",bindings:{endpoint:\"<\"}})},42310:function(e,t,n){\"use strict\";n.r(t);var a=n(51235),r=n.n(a),i=n(44716),s=n.n(i),o=n(41952),l=n.n(o),c=n(66539),d=n.n(c),u=n(83432),p=n.n(u),m=n(74362),g=n.n(m),h=n(46545),f=n.n(h),v=n(29274),b=n.n(v),y=n(29500),w=n.n(y),x=n(47685),S=n(22229),C=n(46685),k=n(52929),$=n(16496),A=n(47086),P=n(14917),I=n(54241),T=n(62072),N=n(57456),E=n(7506),R=n(26196);class D{constructor(e,t,n,a,r,i,s,o,l,c,d,u,p,m,g,h,f){Object.assign(this,{$async:e,$state:t,$scope:n,Authentication:a,Notifications:r,LocalStorage:i,EndpointService:s,ModalService:o,KubernetesNodeService:l,KubernetesMetricsService:c,KubernetesResourceQuotaService:d,KubernetesResourcePoolService:u,KubernetesEventService:p,KubernetesPodService:m,KubernetesApplicationService:g,KubernetesIngressService:h,KubernetesVolumeService:f}),this.IngressClassTypes=T.KubernetesIngressClassTypes,this.ResourceQuotaDefaults=x.KubernetesResourceQuotaDefaults,this.LBQuotaFeatureId=R.tE.K8S_RESOURCE_POOL_LB_QUOTA,this.StorageQuotaFeatureId=R.tE.K8S_RESOURCE_POOL_STORAGE_QUOTA,this.updateResourcePoolAsync=this.updateResourcePoolAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.onToggleLoadBalancersQuota=this.onToggleLoadBalancersQuota.bind(this),this.onToggleStorageQuota=this.onToggleStorageQuota.bind(this)}addAnnotation(e){e.Annotations.push(new $.KubernetesResourcePoolIngressClassAnnotationFormValue)}addRewriteAnnotation(e){e.IngressClass.Type===this.IngressClassTypes.NGINX&&e.Annotations.push(new $.KubernetesResourcePoolNginxRewriteAnnotationFormValue),e.IngressClass.Type===this.IngressClassTypes.TRAEFIK&&e.Annotations.push(new $.KubernetesResourcePoolTraefikRewriteAnnotationFormValue)}addUseregexAnnotation(e){e.Annotations.push(new $.KubernetesResourcePoolNginxUseregexAnnotationFormValue)}removeAnnotation(e,t){e.Annotations.splice(t,1),this.onChangeIngressHostname()}onToggleLoadBalancersQuota(e){return this.$scope.$evalAsync((()=>{this.formValues.UseLoadBalancersQuota=e}))}onToggleStorageQuota(e,t){this.$scope.$evalAsync((()=>{this.formValues.StorageClasses=this.formValues.StorageClasses.map((n=>n.Name!==e?n:{...n,Selected:t}))}))}onChangeIngressHostname(){const e=this.state.duplicates.ingressHosts,t=f()(this.allIngresses,...this.ingresses),n=g()(t,\"Hosts\"),a=g()(this.formValues.IngressClasses,\"Hosts\"),r=p()(a,{NeedsDeletion:!1}),i=d()(r,\"Host\"),o=I.default.getDuplicates(i);l()(i,((e,t)=>{void 0!==e&&s()(n,e)&&(o[t]=e)}));const c=Object.values(o);e.hasRefs=!1,l()(this.formValues.IngressClasses,(t=>{l()(t.Hosts,(t=>{s()(c,t.Host)&&!1===t.NeedsDeletion?(t.Duplicate=!0,e.hasRefs=!0):t.Duplicate=!1}))}))}addHostname(e){e.Hosts.push(new $.KubernetesResourcePoolIngressClassHostFormValue)}removeHostname(e,t){e.Hosts[t].IsNew?e.Hosts.splice(t,1):e.Hosts[t].NeedsDeletion=!0,this.onChangeIngressHostname()}restoreHostname(e){e.IsNew||(e.NeedsDeletion=!1)}selectTab(e){this.LocalStorage.storeActiveTab(\"resourcePool\",e)}isUpdateButtonDisabled(){return this.state.actionInProgress||this.formValues.HasQuota&&!this.isQuotaValid()||this.state.duplicates.ingressHosts.hasRefs}isQuotaValid(){return!(this.state.sliderMaxCpu<this.formValues.CpuLimit||this.state.sliderMaxMemory<this.formValues.MemoryLimit||0===this.formValues.CpuLimit&&0===this.formValues.MemoryLimit)}checkDefaults(){this.formValues.CpuLimit<x.KubernetesResourceQuotaDefaults.CpuLimit&&(this.formValues.CpuLimit=x.KubernetesResourceQuotaDefaults.CpuLimit),this.formValues.MemoryLimit<S.default.megaBytesValue(x.KubernetesResourceQuotaDefaults.MemoryLimit)&&(this.formValues.MemoryLimit=S.default.megaBytesValue(x.KubernetesResourceQuotaDefaults.MemoryLimit))}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}hasResourceQuotaBeenReduced(){if(this.formValues.HasQuota&&this.oldQuota){const e=this.formValues.CpuLimit,t=S.default.bytesValue(this.formValues.MemoryLimit);if(e<this.oldQuota.CpuLimit||t<this.oldQuota.MemoryLimit)return!0}return!1}async updateResourcePoolAsync(e,t){this.state.actionInProgress=!0;try{this.checkDefaults(),await this.KubernetesResourcePoolService.patch(e,t),this.Notifications.success(\"Namespace successfully updated\",this.pool.Namespace.Name),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create namespace\")}finally{this.state.actionInProgress=!1}}updateResourcePool(){const e=p()(this.formValues.IngressClasses,{WasSelected:!0,Selected:!1}),t=p()(this.registries,{WasChecked:!0,Checked:!1}),n=this.hasResourceQuotaBeenReduced(),a=0!==e.length,r=0!==t.length;if(!(n||a||r))return this.$async(this.updateResourcePoolAsync,this.savedFormValues,this.formValues);{const e={quota:'Reducing the quota assigned to an \"in-use\" namespace may have unintended consequences, including preventing running applications from functioning correctly and potentially even blocking them from running at all.',ingress:\"Deactivating ingresses may cause applications to be unaccessible. All ingress configurations from affected applications will be removed.\",registries:\"Some registries you removed might be used by one or more applications inside this environment. Removing the registries access could lead to a service interruption for these applications.\"},t=`${n?e.quota+\"<br/><br/>\":\"\"}\\n      ${a?e.ingress+\"<br/><br/>\":\"\"}\\n      ${r?e.registries+\"<br/><br/>\":\"\"}\\n      Do you wish to continue?`;this.ModalService.confirmUpdate(t,(e=>{if(e)return this.$async(this.updateResourcePoolAsync,this.savedFormValues,this.formValues)}))}}async confirmMarkUnmarkAsSystem(){const e=this.isSystem?\"Unmarking this namespace as system will allow non administrator users to manage it and the resources in contains depending on the access control settings. Are you sure?\":\"Marking this namespace as a system namespace will prevent non administrator users from managing it and the resources it contains. Are you sure?\";return new Promise((t=>{this.ModalService.confirmUpdate(e,t)}))}markUnmarkAsSystem(){return this.$async((async()=>{try{const e=this.$state.params.id;if(this.state.actionInProgress=!0,!await this.confirmMarkUnmarkAsSystem())return;await this.KubernetesResourcePoolService.toggleSystem(this.endpoint.Id,e,!this.isSystem),this.Notifications.success(\"Namespace successfully updated\",e),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create namespace\")}finally{this.state.actionInProgress=!1}}))}hasEventWarnings(){return this.state.eventWarningCount}getEvents(){return this.$async((async()=>{try{this.state.eventsLoading=!0,this.events=await this.KubernetesEventService.get(this.pool.Namespace.Name),this.state.eventWarningCount=k.default.warningCount(this.events)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve namespace related events\")}finally{this.state.eventsLoading=!1}}))}getApplications(){return this.$async((async()=>{try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get(this.pool.Namespace.Name),this.applications=d()(this.applications,(e=>{const t=S.default.computeResourceReservation(e.Pods);return e.CPU=t.CPU,e.Memory=t.Memory,e})),this.state.useServerMetrics&&await this.getResourceUsage(this.pool.Namespace.Name)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications.\")}finally{this.state.applicationsLoading=!1}}))}getIngresses(){return this.$async((async()=>{this.state.ingressesLoading=!0;try{const e=this.pool.Namespace.Name;this.allIngresses=await this.KubernetesIngressService.get(this.state.hasWriteAuthorization?\"\":e),this.ingresses=p()(this.allIngresses,{Namespace:e}),l()(this.ingresses,(t=>{t.Namespace=e,l()(t.Paths,(e=>{const t=r()(this.applications,{ServiceName:e.ServiceName});e.ApplicationName=t&&t.Name?t.Name:\"-\"}))}))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve ingresses.\")}finally{this.state.ingressesLoading=!1}}))}getRegistries(){return this.$async((async()=>{try{const e=this.$state.params.id;if(this.isAdmin)return this.registries=await this.EndpointService.registries(this.endpoint.Id),this.registries.forEach((t=>{t.RegistryAccesses&&t.RegistryAccesses[this.endpoint.Id]&&t.RegistryAccesses[this.endpoint.Id].Namespaces.includes(e)&&(t.Checked=!0,t.WasChecked=!0,this.formValues.Registries.push(t))})),void(this.selectedRegistries=this.formValues.Registries.map((e=>e.Name)).join(\", \"));const t=await this.EndpointService.registries(this.endpoint.Id,e);this.selectedRegistries=t.map((e=>e.Name)).join(\", \")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registries\")}}))}async getResourceUsage(e){try{const t=(await this.KubernetesMetricsService.getPods(e)).items.flatMap((e=>e.containers.map((e=>e.usage)))).reduce(((e,t)=>(e.CPU+=S.default.parseCPU(t.cpu),e.Memory+=S.default.megaBytesValue(t.memory),e)),new C.KubernetesResourceReservation);this.state.resourceUsage=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve namespace resource usage\")}}$onInit(){return this.$async((async()=>{try{this.isAdmin=this.Authentication.isAdmin(),this.state={actionInProgress:!1,sliderMaxMemory:0,sliderMaxCpu:0,cpuUsage:0,memoryUsage:0,resourceReservation:{CPU:0,Memory:0},activeTab:0,currentName:this.$state.$current.name,showEditorTab:!1,eventsLoading:!0,applicationsLoading:!0,ingressesLoading:!0,viewReady:!1,eventWarningCount:0,canUseIngress:this.endpoint.Kubernetes.Configuration.IngressClasses.length,useServerMetrics:this.endpoint.Kubernetes.Configuration.UseServerMetrics,duplicates:{ingressHosts:new P.KubernetesFormValidationReferences}},this.state.activeTab=this.LocalStorage.getActiveTab(\"resourcePool\");const e=this.$state.params.id,[t,n]=await Promise.all([this.KubernetesNodeService.get(),this.KubernetesResourcePoolService.get()]);this.pool=r()(n,{Namespace:{Name:e}}),this.formValues=new $.KubernetesResourcePoolFormValues(x.KubernetesResourceQuotaDefaults),this.formValues.Name=this.pool.Namespace.Name,this.formValues.EndpointId=this.endpoint.Id,this.formValues.IsSystem=this.pool.Namespace.IsSystem,l()(t,(e=>{this.state.sliderMaxMemory+=w()(e.Memory),this.state.sliderMaxCpu+=e.CPU})),this.state.sliderMaxMemory=S.default.megaBytesValue(this.state.sliderMaxMemory);const a=this.pool.Quota;if(a&&(this.oldQuota=b().copy(a),this.formValues=N.default.quotaToResourcePoolFormValues(a),this.formValues.EndpointId=this.endpoint.Id,this.state.resourceReservation.CPU=a.CpuLimitUsed,this.state.resourceReservation.Memory=S.default.megaBytesValue(a.MemoryLimitUsed)),this.isSystem=E.default.isSystemNamespace(this.pool.Namespace.Name),this.isDefaultNamespace=E.default.isDefaultNamespace(this.pool.Namespace.Name),this.isEditable=!this.isSystem&&!this.isDefaultNamespace,await this.getEvents(),await this.getApplications(),this.state.canUseIngress){await this.getIngresses();const e=this.endpoint.Kubernetes.Configuration.IngressClasses;this.formValues.IngressClasses=A.KubernetesIngressConverter.ingressClassesToFormValues(e,this.ingresses),l()(this.formValues.IngressClasses,(e=>{0===e.Hosts.length&&e.Hosts.push(new $.KubernetesResourcePoolIngressClassHostFormValue)}))}await this.getRegistries(),this.savedFormValues=b().copy(this.formValues)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load view data\")}finally{this.state.viewReady=!0}}))}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"resourcePool\",0)}}D.$inject=[\"$async\",\"$state\",\"$scope\",\"Authentication\",\"Notifications\",\"LocalStorage\",\"EndpointService\",\"ModalService\",\"KubernetesNodeService\",\"KubernetesMetricsService\",\"KubernetesResourceQuotaService\",\"KubernetesResourcePoolService\",\"KubernetesEventService\",\"KubernetesPodService\",\"KubernetesApplicationService\",\"KubernetesIngressService\",\"KubernetesVolumeService\"],t.default=D,b().module(\"portainer.kubernetes\").controller(\"KubernetesResourcePoolController\",D)},7134:function(e,t,n){const a=n(78268);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourcePoolsView\",{templateUrl:a,controller:\"KubernetesResourcePoolsController\",controllerAs:\"ctrl\",bindings:{endpoint:\"<\"}})},39502:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);class i{constructor(e,t,n,a,r){this.$async=e,this.$state=t,this.Notifications=n,this.ModalService=a,this.KubernetesResourcePoolService=r,this.onInit=this.onInit.bind(this),this.getResourcePools=this.getResourcePools.bind(this),this.getResourcePoolsAsync=this.getResourcePoolsAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.KubernetesResourcePoolService.delete(n),this.Notifications.success(\"Namespace successfully removed\",n.Namespace.Name);const e=this.resourcePools.indexOf(n);this.resourcePools.splice(e,1)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove namespace\")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion(\"Do you want to remove the selected namespace(s)? All the resources associated to the selected namespace(s) will be removed too.\",(t=>{if(t)return this.$async(this.removeActionAsync,e)}))}async getResourcePoolsAsync(){try{this.resourcePools=await this.KubernetesResourcePoolService.get()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retreive namespaces\")}}getResourcePools(){return this.$async(this.getResourcePoolsAsync)}async onInit(){this.state={viewReady:!1},await this.getResourcePools(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}i.$inject=[\"$async\",\"$state\",\"Notifications\",\"ModalService\",\"KubernetesResourcePoolService\"],t.default=i,r().module(\"portainer.kubernetes\").controller(\"KubernetesResourcePoolsController\",i)},9981:function(e,t,n){const a=n(88336);angular.module(\"portainer.kubernetes\").component(\"kubernetesStackLogsView\",{templateUrl:a,controller:\"KubernetesStackLogsController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},39554:function(e,t,n){\"use strict\";n.r(t);var a=n(55743),r=n.n(a),i=n(83432),s=n.n(i),o=n(66539),l=n.n(o),c=n(74362),d=n.n(c),u=n(29274),p=n.n(u),m=n(67808);const g=[\"red\",\"orange\",\"lime\",\"green\",\"darkgreen\",\"cyan\",\"turquoise\",\"teal\",\"deepskyblue\",\"blue\",\"darkblue\",\"slateblue\",\"magenta\",\"darkviolet\"];class h{constructor(e,t,n,a,r,i,s,o){this.$async=e,this.$state=t,this.$interval=n,this.Notifications=a,this.KubernetesApplicationService=r,this.KubernetesPodService=i,this.Blob=o,this.FileSaver=s,this.onInit=this.onInit.bind(this),this.stopRepeater=this.stopRepeater.bind(this),this.generateLogsPromise=this.generateLogsPromise.bind(this),this.generateAppPromise=this.generateAppPromise.bind(this),this.getStackLogsAsync=this.getStackLogsAsync.bind(this)}updateAutoRefresh(){this.state.autoRefresh?this.setUpdateRepeater():this.stopRepeater()}stopRepeater(){p().isDefined(this.repeater)&&(this.$interval.cancel(this.repeater),this.repeater=null)}setUpdateRepeater(){this.repeater=this.$interval(this.getStackLogsAsync,this.state.refreshRate)}async generateLogsPromise(e,t){const n={Pod:e,Logs:[]};return n.Logs=await this.KubernetesPodService.logs(e.Namespace,e.Name,t.Name),n}async generateAppPromise(e){const t={Application:e,Pods:[]},n=d()(l()(e.Pods,(e=>l()(e.Containers,(t=>this.generateLogsPromise(e,t)))))),a=await(0,m.default)(n);return t.Pods=a.fulfilled,t}async getStackLogsAsync(){try{const e=await this.KubernetesApplicationService.get(this.state.transition.namespace),t=s()(e,(e=>e.StackName===this.state.transition.name)),n=l()(t,this.generateAppPromise),a=await Promise.all(n),r=d()(a,((e,t)=>d()(e.Pods,(e=>l()(e.Logs,(n=>({Color:g[t%g.length],Line:n,AppName:e.Pod.Name})))))));this.stackLogs=r}catch(e){this.stopRepeater(),this.Notifications.error(\"Failure\",e,\"Unable to retrieve application logs\")}}downloadLogs(){const e=new this.Blob([this.dataLogs=r()(this.stackLogs,((e,t)=>e+\"\\n\"+t.AppName+\" \"+t.Line),\"\")]);this.FileSaver.saveAs(e,this.state.transition.name+\"_logs.txt\")}async onInit(){this.state={autoRefresh:!1,refreshRate:3e4,search:\"\",viewReady:!1,transition:{namespace:this.$transition$.params().namespace,name:this.$transition$.params().name}},this.stackLogs=[];try{await this.getStackLogsAsync()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve stack logs\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.stopRepeater()}}h.$inject=[\"$async\",\"$state\",\"$interval\",\"Notifications\",\"KubernetesApplicationService\",\"KubernetesPodService\",\"FileSaver\",\"Blob\"],t.default=h,p().module(\"portainer.kubernetes\").controller(\"KubernetesStackLogsController\",h)},45233:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return x}});var a=n(51235),r=n.n(a),i=n(39212),s=n(14917),o=n(59238),l=n(91920),c=n(12745),d=n(79990),u=n(7172),p=n(1239),m=n(41247),g=n(10293),h=n(86998),f=n(47086),v=n(56636);const{CREATE:b,UPDATE:y,DELETE:w}=i.KubernetesResourceActions;function x(e,t={}){if(t instanceof s.KubernetesApplicationFormValues){const n=function(e,t){const n=[],[a,s,o,c,h]=g.default.applicationFormValuesToApplication(e),[x,A,P,I,T]=g.default.applicationFormValuesToApplication(t),N=C(a);if(N!==C(x)){n.push({action:w,kind:N,name:a.Name}),c&&o&&n.push({action:w,kind:i.KubernetesResourceTypes.SERVICE,name:c.Name,type:c.Type||d.KubernetesServiceTypes.CLUSTER_IP});const e=S(t);return n.push(...e),n}if(x instanceof l.KubernetesStatefulSet){const e=$(s,A);e&&n.push(e)}else{const e=T.map((e=>{return e.PreviousName||e.Id?e.Id?void 0:(t=r()(h,{Name:e.PreviousName}),n=e,v.default.patchPayload(t,n).length?{action:y,kind:i.KubernetesResourceTypes.PERSISTENT_VOLUME_CLAIM,name:t.Name}:null):{action:b,kind:i.KubernetesResourceTypes.PERSISTENT_VOLUME_CLAIM,name:e.Name};var t,n})).filter((e=>e));n.push(...e)}if(n.push({action:y,kind:N,name:a.Name}),o&&P){const a=$(o,P);if(null!==a&&a.forEach((e=>{n.push(e)})),t.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS||e.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS){const a=f.KubernetesIngressConverter.applicationFormValuesToIngresses(e,c.Name),r=f.KubernetesIngressConverter.applicationFormValuesToIngresses(t,I.Name);n.push(...k(a,r))}}else if(!c&&I){if(n.push({action:b,kind:i.KubernetesResourceTypes.SERVICE,name:I.Name,type:I.Type||d.KubernetesServiceTypes.CLUSTER_IP}),t.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS){const e=f.KubernetesIngressConverter.applicationFormValuesToIngresses(t,I.Name);n.push(...k(t.OriginalIngresses,e))}}else if(c&&!I&&(n.push({action:w,kind:i.KubernetesResourceTypes.SERVICE,name:c.Name,type:c.Type||d.KubernetesServiceTypes.CLUSTER_IP}),e.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS)){const a=f.KubernetesIngressConverter.applicationFormValuesToIngresses(t,c.Name);n.push(...k(e.OriginalIngresses,a))}const E=p.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(x),R=m.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(t,E);if(e.AutoScaler.IsUsed){const r=p.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(a),s=m.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,r);if(t.AutoScaler.IsUsed){const e=(D=s,O=R,m.KubernetesHorizontalPodAutoScalerConverter.patchPayload(D,O).length?{action:y,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:D.Name}:null);e&&n.push(e)}else n.push({action:w,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:s.Name})}else t.AutoScaler.IsUsed&&n.push({action:b,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:R.Name});var D,O;return n}(t,e);return n}return S(e)}function S(e){const t=[];let[n,a,r,s,o]=g.default.applicationFormValuesToApplication(e);if(r&&r.forEach((n=>{if(t.push({action:b,kind:i.KubernetesResourceTypes.SERVICE,name:n.Name,type:n.Type||d.KubernetesServiceTypes.CLUSTER_IP}),0!==e.OriginalIngresses.length){const a=f.KubernetesIngressConverter.newApplicationFormValuesToIngresses(e,n.Name,n.Ports);t.push(...k(e.OriginalIngresses,a))}})),s&&(t.push({action:b,kind:i.KubernetesResourceTypes.SERVICE,name:s.Name,type:s.Type||d.KubernetesServiceTypes.CLUSTER_IP}),e.PublishingType===u.KubernetesApplicationPublishingTypes.INGRESS)){const n=f.KubernetesIngressConverter.applicationFormValuesToIngresses(e,s.Name);t.push(...k(e.OriginalIngresses,n))}if(n instanceof l.KubernetesStatefulSet)t.push({action:b,kind:i.KubernetesResourceTypes.SERVICE,name:a.Name,type:a.Type||d.KubernetesServiceTypes.CLUSTER_IP});else{const e=o.filter((e=>!e.PreviousName&&!e.Id)).map((e=>({action:b,kind:i.KubernetesResourceTypes.PERSISTENT_VOLUME_CLAIM,name:e.Name})));t.push(...e)}if(e.AutoScaler.IsUsed&&e.DeploymentType!==u.KubernetesApplicationDeploymentTypes.GLOBAL){const a=p.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(n),r=m.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,a);t.push({action:b,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:r.Name})}const c=C(n);return null!==c&&t.push({action:b,kind:c,name:n.Name}),t}function C(e){return e instanceof o.KubernetesDeployment||e instanceof u.KubernetesApplication&&e.ApplicationType===u.KubernetesApplicationTypes.DEPLOYMENT?i.KubernetesResourceTypes.DEPLOYMENT:e instanceof c.KubernetesDaemonSet||e instanceof u.KubernetesApplication&&e.ApplicationType===u.KubernetesApplicationTypes.DAEMONSET?i.KubernetesResourceTypes.DAEMONSET:e instanceof l.KubernetesStatefulSet||e instanceof u.KubernetesApplication&&e.ApplicationType===u.KubernetesApplicationTypes.STATEFULSET?i.KubernetesResourceTypes.STATEFULSET:null}function k(e,t){return t.map((t=>{return n=r()(e,{Name:t.Name}),a=t,f.KubernetesIngressConverter.patchPayload(n,a).length?{action:y,kind:i.KubernetesResourceTypes.INGRESS,name:n.Name}:null;var n,a})).filter((e=>e))}function $(e,t){let n=[];return e.Headless||(t.forEach((t=>{const a=r()(e,{Name:t.Name});if(a){if(h.default.patchPayload(a,t).length){const e={action:y,kind:i.KubernetesResourceTypes.SERVICE,name:a.Name,type:a.Type||d.KubernetesServiceTypes.CLUSTER_IP};n.push(e)}}else{const e=new d.KubernetesService;if(h.default.patchPayload(e,t).length){const e={action:b,kind:i.KubernetesResourceTypes.SERVICE,name:t.Name,type:t.Type||d.KubernetesServiceTypes.CLUSTER_IP};n.push(e)}}})),e.forEach((e=>{if(!r()(t,{Name:e.Name})){const t={action:w,kind:i.KubernetesResourceTypes.SERVICE,name:e.Name,type:e.Type||d.KubernetesServiceTypes.CLUSTER_IP};n.push(t)}}))),0!==n.length?n:null}},3310:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return o}});var a=n(39212),r=n(82434);const{CREATE:i,UPDATE:s}=a.KubernetesResourceActions;function o(e){const t=e.Id?s:i;return e.Type===r.KubernetesConfigurationTypes.CONFIGMAP?[{action:t,kind:a.KubernetesResourceTypes.CONFIGMAP,name:e.Name}]:e.Type===r.KubernetesConfigurationTypes.SECRET?[{action:t,kind:a.KubernetesResourceTypes.SECRET,name:e.Name}]:void 0}},60953:function(e,t,n){\"use strict\";n.r(t),n.d(t,{getResourcesSummary:function(){return v}});var a=n(44716),r=n.n(a),i=n(83432),s=n.n(i),o=n(32461),l=n.n(o),c=n(61977),d=n.n(c),u=n(34901),p=n(39212);function m(e,t){return d()(e,t,\"Name\")}function g(e,t){return d()(t,e,\"Name\")}function h(e,t){return l()(e,t,((e,t)=>e.Name==t.Name&&!function(e,t){let n=u.qu(e,t);return n=s()(n,(e=>!r()(e.path,\"$$hashKey\")&&!r()(e.path,\"Duplicate\"))),!n.length}(e,t)))}function f(e,t,n,a,r){return r(e,t).map((e=>({name:e.Name,action:a,kind:n})))}function v(e,t,n){return Array.isArray(e)||(e=e?[e]:[],t=t?[t]:[]),[...f(e,t,n,p.KubernetesResourceActions.CREATE,m),...f(e,t,n,p.KubernetesResourceActions.UPDATE,h),...f(e,t,n,p.KubernetesResourceActions.DELETE,g)]}},49113:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return l}});var a=n(57911),r=n(16496),i=n(47685),s=n(39212),o=n(60953);function l(e,t){const[n,l,c]=a.default.formValuesToResourcePool(e);t instanceof r.KubernetesResourcePoolFormValues||(t=new r.KubernetesResourcePoolFormValues(i.KubernetesResourceQuotaDefaults));const[d,u,p]=a.default.formValuesToResourcePool(t);return[...(0,o.getResourcesSummary)(n,d,s.KubernetesResourceTypes.NAMESPACE),...(0,o.getResourcesSummary)(l,u,s.KubernetesResourceTypes.RESOURCEQUOTA),...(0,o.getResourcesSummary)(c,p,s.KubernetesResourceTypes.INGRESS)]}},21099:function(e,t,n){const a=n(17648);angular.module(\"portainer.kubernetes\").component(\"kubernetesSummaryView\",{templateUrl:a,controller:\"KubernetesSummaryController\",controllerAs:\"$ctrl\",bindings:{formValues:\"<\",oldFormValues:\"<\"}})},69861:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(30578),s=n(16496),o=n(14917),l=n(39212),c=n(45233),d=n(49113),u=n(3310);class p{constructor(e,t,n){this.LocalStorage=t,this.KubernetesResourcePoolService=n,this.toggleSummary=this.toggleSummary.bind(this),this.generateResourceSummaryList=this.generateResourceSummaryList.bind(this),e.$watch(\"$ctrl.formValues\",(e=>{this.state.resources=this.generateResourceSummaryList(r().copy(e))}),!0)}getArticle(e,t){let n=\"a\";return t===l.KubernetesResourceActions.CREATE?e===l.KubernetesResourceTypes.INGRESS&&(n=\"an\"):n=\"the\",n}toggleSummary(){this.state.expandedTemplate=!this.state.expandedTemplate,this.LocalStorage.storeKubernetesSummaryToggle(this.state.expandedTemplate)}generateResourceSummaryList(e){const t=this.oldFormValues;return e instanceof i.KubernetesConfigurationFormValues?(0,u.default)(e):e instanceof s.KubernetesResourcePoolFormValues?(0,d.default)(e,t):e instanceof o.KubernetesApplicationFormValues?(this.state.limits={cpu:e.CpuLimit,memory:e.MemoryLimit},(0,c.default)(e,t)):[]}$onInit(){const e=this.LocalStorage.getKubernetesSummaryToggle(),t=\"boolean\"!=typeof e||e;this.state={expandedTemplate:t,resources:[],limits:{cpu:null,memory:null}}}}p.$inject=[\"$scope\",\"LocalStorage\",\"KubernetesResourcePoolService\"],t.default=p,r().module(\"portainer.kubernetes\").controller(\"KubernetesSummaryController\",p)},70302:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(83432),s=n.n(i);angular.module(\"portainer.kubernetes\").controller(\"KubernetesVolumesStoragesDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1}),this.onSettingsRepeaterChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Volumes.length>0},this.hasExpandableItems=function(){return s()(this.state.filteredDataSet,(e=>this.itemCanExpand(e))).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,r()(this.state.filteredDataSet,(e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)}))},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=n.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},1502:function(e,t,n){const a=n(71894);angular.module(\"portainer.kubernetes\").component(\"kubernetesVolumesStoragesDatatable\",{templateUrl:a,controller:\"KubernetesVolumesStoragesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\"}})},61158:function(e,t,n){const a=n(86604);angular.module(\"portainer.kubernetes\").component(\"kubernetesVolumeView\",{templateUrl:a,controller:\"KubernetesVolumeController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\",endpoint:\"<\"}})},52962:function(e,t,n){\"use strict\";n.r(t);var a=n(83432),r=n.n(a),i=n(66539),s=n.n(i),o=n(55332),l=n.n(o),c=n(29274),d=n.n(c),u=n(29500),p=n.n(u),m=n(11507),g=n(52929),h=n(86871),f=n(7506);class v{constructor(e,t,n,a,r,i,s,o,l,c){this.$async=e,this.$state=t,this.Notifications=n,this.LocalStorage=a,this.KubernetesVolumeService=r,this.KubernetesEventService=i,this.KubernetesApplicationService=s,this.KubernetesPersistentVolumeClaimService=o,this.ModalService=l,this.KubernetesPodService=c,this.onInit=this.onInit.bind(this),this.getVolume=this.getVolume.bind(this),this.getVolumeAsync=this.getVolumeAsync.bind(this),this.updateVolumeAsync=this.updateVolumeAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab(\"volume\",e)}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}isExternalVolume(){return m.default.isExternalVolume(this.volume)}isSystemNamespace(){return f.default.isSystemNamespace(this.volume.ResourcePool.Namespace.Name)}isUsed(){return m.default.isUsed(this.volume)}onChangeSize(){if(this.state.volumeSize){const e=p()(this.state.volumeSize+this.state.volumeSizeUnit,{base:10});this.state.oldVolumeSize>e?this.state.errors.volumeSize=!0:this.state.errors.volumeSize=!1}}sizeIsValid(){return!this.state.errors.volumeSize&&this.state.volumeSize&&this.state.oldVolumeSize!==p()(this.state.volumeSize+this.state.volumeSizeUnit,{base:10})}async updateVolumeAsync(e){try{if(this.volume.PersistentVolumeClaim.Storage=this.state.volumeSize+this.state.volumeSizeUnit.charAt(0),await this.KubernetesPersistentVolumeClaimService.patch(this.oldVolume.PersistentVolumeClaim,this.volume.PersistentVolumeClaim),this.Notifications.success(\"Volume successfully updated\"),e){const e=l()(s()(this.volume.Applications,(e=>s()(e.Pods,(e=>this.KubernetesPodService.delete(e))))));await Promise.all(e),this.Notifications.success(\"Applications successfully redeployed\")}this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update volume.\")}}updateVolume(){if(!m.default.isUsed(this.volume))return this.$async(this.updateVolumeAsync,!1);this.ModalService.confirmRedeploy(\"One or multiple applications are currently using this volume.</br> For the change to be taken into account these applications will need to be redeployed. Do you want us to reschedule it now?\",(e=>this.$async(this.updateVolumeAsync,e)))}async getVolumeAsync(){const e=this.endpoint.Kubernetes.Configuration.StorageClasses;try{const[t,n]=await Promise.all([this.KubernetesVolumeService.get(this.state.namespace,e,this.state.name),this.KubernetesApplicationService.get(this.state.namespace)]);t.Applications=m.default.getUsingApplications(t,n),this.volume=t,this.oldVolume=d().copy(t),this.state.volumeSize=parseInt(t.PersistentVolumeClaim.Storage.slice(0,-2),10),this.state.volumeSizeUnit=t.PersistentVolumeClaim.Storage.slice(-2),this.state.oldVolumeSize=p()(t.PersistentVolumeClaim.Storage,{base:10})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve volume\")}}getVolume(){return this.$async(this.getVolumeAsync)}hasEventWarnings(){return this.state.eventWarningCount}async getEventsAsync(){try{this.state.eventsLoading=!0;const e=await this.KubernetesEventService.get(this.state.namespace);this.events=r()(e,(e=>e.Involved.uid===this.volume.PersistentVolumeClaim.Id)),this.state.eventWarningCount=g.default.warningCount(this.events)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application related events\")}finally{this.state.eventsLoading=!1}}getEvents(){return this.$async(this.getEventsAsync)}async onInit(){this.state={activeTab:0,currentName:this.$state.$current.name,showEditorTab:!1,eventsLoading:!0,viewReady:!1,namespace:this.$transition$.params().namespace,name:this.$transition$.params().name,eventWarningCount:0,availableSizeUnits:[\"MB\",\"GB\",\"TB\"],increaseSize:!1,volumeSize:0,volumeSizeUnit:\"GB\",volumeSharedAccessPolicy:\"\",volumeSharedAccessPolicyTooltip:\"\",errors:{volumeSize:!1}},this.state.activeTab=this.LocalStorage.getActiveTab(\"volume\");try{await this.getVolume(),await this.getEvents(),void 0!==this.volume.PersistentVolumeClaim.StorageClass&&(this.state.volumeSharedAccessPolicy=this.volume.PersistentVolumeClaim.StorageClass.AccessModes[this.volume.PersistentVolumeClaim.StorageClass.AccessModes.length-1],(0,h.KubernetesStorageClassAccessPolicies)().forEach((e=>{e.Name==this.state.volumeSharedAccessPolicy&&(this.state.volumeSharedAccessPolicyTooltip=e.Description)})))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load view data\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"volume\",0)}}v.$inject=[\"$async\",\"$state\",\"Notifications\",\"LocalStorage\",\"KubernetesVolumeService\",\"KubernetesEventService\",\"KubernetesApplicationService\",\"KubernetesPersistentVolumeClaimService\",\"ModalService\",\"KubernetesPodService\"],t.default=v,d().module(\"portainer.kubernetes\").controller(\"KubernetesVolumeController\",v)},49633:function(e,t,n){const a=n(44e3);angular.module(\"portainer.kubernetes\").component(\"kubernetesVolumesView\",{templateUrl:a,controller:\"KubernetesVolumesController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\",endpoint:\"<\"}})},64539:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(37336),s=n.n(i),o=n(83432),l=n.n(o),c=n(41952),d=n.n(c),u=n(29500),p=n.n(u),m=n(29274),g=n.n(m),h=n(11507),f=n(21458);class v{constructor(e,t,n,a,r,i,s,o,l){this.$async=e,this.$state=t,this.Notifications=n,this.Authentication=a,this.ModalService=r,this.LocalStorage=i,this.KubernetesStorageService=s,this.KubernetesVolumeService=o,this.KubernetesApplicationService=l,this.onInit=this.onInit.bind(this),this.getVolumes=this.getVolumes.bind(this),this.getVolumesAsync=this.getVolumesAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab(\"volumes\",e)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.KubernetesVolumeService.delete(n),this.Notifications.success(\"Volume successfully removed\",n.PersistentVolumeClaim.Name);const e=this.volumes.indexOf(n);this.volumes.splice(e,1)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove volume\")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion(\"Do you want to remove the selected volume(s)?\",(t=>{if(t)return this.$async(this.removeActionAsync,e)}))}async getVolumesAsync(){const e=this.endpoint.Kubernetes.Configuration.StorageClasses;try{const[t,n,a]=await Promise.all([this.KubernetesVolumeService.get(void 0,e),this.KubernetesApplicationService.get(),this.KubernetesStorageService.get(this.endpoint.Id)]);this.volumes=r()(t,(e=>(e.Applications=h.default.getUsingApplications(e,n),e))),this.storages=function(e,t){return d()(e,(e=>{const n=l()(t,[\"PersistentVolumeClaim.StorageClass.Name\",e.Name,\"PersistentVolumeClaim.StorageClass.Provisioner\",e.Provisioner]);e.Volumes=n,e.Size=function(e){const t=s()(e,(e=>p()(e.PersistentVolumeClaim.Storage,{base:10}))),n=f.default.formatBytes(t);return`${n.Size}${n.SizeUnit}`}(n)})),e}(a,t)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retreive namespaces\")}}getVolumes(){return this.$async(this.getVolumesAsync)}async onInit(){this.state={viewReady:!1,currentName:this.$state.$current.name,activeTab:this.LocalStorage.getActiveTab(\"volumes\"),isAdmin:this.Authentication.isAdmin()},await this.getVolumes(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"volumes\",0)}}v.$inject=[\"$async\",\"$state\",\"Notifications\",\"Authentication\",\"ModalService\",\"LocalStorage\",\"KubernetesStorageService\",\"KubernetesVolumeService\",\"KubernetesApplicationService\"],t.default=v,g().module(\"portainer.kubernetes\").controller(\"KubernetesVolumesController\",v)},63924:function(){const e=window._paq=window._paq||[];e.push([\"enableLinkTracking\"]),e.push([\"setTrackerUrl\",\"https://portainer-ce.matomo.cloud/matomo.php\"]),e.push([\"setSiteId\",\"1\"]);var t=document,n=t.createElement(\"script\"),a=t.getElementsByTagName(\"script\")[0];n.type=\"text/javascript\",n.async=!0,n.src=\"//cdn.matomo.cloud/portainer-ce.matomo.cloud/matomo.js\",a.parentNode.insertBefore(n,a)},51192:function(e,t,n){\"use strict\";n.r(t);var a=n(44716),r=n.n(a),i=(n(35552),n(60748)),s=n(1221),o=(n(20493),n(29274)),l=n.n(o),c=(n(28001),n(62341),n(82459),n(42240),n(77236),n(47771),n(33262),n(66076),n(83161)),d=n.n(c),u=(n(92429),n(66549),n(65562),n(50033),n(23405),n(77072),n(59886),n(98191),n(24378),n(78433),n(26196)),p=n(20037);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var g=\"limitedFeature\",h=l().module(\"portainer.feature-flags\",[]).directive(\"limitedFeatureDir\",(function(){return{restrict:\"A\",link:function(e,t,n){var a=n.limitedFeatureDir;if(a){var r=Object.keys(n).filter((function(e){return e.startsWith(g)&&e!==\"\".concat(g,\"Dir\")})).map((function(e){return[d()(e.replace(g,\"\")),n[e]]})),i=(0,p.RU)(a);i!==u.CQ.HIDDEN?i!==u.CQ.VISIBLE&&r.forEach((function(e){var n,a,r=(a=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(n,a)||function(e,t){if(e){if(\"string\"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(n,a)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),i=r[0],s=r[1],o=void 0===s?i:s,l=t.attr(i)||\"\";t.attr(i,\"\".concat(l,\" \").concat(o).trim())})):t.hide()}}}})).name,f=n(45347),v=n(96664),b=l().module(\"portainer.app.services.api\",[]).factory(\"UserService\",v.UserService).name,y=n(46021),w=n(43695),x=n.n(w),S=n(53062),C=n.n(S),k=n(46980),$=n(77918);function A(e){var t=x()(e);C().dialog({message:'<img src=\"'.concat(t,'\" style=\"width:100%\" />'),className:\"image-zoom-modal\",onEscape:!0})}var P=n(50477),I=l().module(\"portainer.app.services\",[b]).factory(\"Notifications\",y.Tx).factory(\"ModalService\",(function(){return{enlargeImage:A,confirmWebEditorDiscard:k.ir,confirmAsync:k.l9,confirm:k.iG,confirmImageForceRemoval:k.sv,cancelRegistryRepositoryAction:k.no,confirmDeletion:k.DP,confirmDetachment:k.pM,confirmDisassociate:k.dY,confirmUpdate:k.HW,confirmRedeploy:k.Do,confirmDeletionAsync:k.Id,confirmContainerRecreation:$.N8,confirmChangePassword:k.Q8,confirmImageExport:k.ZX,confirmServiceForceUpdate:$.Kf,confirmStackUpdate:$.o$,selectRegistry:$.G0,confirmContainerDeletion:$.A7,confirmKubeconfigSelection:$.l2,confirmForceChangePassword:k.ob}})).factory(\"HttpRequestHelper\",P.$r).name,T=n(66960),N=n(26256),E=n(18480),R=n(90635),D=n(87869),O=n(54866),V=n(56268),U=n(88606),j=n(2629),F=(0,T.A)((function(e){var t=e.users,n=e.teams,a=e.onSubmit;return(0,j.jsx)(\"div\",{className:\"row\",children:(0,j.jsx)(\"div\",{className:\"col-lg-12 col-md-12 col-xs-12\",children:(0,j.jsxs)(R.$L,{children:[(0,j.jsx)(R.PI,{icon:\"fa-plus\",title:\"Add a new team\"}),(0,j.jsx)(R.kh,{children:(0,j.jsx)(N.J9,{initialValues:{name:\"\",leaders:[]},validationSchema:function(){return function(e){return(0,U.Ry)().shape({name:(0,U.Z_)().required(\"This field is required.\").test(\"is-unique\",\"This team already exists.\",(function(t){return!!t&&e.every((function(e){return e.Name!==t}))})),leaders:(0,U.IX)().of((0,U.Rx)())})}(n)},onSubmit:a,validateOnMount:!0,children:function(e){var n=e.values,a=e.errors,r=e.handleSubmit,i=e.setFieldValue,s=e.isSubmitting,o=e.isValid;return(0,j.jsxs)(N.l0,{className:\"form-horizontal\",onSubmit:r,noValidate:!0,children:[(0,j.jsx)(E.N,{inputId:\"team_name\",label:\"Name\",errors:a.name,children:(0,j.jsx)(N.gN,{as:D.I,name:\"name\",id:\"team_name\",required:!0,placeholder:\"e.g. development\",\"data-cy\":\"team-teamNameInput\"})}),t.length>0&&(0,j.jsx)(E.N,{inputId:\"users-input\",label:\"Select team leader(s)\",tooltip:\"You can assign one or more leaders to this team. Team leaders can manage their teams users and resources.\",errors:a.leaders,children:(0,j.jsx)(O.f,{value:n.leaders,onChange:function(e){return i(\"leaders\",e)},users:t,dataCy:\"team-teamLeaderSelect\",inputId:\"users-input\",placeholder:\"Select one or more team leaders\"})}),(0,j.jsx)(\"div\",{className:\"form-group\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsxs)(V.f,{disabled:!o,dataCy:\"team-createTeamButton\",isLoading:s,loadingText:\"Creating team...\",children:[(0,j.jsx)(\"i\",{className:\"fa fa-plus space-right\",\"aria-hidden\":\"true\"}),\"Create team\"]})})})]})}})})]})})})}),[\"users\",\"onSubmit\",\"teams\"]),L=l().module(\"portainer.app.teams\",[]).component(\"createTeamForm\",F).name,_=(n(5434),n(15845),n(7974),n(89024),n(78495),n(95004)),M=n(39532),K=n(48625),B=n(73817);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var G=n(23945),z=n(75698),q=n(50265),W=(n(57592),\"app-portainer-components-datatables-components-FilterSearchBar-module__searchBar\");function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Q(e){var t=e.value,n=e.placeholder,a=void 0===n?\"Search...\":n,r=e.onChange;return(0,j.jsxs)(\"div\",{className:W,children:[(0,j.jsx)(\"span\",{className:\"app-portainer-components-datatables-components-FilterSearchBar-module__iconSpan\",children:(0,j.jsx)(\"i\",{className:\"fa fa-search\",\"aria-hidden\":\"true\"})}),(0,j.jsx)(\"span\",{className:\"app-portainer-components-datatables-components-FilterSearchBar-module__textSpan\",children:(0,j.jsx)(\"input\",{type:\"text\",className:\"searchInput\",value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return r(e.target.value)})),placeholder:a})})]})}function Z(e){var t,n,a=function(e){return\"datatable_text_filter_\".concat(e)}(e),r=(t=(0,B._)(a,\"\",sessionStorage),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}());return[r[0],r[1]]}var J=n(69100),X=\"app-portainer-components-datatables-components-SortbySelector-module__sort-by-element\";function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function te(e){var t,n,a=e.filterOptions,r=e.onChange,i=e.onDescending,s=e.placeHolder,o=e.sortByDescending,l=e.sortByButton,c=e.value,d=\"fa fa-sort-alpha-down\",u=(t=(0,_.useState)(d),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),p=u[0],m=u[1];return(0,_.useEffect)((function(){m(o?\"fa fa-sort-alpha-up\":d)}),[o]),(0,j.jsxs)(\"div\",{className:\"app-portainer-components-datatables-components-SortbySelector-module__sort-by-container\",children:[(0,j.jsx)(\"div\",{className:X,children:(0,j.jsx)(J.P,{placeholder:s,options:a,onChange:function(e){return r(e)},isClearable:!0,value:c})}),(0,j.jsx)(\"div\",{className:X,children:(0,j.jsx)(\"button\",{className:\"app-portainer-components-datatables-components-SortbySelector-module__sort-button\",type:\"button\",disabled:!l,onClick:function(e){e.preventDefault(),i()},children:(0,j.jsx)(\"i\",{className:p})})})]})}n(47097),n(62176);var ne=n(39533);function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){var t=e.isSelected,n=e.label;return(0,j.jsx)(\"div\",{children:(0,j.jsxs)(ne.c.Option,ie(ie({},e),{},{children:[(0,j.jsx)(\"input\",{type:\"checkbox\",checked:t,onChange:function(){return null}}),\" \",(0,j.jsx)(\"label\",{children:n})]}))})}function le(e){var t=e.filterOptions,n=e.onChange,a=e.placeHolder,r=e.value;return(0,j.jsx)(J.P,{placeholder:a,options:t,value:r,isMulti:!0,components:{Option:oe},onChange:function(e){return n(e)}})}function ce(e,t){var n,a,r=function(e){return\"datatable_home_filter_type_\".concat(e)}(e),i=(n=(0,B._)(r,JSON.stringify(t),sessionStorage),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(n,a)||function(e,t){if(e){if(\"string\"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(n,a)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),s=i[0],o=i[1],l=function(e,t){try{return JSON.parse(e)}catch(e){return t}}(s,t);return[l,function(e){o(JSON.stringify(e))}]}var de=n(15362),ue=n(90476),pe=n(73903),me=n(86064),ge=n(22589),he=n(51641),fe=n(53347),ve=(n(40958),n(50527),n(6811));function be(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){be(i,a,r,s,o,\"next\",e)}function o(e){be(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function we(){return(we=ye(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.ZP.get(Ce());case 3:return t=e.sent,n=t.data,e.abrupt(\"return\",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,ve.vs)(e.t0,\"Unable to retrieve tags\");case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function xe(e){return Se.apply(this,arguments)}function Se(){return(Se=ye(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.ZP.post(Ce(),{name:t});case 3:return n=e.sent,a=n.data,e.abrupt(\"return\",a);case 8:throw e.prev=8,e.t0=e.catch(0),(0,ve.vs)(e.t0,\"Unable to create tag\");case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Ce(e){var t=\"/tags\";return e&&(t+=\"/\".concat(e)),t}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Pe={all:[\"tags\"],tag:function(e){return[].concat(function(e){if(Array.isArray(e))return Ae(e)}(t=Pe.all)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(t)||function(e,t){if(e){if(\"string\"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}(),[e]);var t}};function Ie(e){var t=(0,he.useQuery)(Pe.all,(function(){return function(){return we.apply(this,arguments)}()}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({staleTime:50,select:e},(0,fe.AQ)(\"Failed to retrieve tags\")));return{tags:t.data,isLoading:t.isLoading}}var Te=n(20810),Ne=n.n(Te),Ee=(n(99230),n(41066)),Re=n(57941),De=n(64062),Oe=n(69962),Ve=n(51070),Ue=n(94233);function je(e){var t=e.type;switch(t){case G.Qj.EdgeAgentOnDocker:return(0,j.jsx)(\"img\",{src:Oe,alt:\"docker edge endpoint\",\"aria-hidden\":\"true\"});case G.Qj.KubernetesLocal:case G.Qj.AgentOnKubernetes:return(0,j.jsx)(\"img\",{src:Ve,alt:\"kubernetes endpoint\",\"aria-hidden\":\"true\"});case G.Qj.EdgeAgentOnKubernetes:return(0,j.jsx)(\"img\",{src:Ue,alt:\"kubernetes edge endpoint\",\"aria-hidden\":\"true\"});default:return(0,j.jsx)(\"i\",{className:(0,M.Z)(\"fa-4x\",\"blue-icon\",(0,Ee.environmentTypeIcon)(t)),\"aria-hidden\":\"true\"})}}var Fe=n(63504);function Le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\".concat(t,\"s\");return[1,-1].includes(Number(e))?t:n}function _e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\".concat(t,\"s\");return\"\".concat(e,\" \").concat(Le(e,t,n))}function Me(e){var t=e.value,n=e.icon,a=e.children;return(0,j.jsxs)(\"span\",{children:[(0,j.jsx)(\"i\",{className:(0,M.Z)(\"fa  space-right\",n),\"aria-hidden\":\"true\"}),(0,j.jsx)(\"span\",{children:t}),a&&(0,j.jsx)(\"span\",{className:\"space-left\",children:a})]})}function Ke(e){var t=e.snapshots,n=void 0===t?[]:t,a=e.type;if(0===n.length)return(0,j.jsx)(\"div\",{className:\"blocklist-item-line endpoint-item\",children:(0,j.jsx)(\"span\",{className:\"blocklist-item-desc\",children:\"No snapshot available\"})});var r=n[0];return(0,j.jsxs)(\"div\",{className:\"blocklist-item-line endpoint-item\",children:[(0,j.jsxs)(\"span\",{className:\"blocklist-item-desc space-x-4\",children:[(0,j.jsx)(Me,{value:_e(r.StackCount,\"stack\"),icon:\"fa-th-list\"}),!!r.Swarm&&(0,j.jsx)(Me,{value:_e(r.ServiceCount,\"service\"),icon:\"fa-list-alt\"}),(0,j.jsx)(Be,{running:r.RunningContainerCount,stopped:r.StoppedContainerCount,healthy:r.HealthyContainerCount,unhealthy:r.UnhealthyContainerCount}),(0,j.jsx)(Me,{value:_e(r.VolumeCount,\"volume\"),icon:\"fa-hdd\"}),(0,j.jsx)(Me,{value:_e(r.ImageCount,\"image\"),icon:\"fa-clone\"})]}),(0,j.jsxs)(\"span\",{className:\"small text-muted space-x-3\",children:[(0,j.jsx)(\"span\",{children:r.Swarm?\"Swarm\":\"Standalone\"}),(0,j.jsx)(\"span\",{children:r.DockerVersion}),a===G.Qj.AgentOnDocker&&(0,j.jsxs)(\"span\",{children:[\"+ \",(0,j.jsx)(\"i\",{className:\"fa fa-bolt\",\"aria-hidden\":\"true\"}),\" Agent\"]}),r.Swarm&&(0,j.jsx)(Me,{value:_e(r.NodeCount,\"node\"),icon:\"fa-hdd\"})]})]})}function Be(e){var t=e.running,n=e.stopped,a=e.healthy,r=e.unhealthy,i=t+n;return(0,j.jsx)(Me,{value:_e(i,\"container\"),icon:\"fa-cubes\",children:i>0&&(0,j.jsxs)(\"span\",{className:\"space-x-2\",children:[(0,j.jsx)(\"span\",{children:\"-\"}),(0,j.jsx)(Me,{value:t,icon:\"fa-power-off green-icon\"}),(0,j.jsx)(Me,{value:n,icon:\"fa-power-off red-icon\"}),(0,j.jsx)(\"span\",{children:\"/\"}),(0,j.jsx)(Me,{value:a,icon:\"fa-heartbeat green-icon\"}),(0,j.jsx)(Me,{value:r,icon:\"fa-heartbeat orange-icon\"})]})})}function He(e){var t=e.snapshots,n=void 0===t?[]:t;if(0===n.length)return(0,j.jsx)(\"div\",{className:\"blocklist-item-line endpoint-item\",children:(0,j.jsx)(\"span\",{className:\"blocklist-item-desc\",children:\"No snapshot available\"})});var a=n[0];return(0,j.jsxs)(\"div\",{className:\"blocklist-item-line endpoint-item\",children:[(0,j.jsxs)(\"span\",{className:\"blocklist-item-desc space-x-4\",children:[(0,j.jsx)(Me,{icon:\"fa-microchip\",value:\"\".concat(a.TotalCPU,\" CPU\")}),(0,j.jsx)(Me,{icon:\"fa-memory\",value:\"\".concat((0,Ee.humanize)(a.TotalMemory),\" RAM\")})]}),(0,j.jsxs)(\"span\",{className:\"small text-muted space-x-3\",children:[(0,j.jsxs)(\"span\",{children:[\"Kubernetes \",a.KubernetesVersion]}),(0,j.jsx)(Me,{value:_e(a.NodeCount,\"node\"),icon:\"fa-hdd\"})]})]})}function Ge(e){var t=e.environment;switch((0,Re.vJ)(t.Type)){case G.zh.Kubernetes:return(0,j.jsx)(He,{snapshots:t.Kubernetes.Snapshots||[]});case G.zh.Docker:return(0,j.jsx)(Ke,{snapshots:t.Snapshots,type:t.Type});default:return(0,j.jsx)(\"div\",{className:\"blocklist-item-line endpoint-item\",children:(0,j.jsx)(\"span\",{className:\"blocklist-item-desc\",children:\"-\"})})}}n(15363);function ze(e){var t=e.status;return(0,j.jsx)(\"span\",{className:(0,M.Z)(\"label\",\"label-\".concat(qe(t))),children:t===G.a2.Up?\"up\":\"down\"})}function qe(e){return e===G.a2.Down?\"danger\":\"success\"}function We(e){var t=e.environment,n=e.onClick,a=e.groupName,r=(0,q.cn)(),i=(0,Re.Mq)(t.Type),s=function(e){switch((0,Re.vJ)(e.Type)){case G.zh.Docker:return e.Snapshots.length>0?(0,Ee.isoDateFromTimestamp)(e.Snapshots[0].Time):null;case G.zh.Kubernetes:return e.Kubernetes.Snapshots&&e.Kubernetes.Snapshots.length>0?(0,Ee.isoDateFromTimestamp)(e.Kubernetes.Snapshots[0].Time):null;default:return null}}(t),o=function(e){var t=Ie((function(t){return e?Ne()(e.map((function(e){return t.find((function(t){return t.ID===e}))})).map((function(e){return null==e?void 0:e.Name}))):[]})),n=t.tags,a=t.isLoading;return n&&n.length>0?n.join(\", \"):a?\"Loading tags...\":\"No tags\"}(t.TagIds),l=function(e){if((0,Re.Mq)(e.Type)&&!e.EdgeID)return\"portainer.endpoints.endpoint\";switch((0,Re.vJ)(e.Type)){case G.zh.Azure:return\"azure.dashboard\";case G.zh.Docker:return\"docker.dashboard\";case G.zh.Kubernetes:return\"kubernetes.dashboard\";default:return\"\"}}(t);return(0,j.jsxs)(\"div\",{className:\"app-portainer-home-EnvironmentList-EnvironmentItem-EnvironmentItem-module__root\",children:[(0,j.jsx)(\"button\",{type:\"button\",color:\"link\",onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return n(t)})),className:\"app-portainer-home-EnvironmentList-EnvironmentItem-EnvironmentItem-module__wrapperButton\",children:(0,j.jsx)(De.r,{className:(0,M.Z)(\"blocklist-item\",\"app-portainer-home-EnvironmentList-EnvironmentItem-EnvironmentItem-module__item\"),to:l,params:{endpointId:t.Id,id:t.Id},children:(0,j.jsxs)(\"div\",{className:\"blocklist-item-box\",children:[(0,j.jsx)(\"span\",{className:(0,M.Z)(\"blocklist-item-logo\",\"endpoint-item\"),children:(0,j.jsx)(je,{type:t.Type})}),(0,j.jsxs)(\"span\",{className:\"col-sm-12\",children:[(0,j.jsxs)(\"div\",{className:\"blocklist-item-line endpoint-item\",children:[(0,j.jsxs)(\"span\",{children:[(0,j.jsx)(\"span\",{className:\"blocklist-item-title endpoint-item\",children:t.Name}),(0,j.jsx)(\"span\",{className:\"space-left blocklist-item-subtitle\",children:i?(0,j.jsx)(Fe.x,{environment:t,showLastCheckInDate:!0}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ze,{status:t.Status}),(0,j.jsx)(\"span\",{className:\"space-left small text-muted\",children:s})]})})]}),a&&(0,j.jsxs)(\"span\",{className:\"small space-right\",children:[(0,j.jsx)(\"span\",{children:\"Group: \"}),(0,j.jsx)(\"span\",{children:a})]})]}),(0,j.jsx)(Ge,{environment:t}),(0,j.jsxs)(\"div\",{className:\"blocklist-item-line endpoint-item\",children:[(0,j.jsxs)(\"span\",{className:\"small text-muted\",children:[(0,Re.gR)(t.Type)&&(0,j.jsxs)(\"span\",{children:[t.Snapshots.length>0&&(0,j.jsxs)(\"span\",{className:\"small text-muted\",children:[(0,j.jsx)(\"i\",{className:\"fa fa-microchip space-right\"}),t.Snapshots[0].TotalCPU,(0,j.jsx)(\"i\",{className:\"fa fa-memory space-left space-right\"}),(0,Ee.humanize)(t.Snapshots[0].TotalMemory)]}),(0,j.jsx)(\"span\",{className:\"space-left space-right\",children:\"-\"})]}),(0,j.jsxs)(\"span\",{children:[(0,j.jsx)(\"i\",{className:\"fa fa-tags space-right\",\"aria-hidden\":\"true\"}),o]})]}),!i&&(0,j.jsx)(\"span\",{className:\"small text-muted\",children:(0,Ee.stripProtocol)(t.URL)})]})]})]})})}),r&&(0,j.jsx)(De.r,{to:\"portainer.endpoints.endpoint\",params:{id:t.Id},className:\"app-portainer-home-EnvironmentList-EnvironmentItem-EnvironmentItem-module__edit-button\",children:(0,j.jsx)(z.zx,{color:\"link\",children:(0,j.jsx)(\"i\",{className:\"fa fa-pencil-alt\"})})})]})}var Ye=n(72205),Qe=n(71103);function Ze(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function Je(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){Ze(i,a,r,s,o,\"next\",e)}function o(e){Ze(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}var Xe=\"kubernetes\";function et(e){return tt.apply(this,arguments)}function tt(){return(tt=Je(regeneratorRuntime.mark((function e(t){var n,a,r,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.ZP.get(\"\".concat(Xe,\"/config\"),{params:{ids:JSON.stringify(t)},responseType:\"blob\",headers:{Accept:\"text/yaml\"}});case 3:n=e.sent,a=n.headers,r=n.data,i=a[\"content-disposition\"],s=i.replace(\"attachment;\",\"\").trim(),(0,Ye.saveAs)(r,s),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),(0,ve.vs)(e.t0,\"\");case 14:case\"end\":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function nt(){return at.apply(this,arguments)}function at(){return at=Je(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Qe.W7)();case 2:t=e.sent,n=\"Kubeconfig file will\",e.t0=t.KubeconfigExpiry,e.next=\"24h\"===e.t0?7:\"168h\"===e.t0?8:\"720h\"===e.t0?9:\"8640h\"===e.t0?10:(e.t0,11);break;case 7:return e.abrupt(\"return\",\"\".concat(n,\" expire in 1 day.\"));case 8:return e.abrupt(\"return\",\"\".concat(n,\" expire in 7 days.\"));case 9:return e.abrupt(\"return\",\"\".concat(n,\" expire in 30 days.\"));case 10:return e.abrupt(\"return\",\"\".concat(n,\" expire in 1 year.\"));case 11:return e.abrupt(\"return\",\"\".concat(n,\" not expire.\"));case 12:case\"end\":return e.stop()}}),e)}))),at.apply(this,arguments)}var rt=n(45119);function it(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function st(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){it(i,a,r,s,o,\"next\",e)}function o(e){it(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function ot(e){var t=e.environments;return t&&function(e){return\"https:\"===window.location.protocol&&e.some((function(e){return(0,Re.w5)(e.Type)}))}(t)?(0,j.jsxs)(z.zx,{onClick:function(){t&&((0,rt.L9)(\"kubernetes-kubectl-kubeconfig-multi\",{category:\"kubernetes\"}),function(e){lt.apply(this,arguments)}(t))},children:[(0,j.jsx)(\"i\",{className:\"fas fa-download space-right\"}),\" kubeconfig\"]}):null}function lt(){return lt=st(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filter((function(e){return(0,Re.w5)(e.Type)})),a=n.map((function(e){return{text:\"\".concat(e.Name,\" (\").concat(e.URL,\")\"),value:\"\".concat(e.Id)}})),r=\"\",e.prev=3,e.next=6,nt();case 6:r=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),y.vU(\"Failed fetching kubeconfig expiry time\",e.t0);case 12:(0,$.l2)(a,r,function(){var e=st(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=3;break}return y.Kp(\"No environment was selected\",\"\"),e.abrupt(\"return\");case 3:return e.prev=3,e.next=6,et(t.map((function(e){return parseInt(e,10)})));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),y.vU(\"Failed downloading kubeconfig file\",e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}());case 13:case\"end\":return e.stop()}}),e,null,[[3,9]])}))),lt.apply(this,arguments)}var ct=\"app-portainer-home-EnvironmentList-EnvironmentList-module__filter-left\",dt=n(40516),ut=n(83294);function pt(e){var t=e.isAdmin;return(0,j.jsx)(dt.$,{title:\"Information\",children:(0,j.jsx)(ut.a,{children:t?(0,j.jsxs)(\"span\",{children:[\"No environment available for management. Please head over the\",\" \",(0,j.jsx)(De.r,{to:\"portainer.wizard.endpoints\",children:\"environment wizard\"}),\" to add an environment.\"]}):(0,j.jsx)(\"span\",{children:\"You do not have access to any environment. Please contact your administrator.\"})})})}function mt(e){return function(e){if(Array.isArray(e))return ft(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(e)||ht(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||ht(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function ht(e,t){if(e){if(\"string\"==typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(e,t):void 0}}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var vt=[{value:G.Qj.Docker,label:\"Docker\"},{value:G.Qj.Azure,label:\"Azure\"},{value:G.Qj.KubernetesLocal,label:\"Kubernetes\"}],bt=[{value:G.a2.Up,label:\"Up\"},{value:G.a2.Down,label:\"Down\"}],yt=[{value:1,label:\"Name\"},{value:2,label:\"Group\"},{value:3,label:\"Status\"}],wt=\"home_endpoints\",xt=[G.Qj.Docker,G.Qj.AgentOnDocker,G.Qj.Azure,G.Qj.EdgeAgentOnDocker,G.Qj.KubernetesLocal,G.Qj.AgentOnKubernetes,G.Qj.EdgeAgentOnKubernetes];function St(e){var t,n,a,r,i=e.onClickItem,s=e.onRefresh,o=(0,q.cn)(),l=gt(ce(\"platformType\",xt),2),c=l[0],d=l[1],u=gt(Z(wt),2),p=u[0],m=u[1],g=gt((t=\"datatable_pagination_\".concat(\"home_endpoints\"),[(a=(0,B._)(t,10),r=2,n=function(e){if(Array.isArray(e))return e}(a)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(a,r)||function(e,t){if(e){if(\"string\"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(a,r)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}())[0],n[1]]),2),h=g[0],f=g[1],v=gt((0,_.useState)(1),2),b=v[0],y=v[1],w=(0,pe.N)(p),x=gt(ce(\"status\",[]),2),S=x[0],C=x[1],k=gt(ce(\"tag\",[]),2),$=k[0],A=k[1],P=gt(ce(\"group\",[]),2),I=P[0],T=P[1],N=gt(Z(\"sortBy\"),2),E=N[0],R=N[1],D=gt(ce(\"sortOrder\",!1),2),O=D[0],V=D[1],U=gt(ce(\"sortByButton\",!1),2),F=U[0],L=U[1],W=gt(ce(\"type_state\",[]),2),Y=W[0],J=W[1],X=gt(ce(\"status_state\",[]),2),ee=X[0],ne=X[1],ae=gt(ce(\"tag_state\",[]),2),re=ae[0],ie=ae[1],se=gt(ce(\"group_state\",[]),2),oe=se[0],he=se[1],fe=gt(ce(\"sortby_state\",void 0),2),ve=fe[0],be=fe[1],ye=(0,ge.X)(),we=(0,me.LH)({page:b,pageLimit:h,types:c,search:w,status:S,tagIds:null!=$&&$.length?$:void 0,groupIds:I,sort:E,order:O?\"desc\":\"asc\",edgeDeviceFilter:\"none\",tagsPartialMatch:!0},me.sb),xe=we.isLoading,Se=we.environments,Ce=we.totalCount,ke=we.totalAvailable;(0,_.useEffect)((function(){y(1)}),[p]);var $e=mt(ye.data||[]),Ae=mt(new Map($e.map((function(e){return[e.Id,e]}))).values()).map((function(e){return{value:e.Id,label:e.Name}})),Pe=mt(Ie().tags||[]),Te=mt(new Map(Pe.map((function(e){return[e.ID,e]}))).values()).map((function(e){return{value:e.ID,label:e.Name}}));return(0,j.jsxs)(j.Fragment,{children:[0===ke&&(0,j.jsx)(pt,{isAdmin:o}),(0,j.jsx)(\"div\",{className:\"row\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsxs)(de.xJ,{children:[(0,j.jsx)(de.lw,{icon:\"fa-plug\",label:\"Environments\"}),(0,j.jsxs)(de.p2,{className:\"app-portainer-home-EnvironmentList-EnvironmentList-module__actionBar\",children:[(0,j.jsxs)(\"div\",{className:\"app-portainer-home-EnvironmentList-EnvironmentList-module__description\",children:[(0,j.jsx)(\"i\",{className:\"fa fa-exclamation-circle blue-icon space-right\"}),\"Click on an environment to manage\"]}),(0,j.jsxs)(\"div\",{className:\"app-portainer-home-EnvironmentList-EnvironmentList-module__action-button\",children:[(0,j.jsx)(\"div\",{className:\"app-portainer-home-EnvironmentList-EnvironmentList-module__refresh-button\",children:o&&(0,j.jsxs)(z.zx,{onClick:s,\"data-cy\":\"home-refreshEndpointsButton\",className:(0,M.Z)(\"app-portainer-home-EnvironmentList-EnvironmentList-module__refresh-environments-button\"),children:[(0,j.jsx)(\"i\",{className:\"fa fa-sync space-right\",\"aria-hidden\":\"true\"}),\"Refresh\"]})}),(0,j.jsx)(\"div\",{className:\"app-portainer-home-EnvironmentList-EnvironmentList-module__kubeconfig-button\",children:(0,j.jsx)(ot,{environments:Se})}),(0,j.jsx)(\"div\",{className:\"app-portainer-home-EnvironmentList-EnvironmentList-module__filterSearchbar\",children:(0,j.jsx)(Q,{value:p,onChange:m,placeholder:\"Search by name, group, tag, status, URL...\",\"data-cy\":\"home-endpointsSearchInput\"})})]})]}),(0,j.jsxs)(\"div\",{className:\"app-portainer-home-EnvironmentList-EnvironmentList-module__filter-container\",children:[(0,j.jsx)(\"div\",{className:ct,children:(0,j.jsx)(le,{filterOptions:vt,onChange:function(e){J(e);var t=G.Qj.Docker,n=G.Qj.KubernetesLocal,a=[G.Qj.AgentOnDocker,G.Qj.EdgeAgentOnDocker],r=[G.Qj.AgentOnKubernetes,G.Qj.EdgeAgentOnKubernetes];if(0===e.length)d(xt);else{var i=e.map((function(e){return e.value}));i.includes(t)&&(i=[].concat(mt(i),a)),i.includes(n)&&(i=[].concat(mt(i),r)),d(i)}},placeHolder:\"Platform\",value:Y})}),(0,j.jsx)(\"div\",{className:ct,children:(0,j.jsx)(le,{filterOptions:bt,onChange:function(e){if(ne(e),0===e.length)C([]);else{var t=mt(new Set(e.map((function(e){return e.value}))));C(t)}},placeHolder:\"Status\",value:ee})}),(0,j.jsx)(\"div\",{className:ct,children:(0,j.jsx)(le,{filterOptions:Te,onChange:function(e){if(ie(e),0===e.length)A([]);else{var t=mt(new Set(e.map((function(e){return e.value}))));A(t)}},placeHolder:\"Tags\",value:re})}),(0,j.jsx)(\"div\",{className:ct,children:(0,j.jsx)(le,{filterOptions:Ae,onChange:function(e){if(he(e),0===e.length)T([]);else{var t=mt(new Set(e.map((function(e){return e.value}))));T(t)}},placeHolder:\"Groups\",value:oe})}),(0,j.jsx)(\"button\",{type:\"button\",className:\"app-portainer-home-EnvironmentList-EnvironmentList-module__clear-button\",onClick:function(){J([]),d(xt),ne([]),C([]),ie([]),A([]),he([]),T([])},children:\"Clear all\"}),(0,j.jsx)(\"div\",{className:\"app-portainer-home-EnvironmentList-EnvironmentList-module__filter-right\",children:(0,j.jsx)(te,{filterOptions:yt,onChange:function(e){null!==e?(R(e.label),L(!0),be(e)):(R(\"\"),L(!0),be(void 0))},onDescending:function(){V(!O)},placeHolder:\"Sort By\",sortByDescending:O,sortByButton:F,value:ve})})]}),(0,j.jsx)(\"div\",{className:\"blocklist\",\"data-cy\":\"home-endpointList\",children:Ct(xe,Ce,Se.map((function(e){var t,n;return(0,j.jsx)(We,{environment:e,groupName:null===(t=ye.data)||void 0===t||null===(n=t.find((function(t){return t.Id===e.GroupId})))||void 0===n?void 0:n.Name,onClick:i},e.Id)})))}),(0,j.jsx)(ue.y,{children:(0,j.jsx)(K.j,{showAll:Ce<=100,pageLimit:h,page:b,onPageChange:y,totalCount:Ce,onPageLimitChange:f})})]})})})]})}function Ct(e,t,n){return e?(0,j.jsx)(\"div\",{className:\"text-center text-muted\",\"data-cy\":\"home-loadingEndpoints\",children:\"Loading...\"}):t?n:(0,j.jsx)(\"div\",{className:\"text-center text-muted\",\"data-cy\":\"home-noEndpoints\",children:\"No environments available.\"})}var kt=(0,T.F)(St,[\"onClickItem\",\"onRefresh\"]),$t=n(89023),At=n(58852),Pt=n(31848);function It(){return(0,j.jsxs)(\"div\",{className:(0,M.Z)(\"row\",\"app-portainer-home-EdgeLoadingSpinner-module__root\"),children:[\"Connecting to the Edge environment...\",(0,j.jsx)(\"i\",{className:\"fa fa-cog fa-spin space-left\"})]})}var Tt,Nt,Et,Rt=n(81651),Dt=n.n(Rt),Ot=(n(25212),n(40443),n(75038)),Vt=n(44931);function Ut(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function jt(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){Ut(i,a,r,s,o,\"next\",e)}function o(e){Ut(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function Ft(){return(Ft=jt(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.ZP.get(\"/motd\");case 3:return t=e.sent,n=t.data,e.abrupt(\"return\",n);case 8:throw e.prev=8,e.t0=e.catch(0),(0,ve.vs)(e.t0,\"Unable to retrieve information message\");case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return Bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Ht(){var e=(0,he.useQuery)(\"motd\",(function(){return function(){return Ft.apply(this,arguments)}()})).data,t=Kt((0,Ot.J)(),2),n=t[0],a=t[1];return e&&\"\"!==e.Message&&e.Hash!==n.dismissedInfoHash?(0,j.jsxs)(j.Fragment,{children:[!!e.Style&&(0,j.jsx)(\"style\",{children:e.Style}),(0,j.jsx)(Vt.$,{onDismiss:function(){return t=e.Hash,void a(_t(_t({},n),{},{dismissedInfoHash:t}));var t},title:e.Title,wrapperStyle:Gt(e.ContentLayout),bodyClassName:\"motd-body\",children:(0,j.jsx)(\"span\",{className:\"text-muted\",children:(0,j.jsx)(\"p\",{dangerouslySetInnerHTML:{__html:e.Message}})})})]}):null}function Gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.fromEntries(Object.entries(e).map((function(e){var t=Kt(e,2),n=t[0],a=t[1];return[Dt()(n),a]})))}function zt(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function qt(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){zt(i,a,r,s,o,\"next\",e)}function o(e){zt(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}!function(e){e[e.CE=1]=\"CE\",e[e.BE=2]=\"BE\",e[e.EE=3]=\"EE\"}(Tt||(Tt={})),(Et=Nt||(Nt={}))[Et.Trial=1]=\"Trial\",Et[Et.Subscription=2]=\"Subscription\",n(71204),n(9251);var Yt=(0,T.A)((function(){var e,t,n=(e=(0,_.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),a=n[0],r=n[1],i=(0,$t.useRouter)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(At.mr,{reload:!0,title:\"Home\",breadcrumbs:[{label:\"Environments\"}]}),!1,(0,j.jsx)(Ht,{}),!1,a?(0,j.jsx)(It,{}):(0,j.jsx)(St,{onClickItem:function(e){(0,Re.Mq)(e.Type)&&r(!0)},onRefresh:function(){return s.apply(this,arguments)}})]});function s(){return(s=qt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt();case 2:if(e.sent){e.next=5;break}return e.abrupt(\"return\");case 5:return e.prev=5,e.next=8,(0,Pt.Jm)();case 8:y.Vp(\"Success\",\"Environments updated\"),i.stateService.reload(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),y.vU(\"Failure\",e.t0,\"An error occurred during environment snapshot\");case 15:case\"end\":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}}),[]);function Qt(){return Zt.apply(this,arguments)}function Zt(){return(Zt=qt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",(0,k.l9)({title:\"Are you sure?\",message:\"Triggering a manual refresh will poll each environment to retrieve its information, this may take a few moments.\",buttons:{confirm:{label:\"Continue\",className:\"btn-primary\"}}}));case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var Jt=l().module(\"portainer.app.home\",[]).component(\"homeView\",Yt).component(\"environmentList\",kt).name,Xt=n(51819),en=l().module(\"portainer.access-control\",[]).component(\"accessControlPanel\",Xt.e).name;function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function nn(e){var t,n=e.value,a=e.allowCreate,r=void 0!==a&&a,i=e.onChange,s=Ie((function(e){return e.map((function(e){return{label:e.Name,value:e.ID}}))})),o=(t=(0,he.useQueryClient)(),(0,he.useMutation)(xe,(0,fe.yL)((0,fe.AQ)(\"Unable to create tag\"),(0,fe.ar)(t,[Pe.all]))));if(!s.tags)return null;var l=s.tags,c=Ne()(n.map((function(e){return l.find((function(t){return t.value===e}))}))),d=r?J.V:J.P;return l.length||r?(0,j.jsxs)(j.Fragment,{children:[n.length>0&&(0,j.jsx)(E.N,{label:\"Selected tags\",children:c.map((function(e){return(0,j.jsxs)(\"button\",{type:\"button\",title:\"Remove tag\",className:(0,M.Z)(\"app-react-components-TagSelector-TagSelector-module__remove-tag-btn\",\"space-left\",\"tag\"),onClick:function(){return t=e.value,void i(n.filter((function(e){return e!==t})));var t},children:[e.label,(0,j.jsx)(\"i\",{className:\"fa fa-trash-alt white-icon space-left\",\"aria-hidden\":\"true\"})]},e.value)}))}),(0,j.jsx)(E.N,{label:\"Tags\",inputId:\"tags-selector\",children:(0,j.jsx)(d,{inputId:\"tags-selector\",value:[],hideSelectedOptions:!0,options:l.filter((function(e){return!n.includes(e.value)})),closeMenuOnSelect:!1,onChange:u,noOptionsMessage:function(){return\"No tags available\"},formatCreateLabel:function(e){return'Create \"'.concat(e,'\"')},onCreateOption:function(e){r&&o.mutate(e,{onSuccess:function(e){u({label:e.Name,value:e.ID})}})}})})]}):(0,j.jsx)(\"div\",{className:\"form-group\",children:(0,j.jsxs)(\"div\",{className:\"col-sm-12 small text-muted\",children:[\"No tags available. Head over to the\",(0,j.jsx)(De.r,{to:\"portainer.tags\",className:\"space-right space-left\",children:\"Tags view\"}),\"to add tags\"]})});function u(e){var t;e&&i([].concat(function(e){if(Array.isArray(e))return tn(e)}(t=n)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(t)||function(e,t){if(e){if(\"string\"==typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tn(e,t):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}(),[e.value]))}}var an=n(81093),rn=n(24945);function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cn(e){var t=e.item,n=e.onChange,a=e.error,r=e.isNameReadonly;return(0,j.jsxs)(\"div\",{className:\"flex gap-2\",children:[(0,j.jsxs)(\"div\",{children:[(0,j.jsx)(D.I,{value:t.name,name:\"name\",onChange:i,placeholder:\"Name (e.g var_name)\",readOnly:r}),(null==a?void 0:a.name)&&(0,j.jsx)(an.X,{children:a.name})]}),(0,j.jsxs)(\"div\",{children:[(0,j.jsx)(D.I,{value:t.label,onChange:i,placeholder:\"Label\",name:\"label\"}),(null==a?void 0:a.label)&&(0,j.jsx)(an.X,{children:a.label})]}),(0,j.jsxs)(\"div\",{children:[(0,j.jsx)(D.I,{name:\"description\",value:t.description,onChange:i,placeholder:\"Description\"}),(null==a?void 0:a.description)&&(0,j.jsx)(an.X,{children:a.description})]}),(0,j.jsxs)(\"div\",{children:[(0,j.jsx)(D.I,{value:t.defaultValue,onChange:i,placeholder:\"Default Value\",name:\"defaultValue\"}),(null==a?void 0:a.defaultValue)&&(0,j.jsx)(an.X,{children:a.defaultValue})]})]});function i(e){n(on(on({},t),{},ln({},e.target.name,e.target.value)))}}var dn=n(71718);function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function pn(e){var t,n,a=e.title,r=e.children,i=e.isFoldable,s=void 0!==i&&i,o=(t=(0,_.useState)(!s),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),l=o[0],c=o[1];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(dn.i,{htmlFor:s?\"foldingButton\".concat(a):\"\",children:[s&&(0,j.jsx)(\"button\",{id:\"foldingButton\".concat(a),type:\"button\",onClick:function(){return c(!l)},className:\"border-0 mx-2 bg-transparent inline-flex justify-center items-center w-2\",children:(0,j.jsx)(\"i\",{className:\"fa fa-caret-\".concat(l?\"down\":\"right\"),\"aria-hidden\":\"true\"})}),a]}),l&&r]})}function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function vn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var bn={template:'<custom-templates-variables-field-react\\n    value=\"$ctrl.value\"\\n    on-change=\"$ctrl.handleChange\"\\n    definitions=\"$ctrl.definitions\"\\n  ></custom-templates-variables-field-react>',bindings:{value:\"<\",definitions:\"<\",onChange:\"<\"},require:{formCtrl:\"^form\"},controller:function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.handleChange=this.handleChange.bind(this),this.$scope=t}var t,n;return e.$inject=[\"$scope\"],t=e,(n=[{key:\"handleChange\",value:function(e){var t=this;this.$scope.$evalAsync((function(){t.onChange(e)}))}},{key:\"$onChanges\",value:function(e){var t=e.value;t.currentValue&&this.checkValidity(t.currentValue)}},{key:\"checkValidity\",value:function(e){var t=this;this.formCtrl.$setValidity(\"templateVariables\",Object.entries(e).every((function(e){var n,a,r=(a=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(n,a)||function(e,t){if(e){if(\"string\"==typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(e,t):void 0}}(n,a)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),i=r[0];return!!r[1]||t.definitions.some((function(e){return e.name===i&&!!e.defaultValue}))})),this.formCtrl)}}])&&vn(t.prototype,n),Object.defineProperty(t,\"prototype\",{writable:!1}),e}()},yn=l().module(\"portainer.app.react.components.custom-templates\",[]).component(\"customTemplatesVariablesFieldReact\",(0,T.A)((function(e){var t=e.value,n=e.definitions,a=e.onChange;return n&&n.length?(0,j.jsx)(pn,{title:\"Template Variables\",children:n.map((function(e){var n=\"\".concat(e.name,\"-input\"),r=t[e.name]||\"\";return(0,j.jsx)(E.N,{required:!e.defaultValue,label:e.label,inputId:n,tooltip:e.description,size:\"small\",children:(0,j.jsx)(D.I,{name:\"variables.\".concat(e.name),value:r,id:n,onChange:function(n){return a(gn(gn({},t),{},hn({},e.name,n.target.value)))}})},e.name)}))}):null}),[\"value\",\"onChange\",\"definitions\"])).component(\"customTemplatesVariablesField\",bn).component(\"customTemplatesVariablesDefinitionField\",(0,T.A)((function(e){var t=e.onChange,n=e.value,a=e.errors,r=e.isVariablesNamesFromParent;return(0,j.jsx)(rn.Q,{label:\"Variables Definition\",onChange:t,value:n,renderItem:function(e,t,n){return(0,j.jsx)(cn,{item:e,onChange:t,error:n,isNameReadonly:r})},itemBuilder:function(){return{label:\"\",name:\"\",defaultValue:\"\",description:\"\"}},errors:a,textTip:\"List should map the mustache variables in the template file, if default value is empty, the variable will be required.\",isAddButtonHidden:r})}),[\"onChange\",\"value\",\"errors\",\"isVariablesNamesFromParent\"])).name,wn=l().module(\"portainer.app.react.components\",[yn]).component(\"tagSelector\",(0,T.A)(nn,[\"allowCreate\",\"onChange\",\"value\"])).name,xn=(n(42108),n(68112));function Sn(e){var t,n,a,r=e.icon,i=e.active,s=e.description,o=e.title,l=e.onClick,c=void 0===l?function(){}:l,d=e.featureId,u=\"string\"!=typeof r?r:null,m=(0,p.vx)(d);return(0,j.jsxs)(\"button\",{className:(0,M.Z)(\"app-react-portainer-environments-wizard-components-Option-Option-module__optionTile\",m?\"app-react-portainer-environments-wizard-components-Option-Option-module__teaser\":\"app-react-portainer-environments-wizard-components-Option-Option-module__feature\",\"border-0\",(t={},n=\"app-react-portainer-environments-wizard-components-Option-Option-module__active\",a=i,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t)),type:\"button\",disabled:m,onClick:c,children:[(0,j.jsx)(\"div\",{className:\"text-center mt-2\",children:u?(0,j.jsx)(u,{selected:i,className:\"app-react-portainer-environments-wizard-components-Option-Option-module__icon-component\"}):(0,j.jsx)(\"i\",{className:(0,M.Z)(r,\"block\",\"app-react-portainer-environments-wizard-components-Option-Option-module__icon\")})}),(0,j.jsxs)(\"div\",{className:\"mt-3 text-center flex flex-col\",children:[(0,j.jsx)(\"h3\",{children:o}),(0,j.jsx)(\"h5\",{children:s}),m&&(0,j.jsx)(xn.d,{showIcon:!1,featureId:d,className:\"!whitespace-normal\"})]})]})}var Cn=n(55950);function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pn(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function In(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){Pn(i,a,r,s,o,\"next\",e)}function o(e){Pn(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function Tn(e){return Nn.apply(this,arguments)}function Nn(){return(Nn=In(regeneratorRuntime.mark((function e(t){var n,a,r,i,s,o,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=function(e){return\"\"===e?e:e.startsWith(\"//./pipe/\")?\"npipe://\".concat(e):\"unix://\".concat(e)},n=t.name,a=t.socketPath,r=void 0===a?\"\":a,i=t.publicUrl,s=void 0===i?\"\":i,o=t.meta,l=void 0===o?{tagIds:[]}:o,c=d(r),e.abrupt(\"return\",Ln(n,G.Sy.LocalDockerEnvironment,{url:c,publicUrl:s,meta:l}));case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function En(e){return Rn.apply(this,arguments)}function Rn(){return(Rn=In(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.meta,r=void 0===a?{tagIds:[]}:a,e.abrupt(\"return\",Ln(n,G.Sy.LocalKubernetesEnvironment,{meta:r,tls:{skipClientVerify:!0,skipVerify:!0}}));case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(e){return On.apply(this,arguments)}function On(){return(On=In(regeneratorRuntime.mark((function e(t){var n,a,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,a=t.azure,r=t.meta,i=void 0===r?{tagIds:[]}:r,e.abrupt(\"return\",Ln(n,G.Sy.AzureEnvironment,{meta:i,azure:a}));case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function Vn(e){return Un.apply(this,arguments)}function Un(){return Un=In(regeneratorRuntime.mark((function e(t){var n,a,r,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.creationType,a=t.name,r=t.url,i=t.options,s=void 0===i?{}:i,e.abrupt(\"return\",Ln(a,n,$n($n({},s),{},{url:\"tcp://\".concat(r)})));case 2:case\"end\":return e.stop()}}),e)}))),Un.apply(this,arguments)}function jn(e){var t=e.name,n=e.environmentUrl,a=e.meta,r=void 0===a?{tagIds:[]}:a;return Vn({name:t,url:n,creationType:G.Sy.AgentEnvironment,options:{meta:r,tls:{skipVerify:!0,skipClientVerify:!0}}})}function Fn(e){var t=e.name,n=e.portainerUrl,a=e.meta,r=void 0===a?{tagIds:[]}:a;return Ln(t,G.Sy.EdgeAgentEnvironment,$n($n({url:n},r),{},{tls:{skipVerify:!0,skipClientVerify:!0}}))}function Ln(e,t,n){return _n.apply(this,arguments)}function _n(){return _n=In(regeneratorRuntime.mark((function e(t,n,a){var r,i,s,o,l,c,d,u,p,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={Name:t,EndpointCreationType:n},a&&(i=a.meta||{},s=i.groupId,o=i.tagIds,l=void 0===o?[]:o,r=$n($n({},r),{},{URL:a.url,PublicURL:a.publicUrl,GroupID:s,TagIds:(0,Cn.VZ)(l),CheckinInterval:a.checkinInterval,IsEdgeDevice:a.isEdgeDevice}),c=a.tls,d=a.azure,c&&(r=$n($n({},r),{},{TLS:!0,TLSSkipVerify:c.skipVerify,TLSSkipClientVerify:c.skipClientVerify,TLSCACertFile:c.caCertFile,TLSCertFile:c.certFile,TLSKeyFile:c.keyFile})),d&&(r=$n($n({},r),{},{AzureApplicationID:d.applicationId,AzureTenantID:d.tenantId,AzureAuthenticationKey:d.authenticationKey}))),u=(0,Cn.at)(r),e.prev=3,e.next=6,ve.ZP.post((0,Cn.Q2)(),u);case 6:return p=e.sent,m=p.data,e.abrupt(\"return\",m);case 11:throw e.prev=11,e.t0=e.catch(3),(0,ve.vs)(e.t0);case 14:case\"end\":return e.stop()}}),e,null,[[3,11]])}))),_n.apply(this,arguments)}function Mn(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function Kn(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){Mn(i,a,r,s,o,\"next\",e)}function o(e){Mn(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Hn(){var e,t,n,a,r=(n=(0,_.useState)(),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(n,a)||function(e,t){if(e){if(\"string\"==typeof e)return Bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bn(e,t):void 0}}(n,a)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),i=r[0],s=r[1],o=(t=(e=(0,me.LH)({page:0,pageLimit:1,types:[G.Qj.Docker,G.Qj.KubernetesLocal]},!1,1/0)).environments,{isLoading:e.isLoading,environment:t.length>0?t[0]:void 0}),l=o.isLoading,c=o.environment,d=(0,he.useMutation)(zn),u=d.mutate;return(0,_.useEffect)((function(){l||i||(c?s(c):u(void 0,{onSuccess:function(e){s(e)}}))}),[c,l,i,u]),{status:Gn(l,d.status),type:null==i?void 0:i.Type}}function Gn(e,t){return e||\"loading\"===t?\"loading\":\"error\"===t?\"error\":\"success\"}function zn(){return qn.apply(this,arguments)}function qn(){return(qn=Kn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,En({name:\"local\"});case 3:case 10:return e.abrupt(\"return\",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,Tn({name:\"local\"});case 11:case\"end\":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var Wn=\"app-react-portainer-environments-wizard-HomeView-HomeView-module__link\";function Yn(e){switch(e){case G.Qj.Docker:return\"Docker\";case G.Qj.KubernetesLocal:return\"Kubernetes\";default:return\"\"}}var Qn={selected:\"app-react-portainer-environments-wizard-EnvironmentTypeSelectView-KaaSIcon-module__selected\",maskIcon:\"app-react-portainer-environments-wizard-EnvironmentTypeSelectView-KaaSIcon-module__mask-icon\"},Zn=[{id:\"docker\",title:\"Docker\",icon:\"fab fa-docker\",description:\"Connect to Docker Standalone / Swarm via URL/IP, API or Socket\"},{id:\"kubernetes\",title:\"Kubernetes\",icon:\"fas fa-dharmachakra\",description:\"Connect to a kubernetes environment via URL/IP\"},{id:\"aci\",title:\"ACI\",description:\"Connect to ACI environment via API\",icon:\"fab fa-microsoft\"},{id:\"nomad\",title:\"Nomad\",description:\"Connect to HashiCorp Nomad environment via API\",icon:\"nomad-icon\",featureId:u.tE.NOMAD},{id:\"kaas\",title:\"KaaS\",description:\"Provision a Kubernetes environment with a cloud provider\",icon:function(e){var t,n,a,r=e.selected,i=e.className;return(0,j.jsxs)(\"span\",{className:(0,M.Z)(\"fa-stack fa-1x\",Qn.root,i,(t={},n=Qn.selected,a=r,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t)),children:[(0,j.jsx)(\"i\",{className:\"fas fa-cloud fa-stack-2x\"}),(0,j.jsx)(\"i\",{className:(0,M.Z)(\"fas fa-dharmachakra fa-stack-1x\",Qn.maskIcon)})]})},featureId:u.tE.KAAS_PROVISIONING}];function Jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Xn(e){var t=e.value,n=e.onChange;return(0,j.jsx)(\"div\",{className:\"row\",children:(0,j.jsxs)(pn,{title:\"Select your environment(s)\",children:[(0,j.jsx)(\"p\",{className:\"text-muted small\",children:\"You can onboard different types of environments, select all that apply.\"}),(0,j.jsx)(\"div\",{className:\"flex gap-4 flex-wrap\",children:Zn.map((function(e){return(0,j.jsx)(Sn,{featureId:e.featureId,title:e.title,description:e.description,icon:e.icon,active:t.includes(e.id),onClick:function(){return function(e){var a;t.includes(e)?n(t.filter((function(t){return t!==e}))):n([].concat(function(e){if(Array.isArray(e))return Jn(e)}(a=t)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(a)||function(e,t){if(e){if(\"string\"==typeof e)return Jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jn(e,t):void 0}}(a)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}(),[e]))}(e.id)}},e.id)}))})]})})}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(36554);function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function na(e){var t=e.currentStep,n=e.steps;return(0,j.jsx)(\"div\",{className:\"app-react-components-Stepper-Stepper-module__stepper-wrapper\",children:n.map((function(e,n){var a;return(0,j.jsx)(\"div\",{className:(0,M.Z)(\"app-react-components-Stepper-Stepper-module__step-wrapper\",(a={},ta(a,\"app-react-components-Stepper-Stepper-module__active\",n+1===t),ta(a,\"app-react-components-Stepper-Stepper-module__completed\",n+1<t),a)),children:(0,j.jsxs)(\"div\",{className:\"app-react-components-Stepper-Stepper-module__step\",children:[(0,j.jsx)(\"div\",{className:\"app-react-components-Stepper-Stepper-module__step-counter\",children:n+1}),(0,j.jsx)(\"div\",{className:\"app-react-components-Stepper-Stepper-module__step-name\",children:e.title})]})},e.title)}))})}var aa=n(56619),ra=n(32858),ia=n(64001),sa=n(83810);function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ca(e){var t=(0,he.useQueryClient)();return(0,he.useMutation)(e,{onSuccess:function(){return t.invalidateQueries([\"environments\"])},meta:{error:{title:\"Failure\",message:\"Unable to create environment\"}}})}var da=n(50433),ua=n(64858);function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ma(){var e,t,n=(e=(0,N.U$)(\"meta.groupId\"),t=3,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pa(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),a=n[0],r=n[1],i=n[2],s=(0,ge.X)();if(!s.data)return null;var o=s.data.map((function(e){return{value:e.Id,label:e.Name}}));return(0,j.jsx)(E.N,{label:\"Group\",errors:r.error,children:(0,j.jsx)(D.P,{name:\"meta.groupId\",options:o,value:a.value,onChange:function(e){return t=e.target.value,void i.setValue(t?parseInt(t,10):1);var t}})})}function ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ha(){var e,t,n=(e=(0,N.U$)(\"meta.tagIds\"),t=3,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ga(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),a=n[0],r=n[2],i=(0,q.aF)().isAdmin;return(0,j.jsxs)(pn,{title:\"Metadata\",children:[(0,j.jsx)(ma,{}),(0,j.jsx)(nn,{value:a.value,allowCreate:i,onChange:function(e){return r.setValue(e)}})]})}function fa(e){var t=e.children;return(0,j.jsx)(pn,{title:\"More settings\",isFoldable:!0,children:(0,j.jsxs)(\"div\",{className:\"ml-8\",children:[t,(0,j.jsx)(ha,{})]})})}var va=n(60352);function ba(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function ya(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){ba(i,a,r,s,o,\"next\",e)}function o(e){ba(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function xa(e){var t,n,a=e.readonly,r=(t=(0,N.U$)(\"name\"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return wa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wa(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}())[1],i=\"name-input\";return(0,j.jsx)(E.N,{label:\"Name\",required:!0,errors:r.error,inputId:i,children:(0,j.jsx)(N.gN,{id:i,name:\"name\",as:D.I,\"data-cy\":\"endpointCreate-nameInput\",placeholder:\"e.g. docker-prod01 / kubernetes-cluster01\",readOnly:a})})}function Sa(){return(Sa=ya(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt(\"return\",!0);case 2:return e.prev=2,e.next=5,(0,Pt.U8)(0,1,{name:t});case 5:if(!(e.sent.totalCount>0)){e.next=8;break}return e.abrupt(\"return\",!1);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.abrupt(\"return\",!0);case 13:case\"end\":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var Ca=n.n(va)()((function(e){return Sa.apply(this,arguments)}),500);function ka(){return(0,U.Z_)().required(\"Name is required\").test(\"unique-name\",\"Name should be unique\",(function(e){return Ca(e)||!1}))}function $a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Aa(e){var t,n,a=e.fieldName,r=e.readonly,i=(t=(0,N.U$)(a),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return $a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$a(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}())[1],s=\"\".concat(a,\"-input\");return(0,j.jsx)(E.N,{label:\"Portainer server URL\",tooltip:\"URL of the Portainer instance that the agent will use to initiate the communications.\",required:!0,errors:i.error,inputId:s,children:(0,j.jsx)(N.gN,{id:s,name:a,as:D.I,placeholder:\"e.g. 10.0.0.10:9443 or portainer.mydomain.com\",required:!0,\"data-cy\":\"endpointCreate-portainerServerUrlInput\",readOnly:r})})}function Pa(e){var t=e.readonly;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(xa,{readonly:t}),(0,j.jsx)(Aa,{fieldName:\"portainerUrl\",readonly:t})]})}function Ia(){return(0,U.Ry)({groupId:(0,U.Rx)(),tagIds:(0,U.IX)().of((0,U.Rx)()).default([])})}function Ta(){return(0,U.Ry)().shape({name:ka(),portainerUrl:(0,U.Z_)().test(\"url\",\"URL should be a valid URI and cannot include localhost\",(function(e){if(!e)return!1;try{return\"localhost\"!==new URL(e).hostname}catch(e){return!1}})).required(\"URL is required\"),pollFrequency:(0,U.Rx)().required(),meta:Ia()})}n(89954),n(88373);var Na,Ea={name:\"\",portainerUrl:(Na=(0,da.baseHref)(),window.location.origin+(\"/\"!==Na?Na:\"\")),pollFrequency:0,meta:{groupId:1,tagIds:[]}};function Ra(e){var t=e.onCreate,n=e.readonly,a=ca(Fn);return(0,j.jsx)(N.J9,{initialValues:Ea,onSubmit:function(e){a.mutate(e,{onSuccess:function(e){t(e)}})},validateOnMount:!0,validationSchema:Ta,children:function(e){var t=e.isValid,r=e.setFieldValue,i=e.values;return(0,j.jsxs)(N.l0,{children:[(0,j.jsx)(Pa,{readonly:n}),(0,j.jsx)(fa,{children:(0,j.jsx)(pn,{title:\"Check-in Intervals\",children:(0,j.jsx)(ua.If,{readonly:n,onChange:function(e){return r(\"pollFrequency\",e)},value:i.pollFrequency})})}),!n&&(0,j.jsx)(\"div\",{className:\"row\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsxs)(V.f,{isLoading:a.isLoading,loadingText:\"Creating environment...\",disabled:!t,children:[(0,j.jsx)(\"i\",{className:\"fa fa-plug space-right\"}),\"Create\"]})})})]})}})}function Da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return Oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oa(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Va(e){var t=e.onCreate,n=e.commands,a=e.isNomadTokenVisible,r=Da((0,_.useState)(),2),i=r[0],s=r[1],o=Da((0,_.useReducer)((function(e){return e+1}),0),2),l=o[0],c=o[1];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Ra,{onCreate:function(e){s({key:e.EdgeKey,id:(0,ia.v4)()}),t(e)},readonly:!!i},l),i&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(sa.y,{edgeInfo:i,commands:n,isNomadTokenVisible:a}),(0,j.jsx)(\"hr\",{}),(0,j.jsx)(\"div\",{className:\"row\",children:(0,j.jsx)(\"div\",{className:\"flex justify-end\",children:(0,j.jsx)(z.zx,{color:\"primary\",type:\"reset\",onClick:function(){s(void 0),c()},children:\"Add another environment\"})})})]})]})}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ja(){var e,t,n=(e=(0,N.U$)(\"environmentUrl\"),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return Ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ua(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}())[1];return(0,j.jsx)(E.N,{label:\"Environment URL\",errors:n.error,required:!0,inputId:\"environment-url-field\",children:(0,j.jsx)(N.gN,{id:\"environment-url-field\",name:\"environmentUrl\",as:D.I,placeholder:\"e.g. 10.0.0.10:9001 or tasks.portainer_agent:9001\",\"data-cy\":\"endpointCreate-endpointUrlAgentInput\"})})}function Fa(){return(0,U.Ry)({name:ka(),environmentUrl:(0,U.Z_)().required(\"This field is required.\"),meta:Ia()})}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var _a={environmentUrl:\"\",name:\"\",meta:{groupId:1,tagIds:[]}};function Ma(e){var t,n,a=e.onCreate,r=(t=(0,_.useReducer)((function(e){return e+1}),0),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return La(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?La(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),i=r[0],s=r[1],o=ca(jn);return(0,j.jsx)(N.J9,{initialValues:_a,onSubmit:function(e){o.mutate(e,{onSuccess:function(e){(0,y.t5)(\"Environment created\",e.Name),s(),a(e)}})},validationSchema:Fa,validateOnMount:!0,children:function(e){var t=e.isValid,n=e.dirty;return(0,j.jsxs)(N.l0,{children:[(0,j.jsx)(xa,{}),(0,j.jsx)(ja,{}),(0,j.jsx)(fa,{}),(0,j.jsx)(\"div\",{className:\"form-group\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsxs)(V.f,{className:\"wizard-connect-button\",loadingText:\"Connecting environment...\",isLoading:o.isLoading,disabled:!n||!t,children:[(0,j.jsx)(\"i\",{className:\"fa fa-plug\",\"aria-hidden\":\"true\"}),\" Connect\"]})})})]})}},i)}var Ka=n(6154),Ba=n(2071),Ha=n(90130),Ga=n(61335);function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var qa=[{id:\"linux\",label:\"Linux\",command:function(e,t){var n=\"\"===t?\"\":\"\\\\\\n  -e AGENT_SECRET=\".concat(t,\" \");return\"docker network create \\\\\\n--driver overlay \\\\\\n  portainer_agent_network\\n\\ndocker service create \\\\\\n  --name portainer_agent \\\\\\n  --network portainer_agent_network \\\\\\n  -p 9001:9001/tcp \".concat(n,\"\\\\\\n  --mode global \\\\\\n  --constraint 'node.platform.os == linux' \\\\\\n  --mount type=bind,src=//var/run/docker.sock,dst=/var/run/docker.sock \\\\\\n  --mount type=bind,src=//var/lib/docker/volumes,dst=/var/lib/docker/volumes \\\\\\n  portainer/agent:\").concat(e,\"\\n\")}},{id:\"win\",label:\"Windows\",command:function(e,t){var n=\"\"===t?\"\":\"\\\\\\n  -e AGENT_SECRET=\".concat(t,\" \");return\"docker network create \\\\\\n--driver overlay \\\\\\n  portainer_agent_network && \\\\\\ndocker service create \\\\\\n  --name portainer_agent \\\\\\n  --network portainer_agent_network \\\\\\n  -p 9001:9001/tcp \".concat(n,\"\\\\\\n  --mode global \\\\\\n  --constraint 'node.platform.os == windows' \\\\\\n  --mount type=npipe,src=\\\\\\\\.\\\\pipe\\\\docker_engine,dst=\\\\\\\\.\\\\pipe\\\\docker_engine \\\\\\n  --mount type=bind,src=C:\\\\ProgramData\\\\docker\\\\volumes,dst=C:\\\\ProgramData\\\\docker\\\\volumes \\\\\\n  portainer/agent:\").concat(e,\"\\n\")}}];function Wa(){var e,t,n=(e=(0,_.useState)(qa[0].id),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?za(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),a=n[0],r=n[1],i=(0,Ga.a)();if(!i)return null;var s=i.agentVersion,o=i.agentSecret,l=qa.map((function(e){var t=e.command(s,o);return{id:e.id,label:e.label,children:(0,j.jsx)(Ya,{code:t})}}));return(0,j.jsx)(Ha.o,{options:l,onSelect:function(e){return r(e)},selectedId:a})}function Ya(e){var t=e.code;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(\"span\",{className:\"text-muted small\",children:\"CLI script for installing agent on your environment with Docker Swarm:\"}),(0,j.jsx)(Ba.E,{children:t}),(0,j.jsx)(Ka.q,{copyText:t,children:\"Copy command\"})]})}function Qa(e){var t=e.onCreate;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Wa,{}),(0,j.jsx)(\"div\",{className:\"mt-5\",children:(0,j.jsx)(Ma,{onCreate:t})})]})}var Za=n(42629),Ja=n(16413);function Xa(){var e=(0,N.u6)(),t=e.values,n=e.setFieldValue,a=e.errors;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(\"div\",{className:\"form-group\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsx)(Ja.K,{label:\"TLS\",checked:t.tls,onChange:function(e){return n(\"tls\",e)}})})}),t.tls&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(\"div\",{className:\"form-group\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsx)(Ja.K,{label:\"Skip Certification Verification\",checked:!!t.skipVerify,onChange:function(e){return n(\"skipVerify\",e)}})})}),!t.skipVerify&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(E.N,{label:\"TLS CA certificate\",inputId:\"ca-cert-field\",errors:a.caCertFile,children:(0,j.jsx)(Za.Uu,{inputId:\"ca-cert-field\",onChange:function(e){return n(\"caCertFile\",e)},value:t.caCertFile})}),(0,j.jsx)(E.N,{label:\"TLS certificate\",inputId:\"cert-field\",errors:a.certFile,children:(0,j.jsx)(Za.Uu,{inputId:\"cert-field\",onChange:function(e){return n(\"certFile\",e)},value:t.certFile})}),(0,j.jsx)(E.N,{label:\"TLS key\",inputId:\"tls-key-field\",errors:a.keyFile,children:(0,j.jsx)(Za.Uu,{inputId:\"tls-key-field\",onChange:function(e){return n(\"keyFile\",e)},value:t.keyFile})})]})]})]})}var er=[\"application/x-x509-ca-cert\",\"application/x-pem-file\"];function tr(){return function(e,t){return e.test(\"file-type\",\"Selected file has unsupported format.\",(function(e){return!e||t.includes(e.type)}))}((e=(0,U.nK)(),5242880,e.test(\"fileSize\",\"Selected file is too big.\",(function(e){return!e||e.size<=5242880}))),er).when([\"tls\",\"skipVerify\"],{is:function(e,t){return e&&!t},then:function(e){return e.required(\"File is required\")}});var e}function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(){return(0,U.Ry)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){ar(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:ka(),url:(0,U.Z_)().required(\"This field is required.\"),tls:(0,U.O7)().default(!1),skipVerify:(0,U.O7)(),meta:Ia()},{caCertFile:tr(),certFile:tr(),keyFile:tr()}))}function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function lr(e){var t,n,a,r=e.onCreate,i=(n=(0,_.useReducer)((function(e){return e+1}),0),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(n,a)||function(e,t){if(e){if(\"string\"==typeof e)return or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?or(e,t):void 0}}(n,a)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),s=i[0],o=i[1],l=(t=G.Sy.LocalDockerEnvironment,ca((function(e){return Vn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach((function(t){la(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({creationType:t},e))})));return(0,j.jsx)(N.J9,{initialValues:{url:\"\",name:\"\",tls:!1,meta:{groupId:1,tagIds:[]}},onSubmit:function(e){var t=function(){if(e.tls)return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({skipVerify:e.skipVerify},e.skipVerify?{}:{caCertFile:e.caCertFile,certFile:e.certFile,keyFile:e.keyFile})}();l.mutate({name:e.name,url:e.url,options:{tls:t,meta:e.meta}},{onSuccess:function(e){(0,y.t5)(\"Environment created\",e.Name),o(),r(e)}})},validationSchema:rr,validateOnMount:!0,children:function(e){var t=e.isValid,n=e.dirty;return(0,j.jsxs)(N.l0,{children:[(0,j.jsx)(xa,{}),(0,j.jsx)(E.N,{inputId:\"url-field\",label:\"Docker API URL\",required:!0,tooltip:\"URL or IP address of a Docker host. The Docker API must be exposed over a TCP port. Please refer to the Docker documentation to configure it.\",children:(0,j.jsx)(N.gN,{as:D.I,id:\"url-field\",name:\"url\",placeholder:\"e.g. 10.0.0.10:2375 or mydocker.mydomain.com:2375\"})}),(0,j.jsx)(Xa,{}),(0,j.jsx)(fa,{}),(0,j.jsx)(\"div\",{className:\"form-group\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsxs)(V.f,{className:\"wizard-connect-button\",loadingText:\"Connecting environment...\",isLoading:l.isLoading,disabled:!n||!t,children:[(0,j.jsx)(\"i\",{className:\"fa fa-plug\",\"aria-hidden\":\"true\"}),\" Connect\"]})})})]})}},s)}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var dr=[{id:\"linux\",label:\"Linux\",command:'-v \"/var/run/docker.sock:/var/run/docker.sock\"'},{id:\"win\",label:\"Windows\",command:\"-v \\\\.\\\\pipe\\\\docker_engine:\\\\.\\\\pipe\\\\docker_engine\"}];function ur(){var e,t,n=(e=(0,_.useState)(dr[0].id),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cr(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),a=n[0],r=n[1];if(!(0,Ga.a)())return null;var i=dr.map((function(e){return{id:e.id,label:e.label,children:(0,j.jsx)(pr,{code:e.command})}}));return(0,j.jsx)(Ha.o,{options:i,onSelect:function(e){return r(e)},selectedId:a})}function pr(e){var t=e.code;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(\"span\",{className:\"text-muted small\",children:\"When using the socket, ensure that you have started the Portainer container with the following Docker flag:\"}),(0,j.jsx)(Ba.E,{children:t}),(0,j.jsx)(Ka.q,{copyText:t,children:\"Copy command\"})]})}function mr(e){var t=e.onCreate;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ur,{}),(0,j.jsx)(\"div\",{className:\"mt-5\",children:(0,j.jsx)(lr,{onCreate:t})})]})}function gr(){return(0,U.Ry)({name:ka(),meta:Ia(),overridePath:(0,U.O7)().default(!1),socketPath:(0,U.Z_)().default(\"\").when(\"overridePath\",(function(e,t){return e?t.required(\"Socket Path is required when override path is enabled\"):t}))})}function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function fr(e){var t,n,a=e.onCreate,r=(t=(0,_.useReducer)((function(e){return e+1}),0),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hr(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),i=r[0],s=r[1],o=ca(Tn);return(0,j.jsx)(N.J9,{initialValues:{name:\"\",socketPath:\"\",overridePath:!1,meta:{groupId:1,tagIds:[]}},onSubmit:function(e){o.mutate({name:e.name,socketPath:e.overridePath?e.socketPath:\"\"},{onSuccess:function(e){(0,y.t5)(\"Environment created\",e.Name),s(),a(e)}})},validationSchema:gr,validateOnMount:!0,children:function(e){var t=e.isValid,n=e.dirty;return(0,j.jsxs)(N.l0,{children:[(0,j.jsx)(xa,{}),(0,j.jsx)(vr,{}),(0,j.jsx)(fa,{}),(0,j.jsx)(\"div\",{className:\"form-group\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsxs)(V.f,{className:\"wizard-connect-button\",loadingText:\"Connecting environment...\",isLoading:o.isLoading,disabled:!n||!t,children:[(0,j.jsx)(\"i\",{className:\"fa fa-plug\",\"aria-hidden\":\"true\"}),\" Connect\"]})})})]})}},i)}function vr(){var e=(0,N.u6)(),t=e.values,n=e.setFieldValue,a=e.errors;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(\"div\",{className:\"form-group\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsx)(Ja.K,{checked:t.overridePath,onChange:function(e){return n(\"overridePath\",e)},label:\"Override default socket path\"})})}),t.overridePath&&(0,j.jsx)(E.N,{label:\"Socket Path\",tooltip:\"Path to the Docker socket. Remember to bind-mount the socket, see the important notice above for more information.\",errors:a.socketPath,children:(0,j.jsx)(N.gN,{name:\"socketPath\",as:D.I,placeholder:\"e.g. /var/run/docker.sock (on Linux) or //./pipe/docker_engine (on Windows)\"})})]})}function br(e){var t=e.onCreate;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ur,{}),(0,j.jsx)(\"div\",{className:\"mt-5\",children:(0,j.jsx)(fr,{onCreate:t})})]})}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var wr=[{id:\"agent\",icon:\"fa fa-bolt\",label:\"Agent\",description:\"\",value:\"agent\"},{id:\"api\",icon:\"fa fa-cloud\",label:\"API\",description:\"\",value:\"api\"},{id:\"socket\",icon:\"fab fa-docker\",label:\"Socket\",description:\"\",value:\"socket\"},{id:\"edgeAgent\",icon:\"fa fa-cloud\",label:\"Edge Agent\",description:\"\",value:\"edgeAgent\"}];function xr(e){var t,n,a=e.onCreate,r=(t=(0,_.useState)(wr[0].value),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yr(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),i=r[0],s=r[1],o=function(e){switch(e){case\"agent\":return(0,j.jsx)(Qa,{onCreate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a(e,\"dockerAgent\")}))});case\"api\":return(0,j.jsx)(mr,{onCreate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a(e,\"dockerApi\")}))});case\"socket\":return(0,j.jsx)(br,{onCreate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a(e,\"localEndpoint\")}))});case\"edgeAgent\":return(0,j.jsx)(Va,{onCreate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a(e,\"dockerEdgeAgent\")})),commands:{linux:[ra.dP.swarmLinux,ra.dP.standaloneLinux],win:[ra.dP.swarmWindows,ra.dP.standaloneWindow]}});default:return null}}(i);return(0,j.jsxs)(\"div\",{className:\"form-horizontal\",children:[(0,j.jsx)(\"div\",{className:\"form-group\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsx)(aa.S0,{onChange:function(e){return s(e)},options:wr,value:i,radioName:\"creation-type\"})})}),o]})}function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return Cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var kr={name:\"\",applicationId:\"\",tenantId:\"\",authenticationKey:\"\",meta:{groupId:1,tagIds:[]}},$r=[(0,aa.es)(\"api\",\"fa fa-bolt\",\"API\",\"\",\"api\")];function Ar(e){var t=e.onCreate,n=Sr((0,_.useReducer)((function(e){return e+1}),0),2),a=n[0],r=n[1],i=Sr((0,_.useState)($r[0].id),2),s=i[0],o=i[1],l=ca(Dn);return(0,j.jsxs)(\"div\",{className:\"form-horizontal\",children:[(0,j.jsx)(aa.S0,{options:$r,radioName:\"creation-type\",onChange:function(e){return o(e)},value:s}),(0,j.jsx)(N.J9,{initialValues:kr,onSubmit:function(e){var n=e.applicationId,a=e.authenticationKey,i=e.meta,s=e.name,o=e.tenantId;l.mutate({name:s,azure:{applicationId:n,authenticationKey:a,tenantId:o},meta:i},{onSuccess:function(e){(0,y.t5)(\"Environment created\",e.Name),r(),t(e,\"aciApi\")}})},validateOnMount:!0,validationSchema:Pr,children:function(e){var t=e.errors,n=e.dirty,a=e.isValid;return(0,j.jsxs)(N.l0,{children:[(0,j.jsx)(xa,{}),(0,j.jsx)(E.N,{label:\"Application ID\",errors:t.applicationId,inputId:\"applicationId-input\",required:!0,children:(0,j.jsx)(N.gN,{name:\"applicationId\",id:\"applicationId-input\",as:D.I,placeholder:\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"})}),(0,j.jsx)(E.N,{label:\"Tenant ID\",errors:t.tenantId,inputId:\"tenantId-input\",required:!0,children:(0,j.jsx)(N.gN,{name:\"tenantId\",id:\"tenantId-input\",as:D.I,placeholder:\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"})}),(0,j.jsx)(E.N,{label:\"Authentication Key\",errors:t.authenticationKey,inputId:\"authenticationKey-input\",required:!0,children:(0,j.jsx)(N.gN,{name:\"authenticationKey\",id:\"authenticationKey-input\",as:D.I,placeholder:\"cOrXoK/1D35w8YQ8nH1/8ZGwzz45JIYD5jxHKXEQknk=\"})}),(0,j.jsx)(fa,{}),(0,j.jsx)(\"div\",{className:\"row\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsxs)(V.f,{loadingText:\"Connecting environment...\",isLoading:l.isLoading,disabled:!n||!a,children:[(0,j.jsx)(\"i\",{className:\"fa fa-plug\",\"aria-hidden\":\"true\"}),\" Connect\"]})})})]})}},a)]})}function Pr(){return(0,U.Ry)({name:ka(),applicationId:(0,U.Z_)().required(\"Application ID is required\"),tenantId:(0,U.Z_)().required(\"Tenant ID is required\"),authenticationKey:(0,U.Z_)().required(\"Authentication Key is required\"),meta:Ia()})}var Ir=n(13853);function Tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Nr=[{id:\"k8sLoadBalancer\",label:\"Kubernetes via load balancer\",command:function(e){var t=(0,Ir.getAgentShortVersion)(e);return\"curl -L https://downloads.portainer.io/ee\".concat(t,\"/portainer-agent-k8s-lb.yaml -o portainer-agent-k8s.yaml; kubectl apply -f portainer-agent-k8s.yaml\")},showAgentSecretMessage:!0},{id:\"k8sNodePort\",label:\"Kubernetes via node port\",command:function(e){var t=(0,Ir.getAgentShortVersion)(e);return\"curl -L https://downloads.portainer.io/ee\".concat(t,\"/portainer-agent-k8s-nodeport.yaml -o portainer-agent-k8s.yaml; kubectl apply -f portainer-agent-k8s.yaml\")},showAgentSecretMessage:!0}];function Er(){var e,t,n=(e=(0,_.useState)(Nr[0].id),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return Tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tr(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),a=n[0],r=n[1],i=(0,Ga.a)();if(!i)return null;var s=i.agentVersion,o=i.agentSecret,l=Nr.map((function(e){var t=e.command(s);return{id:e.id,label:e.label,children:(0,j.jsx)(Rr,{agentSecret:o,showAgentSecretMessage:e.showAgentSecretMessage,code:t})}}));return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(dn.i,{children:\"Information\"}),(0,j.jsx)(\"div\",{className:\"form-group\",children:(0,j.jsx)(\"span\",{className:\"col-sm-12 text-muted small\",children:\"Ensure that you have deployed the Portainer agent in your cluster first. Refer to the platform related command below to deploy it.\"})}),(0,j.jsx)(Ha.o,{options:l,onSelect:function(e){return r(e)},selectedId:a})]})}function Rr(e){var t=e.agentSecret,n=e.showAgentSecretMessage,a=e.code;return(0,j.jsxs)(j.Fragment,{children:[n&&t&&(0,j.jsxs)(\"p\",{className:\"text-muted small my-6\",children:[(0,j.jsx)(\"i\",{className:\"fa fa-info-circle blue-icon space-right\",\"aria-hidden\":\"true\"}),\"Note that the environment variable AGENT_SECRET will need to be set to\",(0,j.jsx)(\"code\",{children:t}),\". Please update the manifest that will be downloaded from the following script.\"]}),(0,j.jsx)(Ba.E,{children:a}),(0,j.jsx)(Ka.q,{copyText:a,children:\"Copy command\"})]})}function Dr(e){var t=e.onCreate;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(Er,{}),(0,j.jsx)(\"div\",{className:\"mt-5\",children:(0,j.jsx)(Ma,{onCreate:t})})]})}var Or={kubeConfig:\"\",name:\"\",meta:{groupId:1,tagIds:[]}};function Vr(){return(0,j.jsx)(N.J9,{initialValues:Or,onSubmit:function(){},validateOnMount:!0,children:function(){return(0,j.jsxs)(N.l0,{className:\"mt-5\",children:[(0,j.jsx)(dn.i,{children:\"Environment details\"}),(0,j.jsxs)(\"div\",{className:\"form-group\",children:[(0,j.jsxs)(\"div\",{className:\"col-sm-12\",children:[(0,j.jsx)(\"span\",{className:\"text-primary\",children:(0,j.jsx)(\"i\",{className:\"fa fa-exclamation-circle space-right\",\"aria-hidden\":\"true\"})}),(0,j.jsxs)(\"span\",{className:\"text-muted small\",children:[\"Import the\",(0,j.jsx)(\"a\",{href:\"https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/\",target:\"_blank\",className:\"space-right space-left\",rel:\"noreferrer\",children:\"kubeconfig file\"}),\"of an existing Kubernetes cluster located on-premise or on a cloud platform. This will create a corresponding environment in Portainer and install the agent on the cluster. Please ensure:\"]})]}),(0,j.jsxs)(\"div\",{className:\"col-sm-12 text-muted small\",children:[(0,j.jsxs)(\"ul\",{className:\"p-2 pl-4\",children:[(0,j.jsx)(\"li\",{children:\"You have a load balancer enabled in your cluster\"}),(0,j.jsx)(\"li\",{children:\"You specify current-context in your kubeconfig\"}),(0,j.jsx)(\"li\",{children:\"The kubeconfig is self-contained - including any required credentials.\"})]}),(0,j.jsx)(\"p\",{children:\"Note: Officially supported cloud providers are Civo, Linode, DigitalOcean and Microsoft Azure (others are not guaranteed to work at present)\"})]})]}),(0,j.jsx)(E.N,{label:\"Name\",required:!0,children:(0,j.jsx)(N.gN,{name:\"name\",as:D.I,\"data-cy\":\"endpointCreate-nameInput\",placeholder:\"e.g. docker-prod01 / kubernetes-cluster01\",readOnly:!0})}),(0,j.jsx)(E.N,{label:\"Kubeconfig file\",required:!0,inputId:\"kubeconfig_file\",children:(0,j.jsx)(z.zx,{disabled:!0,children:\"Select a file\"})}),(0,j.jsx)(\"div\",{className:\"form-group\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsxs)(V.f,{className:\"wizard-connect-button\",loadingText:\"Connecting environment...\",isLoading:!1,disabled:!0,children:[(0,j.jsx)(\"i\",{className:\"fa fa-plug\",\"aria-hidden\":\"true\"}),\" Connect\"]})})})]})}})}function Ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(n),!0).forEach((function(t){Fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var _r=[{id:\"agent_endpoint\",icon:\"fa fa-bolt\",label:\"Agent\",value:G.Sy.AgentEnvironment,description:\"\"},{id:\"edgeAgent\",icon:\"fa fa-cloud\",label:\"Edge Agent\",description:\"\",value:G.Sy.EdgeAgentEnvironment},{id:\"kubeconfig_endpoint\",icon:\"fas fa-cloud-upload-alt\",label:\"Import\",value:G.Sy.KubeConfigEnvironment,description:\"Import an existing Kubernetes config\",feature:u.tE.K8S_CREATE_FROM_KUBECONFIG}];function Mr(e){var t,n,a=e.onCreate,r=(t=(0,_.useState)(_r[0].value),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return Lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lr(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),i=r[0],s=r[1],o=function(e){var t;switch(e){case G.Sy.AgentEnvironment:return(0,j.jsx)(Dr,{onCreate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a(e,\"kubernetesAgent\")}))});case G.Sy.EdgeAgentEnvironment:return(0,j.jsx)(Va,{onCreate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a(e,\"kubernetesEdgeAgent\")})),commands:[jr(jr({},ra.dP.k8sLinux),{},{label:\"Linux\"})]});case G.Sy.KubeConfigEnvironment:return(0,j.jsxs)(\"div\",{className:\"px-1 py-5 border border-solid border-orange-1\",children:[(0,j.jsx)(xn.d,{featureId:null===(t=_r.find((function(t){return t.value===e})))||void 0===t?void 0:t.feature}),(0,j.jsx)(Vr,{})]});default:throw new Error(\"Creation type not supported\")}}(i);return(0,j.jsxs)(\"div\",{className:\"form-horizontal\",children:[(0,j.jsx)(aa.S0,{onChange:function(e){return s(e)},options:_r,value:i,radioName:\"creation-type\"}),o]})}var Kr={wizardListWrapper:\"app-react-portainer-environments-wizard-EnvironmentsCreationView-WizardEndpointsList-WizardEndpointsList-module__wizard-list-wrapper\",wizardListImage:\"app-react-portainer-environments-wizard-EnvironmentsCreationView-WizardEndpointsList-WizardEndpointsList-module__wizard-list-image\",wizardListTitle:\"app-react-portainer-environments-wizard-EnvironmentsCreationView-WizardEndpointsList-WizardEndpointsList-module__wizard-list-title\",wizardListSubtitle:\"app-react-portainer-environments-wizard-EnvironmentsCreationView-WizardEndpointsList-WizardEndpointsList-module__wizard-list-subtitle\",wizardListType:\"app-react-portainer-environments-wizard-EnvironmentsCreationView-WizardEndpointsList-WizardEndpointsList-module__wizard-list-type\"};function Br(e){var t=e.environmentIds,n=(0,me.LH)({endpointIds:t},(function(e){return!!e&&!!e.value.some(Re.f8)&&me.FQ}),0,t.length>0),a=n.environments;return(0,j.jsxs)(R.$L,{children:[(0,j.jsx)(R.PI,{icon:\"fa-plug\",title:\"New Environments\"}),(0,j.jsx)(R.kh,{children:a.map((function(e){return(0,j.jsxs)(\"div\",{className:Kr.wizardListWrapper,children:[(0,j.jsx)(\"div\",{className:Kr.wizardListImage,children:(0,j.jsx)(\"i\",{\"aria-hidden\":\"true\",className:(0,M.Z)(\"space-right\",(0,Ee.environmentTypeIcon)(e.Type))})}),(0,j.jsx)(\"div\",{className:Kr.wizardListTitle,children:e.Name}),(0,j.jsxs)(\"div\",{className:Kr.wizardListSubtitle,children:[\"URL: \",(0,Ee.stripProtocol)(e.URL)]}),(0,j.jsxs)(\"div\",{className:Kr.wizardListType,children:[\"Type: \",(0,Ee.endpointTypeName)(e.Type)]}),(0,Re.Mq)(e.Type)&&(0,j.jsx)(\"div\",{className:Kr.wizardListEdgeStatus,children:(0,j.jsx)(Fe.x,{environment:e})})]},e.Id)}))})]})}function Hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(n),!0).forEach((function(t){zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||Wr(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Wr(e,t){if(e){if(\"string\"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yr(e,t):void 0}}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}Zr.$inject=[\"$stateRegistryProvider\"];var Qr=l().module(\"portainer.app.react.views.wizard\",[]).component(\"wizardEnvironmentCreationView\",(0,T.A)((function(){var e=(0,$t.useCurrentStateAndParams)().params.localEndpointId,t=qr((0,_.useState)((function(){var t=parseInt(e,10);return!t||Number.isNaN(t)?[]:[t]})),2),n=t[0],a=t[1],r=function(){var e=(0,$t.useCurrentStateAndParams)().params.envType,t=(0,$t.useRouter)();return e?Array.isArray(e)?e:[e]:((0,y.cB)(\"No environment type provided\"),t.stateService.go(\"portainer.wizard.endpoints\"),[])}(),i=(0,rt.z$)().trackEvent,s=(0,$t.useRouter)(),o=Ne()(r.map((function(e){return Zn.find((function(t){return t.id===e}))}))),l=function(){var e=qr((0,_.useState)({dockerAgent:0,dockerApi:0,kubernetesAgent:0,kubernetesEdgeAgent:0,kaasAgent:0,aciApi:0,localEndpoint:0,nomadEdgeAgent:0,dockerEdgeAgent:0}),2),t=e[0],n=e[1];return{analytics:t,setAnalytics:function(e){n((function(t){return Gr(Gr({},t),{},zr({},e,t[e]+1))}))}}}(),c=l.analytics,u=l.setAnalytics,p=function(e,t){var n=qr((0,_.useState)(0),2),a=n[0],r=n[1],o=0===a,l=a===e.length-1,u=e[a];return{currentStep:u,onNextClick:function(){l?function(){if(i(\"endpoint-wizard-environment-add-finish\",{category:\"portainer\",metadata:Object.fromEntries(Object.entries(c).map((function(e){var t=qr(e,2),n=t[0],a=t[1];return[d()(n),a]})))}),\"environments\"===localStorage.getItem(\"wizardReferrer\"))return localStorage.removeItem(\"wizardReferrer\"),void s.stateService.go(\"portainer.endpoints\");s.stateService.go(\"portainer.home\")}():r(a+1)},onPreviousClick:function(){r(a-1)},isFirstStep:o,isLastStep:l,currentStepIndex:a,Component:function(e){switch(e){case\"docker\":return xr;case\"aci\":return Ar;case\"kubernetes\":return Mr;default:throw new Error(\"Unknown environment type \".concat(e))}}(u.id)}}(o),m=p.currentStep,g=p.onNextClick,h=p.onPreviousClick,f=p.currentStepIndex,v=p.Component,b=p.isFirstStep,w=p.isLastStep;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(At.mr,{title:\"Quick Setup\",breadcrumbs:[{label:\"Environment Wizard\"}]}),(0,j.jsxs)(\"div\",{className:\"app-react-portainer-environments-wizard-EnvironmentsCreationView-EnvironmentsCreationView-module__wizard-wrapper\",children:[(0,j.jsxs)(R.$L,{children:[(0,j.jsx)(R.PI,{icon:\"fa-magic\",title:\"Environment Wizard\"}),(0,j.jsxs)(R.kh,{children:[(0,j.jsx)(na,{steps:o,currentStep:f+1}),(0,j.jsx)(\"div\",{className:\"mt-12\",children:(0,j.jsxs)(pn,{title:\"Connect to your \".concat(m.title,\"\\n                    environment\"),children:[(0,j.jsx)(v,{onCreate:function(e,t){a((function(t){return[].concat(function(e){if(Array.isArray(e))return Yr(e)}(n=t)||function(e){if(\"undefined\"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e[\"@@iterator\"])return Array.from(e)}(n)||Wr(n)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}(),[e.Id]);var n})),u(t)}}),(0,j.jsxs)(\"div\",{className:(0,M.Z)(\"app-react-portainer-environments-wizard-EnvironmentsCreationView-EnvironmentsCreationView-module__wizard-step-action\",\"flex justify-between\"),children:[(0,j.jsxs)(z.zx,{disabled:b,onClick:h,children:[(0,j.jsx)(\"i\",{className:\"fas fa-arrow-left space-right\"}),\" Previous\"]}),(0,j.jsxs)(z.zx,{onClick:g,children:[w?\"Finish\":\"Next\",(0,j.jsx)(\"i\",{className:\"fas fa-arrow-right space-left\"})]})]})]})})]})]}),(0,j.jsx)(\"div\",{children:(0,j.jsx)(Br,{environmentIds:n})})]})]})}),[])).component(\"wizardEnvironmentTypeSelectView\",(0,T.A)((function(){var e,t,n=(e=(0,_.useState)([]),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ea(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),a=n[0],r=n[1],i=(0,rt.z$)().trackEvent,s=(0,$t.useRouter)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(At.mr,{title:\"Quick Setup\",breadcrumbs:[{label:\"Environment Wizard\"}]}),(0,j.jsx)(\"div\",{className:\"row\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsxs)(R.$L,{children:[(0,j.jsx)(R.PI,{icon:\"fa-magic\",title:\"Environment Wizard\"}),(0,j.jsxs)(R.kh,{children:[(0,j.jsx)(Xn,{value:a,onChange:r}),(0,j.jsx)(z.zx,{disabled:0===a.length,onClick:function(){return function(){if(0!==a.length){var e=Ne()(a.map((function(e){return Zn.find((function(t){return t.id===e}))})));i(\"endpoint-wizard-endpoint-select\",{category:\"portainer\",metadata:{environment:e.map((function(e){return e.title})).join(\"/\")}}),s.stateService.go(\"portainer.wizard.endpoints.create\",{envType:a})}}()},children:\"Start Wizard\"})]})]})})})]})}),[])).component(\"wizardMainView\",(0,T.A)((function(){var e=Hn(),t=(0,rt.z$)().trackEvent;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(At.mr,{title:\"Quick Setup\",breadcrumbs:[{label:\"Environment Wizard\"}]}),(0,j.jsx)(\"div\",{className:\"row\",children:(0,j.jsx)(\"div\",{className:\"col-sm-12\",children:(0,j.jsxs)(R.$L,{children:[(0,j.jsx)(R.PI,{title:\"Environment Wizard\",icon:\"fa-magic\"}),(0,j.jsx)(R.kh,{children:(0,j.jsxs)(\"div\",{className:\"row\",children:[(0,j.jsx)(\"div\",{className:\"col-sm-12 form-section-title\",children:\"Welcome to Portainer\"}),(0,j.jsxs)(\"div\",{className:\"text-muted small\",children:[\"success\"===e.status&&(0,j.jsxs)(\"p\",{children:[\"We have connected your local environment of\",Yn(e.type),\" to Portainer.\"]}),\"error\"===e.status&&(0,j.jsxs)(\"p\",{children:[\"We could not connect your local environment to Portainer.\",(0,j.jsx)(\"br\",{}),\"Please ensure your environment is correctly exposed. For help with installation visit\",(0,j.jsx)(\"a\",{href:\"https://documentation.portainer.io/quickstart/\",children:\"https://documentation.portainer.io/quickstart\"})]}),(0,j.jsx)(\"p\",{children:\"Get started below with your local portainer or connect more container environments.\"})]}),(0,j.jsxs)(\"div\",{className:\"flex flex-wrap gap-4\",children:[\"success\"===e.status&&(0,j.jsx)(De.r,{to:\"portainer.home\",className:Wn,children:(0,j.jsx)(Sn,{icon:e.type===G.Qj.Docker?\"fab fa-docker\":\"fas fa-dharmachakra\",title:\"Get Started\",description:\"Proceed using the local environment which Portainer is running in\",onClick:function(){t(\"endpoint-wizard-endpoint-select\",{category:\"portainer\",metadata:{environment:\"Get-started-local-environment\"}})}})}),(0,j.jsx)(De.r,{to:\"portainer.wizard.endpoints\",className:Wn,children:(0,j.jsx)(Sn,{title:\"Add Environments\",icon:\"fa fa-plug\",description:\"Connect to other environments\"})})]})]})})]})})})]})}),[])).config(Zr).name;function Zr(e){e.register({name:\"portainer.wizard\",url:\"/wizard\",views:{\"content@\":{component:\"wizardMainView\"}}}),e.register({name:\"portainer.wizard.endpoints.create\",url:\"/create?envType\",views:{\"content@\":{component:\"wizardEnvironmentCreationView\"}},params:{envType:\"\"}}),e.register({name:\"portainer.wizard.endpoints\",url:\"/endpoints\",views:{\"content@\":{component:\"wizardEnvironmentTypeSelectView\"}},params:{localEndpointId:0}})}var Jr=l().module(\"portainer.app.react.views\",[Qr]).name,Xr=l().module(\"portainer.app.react\",[Jr,wn]).name;const ei=n(2080),ti=n(27452),ni=n(6167),ai=n(94818),ri=n(77697),ii=n(32072),si=n(45315),oi=n(81541),li=n(62833),ci=n(11813),di=n(54658),ui=n(9391),pi=n(55150),mi=n(48508),gi=n(83178),hi=n(86573),fi=n(45564),vi=n(68970),bi=n(12811),yi=n(61233),wi=n(57642),xi=n(3799),Si=n(98864),Ci=n(93772),ki=n(2538);function $i(e){if(!e)return!0;const t=e&&e.to(),n=t?t.name:\"\";return![\"portainer.logout\",\"portainer.auth\"].some((e=>n.startsWith(e)))}angular.module(\"portainer.app\",[Jt,\"portainer.oauth\",\"portainer.rbac\",i.default,s.default,h,f.default,\"portainer.shared.datatable\",I,L,en,Xr]).config([\"$stateRegistryProvider\",function(e){var t={name:\"root\",abstract:!0,onEnter:[\"$async\",\"StateManager\",\"Authentication\",\"Notifications\",\"authManager\",\"$rootScope\",\"$state\",function(e,t,n,a,i,s,o){return e((async()=>{if(t.getState().loading)try{const e=await async function(e,t,n,a){return e.checkAuthOnRefresh(),n.$on(\"unauthenticated\",(function(e,t){r()(t.config.url,\"/v2/\")||r()(t.config.url,\"/api/v4/\")||!$i(a.transition)||a.go(\"portainer.logout\",{error:\"Your session has expired\"})})),await t.init()}(i,n,s,o);if(await t.initialize(),!e&&$i(o.transition))return o.go(\"portainer.logout\"),Promise.reject(\"Unauthenticated\")}catch(e){throw a.error(\"Failure\",e,\"Unable to retrieve application settings\"),e}}))}],views:{\"sidebar@\":{templateUrl:ei,controller:\"SidebarController\"}}},n={name:\"portainer.account\",url:\"/account\",views:{\"content@\":{templateUrl:ti,controller:\"AccountController\"}}},a={name:\"portainer.auth\",url:\"/auth\",params:{reload:!1},views:{\"content@\":{templateUrl:ni,controller:\"AuthenticationController\",controllerAs:\"ctrl\"},\"sidebar@\":{}}};const i={name:\"portainer.logout\",url:\"/logout\",params:{error:\"\",performApiLogout:!1},views:{\"content@\":{templateUrl:ai,controller:\"LogoutController\",controllerAs:\"ctrl\"},\"sidebar@\":{}}};var s={name:\"portainer.endpoints\",url:\"/endpoints\",views:{\"content@\":{templateUrl:ri,controller:\"EndpointsController\"}}},o={name:\"portainer.endpoints.endpoint\",url:\"/:id\",views:{\"content@\":{templateUrl:ii,controller:\"EndpointController\"}}};const l={name:\"portainer.k8sendpoint.kubernetesConfig\",url:\"/configure\",views:{\"content@\":{templateUrl:si,controller:\"KubernetesConfigureController\",controllerAs:\"ctrl\"}}};var c={name:\"portainer.endpoints.newEdgeDevice\",url:\"/newEdgeDevice\",params:{isEdgeDevice:!0},views:{\"content@\":{templateUrl:oi,controller:\"CreateEndpointController\"}}},d={name:\"portainer.endpoints.importDevice\",url:\"/device\",views:{\"content@\":{templateUrl:li,controller:\"ImportDeviceController\"}}},u={name:\"portainer.endpoints.endpoint.access\",url:\"/access\",views:{\"content@\":{templateUrl:ci,controller:\"EndpointAccessController\",controllerAs:\"ctrl\"}}},p={name:\"portainer.endpoints.endpoint.kvm\",url:\"/kvm?deviceId&deviceName\",views:{\"content@\":{templateUrl:di,controller:\"EndpointKVMController\"}}},m={name:\"portainer.groups\",url:\"/groups\",views:{\"content@\":{templateUrl:ui,controller:\"GroupsController\"}}},g={name:\"portainer.groups.group\",url:\"/:id\",views:{\"content@\":{templateUrl:pi,controller:\"GroupController\"}}},h={name:\"portainer.groups.new\",url:\"/new\",views:{\"content@\":{templateUrl:mi,controller:\"CreateGroupController\"}}},f={name:\"portainer.groups.group.access\",url:\"/access\",views:{\"content@\":{templateUrl:gi,controller:\"GroupAccessController\"}}},v={name:\"portainer.init.endpoint\",url:\"/endpoint\",views:{\"content@\":{templateUrl:hi,controller:\"InitEndpointController\",controllerAs:\"ctrl\"}}},b={name:\"portainer.init.admin\",url:\"/admin\",views:{\"content@\":{templateUrl:fi,controller:\"InitAdminController\"}}},y={name:\"portainer.registries\",url:\"/registries\",views:{\"content@\":{templateUrl:vi,controller:\"RegistriesController\"}}},w={name:\"portainer.settings\",url:\"/settings\",views:{\"content@\":{templateUrl:bi,controller:\"SettingsController\"}}},x={name:\"portainer.settings.authentication\",url:\"/auth\",views:{\"content@\":{templateUrl:yi,controller:\"SettingsAuthenticationController\"}}},S={name:\"portainer.tags\",url:\"/tags\",views:{\"content@\":{templateUrl:wi,controller:\"TagsController\"}}},C={name:\"portainer.users\",url:\"/users\",views:{\"content@\":{templateUrl:xi,controller:\"UsersController\"}}},k={name:\"portainer.users.user\",url:\"/:id\",views:{\"content@\":{templateUrl:Si,controller:\"UserController\"}}},$={name:\"portainer.teams\",url:\"/teams\",views:{\"content@\":{templateUrl:Ci,controller:\"TeamsController\"}}},A={name:\"portainer.teams.team\",url:\"/:id\",views:{\"content@\":{templateUrl:ki,controller:\"TeamController\"}}};e.register(t),e.register({name:\"endpoint\",url:\"/:endpointId\",parent:\"root\",abstract:!0,resolve:{endpoint:[\"$async\",\"$state\",\"$transition$\",\"EndpointProvider\",\"EndpointService\",\"Notifications\",function(e,t,n,a,r,i){return e((async()=>{try{const e=+n.params().endpointId,i=await r.endpoint(e);return 4!==i.Type&&7!==i.Type||i.EdgeID?(a.setCurrentEndpoint(i),i):void t.go(\"portainer.endpoints.endpoint\",{id:i.Id})}catch(e){return i.error(\"Failed loading environment\",e),void t.go(\"portainer.home\",{},{reload:!0})}}))}]}}),e.register({name:\"portainer\",parent:\"root\",abstract:!0}),e.register(n),e.register({name:\"portainer.account.new-access-token\",url:\"/tokens/new\",views:{\"content@\":{component:\"createUserAccessToken\"}}}),e.register(a),e.register(i),e.register(s),e.register(o),e.register({name:\"portainer.k8sendpoint\",url:\"/:id\"}),e.register(u),e.register(p),e.register(c),e.register(d),e.register({name:\"portainer.endpoints.profile\",url:\"/profile\",views:{\"content@\":{component:\"addProfileView\"}}}),e.register({name:\"portainer.endpoints.profile.edit\",url:\"/:id\",views:{\"content@\":{component:\"editProfileView\"}}}),e.register(l),e.register(m),e.register(g),e.register(f),e.register(h),e.register({name:\"portainer.home\",url:\"/home\",views:{\"content@\":{component:\"homeView\"}}}),e.register({name:\"portainer.init\",abstract:!0,url:\"/init\",views:{\"sidebar@\":{}}}),e.register(v),e.register(b),e.register(y),e.register({name:\"portainer.registries.registry\",url:\"/:id\",views:{\"content@\":{component:\"editRegistry\"}}}),e.register({name:\"portainer.registries.new\",url:\"/new\",views:{\"content@\":{component:\"createRegistry\"}}}),e.register(w),e.register(x),e.register({name:\"portainer.settings.edgeCompute\",url:\"/edge\",views:{\"content@\":{component:\"settingsEdgeComputeView\"}}}),e.register(S),e.register(C),e.register(k),e.register($),e.register(A)}])},87005:function(e,t,n){\"use strict\";n.r(t),n.d(t,{InformationPanelAngular:function(){return a}});const a={templateUrl:n(88659),bindings:{titleText:\"@\",dismissAction:\"&?\"},transclude:!0}},7255:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e){this.Authentication=e,this.display=!window.ddExtension,this.username=null}$onInit(){const e=this.Authentication.getUserDetails();e&&(this.username=e.username)}}a.$inject=[\"Authentication\"]},21578:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e){this.Authentication=e,this.display=!window.ddExtension,this.username=null}$onInit(){const e=this.Authentication.getUserDetails();e&&(this.username=e.username)}}a.$inject=[\"Authentication\"]},21366:function(e,t,n){const a=n(54296);angular.module(\"portainer.app\").component(\"accessDatatable\",{templateUrl:a,controller:\"AccessDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",roles:\"<\",tableKey:\"@\",orderBy:\"@\",removeAction:\"<\",updateAction:\"<\",reverseOrder:\"<\",inheritFrom:\"<\"}})},92681:function(){angular.module(\"portainer.app\").controller(\"AccessDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.disableRemove=function(e){return e.Inherited&&this.inheritFrom},this.allowSelection=function(e){return!this.disableRemove(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=n.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},56609:function(e,t,n){const a=n(9420);angular.module(\"portainer.app\").component(\"accessTable\",{templateUrl:a,controller:function(){this.state={orderBy:\"Name\",reverseOrder:!1,paginatedItemLimit:\"10\",textFilter:\"\"},this.changeOrderBy=function(e){this.state.reverseOrder=this.state.orderBy===e&&!this.state.reverseOrder,this.state.orderBy=e}},bindings:{dataset:\"<\",entryClick:\"<\",emptyDatasetMessage:\"@\"}})},3735:function(e,t,n){const a=n(62495);angular.module(\"portainer.app\").component(\"porAccessControlForm\",{templateUrl:a,controller:\"porAccessControlFormController\",bindings:{formData:\"=\",resourceControl:\"<\",hideTitle:\"<\"}})},86656:function(e,t,n){\"use strict\";n.r(t);var a=n(16222),r=n.n(a),i=n(51235),s=n.n(i),o=n(30424);angular.module(\"portainer.app\").controller(\"porAccessControlFormController\",[\"$q\",\"UserService\",\"TeamService\",\"Notifications\",\"Authentication\",\"ResourceControlService\",function(e,t,n,a,i,l){var c=this;c.RCO=o.X,c.availableTeams=[],c.availableUsers=[],this.$onInit=function(){var d=i.isAdmin();c.isAdmin=d,d&&(c.formData.Ownership=c.RCO.ADMINISTRATORS),e.all({availableTeams:n.teams(),availableUsers:d?t.users(!1):[]}).then((function(t){c.availableUsers=r()(t.availableUsers,\"Username\",\"asc\");var n=r()(t.availableTeams,\"Name\",\"asc\");return c.availableTeams=n,d||1!==n.length||(c.formData.AuthorizedTeams=n),e.when(c.resourceControl&&l.retrieveOwnershipDetails(c.resourceControl))})).then((function(e){if(e){var t=e.authorizedUsers,n=e.authorizedTeams;!function(e,t){t&&e.Ownership===o.X.PRIVATE?c.formData.Ownership=o.X.RESTRICTED:c.formData.Ownership=e.Ownership,c.formData.Ownership===o.X.PUBLIC&&(c.formData.AccessControlEnabled=!1)}(c.resourceControl,d),function(e,t){angular.forEach(c.availableUsers,(function(t){s()(e,{Id:t.Id})&&(t.selected=!0)})),angular.forEach(c.availableTeams,(function(e){s()(t,{Id:e.Id})&&(e.selected=!0)}))}(t,n)}})).catch((function(e){a.error(\"Failure\",e,\"Unable to retrieve access control information\")}))}}])},19898:function(e,t,n){\"use strict\";n.r(t),n.d(t,{AccessControlFormData:function(){return r}});var a=n(30424);function r(){this.AccessControlEnabled=!0,this.Ownership=a.X.PRIVATE,this.AuthorizedUsers=[],this.AuthorizedTeams=[]}},39372:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(26001),s=n(76744);t.default=r().module(\"portainer.app.component.access-management\",[]).component(\"porAccessManagement\",i.porAccessManagement).component(\"porAccessManagementUsersSelector\",s.porAccessManagementUsersSelector).name},76744:function(e,t,n){\"use strict\";n.r(t),n.d(t,{porAccessManagementUsersSelector:function(){return a}});const a={templateUrl:n(78049),bindings:{options:\"<\",value:\"=\"}}},26001:function(e,t,n){\"use strict\";n.r(t),n.d(t,{porAccessManagement:function(){return a}});const a={templateUrl:n(63185),controller:\"porAccessManagementController\",controllerAs:\"ctrl\",bindings:{accessControlledEntity:\"<\",inheritFrom:\"<\",entityType:\"@\",updateAccess:\"<\",actionInProgress:\"<\",filterUsers:\"<\",limitedFeature:\"<\"}}},22421:function(e,t,n){\"use strict\";n.r(t);var a=n(16222),r=n.n(a),i=n(41952),s=n.n(i),o=n(83432),l=n.n(o),c=n(29274),d=n.n(c),u=n(61969),p=n(20037);class m{constructor(e,t,n){Object.assign(this,{Notifications:e,AccessService:t,RoleService:n}),this.limitedToBE=!1,this.unauthorizeAccess=this.unauthorizeAccess.bind(this),this.updateAction=this.updateAction.bind(this)}updateAction(){const e=this.accessControlledEntity,t=e.UserAccessPolicies,n=e.TeamAccessPolicies,a=l()(this.authorizedUsersAndTeams,{Updated:!0,Type:\"user\",Inherited:!1}),r=l()(this.authorizedUsersAndTeams,{Updated:!0,Type:\"team\",Inherited:!1}),i=this.AccessService.generateAccessPolicies(t,n,a,r);this.accessControlledEntity.UserAccessPolicies=i.userAccessPolicies,this.accessControlledEntity.TeamAccessPolicies=i.teamAccessPolicies,this.updateAccess()}authorizeAccess(){const e=this.accessControlledEntity,t=e.UserAccessPolicies,n=e.TeamAccessPolicies,a=this.formValues.selectedRole.Id,r=l()(this.formValues.multiselectOutput,(e=>\"user\"===e.Type)),i=l()(this.formValues.multiselectOutput,(e=>\"team\"===e.Type)),s=this.AccessService.generateAccessPolicies(t,n,r,i,a);this.accessControlledEntity.UserAccessPolicies=s.userAccessPolicies,this.accessControlledEntity.TeamAccessPolicies=s.teamAccessPolicies,this.updateAccess()}unauthorizeAccess(e){const t=this.accessControlledEntity,n=t.UserAccessPolicies,a=t.TeamAccessPolicies,r=l()(e,(e=>\"user\"===e.Type)),i=l()(e,(e=>\"team\"===e.Type));s()(r,(e=>delete n[e.Id])),s()(i,(e=>delete a[e.Id])),this.updateAccess()}isRoleLimitedToBE(e){return!!this.limitedToBE&&e.ID!==u.RoleTypes.STANDARD}roleLabel(e){return this.limitedToBE?this.isRoleLimitedToBE(e)?`${e.Name} (Business Edition Feature)`:`${e.Name} (Default)`:e.Name}async $onInit(){try{this.limitedFeature&&(this.limitedToBE=(0,p.vx)(this.limitedFeature));const e=this.accessControlledEntity,t=this.inheritFrom,n=await this.RoleService.roles();this.roles=r()(n,\"Priority\",\"asc\"),this.formValues={selectedRole:this.roles.find((e=>!this.isRoleLimitedToBE(e)))};const a=await this.AccessService.accesses(e,t,this.roles);this.filterUsers&&(a.availableUsersAndTeams=this.filterUsers(a.availableUsersAndTeams)),this.availableUsersAndTeams=r()(a.availableUsersAndTeams,\"Name\",\"asc\"),this.authorizedUsersAndTeams=a.authorizedUsersAndTeams}catch(e){this.availableUsersAndTeams=[],this.authorizedUsersAndTeams=[],this.Notifications.error(\"Failure\",e,\"Unable to retrieve accesses\")}}}m.$inject=[\"Notifications\",\"AccessService\",\"RoleService\"],t.default=m,d().module(\"portainer.app\").controller(\"porAccessManagementController\",m)},439:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(98293);const s=n(3401);r().module(\"portainer.app\").component(\"associatedEndpointsSelector\",{templateUrl:s,controller:i.default,bindings:{endpointIds:\"<\",tags:\"<\",groups:\"<\",hasBackendPagination:\"<\",onAssociate:\"<\",onDissociate:\"<\"}})},98293:function(e,t,n){\"use strict\";n.r(t);var a=n(44716),r=n.n(a),i=n(83432),s=n.n(i),o=n(29274),l=n.n(o);class c{constructor(e,t){this.$async=e,this.EndpointService=t,this.state={available:{limit:\"10\",filter:\"\",pageNumber:1,totalCount:0},associated:{limit:\"10\",filter:\"\",pageNumber:1,totalCount:0}},this.endpoints={associated:[],available:null},this.getEndpoints=this.getEndpoints.bind(this),this.getEndpointsAsync=this.getEndpointsAsync.bind(this),this.getAssociatedEndpoints=this.getAssociatedEndpoints.bind(this),this.getAssociatedEndpointsAsync=this.getAssociatedEndpointsAsync.bind(this),this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this)}$onInit(){this.loadData()}$onChanges({endpointIds:e}){e&&e.currentValue&&this.loadData()}loadData(){this.getAssociatedEndpoints(),this.getEndpoints()}getEndpoints(){return this.$async(this.getEndpointsAsync)}async getEndpointsAsync(){const{start:e,search:t,limit:n}=this.getPaginationData(\"available\"),a={search:t,types:[4,7]},i=await this.EndpointService.endpoints(e,n,a),o=s()(i.value,(e=>!r()(this.endpointIds,e.Id)));this.setTableData(\"available\",o,i.totalCount),this.noEndpoints=0===this.state.available.totalCount}getAssociatedEndpoints(){return this.$async(this.getAssociatedEndpointsAsync)}async getAssociatedEndpointsAsync(){let e={value:[],totalCount:0};if(this.endpointIds.length>0){const{start:t,search:n,limit:a}=this.getPaginationData(\"associated\"),r={search:n,types:[4,7],endpointIds:this.endpointIds};e=await this.EndpointService.endpoints(t,a,r)}this.setTableData(\"associated\",e.value,e.totalCount)}associateEndpoint(e){this.onAssociate(e)}dissociateEndpoint(e){this.onDissociate(e)}getPaginationData(e){const{pageNumber:t,limit:n,search:a}=this.state[e];return{start:(t-1)*n+1,search:a,limit:n}}setTableData(e,t,n){this.endpoints[e]=t,this.state[e].totalCount=parseInt(n,10)}}c.$inject=[\"$async\",\"EndpointService\"],l().module(\"portainer.app\").controller(\"AssoicatedEndpointsSelectorController\",c),t.default=c},64054:function(){angular.module(\"portainer.app\").directive(\"autoFocus\",[\"$timeout\",function(e){return{restrict:\"A\",link:function(t,n){e((function(){n[0].focus()}))}}}])},28428:function(e,t,n){const a=n(78254);angular.module(\"portainer.app\").component(\"betaPanel\",{templateUrl:a})},66864:function(){angular.module(\"portainer.app\").directive(\"buttonSpinner\",(function(){return{restrict:\"A\",scope:{spinning:\"=buttonSpinner\"},transclude:!0,template:'<ng-transclude></ng-transclude><span ng-show=\"spinning\"><i class=\"fa fa-circle-notch fa-spin\" style=\"margin-left: 2px;\"></i>&nbsp;</span>'}}))},58945:function(e,t,n){const a=n(98778);angular.module(\"portainer.app\").component(\"codeEditor\",{templateUrl:a,controller:\"CodeEditorController\",bindings:{identifier:\"@\",placeholder:\"@\",yml:\"<\",readOnly:\"<\",onChange:\"<\",value:\"<\"}})},85150:function(){angular.module(\"portainer.app\").controller(\"CodeEditorController\",[\"$document\",\"CodeMirrorService\",\"$scope\",function(e,t,n){var a=this;this.$onChanges=function({value:e}){e&&e.currentValue&&a.editor&&a.editor.getValue()!==e.currentValue&&a.editor.setValue(e.currentValue)},this.$onInit=function(){e.ready((function(){var r=e[0].getElementById(a.identifier);a.editor=t.applyCodeMirrorOnElement(r,a.yml,a.readOnly),a.onChange&&a.editor.on(\"change\",((...e)=>n.$evalAsync((()=>a.onChange(...e))))),a.value&&a.editor.setValue(a.value)}))}}])},28944:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e){this.clipboard=e,this.state={isFading:!1}}copyValueText(){this.clipboard.copyText(this.value),this.state.isFading=!0,setTimeout((()=>this.state.isFading=!1),1e3)}}a.$inject=[\"clipboard\"]},27816:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(28944);const s=n(18164);r().module(\"portainer.app\").component(\"copyButton\",{templateUrl:s,controller:i.default,bindings:{value:\"<\"}})},99614:function(e,t,n){\"use strict\";n.r(t);class a{constructor(){this.platformTypes=[{label:\"Linux\",value:1},{label:\"Windows\",value:2}],this.templateTypes=[{label:\"Swarm\",value:1},{label:\"Standalone\",value:2}]}}a.$inject=[],t.default=a},26453:function(e,t,n){\"use strict\";n.r(t);var a=n(99614);const r=n(48794);angular.module(\"portainer.app\").component(\"customTemplateCommonFields\",{templateUrl:r,controller:a.default,bindings:{formValues:\"=\",showPlatformField:\"<\",showTypeField:\"<\",nameRegex:\"<\"}})},45165:function(e,t,n){\"use strict\";n.r(t);class a{constructor(e,t,n){Object.assign(this,{$async:e,CustomTemplateService:t,Notifications:n}),this.selectedTemplate=null,this.templates=null}async handleChangeTemplate(e){this.selectedTemplate=this.templates.find((t=>t.Id===e)),this.onChange(e,this.selectedTemplate)}$onChanges({value:e}){e&&e.currentValue&&this.templates&&this.handleChangeTemplate(e.currentValue)}$onInit(){return this.$async((async()=>{try{const e=await this.CustomTemplateService.customTemplates(this.stackType);this.templates=e.map((e=>({...e,label:`${e.Title} - ${e.Description}`}))),this.value&&this.handleChangeTemplate(this.value)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve Custom Templates\")}}))}}a.$inject=[\"$async\",\"CustomTemplateService\",\"Notifications\"],t.default=a},16970:function(e,t,n){\"use strict\";n.r(t),n.d(t,{customTemplateSelector:function(){return s}});var a=n(29274),r=n.n(a),i=n(45165);const s={templateUrl:n(43921),controller:i.default,bindings:{newTemplatePath:\"@\",stackType:\"<\",value:\"<\",onChange:\"<\"}};r().module(\"portainer.app\").component(\"customTemplateSelector\",s)},85452:function(){angular.module(\"portainer.docker\").controller(\"CustomTemplatesListController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.typeLabel=function(e){switch(e){case 1:return\"swarm\";case 3:return\"manifest\";default:return\"standalone\"}},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=n.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},9578:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);const i=n(81704);r().module(\"portainer.app\").component(\"customTemplatesList\",{templateUrl:i,controller:\"CustomTemplatesListController\",bindings:{titleText:\"@\",titleIcon:\"@\",templates:\"<\",tableKey:\"@\",onSelectClick:\"<\",showSwarmStacks:\"<\",onDeleteClick:\"<\",isEditAllowed:\"<\",createPath:\"@\",editPath:\"@\"}})},43926:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e,t,n,a){angular.extend(this,n(\"GenericDatatableController\",{$scope:e})),this.onClickAdd=()=>{this.uiCanExit()&&t.go(\"portainer.account.new-access-token\")},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset();const e=a.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);const t=a.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());const n=a.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.onSettingsRepeaterChange()}}}a.$inject=[\"$scope\",\"$state\",\"$controller\",\"DatatableService\"]},80127:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(43926);const s=n(24122);r().module(\"portainer.app\").component(\"accessTokensDatatable\",{templateUrl:s,controller:i.default,bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",removeAction:\"<\",uiCanExit:\"<\"}})},76752:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(){this.state={isOpen:!1}}}},13877:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(76752);const s=n(58430);r().module(\"portainer.app\").component(\"datatableColumnsVisibility\",{templateUrl:s,controller:i.default,bindings:{columns:\"<\",onChange:\"<\"}})},56210:function(e,t,n){const a=n(75970);angular.module(\"portainer.app\").component(\"endpointsDatatable\",{templateUrl:a,controller:\"EndpointsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",retrievePage:\"<\"}})},805:function(){angular.module(\"portainer.app\").controller(\"EndpointsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"PaginationService\",\"Notifications\",function(e,t,n,a){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{orderBy:this.orderBy,loading:!0,filteredDataSet:[],totalFilteredDataset:0,pageNumber:1}),this.paginationChanged=function(){this.state.loading=!0,this.state.filteredDataSet=[];const e=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1;this.retrievePage(e,this.state.paginatedItemLimit,this.state.textFilter).then((e=>{this.state.filteredDataSet=e.endpoints,this.state.totalFilteredDataSet=e.totalCount})).finally((()=>{this.state.loading=!1}))},this.onPageChange=function(e){this.state.pageNumber=e,this.paginationChanged()},this.setReferrer=function(){window.localStorage.setItem(\"wizardReferrer\",\"environments\")},this.onTextFilterChange=function(){var e=this.state.textFilter;n.setDataTableTextFilters(this.tableKey,e),this.paginationChanged()},this.changePaginationLimit=function(){a.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChanged()},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset();var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.paginationChanged()}}])},38058:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{isEnabled(){return 0<this.state.length&&this.state.length<this.labels.length}onChangeItem(e){return this.isChecked(e)?this.onChange(this.filterKey,this.state.filter((t=>t!==e))):this.onChange(this.filterKey,[...this.state,e])}isChecked(e){return this.state.includes(e)}}},59001:function(e,t,n){\"use strict\";n.r(t),n.d(t,{datatableFilter:function(){return i}});var a=n(38058);const r=n(29656),i={bindings:{labels:\"<\",state:\"<\",filterKey:\"@\",onChange:\"<\"},controller:a.default,templateUrl:r,transclude:!0}},11471:function(e,t,n){\"use strict\";n.r(t);var a=n(25445),r=n.n(a),i=n(46006),s=n.n(i),o=n(41952),l=n.n(o),c=n(83432),d=n.n(c),u=n(66539),p=n.n(u),m=n(30424),g=n(52474);angular.module(\"portainer.app\").controller(\"GenericDatatableController\",[\"$interval\",\"PaginationService\",\"DatatableService\",\"PAGINATION_MAX_ITEMS\",function(e,t,n,a){this.RCO=m.X,this.state={selectAll:!1,orderBy:this.orderBy,paginatedItemLimit:a,displayTextFilter:!1,get selectedItemCount(){return this.selectedItems.length||0},selectedItems:[]},this.settings={open:!1,repeater:{autoRefresh:!1,refreshRate:\"30\"}},this.resetSelectionState=function(){this.state.selectAll=!1,this.state.selectedItems=[],p()(this.state.filteredDataSet,(e=>e.Checked=!1))},this.onTextFilterChange=function(){n.setDataTableTextFilters(this.tableKey,this.state.textFilter)},this.changeOrderBy=function(e){this.state.reverseOrder=this.state.orderBy===e&&!this.state.reverseOrder,this.state.orderBy=e,n.setDataTableOrder(this.tableKey,e,this.state.reverseOrder)},this.selectItem=function(e,t){if(t&&t.originalEvent.shiftKey&&this.state.firstClickedItem){const t=this.state.filteredDataSet.indexOf(this.state.firstClickedItem),n=this.state.filteredDataSet.indexOf(e),a=d()(this.state.filteredDataSet,((e,a)=>function(e,t,n){return e>=t&&e<=n||e>=n&&e<=t}(a,t,n))),r=this.state.firstClickedItem.Checked;l()(a,(e=>{this.allowSelection(e)&&(e.Checked=r)})),this.state.firstClickedItem=e}else t&&(e.Checked=!e.Checked,this.state.firstClickedItem=e);this.state.selectedItems=s()(r()(this.state.selectedItems,this.state.filteredDataSet)).filter((e=>e.Checked)),t&&this.state.selectAll&&this.state.selectedItems.length!==this.state.filteredDataSet.length&&(this.state.selectAll=!1),this.onSelectionChanged()},this.selectAll=function(){this.state.firstClickedItem=null;for(var e=0;e<this.state.filteredDataSet.length;e++){var t=this.state.filteredDataSet[e];this.allowSelection(t)&&t.Checked!==this.state.selectAll&&(t.Checked=this.state.selectAll,this.selectItem(t))}this.onSelectionChanged()},this.allowSelection=function(){return!0},this.prepareTableFromDataset=function(){},this.onSelectionChanged=function(){},this.changePaginationLimit=function(){t.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit)},this.setDefaults=function(){this.showTextFilter=!!this.showTextFilter&&this.showTextFilter,this.state.reverseOrder=!!this.reverseOrder&&this.reverseOrder,this.state.paginatedItemLimit=t.getPaginationLimit(this.tableKey)},this.$onInit=function(){this.$onInitGeneric()},this.$onInitGeneric=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=n.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange();var i=n.getColumnVisibilitySettings(this.tableKey);null!==i&&(this.columnVisibility=i)},this.repeater=void 0,this.$onDestroy=function(){this.stopRepeater()},this.stopRepeater=function(){angular.isDefined(this.repeater)&&(e.cancel(this.repeater),this.repeater=void 0)},this.startRepeater=function(){this.repeater=e((async()=>{await this.refreshCallback(),this.onDataRefresh()}),1e3*this.settings.repeater.refreshRate)},this.onSettingsRepeaterChange=function(){this.stopRepeater(),angular.isDefined(this.refreshCallback)&&this.settings.repeater.autoRefresh&&(this.startRepeater(),g(\"#refreshRateChange\").show(),g(\"#refreshRateChange\").fadeOut(1500)),n.setDataTableSettings(this.tableKey,this.settings)},this.onDataRefresh=function(){}}])},36864:function(e,t,n){const a=n(34095);angular.module(\"portainer.app\").component(\"groupsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\"}})},41101:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=(n(22479),n(58973)),s=n(76224),o=n(62040),l=n(21757),c=n(59001);t.default=r().module(\"portainer.shared.datatable\",[\"angularUtils.directives.dirPagination\"]).component(\"datatableTitlebar\",i.datatableTitlebar).component(\"datatableSearchbar\",s.datatableSearchbar).component(\"datatableSortIcon\",o.datatableSortIcon).component(\"datatablePagination\",l.datatablePagination).component(\"datatableFilter\",c.datatableFilter).name},21757:function(e,t,n){\"use strict\";n.r(t),n.d(t,{datatablePagination:function(){return a}});const a={bindings:{onChangeLimit:\"<\",limit:\"<\",enableNoLimit:\"<\",onChangePage:\"<\"},templateUrl:n(5050)}},44145:function(e,t,n){const a=n(81853);angular.module(\"portainer.app\").component(\"registriesDatatable\",{templateUrl:a,controller:\"RegistriesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",canBrowse:\"<\",endpointType:\"<\",canManageAccess:\"<\"}})},63188:function(e,t,n){\"use strict\";n.r(t);var a=n(26196),r=n(74808);function i(e,t,n,i,s){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.allowSelection=function(e){return e.Id},this.enableGoToLink=e=>this.isAdmin&&e.Id&&!this.endpointType,this.goToRegistry=function(e){this.endpointType===r.PortainerEndpointTypes.KubernetesLocalEnvironment||this.endpointType===r.PortainerEndpointTypes.AgentOnKubernetesEnvironment||this.endpointType===r.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment?n.go(\"kubernetes.registries.registry\",{id:e.Id}):this.endpointType===r.PortainerEndpointTypes.DockerEnvironment||this.endpointType===r.PortainerEndpointTypes.AgentOnDockerEnvironment||this.endpointType===r.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment?n.go(\"docker.registries.registry\",{id:e.Id}):n.go(\"portainer.registries.registry\",{id:e.Id})},this.redirectToManageAccess=function(e){this.endpointType===r.PortainerEndpointTypes.KubernetesLocalEnvironment||this.endpointType===r.PortainerEndpointTypes.AgentOnKubernetesEnvironment||this.endpointType===r.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment?n.go(\"kubernetes.registries.access\",{id:e.Id}):n.go(\"docker.registries.access\",{id:e.Id})},this.$onInit=function(){this.limitedFeature=a.tE.REGISTRY_MANAGEMENT,this.isAdmin=i.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=s.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=s.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=s.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=s.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange();var o=s.getColumnVisibilitySettings(this.tableKey);null!==o&&(this.columnVisibility=o)}}i.$inject=[\"$scope\",\"$controller\",\"$state\",\"Authentication\",\"DatatableService\"],angular.module(\"portainer.docker\").controller(\"RegistriesDatatableController\",i)},76224:function(e,t,n){\"use strict\";n.r(t),n.d(t,{datatableSearchbar:function(){return a}});const a={bindings:{onChange:\"<\",ngModel:\"<\"},templateUrl:n(15369)}},81749:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{isCurrentSortOrder(){return this.selectedSortKey===this.key}}},62040:function(e,t,n){\"use strict\";n.r(t),n.d(t,{datatableSortIcon:function(){return i}});var a=n(81749);const r=n(39477),i={bindings:{key:\"@\",selectedSortKey:\"@\",reverseOrder:\"<\"},controller:a.default,templateUrl:r}},97203:function(e,t,n){const a=n(68861);angular.module(\"portainer.app\").component(\"stacksDatatable\",{templateUrl:a,controller:\"StacksDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",offlineMode:\"<\",refreshCallback:\"<\",createEnabled:\"<\"}})},97433:function(){angular.module(\"portainer.app\").controller(\"StacksDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"Authentication\",function(e,t,n,a){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.filters={state:{open:!1,enabled:!1,showActiveStacks:!0,showUnactiveStacks:!0}},this.columnVisibility={state:{open:!1},columns:{updated:{label:\"Updated\",display:!1}}},this.onColumnVisibilityChange=function(e){this.columnVisibility.columns=e,n.setColumnVisibilitySettings(this.tableKey,this.columnVisibility)}.bind(this),this.allowSelection=function(e){return!(e.External&&2===e.Type||e.External&&!this.isAdmin)},this.applyFilters=function(e){const{showActiveStacks:t,showUnactiveStacks:n}=this.filters.state;return e.Orphaned?e.OrphanedRunning||this.settings.allOrphanedStacks:1===e.Status&&t||2===e.Status&&n||e.External||!e.Status}.bind(this),this.onFilterChange=function(){const{showActiveStacks:e,showUnactiveStacks:t}=this.filters.state;this.filters.state.enabled=!e||!t,n.setDataTableFilters(this.tableKey,this.filters)}.bind(this),this.onSettingsAllOrphanedStacksChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.$onInit=function(){this.isAdmin=a.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var r=n.getDataTableFilters(this.tableKey);null!==r&&(this.filters=r),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1,this.settings.allOrphanedStacks=this.settings.allOrphanedStacks&&this.isAdmin),this.onSettingsRepeaterChange();var s=n.getColumnVisibilitySettings(this.tableKey);null!==s&&(this.columnVisibility=s)}}])},59198:function(e,t,n){\"use strict\";n.r(t),n.d(t,{stringsDatatable:function(){return i}});var a=n(29274),r=n.n(a);const i={templateUrl:n(83287),controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",emptyDatasetMessage:\"@\",columnHeader:\"@\",tableKey:\"@\",onRemove:\"<\"}};r().module(\"portainer.app\").component(\"stringsDatatable\",i)},96447:function(e,t,n){const a=n(30908);angular.module(\"portainer.app\").component(\"tagsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\"}})},85514:function(e,t,n){const a=n(80155);angular.module(\"portainer.app\").component(\"teamsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",isAdmin:\"<\"}})},58973:function(e,t,n){\"use strict\";n.r(t),n.d(t,{datatableTitlebar:function(){return a}});const a={bindings:{icon:\"@\",title:\"@\",feature:\"@\"},templateUrl:n(10049)}},59322:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(92040);const s=n(63978);r().module(\"portainer.app\").component(\"usersDatatable\",{templateUrl:s,controller:i.default,bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",authenticationMethod:\"<\",isAdmin:\"<\"}})},92040:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e,t){const n=this.allowSelection;angular.extend(this,e(\"GenericDatatableController\",{$scope:t})),this.allowSelection=n.bind(this)}allowSelection(e){return 1!==e.Id}}a.$inject=[\"$controller\",\"$scope\"]},62424:function(e,t,n){\"use strict\";n.r(t);class a{constructor(e){Object.assign(this,{StateManager:e}),this.isDemo=!1}$onInit(){const e=this.StateManager.getState();this.isDemo=e.application.demoEnvironment.enabled}}a.$inject=[\"StateManager\"],t.default=a},96026:function(e,t,n){\"use strict\";n.r(t),n.d(t,{demoFeatureIndicator:function(){return s}});var a=n(29274),r=n.n(a),i=n(62424);const s={templateUrl:n(86943),controller:i.default,bindings:{content:\"<\"}};r().module(\"portainer.app\").component(\"demoFeatureIndicator\",s)},32005:function(e,t,n){const a=n(2241);angular.module(\"portainer.app\").component(\"endpointSelector\",{templateUrl:a,controller:\"EndpointSelectorController\",bindings:{model:\"=\",endpoints:\"<\",groups:\"<\"}})},84330:function(e,t,n){\"use strict\";n.r(t);var a=n(40714),r=n.n(a);angular.module(\"portainer.app\").controller(\"EndpointSelectorController\",(function(){var e=this;this.sortGroups=function(e){return r()(e,[\"name\"])},this.groupEndpoints=function(t){for(var n=0;n<e.availableGroups.length;n++){var a=e.availableGroups[n];if(t.GroupId===a.Id)return a.Name}},this.$onInit=function(){var e,t;this.availableGroups=(e=this.groups,t=this.endpoints,e.filter((function(e){for(var n=0;n<t.length;n++)if(t[n].GroupId===e.Id)return!0;return!1})))}}))},39590:function(e,t,n){const a=n(9062);angular.module(\"portainer.app\").component(\"porEndpointSecurity\",{templateUrl:a,controller:\"porEndpointSecurityController\",bindings:{formData:\"=\",endpoint:\"<\"}})},59810:function(){angular.module(\"portainer.app\").controller(\"porEndpointSecurityController\",[function(){var e=this;this.$onInit=function(){if(e.endpoint){var t=e.endpoint,n=t.TLSConfig.TLS;e.formData.TLS=n;var a=t.TLSConfig.TLSCACert;e.formData.TLSCACert=a;var r=t.TLSConfig.TLSCert;e.formData.TLSCert=r;var i=t.TLSConfig.TLSKey;e.formData.TLSKey=i,n&&(e.formData.TLSMode=a&&r&&i?\"tls_client_ca\":r&&i?\"tls_client_noca\":a?\"tls_ca\":\"tls_only\")}}}])},25229:function(e,t,n){\"use strict\";function a(){this.TLS=!1,this.TLSMode=\"tls_client_ca\",this.TLSCACert=null,this.TLSCert=null,this.TLSKey=null}n.r(t),n.d(t,{EndpointSecurityFormData:function(){return a}})},72532:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return r}});var a=n(93994);class r{constructor(){this.mode=\"simple\",this.editorText=\"\",this.switchEnvMode=this.switchEnvMode.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.handleSimpleChange=this.handleSimpleChange.bind(this)}switchEnvMode(){if(\"simple\"===this.mode){const e=(0,a.convertToArrayOfStrings)(this.ngModel).join(\"\\n\");this.editorText=e,this.mode=\"advanced\"}else this.mode=\"simple\"}handleSimpleChange(e){this.onChange(e)}editorUpdate(e){this.editorText=e.getValue(),this.onChange((0,a.parseDotEnvFile)(this.editorText))}}r.$inject=[]},19695:function(e,t,n){\"use strict\";n.r(t),t.default=class{onChangeName(e){void 0===e||this.onChange(this.index,{...this.variable,name:e})}onChangeValue(e){void 0===e||this.onChange(this.index,{...this.variable,value:e})}hasValue(){return void 0!==this.variable.value}removeValue(){this.onChange(this.index,{name:this.variable.name})}$onInit(){this.formName=`variableForm${this.index}`}}},47254:function(e,t,n){\"use strict\";n.r(t),n.d(t,{environmentVariablesSimpleModeItem:function(){return s}});var a=n(29274),r=n.n(a),i=n(19695);const s={templateUrl:n(52927),controller:i.default,bindings:{variable:\"<\",index:\"<\",onChange:\"<\",onRemove:\"<\"}};r().module(\"portainer.app\").component(\"environmentVariablesSimpleModeItem\",s)},17272:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return r}});var a=n(93994);class r{constructor(e){this.$async=e,this.onChangeVariable=this.onChangeVariable.bind(this),this.remove=this.remove.bind(this)}add(){this.onChange([...this.ngModel,{name:\"\",value:\"\"}])}remove(e){this.onChange(this.ngModel.filter(((t,n)=>n!==e)))}addFromFile(e){return this.$async((async()=>{if(!e)return;const t=await this.getTextFromFile(e),n=(0,a.parseDotEnvFile)(t);this.onChange(this.ngModel.concat(n))}))}getTextFromFile(e){return new Promise(((t,n)=>{const a=new FileReader;a.readAsText(e),a.onload=e=>t(e.target.result),a.onerror=e=>n(e)}))}onChangeVariable(e,t){this.onChange(this.ngModel.map(((n,a)=>a!==e?n:t)))}}r.$inject=[\"$async\"]},61311:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(17272);const s=n(9277);r().module(\"portainer.app\").component(\"environmentVariablesSimpleMode\",{templateUrl:s,controller:i.default,bindings:{ngModel:\"<\",onSwitchModeClick:\"<\",onChange:\"<\"}})},5633:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(72532);const s=n(94176);r().module(\"portainer.app\").component(\"environmentVariablesPanel\",{templateUrl:s,controller:i.default,bindings:{ngModel:\"<\",explanation:\"@\",onChange:\"<\"}})},87508:function(e,t,n){\"use strict\";n.r(t);var a=n(29274);n.n(a)().module(\"portainer.app\").directive(\"focusIf\",[\"$timeout\",function(e){return{restrict:\"A\",link:function(t,n,a){var r=n[0];function i(n){n&&e((function(){r.focus()}),t.$eval(a.focusDelay)||0)}a.focusIf?t.$watch(a.focusIf,i):i(!0)}}}])},74075:function(e,t,n){\"use strict\";n.r(t),n.d(t,{fileUploadForm:function(){return a}});const a={templateUrl:n(49424),bindings:{file:\"<\",ngRequired:\"<\",onChange:\"<\"},transclude:{description:\"?fileUploadDescription\"}}},39068:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(67653),s=n(74075),o=n(16413),l=n(42629);t.default=r().module(\"portainer.app.components.form\",[]).component(\"webEditorForm\",i.webEditorForm).component(\"fileUploadForm\",s.fileUploadForm).component(\"fileUploadField\",l.Ar).component(\"porSwitchField\",o.m).name},67653:function(e,t,n){\"use strict\";n.r(t),n.d(t,{webEditorForm:function(){return r}});var a=n(32340);const r={templateUrl:n(57582),controller:a.default,bindings:{identifier:\"@\",placeholder:\"@\",yml:\"<\",value:\"<\",onChange:\"<\"},transclude:{description:\"?editorDescription\"}}},32340:function(e,t,n){\"use strict\";n.r(t);class a{constructor(){this.editorUpdate=this.editorUpdate.bind(this)}editorUpdate(e){this.onChange(e.getValue())}}a.$inject=[],t.default=a},27190:function(e,t,n){\"use strict\";n.r(t),t.default=class{onChangePath(e){void 0===e||this.onChange(this.index,{value:e})}removeValue(){this.onChange(this.index)}$onInit(){this.formName=`variableForm${this.index}`}}},83208:function(e,t,n){\"use strict\";n.r(t),n.d(t,{gitFormAdditionalFileItem:function(){return r}});var a=n(27190);const r={templateUrl:n(10852),controller:a.default,bindings:{variable:\"<\",index:\"<\",onChange:\"<\",onRemove:\"<\"}}},17968:function(e,t,n){\"use strict\";n.r(t);class a{constructor(){this.add=this.add.bind(this),this.onChangeVariable=this.onChangeVariable.bind(this)}add(){this.model.AdditionalFiles.push(\"\")}onChangeVariable(e,t){t?this.model.AdditionalFiles[e]=t.value:this.model.AdditionalFiles.splice(e,1),this.onChange({...this.model,AdditionalFiles:this.model.AdditionalFiles})}}a.$inject=[],t.default=a},7274:function(e,t,n){\"use strict\";n.r(t),n.d(t,{gitFormAdditionalFilesPanel:function(){return r}});var a=n(17968);const r={templateUrl:n(65568),controller:a.default,bindings:{model:\"<\",onChange:\"<\"}}},10789:function(e,t,n){\"use strict\";n.r(t);class a{constructor(e){Object.assign(this,{$scope:e}),this.authValues={username:\"\",password:\"\"},this.handleChange=this.handleChange.bind(this),this.onChangeField=this.onChangeField.bind(this),this.onChangeAuth=this.onChangeAuth.bind(this),this.onChangeUsername=this.onChangeField(\"RepositoryUsername\"),this.onChangePassword=this.onChangeField(\"RepositoryPassword\")}handleChange(...e){this.$scope.$evalAsync((()=>{this.onChange(...e)}))}onChangeField(e){return t=>{this.handleChange({...this.model,[e]:t})}}onChangeAuth(e){e||(this.authValues.username=this.model.RepositoryUsername,this.authValues.password=this.model.RepositoryPassword),this.handleChange({...this.model,RepositoryAuthentication:e,RepositoryUsername:e?this.authValues.username:\"\",RepositoryPassword:e?this.authValues.password:\"\"})}$onInit(){this.model.RepositoryAuthentication&&(this.authValues.username=this.model.RepositoryUsername,this.authValues.password=this.model.RepositoryPassword)}}a.$inject=[\"$scope\"],t.default=a},48980:function(e,t,n){\"use strict\";n.r(t),n.d(t,{gitFormAuthFieldset:function(){return r}});var a=n(10789);const r={templateUrl:n(98173),controller:a.default,bindings:{model:\"<\",onChange:\"<\",showAuthExplanation:\"<\",isEdit:\"<\"}}},12847:function(e,t,n){\"use strict\";n.r(t);var a=n(26196),r=n(52474);class i{constructor(e,t){Object.assign(this,{$scope:e,clipboard:t}),this.onChangeAutoUpdate=this.onChangeField(\"RepositoryAutomaticUpdates\"),this.onChangeMechanism=this.onChangeField(\"RepositoryMechanism\"),this.onChangeInterval=this.onChangeField(\"RepositoryFetchInterval\"),this.limitedFeature=a.tE.FORCE_REDEPLOYMENT,this.stackPullImageFeature=a.tE.STACK_PULL_IMAGE}copyWebhook(){this.clipboard.copyText(this.model.RepositoryWebhookURL),r(\"#copyNotification\").show(),r(\"#copyNotification\").fadeOut(2e3)}onChangeField(e){return t=>{this.$scope.$evalAsync((()=>{this.onChange({...this.model,[e]:t})}))}}}i.$inject=[\"$scope\",\"clipboard\"],t.default=i},34385:function(e,t,n){\"use strict\";n.r(t),n.d(t,{gitFormAutoUpdateFieldset:function(){return r}});var a=n(12847);const r={templateUrl:n(17560),controller:a.default,bindings:{model:\"<\",onChange:\"<\",showForcePullImage:\"<\"}}},39926:function(e,t,n){\"use strict\";n.r(t),n.d(t,{gitFormComposePathField:function(){return a}});const a={templateUrl:n(6942),bindings:{deployMethod:\"@\",value:\"<\",onChange:\"<\"}}},78356:function(e,t,n){\"use strict\";n.r(t),n.d(t,{gitFormInfoPanel:function(){return a}});const a={templateUrl:n(48037),bindings:{url:\"<\",configFilePath:\"<\",additionalFiles:\"<\",className:\"@\",type:\"@\"}}},65830:function(e,t,n){\"use strict\";n.r(t),n.d(t,{gitFormRefField:function(){return a}});const a={templateUrl:n(6605),bindings:{value:\"<\",onChange:\"<\"}}},4680:function(e,t,n){\"use strict\";n.r(t),n.d(t,{gitFormUrlField:function(){return a}});const a={templateUrl:n(53754),bindings:{value:\"<\",onChange:\"<\"}}},93632:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(){this.onChangeField=this.onChangeField.bind(this),this.onChangeURL=this.onChangeField(\"RepositoryURL\"),this.onChangeRefName=this.onChangeField(\"RepositoryReferenceName\"),this.onChangeComposePath=this.onChangeField(\"ComposeFilePathInRepository\")}onChangeField(e){return t=>{this.onChange({...this.model,[e]:t})}}$onInit(){this.deployMethod=this.deployMethod||\"compose\"}}a.$inject=[]},97525:function(e,t,n){\"use strict\";n.r(t),n.d(t,{gitForm:function(){return r}});var a=n(93632);const r={templateUrl:n(23283),controller:a.default,bindings:{deployMethod:\"@\",model:\"<\",onChange:\"<\",additionalFile:\"<\",autoUpdate:\"<\",showAuthExplanation:\"<\",showForcePullImage:\"<\"}}},8540:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(97525),s=n(48980),o=n(7274),l=n(83208),c=n(34385),d=n(39926),u=n(65830),p=n(4680),m=n(78356);t.default=r().module(\"portainer.app.components.forms.git\",[]).component(\"gitFormComposePathField\",d.gitFormComposePathField).component(\"gitFormRefField\",u.gitFormRefField).component(\"gitForm\",i.gitForm).component(\"gitFormUrlField\",p.gitFormUrlField).component(\"gitFormInfoPanel\",m.gitFormInfoPanel).component(\"gitFormAdditionalFilesPanel\",o.gitFormAdditionalFilesPanel).component(\"gitFormAdditionalFileItem\",l.gitFormAdditionalFileItem).component(\"gitFormAutoUpdateFieldset\",c.gitFormAutoUpdateFieldset).component(\"gitFormAuthFieldset\",s.gitFormAuthFieldset).name},95189:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(37134);const s=n(69688);r().module(\"portainer.app\").component(\"groupForm\",{templateUrl:s,controller:i.default,bindings:{loaded:\"<\",pageType:\"@\",model:\"=\",availableEndpoints:\"=\",associatedEndpoints:\"=\",addLabelAction:\"<\",removeLabelAction:\"<\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\"}})},37134:function(e,t,n){\"use strict\";n.r(t);var a=n(71204),r=n.n(a),i=n(44716),s=n.n(i),o=n(29274),l=n.n(o);class c{constructor(e,t,n,a,r,i){this.$q=e,this.$scope=t,this.EndpointService=n,this.GroupService=a,this.Notifications=r,this.Authentication=i,this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this),this.getPaginatedEndpointsByGroup=this.getPaginatedEndpointsByGroup.bind(this),this.onChangeTags=this.onChangeTags.bind(this)}onChangeTags(e){return this.$scope.$evalAsync((()=>{this.model.TagIds=e}))}$onInit(){this.state={available:{limit:\"10\",filter:\"\",pageNumber:1,totalCount:0},associated:{limit:\"10\",filter:\"\",pageNumber:1,totalCount:0},allowCreateTag:this.Authentication.isAdmin()}}associateEndpoint(e){\"create\"!==this.pageType||s()(this.associatedEndpoints,e)?\"edit\"===this.pageType&&this.GroupService.addEndpoint(this.model.Id,e).then((()=>{this.Notifications.success(\"Success\",\"Environment successfully added to group\"),this.reloadTablesContent()})).catch((e=>this.Notifications.error(\"Error\",e,\"Unable to add environment to group\"))):this.associatedEndpoints.push(e)}dissociateEndpoint(e){\"create\"===this.pageType?r()(this.associatedEndpoints,(t=>t.Id===e.Id)):\"edit\"===this.pageType&&this.GroupService.removeEndpoint(this.model.Id,e.Id).then((()=>{this.Notifications.success(\"Success\",\"Environment successfully removed from group\"),this.reloadTablesContent()})).catch((e=>this.Notifications.error(\"Error\",e,\"Unable to remove environment from group\")))}reloadTablesContent(){this.getPaginatedEndpointsByGroup(this.pageType,\"available\"),this.getPaginatedEndpointsByGroup(this.pageType,\"associated\"),this.GroupService.group(this.model.Id).then((e=>{this.model=e}))}getPaginatedEndpointsByGroup(e,t){if(\"available\"===t){const e=this.state.available,t=(e.pageNumber-1)*e.limit+1;this.EndpointService.endpointsByGroup(t,e.limit,e.filter,1).then((e=>{this.availableEndpoints=e.value,this.state.available.totalCount=e.totalCount}))}else if(\"associated\"===t&&\"edit\"===e){const e=this.model.Id?this.model.Id:1,t=this.state.associated,n=(t.pageNumber-1)*t.limit+1;this.EndpointService.endpointsByGroup(n,t.limit,t.filter,e).then((e=>{this.associatedEndpoints=e.value,this.state.associated.totalCount=e.totalCount}))}}}c.$inject=[\"$q\",\"$scope\",\"EndpointService\",\"GroupService\",\"Notifications\",\"Authentication\"],l().module(\"portainer.app\").controller(\"GroupFormController\",c),t.default=c},29037:function(e,t,n){\"use strict\";n.r(t);class a{constructor(e,t,n,a,r){this.$async=e,this.$state=t,this.StackService=n,this.ModalService=a,this.Notifications=r,this.state={saveGitSettingsInProgress:!1,redeployInProgress:!1,showConfig:!0,isEdit:!1},this.formValues={RefName:\"\",RepositoryAuthentication:!1,RepositoryUsername:\"\",RepositoryPassword:\"\"},this.onChange=this.onChange.bind(this),this.onChangeRef=this.onChangeRef.bind(this)}onChangeRef(e){this.onChange({RefName:e})}onChange(e){this.formValues={...this.formValues,...e}}async pullAndRedeployApplication(){return this.$async((async()=>{try{if(!await this.ModalService.confirmAsync({title:\"Are you sure?\",message:\"Any changes to this application will be overriden by the definition in git and may cause a service interruption. Do you wish to continue?\",buttons:{confirm:{label:\"Update\",className:\"btn-warning\"}}}))return;this.state.redeployInProgress=!0,await this.StackService.updateKubeGit(this.stack.Id,this.stack.EndpointId,this.namespace,this.formValues),this.Notifications.success(\"Pulled and redeployed stack successfully\"),await this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Failed redeploying application\")}finally{this.state.redeployInProgress=!1}}))}async saveGitSettings(){return this.$async((async()=>{try{this.state.saveGitSettingsInProgress=!0,await this.StackService.updateKubeStack({EndpointId:this.stack.EndpointId,Id:this.stack.Id},null,this.formValues),this.Notifications.success(\"Save stack settings successfully\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to save application settings\")}finally{this.state.saveGitSettingsInProgress=!1}}))}isSubmitButtonDisabled(){return this.state.saveGitSettingsInProgress||this.state.redeployInProgress}$onInit(){this.formValues.RefName=this.stack.GitConfig.ReferenceName,this.stack.GitConfig&&this.stack.GitConfig.Authentication&&(this.formValues.RepositoryUsername=this.stack.GitConfig.Authentication.Username,this.formValues.RepositoryAuthentication=!0,this.state.isEdit=!0)}}a.$inject=[\"$async\",\"$state\",\"StackService\",\"ModalService\",\"Notifications\"],t.default=a},34323:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(29037);const s={templateUrl:n(5032),controller:i.default,bindings:{namespace:\"<\",stack:\"<\"}};r().module(\"portainer.app\").component(\"kubernetesAppGitForm\",s)},55658:function(e,t,n){\"use strict\";n.r(t);var a=n(15964),r=n.n(a),i=n(6253);class s{constructor(e,t,n,a,r,s){this.$async=e,this.$state=t,this.StackService=n,this.ModalService=a,this.Notifications=r,this.WebhookHelper=s,this.state={saveGitSettingsInProgress:!1,redeployInProgress:!1,showConfig:!1,isEdit:!1,hasUnsavedChanges:!1},this.formValues={RefName:\"\",RepositoryAuthentication:!1,RepositoryUsername:\"\",RepositoryPassword:\"\",AutoUpdate:{RepositoryAutomaticUpdates:!1,RepositoryMechanism:i.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:\"5m\",RepositoryWebhookURL:\"\"}},this.onChange=this.onChange.bind(this),this.onChangeRef=this.onChangeRef.bind(this),this.onChangeAutoUpdate=this.onChangeAutoUpdate.bind(this)}onChangeRef(e){this.onChange({RefName:e})}onChange(e){this.formValues={...this.formValues,...e},this.state.hasUnsavedChanges=angular.toJson(this.savedFormValues)!==angular.toJson(this.formValues)}onChangeAutoUpdate(e){this.onChange({AutoUpdate:{...this.formValues.AutoUpdate,...e}})}buildAnalyticsProperties(){return{metadata:{\"automatic-updates\":function(e,t){switch(e&&t){case i.RepositoryMechanismTypes.INTERVAL:return\"polling\";case i.RepositoryMechanismTypes.WEBHOOK:return\"webhook\";default:return\"off\"}}(this.formValues.AutoUpdate.RepositoryAutomaticUpdates,this.formValues.AutoUpdate.RepositoryMechanism)}}}async pullAndRedeployApplication(){return this.$async((async()=>{try{if(!await this.ModalService.confirmAsync({title:\"Are you sure?\",message:\"Any changes to this application will be overriden by the definition in git and may cause a service interruption. Do you wish to continue?\",buttons:{confirm:{label:\"Update\",className:\"btn-warning\"}}}))return;this.state.redeployInProgress=!0,await this.StackService.updateKubeGit(this.stack.Id,this.stack.EndpointId,this.namespace,this.formValues),this.Notifications.success(\"Pulled and redeployed stack successfully\"),await this.$state.reload()}catch(e){this.Notifications.error(\"Failure\",e,\"Failed redeploying application\")}finally{this.state.redeployInProgress=!1}}))}async saveGitSettings(){return this.$async((async()=>{try{this.state.saveGitSettingsInProgress=!0,await this.StackService.updateKubeStack({EndpointId:this.stack.EndpointId,Id:this.stack.Id},null,this.formValues),this.savedFormValues=angular.copy(this.formValues),this.state.hasUnsavedChanges=!1,this.Notifications.success(\"Save stack settings successfully\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to save application settings\")}finally{this.state.saveGitSettingsInProgress=!1}}))}isSubmitButtonDisabled(){return this.state.saveGitSettingsInProgress||this.state.redeployInProgress}$onInit(){this.formValues.RefName=this.stack.GitConfig.ReferenceName,this.stack.AutoUpdate&&(this.stack.AutoUpdate.Interval||this.stack.AutoUpdate.Webhook)&&(this.formValues.AutoUpdate.RepositoryAutomaticUpdates=!0,this.stack.AutoUpdate.Interval?(this.formValues.AutoUpdate.RepositoryMechanism=i.RepositoryMechanismTypes.INTERVAL,this.formValues.AutoUpdate.RepositoryFetchInterval=this.stack.AutoUpdate.Interval):this.stack.AutoUpdate.Webhook&&(this.formValues.AutoUpdate.RepositoryMechanism=i.RepositoryMechanismTypes.WEBHOOK,this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(this.stack.AutoUpdate.Webhook))),this.formValues.AutoUpdate.RepositoryWebhookURL||(this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(r()())),this.stack.GitConfig&&this.stack.GitConfig.Authentication&&(this.formValues.RepositoryUsername=this.stack.GitConfig.Authentication.Username,this.formValues.RepositoryAuthentication=!0,this.state.isEdit=!0),this.savedFormValues=angular.copy(this.formValues)}}s.$inject=[\"$async\",\"$state\",\"StackService\",\"ModalService\",\"Notifications\",\"WebhookHelper\"],t.default=s},9509:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(55658);const s={templateUrl:n(96927),controller:i.default,bindings:{stack:\"<\",namespace:\"<\"}};r().module(\"portainer.app\").component(\"kubernetesRedeployAppGitForm\",s)},48637:function(e,t,n){const a=n(6693);angular.module(\"portainer.app\").component(\"registryFormEcr\",{templateUrl:a,bindings:{model:\"=\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\",nameIsUsed:\"<\"},controller:class{$postLink(){this.registryFormEcr.registry_name.$validators.used=e=>!this.nameIsUsed(e)}}})},90018:function(e,t,n){const a=n(56440);angular.module(\"portainer.app\").component(\"registryFormAzure\",{templateUrl:a,bindings:{model:\"=\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\",nameIsUsed:\"<\"},controller:class{$postLink(){this.registryFormAzure.registry_name.$validators.used=e=>!this.nameIsUsed(e)}}})},8746:function(e,t,n){const a=n(35778);angular.module(\"portainer.app\").component(\"registryFormCustom\",{templateUrl:a,bindings:{model:\"=\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\",nameIsUsed:\"<\"},controller:class{$postLink(){this.registryFormCustom.registry_name.$validators.used=e=>!this.nameIsUsed(e)}}})},7744:function(e,t,n){const a=n(85683);angular.module(\"portainer.app\").component(\"registryFormDockerhub\",{templateUrl:a,bindings:{model:\"=\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\",nameIsUsed:\"<\"},controller:class{$postLink(){this.registryFormDockerhub.registry_name.$validators.used=e=>!this.nameIsUsed(e)}}})},84375:function(e,t,n){const a=n(51338);angular.module(\"portainer.app\").component(\"gitlabProjectsDatatable\",{templateUrl:a,controller:\"GitlabProjectsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",state:\"=\"}})},56110:function(){angular.module(\"portainer.app\").controller(\"GitlabProjectsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.disableSelection=function(e){return!this.allowSelection(e)},this.allowSelection=function(e){return e.RegistryEnabled},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var r=n.getDataTableSettings(this.tableKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},54470:function(e,t,n){const a=n(62796);angular.module(\"portainer.app\").component(\"registryFormGitlab\",{templateUrl:a,bindings:{model:\"=\",retrieveRegistries:\"<\",createRegistries:\"<\",actionInProgress:\"<\",projects:\"=\",state:\"=\",resetDefaults:\"<\"}})},25318:function(e,t,n){const a=n(64837);angular.module(\"portainer.app\").component(\"registryFormProget\",{templateUrl:a,bindings:{model:\"=\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\",nameIsUsed:\"<\"},controller:class{$postLink(){this.registryFormProGet.registry_name.$validators.used=e=>!this.nameIsUsed(e)}}})},18218:function(e,t,n){const a=n(26548);angular.module(\"portainer.app\").component(\"registryFormQuay\",{templateUrl:a,bindings:{model:\"=\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\"}})},12281:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);const i=n(11361);r().module(\"portainer.app\").component(\"stackFromTemplateForm\",{templateUrl:i,bindings:{template:\"=\",formValues:\"=\",state:\"=\",createTemplate:\"<\",unselectTemplate:\"<\",nameRegex:\"<\"},transclude:{advanced:\"?advancedForm\"}})},7008:function(e,t,n){\"use strict\";n.r(t),n.d(t,{stackRedeployGitForm:function(){return s}});var a=n(29274),r=n.n(a),i=n(20472);const s={templateUrl:n(8849),controller:i.default,bindings:{model:\"<\",stack:\"<\"}};r().module(\"portainer.app\").component(\"stackRedeployGitForm\",s)},20472:function(e,t,n){\"use strict\";n.r(t);var a=n(15964),r=n.n(a),i=n(6253),s=n(26196);class o{constructor(e,t,n,a,r,o,l,c,d){this.$async=e,this.$state=t,this.$compile=n,this.$scope=a,this.StackService=r,this.ModalService=o,this.Notifications=l,this.WebhookHelper=c,this.FormHelper=d,a.stackPullImageFeature=s.tE.STACK_PULL_IMAGE,this.state={inProgress:!1,redeployInProgress:!1,showConfig:!1,isEdit:!1,hasUnsavedChanges:!1},this.formValues={RefName:\"\",RepositoryAuthentication:!1,RepositoryUsername:\"\",RepositoryPassword:\"\",Env:[],AutoUpdate:{RepositoryAutomaticUpdates:!1,RepositoryMechanism:i.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:\"5m\",RepositoryWebhookURL:\"\"}},this.onChange=this.onChange.bind(this),this.onChangeRef=this.onChangeRef.bind(this),this.onChangeAutoUpdate=this.onChangeAutoUpdate.bind(this),this.onChangeEnvVar=this.onChangeEnvVar.bind(this)}buildAnalyticsProperties(){const e={};return this.formValues.RepositoryAutomaticUpdates&&(e.automaticUpdates=function(e){switch(e){case i.RepositoryMechanismTypes.INTERVAL:return\"polling\";case i.RepositoryMechanismTypes.WEBHOOK:return\"webhook\"}return\"off\"}(this.formValues.RepositoryMechanism)),{metadata:e}}onChange(e){this.formValues={...this.formValues,...e},this.state.hasUnsavedChanges=angular.toJson(this.savedFormValues)!==angular.toJson(this.formValues)}onChangeRef(e){this.onChange({RefName:e})}onChangeAutoUpdate(e){this.onChange({AutoUpdate:{...this.formValues.AutoUpdate,...e}})}onChangeEnvVar(e){this.onChange({Env:e})}async submit(){const e=angular.element('<div>Any changes to this stack or application made locally in Portainer will be overridden, which may cause service interruption.</div><div\"><div style=\"position: absolute; right: 110px; top: 68px; z-index: 999\"><be-feature-indicator feature=\"stackPullImageFeature\"></be-feature-indicator></div></div>'),t=this.$compile(e)(this.$scope);this.ModalService.confirmStackUpdate(t,!0,!0,\"btn-warning\",(async e=>{if(e)try{this.state.redeployInProgress=!0,await this.StackService.updateGit(this.stack.Id,this.stack.EndpointId,this.FormHelper.removeInvalidEnvVars(this.formValues.Env),!1,this.formValues),this.Notifications.success(\"Pulled and redeployed stack successfully\"),this.$state.reload()}catch(e){this.Notifications.error(\"Failure\",e,\"Failed redeploying stack\")}finally{this.state.redeployInProgress=!1}}))}async saveGitSettings(){return this.$async((async()=>{try{this.state.inProgress=!0;const e=await this.StackService.updateGitStackSettings(this.stack.Id,this.stack.EndpointId,this.FormHelper.removeInvalidEnvVars(this.formValues.Env),this.formValues);this.savedFormValues=angular.copy(this.formValues),this.state.hasUnsavedChanges=!1,this.Notifications.success(\"Save stack settings successfully\"),this.stack=e}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to save stack settings\")}finally{this.state.inProgress=!1}}))}isSubmitButtonDisabled(){return this.state.inProgress||this.state.redeployInProgress}isAutoUpdateChanged(){const e=!(!this.stack.AutoUpdate||!this.stack.AutoUpdate.Interval&&!this.stack.AutoUpdate.Webhook);return this.formValues.AutoUpdate.RepositoryAutomaticUpdates!==e}$onInit(){this.formValues.RefName=this.model.ReferenceName,this.formValues.Env=this.stack.Env,this.stack.AutoUpdate&&(this.stack.AutoUpdate.Interval||this.stack.AutoUpdate.Webhook)&&(this.formValues.AutoUpdate.RepositoryAutomaticUpdates=!0,this.stack.AutoUpdate.Interval?(this.formValues.AutoUpdate.RepositoryMechanism=i.RepositoryMechanismTypes.INTERVAL,this.formValues.AutoUpdate.RepositoryFetchInterval=this.stack.AutoUpdate.Interval):this.stack.AutoUpdate.Webhook&&(this.formValues.AutoUpdate.RepositoryMechanism=i.RepositoryMechanismTypes.WEBHOOK,this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(this.stack.AutoUpdate.Webhook))),this.formValues.AutoUpdate.RepositoryWebhookURL||(this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(r()())),this.stack.GitConfig&&this.stack.GitConfig.Authentication&&(this.formValues.RepositoryUsername=this.stack.GitConfig.Authentication.Username,this.formValues.RepositoryAuthentication=!0,this.state.isEdit=!0),this.savedFormValues=angular.copy(this.formValues)}}o.$inject=[\"$async\",\"$state\",\"$compile\",\"$scope\",\"StackService\",\"ModalService\",\"Notifications\",\"WebhookHelper\",\"FormHelper\"],t.default=o},87637:function(e,t,n){\"use strict\";n.r(t);var a=n(51235),r=n.n(a),i=n(91619);const s=n(17775);angular.module(\"portainer.app\").component(\"groupAssociationTable\",{templateUrl:s,controller:function(){this.state={orderBy:\"Name\",reverseOrder:!1,paginatedItemLimit:\"10\",textFilter:\"\",loading:!0,pageNumber:1},this.changeOrderBy=function(e){this.state.reverseOrder=this.state.orderBy===e&&!this.state.reverseOrder,this.state.orderBy=e},this.onTextFilterChange=function(){this.paginationChangedAction()},this.onPageChanged=function(e){this.paginationState.pageNumber=e,this.paginationChangedAction()},this.onPaginationLimitChanged=function(){this.paginationChangedAction()},this.paginationChangedAction=function(){this.retrievePage(this.pageType,this.tableType)},this.$onChanges=function(e){e.loaded&&e.loaded.currentValue&&this.paginationChangedAction()},this.tagIdsToTagNames=function(e){return(0,i.idsToTagNames)(this.tags,e).join(\", \")||\"-\"},this.groupIdToGroupName=function(e){const t=r()(this.groups,{Id:e});return t?t.Name:\"\"}},bindings:{paginationState:\"=\",loaded:\"<\",pageType:\"<\",tableType:\"@\",retrievePage:\"<\",dataset:\"<\",entryClick:\"<\",emptyDatasetMessage:\"@\",tags:\"<\",showTags:\"<\",groups:\"<\",showGroups:\"<\",hasBackendPagination:\"<\",cyValue:\"@\"}})},60748:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return M}});var a=n(29274),r=n.n(a),i=n(66960),s=(n(28001),n(62341),n(65562),n(82459),n(42240),n(77236),n(47771),n(33262),n(20493),n(66076),n(77072),n(50527),n(40958),n(95004)),o=n(89023),l=n(73281),c=n(70727),d=n(90635),u=n(18480),p=n(75698),m=n(71718),g=n(83294),h=n(2071),f=n(6154),v=n(87869),b=n(2629);function y(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){y(i,a,r,s,o,\"next\",e)}function o(e){y(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(e,t)||function(e,t){if(e){if(\"string\"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var C=(0,i.F)((function(e){var t=e.onSubmit,n=e.onError,a=\"account.accessTokens.create\",r=(0,l.$)(a).t,i=(0,o.useRouter)(),y=x((0,s.useState)(\"\"),2),S=y[0],C=y[1],k=x((0,s.useState)(\"\"),2),$=k[0],A=k[1],P=x((0,s.useState)(!1),2),I=P[0],T=P[1],N=x((0,s.useState)(\"\"),2),E=N[0],R=N[1];function D(){return(D=w(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=2;break}return e.abrupt(\"return\");case 2:return T(!0),e.prev=3,e.next=6,t(S);case 6:a=e.sent,R(a.rawAPIKey),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n(\"Failure\",e.t0,\"Failed to generate access token\");case 13:return e.prev=13,T(!1),e.finish(13);case 16:case\"end\":return e.stop()}}),e,null,[[3,10,13,16]])})))).apply(this,arguments)}return(0,s.useEffect)((function(){0===S.length?A(r(\"this field is required\")):A(\"\")}),[S,r]),(0,b.jsx)(d.$L,{children:(0,b.jsxs)(d.kh,{children:[(0,b.jsxs)(\"div\",{className:\"form-horizontal\",children:[(0,b.jsx)(u.N,{inputId:\"input\",label:r(\"Description\"),errors:$,children:(0,b.jsx)(v.I,{id:\"input\",onChange:function(e){return C(e.target.value)},value:S})}),(0,b.jsx)(\"div\",{className:\"row mt-5\",children:(0,b.jsx)(\"div\",{className:\"col-sm-12\",children:(0,b.jsx)(p.zx,{disabled:!!$||!!E,onClick:function(){return function(){return D.apply(this,arguments)}()},children:r(\"Add access token\")})})})]}),E&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.i,{children:(0,b.jsx)(c.c,{ns:a,children:\"New access token\"})}),(0,b.jsx)(g.a,{children:(0,b.jsx)(c.c,{ns:a,children:\"Please copy the new access token. You won't be able to view the token again.\"})}),(0,b.jsx)(h.E,{children:E}),(0,b.jsx)(f.q,{copyText:E,children:(0,b.jsx)(c.c,{ns:a,children:\"Copy access token\"})}),(0,b.jsx)(\"hr\",{}),(0,b.jsx)(p.zx,{type:\"button\",onClick:function(){return i.stateService.go(\"portainer.account\")},children:(0,b.jsx)(c.c,{ns:a,children:\"Done\"})})]})]})})}),[\"onSubmit\",\"onError\"]),k=n(7883),$=n(8540),A=n(39372),P=n(39068),I=n(56619),T=n(58852),N=(n(92429),n(40443),n(34125)),E=n(64062);function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var D={en:{nativeName:\"English\"},de:{nativeName:\"Deutsch\"},he:{nativeName:\"Hebrew\"}},O=(0,i.F)((function(e){var t=e.text,n=\"portainer.registries\",a=(0,o.useSref)(n),r=a.onClick,i=a.href,s=(0,l.$)().t;return(0,b.jsxs)(\"div\",{children:[(0,b.jsx)(\"div\",{className:\"app-portainer-components-ReactExample-module__red-bg\",children:t}),(0,b.jsx)(\"div\",{children:(0,b.jsx)(\"a\",{href:i,onClick:r,children:s(\"Registries useSref\")})}),(0,b.jsx)(\"div\",{children:(0,b.jsx)(E.r,{to:n,children:(0,b.jsxs)(c.c,{children:[\"Registries \",(0,b.jsx)(\"strong\",{children:\"Link\"})]})})}),Object.entries(D).map((function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),r=a[0],i=a[1];return(0,b.jsx)(\"button\",{style:{fontWeight:N.Z.resolvedLanguage===r?\"bold\":\"normal\"},type:\"submit\",onClick:function(){return N.Z.changeLanguage(r)},children:i.nativeName},r)}))]})}),[\"text\"]),V=n(25128),U=n(68112),j=n(40516),F=n(78322),L=(0,i.F)((function(e){var t,n=e.passwordValid,a=e.forceChangePassword,r=null===(t=(0,F.Fy)().data)||void 0===t?void 0:t.RequiredPasswordLength;return(0,b.jsx)(\"div\",{children:(0,b.jsxs)(\"p\",{className:\"text-muted\",children:[(0,b.jsx)(\"i\",{className:\"fa fa-exclamation-triangle orange-icon space-right\",\"aria-hidden\":\"true\"}),a&&\"An administrator has changed your password requirements, \",\"The password must be at least \",r,\" characters long.\",n&&(0,b.jsx)(\"i\",{className:\"fa fa-check green-icon space-left\",\"aria-hidden\":\"true\"})]})})}),[\"passwordValid\",\"forceChangePassword\"]),_=n(27749),M=r().module(\"portainer.app.components\",[T.i1,I.ZP,d.ZP,k.default,$.default,A.default,P.default]).component(\"informationPanel\",j.N).component(\"viewLoading\",_.w).component(\"portainerTooltip\",V.P).component(\"reactExample\",O).component(\"beFeatureIndicator\",U.j).component(\"passwordCheckHint\",L).component(\"createAccessToken\",C).name},64654:function(e,t,n){const a=n(94081);angular.module(\"portainer.app\").component(\"informationPanelOffline\",{templateUrl:a,controller:\"InformationPanelOfflineController\"})},2454:function(){angular.module(\"portainer.app\").controller(\"InformationPanelOfflineController\",[\"$state\",\"EndpointProvider\",\"EndpointService\",\"Authentication\",\"Notifications\",function(e,t,n,a,r){var i=this;this.$onInit=function(){var e=t.endpointID();i.showRefreshButton=a.isAdmin(),n.endpoint(e).then((function(e){i.snapshotTime=e.Snapshots[0].Time})).catch((function(e){r.error(\"Failure\",e,\"Unable to retrieve environment information\")}))},this.triggerSnapshot=function(){var a=t.endpointID();n.snapshotEndpoint(a).then((function(){e.reload()})).catch((function(e){r.error(\"Failure\",e,\"An error occured during environment snapshot\")}))}}])},44516:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(92816);r().module(\"portainer.app\").directive(\"intervalFormat\",(function(){return{restrict:\"A\",require:\"ngModel\",link:function(e,t,n,a){a.$validators.invalidIntervalFormat=function(e){try{return e&&null!==e.toUpperCase().match(/^P?(?!$)(\\d+Y)?(\\d+M)?(\\d+W)?(\\d+D)?(T?(?=\\d+[HMS])(\\d+H)?(\\d+M)?(\\d+S)?)?$/gm)}catch(e){return!1}},a.$validators.minimumInterval=function(e){try{return e&&(0,i.Z)(e,\"minute\")>=1}catch(e){return!1}}}}}))},45679:function(){angular.module(\"portainer.app\").directive(\"onEnterKey\",[function(){return{restrict:\"A\",link:function(e,t,n){t.bind(\"keydown keypress\",(function(t){13===t.which&&(t.preventDefault(),e.$apply((function(){e.$eval(n.onEnterKey)})))}))}}}])},46621:function(e,t,n){const a=n(52273);angular.module(\"portainer.app\").component(\"productItem\",{templateUrl:a,bindings:{model:\"<\",goTo:\"<\"}})},38222:function(e,t,n){const a=n(2050);angular.module(\"portainer.app\").component(\"productList\",{templateUrl:a,bindings:{titleText:\"@\",products:\"<\",goTo:\"<\"}})},97554:function(e,t,n){\"use strict\";n.r(t),n.d(t,{registryDetails:function(){return i}});var a=n(29274),r=n.n(a);const i={templateUrl:n(22746),bindings:{registry:\"<\"}};r().module(\"portainer.app\").component(\"registryDetails\",i)},90434:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);const i=n(63010);r().module(\"portainer.app\").component(\"sensitiveDetails\",{templateUrl:i,bindings:{key:\"@\",value:\"@\"}})},53712:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);const i=n(39773);r().module(\"portainer.app\").component(\"showHide\",{templateUrl:i,bindings:{value:\"<\",useAsterisk:\"<\"}})},7883:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(86853),s=n(82736),o=n(38832);t.default=r().module(\"portainer.app.components.sidebar\",[]).component(\"sidebarMenu\",i.sidebarMenu).component(\"sidebarMenuItem\",o.sidebarMenuItem).component(\"sidebarSection\",s.sidebarSection).name},38832:function(e,t,n){\"use strict\";n.r(t),n.d(t,{sidebarMenuItem:function(){return a}});const a={templateUrl:n(77728),bindings:{path:\"@\",pathParams:\"<\",iconClass:\"@\",className:\"@\"},transclude:!0}},86853:function(e,t,n){\"use strict\";n.r(t),n.d(t,{sidebarMenu:function(){return r}});var a=n(93340);const r={templateUrl:n(81740),controller:a.default,bindings:{iconClass:\"@\",path:\"@\",pathParams:\"<\",childrenPaths:\"<\",label:\"@\",isSidebarOpen:\"<\",currentState:\"@\"},transclude:!0}},93340:function(e,t,n){\"use strict\";n.r(t);class a{constructor(e){this.$state=e,this.state={forceOpen:!1}}isOpen(){return!!this.isSidebarOpen&&(!!this.state.forceOpen||this.isOpenByPathState())}isOpenByPathState(){const e=this.$state.current.name;return e.startsWith(this.path)||this.childrenPaths.includes(e)}onClickArrow(e){e.stopPropagation(),e.preventDefault(),this.isOpenByPathState()||(this.state.forceOpen=!this.state.forceOpen)}$onInit(){this.childrenPaths=this.childrenPaths||[]}}a.$inject=[\"$state\"],t.default=a},82736:function(e,t,n){\"use strict\";n.r(t),n.d(t,{sidebarSection:function(){return a}});const a={templateUrl:n(39835),transclude:!0,bindings:{title:\"@\"}}},77337:function(e,t,n){const a=n(55419);angular.module(\"portainer.app\").component(\"slider\",{templateUrl:a,controller:\"SliderController\",bindings:{model:\"=\",onChange:\"<\",floor:\"<\",ceil:\"<\",step:\"<\",precision:\"<\"}})},58944:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);class i{constructor(e){this.$scope=e,this.buildOptions=this.buildOptions.bind(this),this.translate=this.translate.bind(this)}$onChanges(){this.buildOptions()}translate(e,t,n){return\"floor\"===n&&0===this.floor||0===e?\"unlimited\":e}buildOptions(){this.options={floor:this.floor,ceil:this.ceil,step:this.step,precision:this.precision,showSelectionBar:!0,enforceStep:!1,translate:this.translate,onChange:()=>this.onChange()}}$onInit(){this.buildOptions()}}i.$inject=[\"$scope\"],t.default=i,r().module(\"portainer.app\").controller(\"SliderController\",i)},10018:function(e,t,n){\"use strict\";n.r(t);var a=n(71541);angular.module(\"portainer.app\").controller(\"StackDuplicationFormController\",[\"Notifications\",function(e){var t=this;function n(){return t.formValues.endpoint&&t.formValues.endpoint.Id}t.state={duplicationInProgress:!1,migrationInProgress:!1},t.formValues={endpoint:null,newName:\"\"},t.STACK_NAME_VALIDATION_REGEX=a.STACK_NAME_VALIDATION_REGEX,t.isFormValidForDuplication=function(){return n()&&t.formValues.newName&&!t.yamlError},t.isFormValidForMigration=n,t.duplicateStack=function(){t.formValues.newName?(t.state.duplicationInProgress=!0,t.onDuplicate({endpointId:t.formValues.endpoint.Id,name:t.formValues.newName?t.formValues.newName:void 0}).finally((function(){t.state.duplicationInProgress=!1}))):e.error(\"Failure\",null,\"Stack name is required for duplication\")},t.migrateStack=function(){t.state.migrationInProgress=!0,t.onMigrate({endpointId:t.formValues.endpoint.Id,name:t.formValues.newName?t.formValues.newName:void 0}).finally((function(){t.state.migrationInProgress=!1}))},t.isMigrationButtonDisabled=function(){return!t.isFormValidForMigration()||t.state.duplicationInProgress||t.state.migrationInProgress||t.formValues.endpoint&&t.formValues.endpoint.Id===t.currentEndpointId},t.isEndpointSelected=function(){return t.formValues.endpoint&&t.formValues.endpoint.Id}}])},37848:function(e,t,n){const a=n(78196);angular.module(\"portainer.app\").component(\"stackDuplicationForm\",{templateUrl:a,controller:\"StackDuplicationFormController\",bindings:{onDuplicate:\"&\",onMigrate:\"&\",endpoints:\"<\",groups:\"<\",currentEndpointId:\"<\",yamlError:\"<\"}})},91709:function(e,t,n){\"use strict\";n.r(t),n.d(t,{statusIndicator:function(){return i}});var a=n(29274),r=n.n(a);const i={templateUrl:n(80240),bindings:{ok:\"<\"}};r().module(\"portainer.app\").component(\"statusIndicator\",i)},44677:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);const i=n(76339);r().module(\"portainer.app\").component(\"templateItem\",{templateUrl:i,bindings:{model:\"<\",typeLabel:\"@\",onSelect:\"<\"},transclude:{actions:\"?templateItemActions\"}})},70296:function(e,t,n){\"use strict\";n.r(t);var a=n(44716),r=n.n(a),i=n(46006),s=n.n(i),o=n(40714),l=n.n(o);function c(e,t,n,a,i){var o=this;this.state={textFilter:\"\",selectedCategory:\"\",categories:[],showContainerTemplates:!0},this.onTextFilterChange=function(){n.setDataTableTextFilters(this.tableKey,this.state.textFilter)},this.filterByTemplateType=function(e){switch(e.Type){case 1:return o.state.showContainerTemplates;case 2:return o.showSwarmStacks;case 3:return!o.showSwarmStacks||o.showSwarmStacks&&o.state.showContainerTemplates;case 4:return!1}return!1},this.updateCategories=function(){for(var e=[],t=0;t<o.templates.length;t++){var n=o.templates[t];this.filterByTemplateType(n)&&(e=e.concat(n.Categories))}this.state.categories=l()(s()(e))},this.filterByCategory=function(e){return!o.state.selectedCategory||r()(e.Categories,o.state.selectedCategory)},this.duplicateTemplate=function(t){return e(this.duplicateTemplateAsync,t)}.bind(this),this.duplicateTemplateAsync=async function(e){try{const{FileContent:n}=await i.templateFile(e.Repository.url,e.Repository.stackfile);let a=0;2===e.Type&&(a=1),3===e.Type&&(a=2),t.go(\"docker.templates.custom.new\",{fileContent:n,type:a})}catch(e){a.error(\"Failure\",e,\"Failed to duplicate template\")}}.bind(this),this.$onInit=function(){this.showSwarmStacks&&(this.state.showContainerTemplates=!1),this.updateCategories();var e=n.getDataTableTextFilters(this.tableKey);null!==e&&(this.state.textFilter=e)}}c.$inject=[\"$async\",\"$state\",\"DatatableService\",\"Notifications\",\"TemplateService\"],angular.module(\"portainer.app\").controller(\"TemplateListController\",c)},47177:function(e,t,n){const a=n(14309);angular.module(\"portainer.app\").component(\"templateList\",{templateUrl:a,controller:\"TemplateListController\",bindings:{titleText:\"@\",titleIcon:\"@\",templates:\"<\",tableKey:\"@\",selectAction:\"<\",showSwarmStacks:\"<\"}})},38119:function(){angular.module(\"portainer.app\").directive(\"rdTemplateWidget\",(function(){return{scope:{ngModel:\"=\"},transclude:!0,template:'<div class=\"widget template-widget\" id=\"template-widget\" ng-transclude></div>',restrict:\"EA\"}}))},30839:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return r}});var a=n(56619);class r{constructor(e,t,n,a,r,i){this.$async=e,this.Authentication=t,this.ThemeManager=n,this.StateManager=a,this.UserService=r,this.Notifications=i,this.setTheme=this.setTheme.bind(this)}async setTheme(e){try{\"auto\"!==e&&e?this.ThemeManager.setTheme(e):this.ThemeManager.autoTheme(),this.state.userTheme=e,this.state.isDemo||await this.UserService.updateUserTheme(this.state.userId,this.state.userTheme),this.Notifications.success(\"Success\",\"User theme successfully updated\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update user theme\")}}$onInit(){return this.$async((async()=>{const e=this.StateManager.getState();this.state={userId:null,userTheme:\"\",defaultTheme:\"auto\",isDemo:e.application.demoEnvironment.enabled},this.state.availableThemes=[(0,a.es)(\"light\",\"fas fa-sun\",\"Light Theme\",\"Default color mode\",\"light\"),(0,a.es)(\"dark\",\"fas fa-moon\",\"Dark Theme\",\"Dark color mode\",\"dark\"),(0,a.es)(\"highcontrast\",\"fas fa-adjust\",\"High Contrast\",\"High contrast color mode\",\"highcontrast\"),(0,a.es)(\"auto\",\"fas fa-sync-alt\",\"Auto\",\"Sync with system theme\",\"auto\")];try{this.state.userId=await this.Authentication.getUserDetails().ID;const e=await this.UserService.user(this.state.userId);this.state.userTheme=e.UserTheme||this.state.defaultTheme}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to get user details\")}}))}}r.$inject=[\"$async\",\"Authentication\",\"ThemeManager\",\"StateManager\",\"UserService\",\"Notifications\"]},30749:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(30839);const s=n(42662);r().module(\"portainer.app\").component(\"themeSettings\",{templateUrl:s,controller:i.default})},24268:function(e,t,n){\"use strict\";n.r(t),n.d(t,{K8S_RESOURCE_POOL_LB_QUOTA:function(){return a},K8S_RESOURCE_POOL_STORAGE_QUOTA:function(){return r},RBAC_ROLES:function(){return i},REGISTRY_MANAGEMENT:function(){return s},K8S_SETUP_DEFAULT:function(){return o},S3_BACKUP_SETTING:function(){return l},HIDE_INTERNAL_AUTHENTICATION_PROMPT:function(){return c},TEAM_MEMBERSHIP:function(){return d},HIDE_INTERNAL_AUTH:function(){return u},EXTERNAL_AUTH_LDAP:function(){return p},ACTIVITY_AUDIT:function(){return m},HIDE_AUTO_UPDATE_WINDOW:function(){return g},FORCE_REDEPLOYMENT:function(){return h},STACK_PULL_IMAGE:function(){return f},STACK_WEBHOOK:function(){return v},CONTAINER_WEBHOOK:function(){return b}});const a=\"k8s-resourcepool-Ibquota\",r=\"k8s-resourcepool-storagequota\",i=\"rbac-roles\",s=\"registry-management\",o=\"k8s-setup-default\",l=\"s3-backup-setting\",c=\"hide-internal-authentication-prompt\",d=\"team-membership\",u=\"hide-internal-auth\",p=\"external-auth-ldap\",m=\"activity-audit\",g=\"hide-auto-update-window\",h=\"force-redeployment\",f=\"stack-pull-image\",v=\"stack-webhook\",b=\"container-webhook\"},41066:function(e,t,n){\"use strict\";n.r(t),n.d(t,{truncateLeftRight:function(){return d},stripProtocol:function(){return u},humanize:function(){return p},isoDateFromTimestamp:function(){return m},isoDate:function(){return g},getPairKey:function(){return h},getPairValue:function(){return f},ipAddress:function(){return v},arrayToStr:function(){return b},labelsToStr:function(){return y},endpointTypeName:function(){return w},environmentTypeIcon:function(){return x},ownershipIcon:function(){return S},truncate:function(){return C}});var a=n(89858),r=n.n(a),i=n(4396),s=n.n(i),o=n(7084),l=n.n(o),c=n(30424);function d(e,t,n,a){return t=isNaN(t)?50:t,n=isNaN(n)?25:n,a=isNaN(a)?25:a,e.length<=t?e:e.substring(0,n)+\"[...]\"+e.substring(e.length-a,e.length)}function u(e){return e.replace(/.*?:\\/\\//g,\"\")}function p(e,t,n){if(t||(t=1),n||(n=10),e||0===e)return l()(e,{base:n,round:t})}function m(e){return s().unix(e).format(\"YYYY-MM-DD HH:mm:ss\")}function g(e){return s()(e).format(\"YYYY-MM-DD HH:mm:ss\")}function h(e,t){return e.includes(t)?e.slice(0,e.indexOf(t)):e}function f(e,t){return e.includes(t)?e.slice(e.indexOf(t)+1):\"\"}function v(e){return e.slice(0,e.indexOf(\"/\"))}function b(e,t){return e?r()(e,t):\"\"}function y(e,t){return e?r()(e.map((e=>e.key+\":\"+e.value)),t):\"\"}function w(e){return 1===e?\"Docker\":2===e||6===e?\"Agent\":3===e?\"Azure ACI\":5===e?\"Kubernetes\":4===e||7===e?\"Edge Agent\":\"\"}function x(e){return 3===e?\"fab fa-microsoft\":4===e?\"fa fa-cloud\":5===e||6===e||7===e?\"fas fa-dharmachakra\":\"fab fa-docker\"}function S(e){switch(e){case c.X.PRIVATE:case c.X.ADMINISTRATORS:return\"fa fa-eye-slash\";case c.X.RESTRICTED:return\"fa fa-users\";default:return\"fa fa-eye\"}}function C(e,t,n){return isNaN(t)&&(t=10),void 0===n&&(n=\"...\"),e.length<=t||e.length-n.length<=t?e:String(e).substring(0,t-n.length)+n}},1740:function(e,t,n){\"use strict\";n.r(t);var a=n(4622),r=n.n(a),i=n(35057),s=n.n(i),o=n(29274),l=n.n(o),c=n(41066);l().module(\"portainer.app\").filter(\"truncate\",(()=>c.truncate)).filter(\"truncatelr\",(()=>c.truncateLeftRight)).filter(\"capitalize\",(()=>s())).filter(\"stripprotocol\",(()=>c.stripProtocol)).filter(\"humansize\",(()=>c.humanize)).filter(\"getisodatefromtimestamp\",(()=>c.isoDateFromTimestamp)).filter(\"getisodate\",(()=>c.isoDate)).filter(\"key\",(()=>c.getPairKey)).filter(\"value\",(()=>c.getPairValue)).filter(\"emptyobject\",(()=>r())).filter(\"ipaddress\",(()=>c.ipAddress)).filter(\"arraytostr\",(()=>c.arrayToStr)).filter(\"labelsToStr\",(()=>c.labelsToStr)).filter(\"endpointtypename\",(()=>c.endpointTypeName)).filter(\"endpointtypeicon\",(()=>c.environmentTypeIcon)).filter(\"ownershipicon\",(()=>c.ownershipIcon))},70589:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return o},isOfflineEndpoint:function(){return l}});var a=n(51235),r=n.n(a),i=n(74808);function s(e,t){return r()(t,(function(t){return t.Id===e.GroupId}))}class o{static isLocalEndpoint(e){return e.URL.includes(\"unix://\")||e.URL.includes(\"npipe://\")||e.Type===i.PortainerEndpointTypes.KubernetesLocalEnvironment}static isDockerEndpoint(e){return[i.PortainerEndpointTypes.DockerEnvironment,i.PortainerEndpointTypes.AgentOnDockerEnvironment,i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment].includes(e.Type)}static isAgentEndpoint(e){return[i.PortainerEndpointTypes.AgentOnDockerEnvironment,i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment,i.PortainerEndpointTypes.AgentOnKubernetesEnvironment,i.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment].includes(e.Type)}static isEdgeEndpoint(e){return[i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment,i.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment].includes(e.Type)}static mapGroupNameToEndpoint(e,t){for(var n=0;n<e.length;n++){var a=e[n],r=s(a,t);r&&(a.GroupName=r.Name)}}}function l(e){return 1!==e.Status}},93994:function(e,t,n){\"use strict\";n.r(t),n.d(t,{KEY_REGEX:function(){return i},VALUE_REGEX:function(){return s},parseDotEnvFile:function(){return c},parseArrayOfStrings:function(){return d},convertToArrayOfStrings:function(){return u}});var a=n(20810),r=n.n(a);const i=/(.+?)/.source,s=/(.*)?/.source,o=new RegExp(`^(${i})\\\\s*=(${s})$`),l=/\\n|\\r|\\r\\n/;function c(e){return d(r()(e.split(l)).map((e=>e.trim())).filter((e=>!e.startsWith(\"#\")&&\"\"!==e)))}function d(e){return e?r()(e.map((e=>{if(!e.includes(\"=\"))return{name:e};const t=e.trim().match(o);return null!=t&&t.length>4?{name:t[1].trim(),value:t[3].trim()||\"\"}:void 0}))):[]}function u(e){return e?e.filter((e=>e.name)).map((({name:e,value:t})=>t||\"\"===t?`${e}=${t}`:e)):[]}},30398:function(){angular.module(\"portainer.app\").factory(\"FormHelper\",[function(){\"use strict\";return{removeInvalidEnvVars:function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];n.value&&n.name||e.splice(t,1)}return e}}}])},24003:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a);class i{static findDeepAll(e,t,n=[]){return\"object\"==typeof e&&r()(e,((e,a)=>{a===t&&n.push(e),\"object\"==typeof e&&i.findDeepAll(e,t,n)})),n}}t.default=i},30556:function(e,t,n){\"use strict\";n.r(t);var a=n(44716),r=n.n(a),i=n(29274),s=n.n(i);class o{constructor(e){this.PREDEFINED_NETWORKS=e}isSystemNetwork(e){return r()(this.PREDEFINED_NETWORKS,e.Name)}}o.$inject=[\"PREDEFINED_NETWORKS\"],t.default=o,s().module(\"portainer.app\").service(\"NetworkHelper\",o)},50433:function(e,t,n){\"use strict\";function a(){const e=document.getElementById(\"base\");return e?e.getAttribute(\"href\"):\"/\"}n.r(t),n.d(t,{baseHref:function(){return a}})},43622:function(e,t,n){\"use strict\";n.r(t);var a=n(51235),r=n.n(a),i=n(41952),s=n.n(i),o=n(66539),l=n.n(o),c=n(29274),d=n.n(c),u=n(30424),p=n(1870);class m{RCViewModelToOwnershipParameters(e,t){if(!t)return new p.ResourceControlOwnershipParameters(!0);let n=!1,a=!1,r=[],i=[];switch(t.Ownership){case u.X.PUBLIC:a=!0;break;case u.X.PRIVATE:r=[e];break;case u.X.RESTRICTED:r=l()(t.UserAccesses,(e=>e.UserId)),i=l()(t.TeamAccesses,(e=>e.TeamId));break;default:n=!0}return new p.ResourceControlOwnershipParameters(n,a,r,i)}RCFormDataToOwnershipParameters(e,t,n=[]){t.AccessControlEnabled||(t.Ownership=u.X.PUBLIC);let a=!1,r=!1,i=[],s=[];switch(t.Ownership){case u.X.PUBLIC:r=!0;break;case u.X.PRIVATE:i.push(e);break;case u.X.RESTRICTED:i=l()(t.AuthorizedUsers,(e=>e.Id)),s=l()(t.AuthorizedTeams,(e=>e.Id));break;default:a=!0}return new p.ResourceControlOwnershipParameters(a,r,i,s,n)}retrieveAuthorizedUsers(e,t){const n=[];return s()(e.UserAccesses,(e=>{const a=r()(t,{Id:e.UserId});a&&n.push(a)})),n}retrieveAuthorizedTeams(e,t){const n=[];return s()(e.TeamAccesses,(e=>{const a=r()(t,{Id:e.TeamId});a&&n.push(a)})),n}}t.default=m,d().module(\"portainer.app\").service(\"ResourceControlHelper\",m)},13118:function(e,t,n){\"use strict\";n.r(t);var a=n(89858),r=n.n(a),i=n(63209),s=n.n(i),o=n(46006),l=n.n(o),c=n(93715),d=n.n(c),u=n(78879),p=n.n(u),m=n(24003),g=n(49036);angular.module(\"portainer.app\").factory(\"StackHelper\",[function(){var e={};function t(e,t,n){return d()(e.filter((e=>e.Labels&&e.Labels[t])).map((e=>new g.ExternalStackViewModel(e.Labels[t],n,e.Created))),\"Name\")}return e.getExternalStacksFromContainers=function(e){return t(e,\"com.docker.compose.project\",2)},e.getExternalStacksFromServices=function(e){return t(e,\"com.docker.stack.namespace\",1)},e.validateYAML=function(e,t){let n;try{n=p().parse(e)}catch(e){return\"There is an error in the yaml syntax: \"+e}const a=l()(m.default.findDeepAll(n,\"container_name\")),i=s()(t,a);if(0!==i.length)return(1===i.length?\"This container name is\":\"These container names are\")+\" already used by another container running in this environment: \"+r()(i,\", \")+\".\"},e}])},91619:function(e,t,n){\"use strict\";n.r(t),n.d(t,{idsToTagNames:function(){return c}});var a=n(66539),r=n.n(a),i=n(44716),s=n.n(i),o=n(83432),l=n.n(o);function c(e,t){const n=l()(e,(e=>s()(t,e.Id)));return r()(n,\"Name\")}},69424:function(e,t,n){\"use strict\";n.r(t);var a=n(46006),r=n.n(a);angular.module(\"portainer.app\").factory(\"TemplateHelper\",[function(){return{getDefaultContainerConfiguration:function(){return{Env:[],OpenStdin:!1,Tty:!1,ExposedPorts:{},HostConfig:{RestartPolicy:{Name:\"no\"},PortBindings:{},Binds:[],Privileged:!1,ExtraHosts:[]},Volumes:{},Labels:{}}},portArrayToPortConfiguration:function(e){var t={bindings:{},exposedPorts:{}};return e.forEach((function(e){if(e.containerPort){var n=e.containerPort+\"/\"+e.protocol,a={};if(e.hostPort&&(a.HostPort=e.hostPort,e.hostPort.indexOf(\":\")>-1)){var r=e.hostPort.split(\":\");a.HostIp=r[0],a.HostPort=r[1]}t.bindings[n]=[a],t.exposedPorts[n]={}}})),t},updateContainerConfigurationWithLabels:function(e){var t={};return e.forEach((function(e){e.name&&(e.value?t[e.name]=e.value:t[e.name]=\"\")})),t},EnvToStringArray:function(e){var t=[];return e.forEach((function(e){if(e.value||e.set){var n=e.set?e.set:e.value;t.push(e.name+\"=\"+n)}})),t},getConsoleConfiguration:function(e){var t={openStdin:!1,tty:!1};return!0===e&&(t.openStdin=!0,t.tty=!0),t},createVolumeBindings:function(e,t){e.forEach((function(e){var n;e.container&&(\"auto\"===e.type?n=t.pop().Id+\":\"+e.container:\"auto\"!==e.type&&e.bind&&(n=e.bind+\":\"+e.container),e.readonly&&(n+=\":ro\"),e.binding=n)}))},determineRequiredGeneratedVolumeCount:function(e){var t=0;return e.forEach((function(e){\"auto\"===e.type&&++t})),t},getUniqueCategories:function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];t=t.concat(a.Categories)}return r()(t)}}}])},79190:function(){angular.module(\"portainer.app\").factory(\"URLHelper\",[\"$window\",function(e){\"use strict\";var t={getParameter:function(t){return e.location.search.replace(/.*?\\?/,\"\").split(\"&\").reduce((function(e,t){var n=t.split(\"=\"),a=n[0],r=n[1];return e[a]=r,e}),{})[t]},cleanParameters:function(){e.location.replace(e.location.origin+e.location.pathname+e.location.hash)}};return t}])},7341:function(e,t,n){\"use strict\";n.r(t);var a=n(50433);angular.module(\"portainer.app\").factory(\"WebhookHelper\",[\"$location\",\"API_ENDPOINT_WEBHOOKS\",\"API_ENDPOINT_STACKS\",function(e,t,n){var r={};let i;const s=e.protocol().toLowerCase();if(\"file\"!==s){const t=e.host(),n=e.port();i=`${s}://${t}${\"http\"===s&&80===n||\"https\"===s&&443===n?\"\":\":\"+n}${(0,a.baseHref)()}`}else i=(0,a.baseHref)();return r.returnWebhookUrl=function(e){return`${i}${t}/${e}`},r.returnStackWebhookUrl=function(e){return`${i}${n}/webhooks/${e}`},r}])},89940:function(e,t,n){\"use strict\";n.r(t);var a=n(44716),r=n.n(a),i=n(13507),s=n.n(i);angular.module(\"portainer.app\").factory(\"EndpointStatusInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){var n={};function a(e){return s()(e,\"api/\")&&(r()(e,\"/containers\")||r()(e,\"/images\")||r()(e,\"/volumes\")||r()(e,\"/networks\")||r()(e,\"/info\")||r()(e,\"/version\"))}return n.response=function(n){var r=n.config.url;return 200===n.status&&a(r)&&t.offlineMode()&&t.setOfflineMode(!1),n||e.when(n)},n.responseError=function(n){if(n.config){var r=n.config.url;502!==n.status&&503!==n.status&&-1!==n.status||!a(r)||t.offlineMode()||t.setOfflineMode(!0)}return e.reject(n)},n}])},93133:function(e,t,n){\"use strict\";function a(e){this.Id=e.Id,this.Name=e.Username,this.Type=\"user\",this.Inherited=!1,this.Override=!1,this.Role={Id:0,Name:\"-\"},this.icon='<i class=\"fa fa-user\" aria-hidden=\"true\"></i>'}function r(e){this.Id=e.Id,this.Name=e.Name,this.Type=\"team\",this.Inherited=!1,this.Override=!1,this.Role={Id:0,Name:\"-\"},this.icon='<i class=\"fa fa-users\" aria-hidden=\"true\"></i>'}n.r(t),n.d(t,{UserAccessViewModel:function(){return a},TeamAccessViewModel:function(){return r}})},74962:function(e,t,n){\"use strict\";n.r(t),n.d(t,{DockerHubViewModel:function(){return r}});var a=n(56414);function r(){this.Id=0,this.Type=a.RegistryTypes.ANONYMOUS,this.Name=\"DockerHub (anonymous)\",this.URL=\"docker.io\"}},690:function(e,t,n){\"use strict\";n.r(t),n.d(t,{PortainerEndpointInitFormValues:function(){return r},PortainerEndpointInitFormValueEndpointSections:function(){return s}});var a=n(74808);class r{constructor(){this.ConnectionType=a.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL,this.Name=\"\",this.URL=\"\",this.TLS=!1,this.TLSSkipVerify=!1,this.TLSSKipClientVerify=!1,this.TLSCACert=null,this.TLSCert=null,this.TLSKey=null,this.AzureApplicationId=\"\",this.AzureTenantId=\"\",this.AzureAuthenticationKey=\"\"}}class i{constructor(e,t,n,a){this.Id=e,this.Value=e,this.Title=t,this.Classes=n,this.Description=a}}const s=Object.freeze([new i(a.PortainerEndpointConnectionTypes.DOCKER_LOCAL,\"Docker\",\"fab fa-docker\",\"Manage the local Docker environment\"),new i(a.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL,\"Kubernetes\",\"fas fa-dharmachakra\",\"Manage the local Kubernetes environment\"),new i(a.PortainerEndpointConnectionTypes.AGENT,\"Agent\",\"fa fa-bolt\",\"Connect to a Portainer agent\")])},74808:function(e,t,n){\"use strict\";n.r(t),n.d(t,{PortainerEndpointTypes:function(){return a},PortainerEndpointCreationTypes:function(){return r},PortainerEndpointConnectionTypes:function(){return i}});const a=Object.freeze({DockerEnvironment:1,AgentOnDockerEnvironment:2,AzureEnvironment:3,EdgeAgentOnDockerEnvironment:4,KubernetesLocalEnvironment:5,AgentOnKubernetesEnvironment:6,EdgeAgentOnKubernetesEnvironment:7}),r=Object.freeze({LocalDockerEnvironment:1,AgentEnvironment:2,AzureEnvironment:3,EdgeAgentEnvironment:4,LocalKubernetesEnvironment:5}),i=Object.freeze({DOCKER_LOCAL:1,KUBERNETES_LOCAL:2,REMOTE:3,AZURE:4,AGENT:5,EDGE:6})},62365:function(e,t,n){\"use strict\";function a(e){this.Id=e.id,this.Description=e.description,this.Name=e.name,this.Namespace=e.namespace?e.namespace.name:\"\",this.PathWithNamespace=e.path_with_namespace,this.RegistryEnabled=e.container_registry_enabled}n.r(t),n.d(t,{RegistryGitlabProject:function(){return a}})},79607:function(e,t,n){\"use strict\";function a(){this.Name=\"\",this.Description=\"\",this.TagIds=[]}function r(e){this.Id=e.Id,this.Name=e.Name,this.Description=e.Description,this.TagIds=e.TagIds,this.AuthorizedUsers=e.AuthorizedUsers,this.AuthorizedTeams=e.AuthorizedTeams,this.UserAccessPolicies=e.UserAccessPolicies,this.TeamAccessPolicies=e.TeamAccessPolicies}function i(e,t){this.Name=e.Name,this.Description=e.Description,this.TagIds=e.TagIds,this.AssociatedEndpoints=t}function s(e,t){this.id=e.Id,this.Name=e.Name,this.Description=e.Description,this.TagIds=e.TagIds,this.AssociatedEndpoints=t,this.UserAccessPolicies=e.UserAccessPolicies,this.TeamAccessPolicies=e.TeamAccessPolicies}n.r(t),n.d(t,{EndpointGroupDefaultModel:function(){return a},EndpointGroupModel:function(){return r},EndpointGroupCreateRequest:function(){return i},EndpointGroupUpdateRequest:function(){return s}})},33180:function(e,t,n){\"use strict\";n.r(t),n.d(t,{RegistryViewModel:function(){return s},RegistryManagementConfigurationDefaultModel:function(){return o},RegistryCreateFormValues:function(){return l},RegistryCreateRequest:function(){return c}});var a=n(30465),r=n.n(a),i=n(56414);function s(e){this.Id=e.Id,this.Type=e.Type,this.Name=e.Name,this.URL=e.URL,this.BaseURL=e.BaseURL,this.Authentication=e.Authentication,this.Username=e.Username,this.Password=e.Password,this.RegistryAccesses=e.RegistryAccesses,this.Checked=!1,this.Gitlab=e.Gitlab,this.Quay=e.Quay,this.Ecr=e.Ecr}function o(e){this.Authentication=!1,this.Password=\"\",this.TLS=!1,this.TLSSkipVerify=!1,this.TLSCACertFile=null,this.TLSCertFile=null,this.TLSKeyFile=null,e.Type===i.RegistryTypes.ECR&&(this.Region=e.Ecr.Region,this.TLSSkipVerify=!0),e.Type!==i.RegistryTypes.QUAY&&e.Type!==i.RegistryTypes.AZURE&&e.Type!==i.RegistryTypes.ECR||(this.Authentication=!0,this.Username=e.Username,this.TLS=!0),e.Type!==i.RegistryTypes.CUSTOM&&e.Type!==i.RegistryTypes.PROGET||!e.Authentication||(this.Authentication=!0,this.Username=e.Username)}function l(){this.Type=i.RegistryTypes.CUSTOM,this.URL=\"\",this.Name=\"\",this.Authentication=!1,this.Username=\"\",this.Password=\"\"}function c(e){this.Name=e.Name,this.Type=e.Type,this.URL=r()(e.URL,/^https?\\:\\/\\//i,\"\"),this.URL=r()(this.URL,/\\/$/,\"\"),this.Authentication=e.Authentication,e.Authentication&&(this.Username=e.Username,this.Password=e.Password),e.Type===i.RegistryTypes.GITLAB&&(this.Gitlab={ProjectId:e.Gitlab.ProjectId,InstanceURL:e.Gitlab.InstanceURL,ProjectPath:e.Gitlab.ProjectPath}),e.Type===i.RegistryTypes.ECR&&(this.Ecr=e.Ecr),e.Type===i.RegistryTypes.QUAY&&(this.Quay={useOrganisation:e.Quay.useOrganisation,organisationName:e.Quay.organisationName}),e.Type===i.RegistryTypes.PROGET&&(this.BaseURL=r()(e.BaseURL,/^https?\\:\\/\\//i,\"\"),this.BaseURL=r()(this.BaseURL,/\\/$/,\"\"))}},64088:function(e,t,n){\"use strict\";n.r(t),n.d(t,{RegistryRepositoryViewModel:function(){return i},RegistryRepositoryGitlabViewModel:function(){return s}});var a=n(46545),r=n.n(a);function i(e){e.name&&e.tags?(this.Name=e.name,this.TagsCount=r()(e.tags,null).length):(this.Name=e,this.TagsCount=0)}function s(e){this.Name=e.path,this.TagsCount=e.tags.length}},56414:function(e,t,n){\"use strict\";n.r(t),n.d(t,{RegistryTypes:function(){return a}});const a=Object.freeze({ANONYMOUS:0,QUAY:1,AZURE:2,CUSTOM:3,GITLAB:4,PROGET:5,DOCKERHUB:6,ECR:7})},74392:function(e,t,n){\"use strict\";function a(e,t,n){this.ResourceID=e,this.Type=t,this.Public=n.Public,this.AdministratorsOnly=n.AdministratorsOnly,this.Users=n.Users,this.Teams=n.Teams,this.SubResourceIDs=n.SubResourceIDs}n.r(t),n.d(t,{ResourceControlCreatePayload:function(){return a}})},1870:function(e,t,n){\"use strict\";function a(e=!1,t=!1,n=[],a=[],r=[]){this.AdministratorsOnly=e,this.Public=t,this.Users=n,this.Teams=a,this.SubResourceIDs=r}n.r(t),n.d(t,{ResourceControlOwnershipParameters:function(){return a}})},82653:function(e,t,n){\"use strict\";function a(e){this.Name=e.Name,this.Recurring=e.Recurring,this.CronExpression=e.CronExpression,this.Endpoints=e.Endpoints,this.FileContent=e.FileContent,this.File=e.File}function r(e){this.id=e.Id,this.Name=e.Name,this.Recurring=e.Recurring,this.CronExpression=e.CronExpression,this.Endpoints=e.Endpoints,this.FileContent=e.FileContent}n.r(t),n.d(t,{ScheduleCreateRequest:function(){return a},ScheduleUpdateRequest:function(){return r}})},55287:function(e,t,n){\"use strict\";function a(e){this.LogoURL=e.LogoURL,this.BlackListedLabels=e.BlackListedLabels,this.AuthenticationMethod=e.AuthenticationMethod,this.InternalAuthSettings=e.InternalAuthSettings,this.LDAPSettings=e.LDAPSettings,this.OAuthSettings=new c(e.OAuthSettings),this.openAMTConfiguration=e.openAMTConfiguration,this.fdoConfiguration=e.fdoConfiguration,this.SnapshotInterval=e.SnapshotInterval,this.TemplatesURL=e.TemplatesURL,this.EdgeAgentCheckinInterval=e.EdgeAgentCheckinInterval,this.EnableEdgeComputeFeatures=e.EnableEdgeComputeFeatures,this.FeatureFlagSettings=e.FeatureFlagSettings,this.UserSessionTimeout=e.UserSessionTimeout,this.EnableTelemetry=e.EnableTelemetry,this.KubeconfigExpiry=e.KubeconfigExpiry,this.HelmRepositoryURL=e.HelmRepositoryURL,this.TrustOnFirstConnect=e.TrustOnFirstConnect,this.EnforceEdgeID=e.EnforceEdgeID,this.AgentSecret=e.AgentSecret,this.EdgePortainerUrl=e.EdgePortainerUrl}function r(e){this.AuthenticationMethod=e.AuthenticationMethod,this.TeamSync=e.TeamSync,this.RequiredPasswordLength=e.RequiredPasswordLength,this.EnableEdgeComputeFeatures=e.EnableEdgeComputeFeatures,this.EnforceEdgeID=e.EnforceEdgeID,this.FeatureFlagSettings=e.FeatureFlagSettings,this.LogoURL=e.LogoURL,this.OAuthLoginURI=e.OAuthLoginURI,this.EnableTelemetry=e.EnableTelemetry,this.OAuthLogoutURI=e.OAuthLogoutURI,this.KubeconfigExpiry=e.KubeconfigExpiry,this.Features=e.Features,this.Edge=new d(e.Edge)}function i(e){this.RequiredPasswordLength=e.RequiredPasswordLength}function s(e){this.ReaderDN=e.ReaderDN,this.Password=e.Password,this.URL=e.URL,this.SearchSettings=e.SearchSettings,this.GroupSearchSettings=e.GroupSearchSettings,this.AutoCreateUsers=e.AutoCreateUsers}function o(e,t,n){this.BaseDN=e,this.UsernameAttribute=t,this.Filter=n}function l(e,t,n){this.GroupBaseDN=e,this.GroupAttribute=t,this.GroupFilter=n}function c(e){this.ClientID=e.ClientID,this.ClientSecret=e.ClientSecret,this.AccessTokenURI=e.AccessTokenURI,this.AuthorizationURI=e.AuthorizationURI,this.ResourceURI=e.ResourceURI,this.RedirectURI=e.RedirectURI,this.UserIdentifier=e.UserIdentifier,this.Scopes=e.Scopes,this.OAuthAutoCreateUsers=e.OAuthAutoCreateUsers,this.DefaultTeamID=e.DefaultTeamID,this.SSO=e.SSO,this.LogoutURI=e.LogoutURI}function d(e={}){this.CheckinInterval=e.CheckinInterval,this.PingInterval=e.PingInterval,this.SnapshotInterval=e.SnapshotInterval,this.CommandInterval=e.CommandInterval}n.r(t),n.d(t,{SettingsViewModel:function(){return a},PublicSettingsViewModel:function(){return r},InternalAuthSettingsViewModel:function(){return i},LDAPSettingsViewModel:function(){return s},LDAPSearchSettings:function(){return o},LDAPGroupSearchSettings:function(){return l},OAuthSettingsViewModel:function(){return c},EdgeSettingsViewModel:function(){return d}})},49036:function(e,t,n){\"use strict\";n.r(t),n.d(t,{StackViewModel:function(){return r},ExternalStackViewModel:function(){return i},OrphanedStackViewModel:function(){return s}});var a=n(24989);function r(e){this.Id=e.Id,this.Type=e.Type,this.Name=e.Name,this.EndpointId=e.EndpointId,this.SwarmId=e.SwarmId,this.Env=e.Env?e.Env:[],this.IsComposeFormat=e.IsComposeFormat,e.ResourceControl&&0!==e.ResourceControl.Id&&(this.ResourceControl=new a.w(e.ResourceControl)),this.Status=e.Status,this.CreationDate=e.CreationDate,this.CreatedBy=e.CreatedBy,this.UpdateDate=e.UpdateDate,this.UpdatedBy=e.UpdatedBy,this.Regular=!0,this.External=!1,this.Orphaned=!1,this.Checked=!1,this.GitConfig=e.GitConfig,this.FromAppTemplate=e.FromAppTemplate,this.AdditionalFiles=e.AdditionalFiles,this.AutoUpdate=e.AutoUpdate}function i(e,t,n){this.Name=e,this.Type=t,this.CreationDate=n,this.Regular=!1,this.External=!0,this.Orphaned=!1,this.Checked=!1}function s(e){this.Id=e.Id,this.Type=e.Type,this.Name=e.Name,this.EndpointId=e.EndpointId,this.SwarmId=e.SwarmId,this.Env=e.Env?e.Env:[],e.ResourceControl&&0!==e.ResourceControl.Id&&(this.ResourceControl=new a.w(e.ResourceControl)),this.Status=e.Status,this.CreationDate=e.CreationDate,this.CreatedBy=e.CreatedBy,this.UpdateDate=e.UpdateDate,this.UpdatedBy=e.UpdatedBy,this.Regular=!1,this.External=!1,this.Orphaned=!0,this.OrphanedRunning=!1,this.Checked=!1}},95154:function(e,t,n){\"use strict\";function a(e){this.Authentication=e.Authentication,this.Snapshot=e.Snapshot,this.Version=e.Version,this.Edition=e.Edition,this.InstanceID=e.InstanceID,this.DemoEnvironment=e.DemoEnvironment}function r(e){this.UpdateAvailable=e.UpdateAvailable,this.LatestVersion=e.LatestVersion}n.r(t),n.d(t,{StatusViewModel:function(){return a},StatusVersionViewModel:function(){return r}})},26410:function(e,t,n){\"use strict\";n.r(t),n.d(t,{TagViewModel:function(){return i}});var a=n(3520),r=n.n(a);function i(e){this.Id=e.ID,this.Name=r()(e.Name)}},58552:function(e,t,n){\"use strict\";n.r(t),n.d(t,{TeamViewModel:function(){return i}});var a=n(3520),r=n.n(a);function i(e){this.Id=e.Id,this.Name=r()(e.Name),this.Checked=!1}},3010:function(e,t,n){\"use strict\";function a(e){this.Id=e.Id,this.UserId=e.UserID,this.TeamId=e.TeamID,this.Role=e.Role}n.r(t),n.d(t,{TeamMembershipModel:function(){return a}})},76185:function(e,t,n){\"use strict\";n.r(t),n.d(t,{TemplateViewModel:function(){return s}});var a=n(17465),r=n.n(a),i=n(76939);class s{constructor(e,t){if(\"2\"!==t)throw new Error(\"Unsupported template version\");this.setTemplatesV2(e)}setTemplatesV2(e){this.Id=e.Id,this.Title=e.title,this.Type=e.type,this.Description=e.description,this.AdministratorOnly=e.AdministratorOnly,this.Name=e.name,this.Note=e.note,this.Categories=e.categories?e.categories:[],this.Platform=e.platform?e.platform:\"\",this.Logo=e.logo,this.Repository=e.repository,this.Hostname=e.hostname,this.RegistryModel=new i.PorImageRegistryModel,this.RegistryModel.Image=e.image,this.RegistryModel.Registry.URL=e.registry||\"\",this.Command=e.command?e.command:\"\",this.Network=e.network?e.network:\"\",this.Privileged=!!e.privileged&&e.privileged,this.Interactive=!!e.interactive&&e.interactive,this.RestartPolicy=e.restart_policy?e.restart_policy:\"always\",this.Labels=e.labels?e.labels:[],this.Hosts=e.hosts?e.hosts:[],this.Env=function(e){var t=[];return e.env&&(t=e.env.map((function(e){if(e.type=2,e.value=e.default?e.default:\"\",e.preset&&(e.type=1),e.select){e.type=3;for(var t=0;t<e.select.length;t++){var n=e.select[t];if(n.default){e.value=n.value;break}}}return e}))),t}(e),this.Volumes=function(e){var t=[];return e.volumes&&(t=e.volumes.map((function(e){return{container:e.container,readonly:e.readonly||!1,type:e.bind?\"bind\":\"auto\",bind:e.bind?e.bind:null}}))),t}(e),this.Ports=function(e){var t=[];return e.ports&&(t=e.ports.map((function(e){var t=r()(e,\"/\"),n=r()(t[0],\":\");return{hostPort:n.length>1?n[0]:void 0,containerPort:n.length>1?n[1]:n[0],protocol:t[1]}}))),t}(e)}}},90327:function(e,t,n){\"use strict\";function a(e){this.Id=e.Id,this.Username=e.Username,this.Role=e.Role,this.UserTheme=e.UserTheme,1===e.Role?this.RoleName=\"administrator\":this.RoleName=\"user\",this.AuthenticationMethod=e.AuthenticationMethod,this.Checked=!1,this.EndpointAuthorizations=null,this.PortainerAuthorizations=null}function r(e){this.id=e.id,this.userId=e.userId,this.description=e.description,this.prefix=e.prefix,this.dateCreated=e.dateCreated,this.lastUsed=e.lastUsed}n.r(t),n.d(t,{UserViewModel:function(){return a},UserTokenModel:function(){return r}})},74708:function(e,t,n){\"use strict\";function a(e){this.Id=e.Id,this.Token=e.Token,this.ResourceId=e.ResourceID,this.EndpointId=e.EndpointID,this.WebhookType=e.WebhookType}n.r(t),n.d(t,{WebhookViewModel:function(){return a}})},77274:function(){angular.module(\"portainer.oauth\",[\"ngResource\"]).constant(\"API_ENDPOINT_OAUTH\",\"api/auth/oauth\")},21869:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(14537);const s=n(59154);r().module(\"portainer.oauth\").component(\"oauthProvidersSelector\",{templateUrl:s,bindings:{onChange:\"<\",value:\"<\"},controller:i.default})},14537:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return i}});var a=n(56619),r=n(26196);class i{constructor(){this.options=[(0,a.es)(\"microsoft\",\"fab fa-microsoft\",\"Microsoft\",\"Microsoft OAuth provider\",\"microsoft\",r.tE.HIDE_INTERNAL_AUTH),(0,a.es)(\"google\",\"fab fa-google\",\"Google\",\"Google OAuth provider\",\"google\",r.tE.HIDE_INTERNAL_AUTH),(0,a.es)(\"github\",\"fab fa-github\",\"Github\",\"Github OAuth provider\",\"github\",r.tE.HIDE_INTERNAL_AUTH),(0,a.es)(\"custom\",\"fa fa-user-check\",\"Custom\",\"Custom OAuth provider\",\"custom\")]}}},10453:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(30152);const s=n(11318);r().module(\"portainer.oauth\").component(\"oauthSettings\",{templateUrl:s,bindings:{settings:\"=\",teams:\"<\",onSaveSettings:\"<\",saveButtonState:\"<\"},controller:i.default})},30152:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return l}});var a=n(50433),r=n(20037),i=n(26196),s=n(67879);const o=\"TENANT_ID\";class l{constructor(e){Object.assign(this,{$scope:e}),this.limitedFeature=i.tE.HIDE_INTERNAL_AUTH,this.limitedFeatureClass=\"limited-be\",this.state={provider:\"custom\",overrideConfiguration:!1,microsoftTenantID:\"\"},this.$onInit=this.$onInit.bind(this),this.onSelectProvider=this.onSelectProvider.bind(this),this.onMicrosoftTenantIDChange=this.onMicrosoftTenantIDChange.bind(this),this.useDefaultProviderConfiguration=this.useDefaultProviderConfiguration.bind(this),this.updateSSO=this.updateSSO.bind(this),this.addTeamMembershipMapping=this.addTeamMembershipMapping.bind(this),this.removeTeamMembership=this.removeTeamMembership.bind(this),this.onToggleAutoTeamMembership=this.onToggleAutoTeamMembership.bind(this)}onMicrosoftTenantIDChange(){const e=this.state.microsoftTenantID||o;this.settings.AuthorizationURI=`https://login.microsoftonline.com/${e}/oauth2/authorize`,this.settings.AccessTokenURI=`https://login.microsoftonline.com/${e}/oauth2/token`,this.settings.ResourceURI=`https://graph.windows.net/${e}/me?api-version=2013-11-08`,this.settings.LogoutURI=`https://login.microsoftonline.com/${e}/oauth2/logout`}useDefaultProviderConfiguration(e){const t=s.default[e];this.state.overrideConfiguration=!1,this.isLimitedToBE&&\"custom\"!==e?(this.settings.ClientID=\"\",this.settings.ClientSecret=\"\"):(this.settings.AuthorizationURI=t.authUrl,this.settings.AccessTokenURI=t.accessTokenUrl,this.settings.ResourceURI=t.resourceUrl,this.settings.LogoutURI=t.logoutUrl,this.settings.UserIdentifier=t.userIdentifier,this.settings.Scopes=t.scopes,\"microsoft\"===e&&\"\"!==this.state.microsoftTenantID&&this.onMicrosoftTenantIDChange())}onSelectProvider(e){this.state.provider=e,this.useDefaultProviderConfiguration(e)}updateSSO(e){this.$scope.$evalAsync((()=>{this.settings.SSO=e,this.onChangeHideInternalAuth(e)}))}onChangeHideInternalAuth(e){this.$scope.$evalAsync((()=>{this.isLimitedToBE||(this.settings.HideInternalAuth=e)}))}onToggleAutoTeamMembership(e){this.$scope.$evalAsync((()=>{this.settings.OAuthAutoMapTeamMemberships=e}))}addTeamMembershipMapping(){this.settings.TeamMemberships.OAuthClaimMappings.push({ClaimValRegex:\"\",Team:this.settings.DefaultTeamID})}removeTeamMembership(e){this.settings.TeamMemberships.OAuthClaimMappings.splice(e,1)}isOAuthTeamMembershipFormValid(){if(this.settings.OAuthAutoMapTeamMemberships&&this.settings.TeamMemberships){if(!this.settings.TeamMemberships.OAuthClaimName)return!1;if(this.settings.TeamMemberships.OAuthClaimMappings.some((e=>!(e.ClaimValRegex&&e.Team))))return!1}return!0}$onInit(){if(this.isLimitedToBE=(0,r.vx)(this.limitedFeature),!this.isLimitedToBE){if(\"\"===this.settings.RedirectURI&&(this.settings.RedirectURI=window.location.origin+(0,a.baseHref)()),this.settings.AuthorizationURI){const e=this.settings.AuthorizationURI;if(this.state.provider=(0,s.getProviderByUrl)(e),\"microsoft\"===this.state.provider){const t=e.match(/login.microsoftonline.com\\/(.*?)\\//)[1];t!==o&&(this.state.microsoftTenantID=t,this.onMicrosoftTenantIDChange())}}0===this.settings.DefaultTeamID&&(this.settings.DefaultTeamID=null),null==this.settings.TeamMemberships&&(this.settings.TeamMemberships={}),null===this.settings.TeamMemberships.OAuthClaimMappings&&(this.settings.TeamMemberships.OAuthClaimMappings=[])}}}l.$inject=[\"$scope\"]},67879:function(e,t,n){\"use strict\";n.r(t),n.d(t,{getProviderByUrl:function(){return r}});var a=n(50433);function r(e=\"\"){return e.includes(\"login.microsoftonline.com\")?\"microsoft\":e.includes(\"accounts.google.com\")?\"google\":e.includes(\"github.com\")?\"github\":\"custom\"}t.default={microsoft:{authUrl:\"https://login.microsoftonline.com/TENANT_ID/oauth2/authorize\",accessTokenUrl:\"https://login.microsoftonline.com/TENANT_ID/oauth2/token\",resourceUrl:\"https://graph.windows.net/TENANT_ID/me?api-version=2013-11-08\",logoutUrl:\"https://login.microsoftonline.com/TENANT_ID/oauth2/logout\",userIdentifier:\"userPrincipalName\",scopes:\"id,email,name\"},google:{authUrl:\"https://accounts.google.com/o/oauth2/auth\",accessTokenUrl:\"https://accounts.google.com/o/oauth2/token\",resourceUrl:\"https://www.googleapis.com/oauth2/v1/userinfo?alt=json\",logoutUrl:`https://www.google.com/accounts/Logout?continue=https://appengine.google.com/_ah/logout?continue=${window.location.origin}${(0,a.baseHref)()}#!/auth`,userIdentifier:\"email\",scopes:\"profile email\"},github:{authUrl:\"https://github.com/login/oauth/authorize\",accessTokenUrl:\"https://github.com/login/oauth/access_token\",resourceUrl:\"https://api.github.com/user\",logoutUrl:\"https://github.com/logout\",userIdentifier:\"login\",scopes:\"id email name\"},custom:{authUrl:\"\",accessTokenUrl:\"\",resourceUrl:\"\",logoutUrl:\"\",userIdentifier:\"\",scopes:\"\"}}},18152:function(){angular.module(\"portainer.oauth\").factory(\"OAuth\",[\"$resource\",\"API_ENDPOINT_OAUTH\",function(e,t){\"use strict\";return e(t+\"/:action\",{},{validate:{method:\"POST\",ignoreLoadingBar:!0,params:{action:\"validate\"}}})}])},3589:function(e,t,n){\"use strict\";n.r(t),n.d(t,{accessViewerDatatable:function(){return a}});const a={templateUrl:n(27707),controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",tableKey:\"@\",orderBy:\"@\",dataset:\"<\",isAdmin:\"<\"}}},79657:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return x}});var a=n(41952),r=n.n(a),i=n(22937),s=n.n(i),o=n(51235),l=n.n(o),c=n(16222),d=n.n(c),u=n(6806),p=n.n(u),m=n(68582),g=n.n(m),h=n(82549),f=n.n(h),v=n(83432),b=n.n(v),y=n(20037),w=n(82853);class x{constructor(e,t,n,a,r,i,s,o){this.Notifications=e,this.RoleService=t,this.UserService=n,this.EndpointService=a,this.GroupService=r,this.TeamService=i,this.TeamMembershipService=s,this.Authentication=o,this.limitedFeature=\"rbac-roles\",this.users=[]}onUserSelect(){this.userRoles=[];const e={},t=this.selectedUser,n=b()(this.teamMemberships,{UserId:t.Id});for(const[,a]of f()(this.endpoints)){let r=this.getRoleFromUserEndpointPolicy(t,a);r?e[a.Id]=r:(r=this.getRoleFromUserEndpointGroupPolicy(t,a),r?e[a.Id]=r:(r=this.getRoleFromTeamEndpointPolicies(n,a),r?e[a.Id]=r:(r=this.getRoleFromTeamEndpointGroupPolicies(n,a),r&&(e[a.Id]=r))))}this.userRoles=g()(e)}findLowestRole(e){return p()(d()(e,\"RolePriority\",\"desc\"))}getRoleFromUserEndpointPolicy(e,t){const n=[],a=(t.UserAccessPolicies||{})[e.Id];if(a){const e=new w.default(a,t,this.roles,null,null);n.push(e)}return this.findLowestRole(n)}getRoleFromUserEndpointGroupPolicy(e,t){const n=[],a=this.groupUserAccessPolicies[t.GroupId][e.Id];if(a){const e=new w.default(a,t,this.roles,this.groups[t.GroupId],null);n.push(e)}return this.findLowestRole(n)}getRoleFromTeamEndpointPolicies(e,t){const n=[];for(const a of e){const e=(t.TeamAccessPolicies||{})[a.TeamId];if(e){const r=new w.default(e,t,this.roles,null,this.teams[a.TeamId]);n.push(r)}}return this.findLowestRole(n)}getRoleFromTeamEndpointGroupPolicies(e,t){const n=[];for(const a of e){const e=this.groupTeamAccessPolicies[t.GroupId][a.TeamId];if(e){const r=new w.default(e,t,this.roles,this.groups[t.GroupId],this.teams[a.TeamId]);n.push(r)}}return this.findLowestRole(n)}async teamMemberUsers(e,t){if(this.isAdmin)return e;const n=[],a=this.Authentication.getUserDetails().ID,r=await this.UserService.userLeadingTeams(a),i=(e,n)=>!!l()(t,{UserId:e,TeamId:n});for(const t of e)for(const e of r)if(i(t.Id,e.Id)){n.push(t);break}return n}async $onInit(){try{if((0,y.vx)(this.limitedFeature))return;this.isAdmin=this.Authentication.isAdmin(),this.allUsers=await this.UserService.users(),this.endpoints=s()((await this.EndpointService.endpoints()).value,\"Id\");const e=await this.GroupService.groups();this.groupUserAccessPolicies={},this.groupTeamAccessPolicies={},r()(e,(e=>{this.groupUserAccessPolicies[e.Id]=e.UserAccessPolicies,this.groupTeamAccessPolicies[e.Id]=e.TeamAccessPolicies})),this.groups=s()(e,\"Id\"),this.roles=s()(await this.RoleService.roles(),\"Id\"),this.teams=s()(await this.TeamService.teams(),\"Id\"),this.teamMemberships=await this.TeamMembershipService.memberships(),this.users=await this.teamMemberUsers(this.allUsers,this.teamMemberships)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve accesses\")}}}x.$inject=[\"Notifications\",\"RoleService\",\"UserService\",\"EndpointService\",\"GroupService\",\"TeamService\",\"TeamMembershipService\",\"Authentication\"]},87208:function(e,t,n){\"use strict\";n.r(t),n.d(t,{accessViewer:function(){return r}});var a=n(79657);const r={templateUrl:n(98538),controller:a.default}},77181:function(e,t,n){\"use strict\";n.r(t),n.d(t,{rolesDatatable:function(){return r}});var a=n(15560);const r={templateUrl:n(71450),controller:a.default,bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}}},15560:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return s}});var a=n(29274),r=n.n(a),i=n(61969);class s{constructor(e,t){this.limitedFeature=\"rbac-roles\",r().extend(this,e(\"GenericDatatableController\",{$scope:t}))}isDefaultItem(e){return e.ID===i.RoleTypes.STANDARD}}s.$inject=[\"$controller\",\"$scope\"]},35552:function(e,t,n){\"use strict\";n.r(t);var a=n(93239),r=n(87208),i=n(3589),s=n(77181),o=n(70055),l=n(37838);function c(e){e.register({name:\"portainer.roles\",url:\"/roles\",views:{\"content@\":{component:\"rolesView\"}}})}c.$inject=[\"$stateRegistryProvider\"],angular.module(\"portainer.rbac\",[\"ngResource\"]).constant(\"API_ENDPOINT_ROLES\",\"api/roles\").component(\"accessViewer\",r.accessViewer).component(\"accessViewerDatatable\",i.accessViewerDatatable).component(\"rolesDatatable\",s.rolesDatatable).component(\"rolesView\",a.rolesView).factory(\"RoleService\",o.RoleService).factory(\"Roles\",l.RolesFactory).config(c)},82853:function(e,t,n){\"use strict\";function a(e,t,n,a,r){this.EndpointId=t.Id,this.EndpointName=t.Name,this.RoleId=e.RoleId,this.RoleName=n[e.RoleId].Name,this.RolePriority=n[e.RoleId].Priority,a&&(this.GroupId=a.Id,this.GroupName=a.Name),r&&(this.TeamId=r.Id,this.TeamName=r.Name),this.AccessLocation=a?\"environment group\":\"environment\"}n.r(t),n.d(t,{default:function(){return a}})},61969:function(e,t,n){\"use strict\";function a(e,t,n,a){this.ID=e,this.Name=t,this.Description=n,this.Authorizations=a}n.r(t),n.d(t,{RoleViewModel:function(){return a},RoleTypes:function(){return r}});const r=Object.freeze({ENDPOINT_ADMIN:1,HELPDESK:2,STANDARD:3,READ_ONLY:4,OPERATOR:5})},37838:function(e,t,n){\"use strict\";function a(e,t){return e(t+\"/:id\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}n.r(t),n.d(t,{RolesFactory:function(){return a}}),a.$inject=[\"$resource\",\"API_ENDPOINT_ROLES\"]},70055:function(e,t,n){\"use strict\";n.r(t),n.d(t,{RoleService:function(){return r}});var a=n(61969);function r(){const e=[new a.RoleViewModel(a.RoleTypes.ENDPOINT_ADMIN,\"Environment administrator\",\"Full control of all resources in an environment\",[]),new a.RoleViewModel(a.RoleTypes.OPERATOR,\"Operator\",\"Operational Control of all existing resources in an environment\",[]),new a.RoleViewModel(a.RoleTypes.HELPDESK,\"Helpdesk\",\"Read-only access of all resources in an environment\",[]),new a.RoleViewModel(a.RoleTypes.READ_ONLY,\"Read-only user\",\"Read-only access of assigned resources in an environment\",[]),new a.RoleViewModel(a.RoleTypes.STANDARD,\"Standard user\",\"Full control of assigned resources in an environment\",[])];return{roles:function(){return e}}}},93239:function(e,t,n){\"use strict\";n.r(t),n.d(t,{rolesView:function(){return r}});var a=n(60090);const r={templateUrl:n(49458),controller:a.default}},60090:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return i}});var a=n(16222),r=n.n(a);class i{constructor(e,t){this.Notifications=e,this.RoleService=t}async $onInit(){this.roles=[];try{this.roles=await this.RoleService.roles(),this.roles=r()(this.roles,\"Priority\",\"asc\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve roles\")}}}i.$inject=[\"Notifications\",\"RoleService\"]},95599:function(){angular.module(\"portainer.app\").factory(\"Auth\",[\"$resource\",\"API_ENDPOINT_AUTH\",function(e,t){\"use strict\";return e(t+\"/:action\",{},{login:{method:\"POST\",ignoreLoadingBar:!0},logout:{method:\"POST\",params:{action:\"logout\"},ignoreLoadingBar:!0}})}])},59987:function(){angular.module(\"portainer.app\").factory(\"Backup\",[\"$resource\",\"API_ENDPOINT_BACKUP\",function(e,t){\"use strict\";return e(t+\"/:subResource/:action\",{},{download:{method:\"POST\",responseType:\"arraybuffer\",ignoreLoadingBar:!0,transformResponse:(e,t,n)=>{if(200!==n){const t=new TextDecoder(\"utf-8\").decode(e);return JSON.parse(t)}return{file:e,name:t(\"Content-Disposition\").replace(\"attachment; filename=\",\"\")}}},getS3Settings:{method:\"GET\",params:{subResource:\"s3\",action:\"settings\"}},saveS3Settings:{method:\"POST\",params:{subResource:\"s3\",action:\"settings\"}},exportS3Backup:{method:\"POST\",params:{subResource:\"s3\",action:\"execute\"}},restoreS3Backup:{method:\"POST\",params:{subResource:\"s3\",action:\"restore\"}}})}])},92179:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e,t){return e(t+\"/:id/:action\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},file:{method:\"GET\",params:{id:\"@id\",action:\"file\"}}})}i.$inject=[\"$resource\",\"API_ENDPOINT_CUSTOM_TEMPLATES\"],r().module(\"portainer.app\").factory(\"CustomTemplates\",i)},50947:function(e,t,n){\"use strict\";n.r(t);var a=n(28098);angular.module(\"portainer.app\").factory(\"Endpoints\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",function(e,t){return e(t+\"/:id/:action\",{},{query:{method:\"GET\",params:{start:\"@start\",limit:\"@limit\",search:\"@search\",groupId:\"@groupId\"},transformResponse:a.default},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"}},disassociate:{method:\"DELETE\",params:{id:\"@id\",action:\"association\"}},updateAccess:{method:\"PUT\",params:{id:\"@id\",action:\"access\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},snapshots:{method:\"POST\",params:{action:\"snapshot\"}},snapshot:{method:\"POST\",params:{id:\"@id\",action:\"snapshot\"}},status:{method:\"GET\",params:{id:\"@id\",action:\"status\"}},updateSecuritySettings:{method:\"PUT\",params:{id:\"@id\",action:\"settings\"}},dockerhubLimits:{method:\"GET\",url:`${t}/:id/dockerhub/:registryId`},registries:{method:\"GET\",url:`${t}/:id/registries`,params:{id:\"@id\",namespace:\"@namespace\"},isArray:!0},updateRegistryAccess:{method:\"PUT\",url:`${t}/:id/registries/:registryId`,params:{id:\"@id\",registryId:\"@registryId\"}}})}])},48664:function(e,t,n){\"use strict\";n.r(t);var a=n(40432);angular.module(\"portainer.app\").factory(\"Gitlab\",[\"$resource\",\"API_ENDPOINT_REGISTRIES\",function(e,t){return function(n){const r={};n&&(r[\"Private-Token\"]=n.token,r[\"X-Gitlab-Domain\"]=n.url);const i=t+\"/:id/proxies/gitlab/api/v4/projects\";return e(i,{id:\"@id\"},{projects:{method:\"GET\",params:{membership:\"true\"},transformResponse:a.default,headers:r},repositories:{method:\"GET\",url:i+\"/:projectId/registry/repositories\",params:{tags:!0},headers:r,transformResponse:a.default}})}}])},41019:function(){angular.module(\"portainer.app\").factory(\"EndpointGroups\",[\"$resource\",\"API_ENDPOINT_ENDPOINT_GROUPS\",function(e,t){\"use strict\";return e(t+\"/:id/:action\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"}},updateAccess:{method:\"PUT\",params:{id:\"@id\",action:\"access\"}},addEndpoint:{method:\"PUT\",params:{id:\"@id\",action:\"@action\"}},removeEndpoint:{method:\"DELETE\",params:{id:\"@id\",action:\"@action\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},26911:function(){angular.module(\"portainer.app\").factory(\"Registries\",[\"$resource\",\"API_ENDPOINT_REGISTRIES\",function(e,t){\"use strict\";return e(t+\"/:id/:action\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\",action:\"\",endpointId:\"@endpointId\"}},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},configure:{method:\"POST\",params:{id:\"@id\",action:\"configure\"}}})}])},9095:function(){angular.module(\"portainer.app\").factory(\"ResourceControl\",[\"$resource\",\"API_ENDPOINT_RESOURCE_CONTROLS\",function(e,t){\"use strict\";return e(t+\"/:id\",{},{update:{method:\"PUT\",params:{id:\"@id\"}}})}])},26862:function(){angular.module(\"portainer.app\").factory(\"Settings\",[\"$resource\",\"API_ENDPOINT_SETTINGS\",function(e,t){\"use strict\";return e(t+\"/:subResource/:action\",{},{get:{method:\"GET\"},update:{method:\"PUT\",ignoreLoadingBar:!0},publicSettings:{method:\"GET\",params:{subResource:\"public\"},ignoreLoadingBar:!0},checkLDAPConnectivity:{method:\"PUT\",params:{subResource:\"authentication\",action:\"checkLDAP\"}}})}])},33729:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e){return e(\"api/ssl\",{},{get:{method:\"GET\"},upload:{method:\"PUT\"}})}i.$inject=[\"$resource\"],r().module(\"portainer.app\").factory(\"SSL\",i)},84006:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e,t){return e(t+\"/:id/:action/:subaction\",{},{get:{method:\"GET\",params:{id:\"@id\"}},query:{method:\"GET\",isArray:!0},create:{method:\"POST\",ignoreLoadingBar:!0},update:{method:\"PUT\",params:{id:\"@id\"},ignoreLoadingBar:!0},associate:{method:\"PUT\",params:{id:\"@id\",swarmId:\"@swarmId\",endpointId:\"@endpointId\",orphanedRunning:\"@orphanedRunning\",action:\"associate\"}},remove:{method:\"DELETE\",params:{id:\"@id\",external:\"@external\",endpointId:\"@endpointId\"}},getStackFile:{method:\"GET\",params:{id:\"@id\",action:\"file\"}},migrate:{method:\"POST\",params:{id:\"@id\",action:\"migrate\",endpointId:\"@endpointId\"},ignoreLoadingBar:!0},start:{method:\"POST\",params:{id:\"@id\",action:\"start\"}},stop:{method:\"POST\",params:{id:\"@id\",action:\"stop\"}},updateGit:{method:\"PUT\",params:{id:\"@id\",action:\"git\",subaction:\"redeploy\"}},updateGitStackSettings:{method:\"POST\",params:{id:\"@id\",action:\"git\"},ignoreLoadingBar:!0}})}i.$inject=[\"$resource\",\"API_ENDPOINT_STACKS\"],r().module(\"portainer.app\").factory(\"Stack\",i)},1962:function(){angular.module(\"portainer.app\").factory(\"Status\",[\"$resource\",\"API_ENDPOINT_STATUS\",function(e,t){\"use strict\";return e(t+\"/:action\",{},{get:{method:\"GET\"},version:{method:\"GET\",params:{action:\"version\"}}})}])},3985:function(){angular.module(\"portainer.app\").factory(\"Support\",[\"$resource\",\"API_ENDPOINT_SUPPORT\",function(e,t){\"use strict\";return e(t,{},{get:{method:\"GET\",isArray:!0}})}])},69586:function(){angular.module(\"portainer.app\").factory(\"Tags\",[\"$resource\",\"API_ENDPOINT_TAGS\",function(e,t){\"use strict\";return e(t+\"/:id\",{},{create:{method:\"POST\"},query:{method:\"GET\",isArray:!0},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},51406:function(){angular.module(\"portainer.app\").factory(\"Teams\",[\"$resource\",\"API_ENDPOINT_TEAMS\",function(e,t){\"use strict\";return e(t+\"/:id/:entity/:entityId\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},queryMemberships:{method:\"GET\",isArray:!0,params:{id:\"@id\",entity:\"memberships\"}}})}])},63027:function(){angular.module(\"portainer.app\").factory(\"TeamMemberships\",[\"$resource\",\"API_ENDPOINT_TEAM_MEMBERSHIPS\",function(e,t){\"use strict\";return e(t+\"/:id/:action\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},35627:function(){angular.module(\"portainer.app\").factory(\"Templates\",[\"$resource\",\"API_ENDPOINT_TEMPLATES\",function(e,t){return e(t+\"/:action\",{},{query:{method:\"GET\"},file:{method:\"POST\",params:{action:\"file\"}}})}])},28098:function(e,t,n){\"use strict\";function a(e,t){const n={};return n.value=angular.fromJson(e),n.totalCount=t(\"X-Total-Count\"),n}n.r(t),n.d(t,{default:function(){return a}})},40432:function(e,t,n){\"use strict\";function a(e,t){let n={};try{n.data=angular.fromJson(e),n.next=t(\"X-Next-Page\")}catch(t){n=e}return n}n.r(t),n.d(t,{default:function(){return a}})},88211:function(){angular.module(\"portainer.app\").factory(\"Users\",[\"$resource\",\"API_ENDPOINT_USERS\",function(e,t){\"use strict\";return e(t+\"/:id/:entity/:entityId\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"},ignoreLoadingBar:!0},updatePassword:{method:\"PUT\",params:{id:\"@id\",entity:\"passwd\"}},updateTheme:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},queryMemberships:{method:\"GET\",isArray:!0,params:{id:\"@id\",entity:\"memberships\"}},checkAdminUser:{method:\"GET\",params:{id:\"admin\",entity:\"check\"},isArray:!0,ignoreLoadingBar:!0},initAdminUser:{method:\"POST\",params:{id:\"admin\",entity:\"init\"},ignoreLoadingBar:!0},createAccessToken:{url:`${t}/:id/tokens`,method:\"POST\",params:{id:\"@id\"},ignoreLoadingBar:!0},getAccessTokens:{method:\"GET\",params:{id:\"@id\",entity:\"tokens\"},isArray:!0},deleteAccessToken:{url:`${t}/:id/tokens/:tokenId`,method:\"DELETE\",params:{id:\"@id\",entityId:\"@tokenId\"}}})}])},1587:function(){angular.module(\"portainer.app\").factory(\"Webhooks\",[\"$resource\",\"API_ENDPOINT_WEBHOOKS\",function(e,t){\"use strict\";return e(t+\"/:id\",{},{query:{method:\"GET\",isArray:!0},create:{method:\"POST\"},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},67808:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return i}});var a=n(55743),r=n.n(a);async function i(e){const t={fulfilled:[],rejected:[]},n=await Promise.allSettled(e);return t.fulfilled=r()(n,((e,t)=>(\"fulfilled\"===t.status&&e.push(t.value),e)),[]),t.rejected=r()(n,((e,t)=>(\"rejected\"===t.status&&e.push(t.reason),e)),[]),t}},84522:function(e,t,n){\"use strict\";n.r(t);var a=n(41952),r=n.n(a),i=n(91195),s=n.n(i),o=n(93133);angular.module(\"portainer.app\").factory(\"AccessService\",[\"$q\",\"$async\",\"UserService\",\"TeamService\",function(e,t,n,a){return{accesses:function(e,n){return t(l,e,n)},generateAccessPolicies:function(e,t,n,a,i){const o=s()(e),l=s()(t);return r()(n,(e=>o[e.Id]={RoleId:i||e.Role.Id})),r()(a,(e=>l[e.Id]={RoleId:i||e.Role.Id})),{userAccessPolicies:o,teamAccessPolicies:l}}};function i(e,t,n){for(var a=[],r=[],i=0;i<e.length;i++){const s=e[i],o=t&&t[s.Id],l=n&&n[s.Id];o&&l?(s.Override=!0,r.push(s)):o&&!l?r.push(s):!o&&l?(s.Inherited=!0,r.push(s),a.push(s)):a.push(s)}return{available:a,authorized:r}}async function l(t,r){if(!t)throw new Error(\"Unable to retrieve accesses\");return t.UserAccessPolicies||(t.UserAccessPolicies={}),t.TeamAccessPolicies||(t.TeamAccessPolicies={}),r&&!r.UserAccessPolicies&&(r.UserAccessPolicies={}),r&&!r.TeamAccessPolicies&&(r.TeamAccessPolicies={}),await(s=t.UserAccessPolicies,l=t.TeamAccessPolicies,c=r?r.UserAccessPolicies:{},d=r?r.TeamAccessPolicies:{},u=e.defer(),e.all({users:n.users(!1),teams:a.teams()}).then((function(e){var t=e.users.map((function(e){return new o.UserAccessViewModel(e)})),n=e.teams.map((function(e){return new o.TeamAccessViewModel(e)})),a=i(t,s,c),r=i(n,l,d),p={availableUsersAndTeams:a.available.concat(r.available),authorizedUsersAndTeams:a.authorized.concat(r.authorized)};u.resolve(p)})).catch((function(e){u.reject({msg:\"Unable to retrieve users and teams\",err:e})})),u.promise);var s,l,c,d,u}}])},10273:function(){angular.module(\"portainer.app\").factory(\"BackupService\",[\"$q\",\"$async\",\"Backup\",\"FileUploadService\",function(e,t,n,a){\"use strict\";return{downloadBackup:function(e){return n.download({},e).$promise},uploadBackup:function(e,t){return a.uploadBackup(e,t)},getS3Settings:function(){var t=e.defer();return n.getS3Settings().$promise.then((function(e){t.resolve(e)})).catch((function(e){t.reject({msg:\"Unable to retrieve backup S3 settings\",err:e})})),t.promise},saveS3Settings:function(t){var a=e.defer();return n.saveS3Settings({},t).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:\"Unable to save backup S3 settings\",err:e})})),a.promise},exportBackup:function(t){var a=e.defer();return n.exportS3Backup({},t).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:\"Unable to export backup\",err:e})})),a.promise},restoreFromS3:function(t){var a=e.defer();return n.restoreS3Backup({},t).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:\"Unable to restore backup from S3\",err:e})})),a.promise}}}])},85903:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(52474);function s(e,t,n){return{customTemplate:function(e){return t.get({id:e}).$promise},customTemplates:async function(n){const a=await t.query({type:n}).$promise;return a.forEach((t=>{t.Note&&(t.Note=i(\"<p>\").html(e(t.Note)).find(\"img\").remove().end().html())})),a},remove:function(e){return t.remove({id:e}).$promise},customTemplateFile:async function(e){try{const{FileContent:n}=await t.file({id:e}).$promise;return n}catch(e){throw{msg:\"Unable to retrieve customTemplate content\",err:e}}},updateCustomTemplate:async function(e,n){return t.update({id:e},n).$promise},createCustomTemplateFromFileContent:async function(e){try{return await t.create({method:\"string\"},e).$promise}catch(e){throw{msg:\"Unable to create the customTemplate\",err:e}}},createCustomTemplateFromFileUpload:async function(e){try{const{data:t}=await n.createCustomTemplate(e);return t}catch(e){throw{msg:\"Unable to create the customTemplate\",err:e}}},createCustomTemplateFromGitRepository:async function(e){try{return await t.create({method:\"repository\"},e).$promise}catch(e){throw{msg:\"Unable to create the customTemplate\",err:e}}}}}s.$inject=[\"$sanitize\",\"CustomTemplates\",\"FileUploadService\"],r().module(\"portainer.app\").factory(\"CustomTemplateService\",s)},91520:function(e,t,n){\"use strict\";n.r(t);var a=n(70589),r=n(74808);function i(e,t){return{checkRateLimits:function(n,i){if(a.default.isLocalEndpoint(n))return e.dockerhubLimits({id:n.Id,registryId:i}).$promise;switch(n.Type){case r.PortainerEndpointTypes.AgentOnDockerEnvironment:case r.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment:return t.limits({endpointId:n.Id,endpointType:\"docker\",registryId:i}).$promise;case r.PortainerEndpointTypes.AgentOnKubernetesEnvironment:case r.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment:return t.limits({endpointId:n.Id,endpointType:\"kubernetes\",registryId:i}).$promise}}}}i.$inject=[\"Endpoints\",\"AgentDockerhub\"],angular.module(\"portainer.app\").factory(\"DockerHubService\",i)},53249:function(e,t,n){\"use strict\";n.r(t);var a=n(74808);angular.module(\"portainer.app\").factory(\"EndpointService\",[\"$q\",\"Endpoints\",\"FileUploadService\",function(e,t,n){var r={updateSecuritySettings:function(e,n){return t.updateSecuritySettings({id:e},n).$promise},registries:function(e,n){return t.registries({namespace:n,id:e}).$promise},updateRegistryAccess:function(e,n,a){return t.updateRegistryAccess({registryId:n,id:e},a).$promise},endpoint:function(e){return t.get({id:e}).$promise},endpoints:function(e,n,{search:a,types:r,tagIds:i,endpointIds:s,tagsPartialMatch:o}={}){return i&&!i.length?Promise.resolve({value:[],totalCount:0}):t.query({start:e,limit:n,search:a,types:JSON.stringify(r),tagIds:JSON.stringify(i),endpointIds:JSON.stringify(s),tagsPartialMatch:o}).$promise},snapshotEndpoints:function(){return t.snapshots({},{}).$promise},snapshotEndpoint:function(e){return t.snapshot({id:e},{}).$promise},endpointsByGroup:function(e,n,a,r){return t.query({start:e,limit:n,search:a,groupId:r}).$promise},updateAccess:function(e,n,a){return t.updateAccess({id:e},{UserAccessPolicies:n,TeamAccessPolicies:a}).$promise},disassociateEndpoint:function(e){return t.disassociate({id:e}).$promise},updateEndpoint:function(a,r){var i=e.defer();return n.uploadTLSFilesForEndpoint(a,r.TLSCACert,r.TLSCert,r.TLSKey).then((function(){return i.notify({upload:!1}),t.update({id:a},r).$promise})).then((function(e){i.resolve(e)})).catch((function(e){i.notify({upload:!1}),i.reject({msg:\"Unable to update environment\",err:e})})),i.promise},deleteEndpoint:function(e){return t.remove({id:e}).$promise},createLocalEndpoint:function(t=\"local\",r=\"\",i=\"\",s=1,o=[]){var l=e.defer(),c=r;return\"\"!==c&&(c=0==c.indexOf(\"//./pipe/\")?\"npipe://\"+r:\"unix://\"+r),n.createEndpoint(t,a.PortainerEndpointCreationTypes.LocalDockerEnvironment,c,i,s,o,!1).then((function(e){l.resolve(e.data)})).catch((function(e){l.reject({msg:\"Unable to create environment\",err:e})})),l.promise},createRemoteEndpoint:function(t,r,i,s,o,l,c,d,u,p,m,g,h,f){var v=e.defer(),b=i;return r!==a.PortainerEndpointCreationTypes.EdgeAgentEnvironment&&(b=\"tcp://\"+i),n.createEndpoint(t,r,b,s,o,l,c,d,u,p,m,g,h,f).then((function(e){v.resolve(e.data)})).catch((function(e){v.reject({msg:\"Unable to create environment\",err:e})})),v.promise},createLocalKubernetesEndpoint:function(t=\"local\",r=[]){var i=e.defer();return n.createEndpoint(t,a.PortainerEndpointCreationTypes.LocalKubernetesEnvironment,\"\",\"\",1,r,!0,!0,!0).then((function(e){i.resolve(e.data)})).catch((function(e){i.reject({msg:\"Unable to create environment\",err:e})})),i.promise},createAzureEndpoint:function(t,a,r,i,s,o){var l=e.defer();return n.createAzureEndpoint(t,a,r,i,s,o).then((function(e){l.resolve(e.data)})).catch((function(e){l.reject({msg:\"Unable to connect to Azure\",err:e})})),l.promise},trust:function(e){t.updateEndpoint({id:e},{UserTrusted:!0}).$promise}};return r}])},50828:function(e,t,n){\"use strict\";n.r(t);var a=n(79607);angular.module(\"portainer.app\").factory(\"GroupService\",[\"$q\",\"EndpointGroups\",function(e,t){return{group:function(n){var r=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.EndpointGroupModel(e);r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve group\",err:e})})),r.promise},groups:function(){return t.query({}).$promise},createGroup:function(e,n){var r=new a.EndpointGroupCreateRequest(e,n);return t.create(r).$promise},updateGroup:function(e,n){var r=new a.EndpointGroupUpdateRequest(e,n);return t.update(r).$promise},updateAccess:function(e,n,a){return t.updateAccess({id:e},{UserAccessPolicies:n,TeamAccessPolicies:a}).$promise},addEndpoint:function(e,n){return t.addEndpoint({id:e,action:\"endpoints/\"+n.Id},n).$promise},removeEndpoint:function(e,n){return t.removeEndpoint({id:e,action:\"endpoints/\"+n}).$promise},deleteGroup:function(e){return t.remove({id:e}).$promise}}}])},94094:function(e,t,n){\"use strict\";n.r(t);var a=n(13507),r=n.n(a),i=n(44716),s=n.n(i),o=n(94946),l=n.n(o),c=n(41952),d=n.n(c),u=n(30465),p=n.n(u),m=n(76939),g=n(56414),h=n(33180),f=n(74962);angular.module(\"portainer.app\").factory(\"RegistryService\",[\"$q\",\"$async\",\"EndpointService\",\"Registries\",\"ImageHelper\",\"FileUploadService\",function(e,t,n,a,i,o){return{registries:function(){var t=e.defer();return a.query().$promise.then((function(e){var n=e.map((function(e){return new h.RegistryViewModel(e)}));t.resolve(n)})).catch((function(e){t.reject({msg:\"Unable to retrieve registries\",err:e})})),t.promise},registry:function(t,n){var r=e.defer();return a.get({id:t,endpointId:n}).$promise.then((function(e){var t=new h.RegistryViewModel(e);r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve registry details\",err:e})})),r.promise},encodedCredentials:function(e){var t={registryId:e.Id};return btoa(JSON.stringify(t))},deleteRegistry:function(e){return a.remove({id:e}).$promise},updateRegistry:function(e){return e.URL=p()(e.URL,/^https?\\:\\/\\//i,\"\"),e.URL=p()(e.URL,/\\/$/,\"\"),a.update({id:e.Id},e).$promise},configureRegistry:function(e,t){return o.configureRegistry(e,t)},createRegistry:function(e){var t=new h.RegistryCreateRequest(e);return a.create(t).$promise},createGitlabRegistries:function(t,n){const r=[];return d()(n,(e=>{const n=t;n.Name=e.PathWithNamespace,n.Gitlab.ProjectPath=l()(e.PathWithNamespace),n.Gitlab.ProjectId=e.Id,n.Password=n.Token;const i=new h.RegistryCreateRequest(n);r.push(a.create(i).$promise)})),e.all(r)},retrievePorRegistryModelFromRepository:function(e,a,r,i){return t((async()=>{try{const t=await n.registries(a,i);return u(e,t,r)}catch(e){throw{msg:\"Unable to retrieve the registry associated to the repository\",err:e}}}))},retrievePorRegistryModelFromRepositoryWithRegistries:u,loadRegistriesForDropdown:function(e,a){return t((async()=>{try{const t=await n.registries(e,a);return t.some((e=>e.Type===g.RegistryTypes.DOCKERHUB))||t.push(new f.DockerHubViewModel),t}catch(e){throw{msg:\"Unable to retrieve the registries\",err:e}}}))}};function c(e){let t=e.URL;if(e.Type===g.RegistryTypes.GITLAB)t=e.URL+\"/\"+e.Gitlab.ProjectPath;else if(e.Type===g.RegistryTypes.QUAY){const n=e.Quay.UseOrganisation?e.Quay.OrganisationName:e.Username;t=e.URL+\"/\"+n}return t}function u(e,t,n){const a=new m.PorImageRegistryModel,o=function(e,t,n){let a,r,i;for(const o of t){if(o.Id==n)return o;o.Type===g.RegistryTypes.DOCKERHUB&&((e.startsWith(o.Username+\"/\")||e.startsWith(c(o)+\"/\"+o.Username+\"/\"))&&(a=o),i=i||o),s()(e,c(o))&&(r=o)}return a||r||i}(e,t,n);if(o){const t=c(o);let n=e.lastIndexOf(t);n=-1===n?0:n+t.length;let i=e.substring(n);r()(i,\"/\")&&(i=i.substring(1)),a.Registry=o,a.Image=i}else i.imageContainsURL(e)&&(a.UseRegistry=!1),a.Registry=new f.DockerHubViewModel,a.Image=e;return a}}])},17293:function(){angular.module(\"portainer.app\").factory(\"ResourceControlService\",[\"$q\",\"ResourceControl\",\"UserService\",\"TeamService\",\"ResourceControlHelper\",function(e,t,n,a,r){\"use strict\";const i={};function s(e,n){const a={AdministratorsOnly:n.AdministratorsOnly,Public:n.Public,Users:n.Users,Teams:n.Teams};return t.update({id:e},a).$promise}return i.duplicateResourceControl=function(e,t,n){const a=r.RCViewModelToOwnershipParameters(e,t);return s(n.Id,a)},i.applyResourceControl=function(e,t,n,a=[]){const i=r.RCFormDataToOwnershipParameters(e,t,a);return s(n.Id,i)},i.retrieveOwnershipDetails=function(t){var i=e.defer();return t?(e.all({users:t.UserAccesses.length>0?n.users(!1):[],teams:t.TeamAccesses.length>0?a.teams():[]}).then((function(e){var n=r.retrieveAuthorizedUsers(t,e.users),a=r.retrieveAuthorizedTeams(t,e.teams);i.resolve({authorizedUsers:n,authorizedTeams:a})})).catch((function(e){i.reject({msg:\"Unable to retrieve user and team information\",err:e})})),i.promise):(i.resolve({authorizedUsers:[],authorizedTeams:[]}),i.promise)},i}])},91532:function(e,t,n){\"use strict\";n.r(t);var a=n(55287);angular.module(\"portainer.app\").factory(\"SettingsService\",[\"$q\",\"Settings\",function(e,t){return{settings:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new a.SettingsViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve application settings\",err:e})})),n.promise},update:function(e){return t.update({},e).$promise},publicSettings:function(){var n=e.defer();return t.publicSettings().$promise.then((function(e){var t=new a.PublicSettingsViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve application settings\",err:e})})),n.promise},checkLDAPConnectivity:function(e){return t.checkLDAPConnectivity({},e).$promise}}}])},39243:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e){return{upload:function(t,n,a){return e.upload({httpEnabled:t,cert:n,key:a}).$promise},get:function(){return e.get().$promise}}}i.$inject=[\"SSL\"],r().module(\"portainer.app\").service(\"SSLService\",i)},54332:function(e,t,n){\"use strict\";n.r(t);var a=n(20111),r=n.n(a),i=n(6253),s=n(49036);angular.module(\"portainer.app\").factory(\"StackService\",[\"$q\",\"$async\",\"Stack\",\"FileUploadService\",\"StackHelper\",\"ServiceService\",\"ContainerService\",\"SwarmService\",\"EndpointProvider\",function(e,t,n,a,o,l,c,d,u){var p={updateGit:function(e,t,a,r,i){return n.updateGit({endpointId:t,id:e},{env:a,prune:r,RepositoryReferenceName:i.RefName,RepositoryAuthentication:i.RepositoryAuthentication,RepositoryUsername:i.RepositoryUsername,RepositoryPassword:i.RepositoryPassword}).$promise},updateKubeGit:function(e,t,a,r){return n.updateGit({endpointId:t,id:e},{Namespace:a,RepositoryReferenceName:r.RefName,RepositoryAuthentication:r.RepositoryAuthentication,RepositoryUsername:r.RepositoryUsername,RepositoryPassword:r.RepositoryPassword}).$promise}};async function m(e,t,a){try{await n.create({endpointId:e,method:t,type:3},a).$promise}catch(e){throw{err:e}}}return p.stack=function(t){var a=e.defer();return n.get({id:t}).$promise.then((function(e){var t=new s.StackViewModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:\"Unable to retrieve stack details\",err:e})})),a.promise},p.getStackFile=function(t){var a=e.defer();return n.getStackFile({id:t}).$promise.then((function(e){a.resolve(e.StackFileContent)})).catch((function(e){a.reject({msg:\"Unable to retrieve stack content\",err:e})})),a.promise},p.migrateSwarmStack=function(t,a,r){var i=e.defer();return u.setEndpointID(a),d.swarm().then((function(e){var s=e;if(s.Id!==t.SwarmId)return n.migrate({id:t.Id,endpointId:t.EndpointId},{EndpointID:a,SwarmID:s.Id,Name:r}).$promise;i.reject({msg:\"Target environment is located in the same Swarm cluster as the current environment\",err:null})})).then((function(){i.resolve()})).catch((function(e){i.reject({msg:\"Unable to migrate stack\",err:e})})).finally((function(){u.setEndpointID(t.EndpointId)})),i.promise},p.migrateComposeStack=function(t,a,r){var i=e.defer();return u.setEndpointID(a),n.migrate({id:t.Id,endpointId:t.EndpointId},{EndpointID:a,Name:r}).$promise.then((function(){i.resolve()})).catch((function(e){u.setEndpointID(t.EndpointId),i.reject({msg:\"Unable to migrate stack\",err:e})})),i.promise},p.stacks=function(t,n,a,r=!1){var i=e.defer(),s=[];return t&&s.push(p.composeStacks(a,!0,{EndpointID:a,IncludeOrphanedStacks:r})),n&&s.push(p.swarmStacks(a,!0,{IncludeOrphanedStacks:r})),e.all(s).then((function(e){var t=[];e[0]&&(t=t.concat(e[0])),e[1]&&(t=t.concat(e[1])),i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve stacks\",err:e})})),i.promise},p.externalSwarmStacks=function(){var t=e.defer();return l.services().then((function(e){t.resolve(o.getExternalStacksFromServices(e))})).catch((function(e){t.reject({msg:\"Unable to retrieve external stacks\",err:e})})),t.promise},p.externalComposeStacks=function(){var t=e.defer();return c.containers(1).then((function(e){t.resolve(o.getExternalStacksFromContainers(e))})).catch((function(e){t.reject({msg:\"Unable to retrieve external stacks\",err:e})})),t.promise},p.unionStacks=function(e,t){return e.forEach((e=>{t.forEach((t=>{e.Orphaned&&e.Name==t.Name&&(e.OrphanedRunning=!0)}))})),r()(e,t,(function(e,t){return e.Name===t.Name}))},p.composeStacks=function(t,a,r){var i=e.defer();return e.all({stacks:n.query({filters:r}).$promise,externalStacks:a?p.externalComposeStacks():[]}).then((function(e){var n=e.stacks.map((function(e){return e.EndpointId==t?new s.StackViewModel(e):new s.OrphanedStackViewModel(e)})),a=e.externalStacks;const r=p.unionStacks(n,a);i.resolve(r)})).catch((function(e){i.reject({msg:\"Unable to retrieve stacks\",err:e})})),i.promise},p.swarmStacks=function(t,a,r={}){var i=e.defer();return d.swarm().then((function(t){return r={SwarmID:t.Id,...r},e.all({stacks:n.query({filters:r}).$promise,externalStacks:a?p.externalSwarmStacks():[]})})).then((function(e){var n=e.stacks.map((function(e){return e.EndpointId==t?new s.StackViewModel(e):new s.OrphanedStackViewModel(e)})),a=e.externalStacks;const r=p.unionStacks(n,a);i.resolve(r)})).catch((function(e){i.reject({msg:\"Unable to retrieve stacks\",err:e})})),i.promise},p.remove=function(t,a,r){var i=e.defer();return n.remove({id:t.Id?t.Id:t.Name,external:a,endpointId:r}).$promise.then((function(){i.resolve()})).catch((function(e){i.reject({msg:\"Unable to remove the stack\",err:e})})),i.promise},p.associate=function(t,a,r){var i=e.defer();return 1==t.Type?d.swarm().then((function(e){const i=e;return n.associate({id:t.Id,endpointId:a,swarmId:i.Id,orphanedRunning:r}).$promise})).then((function(e){i.resolve(e)})).catch((function(e){i.reject({msg:\"Unable to associate the stack\",err:e})})):n.associate({id:t.Id,endpointId:a,orphanedRunning:r}).$promise.then((function(e){i.resolve(e)})).catch((function(e){i.reject({msg:\"Unable to associate the stack\",err:e})})),i.promise},p.updateStack=function(e,t,a,r){return n.update({endpointId:e.EndpointId},{id:e.Id,StackFileContent:t,Env:a,Prune:r}).$promise},p.updateKubeStack=function(e,t,a){let r={};if(t)r={StackFileContent:t};else{const e={};a.AutoUpdate&&a.AutoUpdate.RepositoryAutomaticUpdates&&(a.AutoUpdate.RepositoryMechanism===i.RepositoryMechanismTypes.INTERVAL?e.Interval=a.AutoUpdate.RepositoryFetchInterval:a.AutoUpdate.RepositoryMechanism===i.RepositoryMechanismTypes.WEBHOOK&&(e.Webhook=a.AutoUpdate.RepositoryWebhookURL.split(\"/\").reverse()[0])),r={AutoUpdate:e,RepositoryReferenceName:a.RefName,RepositoryAuthentication:a.RepositoryAuthentication,RepositoryUsername:a.RepositoryUsername,RepositoryPassword:a.RepositoryPassword}}return n.update({id:e.Id,endpointId:e.EndpointId},r).$promise},p.createComposeStackFromFileUpload=function(e,t,n,r){return a.createComposeStack(e,t,n,r)},p.createSwarmStackFromFileUpload=function(t,n,r,i){var s=e.defer();return d.swarm().then((function(e){var s=e;return a.createSwarmStack(t,s.Id,n,r,i)})).then((function(e){s.resolve(e.data)})).catch((function(e){s.reject({msg:\"Unable to create the stack\",err:e})})),s.promise},p.createComposeStackFromFileContent=function(e,t,a,r){var i={Name:e,StackFileContent:t,Env:a};return n.create({method:\"string\",type:2,endpointId:r},i).$promise},p.createSwarmStackFromFileContent=function(t,a,r,i){var s=e.defer();return d.swarm().then((function(e){var s={Name:t,SwarmID:e.Id,StackFileContent:a,Env:r};return n.create({method:\"string\",type:1,endpointId:i},s).$promise})).then((function(e){s.resolve(e)})).catch((function(e){s.reject({msg:\"Unable to create the stack\",err:e})})),s.promise},p.createComposeStackFromGitRepository=function(e,t,a,r){var i={Name:e,RepositoryURL:t.RepositoryURL,RepositoryReferenceName:t.RepositoryReferenceName,ComposeFile:t.ComposeFilePathInRepository,AdditionalFiles:t.AdditionalFiles,RepositoryAuthentication:t.RepositoryAuthentication,RepositoryUsername:t.RepositoryUsername,RepositoryPassword:t.RepositoryPassword,Env:a,FromAppTemplate:t.FromAppTemplate};return t.AutoUpdate&&(i.AutoUpdate=t.AutoUpdate),n.create({method:\"repository\",type:2,endpointId:r},i).$promise},p.createSwarmStackFromGitRepository=function(t,a,r,i){var s=e.defer();return d.swarm().then((function(e){var s={Name:t,SwarmID:e.Id,RepositoryURL:a.RepositoryURL,RepositoryReferenceName:a.RepositoryReferenceName,ComposeFile:a.ComposeFilePathInRepository,AdditionalFiles:a.AdditionalFiles,RepositoryAuthentication:a.RepositoryAuthentication,RepositoryUsername:a.RepositoryUsername,RepositoryPassword:a.RepositoryPassword,Env:r,FromAppTemplate:a.FromAppTemplate};return a.AutoUpdate&&(s.AutoUpdate=a.AutoUpdate),n.create({method:\"repository\",type:1,endpointId:i},s).$promise})).then((function(e){s.resolve(e)})).catch((function(e){s.reject({msg:\"Unable to create the stack\",err:e})})),s.promise},p.duplicateStack=function(e,t,n,a,r){return(1===r?p.createSwarmStackFromFileContent:p.createComposeStackFromFileContent)(e,t,n,a)},p.kubernetesDeploy=function(e,n,a){return t(m,e,n,a)},p.start=function(e){return n.start({id:e}).$promise},p.stop=function(e){return n.stop({id:e}).$promise},p.updateGitStackSettings=function(e,t,a,r){const s={};return r.AutoUpdate.RepositoryAutomaticUpdates&&(r.AutoUpdate.RepositoryMechanism===i.RepositoryMechanismTypes.INTERVAL?s.Interval=r.AutoUpdate.RepositoryFetchInterval:r.AutoUpdate.RepositoryMechanism===i.RepositoryMechanismTypes.WEBHOOK&&(s.Webhook=r.AutoUpdate.RepositoryWebhookURL.split(\"/\").reverse()[0])),n.updateGitStackSettings({endpointId:t,id:e},{AutoUpdate:s,Env:a,RepositoryReferenceName:r.RefName,RepositoryAuthentication:r.RepositoryAuthentication,RepositoryUsername:r.RepositoryUsername,RepositoryPassword:r.RepositoryPassword}).$promise},p}])},97128:function(e,t,n){\"use strict\";n.r(t);var a=n(95154);angular.module(\"portainer.app\").factory(\"StatusService\",[\"$q\",\"Status\",function(e,t){return{status:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new a.StatusViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve application status\",err:e})})),n.promise},version:function(){var n=e.defer();return t.version().$promise.then((function(e){var t=new a.StatusVersionViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve application version info\",err:e})})),n.promise}}}])},10754:function(){angular.module(\"portainer.app\").factory(\"SupportService\",[\"$q\",\"Support\",function(e,t){\"use strict\";return{supportProducts:function(){var n=e.defer();return t.get().$promise.then((function(e){n.resolve(e)})).catch((function(e){n.reject({msg:\"Unable to retrieve support options\",err:e})})),n.promise}}}])},44904:function(e,t,n){\"use strict\";n.r(t);var a=n(26410);angular.module(\"portainer.app\").factory(\"TagService\",[\"$q\",\"$async\",\"Tags\",function(e,t,n){var r={};async function i(e){var t={Name:e};try{const e=await n.create({},t).$promise;return new a.TagViewModel(e)}catch(e){throw{msg:\"Unable to create tag\",err:e}}}return r.tags=function(){var t=e.defer();return n.query().$promise.then((function(e){var n=e.map((function(e){return new a.TagViewModel(e)}));t.resolve(n)})).catch((function(e){t.reject({msg:\"Unable to retrieve tags\",err:e})})),t.promise},r.tagNames=function(){var t=e.defer();return n.query().$promise.then((function(e){var n=e.map((function(e){return e.Name}));t.resolve(n)})).catch((function(e){t.reject({msg:\"Unable to retrieve tags\",err:e})})),t.promise},r.createTag=function(e){return t(i,e)},r.deleteTag=function(e){return n.remove({id:e}).$promise},r}])},87643:function(e,t,n){\"use strict\";n.r(t);var a=n(3010);angular.module(\"portainer.app\").factory(\"TeamMembershipService\",[\"$q\",\"TeamMemberships\",function(e,t){return{memberships:function(){var n=e.defer();return t.query().$promise.then((function(e){var t=e.map((function(e){return new a.TeamMembershipModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve team memberships\",err:e})})),n.promise},createMembership:function(e,n,a){var r={UserID:e,TeamID:n,Role:a};return t.create({},r).$promise},deleteMembership:function(e){return t.remove({id:e}).$promise},updateMembership:function(e,n,a,r){var i={UserID:n,TeamID:a,Role:r};return t.update({id:e},i).$promise}}}])},75495:function(e,t,n){\"use strict\";n.r(t);var a=n(58552),r=n(3010);angular.module(\"portainer.app\").factory(\"TeamService\",[\"$q\",\"Teams\",function(e,t){return{teams:function(){var n=e.defer();return t.query().$promise.then((function(e){var t=e.map((function(e){return new a.TeamViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve teams\",err:e})})),n.promise},team:function(n){var r=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.TeamViewModel(e);r.resolve(t)})).catch((function(e){r.reject({msg:\"Unable to retrieve team details\",err:e})})),r.promise},createTeam:function(n,a){var r=e.defer(),i={Name:n,TeamLeaders:a};return t.create({},i).$promise.then((function(){r.resolve()})).catch((function(e){r.reject({msg:\"Unable to create team\",err:e})})),r.promise},deleteTeam:function(e){return t.remove({id:e}).$promise},userMemberships:function(n){var a=e.defer();return t.queryMemberships({id:n}).$promise.then((function(e){var t=e.map((function(e){return new r.TeamMembershipModel(e)}));a.resolve(t)})).catch((function(e){a.reject({msg:\"Unable to retrieve user memberships for the team\",err:e})})),a.promise}}}])},66656:function(e,t,n){\"use strict\";n.r(t);var a=n(74962),r=n(76185);function i(e,t,n,i,s,o){var l={templates:function(n){const i=e.defer();return e.all({templates:t.query().$promise,registries:o.registries(n)}).then((function({templates:e,registries:t}){const n=e.version;i.resolve(e.templates.map((e=>{try{const i=new r.TemplateViewModel(e,n),s=i.RegistryModel.Registry.URL,o=s?t.find((e=>e.URL===s)):new a.DockerHubViewModel;return i.RegistryModel.Registry=o,i}catch(e){i.reject({msg:\"Unable to retrieve templates\",err:e})}})))})).catch((function(e){i.reject({msg:\"Unable to retrieve templates\",err:e})})),i.promise},templateFile:function(e,n){return t.file({repositoryUrl:e,composeFilePathInRepository:n}).$promise},createTemplateConfiguration:function(e,t,a){var r=i.createImageConfigForContainer(e.RegistryModel),o=function(e,t,a){var r=n.getDefaultContainerConfiguration();r.HostConfig.NetworkMode=a.Name,r.HostConfig.Privileged=e.Privileged,r.HostConfig.RestartPolicy={Name:e.RestartPolicy},r.HostConfig.ExtraHosts=e.Hosts?e.Hosts:[],r.name=t,r.Hostname=e.Hostname,r.Env=n.EnvToStringArray(e.Env),r.Cmd=s.commandStringToArray(e.Command);var i=n.portArrayToPortConfiguration(e.Ports);r.HostConfig.PortBindings=i.bindings,r.ExposedPorts=i.exposedPorts;var o=n.getConsoleConfiguration(e.Interactive);return r.OpenStdin=o.openStdin,r.Tty=o.tty,r.Labels=n.updateContainerConfigurationWithLabels(e.Labels),r}(e,t,a);return o.Image=r.fromImage,o},updateContainerConfigurationWithVolumes:function(e,t,a){var r=t.Volumes;n.createVolumeBindings(r,a),r.forEach((function(t){t.binding&&(e.Volumes[t.container]={},e.HostConfig.Binds.push(t.binding))}))}};return l}i.$inject=[\"$q\",\"Templates\",\"TemplateHelper\",\"ImageHelper\",\"ContainerHelper\",\"EndpointService\"],angular.module(\"portainer.app\").factory(\"TemplateService\",i)},96664:function(e,t,n){\"use strict\";n.r(t),n.d(t,{UserService:function(){return l}});var a=n(51235),r=n.n(a),i=n(90327),s=n(45145),o=n(3010);function l(e,t,n,a){var l={users:async function(e){return(await(0,s.Rf)(e)).map((e=>new i.UserViewModel(e)))},user:async function(e){const t=await(0,s.PR)(e);return new i.UserViewModel(t)},createUser:function(n,r,i,s){var o=e.defer(),l={username:n,password:r,role:i};return t.create({},l).$promise.then((function(t){var n=t.Id,r=[];angular.forEach(s,(function(e){r.push(a.createMembership(n,e,2))})),e.all(r).then((function(){o.resolve()}))})).catch((function(e){o.reject({msg:\"Unable to create user\",err:e})})),o.promise},deleteUser:function(e){return t.remove({id:e}).$promise},updateUser:function(e,{password:n,role:a,username:r}){return t.update({id:e},{password:n,role:a,username:r}).$promise},updateUserPassword:function(e,n,a){var r={Password:n,NewPassword:a};return t.updatePassword({id:e},r).$promise},updateUserTheme:function(e,n){return t.updateTheme({id:e},{userTheme:n}).$promise},userMemberships:function(n){var a=e.defer();return t.queryMemberships({id:n}).$promise.then((function(e){var t=e.map((function(e){return new o.TeamMembershipModel(e)}));a.resolve(t)})).catch((function(e){a.reject({msg:\"Unable to retrieve user memberships\",err:e})})),a.promise},userLeadingTeams:function(t){var a=e.defer();return e.all({teams:n.teams(),memberships:l.userMemberships(t)}).then((function(e){var t=e.memberships,n=e.teams.filter((function(e){var n=r()(t,{TeamId:e.Id});if(n&&1===n.Role)return e}));a.resolve(n)})).catch((function(e){a.reject({msg:\"Unable to retrieve user teams\",err:e})})),a.promise},createAccessToken:function(n,a){const r=e.defer(),i={description:a};return t.createAccessToken({id:n},i).$promise.then((e=>{r.resolve(e)})).catch((function(e){r.reject({msg:\"Unable to create user\",err:e})})),r.promise},getAccessTokens:function(n){var a=e.defer();return t.getAccessTokens({id:n}).$promise.then((function(e){var t=e.map((function(e){return new i.UserTokenModel(e)}));a.resolve(t)})).catch((function(e){a.reject({msg:\"Unable to retrieve user tokens\",err:e})})),a.promise},deleteAccessToken:function(e,n){return t.deleteAccessToken({id:e,tokenId:n}).$promise},initAdministrator:function(e,n){return t.initAdminUser({Username:e,Password:n}).$promise},administratorExists:function(){var n=e.defer();return t.checkAdminUser({}).$promise.then((function(){n.resolve(!0)})).catch((function(e){404===e.status&&n.resolve(!1),n.reject({msg:\"Unable to verify administrator account existence\",err:e})})),n.promise}};return l}l.$inject=[\"$q\",\"Users\",\"TeamService\",\"TeamMembershipService\"]},16856:function(e,t,n){\"use strict\";n.r(t);var a=n(74708);angular.module(\"portainer.app\").factory(\"WebhookService\",[\"$q\",\"Webhooks\",function(e,t){return{webhooks:function(n,r){var i=e.defer(),s={ResourceID:n,EndpointID:r};return t.query({filters:s}).$promise.then((function(e){var t=e.map((function(e){return new a.WebhookViewModel(e)}));i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve webhooks\",err:e})})),i.promise},createServiceWebhook:function(e,n,a){return t.create({ResourceID:e,EndpointID:n,WebhookType:1,registryID:a}).$promise},updateServiceWebhook:function(e,n){return t.update({id:e,registryID:n}).$promise},deleteWebhook:function(e){return t.remove({id:e}).$promise}}}])},52726:function(){angular.module(\"portainer\").factory(\"$async\",[\"$q\",function(e){return function(t,...n){const a=e.defer();return function(n){const a=e.defer();return t(...n).then(a.resolve).catch(a.reject),a.promise}(n).then(a.resolve).catch(a.reject),a.promise}}])},38890:function(e,t,n){\"use strict\";n.r(t);var a=n(85280);angular.module(\"portainer.app\").factory(\"Authentication\",[\"$async\",\"$state\",\"Auth\",\"OAuth\",\"jwtHelper\",\"LocalStorage\",\"StateManager\",\"EndpointProvider\",\"UserService\",\"ThemeManager\",function(e,t,n,r,i,s,o,l,c,d){var u={},p={};async function m(){try{const e=s.getJWT();return!e||i.isTokenExpired(e)?w():(await y(e),!0)}catch(e){return console.log(\"Unable to initialize authentication service\",e),w()}}async function g(e){e&&await n.logout().$promise,(0,a.clear)(),o.clean(),l.clean(),s.cleanAuthData(),s.storeLoginStateUUID(\"\"),w()}async function h(e){const t=f(await r.validate({code:e}).$promise);await y(t)}function f(e){const t=e.jwt;return s.storeJWT(t),e.jwt}async function v(e,t){const a=f(await n.login({username:e,password:t}).$promise);await y(a)}function b(t,n){return e(v,t,n)}async function y(e){var t=i.decodeToken(e);p.username=t.username,p.ID=t.id,p.role=t.role,p.forceChangePassword=t.forceChangePassword,await async function(){const e=(await c.user(p.ID)).UserTheme;\"auto\"!==e&&e?d.setTheme(e):d.autoTheme()}()}function w(){return!!window.ddExtension&&b(\"admin\",\"K7yJPP5qNK4hf1QsRnfV\")}return u.init=function(){return e(m)},u.OAuthLogin=function(t){return e(h,t)},u.login=b,u.logout=function(t){return e(g,t)},u.isAuthenticated=function(){var e=s.getJWT();return!!e&&!i.isTokenExpired(e)},u.getUserDetails=function(){return p},u.isAdmin=function(){return!!p&&1===p.role},u}])},49519:function(e,t,n){\"use strict\";n.r(t);var a=n(94452),r=n.n(a),i=n(7084),s=n.n(i);angular.module(\"portainer.app\").factory(\"ChartService\",[function(){var e={};function t(e,t,n,a){return{animation:{duration:0},responsiveAnimationDuration:0,responsive:!0,tooltips:{mode:\"index\",intersect:!1,position:e,callbacks:{label:function(e,n){var a=n.datasets[e.datasetIndex].label;return t(a,e.yLabel)}}},layout:{padding:{left:15}},hover:{animationDuration:0},scales:{yAxes:[{stacked:a,ticks:{beginAtZero:!0,callback:n,precision:0}}]}}}function n(e,t){e.data.datasets[0].data.length>t&&(e.data.labels.pop(),e.data.datasets[0].data.pop(),e.data.datasets[1].data.pop())}function a(e,t){return e+\": \"+(t>5?s()(t,{base:10,round:1}):t.toFixed(1)+\"B\")}function i(e){return e>5?s()(e,{base:10,round:1}):e.toFixed(1)+\"B\"}function o(e){return e>1?Math.round(e)+\"%\":e.toFixed(1)+\"%\"}function l(e,t){return e+\": \"+(t>1?Math.round(t):t.toFixed(1))+\"%\"}return e.CreateCPUChart=function(e){return function(e,n,a,i){return new(r())(e,{type:\"line\",data:{labels:[],datasets:[{label:\"CPU\",data:[],fill:!0,backgroundColor:\"rgba(151,187,205,0.4)\",borderColor:\"rgba(151,187,205,0.6)\",pointBackgroundColor:\"rgba(151,187,205,1)\",pointBorderColor:\"rgba(151,187,205,1)\",pointRadius:2,borderWidth:2}]},options:t(\"nearest\",a,i)})}(e,0,l,o)},e.CreateIOChart=function(e){return function(e,n,a){return new(r())(e,{type:\"line\",data:{labels:[],datasets:[{label:\"Read (Aggregate)\",data:[],fill:!0,backgroundColor:\"rgba(151,187,205,0.4)\",borderColor:\"rgba(151,187,205,0.6)\",pointBackgroundColor:\"rgba(151,187,205,1)\",pointBorderColor:\"rgba(151,187,205,1)\",pointRadius:2,borderWidth:2},{label:\"Write (Aggregate)\",data:[],fill:!0,backgroundColor:\"rgba(255,180,174,0.4)\",borderColor:\"rgba(255,180,174,0.6)\",pointBackgroundColor:\"rgba(255,180,174,1)\",pointBorderColor:\"rgba(255,180,174,1)\",pointRadius:2,borderWidth:2}]},options:t(\"nearest\",n,a,!0)})}(e,a,i)},e.CreateMemoryChart=function(e){return function(e,n,a){return new(r())(e,{type:\"line\",data:{labels:[],datasets:[{label:\"Memory\",data:[],fill:!0,backgroundColor:\"rgba(151,187,205,0.4)\",borderColor:\"rgba(151,187,205,0.6)\",pointBackgroundColor:\"rgba(151,187,205,1)\",pointBorderColor:\"rgba(151,187,205,1)\",pointRadius:2,borderWidth:2},{label:\"Cache\",data:[],fill:!0,backgroundColor:\"rgba(255,180,174,0.4)\",borderColor:\"rgba(255,180,174,0.6)\",pointBackgroundColor:\"rgba(255,180,174,1)\",pointBorderColor:\"rgba(255,180,174,1)\",pointRadius:2,borderWidth:2}]},options:t(\"nearest\",n,a,!0)})}(e,a,i)},e.CreateNetworkChart=function(e){return new(r())(e,{type:\"line\",data:{labels:[],datasets:[{label:\"RX on eth0\",data:[],fill:!1,backgroundColor:\"rgba(151,187,205,0.4)\",borderColor:\"rgba(151,187,205,0.6)\",pointBackgroundColor:\"rgba(151,187,205,1)\",pointBorderColor:\"rgba(151,187,205,1)\",pointRadius:2,borderWidth:2},{label:\"TX on eth0\",data:[],fill:!1,backgroundColor:\"rgba(255,180,174,0.4)\",borderColor:\"rgba(255,180,174,0.6)\",pointBackgroundColor:\"rgba(255,180,174,1)\",pointBorderColor:\"rgba(255,180,174,1)\",pointRadius:2,borderWidth:2}]},options:t(\"average\",a,i)})},e.UpdateMemoryChart=function(e,t,a,r){r.data.labels.push(e),r.data.datasets[0].data.push(t),a?r.data.datasets[1].data.push(a):r.data.datasets.splice(1,1),n(r),r.update(0)},e.UpdateCPUChart=function(e,t,n){n.data.labels.push(e),n.data.datasets[0].data.push(t),n.data.datasets[0].data.length>600&&(n.data.labels.pop(),n.data.datasets[0].data.pop()),n.update(0)},e.UpdateIOChart=function(e,t,a,r){r.data.labels.push(e),r.data.datasets[0].data.push(t),r.data.datasets[1].data.push(a),n(r),r.update(0)},e.UpdateNetworkChart=function(e,t,a,r){r.data.labels.push(e),r.data.datasets[0].data.push(t),r.data.datasets[1].data.push(a),n(r),r.update(0)},e}])},91112:function(e,t,n){\"use strict\";n.r(t);var a=n(3602),r=n.n(a),i=n(29084),s=n.n(i);n(65790),n(76194),n(82187),n(75434),angular.module(\"portainer.app\").factory(\"CodeMirrorService\",(function(){var e={},t={lineNumbers:!0},n={mode:\"text/x-yaml\",gutters:[\"CodeMirror-lint-markers\"],lint:!0,extraKeys:{Tab:function(e){var t=Array(e.getOption(\"indentUnit\")+1).join(\" \");e.replaceSelection(t)}}};return e.applyCodeMirrorOnElement=function(e,a,i){var o=angular.copy(t);a&&r()(o,n),i&&(o.readOnly=!0);var l=s().fromTextArea(e,o);return l.setSize(\"100%\",500),l},e}))},52943:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(85280);o.$inject=[\"LocalStorage\"],r().module(\"portainer.app\").factory(\"DatatableService\",o);const s=\"datatable_text_filter_\";function o(e){return{setDataTableSettings:function(t,n){e.storeDataTableSettings(t,n)},getDataTableSettings:function(t){return e.getDataTableSettings(t)},setDataTableTextFilters:function(e,t){i.save(s+e,t)},getDataTableTextFilters:function(e){return i.get(s+e)},setDataTableFilters:function(t,n){e.storeDataTableFilters(t,n)},getDataTableFilters:function(t){return e.getDataTableFilters(t)},getDataTableOrder:function(t){return e.getDataTableOrder(t)},setDataTableOrder:function(t,n,a){var r={orderBy:n,reverse:a};e.storeDataTableOrder(t,r)},setDataTableExpandedItems:function(t,n){e.storeDataTableExpandedItems(t,n)},setColumnVisibilitySettings:function(t,n){e.storeColumnVisibilitySettings(t,n)},getDataTableExpandedItems:function(t){return e.getDataTableExpandedItems(t)},setDataTableSelectedItems:function(t,n){e.storeDataTableSelectedItems(t,n)},getDataTableSelectedItems:function(t){return e.getDataTableSelectedItems(t)},getColumnVisibilitySettings:function(t){return e.getColumnVisibilitySettings(t)}}}},65187:function(){angular.module(\"portainer.app\").factory(\"EndpointProvider\",[\"LocalStorage\",\"$uiRouterGlobals\",function(e,t){const n={currentEndpoint:null};var a={},r={};return a.initialize=function(){var t=e.getEndpointID(),n=e.getEndpointPublicURL(),a=e.getOfflineMode();t&&(r.ID=t),n&&(r.PublicURL=n),a&&(r.OfflineMode=a)},a.clean=function(){e.cleanEndpointData(),r={}},a.endpoint=function(){return r},a.endpointID=function(){return void 0===r.ID&&(r.ID=e.getEndpointID()),null===r.ID||void 0===r.ID?a.getUrlEndpointID():r.ID},a.getUrlEndpointID=()=>t.params.id,a.setEndpointID=function(t){r.ID=t,e.storeEndpointID(t)},a.endpointPublicURL=function(){return void 0===r.PublicURL&&(r.PublicURL=e.getEndpointPublicURL()),r.PublicURL},a.setEndpointPublicURL=function(t){r.PublicURL=t,e.storeEndpointPublicURL(t)},a.endpoints=function(){return e.getEndpoints()},a.setEndpoints=function(t){e.storeEndpoints(t)},a.offlineMode=function(){return r.OfflineMode},a.setOfflineMode=function(t){r.OfflineMode=t,e.storeOfflineMode(t)},a.setOfflineModeFromStatus=function(t){var n=1!==t;r.OfflineMode=n,e.storeOfflineMode(n)},a.currentEndpoint=function(){return n.currentEndpoint},a.setCurrentEndpoint=function(e){n.currentEndpoint=e},a}])},21262:function(e,t,n){\"use strict\";n.r(t);var a=n(74808),r=n(12944);angular.module(\"portainer.app\").factory(\"FileUploadService\",[\"$q\",\"Upload\",\"EndpointProvider\",function(e,t,n){var i={};function s(e,n){return t.upload({url:e,data:{file:n}})}return i.buildImage=function(e,a,i){var s=n.endpointID();return t.http({url:\"api/endpoints/\"+s+\"/docker/build\",headers:{\"Content-Type\":a.type},data:a,params:{t:e,dockerfile:i},ignoreLoadingBar:!0,transformResponse:function(e){return(0,r.jsonObjectsToArrayHandler)(e)}})},i.loadImages=function(e){var a=n.endpointID();return t.http({url:\"api/endpoints/\"+a+\"/docker/images/load\",headers:{\"Content-Type\":e.type},data:e,ignoreLoadingBar:!0,transformResponse:r.genericHandler})},i.createSchedule=function(e){return t.upload({url:\"api/edge_jobs?method=file\",data:{file:e.File,Name:e.Name,CronExpression:e.CronExpression,Image:e.Image,Endpoints:t.json(e.Endpoints),RetryCount:e.RetryCount,RetryInterval:e.RetryInterval}})},i.uploadBackup=function(e,n){return t.upload({url:\"api/restore\",data:{file:e,password:n}})},i.createSwarmStack=function(e,n,a,r,i){return t.upload({url:\"api/stacks?method=file&type=1&endpointId=\"+i,data:{file:a,Name:e,SwarmID:n,Env:t.json(r)},ignoreLoadingBar:!0})},i.createComposeStack=function(e,n,a,r){return t.upload({url:\"api/stacks?method=file&type=2&endpointId=\"+r,data:{file:n,Name:e,Env:t.json(a)},ignoreLoadingBar:!0})},i.createEdgeStack=function({EdgeGroups:e,...n},a){return t.upload({url:\"api/edge_stacks?method=file\",data:{file:a,EdgeGroups:t.json(e),...n},ignoreLoadingBar:!0})},i.createCustomTemplate=function(e){return t.upload({url:\"api/custom_templates?method=file\",data:e,ignoreLoadingBar:!0})},i.configureRegistry=function(e,n){return t.upload({url:\"api/registries/\"+e+\"/configure\",data:n})},i.createEndpoint=function(e,n,a,r,i,s,o,l,c,d,u,p,m,g){return t.upload({url:\"api/endpoints\",data:{Name:e,EndpointCreationType:n,URL:a,PublicURL:r,GroupID:i,TagIds:t.json(s),TLS:o,TLSSkipVerify:l,TLSSkipClientVerify:c,TLSCACertFile:d,TLSCertFile:u,TLSKeyFile:p,CheckinInterval:m,IsEdgeDevice:g},ignoreLoadingBar:!0})},i.createAzureEndpoint=function(e,n,r,i,s,o){return t.upload({url:\"api/endpoints\",data:{Name:e,EndpointCreationType:a.PortainerEndpointCreationTypes.AzureEnvironment,GroupID:s,TagIds:t.json(o),AzureApplicationID:n,AzureTenantID:r,AzureAuthenticationKey:i},ignoreLoadingBar:!0})},i.uploadLDAPTLSFiles=function(t,n,a){var r=[];return t&&r.push(s(\"api/upload/tls/ca?folder=ldap\",t)),n&&r.push(s(\"api/upload/tls/cert?folder=ldap\",n)),a&&r.push(s(\"api/upload/tls/key?folder=ldap\",a)),e.all(r)},i.uploadTLSFilesForEndpoint=function(t,n,a,r){var i=[];return n&&i.push(s(\"api/upload/tls/ca?folder=\"+t,n)),a&&i.push(s(\"api/upload/tls/cert?folder=\"+t,a)),r&&i.push(s(\"api/upload/tls/key?folder=\"+t,r)),e.all(i)},i.uploadOwnershipVoucher=function(e){return t.upload({url:\"api/fdo/register\",data:{voucher:e},ignoreLoadingBar:!0})},i}])},59197:function(e,t,n){\"use strict\";n.r(t);var a=n(30424);angular.module(\"portainer.app\").factory(\"FormValidator\",[function(){return{validateAccessControl:function(e,t){return e.AccessControlEnabled?t&&e.Ownership===a.X.RESTRICTED&&0===e.AuthorizedUsers.length&&0===e.AuthorizedTeams.length?\"You must specify at least one team or user.\":t||e.Ownership!==a.X.RESTRICTED||0!==e.AuthorizedTeams.length?\"\":\"You must specify at least a team.\":\"\"}}}])},11189:function(){angular.module(\"portainer.app\").factory(\"LocalStorage\",[\"localStorageService\",function(e){return{storeEndpointID:function(t){e.set(\"ENDPOINT_ID\",t)},getEndpointID:function(){return e.get(\"ENDPOINT_ID\")},storeEndpointPublicURL:function(t){e.set(\"ENDPOINT_PUBLIC_URL\",t)},getEndpointPublicURL:function(){return e.get(\"ENDPOINT_PUBLIC_URL\")},storeLoginStateUUID:function(t){e.set(\"LOGIN_STATE_UUID\",t)},getLoginStateUUID:function(){return e.get(\"LOGIN_STATE_UUID\")},storeOfflineMode:function(t){e.set(\"ENDPOINT_OFFLINE_MODE\",t)},getOfflineMode:function(){return e.get(\"ENDPOINT_OFFLINE_MODE\")},storeEndpoints:function(t){e.set(\"ENDPOINTS_DATA\",t)},getEndpoints:function(){return e.get(\"ENDPOINTS_DATA\")},storeEndpointState:function(t){e.set(\"ENDPOINT_STATE\",t)},getEndpointState:function(){return e.get(\"ENDPOINT_STATE\")},storeApplicationState:function(t){e.set(\"APPLICATION_STATE\",t)},getApplicationState:function(){return e.get(\"APPLICATION_STATE\")},storeUIState:function(t){e.set(\"UI_STATE\",t)},getUIState:function(){return e.get(\"UI_STATE\")},storeJWT:function(t){e.set(\"JWT\",t)},getJWT:function(){return e.get(\"JWT\")},deleteJWT:function(){e.remove(\"JWT\")},storePaginationLimit:function(t,n){e.set(\"datatable_pagination_\"+t,n)},getPaginationLimit:function(t){return e.get(\"datatable_pagination_\"+t)},getDataTableOrder:function(t){return e.get(\"datatable_order_\"+t)},storeDataTableOrder:function(t,n){e.set(\"datatable_order_\"+t,n)},getDataTableTextFilters:function(t){return e.get(\"datatable_text_filter_\"+t)},storeDataTableTextFilters:function(t,n){e.set(\"datatable_text_filter_\"+t,n)},getDataTableFilters:function(t){return e.get(\"datatable_filters_\"+t)},storeDataTableFilters:function(t,n){e.set(\"datatable_filters_\"+t,n)},getDataTableSettings:function(t){return e.get(\"datatable_settings_\"+t)},storeDataTableSettings:function(t,n){e.set(\"datatable_settings_\"+t,n)},getDataTableExpandedItems:function(t){return e.get(\"datatable_expandeditems_\"+t)},storeDataTableExpandedItems:function(t,n){e.set(\"datatable_expandeditems_\"+t,n)},getDataTableSelectedItems:function(t){return e.get(\"datatable_selecteditems_\"+t)},storeDataTableSelectedItems:function(t,n){e.set(\"datatable_selecteditems_\"+t,n)},storeSwarmVisualizerSettings:function(t,n){e.set(\"swarmvisualizer_\"+t,n)},getSwarmVisualizerSettings:function(t){return e.get(\"swarmvisualizer_\"+t)},storeColumnVisibilitySettings:function(t,n){e.set(\"col_visibility_\"+t,n)},getColumnVisibilitySettings:function(t){return e.get(\"col_visibility_\"+t)},storeJobImage:function(t){e.set(\"job_image\",t)},getJobImage:function(){return e.get(\"job_image\")},storeActiveTab:function(t,n){return e.set(\"active_tab_\"+t,n)},getActiveTab:function(t){const n=e.get(\"active_tab_\"+t);return null===n?0:n},storeToolbarToggle(t){e.set(\"toolbar_toggle\",t)},getToolbarToggle:()=>e.get(\"toolbar_toggle\"),storeLogoutReason:t=>e.set(\"logout_reason\",t),getLogoutReason:()=>e.get(\"logout_reason\"),cleanLogoutReason:()=>e.remove(\"logout_reason\"),clean:function(){e.clearAll()},cleanAuthData(){e.remove(\"JWT\",\"APPLICATION_STATE\",\"LOGIN_STATE_UUID\")},cleanEndpointData(){e.remove(\"ENDPOINT_ID\",\"ENDPOINT_PUBLIC_URL\",\"ENDPOINT_OFFLINE_MODE\",\"ENDPOINTS_DATA\",\"ENDPOINT_STATE\")},storeKubernetesSummaryToggle(t){e.set(\"kubernetes_summary_expanded\",t)},getKubernetesSummaryToggle:()=>e.get(\"kubernetes_summary_expanded\")}}])},16624:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);function i(e,t){return{validateEnvironmentName:async function(n){try{return(await e.endpoints()).value.filter((e=>e.Name===n)).length>0}catch(e){t.error(\"Failure\",e,\"Unable to retrieve environment details\")}}}}i.$inject=[\"EndpointService\",\"Notifications\"],r().module(\"portainer.app\").factory(\"NameValidator\",i)},40073:function(){angular.module(\"portainer.app\").factory(\"PaginationService\",[\"LocalStorage\",\"PAGINATION_MAX_ITEMS\",function(e,t){\"use strict\";return{getPaginationLimit:function(n){var a=t,r=e.getPaginationLimit(n);return null!==r&&(a=r),\"\"+a},setPaginationLimit:function(t,n){e.storePaginationLimit(t,n)}}}])},76211:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(25445),s=n.n(i),o=n(62365),l=n(64088);angular.module(\"portainer.app\").factory(\"RegistryGitlabService\",[\"$async\",\"Gitlab\",function(e,t){var n={};async function a(e,n,r){const i=await t(e).projects(n).$promise;return r=s()(r,i.data),i.next&&(n.page=i.next,r=await a(e,n,r)),r}async function i(e,t){try{const n=await a({url:e,token:t},{page:1},[]);return r()(n,(e=>new o.RegistryGitlabProject(e)))}catch(e){throw{msg:\"Unable to retrieve projects\",err:e}}}async function c(e,n){const a=await t().repositories(e).$promise;return n=s()(n,a.data),a.next&&(e.page=a.next,n=await c(e,n)),n}async function d(e,t){try{const n={id:e.Id,endpointId:t,projectId:e.Gitlab.ProjectId,page:1},a=await c(n,[]);return r()(a,(e=>new l.RegistryRepositoryGitlabViewModel(e)))}catch(e){throw{msg:\"Unable to retrieve repositories\",err:e}}}return n.projects=function(t,n){return e(i,t,n)},n.repositories=function(t,n){return e(d,t,n)},n}])},56858:function(e,t,n){\"use strict\";n.r(t);var a=n(6632),r=n.n(a);function i(e,t,n){const a={registryModal:async function(a,i){const s=e.defer(),o=function(e){return e.map((e=>({text:e.Name,value:String(e.Id)})))}(i),l=n.retrievePorRegistryModelFromRepositoryWithRegistries(a,i),c=String(r()(l,\"Registry.Id\",\"0\"));return t.selectRegistry({title:\"Which registry do you want to use?\",inputType:\"select\",inputOptions:o,value:c,callback:e=>{if(e){const t=n.retrievePorRegistryModelFromRepositoryWithRegistries(a,i,e);s.resolve(t)}else s.resolve(null)}}),s.promise}};return a}i.$inject=[\"$q\",\"ModalService\",\"RegistryService\"],angular.module(\"portainer.app\").factory(\"RegistryModalService\",i)},85280:function(e,t,n){\"use strict\";function a(){sessionStorage.clear()}function r(e,t){sessionStorage.setItem(e,JSON.stringify(t))}function i(e){try{const t=sessionStorage.getItem(e);return JSON.parse(t)}catch(e){return}}n.r(t),n.d(t,{clear:function(){return a},save:function(){return r},get:function(){return i}})},37431:function(e,t,n){\"use strict\";n.r(t);var a=n(4396),r=n.n(a);function i(e,t,n,a,i,s,o,l,c,d,u){var p={},m={loading:!0,application:{},endpoint:{},UI:{dismissedInfoPanels:{},dismissedInfoHash:\"\",timesPasswordChangeSkipped:{}}};return p.setVersionInfo=function(e){m.application.versionStatus=e,i.storeApplicationState(m.application)},p.dismissInformationPanel=function(e){m.UI.dismissedInfoPanels[e]=!0,i.storeUIState(m.UI)},p.dismissImportantInformation=function(e){m.UI.dismissedInfoHash=e,i.storeUIState(m.UI)},p.setRequiredPasswordLength=function(e){m.UI.requiredPasswordLength=e,i.storeUIState(m.UI)},p.setPasswordChangeSkipped=function(e){m.UI.instanceId=m.UI.instanceId||m.application.instanceId,m.UI.timesPasswordChangeSkipped[e]=m.UI.timesPasswordChangeSkipped[e]+1||1,i.storeUIState(m.UI)},p.resetPasswordChangeSkips=function(e){m.UI.timesPasswordChangeSkipped[e]&&(m.UI.timesPasswordChangeSkipped[e]=0),i.storeUIState(m.UI)},p.clearPasswordChangeSkips=function(){m.UI.timesPasswordChangeSkipped={},i.storeUIState(m.UI)},p.getState=function(){return m},p.clean=function(){m.endpoint={},m.application={}},p.cleanEndpoint=function(){m.endpoint={},u.clean()},p.updateLogo=function(e){m.application.logo=e,i.storeApplicationState(m.application)},p.updateTheme=function(e){m.application.theme=e,i.storeApplicationState(m.application)},p.updateSnapshotInterval=function(e){m.application.snapshotInterval=e,i.storeApplicationState(m.application)},p.updateEnableEdgeComputeFeatures=function(e){m.application.enableEdgeComputeFeatures=e,i.storeApplicationState(m.application)},p.updateEnableTelemetry=function(e){m.application.enableTelemetry=e,d.setOptOut(!e),i.storeApplicationState(m.application)},p.initialize=async function(){return e((async()=>{const e=i.getEndpointState();e&&(m.endpoint=e);const n=i.getApplicationState();var a;!function(e){if(!e||!e.validity)return!1;return r()().unix()-e.validity<l}(n)?await(a=t.defer(),t.all({settings:s.publicSettings(),status:o.status()}).then((function(e){var t,n;t=e.status,n=e.settings,m.application.version=t.Version,m.application.edition=t.Edition,m.application.instanceId=t.InstanceID,m.application.demoEnvironment=t.DemoEnvironment,m.application.enableTelemetry=n.EnableTelemetry,m.application.logo=n.LogoURL,m.application.snapshotInterval=n.SnapshotInterval,m.application.enableEdgeComputeFeatures=n.EnableEdgeComputeFeatures,m.application.validity=r()().unix(),i.storeApplicationState(m.application),a.resolve(m)})).catch((function(e){a.reject({msg:\"Unable to retrieve server settings and status\",err:e})})),a.promise):m.application=n;const c=i.getUIState();return c&&(m.UI=c,m.UI.instanceId&&m.UI.instanceId!==m.application.instanceId&&(m.UI.instanceId=m.application.instanceId,m.UI.timesPasswordChangeSkipped={},i.storeUIState(m.UI))),m.loading=!1,d.setPortainerStatus(m.application.instanceId,m.application.version),d.setOptOut(!m.application.enableTelemetry),m}))},p.updateEndpointState=function(e){var r=t.defer();if(3===e.Type)return m.endpoint.name=e.Name,m.endpoint.mode={provider:\"AZURE\"},i.storeEndpointState(m.endpoint),r.resolve(),r.promise;if(5===e.Type||6===e.Type||7===e.Type)return m.endpoint.name=e.Name,m.endpoint.mode={provider:\"KUBERNETES\"},i.storeEndpointState(m.endpoint),r.resolve(),r.promise;const s=1===e.Status||!e.Snaphosts||!e.Snaphosts.length||!e.Snapshots[0].SnapshotRaw;return t.all({version:s?n.version():t.when(e.Snapshots[0].SnapshotRaw.Version),info:s?n.info():t.when(e.Snapshots[0].SnapshotRaw.Info)}).then((function(t){var n=a.determineEndpointMode(t.info,e.Type),r=parseFloat(t.version.ApiVersion);if(m.endpoint.mode=n,m.endpoint.name=e.Name,m.endpoint.type=e.Type,m.endpoint.apiVersion=r,n.agentProxy&&1===e.Status)return c.ping().then((function(e){m.endpoint.agentApiVersion=e.version}))})).then((function(){i.storeEndpointState(m.endpoint),r.resolve()})).catch((function(e){r.reject({msg:\"Unable to connect to the Docker environment\",err:e})})).finally((function(){m.loading=!1})),r.promise},p.getAgentApiVersion=function(){return m.endpoint.agentApiVersion},p}i.$inject=[\"$async\",\"$q\",\"SystemService\",\"InfoHelper\",\"LocalStorage\",\"SettingsService\",\"StatusService\",\"APPLICATION_CACHE_VALIDITY\",\"AgentPingService\",\"$analytics\",\"EndpointProvider\"],angular.module(\"portainer.app\").factory(\"StateManager\",i)},56518:function(){angular.module(\"portainer\").service(\"TerminalWindow\",[\"$window\",function(e){this.terminalopen=function(){const t=e.innerHeight-495;document.getElementById(\"content-wrapper\").style.height=t+\"px\",document.getElementById(\"content-wrapper\").style.overflowY=\"auto\",document.getElementById(\"sidebar-wrapper\").style.height=t+\"px\"},this.terminalclose=function(){const e=\"100%\";document.getElementById(\"content-wrapper\").style.height=e,document.getElementById(\"content-wrapper\").style.overflowY=\"initial\",document.getElementById(\"sidebar-wrapper\").style.height=e},this.terminalresize=function(){const t=e.innerHeight-495;document.getElementById(\"content-wrapper\").style.height=t+\"px\",document.getElementById(\"content-wrapper\").style.overflowY=\"auto\",document.getElementById(\"sidebar-wrapper\").style.height=t+\"px\"}}])},98869:function(e,t,n){\"use strict\";function a(e){return{setTheme:function(t){t?(document.documentElement.setAttribute(\"theme\",t),e.updateTheme(t)):document.documentElement.removeAttribute(\"theme\")},autoTheme:function(){const e=window.matchMedia(\"(prefers-color-scheme: dark)\").matches?\"dark\":\"\";this.setTheme(e)},defaultTheme:function(){document.documentElement.removeAttribute(\"theme\")}}}n.r(t),n.d(t,{ThemeManager:function(){return a}}),a.$inject=[\"StateManager\"],angular.module(\"portainer.app\").service(\"ThemeManager\",a)},52855:function(e,t,n){\"use strict\";n.r(t),n.d(t,{authenticationMethodTypesMap:function(){return a},authenticationMethodTypesLabels:function(){return r}});const a={INTERNAL:1,LDAP:2,OAUTH:3},r={[a.INTERNAL]:\"Internal\",[a.LDAP]:\"LDAP\",[a.OAUTH]:\"OAuth\"}},98376:function(e,t,n){\"use strict\";n.r(t),n.d(t,{authenticationActivityTypesMap:function(){return a},authenticationActivityTypesLabels:function(){return r}});const a={AuthSuccess:1,AuthFailure:2,Logout:3},r={[a.AuthSuccess]:\"Authentication success\",[a.AuthFailure]:\"Authentication failure\",[a.Logout]:\"Logout\"}},50552:function(e,t,n){\"use strict\";n.r(t),n.d(t,{autoUserProvisionToggle:function(){return a}});const a={templateUrl:n(50551),transclude:{description:\"fieldDescription\"},bindings:{ngModel:\"=\"}}},87921:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return I}});var a=n(29274),r=n.n(a),i=n(36320),s=n(50552),o=n(93467),l=n(71718),c=n(66960),d=n(46980),u=n(56268),p=n(2629);function m(e){var t=e.onSubmit,n=e.isLoading;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.i,{children:\"Actions\"}),(0,p.jsx)(\"div\",{className:\"form-group\",children:(0,p.jsx)(\"div\",{className:\"col-sm-12\",children:(0,p.jsx)(u.f,{loadingText:\"Saving...\",isLoading:n,onClick:function(){return t()},children:\"Save settings\"})})})]})}var g=n(46032),h=n(39532),f=n(66),v=n(64550),b=n(32473);function y(e){var t,n=e.icon,a=e.value,r=e.color;return(0,p.jsxs)(\"span\",{className:\"badge inline-flex items-center\",style:{backgroundColor:(t=r,.1,\"\".concat(t).concat(Math.floor(25.5).toString(16).padStart(2,\"0\"))),color:r,padding:\"5px 10px\"},children:[n,a]})}n(78433),n(99658),n(65562),n(57592);var w={sliderBadge:\"app-portainer-settings-authentication-internal-auth-components-PasswordLengthSlider-PasswordLengthSlider-module__slider-badge\",root:\"app-portainer-settings-authentication-internal-auth-components-PasswordLengthSlider-PasswordLengthSlider-module__root\"},x={strength:\"weak\",color:\"#F04438\",text:\"Weak password\"},S={strength:\"good\",color:\"#F79009\",text:\"Good password\"},C={strength:\"strong\",color:\"#12B76A\",text:\"Strong password\"},k={strength:\"veryStrong\",color:\"#0BA5EC\",text:\"Very strong password\"},$=g.ZP.createSliderWithTooltip(g.ZP);function A(e){var t=e.min,n=e.max,a=e.step,r=e.value,i=e.onChange,s=function(e){return e<10?x:e<12?S:e<14?C:k}(r);return(0,p.jsxs)(\"div\",{className:(0,h.Z)(w.root,w[s.strength]),children:[(0,p.jsx)(\"div\",{className:\"col-sm-4\",children:(0,p.jsx)($,{tipFormatter:function(e){return\"\".concat(e,\" characters\")},min:t,max:n,step:a,defaultValue:12,value:r,onChange:function(e){i(e)},handleStyle:{height:25,width:25,borderWidth:1.85,borderColor:s.color,top:1.5,boxShadow:\"none\"},railStyle:{height:10},trackStyle:{backgroundColor:s.color,height:10}})}),(0,p.jsx)(\"div\",{className:(0,h.Z)(\"col-sm-2\",w.sliderBadge),children:(0,p.jsx)(y,{icon:function(e){switch(e){case\"weak\":return(0,p.jsx)(f.Z,{size:\"13\",className:\"space-right\",strokeWidth:\"3px\"});case\"good\":case\"strong\":return(0,p.jsx)(v.Z,{size:\"13\",className:\"space-right\",strokeWidth:\"3px\"});default:return(0,p.jsx)(b.Z,{size:\"13\",className:\"space-right\",strokeWidth:\"3px\"})}}(s.strength),value:s.text,color:s.color})})]})}var P=(0,c.F)((function(e){var t=e.onSaveSettings,n=e.isLoading,a=e.value,r=e.onChange;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.i,{children:\"Information\"}),(0,p.jsx)(\"div\",{className:\"form-group col-sm-12 text-muted small\",children:\"When using internal authentication, Portainer will encrypt user passwords and store credentials locally.\"}),(0,p.jsx)(l.i,{children:\"Password rules\"}),(0,p.jsx)(\"div\",{className:\"form-group col-sm-12 text-muted small\",children:\"Define minimum length for user-generated passwords.\"}),(0,p.jsx)(\"div\",{className:\"form-group\",children:(0,p.jsx)(A,{min:1,max:18,step:1,value:a.RequiredPasswordLength,onChange:r})}),(0,p.jsx)(m,{onSubmit:function(){a.RequiredPasswordLength<10?(0,d.iG)({title:\"Allow weak passwords?\",message:\"You have set an insecure minimum password length. This could leave your system vulnerable to attack, are you sure?\",buttons:{confirm:{label:\"Yes\",className:\"btn-danger\"}},callback:function(e){e&&t()}}):t()},isLoading:n})]})}),[\"onSaveSettings\",\"isLoading\",\"value\",\"onChange\"]),I=r().module(\"portainer.settings.authentication\",[i.default]).component(\"internalAuth\",P).component(\"saveAuthSettingsButton\",o.saveAuthSettingsButton).component(\"autoUserProvisionToggle\",s.autoUserProvisionToggle).name},80612:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return o}});var a=n(20810),r=n.n(a),i=n(26196),s=n(20037);class o{constructor(e){this.LDAPService=e,this.domainSuffix=\"\",this.limitedFeatureId=i.tE.HIDE_INTERNAL_AUTH,this.onTlscaCertChange=this.onTlscaCertChange.bind(this),this.searchUsers=this.searchUsers.bind(this),this.searchGroups=this.searchGroups.bind(this),this.parseDomainName=this.parseDomainName.bind(this),this.onAccountChange=this.onAccountChange.bind(this)}parseDomainName(e){if(this.domainName=\"\",!e||!e.includes(\"@\"))return;const[,t]=e.split(\"@\");if(!t)return;const n=r()(t.split(\".\"));this.domainSuffix=n.map((e=>`dc=${e}`)).join(\",\")}onAccountChange(e){this.parseDomainName(e)}searchUsers(){return this.LDAPService.users(this.settings)}searchGroups(){return this.LDAPService.groups(this.settings)}onTlscaCertChange(e){this.tlscaCert=e}addLDAPUrl(){this.settings.URLs.push(\"\")}removeLDAPUrl(e){this.settings.URLs.splice(e,1)}isSaveSettingButtonDisabled(){return(0,s.vx)(this.limitedFeatureId)||!this.isLdapFormValid()}$onInit(){this.tlscaCert=this.settings.TLSCACert,this.parseDomainName(this.settings.ReaderDN)}}o.$inject=[\"LDAPService\"]},66509:function(e,t,n){\"use strict\";n.r(t),n.d(t,{adSettings:function(){return r}});var a=n(80612);const r={templateUrl:n(22555),controller:a.default,bindings:{settings:\"=\",tlscaCert:\"=\",state:\"=\",connectivityCheck:\"<\",onSaveSettings:\"<\",saveButtonState:\"<\",isLdapFormValid:\"&?\"}}},36320:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(66509),s=n(39947),o=n(72928),l=n(25702),c=n(18436),d=n(59086),u=n(24791),p=n(82592),m=n(97299),g=n(16811),h=n(6e4),f=n(36235),v=n(8282),b=n(88996),y=n(31939),w=n(75714),x=n(1093),S=n(84259),C=n(46951),k=n(39314);t.default=r().module(\"portainer.settings.authentication.ldap\",[]).service(\"LDAPService\",C.LDAPService).service(\"LDAP\",k.LDAP).component(\"ldapConnectivityCheck\",c.ldapConnectivityCheck).component(\"ldapGroupsDatatable\",d.ldapGroupsDatatable).component(\"ldapSettings\",s.ldapSettings).component(\"adSettings\",i.adSettings).component(\"ldapGroupSearch\",u.ldapGroupSearch).component(\"ldapGroupSearchItem\",p.ldapGroupSearchItem).component(\"ldapUserSearch\",m.ldapUserSearch).component(\"ldapUserSearchItem\",g.ldapUserSearchItem).component(\"ldapSettingsCustom\",o.ldapSettingsCustom).component(\"ldapSettingsDnBuilder\",h.ldapSettingsDnBuilder).component(\"ldapSettingsGroupDnBuilder\",f.ldapSettingsGroupDnBuilder).component(\"ldapCustomGroupSearch\",v.ldapCustomGroupSearch).component(\"ldapCustomAdminGroup\",b.ldapCustomAdminGroup).component(\"ldapSettingsOpenLdap\",l.ldapSettingsOpenLdap).component(\"ldapSettingsSecurity\",y.ldapSettingsSecurity).component(\"ldapSettingsTestLogin\",w.ldapSettingsTestLogin).component(\"ldapCustomUserSearch\",x.ldapCustomUserSearch).component(\"ldapUsersDatatable\",S.ldapUsersDatatable).name},18436:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapConnectivityCheck:function(){return a}});const a={templateUrl:n(10386),bindings:{settings:\"<\",state:\"<\",connectivityCheck:\"<\",limitedFeatureId:\"<\"}}},88996:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapCustomAdminGroup:function(){return r}});var a=n(53864);const r={templateUrl:n(57498),controller:a.default,bindings:{settings:\"=\",selectedAdminGroups:\"=\",defaultAdminGroupSearchFilter:\"<\",onSearchClick:\"<\",limitedFeatureId:\"<\",isLimitedFeatureSelfContained:\"<\"}}},53864:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e,t,n){Object.assign(this,{$async:e,Notifications:t,LDAPService:n}),this.groups=null,this.groupstest=null,this.enableAssignAdminGroup=!1,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){this.settings.AdminGroupSearchSettings.push({GroupBaseDN:\"\",GroupAttribute:\"\",GroupFilter:\"\"})}onRemoveClick(e){this.settings.AdminGroupSearchSettings.splice(e,1)}search(){return this.$async((async()=>{try{this.groups=null,this.groups=await this.onSearchClick(),this.enableAssignAdminGroup=this.groups&&this.groups.length>0}catch(e){this.Notifications.error(\"Failure\",e,\"Failed to search groups\")}}))}async $onInit(){if(this.settings.AdminAutoPopulate&&this.settings.AdminGroups&&this.settings.AdminGroups.length>0){const e={...this.settings,AdminGroupSearchSettings:this.settings.AdminGroupSearchSettings.map((e=>({...e,GroupFilter:e.GroupFilter||this.defaultAdminGroupSearchFilter})))};this.groups=await this.LDAPService.adminGroups(e)}this.groups&&this.groups.length>0&&(this.enableAssignAdminGroup=!0)}}a.$inject=[\"$async\",\"Notifications\",\"LDAPService\"]},8282:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapCustomGroupSearch:function(){return r}});var a=n(30950);const r={templateUrl:n(64042),controller:a.default,bindings:{settings:\"=\",onSearchClick:\"<\",limitedFeatureId:\"<\"}}},30950:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.groups=null,this.showTable=!1,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){this.settings.push({GroupBaseDN:\"\",GroupAttribute:\"\",GroupFilter:\"\"})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async((async()=>{try{this.groups=null,this.showTable=!0,this.groups=await this.onSearchClick()}catch(e){this.showTable=!1,this.Notifications.error(\"Failure\",e,\"Failed to search users\")}}))}}a.$inject=[\"$async\",\"Notifications\"]},1093:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapCustomUserSearch:function(){return r}});var a=n(39525);const r={templateUrl:n(65048),controller:a.default,bindings:{settings:\"=\",onSearchClick:\"<\",limitedFeatureId:\"<\"}}},39525:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.users=null,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){this.settings.push({BaseDN:\"\",UserNameAttribute:\"\",Filter:\"\"})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async((async()=>{try{this.users=null,this.showTable=!0,this.users=await this.onSearchClick()}catch(e){this.showTable=!1,this.Notifications.error(\"Failure\",e,\"Failed to search users\")}}))}}a.$inject=[\"$async\",\"Notifications\"]},82592:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapGroupSearchItem:function(){return r}});var a=n(55028);const r={templateUrl:n(79557),controller:a.default,bindings:{config:\"=\",index:\"<\",domainSuffix:\"@\",baseFilter:\"@\",onRemoveClick:\"<\",limitedFeatureId:\"<\"}}},55028:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e){Object.assign(this,{Notifications:e}),this.groups=[],this.onChangeBaseDN=this.onChangeBaseDN.bind(this)}onChangeBaseDN(e){this.config.GroupBaseDN=e}addGroup(){this.groups.push({type:\"ou\",value:\"\"})}removeGroup(e){this.groups.splice(e,1),this.onGroupsChange()}onGroupsChange(){const e=this.groups.map((({type:e,value:t})=>`(${e}=${t})`)).join(\"\");this.onFilterChange(e?`(&${this.baseFilter}(|${e}))`:`${this.baseFilter}`)}onFilterChange(e){this.config.GroupFilter=e}parseGroupFilter(){const e=this.config.GroupFilter.match(/^\\(&\\(objectClass=(\\w+)\\)\\(\\|((\\(\\w+=.+\\))+)\\)\\)$/);if(!e)return;const[,,t=\"\"]=e;this.groups=t.slice(1,-1).split(\")(\").map((e=>e.split(\"=\"))).map((([e,t])=>({type:e,value:t})))}$onInit(){this.parseGroupFilter()}}a.$inject=[\"Notifications\"]},24791:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapGroupSearch:function(){return r}});var a=n(92459);const r={templateUrl:n(3057),controller:a.default,bindings:{settings:\"=\",domainSuffix:\"@\",baseFilter:\"@\",onSearchClick:\"<\",limitedFeatureId:\"<\"}}},92459:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return i}});var a=n(11600),r=n.n(a);class i{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.groups=null,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){const e=r()(this.settings);this.settings.push({GroupBaseDN:this.domainSuffix,GroupAttribute:e.GroupAttribute,GroupFilter:this.baseFilter})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async((async()=>{try{this.groups=null,this.showTable=!0,this.groups=await this.onSearchClick()}catch(e){this.showTable=!1,this.Notifications.error(\"Failure\",e,\"Failed to search users\")}}))}}i.$inject=[\"$async\",\"Notifications\"]},59086:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapGroupsDatatable:function(){return a}});const a={templateUrl:n(30629),controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}}},72928:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapSettingsCustom:function(){return r}});var a=n(96551);const r={templateUrl:n(15933),controller:a.default,bindings:{settings:\"=\",tlscaCert:\"=\",state:\"=\",onTlscaCertChange:\"<\",connectivityCheck:\"<\",onSearchUsersClick:\"<\",onSearchGroupsClick:\"<\",onSaveSettings:\"<\",saveButtonState:\"<\",saveButtonDisabled:\"<\"}}},96551:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return r}});var a=n(26196);class r{constructor(){this.limitedFeatureId=a.tE.EXTERNAL_AUTH_LDAP}addLDAPUrl(){this.settings.URLs.push(\"\")}removeLDAPUrl(e){this.settings.URLs.splice(e,1)}}},6e4:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapSettingsDnBuilder:function(){return r}});var a=n(62680);const r={templateUrl:n(34778),controller:a.default,bindings:{ngModel:\"<\",onChange:\"<\",suffix:\"@\",label:\"@\",limitedFeatureId:\"<\"}}},62680:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(){this.entries=[]}addEntry(){this.entries.push({type:\"ou\",value:\"\"})}removeEntry(e){this.entries.splice(e,1),this.onEntriesChange()}moveUp(e){e<=0||(r(this.entries,e,e-1),this.onEntriesChange())}moveDown(e){e>=this.entries.length-1||(r(this.entries,e,e+1),this.onEntriesChange())}onEntriesChange(){const e=this.entries.filter((({value:e})=>e)).map((({type:e,value:t})=>`${e}=${t}`)).concat(this.suffix).filter((e=>e)).join(\",\");this.onChange(e)}getOUValues(e,t=\"\"){const n=/(\\w+)=(\\w*),?/;let a=[],r=e,i=r.match(n);for(;i&&r!==t;){const[,e,t]=i;a.push({type:e,value:t}),r=r.replace(n,\"\"),i=r.match(/(\\w+)=(\\w+),?/)}return a}parseBaseDN(){this.entries=this.getOUValues(this.ngModel,this.suffix)}$onChanges({suffix:e,ngModel:t}){!e&&!t||e&&e.isFirstChange()||this.onEntriesChange()}$onInit(){this.parseBaseDN()}}function r(e,t,n){if(!r(e,t)||!r(e,n))throw new Error(\"index is out of bounds\");const[a]=e.splice(t,1);function r(e,t){return t>=0&&t<=e.length}e.splice(n,0,a)}a.$inject=[]},36235:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapSettingsGroupDnBuilder:function(){return r}});var a=n(91117);const r={templateUrl:n(88006),controller:a.default,bindings:{ngModel:\"<\",onChange:\"<\",suffix:\"@\",index:\"<\",onRemoveClick:\"<\",limitedFeatureId:\"<\"}}},91117:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(){this.groupName=\"\",this.entries=\"\",this.onEntriesChange=this.onEntriesChange.bind(this),this.onGroupNameChange=this.onGroupNameChange.bind(this),this.onGroupChange=this.onGroupChange.bind(this),this.removeGroup=this.removeGroup.bind(this)}onEntriesChange(e){this.onGroupChange(this.groupName,e)}onGroupNameChange(){this.onGroupChange(this.groupName,this.entries)}onGroupChange(e,t){if(!e)return;const n=`cn=${e}`;this.onChange(this.index,t||this.suffix?`${n},${t||this.suffix}`:n)}removeGroup(){this.onRemoveClick(this.index)}parseEntries(e,t){if(e===t)return this.groupName=\"\",void(this.entries=t);const[n,a]=this.ngModel.split(/,(.+)/);this.groupName=n.replace(\"cn=\",\"\"),this.entries=a||\"\"}$onChange({ngModel:e,suffix:t}){(t&&!t.isFirstChange()||e)&&this.parseEntries(e.value,t.value)}$onInit(){this.parseEntries(this.ngModel,this.suffix)}}a.$inject=[]},25702:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapSettingsOpenLdap:function(){return r}});var a=n(58962);const r={templateUrl:n(69939),controller:a.default,bindings:{settings:\"=\",tlscaCert:\"=\",state:\"=\",connectivityCheck:\"<\",onTlscaCertChange:\"<\",onSearchUsersClick:\"<\",onSearchGroupsClick:\"<\",onSaveSettings:\"<\",saveButtonState:\"<\",saveButtonDisabled:\"<\"}}},58962:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return r}});var a=n(26196);class r{constructor(){this.domainSuffix=\"\",this.limitedFeatureId=a.tE.EXTERNAL_AUTH_LDAP,this.findDomainSuffix=this.findDomainSuffix.bind(this),this.parseDomainSuffix=this.parseDomainSuffix.bind(this),this.onAccountChange=this.onAccountChange.bind(this)}findDomainSuffix(){const e=this.settings.ReaderDN;let t=this.parseDomainSuffix(e);if(!t&&this.settings.SearchSettings.length>0){const e=this.settings.SearchSettings[0];t=this.parseDomainSuffix(e.BaseDN)}this.domainSuffix=t}parseDomainSuffix(e=\"\"){const t=e.toLowerCase().indexOf(\"dc=\");return-1!==t?e.substring(t):\"\"}onAccountChange(e){this.domainSuffix=this.parseDomainSuffix(e)}addLDAPUrl(){this.settings.URLs.push(\"\")}removeLDAPUrl(e){this.settings.URLs.splice(e,1)}$onInit(){this.findDomainSuffix()}}r.$inject=[]},31939:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapSettingsSecurity:function(){return a}});const a={templateUrl:n(39720),bindings:{settings:\"=\",tlscaCert:\"<\",onTlscaCertChange:\"<\",uploadInProgress:\"<\",title:\"@\",limitedFeatureId:\"<\"}}},75714:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapSettingsTestLogin:function(){return r}});var a=n(90829);const r={templateUrl:n(25649),controller:a.default,bindings:{settings:\"=\",limitedFeatureId:\"<\",showBeIndicatorIfNeeded:\"<\",isLimitedFeatureSelfContained:\"<\"}}},90829:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return r}});const a={LOADING:\"LOADING\",SUCCESS:\"SUCCESS\",FAILURE:\"FAILURE\"};class r{constructor(e,t,n){Object.assign(this,{$async:e,LDAPService:t,Notifications:n}),this.TEST_STATUS=a,this.state={testStatus:\"\"}}async testLogin(e,t){return this.$async((async()=>{this.state.testStatus=a.LOADING;try{const n=await this.LDAPService.testLogin(this.settings,e,t);this.state.testStatus=n.valid?a.SUCCESS:a.FAILURE}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to test login\"),this.state.testStatus=a.FAILURE}}))}}r.$inject=[\"$async\",\"LDAPService\",\"Notifications\"]},54512:function(e,t,n){\"use strict\";function a(){return{AnonymousMode:!0,ReaderDN:\"\",URLs:[\"\"],ServerType:0,TLSConfig:{TLS:!1,TLSSkipVerify:!1},StartTLS:!1,SearchSettings:[{BaseDN:\"\",Filter:\"\",UserNameAttribute:\"\"}],GroupSearchSettings:[{GroupBaseDN:\"\",GroupFilter:\"\",GroupAttribute:\"\"}],AdminGroupSearchSettings:[{GroupBaseDN:\"\",GroupFilter:\"\",GroupAttribute:\"\"}],AutoCreateUsers:!0}}function r(){const e={AnonymousMode:!0,ReaderDN:\"\",URLs:[\"\"],ServerType:0,TLSConfig:{TLS:!1,TLSSkipVerify:!1},StartTLS:!1,SearchSettings:[{BaseDN:\"\",Filter:\"\",UserNameAttribute:\"\"}],GroupSearchSettings:[{GroupBaseDN:\"\",GroupFilter:\"\",GroupAttribute:\"\"}],AdminGroupSearchSettings:[{GroupBaseDN:\"\",GroupFilter:\"\",GroupAttribute:\"\"}],AutoCreateUsers:!0};return e.ServerType=2,e.AnonymousMode=!1,e.SearchSettings[0].UserNameAttribute=\"sAMAccountName\",e.SearchSettings[0].Filter=\"(objectClass=user)\",e.GroupSearchSettings[0].GroupAttribute=\"member\",e.GroupSearchSettings[0].GroupFilter=\"(objectClass=group)\",e}function i(){const e={AnonymousMode:!0,ReaderDN:\"\",URLs:[\"\"],ServerType:0,TLSConfig:{TLS:!1,TLSSkipVerify:!1},StartTLS:!1,SearchSettings:[{BaseDN:\"\",Filter:\"\",UserNameAttribute:\"\"}],GroupSearchSettings:[{GroupBaseDN:\"\",GroupFilter:\"\",GroupAttribute:\"\"}],AdminGroupSearchSettings:[{GroupBaseDN:\"\",GroupFilter:\"\",GroupAttribute:\"\"}],AutoCreateUsers:!0};return e.ServerType=1,e.AnonymousMode=!1,e.SearchSettings[0].UserNameAttribute=\"uid\",e.SearchSettings[0].Filter=\"(objectClass=inetOrgPerson)\",e.GroupSearchSettings[0].GroupAttribute=\"member\",e.GroupSearchSettings[0].GroupFilter=\"(objectClass=groupOfNames)\",e}n.r(t),n.d(t,{buildLdapSettingsModel:function(){return a},buildAdSettingsModel:function(){return r},buildOpenLDAPSettingsModel:function(){return i}})},39947:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapSettings:function(){return r}});var a=n(37556);const r={templateUrl:n(75634),controller:a.default,bindings:{settings:\"=\",state:\"<\",connectivityCheck:\"<\",onSaveSettings:\"<\",saveButtonState:\"<\",isLdapFormValid:\"<\"}}},37556:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return s}});var a=n(26196),r=n(54512);const i={CUSTOM:0,OPEN_LDAP:1,AD:2};class s{constructor(e){Object.assign(this,{LDAPService:e,SERVER_TYPES:i}),this.tlscaCert=null,this.settingsDrafts={},this.boxSelectorOptions=[{id:\"ldap_custom\",value:i.CUSTOM,label:\"Custom\",icon:\"fa fa-server\"},{id:\"ldap_openldap\",value:i.OPEN_LDAP,label:\"OpenLDAP\",icon:\"fa fa-server\",feature:a.tE.EXTERNAL_AUTH_LDAP}],this.onTlscaCertChange=this.onTlscaCertChange.bind(this),this.searchUsers=this.searchUsers.bind(this),this.searchGroups=this.searchGroups.bind(this),this.onChangeServerType=this.onChangeServerType.bind(this)}onTlscaCertChange(e){this.tlscaCert=e}$onInit(){this.tlscaCert=this.settings.TLSCACert}onChangeServerType(e){if(this.settingsDrafts[this.settings.ServerType]=this.settings,this.settingsDrafts[e])this.settings=this.settingsDrafts[e];else switch(e){case i.OPEN_LDAP:this.settings=(0,r.buildOpenLDAPSettingsModel)();break;case i.CUSTOM:this.settings=(0,r.buildLdapSettingsModel)()}}searchUsers(){const e={...this.settings,SearchSettings:this.settings.SearchSettings.map((e=>({...e,Filter:e.Filter||\"(objectClass=inetOrgPerson)\"})))};return this.LDAPService.users(e)}searchGroups(){const e={...this.settings,GroupSearchSettings:this.settings.GroupSearchSettings.map((e=>({...e,GroupFilter:e.GroupFilter||\"(objectClass=groupOfNames)\"})))};return this.LDAPService.groups(e)}}s.$inject=[\"LDAPService\"]},16811:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapUserSearchItem:function(){return r}});var a=n(93669);const r={templateUrl:n(25972),controller:a.default,bindings:{config:\"=\",index:\"<\",showUsernameFormat:\"<\",domainSuffix:\"@\",baseFilter:\"@\",onRemoveClick:\"<\",limitedFeatureId:\"<\"}}},93669:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(){this.groups=[],this.onBaseDNChange=this.onBaseDNChange.bind(this),this.onGroupChange=this.onGroupChange.bind(this),this.onGroupsChange=this.onGroupsChange.bind(this),this.removeGroup=this.removeGroup.bind(this)}onBaseDNChange(e){this.config.BaseDN=e}onGroupChange(e,t){this.groups[e]=t,this.onGroupsChange(this.groups)}onGroupsChange(e){this.config.Filter=this.generateUserFilter(e)}removeGroup(e){this.groups.splice(e,1),this.onGroupsChange(this.groups)}addGroup(){this.groups.push(this.domainSuffix?`cn=,${this.domainSuffix}`:\"cn=\")}generateUserFilter(e){const t=e.filter((e=>e!==this.domainSuffix));if(!t.length)return this.baseFilter;const n=t.map((e=>`(memberOf=${e})`));return`(&${this.baseFilter}${n.length>1?`(|${n.join(\"\")})`:n[0]})`}parseFilter(){const e=this.config.Filter;if(e===this.baseFilter)return;if(!e.includes(\"|\")){const t=e.indexOf(\"memberOf=\");return void(t>-1&&(this.groups=[e.slice(t+9,-2)]))}const t=e.slice(e.indexOf(\"|\")+2,-3);this.groups=t.split(\")(\").map((e=>e.replace(\"memberOf=\",\"\")))}$onInit(){this.parseFilter()}}a.$inject=[]},97299:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapUserSearch:function(){return r}});var a=n(34188);const r={templateUrl:n(36452),controller:a.default,bindings:{settings:\"=\",domainSuffix:\"@\",showUsernameFormat:\"<\",baseFilter:\"@\",limitedFeatureId:\"<\",onSearchClick:\"<\"}}},34188:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return o}});var a=n(20810),r=n.n(a),i=n(11600),s=n.n(i);class o{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.users=null,this.showTable=!1,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){const e=s()(this.settings);this.settings.push({BaseDN:this.domainSuffix,UserNameAttribute:e.UserNameAttribute,Filter:this.baseFilter})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async((async()=>{try{this.users=null,this.showTable=!0;const e=await this.onSearchClick();this.users=r()(e)}catch(e){this.Notifications.error(\"Failure\",e,\"Failed to search users\"),this.showTable=!1}}))}}o.$inject=[\"$async\",\"Notifications\"]},84259:function(e,t,n){\"use strict\";n.r(t),n.d(t,{ldapUsersDatatable:function(){return a}});const a={templateUrl:n(30235),controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}}},39314:function(e,t,n){\"use strict\";function a(e){return e(\"api/ldap/:action\",{},{check:{method:\"POST\",params:{action:\"check\"}},users:{method:\"POST\",isArray:!0,params:{action:\"users\"}},groups:{method:\"POST\",isArray:!0,params:{action:\"groups\"}},testLogin:{method:\"POST\",params:{action:\"test\"}}})}n.r(t),n.d(t,{LDAP:function(){return a}}),a.$inject=[\"$resource\"]},46951:function(e,t,n){\"use strict\";function a(e){return{users:function(t){return e.users({ldapSettings:t}).$promise},groups:async function(t){return(await e.groups({ldapSettings:t}).$promise).map((({Name:e,Groups:t})=>{let n=e;if(e.includes(\",\")&&e.includes(\"=\")){const[t]=e.split(\",\");n=t.split(\"=\")[1]}return{Groups:t,Name:n}}))},check:function(t){return e.check({ldapSettings:t}).$promise},testLogin:function(t,n,a){return e.testLogin({ldapSettings:t,username:n,password:a}).$promise}}}n.r(t),n.d(t,{LDAPService:function(){return a}}),a.$inject=[\"LDAP\"]},93467:function(e,t,n){\"use strict\";n.r(t),n.d(t,{saveAuthSettingsButton:function(){return a}});const a={templateUrl:n(83133),bindings:{onSaveSettings:\"<\",saveButtonDisabled:\"<\",saveButtonState:\"<\",limitedFeatureId:\"<\",limitedFeatureClass:\"<\",className:\"<\"}}},6972:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(13655);t.default=r().module(\"portainer.settings.general\",[]).component(\"sslCertificateSettings\",i.sslCertificate).name},13655:function(e,t,n){\"use strict\";n.r(t),n.d(t,{sslCertificate:function(){return r}});var a=n(12617);const r={templateUrl:n(83791),controller:a.default}},12617:function(e,t,n){\"use strict\";n.r(t);class a{constructor(e,t,n,a,r){Object.assign(this,{$async:e,$scope:t,$state:n,SSLService:a,Notifications:r}),this.cert=null,this.originalValues={forceHTTPS:!1,certFile:null,keyFile:null},this.formValues={certFile:null,keyFile:null,forceHTTPS:!1},this.state={actionInProgress:!1,reloadingPage:!1},this.certFilePattern=\".pem,.crt,.cer,.cert\",this.keyFilePattern=\".pem,.key\",this.save=this.save.bind(this),this.onChangeForceHTTPS=this.onChangeForceHTTPS.bind(this)}isFormChanged(){return Object.entries(this.originalValues).some((([e,t])=>t!=this.formValues[e]))}onChangeForceHTTPS(e){return this.$scope.$evalAsync((()=>{this.formValues.forceHTTPS=e}))}async save(){return this.$async((async()=>{this.state.actionInProgress=!0;try{const e=this.formValues.certFile?await this.formValues.certFile.text():null,t=this.formValues.keyFile?await this.formValues.keyFile.text():null,n=!this.formValues.forceHTTPS;await this.SSLService.upload(n,e,t),await new Promise((e=>setTimeout(e,2e3))),location.reload(),this.state.reloadingPage=!0}catch(e){this.Notifications.error(\"Failure\",e,\"Failed applying changes\")}this.state.actionInProgress=!1}))}wasHTTPsChanged(){return this.originalValues.forceHTTPS!==this.formValues.forceHTTPS}async $onInit(){return this.$async((async()=>{try{const e=await this.SSLService.get();this.formValues.forceHTTPS=!e.httpEnabled,this.originalValues.forceHTTPS=this.formValues.forceHTTPS}catch(e){this.Notifications.error(\"Failure\",e,\"Failed loading certificate info\")}}))}}a.$inject=[\"$async\",\"$scope\",\"$state\",\"SSLService\",\"Notifications\"],t.default=a},1221:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return ce}});var a=n(29274),r=n.n(a),i=n(87921),s=n(6972),o=n(66960),l=(n(40958),n(42240),n(65562),n(47771),n(28001),n(62341),n(82459),n(77236),n(33262),n(20493),n(66076),n(77072),n(50527),n(95004)),c=n(26256),d=n(39230),u=n(18480),p=n(71718),m=n(90635),g=n(56268),h=n(83294),f=n(87869),v=(n(19992),n(50033),n(66549),n(47097),n(98191),n(62176),n(8755)),b=(n(92429),n(4450)),y=n(87227),w=n(51641),x=n(89023),S=n(75698),C=n(64062),k=n(46980),$=n(46021),A=n(60122),P=n(2629);function I(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){I(i,a,r,s,o,\"next\",e)}function o(e){I(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function N(e){var t=e.isFDOEnabled,n=e.selectedItems,a=(0,x.useRouter)(),r=(0,w.useQueryClient)();return(0,P.jsxs)(\"div\",{className:\"actionBar\",children:[(0,P.jsx)(C.r,{to:\"portainer.endpoints.profile\",className:\"space-left\",children:(0,P.jsxs)(S.zx,{disabled:!t,children:[(0,P.jsx)(\"i\",{className:\"fa fa-plus-circle space-right\",\"aria-hidden\":\"true\"}),\"Add Profile\"]})}),(0,P.jsxs)(S.zx,{disabled:!t||1!==n.length,onClick:function(){return function(){return i.apply(this,arguments)}()},children:[(0,P.jsx)(\"i\",{className:\"fa fa-plus-circle space-right\",\"aria-hidden\":\"true\"}),\"Duplicate\"]}),(0,P.jsxs)(S.zx,{disabled:!t||n.length<1,color:\"danger\",onClick:function(){return function(){return s.apply(this,arguments)}()},children:[(0,P.jsx)(\"i\",{className:\"fa fa-trash-alt space-right\",\"aria-hidden\":\"true\"}),\"Remove\"]})]});function i(){return(i=T(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.l9)({title:\"Are you sure ?\",message:\"This action will duplicate the selected profile. Continue?\",buttons:{confirm:{label:\"Confirm\",className:\"btn-primary\"}}});case 2:if(e.sent){e.next=5;break}return e.abrupt(\"return\");case 5:return e.prev=5,t=n[0],e.next=9,(0,A.M9)(t.id);case 9:r=e.sent,$.Vp(\"Profile successfully duplicated\",t.name),a.stateService.go(\"portainer.endpoints.profile.edit\",{id:r.id}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),$.vU(\"Failure\",e.t0,\"Unable to duplicate profile\");case 17:case\"end\":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function s(){return s=T(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,k.l9)({title:\"Are you sure ?\",message:\"This action will delete the selected profile(s). Continue?\",buttons:{confirm:{label:\"Remove\",className:\"btn-danger\"}}});case 2:if(e.sent){e.next=5;break}return e.abrupt(\"return\");case 5:return e.next=7,Promise.all(n.map(function(){var e=T(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,A.he)(t.id);case 3:$.Vp(\"Profile successfully removed\",t.name),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),$.vU(\"Failure\",e.t0,\"Unable to remove profile\");case 9:case\"end\":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.next=9,r.invalidateQueries(\"fdo_profiles\");case 9:case\"end\":return e.stop()}}),e)}))),s.apply(this,arguments)}}var E=n(7346),R=n(48625),D=n(90476),O=n(56713),V=n(15362),U=n(41066),j={Header:\"Created\",accessor:\"dateCreated\",id:\"created\",Cell:function(e){var t=e.value;return(0,U.isoDateFromTimestamp)(t)},disableFilters:!0,canHide:!0,Filter:function(){return null}},F={Header:\"Name\",accessor:\"name\",id:\"name\",Cell:function(e){var t=e.value,n=e.row.original,a=(0,x.useSref)(\"portainer.endpoints.profile.edit\",{id:n.id});return(0,P.jsx)(\"a\",{href:a.href,onClick:a.onClick,title:t,children:t})},disableFilters:!0,Filter:function(){return null},canHide:!0,sortType:\"string\"};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){var t=e.isFDOEnabled,n=(0,v.h)(),a=n.settings,r=n.setTableSettings,i=(0,l.useMemo)((function(){return[F,j]}),[]),s=function(){var e=(0,w.useQuery)(\"fdo_profiles\",(function(){return(0,A.cp)()})),t=e.isLoading,n=e.data,a=e.isError,r=e.error;return(0,l.useEffect)((function(){a&&$.vU(\"Failure\",r,\"Failed retrieving FDO profiles\")}),[a,r]),{isLoading:t,profiles:(0,l.useMemo)((function(){return n||[]}),[n]),error:a?r:void 0}}(),o=s.isLoading,c=s.profiles,d=s.error,u=(0,b.useTable)({defaultCanFilter:!1,columns:i,data:c,initialState:{pageSize:a.pageSize||10,sortBy:[a.sortBy]},isRowSelectable:function(){return t},selectColumnWidth:5},b.useSortBy,b.usePagination,O.i,y.M_),p=u.getTableProps,m=u.getTableBodyProps,g=u.headerGroups,h=u.page,f=u.prepareRow,x=u.selectedFlatRows,S=u.gotoPage,C=u.setPageSize,k=u.state,I=k.pageIndex,T=k.pageSize,U=p(),L=m();return(0,P.jsxs)(V.xJ,{children:[(0,P.jsx)(V.lw,{icon:\"\",label:\"Device Profiles\"}),(0,P.jsx)(V.p2,{children:(0,P.jsx)(N,{isFDOEnabled:t,selectedItems:x.map((function(e){return e.original}))})}),(0,P.jsxs)(V.iA,{className:U.className,role:U.role,style:U.style,children:[(0,P.jsx)(\"thead\",{children:g.map((function(e){var t=e.getHeaderGroupProps(),n=t.key,a=t.className,r=t.role,i=t.style;return(0,P.jsx)(V.KA,{className:a,role:r,style:i,headers:e.headers},n)}))}),(0,P.jsx)(\"tbody\",{className:L.className,role:L.role,style:L.style,children:!o&&c&&c.length>0?h.map((function(e){f(e);var t=e.getRowProps(),n=t.key,a=t.className,r=t.role,i=t.style;return(0,P.jsx)(V.SC,{cells:e.cells,className:a,role:r,style:i},n)})):(0,P.jsx)(\"tr\",{children:(0,P.jsx)(\"td\",{colSpan:5,className:\"text-center text-muted\",children:B(o,d)})})})]}),(0,P.jsxs)(D.y,{children:[(0,P.jsx)(E.V,{value:x.length}),(0,P.jsx)(R.j,{showAll:!0,pageLimit:T,page:I+1,onPageChange:function(e){return S(e-1)},totalCount:c?c.length:0,onPageLimitChange:function(e){C(e),r((function(t){return _(_({},t),{},{pageSize:e})}))}})]})]})}function B(e,t){return e?\"Loading...\":t?t.message:\"No profiles found\"}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){var t=Object.assign({},e);return(0,P.jsx)(v.U,{defaults:{pageSize:10,sortBy:{id:\"name\",desc:!1}},storageKey:\"fdoProfiles\",children:(0,P.jsx)(K,G({},t))})}var W=n(88606);function Y(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function Q(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){Y(i,a,r,s,o,\"next\",e)}function o(e){Y(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var J=(0,o.F)((function(e){var t,n,a=e.settings,r=e.onSubmit,i=a?a.fdoConfiguration:null,s=!!i&&i.enabled,o=(t=(0,l.useState)(s),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),v=o[0],b=o[1];(0,l.useEffect)((function(){var e;b(null==a||null===(e=a.fdoConfiguration)||void 0===e?void 0:e.enabled)}),[a]);var y={enabled:s,ownerURL:i?i.ownerURL:\"\",ownerUsername:i?i.ownerUsername:\"\",ownerPassword:i?i.ownerPassword:\"\"},w=!!a&&a.EnableEdgeComputeFeatures;return(0,P.jsx)(\"div\",{className:\"row\",children:(0,P.jsxs)(m.$L,{children:[(0,P.jsx)(m.PI,{icon:\"fa-laptop\",title:\"FDO\"}),(0,P.jsxs)(m.kh,{children:[(0,P.jsx)(c.J9,{initialValues:y,onSubmit:r,enableReinitialize:!0,validationSchema:function(){return(0,W.Ry)().shape({ownerURL:(0,W.Z_)().when(\"enabled\",{is:!0,then:(0,W.Z_)().required(\"Field is required\")}),ownerUsername:(0,W.Z_)().when(\"enabled\",{is:!0,then:(0,W.Z_)().required(\"Field is required\")}),ownerPassword:(0,W.Z_)().when(\"enabled\",{is:!0,then:(0,W.Z_)().required(\"Field is required\")})})},validateOnChange:!0,validateOnMount:!0,children:function(e){var t=e.values,n=e.errors,a=e.handleSubmit,r=e.setFieldValue,i=e.isSubmitting,s=e.isValid,o=e.dirty;return(0,P.jsxs)(c.l0,{className:\"form-horizontal\",onSubmit:a,children:[(0,P.jsx)(u.N,{inputId:\"edge_enableFDO\",label:\"Enable FDO Management Service\",size:\"medium\",errors:n.enabled,children:(0,P.jsx)(d.r,{id:\"edge_enableFDO\",name:\"edge_enableFDO\",className:\"space-right\",disabled:!w,checked:w&&t.enabled,onChange:function(e){return function(e,t){return x.apply(this,arguments)}(e,r)}})}),(0,P.jsx)(h.a,{color:\"blue\",children:\"When enabled, this will allow Portainer to interact with FDO Services.\"}),w&&t.enabled&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(\"hr\",{}),(0,P.jsx)(u.N,{inputId:\"owner_url\",label:\"Owner Service Server\",errors:n.ownerURL,children:(0,P.jsx)(c.gN,{as:f.I,name:\"ownerURL\",id:\"owner_url\",placeholder:\"http://127.0.0.1:8042\",value:t.ownerURL,\"data-cy\":\"fdo-serverInput\"})}),(0,P.jsx)(u.N,{inputId:\"owner_username\",label:\"Owner Service Username\",errors:n.ownerUsername,children:(0,P.jsx)(c.gN,{as:f.I,name:\"ownerUsername\",id:\"owner_username\",placeholder:\"username\",value:t.ownerUsername,\"data-cy\":\"fdo-usernameInput\"})}),(0,P.jsx)(u.N,{inputId:\"owner_password\",label:\"Owner Service Password\",errors:n.ownerPassword,children:(0,P.jsx)(c.gN,{as:f.I,type:\"password\",name:\"ownerPassword\",id:\"owner_password\",placeholder:\"password\",value:t.ownerPassword,\"data-cy\":\"fdo-passwordInput\"})})]}),(0,P.jsx)(\"div\",{className:\"form-group mt-5\",children:(0,P.jsx)(\"div\",{className:\"col-sm-12\",children:(0,P.jsx)(g.f,{disabled:!s||!o,dataCy:\"settings-fdoButton\",isLoading:i,loadingText:\"Saving settings...\",children:\"Save Settings\"})})})]})}}),w&&v&&(0,P.jsxs)(\"div\",{className:\"app-portainer-settings-edge-compute-SettingsFDO-SettingsFDO-module__fdo-table\",children:[(0,P.jsx)(p.i,{children:\"Device Profiles\"}),(0,P.jsx)(h.a,{color:\"blue\",children:\"Add, Edit and Manage the list of device profiles available during FDO device setup\"}),(0,P.jsx)(q,{isFDOEnabled:s})]})]})]})});function x(){return(x=Q(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(t),n(\"enabled\",t);case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}}),[\"settings\",\"onSubmit\"]),X=(n(57592),n(42629));function ee(e,t,n,a,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function s(e){ee(i,a,r,s,o,\"next\",e)}function o(e){ee(i,a,r,s,o,\"throw\",e)}s(void 0)}))}}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var ae=(0,o.F)((function(e){var t,n,a=e.settings,r=e.onSubmit,i=(t=(0,l.useState)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null!=n){var a,r,i=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){o=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return i}}(t,n)||function(e,t){if(e){if(\"string\"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()),s=i[0],o=i[1];function p(){return(p=te(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return o(t),e.next=4,v(t);case 4:a=e.sent,n(\"certFileContent\",a),n(\"certFileName\",t.name);case 7:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(e){if(null!=e.target&&null!=e.target.result){var n=e.target.result.toString(),a=n.indexOf(\"base64,\"),r=n.substring(a+7,n.length);t(r)}else t(\"\")},a.onerror=function(){n(new Error(\"error reading provisioning certificate file\"))},a.readAsDataURL(e)}))}var b=a?a.openAMTConfiguration:null,y={enabled:!!b&&b.enabled,mpsServer:b?b.mpsServer:\"\",mpsUser:b?b.mpsUser:\"\",mpsPassword:b?b.mpsPassword:\"\",domainName:b?b.domainName:\"\",certFileContent:b?b.certFileContent:\"\",certFileName:b?b.certFileName:\"\",certFilePassword:b?b.certFilePassword:\"\"};y.certFileContent&&y.certFileName&&!s&&o(new File([],y.certFileName));var w=!!a&&a.EnableEdgeComputeFeatures;return(0,P.jsx)(\"div\",{className:\"row\",children:(0,P.jsxs)(m.$L,{children:[(0,P.jsx)(m.PI,{icon:\"fa-laptop\",title:\"Intel OpenAMT\"}),(0,P.jsx)(m.kh,{children:(0,P.jsx)(c.J9,{initialValues:y,onSubmit:r,enableReinitialize:!0,validationSchema:function(){return(0,W.Ry)().shape({mpsServer:(0,W.Z_)().when(\"enabled\",{is:!0,then:(0,W.Z_)().required(\"Field is required\")}),mpsUser:(0,W.Z_)().when(\"enabled\",{is:!0,then:(0,W.Z_)().required(\"Field is required\")}),mpsPassword:(0,W.Z_)().when(\"enabled\",{is:!0,then:(0,W.Z_)().required(\"Field is required\")}),domainName:(0,W.Z_)().when(\"enabled\",{is:!0,then:(0,W.Z_)().required(\"Field is required\")}),certFileContent:(0,W.Z_)().when(\"enabled\",{is:!0,then:(0,W.Z_)().required(\"Field is required\")}),certFileName:(0,W.Z_)().when(\"enabled\",{is:!0,then:(0,W.Z_)().required(\"Field is required\")}),certFilePassword:(0,W.Z_)().when(\"enabled\",{is:!0,then:(0,W.Z_)().required(\"Field is required\")})})},validateOnChange:!0,validateOnMount:!0,children:function(e){var t=e.values,n=e.errors,a=e.handleSubmit,r=e.setFieldValue,i=e.isSubmitting,o=e.isValid,l=e.dirty;return(0,P.jsxs)(c.l0,{className:\"form-horizontal\",onSubmit:a,children:[(0,P.jsx)(u.N,{inputId:\"edge_enableOpenAMT\",label:\"Enable OpenAMT\",errors:n.enabled,children:(0,P.jsx)(d.r,{id:\"edge_enableOpenAMT\",name:\"edge_enableOpenAMT\",className:\"space-right\",disabled:!w,checked:w&&t.enabled,onChange:function(e){return r(\"enabled\",e)}})}),(0,P.jsx)(h.a,{color:\"blue\",children:\"When enabled, this will allow Portainer to interact with an OpenAMT MPS API.\"}),w&&t.enabled&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(\"hr\",{}),(0,P.jsx)(u.N,{inputId:\"mps_server\",label:\"MPS Server\",size:\"medium\",errors:n.mpsServer,children:(0,P.jsx)(c.gN,{as:f.I,name:\"mpsServer\",id:\"mps_server\",placeholder:\"Enter the MPS Server\",value:t.mpsServer,\"data-cy\":\"openAMT-serverInput\"})}),(0,P.jsx)(u.N,{inputId:\"mps_username\",label:\"MPS User\",size:\"medium\",errors:n.mpsUser,children:(0,P.jsx)(c.gN,{as:f.I,name:\"mpsUser\",id:\"mps_username\",placeholder:\"Enter the MPS User\",value:t.mpsUser,\"data-cy\":\"openAMT-usernameInput\"})}),(0,P.jsx)(u.N,{inputId:\"mps_password\",label:\"MPS Password\",size:\"medium\",tooltip:\"Needs to be 8-32 characters including one uppercase, one lowercase letters, one base-10 digit and one special character.\",errors:n.mpsPassword,children:(0,P.jsx)(c.gN,{as:f.I,type:\"password\",name:\"mpsPassword\",id:\"mps_password\",placeholder:\"Enter the MPS Password\",value:t.mpsPassword,\"data-cy\":\"openAMT-passwordInput\"})}),(0,P.jsx)(\"hr\",{}),(0,P.jsx)(u.N,{inputId:\"domain_name\",label:\"Domain Name\",size:\"medium\",tooltip:\"Enter the FQDN that is associated with the provisioning certificate (i.e amtdomain.com)\",errors:n.domainName,children:(0,P.jsx)(c.gN,{as:f.I,name:\"domainName\",id:\"domain_name\",placeholder:\"Enter the Domain Name\",value:t.domainName,\"data-cy\":\"openAMT-domainInput\"})}),(0,P.jsx)(u.N,{inputId:\"certificate_file\",label:\"Provisioning Certificate File (.pfx)\",size:\"medium\",tooltip:\"Supported CAs are Comodo, DigiCert, Entrust and GoDaddy.<br>The certificate must contain the private key.<br>On AMT 15 based devices you need to use SHA2.\",errors:n.certFileContent,children:(0,P.jsx)(X.Uu,{inputId:\"certificate_file\",title:\"Upload file\",accept:\".pfx\",value:s,onChange:function(e){return function(e,t){return p.apply(this,arguments)}(e,r)}})}),(0,P.jsx)(u.N,{inputId:\"certificate_password\",label:\"Provisioning Certificate Password\",size:\"medium\",tooltip:\"Needs to be 8-32 characters including one uppercase, one lowercase letters, one base-10 digit and one special character.\",errors:n.certFilePassword,children:(0,P.jsx)(c.gN,{as:f.I,type:\"password\",name:\"certFilePassword\",id:\"certificate_password\",placeholder:\"**********\",value:t.certFilePassword,\"data-cy\":\"openAMT-certPasswordInput\"})})]}),(0,P.jsx)(\"div\",{className:\"form-group mt-5\",children:(0,P.jsx)(\"div\",{className:\"col-sm-12\",children:(0,P.jsx)(g.f,{disabled:!o||!l,dataCy:\"settings-fdoButton\",isLoading:i,loadingText:\"Saving settings...\",children:\"Save Settings\"})})})]})}})})]})})}),[\"settings\",\"onSubmit\"]),re=n(64858);function ie(e){var t=e.settings,n=e.onSubmit;return t?(0,P.jsx)(\"div\",{className:\"row\",children:(0,P.jsxs)(m.$L,{children:[(0,P.jsx)(m.PI,{icon:\"fa-laptop\",title:\"Edge Compute settings\"}),(0,P.jsx)(m.kh,{children:(0,P.jsx)(c.J9,{initialValues:t,enableReinitialize:!0,validationSchema:function(){return(0,W.Ry)().shape({EdgeAgentCheckinInterval:(0,W.Rx)().required(\"This field is required.\"),EnableEdgeComputeFeatures:(0,W.O7)().required(\"This field is required.\"),EnforceEdgeID:(0,W.O7)().required(\"This field is required.\")})},onSubmit:n,validateOnMount:!0,children:function(e){var t=e.values,n=e.errors,a=e.handleSubmit,r=e.setFieldValue,i=e.isSubmitting,s=e.isValid,o=e.dirty;return(0,P.jsxs)(c.l0,{className:\"form-horizontal\",onSubmit:a,noValidate:!0,children:[(0,P.jsx)(u.N,{inputId:\"edge_enable\",label:\"Enable Edge Compute features\",size:\"medium\",errors:n.EnableEdgeComputeFeatures,children:(0,P.jsx)(d.r,{id:\"edge_enable\",name:\"edge_enable\",className:\"space-right\",checked:t.EnableEdgeComputeFeatures,onChange:function(e){return r(\"EnableEdgeComputeFeatures\",e)}})}),(0,P.jsx)(h.a,{color:\"blue\",children:\"When enabled, this will enable Portainer to execute Edge Device features.\"}),(0,P.jsx)(u.N,{inputId:\"edge_enforce_id\",label:\"Enforce use of Portainer generated Edge ID\",size:\"medium\",tooltip:\"This setting only applies to manually created environments.\",errors:n.EnforceEdgeID,children:(0,P.jsx)(d.r,{id:\"edge_enforce_id\",name:\"edge_enforce_id\",className:\"space-right\",checked:t.EnforceEdgeID,onChange:function(e){return r(\"EnforceEdgeID\",e.valueOf())}})}),(0,P.jsx)(p.i,{children:\"Check-in Intervals\"}),(0,P.jsx)(re.If,{value:t.EdgeAgentCheckinInterval,onChange:function(e){return r(\"EdgeAgentCheckinInterval\",e)},isDefaultHidden:!0,label:\"Edge agent default poll frequency\",tooltip:\"Interval used by default by each Edge agent to check in with the Portainer instance. Affects Edge environment management and Edge compute features.\"}),(0,P.jsx)(\"div\",{className:\"form-group mt-5\",children:(0,P.jsx)(\"div\",{className:\"col-sm-12\",children:(0,P.jsx)(g.f,{disabled:!s||!o,dataCy:\"settings-edgeComputeButton\",isLoading:i,loadingText:\"Saving settings...\",children:\"Save Settings\"})})})]})}})})]})}):null}n(6811),n(78322),n(83810);var se=n(32858),oe=(n(89954),n(88373),n(50433));W.Ry({TrustOnFirstConnect:W.O7(),EdgePortainerUrl:W.Z_().test(\"url\",\"URL should be a valid URI and cannot include localhost\",(function(e){if(!e)return!1;try{var t=new URL(e);return!!t.hostname&&\"localhost\"!==t.hostname}catch(e){return!1}})).required(\"URL is required\")}),(0,oe.baseHref)(),window.location.origin,se.dP.k8sLinux,se.dP.swarmLinux,se.dP.standaloneLinux,se.dP.nomadLinux,se.dP.swarmWindows,se.dP.standaloneWindow;var le=(0,o.A)((function(e){var t=e.settings,n=e.onSubmit;return(0,P.jsxs)(\"div\",{className:\"row\",children:[(0,P.jsx)(ie,{settings:t,onSubmit:n}),!1]})}),[\"settings\",\"onSubmit\"]),ce=r().module(\"portainer.settings\",[i.default,s.default]).component(\"settingsEdgeCompute\",le).component(\"settingsFdo\",J).component(\"settingsOpenAmt\",ae).name},48557:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e,t,n){this.PaginationService=n,this.tableKey=\"authLogs\";const a=this.$onInit;angular.extend(this,e(\"GenericDatatableController\",{$scope:t})),this.changeSort=this.changeSort.bind(this),this.handleChangeLimit=this.handleChangeLimit.bind(this),this.$onInit=a.bind(this)}changeSort(e){let t=!1;e===this.sort.key&&(t=!this.sort.desc),this.onChangeSort({key:e,desc:t})}handleChangeLimit(e){this.PaginationService.setPaginationLimit(this.tableKey,e),this.onChangeLimit(e)}$onInit(){this.$onInitGeneric();const e=this.PaginationService.getPaginationLimit(this.tableKey);e&&this.onChangeLimit(+e)}}a.$inject=[\"$controller\",\"$scope\",\"PaginationService\"]},32654:function(e,t,n){\"use strict\";n.r(t),n.d(t,{activityLogsDatatable:function(){return r}});var a=n(48557);const r={templateUrl:n(79765),controller:a.default,bindings:{logs:\"<\",keyword:\"<\",sort:\"<\",limit:\"<\",totalItems:\"<\",currentPage:\"<\",feature:\"@\",onChangeContextFilter:\"<\",onChangeKeyword:\"<\",onChangeSort:\"<\",onChangeLimit:\"<\",onChangePage:\"<\"}}},38427:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return s}});var a=n(4396),r=n.n(a),i=n(26196);class s{constructor(e,t){this.$async=e,this.Notifications=t,this.limitedFeature=i.tE.ACTIVITY_AUDIT,this.state={keyword:\"\",date:{from:0,to:0},sort:{key:\"Timestamp\",desc:!0},page:1,limit:10,totalItems:0,logs:null},this.today=r()().endOf(\"day\"),this.minValidDate=r()().subtract(7,\"d\").startOf(\"day\"),this.onChangeDate=this.onChangeDate.bind(this),this.onChangeKeyword=this.onChangeKeyword.bind(this),this.onChangeSort=this.onChangeSort.bind(this),this.loadLogs=this.loadLogs.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeLimit=this.onChangeLimit.bind(this)}onChangePage(e){this.state.page=e,this.loadLogs()}onChangeLimit(e){this.state.page=1,this.state.limit=e,this.loadLogs()}onChangeSort(e){this.state.page=1,this.state.sort=e,this.loadLogs()}onChangeKeyword(e){this.state.page=1,this.state.keyword=e,this.loadLogs()}onChangeDate({startDate:e,endDate:t}){this.state.page=1,this.state.date={to:t,from:e},this.loadLogs()}async export(){return this.$async((async()=>{try{await this.UserActivityService.saveLogsAsCSV(this.state.sort,this.state.keyword,this.state.date,this.state.contextFilter)}catch(e){this.Notifications.error(\"Failure\",e,\"Failed loading user activity logs csv\")}}))}async loadLogs(){return this.$async((async()=>{this.state.logs=null;try{const{logs:e,totalCount:t}={logs:[{},{},{},{},{}],totalCount:5};this.state.logs=e,this.state.totalItems=t}catch(e){this.Notifications.error(\"Failure\",e,\"Failed loading user activity logs\")}}))}$onInit(){return this.$async((async()=>{this.loadLogs()}))}}s.$inject=[\"$async\",\"Notifications\"]},85331:function(e,t,n){\"use strict\";n.r(t),n.d(t,{activityLogsView:function(){return r}});var a=n(38427);const r={templateUrl:n(28459),controller:a.default}},9800:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(85331),s=n(32654);t.default=r().module(\"portainer.app.user-activity.activity-logs-view\",[]).component(\"activityLogsDatatable\",s.activityLogsDatatable).component(\"activityLogsView\",i.activityLogsView).name},91651:function(e,t,n){\"use strict\";n.r(t);var a=n(52855),r=n(98376);class i{constructor(e,t,n){this.PaginationService=n,this.tableKey=\"authLogs\",this.contextFilterLabels=Object.values(a.authenticationMethodTypesMap).map((e=>({value:e,label:a.authenticationMethodTypesLabels[e]}))),this.typeFilterLabels=Object.values(r.authenticationActivityTypesMap).map((e=>({value:e,label:r.authenticationActivityTypesLabels[e]})));const i=this.$onInit;angular.extend(this,e(\"GenericDatatableController\",{$scope:t})),this.$onInit=i.bind(this),this.changeSort=this.changeSort.bind(this),this.handleChangeLimit=this.handleChangeLimit.bind(this)}changeSort(e){let t=!1;e===this.sort.key&&(t=!this.sort.desc),this.onChangeSort({key:e,desc:t})}contextType(e){return e in a.authenticationMethodTypesLabels?a.authenticationMethodTypesLabels[e]:\"\"}activityType(e){return e in r.authenticationActivityTypesLabels?r.authenticationActivityTypesLabels[e]:\"\"}isAuthSuccess(e){return e===r.authenticationActivityTypesMap.AuthSuccess}isAuthFailure(e){return e===r.authenticationActivityTypesMap.AuthFailure}handleChangeLimit(e){this.PaginationService.setPaginationLimit(this.tableKey,e),this.onChangeLimit(e)}$onInit(){this.$onInitGeneric();const e=this.PaginationService.getPaginationLimit(this.tableKey);e&&this.handleChangeLimit(+e)}}i.$inject=[\"$controller\",\"$scope\",\"PaginationService\"],t.default=i},66823:function(e,t,n){\"use strict\";n.r(t),n.d(t,{authLogsDatatable:function(){return r}});var a=n(91651);const r={templateUrl:n(28572),controller:a.default,bindings:{logs:\"<\",keyword:\"<\",sort:\"<\",limit:\"<\",totalItems:\"<\",currentPage:\"<\",contextFilter:\"<\",typeFilter:\"<\",feature:\"@\",onChangeContextFilter:\"<\",onChangeTypeFilter:\"<\",onChangeKeyword:\"<\",onChangeSort:\"<\",onChangeLimit:\"<\",onChangePage:\"<\"}}},93873:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return s}});var a=n(4396),r=n.n(a),i=n(26196);class s{constructor(e,t){this.$async=e,this.Notifications=t,this.limitedFeature=i.tE.ACTIVITY_AUDIT,this.state={keyword:\"f\",date:{from:0,to:0},sort:{key:\"Timestamp\",desc:!0},contextFilter:[1,2,3],typeFilter:[1,2,3],page:1,limit:10,totalItems:0,logs:null},this.today=r()().endOf(\"day\"),this.minValidDate=r()().subtract(7,\"d\").startOf(\"day\"),this.onChangeDate=this.onChangeDate.bind(this),this.onChangeKeyword=this.onChangeKeyword.bind(this),this.onChangeSort=this.onChangeSort.bind(this),this.onChangeContextFilter=this.onChangeContextFilter.bind(this),this.onChangeTypeFilter=this.onChangeTypeFilter.bind(this),this.loadLogs=this.loadLogs.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeLimit=this.onChangeLimit.bind(this)}onChangePage(e){this.state.page=e,this.loadLogs()}onChangeLimit(e){this.state.page=1,this.state.limit=e,this.loadLogs()}onChangeSort(e){this.state.page=1,this.state.sort=e,this.loadLogs()}onChangeContextFilter(e,t){this.state.contextFilter=t,this.loadLogs()}onChangeTypeFilter(e,t){this.state.typeFilter=t,this.loadLogs()}onChangeKeyword(e){this.state.page=1,this.state.keyword=e,this.loadLogs()}onChangeDate({startDate:e,endDate:t}){this.state.page=1,this.state.date={to:t,from:e},this.loadLogs()}async loadLogs(){return this.$async((async()=>{this.state.logs=null;try{const{logs:e,totalCount:t}={logs:[{},{},{},{},{}],totalCount:5};this.state.logs=e,this.state.totalItems=t}catch(e){this.Notifications.error(\"Failure\",e,\"Failed loading auth activity logs\")}}))}$onInit(){return this.$async((async()=>{this.loadLogs()}))}}s.$inject=[\"$async\",\"Notifications\"]},8364:function(e,t,n){\"use strict\";n.r(t),n.d(t,{authLogsView:function(){return r}});var a=n(93873);const r={templateUrl:n(22261),controller:a.default}},45303:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(8364),s=n(66823);t.default=r().module(\"portainer.app.user-activity.auth-logs-view\",[]).component(\"authLogsView\",i.authLogsView).component(\"authLogsDatatable\",s.authLogsDatatable).name},45347:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(45303),s=n(9800);function o(e){e.register({name:\"portainer.authLogs\",url:\"/auth-logs\",views:{\"content@\":{component:\"authLogsView\"}}}),e.register({name:\"portainer.activityLogs\",url:\"/activity-logs\",views:{\"content@\":{component:\"activityLogsView\"}}})}o.$inject=[\"$stateRegistryProvider\"],t.default=r().module(\"portainer.app.user-activity\",[i.default,s.default]).config(o).name},68325:function(){angular.module(\"portainer.app\").controller(\"AccountController\",[\"$scope\",\"$state\",\"Authentication\",\"UserService\",\"Notifications\",\"SettingsService\",\"StateManager\",\"ThemeManager\",\"ModalService\",function(e,t,n,a,r,i,s,o,l){e.formValues={currentPassword:\"\",newPassword:\"\",confirmPassword:\"\",userTheme:\"\"},e.updatePassword=async function(){if(await l.confirmChangePassword())try{await a.updateUserPassword(e.userID,e.formValues.currentPassword,e.formValues.newPassword),r.success(\"Success\",\"Password successfully updated\"),s.resetPasswordChangeSkips(e.userID.toString()),e.forceChangePassword=!1,t.go(\"portainer.logout\")}catch(e){r.error(\"Failure\",e,e.msg)}},e.skipPasswordChange=async function(){try{e.userCanSkip()&&(s.setPasswordChangeSkipped(e.userID.toString()),e.forceChangePassword=!1,t.go(\"portainer.home\"))}catch(e){r.error(\"Failure\",e,e.msg)}},e.userCanSkip=function(){return e.timesPasswordChangeSkipped<2},this.uiCanExit=t=>{if(t){if(1===e.userRole&&\"portainer.settings.authentication\"===t.to().name)return!0;if(\"portainer.logout\"===t.to().name)return!0}return e.forceChangePassword&&l.confirmForceChangePassword(),!e.forceChangePassword},e.uiCanExit=()=>this.uiCanExit(),e.removeAction=n=>{l.confirmDeletion(\"Do you want to remove the selected access token(s)? Any script or application using these tokens will no longer be able to invoke the Portainer API.\",(function(i){if(!i)return;let s=n.length;n.forEach((n=>{a.deleteAccessToken(e.userID,n.id).then((()=>{r.success(\"Token successfully removed\");var t=e.tokens.indexOf(n);e.tokens.splice(t,1)})).catch((e=>{r.error(\"Failure\",e,\"Unable to remove token\")})).finally((()=>{--s,0===s&&t.reload()}))}))}))},e.setTheme=function(e){o.setTheme(e),s.updateTheme(e)},e.updateTheme=function(){a.updateUserTheme(e.userID,e.formValues.userTheme).then((function(){r.success(\"Success\",\"User theme successfully updated\"),t.reload()})).catch((function(e){r.error(\"Failure\",e,e.msg)}))},async function(){const t=s.getState(),o=n.getUserDetails();e.userID=o.ID,e.userRole=n.getUserDetails().role,e.forceChangePassword=o.forceChangePassword,t.application.demoEnvironment.enabled&&(e.isDemoUser=t.application.demoEnvironment.users.includes(e.userID));const l=await a.user(e.userID);e.formValues.userTheme=l.UserTheme,i.publicSettings().then((function(n){e.AuthenticationMethod=n.AuthenticationMethod,t.UI.requiredPasswordLength&&t.UI.requiredPasswordLength!==n.RequiredPasswordLength&&s.clearPasswordChangeSkips(),e.timesPasswordChangeSkipped=t.UI.timesPasswordChangeSkipped&&t.UI.timesPasswordChangeSkipped[e.userID.toString()]?t.UI.timesPasswordChangeSkipped[e.userID.toString()]:0,e.requiredPasswordLength=n.RequiredPasswordLength,s.setRequiredPasswordLength(n.RequiredPasswordLength)})).catch((function(e){r.error(\"Failure\",e,\"Unable to retrieve application settings\")})),a.getAccessTokens(e.userID).then((function(t){e.tokens=t})).catch((function(e){r.error(\"Failure\",e,\"Unable to retrieve user tokens\")}))}()}])},5012:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return a}});class a{constructor(e,t,n,a,r){this.$async=e,this.$analytics=t,this.Authentication=n,this.UserService=a,this.Notifications=r,this.onSubmit=this.onSubmit.bind(this),this.onError=this.onError.bind(this)}async onSubmit(e){const t=await this.UserService.createAccessToken(this.state.userId,e);return this.$analytics.eventTrack(\"portainer-account-access-token-create\",{category:\"portainer\"}),t}onError(e,t,n){this.Notifications.error(e,t,n)}$onInit(){return this.$async((async()=>{const e=this.Authentication.getUserDetails().ID;this.state={userId:e}}))}}a.$inject=[\"$async\",\"$analytics\",\"Authentication\",\"UserService\",\"Notifications\"]},33219:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(5012);const s=n(48675);r().module(\"portainer.app\").component(\"createUserAccessToken\",{templateUrl:s,controller:i.default})},87374:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(15964),s=n.n(i);class o{constructor(e,t,n,a,r,i,s,o,l,c,d,u,p,m,g){this.$async=e,this.$analytics=t,this.$scope=n,this.$state=a,this.$stateParams=r,this.$window=i,this.Authentication=s,this.UserService=o,this.EndpointService=l,this.StateManager=c,this.Notifications=d,this.SettingsService=u,this.URLHelper=p,this.LocalStorage=m,this.StatusService=g,this.logo=this.StateManager.getState().application.logo,this.formValues={Username:\"\",Password:\"\"},this.state={showOAuthLogin:!1,showStandardLogin:!1,AuthenticationError:\"\",loginInProgress:!0,OAuthProvider:\"\"},this.checkForEndpointsAsync=this.checkForEndpointsAsync.bind(this),this.checkForLatestVersionAsync=this.checkForLatestVersionAsync.bind(this),this.postLoginSteps=this.postLoginSteps.bind(this),this.oAuthLoginAsync=this.oAuthLoginAsync.bind(this),this.internalLoginAsync=this.internalLoginAsync.bind(this),this.authenticateUserAsync=this.authenticateUserAsync.bind(this),this.manageOauthCodeReturn=this.manageOauthCodeReturn.bind(this),this.authEnabledFlowAsync=this.authEnabledFlowAsync.bind(this),this.onInit=this.onInit.bind(this)}logout(e){this.Authentication.logout(),this.state.loginInProgress=!1,this.generateOAuthLoginURI(),this.LocalStorage.storeLogoutReason(e),this.$window.location.reload()}error(e,t){this.state.AuthenticationError=t,e||(e={}),this.Notifications.error(\"Failure\",e,t),this.state.loginInProgress=!1}determineOauthProvider(e){return-1!==e.indexOf(\"login.microsoftonline.com\")?\"Microsoft\":-1!==e.indexOf(\"accounts.google.com\")?\"Google\":-1!==e.indexOf(\"github.com\")?\"Github\":\"OAuth\"}generateState(){const e=s()();return this.LocalStorage.storeLoginStateUUID(e),\"&state=\"+e}generateOAuthLoginURI(){this.OAuthLoginURI=this.state.OAuthLoginURI+this.generateState()}hasValidState(e){const t=this.LocalStorage.getLoginStateUUID();return t&&e&&t===e}async checkForEndpointsAsync(){try{const e=await this.EndpointService.endpoints(0,1),t=this.Authentication.isAdmin();return this.Authentication.getUserDetails().forceChangePassword?this.$state.go(\"portainer.account\"):0===e.value.length&&t?this.$state.go(\"portainer.wizard\"):this.$state.go(\"portainer.home\")}catch(e){this.error(e,\"Unable to retrieve environments\")}}async checkForLatestVersionAsync(){let e={UpdateAvailable:!1,LatestVersion:\"\"};try{const t=await this.StatusService.version();t.UpdateAvailable&&(e.UpdateAvailable=!0,e.LatestVersion=t.LatestVersion)}finally{this.StateManager.setVersionInfo(e)}}async postLoginSteps(){await this.StateManager.initialize();const e=this.Authentication.isAdmin();this.$analytics.setUserRole(e?\"admin\":\"standard-user\"),await this.checkForEndpointsAsync(),await this.checkForLatestVersionAsync()}async oAuthLoginAsync(e){try{await this.Authentication.OAuthLogin(e),this.URLHelper.cleanParameters()}catch(e){this.error(e,\"Unable to login via OAuth\")}}async internalLoginAsync(e,t){await this.Authentication.login(e,t),await this.postLoginSteps()}async authenticateUserAsync(){try{var e=this.formValues.Username,t=this.formValues.Password;this.state.loginInProgress=!0,await this.internalLoginAsync(e,t)}catch(e){this.error(e,\"Unable to login\")}}authenticateUser(){return this.$async(this.authenticateUserAsync)}async manageOauthCodeReturn(e,t){this.hasValidState(t)?await this.oAuthLoginAsync(e):this.error(null,\"Invalid OAuth state, try again.\")}async authEnabledFlowAsync(){try{await this.UserService.administratorExists()||this.$state.go(\"portainer.init.admin\")}catch(e){this.error(e,\"Unable to verify administrator account existence\")}}toggleStandardLogin(){this.state.showStandardLogin=!this.state.showStandardLogin}async onInit(){try{const e=await this.SettingsService.publicSettings();this.state.showOAuthLogin=3===e.AuthenticationMethod,this.state.showStandardLogin=!this.state.showOAuthLogin,this.state.OAuthLoginURI=e.OAuthLoginURI,this.state.OAuthProvider=this.determineOauthProvider(e.OAuthLoginURI);const t=this.URLHelper.getParameter(\"code\"),n=this.URLHelper.getParameter(\"state\");if(t&&n)return await this.manageOauthCodeReturn(t,n),void this.generateOAuthLoginURI();if(this.logo||(await this.StateManager.initialize(),this.logo=this.StateManager.getState().application.logo),this.generateOAuthLoginURI(),this.$stateParams.logout||this.$stateParams.error)return void this.logout(this.$stateParams.error);const a=this.LocalStorage.getLogoutReason();a&&(this.state.AuthenticationError=a,this.LocalStorage.cleanLogoutReason()),this.Authentication.isAuthenticated()&&await this.postLoginSteps(),this.state.loginInProgress=!1,await this.authEnabledFlowAsync()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve public settings\")}}$onInit(){return this.$async(this.onInit)}}o.$inject=[\"$async\",\"$analytics\",\"$scope\",\"$state\",\"$stateParams\",\"$window\",\"Authentication\",\"UserService\",\"EndpointService\",\"StateManager\",\"Notifications\",\"SettingsService\",\"URLHelper\",\"LocalStorage\",\"StatusService\"],t.default=o,r().module(\"portainer.app\").controller(\"AuthenticationController\",o)},46581:function(e,t,n){\"use strict\";n.r(t);var a=n(99432),r=n.n(a),i=n(19898),s=n(71541),o=n(26951),l=n(20037);class c{constructor(e,t,n,a,r,o,c,d,u,p,m){Object.assign(this,{$async:e,$state:t,$window:n,Authentication:a,ModalService:r,CustomTemplateService:o,FormValidator:c,Notifications:d,ResourceControlService:u,StackService:p,StateManager:m}),this.isTemplateVariablesEnabled=l.aW,this.formValues={Title:\"\",FileContent:\"\",File:null,RepositoryURL:\"\",RepositoryReferenceName:\"\",RepositoryAuthentication:!1,RepositoryUsername:\"\",RepositoryPassword:\"\",ComposeFilePathInRepository:\"docker-compose.yml\",Description:\"\",Note:\"\",Logo:\"\",Platform:1,Type:1,AccessControlData:new i.AccessControlFormData,Variables:[]},this.state={Method:\"editor\",formValidationError:\"\",actionInProgress:!1,fromStack:!1,loading:!0,isEditorDirty:!1,templateNameRegex:s.TEMPLATE_NAME_VALIDATION_REGEX,isTemplateValid:!0},this.templates=[],this.createCustomTemplate=this.createCustomTemplate.bind(this),this.createCustomTemplateAsync=this.createCustomTemplateAsync.bind(this),this.validateForm=this.validateForm.bind(this),this.createCustomTemplateByMethod=this.createCustomTemplateByMethod.bind(this),this.createCustomTemplateFromFileContent=this.createCustomTemplateFromFileContent.bind(this),this.createCustomTemplateFromFileUpload=this.createCustomTemplateFromFileUpload.bind(this),this.createCustomTemplateFromGitRepository=this.createCustomTemplateFromGitRepository.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onVariablesChange=this.onVariablesChange.bind(this),this.handleChange=this.handleChange.bind(this)}onVariablesChange(e){this.handleChange({Variables:e})}handleChange(e){return this.$async((async()=>{this.formValues={...this.formValues,...e}}))}createCustomTemplate(){return this.$async(this.createCustomTemplateAsync)}onChangeMethod(){this.formValues.FileContent=\"\",this.formValues.Variables=[],this.selectedTemplate=null}async createCustomTemplateAsync(){let e=this.state.Method;if(\"template\"===e&&(e=\"editor\"),this.validateForm(e)){this.state.actionInProgress=!0;try{const t=await this.createCustomTemplateByMethod(e),n=this.formValues.AccessControlData,a=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(a,n,t.ResourceControl),this.Notifications.success(\"Custom template successfully created\"),this.state.isEditorDirty=!1,this.$state.go(\"docker.templates.custom\")}catch(e){this.Notifications.error(\"Failure\",e,\"A template with the same name already exists\")}finally{this.state.actionInProgress=!1}}}validateForm(e){if(this.state.formValidationError=\"\",\"editor\"===e&&\"\"===this.formValues.FileContent)return this.state.formValidationError=\"Template file content must not be empty\",!1;const t=this.formValues.Title;if(r()(this.templates,(e=>e.Title===t)))return this.state.formValidationError=\"A template with the same name already exists\",!1;const n=this.Authentication.isAdmin(),a=this.formValues.AccessControlData,i=this.FormValidator.validateAccessControl(a,n);return!i||(this.state.formValidationError=i,!1)}createCustomTemplateByMethod(e){switch(e){case\"editor\":return this.createCustomTemplateFromFileContent();case\"upload\":return this.createCustomTemplateFromFileUpload();case\"repository\":return this.createCustomTemplateFromGitRepository()}}createCustomTemplateFromFileContent(){return this.CustomTemplateService.createCustomTemplateFromFileContent(this.formValues)}createCustomTemplateFromFileUpload(){return this.CustomTemplateService.createCustomTemplateFromFileUpload(this.formValues)}createCustomTemplateFromGitRepository(){return this.CustomTemplateService.createCustomTemplateFromGitRepository(this.formValues)}editorUpdate(e){const t=e.getValue();this.formValues.FileContent=t,this.state.isEditorDirty=!0,this.parseTemplate(t)}parseTemplate(e){if(!this.isTemplateVariablesEnabled)return;const t=(0,o.NT)(e),n=!!t;this.state.isTemplateValid=n,n&&this.onVariablesChange((0,o.fD)(this.formValues.Variables,t))}async $onInit(){const e=this.StateManager.getState();this.state.endpointMode=e.endpoint.mode;let t=0;\"DOCKER_STANDALONE\"===this.state.endpointMode.provider?t=2:\"DOCKER_SWARM_MODE\"===this.state.endpointMode.provider&&(t=1),this.formValues.Type=t;const{fileContent:n,type:a}=this.$state.params;this.formValues.FileContent=n,a&&(this.formValues.Type=+a);try{this.templates=await this.CustomTemplateService.customTemplates([1,2])}catch(e){this.Notifications.error(\"Failure loading\",e,\"Failed loading custom templates\")}this.state.loading=!1,this.$window.onbeforeunload=()=>{if(\"editor\"===this.state.Method&&this.formValues.FileContent&&this.state.isEditorDirty)return\"\"}}$onDestroy(){this.state.isEditorDirty=!1}async uiCanExit(){if(\"editor\"===this.state.Method&&this.formValues.FileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}}c.$inject=[\"$async\",\"$state\",\"$window\",\"Authentication\",\"ModalService\",\"CustomTemplateService\",\"FormValidator\",\"Notifications\",\"ResourceControlService\",\"StackService\",\"StateManager\"],t.default=c},31268:function(e,t,n){\"use strict\";n.r(t);var a=n(46581);const r=n(53068);angular.module(\"portainer.app\").component(\"createCustomTemplateView\",{templateUrl:r,controller:a.default})},77999:function(e,t,n){\"use strict\";n.r(t);var a=n(51235),r=n.n(a),i=n(71204),s=n.n(i),o=n(19898),l=n(71541),c=n(26951),d=n(20037);class u{constructor(e,t,n,a,r,i,s,c,u,p,m,g,h){this.$anchorScroll=e,this.$async=t,this.$rootScope=n,this.$state=a,this.Authentication=r,this.CustomTemplateService=i,this.FormValidator=s,this.ModalService=c,this.NetworkService=u,this.Notifications=p,this.ResourceControlService=m,this.StateManager=h,this.StackService=g,this.isTemplateVariablesEnabled=d.aW,this.DOCKER_STANDALONE=\"DOCKER_STANDALONE\",this.DOCKER_SWARM_MODE=\"DOCKER_SWARM_MODE\",this.state={selectedTemplate:null,showAdvancedOptions:!1,formValidationError:\"\",actionInProgress:!1,isEditorVisible:!1,deployable:!1,templateNameRegex:l.TEMPLATE_NAME_VALIDATION_REGEX,templateContent:\"\"},this.currentUser={isAdmin:!1,id:null},this.formValues={network:\"\",name:\"\",fileContent:\"\",AccessControlData:new o.AccessControlFormData,variables:[]},this.getTemplates=this.getTemplates.bind(this),this.getTemplatesAsync=this.getTemplatesAsync.bind(this),this.removeTemplates=this.removeTemplates.bind(this),this.removeTemplatesAsync=this.removeTemplatesAsync.bind(this),this.validateForm=this.validateForm.bind(this),this.createStack=this.createStack.bind(this),this.createStackAsync=this.createStackAsync.bind(this),this.selectTemplate=this.selectTemplate.bind(this),this.selectTemplateAsync=this.selectTemplateAsync.bind(this),this.unselectTemplate=this.unselectTemplate.bind(this),this.unselectTemplateAsync=this.unselectTemplateAsync.bind(this),this.getNetworks=this.getNetworks.bind(this),this.getNetworksAsync=this.getNetworksAsync.bind(this),this.confirmDelete=this.confirmDelete.bind(this),this.confirmDeleteAsync=this.confirmDeleteAsync.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.isEditAllowed=this.isEditAllowed.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this),this.onChangeTemplateVariables=this.onChangeTemplateVariables.bind(this)}isEditAllowed(e){return this.currentUser.isAdmin||this.currentUser.id===e.CreatedByUserId}getTemplates(){return this.$async(this.getTemplatesAsync)}async getTemplatesAsync(){try{this.templates=await this.CustomTemplateService.customTemplates([1,2])}catch(e){this.Notifications.error(\"Failed loading templates\",e,\"Unable to load custom templates\")}}removeTemplates(e){return this.$async(this.removeTemplatesAsync,e)}async removeTemplatesAsync(e){for(let t of e)try{await this.CustomTemplateService.remove(t.id),this.Notifications.success(\"Removed template successfully\"),s()(this.templates,t)}catch(e){this.Notifications.error(\"Failed removing template\",e,\"Unable to remove custom template\")}}onChangeTemplateVariables(e){this.onChangeFormValues({variables:e}),this.renderTemplate()}renderTemplate(){if(!this.isTemplateVariablesEnabled)return;const e=(0,c.SM)(this.state.templateContent,this.formValues.variables,this.state.selectedTemplate.Variables);this.onChangeFormValues({fileContent:e})}onChangeFormValues(e){this.formValues={...this.formValues,...e}}validateForm(e,t){this.state.formValidationError=\"\";const n=this.FormValidator.validateAccessControl(e,t);return!n||(this.state.formValidationError=n,!1)}createStack(){return this.$async(this.createStackAsync)}async createStackAsync(){const e=this.currentUser.id,t=this.formValues.AccessControlData;if(!this.validateForm(t,this.currentUser.isAdmin))return;const n=this.formValues.name,a=this.endpoint.Id;this.state.actionInProgress=!0;try{const r=this.formValues.fileContent,i=1===this.state.selectedTemplate.Type?this.StackService.createSwarmStackFromFileContent:this.StackService.createComposeStackFromFileContent,{ResourceControl:s}=await i(n,r,[],a);await this.ResourceControlService.applyResourceControl(e,t,s),this.Notifications.success(\"Stack successfully deployed\"),this.$state.go(\"docker.stacks\")}catch(e){this.Notifications.error(\"Deployment error\",e,\"Failed to deploy stack\")}finally{this.state.actionInProgress=!1}}unselectTemplate(e){return this.$async(this.unselectTemplateAsync,e)}async unselectTemplateAsync(e){e.Selected=!1,this.state.selectedTemplate=null,this.formValues={network:\"\",name:\"\",fileContent:\"\",AccessControlData:new o.AccessControlFormData,variables:[]}}selectTemplate(e){return this.$async(this.selectTemplateAsync,e)}async selectTemplateAsync(e){this.state.selectedTemplate&&await this.unselectTemplate(this.state.selectedTemplate),e.Selected=!0,this.formValues.network=r()(this.availableNetworks,(function(e){return\"bridge\"===e.Name})),this.formValues.name=e.Title?e.Title:\"\",this.state.selectedTemplate=e,this.$anchorScroll(\"view-top\");const t=this.StateManager.getState();this.state.deployable=this.isDeployable(t.endpoint,e.Type);const n=await this.CustomTemplateService.customTemplateFile(e.Id);if(this.state.templateContent=n,this.formValues.fileContent=n,e.Variables&&e.Variables.length>0){const t=Object.fromEntries(e.Variables.map((e=>[e.name,\"\"])));this.onChangeTemplateVariables(t)}}getNetworks(e,t){return this.$async(this.getNetworksAsync,e,t)}async getNetworksAsync(e,t){try{const n=await this.NetworkService.networks(\"DOCKER_STANDALONE\"===e||\"DOCKER_SWARM_MODE\"===e,!1,\"DOCKER_SWARM_MODE\"===e&&t>=1.25);this.availableNetworks=n}catch(e){this.Notifications.error(\"Failure\",e,\"Failed to load networks.\")}}confirmDelete(e){return this.$async(this.confirmDeleteAsync,e)}async confirmDeleteAsync(e){if(await this.ModalService.confirmDeletionAsync(\"Are you sure that you want to delete this template?\"))try{var t=r()(this.templates,{Id:e});await this.CustomTemplateService.remove(e),this.Notifications.success(\"Template successfully deleted\",t&&t.Title),s()(this.templates,{Id:e})}catch(e){this.Notifications.error(\"Failure\",e,\"Failed to delete template\")}}editorUpdate(e){this.formValues.fileContent=e.getValue()}isDeployable(e,t){let n=!1;switch(t){case 1:n=e.mode.provider===this.DOCKER_SWARM_MODE;break;case 2:n=e.mode.provider===this.DOCKER_STANDALONE}return n}$onInit(){const e=this.StateManager.getState(),{endpoint:{mode:t},apiVersion:n}=e;this.getTemplates(),this.getNetworks(t.provider,n),this.currentUser.isAdmin=this.Authentication.isAdmin();const a=this.Authentication.getUserDetails();this.currentUser.id=a.ID}}u.$inject=[\"$anchorScroll\",\"$async\",\"$rootScope\",\"$state\",\"Authentication\",\"CustomTemplateService\",\"FormValidator\",\"ModalService\",\"NetworkService\",\"Notifications\",\"ResourceControlService\",\"StackService\",\"StateManager\"],t.default=u},17598:function(e,t,n){\"use strict\";n.r(t);var a=n(77999);const r=n(4662);angular.module(\"portainer.app\").component(\"customTemplatesView\",{templateUrl:r,controller:a.default,bindings:{endpoint:\"<\"}})},31097:function(e,t,n){\"use strict\";n.r(t);var a=n(99432),r=n.n(a),i=n(24989),s=n(19898),o=n(26951),l=n(20037);class c{constructor(e,t,n,a,r,i,s,o,c){Object.assign(this,{$async:e,$state:t,$window:n,ModalService:a,Authentication:r,CustomTemplateService:i,FormValidator:s,Notifications:o,ResourceControlService:c}),this.isTemplateVariablesEnabled=l.aW,this.formValues=null,this.state={formValidationError:\"\",isEditorDirty:!1,isTemplateValid:!0},this.templates=[],this.getTemplate=this.getTemplate.bind(this),this.getTemplateAsync=this.getTemplateAsync.bind(this),this.submitAction=this.submitAction.bind(this),this.submitActionAsync=this.submitActionAsync.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.onVariablesChange=this.onVariablesChange.bind(this),this.handleChange=this.handleChange.bind(this)}getTemplate(){return this.$async(this.getTemplateAsync)}async getTemplateAsync(){try{const[e,t]=await Promise.all([this.CustomTemplateService.customTemplate(this.$state.params.id),this.CustomTemplateService.customTemplateFile(this.$state.params.id)]);e.FileContent=t,e.Variables=e.Variables||[],this.formValues=e,this.parseTemplate(e.FileContent),this.oldFileContent=this.formValues.FileContent,e.ResourceControl&&(this.formValues.ResourceControl=new i.w(e.ResourceControl)),this.formValues.AccessControlData=new s.AccessControlFormData}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve custom template data\")}}onVariablesChange(e){this.handleChange({Variables:e})}handleChange(e){return this.$async((async()=>{this.formValues={...this.formValues,...e}}))}validateForm(){if(this.state.formValidationError=\"\",!this.formValues.FileContent)return this.state.formValidationError=\"Template file content must not be empty\",!1;const e=this.formValues.Title,t=this.$state.params.id;if(r()(this.templates,(n=>n.Title===e&&n.Id!=t)))return this.state.formValidationError=`A template with the name ${e} already exists`,!1;const n=this.Authentication.isAdmin(),a=this.formValues.AccessControlData,i=this.FormValidator.validateAccessControl(a,n);return!i||(this.state.formValidationError=i,!1)}submitAction(){return this.$async(this.submitActionAsync)}async submitActionAsync(){if(this.validateForm()){this.actionInProgress=!0;try{await this.CustomTemplateService.updateCustomTemplate(this.formValues.Id,this.formValues);const e=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(e,this.formValues.AccessControlData,this.formValues.ResourceControl),this.Notifications.success(\"Custom template successfully updated\"),this.state.isEditorDirty=!1,this.$state.go(\"docker.templates.custom\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update custom template\")}finally{this.actionInProgress=!1}}}editorUpdate(e){const t=e.getValue();this.formValues.FileContent.replace(/(\\r\\n|\\n|\\r)/gm,\"\")!==t.replace(/(\\r\\n|\\n|\\r)/gm,\"\")&&(this.formValues.FileContent=t,this.parseTemplate(t),this.state.isEditorDirty=!0)}parseTemplate(e){if(!this.isTemplateVariablesEnabled)return;const t=(0,o.NT)(e),n=!!t;this.state.isTemplateValid=n,n&&this.onVariablesChange((0,o.fD)(this.formValues.Variables,t))}async uiCanExit(){if(this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){this.getTemplate();try{this.templates=await this.CustomTemplateService.customTemplates([1,2])}catch(e){this.Notifications.error(\"Failure loading\",e,\"Failed loading custom templates\")}this.$window.onbeforeunload=()=>{if(this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return\"\"}}$onDestroy(){this.state.isEditorDirty=!1}}c.$inject=[\"$async\",\"$state\",\"$window\",\"ModalService\",\"Authentication\",\"CustomTemplateService\",\"FormValidator\",\"Notifications\",\"ResourceControlService\"],t.default=c},69659:function(e,t,n){\"use strict\";n.r(t);var a=n(31097);const r=n(63928);angular.module(\"portainer.app\").component(\"editCustomTemplateView\",{templateUrl:r,controller:a.default})},11937:function(e,t,n){\"use strict\";n.r(t);var a=n(15964),r=n.n(a),i=n(74808),s=n(60122);angular.module(\"portainer.app\").controller(\"ImportDeviceController\",[\"$async\",\"$q\",\"$scope\",\"$state\",\"EndpointService\",\"GroupService\",\"TagService\",\"Notifications\",\"Authentication\",\"FileUploadService\",function(e,t,n,a,o,l,c,d,u,p){n.state={actionInProgress:!1,vouchersUploading:!1,vouchersUploaded:!1,deviceIDs:[],allowCreateTag:u.isAdmin()},n.formValues={DeviceName:\"\",DeviceProfile:\"\",GroupId:1,TagIds:[],VoucherFiles:[],PortainerURL:\"\",Suffix:1},n.profiles=[],n.onChangeTags=function(e){return n.$evalAsync((()=>{n.formValues.TagIds=e}))},n.onVoucherFilesChange=function(){if(n.formValues.VoucherFiles.length<1)return;n.state.vouchersUploading=!0;let e=n.formValues.VoucherFiles.map((e=>p.uploadOwnershipVoucher(e)));t.all(e).then((function(e){n.state.vouchersUploading=!1,n.state.vouchersUploaded=!0,n.state.deviceIDs=e.map((e=>e.data.guid))})).catch((function(e){n.state.vouchersUploading=!1,1===n.formValues.VoucherFiles.length?d.error(\"Failure\",e,\"Unable to upload the Ownership Voucher\"):d.error(\"Failure\",null,\"Unable to upload the Ownership Vouchers, please check the logs\")}))},n.createEndpointAndConfigureDevice=function(){return e((async()=>{n.state.actionInProgress=!0;let e=n.formValues.Suffix;for(const a of n.state.deviceIDs){let l=n.formValues.DeviceName+e;try{var t=await o.createRemoteEndpoint(l,i.PortainerEndpointCreationTypes.EdgeAgentEnvironment,n.formValues.PortainerURL,\"\",n.formValues.GroupId,n.formValues.TagIds,!1,!1,!1,null,null,null,null,!0)}catch(e){return d.error(\"Failure\",e,\"Unable to create the environment\"),void(n.state.actionInProgress=!1)}e++;const c={edgeID:t.EdgeID||r()(),edgeKey:t.EdgeKey,name:l,profile:n.formValues.DeviceProfile};try{await(0,s.e6)(a,c)}catch(e){return void d.error(\"Failure\",e,\"Unable to import device\")}finally{n.state.actionInProgress=!1}}d.success(\"Device(s) successfully imported\"),a.go(\"edge.devices\")}))},async function(){try{n.profiles=await(0,s.cp)()}catch(e){return void d.error(\"Failure\",e,\"Unable to load profiles\")}t.all({groups:l.groups()}).then((function(e){n.groups=e.groups})).catch((function(e){d.error(\"Failure\",e,\"Unable to load groups\")}))}()}])},35696:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return s}});var a=n(29274),r=n.n(a),i=n(60122);function s(e,t,n,a,r,s,o){e.formValues={name:\"\",profileFileContent:\"\"},e.state={method:\"editor\",actionInProgress:!1,isEditorDirty:!1},a.onbeforeunload=()=>{if(\"editor\"===e.state.method&&e.formValues.profileFileContent&&e.state.isEditorDirty)return\"\"},e.$on(\"$destroy\",(function(){e.state.isEditorDirty=!1})),e.onChangeFormValues=function(t){e.formValues=t},e.createProfileAsync=function(){return t((async()=>{const t=e.state.method,a=e.formValues.name,r=e.formValues.profileFileContent;if(\"editor\"===t||\"\"!==r){e.state.actionInProgress=!0;try{await(0,i.ED)(a,t,r),o.success(\"Profile successfully created\"),e.state.isEditorDirty=!1,n.go(\"portainer.settings.edgeCompute\")}catch(e){o.error(\"Failure\",e,\"Unable to create Profile\")}finally{e.state.actionInProgress=!1}}else e.state.formValidationError=\"Profile file content must not be empty\"}))},e.onChangeFileContent=function(t){e.formValues.profileFileContent=t,e.state.isEditorDirty=!0}}s.$inject=[\"$scope\",\"$async\",\"$state\",\"$window\",\"ModalService\",\"Authentication\",\"Notifications\"],r().module(\"portainer.app\").controller(\"AddProfileController\",s)},91067:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(35696);const s=n(64306);r().module(\"portainer.app\").component(\"addProfileView\",{templateUrl:s,controller:i.default})},21199:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return s}});var a=n(29274),r=n.n(a),i=n(60122);function s(e,t,n,a,r,s,o){e.formValues={name:\"\",profileFileContent:\"\"},e.state={profileID:n.params.id,method:\"editor\",actionInProgress:!1,isEditorDirty:!1},a.onbeforeunload=()=>{if(\"editor\"===e.state.method&&e.formValues.profileFileContent&&e.state.isEditorDirty)return\"\"},e.$on(\"$destroy\",(function(){e.state.isEditorDirty=!1})),e.onChangeFormValues=function(t){e.formValues=t},e.updateProfileAsync=function(){return t((async()=>{const t=e.state.method,a=e.formValues.name,r=e.formValues.profileFileContent;if(\"editor\"===t||\"\"!==r){e.state.actionInProgress=!0;try{await(0,i.ck)(e.state.profileID,a,r),o.success(\"Profile successfully updated\"),e.state.isEditorDirty=!1,n.go(\"portainer.settings.edgeCompute\")}catch(e){o.error(\"Failure\",e,\"Unable to update Profile\")}finally{e.state.actionInProgress=!1}}else e.state.formValidationError=\"Profile file content must not be empty\"}))},e.onChangeFileContent=function(t){e.formValues.profileFileContent=t,e.state.isEditorDirty=!0},async function(){t((async()=>{try{const t=await(0,i.Ai)(e.state.profileID);e.formValues={name:t.name,profileFileContent:t.fileContent},e.state.isEditorDirty=!1}catch(e){o.error(\"Failure\",e,\"Unable to retrieve profile details\")}}))}()}s.$inject=[\"$scope\",\"$async\",\"$state\",\"$window\",\"ModalService\",\"Authentication\",\"Notifications\"],r().module(\"portainer.app\").controller(\"EditProfileController\",s)},42041:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(21199);const s=n(71149);r().module(\"portainer.app\").component(\"editProfileView\",{templateUrl:s,controller:i.default})},36582:function(e,t,n){const a=n(56058);angular.module(\"portainer.app\").component(\"endpointRegistriesView\",{templateUrl:a,controller:\"EndpointRegistriesController\",bindings:{endpoint:\"<\"}})},54886:function(e,t,n){\"use strict\";n.r(t);var a=n(44716),r=n.n(a),i=n(56414);class s{constructor(e,t,n,a){this.$async=e,this.Notifications=t,this.EndpointService=n,this.Authentication=a,this.canManageAccess=this.canManageAccess.bind(this),this.canBrowse=this.canBrowse.bind(this)}canManageAccess(e){return e.Type!==i.RegistryTypes.ANONYMOUS&&this.Authentication.isAdmin()}canBrowse(e){return!r()([i.RegistryTypes.ANONYMOUS,i.RegistryTypes.DOCKERHUB,i.RegistryTypes.QUAY],e.Type)}getRegistries(){return this.$async((async()=>{try{this.registries=await this.EndpointService.registries(this.endpointId)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registries\")}}))}$onInit(){return this.$async((async()=>{this.state={viewReady:!1};try{this.endpointType=this.endpoint.Type,this.endpointId=this.endpoint.Id,await this.getRegistries()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registries\")}finally{this.state.viewReady=!0}}))}}s.$inject=[\"$async\",\"Notifications\",\"EndpointService\",\"Authentication\"],t.default=s,angular.module(\"portainer.app\").controller(\"EndpointRegistriesController\",s)},16962:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(26196);class s{constructor(e,t,n,a,r,s){this.$state=e,this.$transition$=t,this.Notifications=n,this.EndpointService=a,this.GroupService=r,this.$async=s,this.limitedFeature=i.tE.RBAC_ROLES,this.updateAccess=this.updateAccess.bind(this),this.updateAccessAsync=this.updateAccessAsync.bind(this)}async $onInit(){this.state={actionInProgress:!1};try{this.endpoint=await this.EndpointService.endpoint(this.$transition$.params().id),this.group=await this.GroupService.group(this.endpoint.GroupId)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environment information\")}}updateAccess(){return this.$async(this.updateAccessAsync)}async updateAccessAsync(){try{this.state.actionInProgress=!0,await this.EndpointService.updateEndpoint(this.$transition$.params().id,this.endpoint),this.Notifications.success(\"Access successfully updated\"),this.$state.reload(this.$state.current)}catch(e){this.state.actionInProgress=!1,this.Notifications.error(\"Failure\",e,\"Unable to update accesses\")}}}s.$inject=[\"$state\",\"$transition$\",\"Notifications\",\"EndpointService\",\"GroupService\",\"$async\"],t.default=s,r().module(\"portainer.app\").controller(\"EndpointAccessController\",s)},21448:function(e,t,n){\"use strict\";n.r(t);var a=n(74808),r=n(13853),i=n(50433),s=n(25229),o=n(52474);angular.module(\"portainer.app\").controller(\"CreateEndpointController\",[\"$async\",\"$analytics\",\"$q\",\"$scope\",\"$state\",\"$filter\",\"clipboard\",\"EndpointService\",\"GroupService\",\"SettingsService\",\"Notifications\",\"Authentication\",\"StateManager\",function(e,t,n,l,c,d,u,p,m,g,h,f,v){l.onChangeCheckInInterval=function(e){w(\"EdgeCheckinInterval\",e)},l.setFieldValue=w,l.state={EnvironmentType:c.params.isEdgeDevice?\"edge_agent\":\"agent\",PlatformType:\"linux\",actionInProgress:!1,deploymentTab:0,allowCreateTag:f.isAdmin(),isEdgeDevice:c.params.isEdgeDevice};const b=v.getState().application.version,y=(0,r.getAgentShortVersion)(b);function w(e,t){return l.$evalAsync((()=>{l.formValues={...l.formValues,[e]:t}}))}async function x(t,n,r,i,s,o,d,u,m,g,f,v,b){return e((async()=>{l.state.actionInProgress=!0;try{const e=await p.createRemoteEndpoint(t,n,r,i,s,o,d,u,m,g,f,v,b,l.state.isEdgeDevice);switch(h.success(\"Environment created\",t),e.Type){case a.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment:case a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment:c.go(\"portainer.endpoints.endpoint\",{id:e.Id});break;case a.PortainerEndpointTypes.AgentOnKubernetesEnvironment:c.go(\"portainer.k8sendpoint.kubernetesConfig\",{id:e.Id});break;default:c.go(\"portainer.endpoints\",{},{reload:!0})}return e}catch(e){h.error(\"Failure\",e,\"Unable to create environment\")}finally{l.state.actionInProgress=!1}}))}l.agentSecret=\"\",l.deployCommands={kubeLoadBalancer:`curl -L https://downloads.portainer.io/ce${y}/portainer-agent-k8s-lb.yaml -o portainer-agent-k8s.yaml; kubectl apply -f portainer-agent-k8s.yaml`,kubeNodePort:`curl -L https://downloads.portainer.io/ce${y}/portainer-agent-k8s-nodeport.yaml -o portainer-agent-k8s.yaml; kubectl apply -f portainer-agent-k8s.yaml`,agentLinux:function(e){return`\\ndocker network create \\\\\\n  --driver overlay \\\\\\n  portainer_agent_network\\n\\ndocker service create \\\\\\n  --name portainer_agent \\\\\\n  --network portainer_agent_network \\\\\\n  -p 9001:9001/tcp ${\"\"==e?\"\":`\\\\\\n  -e AGENT_SECRET=${e} `}\\\\\\n  --mode global \\\\\\n  --constraint 'node.platform.os == linux' \\\\\\n  --mount type=bind,src=//var/run/docker.sock,dst=/var/run/docker.sock \\\\\\n  --mount type=bind,src=//var/lib/docker/volumes,dst=/var/lib/docker/volumes \\\\\\n  portainer/agent:${b}\\n  `},agentWindows:function(e){return`\\ndocker network create \\\\\\n  --driver overlay \\\\\\n  portainer_agent_network && \\\\\\ndocker service create \\\\\\n  --name portainer_agent \\\\\\n  --network portainer_agent_network \\\\\\n  -p 9001:9001/tcp  ${\"\"==e?\"\":`\\\\\\n  -e AGENT_SECRET=${e} `}\\\\\\n  --mode global \\\\\\n  --constraint 'node.platform.os == windows' \\\\\\n  --mount type=npipe,src=\\\\\\\\.\\\\pipe\\\\docker_engine,dst=\\\\\\\\.\\\\pipe\\\\docker_engine \\\\\\n  --mount type=bind,src=C:\\\\ProgramData\\\\docker\\\\volumes,dst=C:\\\\ProgramData\\\\docker\\\\volumes \\\\\\n  portainer/agent:${b}\\n  `}},l.formValues={Name:\"\",URL:\"\",PublicURL:\"\",GroupId:1,SecurityFormData:new s.EndpointSecurityFormData,AzureApplicationId:\"\",AzureTenantId:\"\",AzureAuthenticationKey:\"\",TagIds:[],CheckinInterval:0},l.copyAgentCommand=function(){let e=\"\";e=2===l.state.deploymentTab&&\"linux\"===l.state.PlatformType?l.deployCommands.agentLinux(l.agentSecret):2===l.state.deploymentTab&&\"windows\"===l.state.PlatformType?l.deployCommands.agentWindows(l.agentSecret):1===l.state.deploymentTab?l.deployCommands.kubeNodePort:l.deployCommands.kubeLoadBalancer,u.copyText(e.trim()),o(\"#copyNotification\").show().fadeOut(2500)},l.setDefaultPortainerInstanceURL=function(){let e;if(window.location.origin.startsWith(\"http\")){const t=\"/\"!==(0,i.baseHref)()?t:\"\";e=`${window.location.origin}${t}`}else e=(0,i.baseHref)().replace(/\\/$/,\"\");l.formValues.URL=e},l.resetEndpointURL=function(){l.formValues.URL=\"\"},l.onChangeTags=function(e){return l.$evalAsync((()=>{l.formValues.TagIds=e}))},l.addDockerEndpoint=function(){var e=l.formValues.Name,t=d(\"stripprotocol\")(l.formValues.URL),n=l.formValues.PublicURL,r=l.formValues.GroupId,i=l.formValues.TagIds;if(l.formValues.ConnectSocket)t=l.formValues.SocketPath,l.state.actionInProgress=!0,p.createLocalEndpoint(e,t,n,r,i).then((function(){h.success(\"Environment created\",e),c.go(\"portainer.endpoints\",{},{reload:!0})})).catch((function(e){h.error(\"Failure\",e,\"Unable to create environment\")})).finally((function(){l.state.actionInProgress=!1}));else{\"\"===n&&(n=t.split(\":\")[0]);var s=l.formValues.SecurityFormData,o=s.TLS,u=s.TLSMode,m=o&&(\"tls_client_noca\"===u||\"tls_only\"===u),g=o&&(\"tls_ca\"===u||\"tls_only\"===u),f=m?null:s.TLSCACert,v=g?null:s.TLSCert,b=g?null:s.TLSKey;x(e,a.PortainerEndpointCreationTypes.LocalDockerEnvironment,t,n,r,i,o,m,g,f,v,b)}},l.addKubernetesEndpoint=function(){var e=l.formValues.Name,t=l.formValues.TagIds;l.state.actionInProgress=!0,p.createLocalKubernetesEndpoint(e,t).then((function(t){h.success(\"Environment created\",e),c.go(\"portainer.k8sendpoint.kubernetesConfig\",{id:t.Id})})).catch((function(e){h.error(\"Failure\",e,\"Unable to create environment\")})).finally((function(){l.state.actionInProgress=!1}))},l.addAgentEndpoint=async function(){return e((async()=>{const e=l.formValues.Name,r=l.formValues.URL,i=\"\"===l.formValues.PublicURL?r.split(\":\")[0]:l.formValues.PublicURL,s=l.formValues.GroupId,o=l.formValues.TagIds,c=await x(e,a.PortainerEndpointCreationTypes.AgentEnvironment,r,i,s,o,!0,!0,!0,null,null,null);t.eventTrack(\"portainer-endpoint-creation\",{category:\"portainer\",metadata:{type:\"agent\",platform:n(c.Type)}})}));function n(e){switch(e){case a.PortainerEndpointTypes.DockerEnvironment:case a.PortainerEndpointTypes.AgentOnDockerEnvironment:case a.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment:return\"docker\";case a.PortainerEndpointTypes.KubernetesLocalEnvironment:case a.PortainerEndpointTypes.AgentOnKubernetesEnvironment:case a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment:return\"kubernetes\"}}},l.addEdgeAgentEndpoint=function(){var e=l.formValues.Name,t=l.formValues.GroupId,n=l.formValues.TagIds,r=l.formValues.URL;x(e,a.PortainerEndpointCreationTypes.EdgeAgentEnvironment,r,\"\",t,n,!1,!1,!1,null,null,null,l.formValues.CheckinInterval)},l.addAzureEndpoint=function(){var e,t,n,a,r,i;e=l.formValues.Name,t=l.formValues.AzureApplicationId,n=l.formValues.AzureTenantId,a=l.formValues.AzureAuthenticationKey,r=l.formValues.GroupId,i=l.formValues.TagIds,l.state.actionInProgress=!0,p.createAzureEndpoint(e,t,n,a,r,i).then((function(){h.success(\"Environment created\",e),c.go(\"portainer.endpoints\",{},{reload:!0})})).catch((function(e){h.error(\"Failure\",e,\"Unable to create environment\")})).finally((function(){l.state.actionInProgress=!1}))},n.all({groups:m.groups(),settings:g.settings()}).then((function(e){l.groups=e.groups;const t=e.settings;l.agentSecret=t.AgentSecret})).catch((function(e){h.error(\"Failure\",e,\"Unable to load groups\")}))}])},80418:function(e,t,n){\"use strict\";n.r(t);var a=n(17465),r=n.n(a),i=n(65491),s=n.n(i),o=n(20810),l=n.n(o),c=n(15964),d=n.n(c),u=n(74808),p=n(25229),m=n(70589),g=n(76827),h=n(46980),f=n(57941),v=n(32858),b=n(52474);function y(e,t,n,a,i,o,c,y,w,x,S,C){function k(e,n){return t.$evalAsync((()=>{t.endpoint={...t.endpoint,[e]:n}}))}function $(e){t.endpoint.ManagementInfo.AMT=e,t.endpoint.ManagementInfo.UUID=\"-\",t.endpoint.ManagementInfo[\"Control Mode\"]=\"-\",t.endpoint.ManagementInfo[\"Build Number\"]=\"-\",t.endpoint.ManagementInfo[\"DNS Suffix\"]=\"-\"}t.onChangeCheckInInterval=function(e){k(\"EdgeCheckinInterval\",e)},t.setFieldValue=k,t.onChangeTags=function(e){k(\"TagIds\",e)},t.state={uploadInProgress:!1,actionInProgress:!1,azureEndpoint:!1,kubernetesEndpoint:!1,agentEndpoint:!1,edgeEndpoint:!1,edgeAssociated:!1,allowCreate:x.isAdmin(),allowSelfSignedCerts:!0,showAMTInfo:!1,showNomad:!1,edgeScriptCommands:{linux:l()([v.dP.k8sLinux,v.dP.swarmLinux,v.dP.standaloneLinux,!1]),win:[v.dP.swarmWindows,v.dP.standaloneWindow]}},t.formValues={SecurityFormData:new p.EndpointSecurityFormData},t.copyEdgeAgentKey=function(){o.copyText(t.endpoint.EdgeKey),b(\"#copyNotificationEdgeKey\").show().fadeOut(2500)},t.onToggleAllowSelfSignedCerts=function(e){return t.$evalAsync((()=>{t.state.allowSelfSignedCerts=e}))},t.onDisassociateEndpoint=async function(){C.confirmDisassociate((e=>{e&&async function(){var e=t.endpoint;try{t.state.actionInProgress=!0,await c.disassociateEndpoint(e.Id),w.success(\"Environment disassociated\",t.endpoint.Name),n.reload()}catch(e){w.error(\"Failure\",e,\"Unable to disassociate environment\")}finally{t.state.actionInProgress=!1}}()}))},t.updateEndpoint=async function(){var e=t.endpoint,a=t.formValues.SecurityFormData,r=a.TLS,i=a.TLSMode,o=r&&(\"tls_client_noca\"===i||\"tls_only\"===i),l=r&&(\"tls_ca\"===i||\"tls_only\"===i);if(!((0,f.Mq)(e.Type)&&s()(t.initialTagIds,e.TagIds).length>0)||await(0,h.l9)({title:\"Confirm action\",message:\"Removing tags from this environment will remove the corresponding edge stacks when dynamic grouping is being used\",buttons:{cancel:{label:\"Cancel\",className:\"btn-default\"},confirm:{label:\"Confirm\",className:\"btn-primary\"}}})){var d={Name:e.Name,PublicURL:e.PublicURL,GroupID:e.GroupId,TagIds:e.TagIds,TLS:r,TLSSkipVerify:o,TLSSkipClientVerify:l,TLSCACert:o||a.TLSCACert===e.TLSConfig.TLSCACert?null:a.TLSCACert,TLSCert:l||a.TLSCert===e.TLSConfig.TLSCert?null:a.TLSCert,TLSKey:l||a.TLSKey===e.TLSConfig.TLSKey?null:a.TLSKey,AzureApplicationID:e.AzureCredentials.ApplicationID,AzureTenantID:e.AzureCredentials.TenantID,AzureAuthenticationKey:e.AzureCredentials.AuthenticationKey,EdgeCheckinInterval:e.EdgeCheckinInterval};\"local\"!==t.endpointType&&e.Type!==u.PortainerEndpointTypes.AzureEnvironment&&e.Type!==u.PortainerEndpointTypes.KubernetesLocalEnvironment&&e.Type!==u.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&(d.URL=\"tcp://\"+e.URL),e.Type===u.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&(d.URL=e.URL),e.Type===u.PortainerEndpointTypes.KubernetesLocalEnvironment&&(d.URL=\"https://\"+e.URL),t.state.actionInProgress=!0,c.updateEndpoint(e.Id,d).then((function(){w.success(\"Environment updated\",t.endpoint.Name),n.go(\"portainer.endpoints\",{},{reload:!0})}),(function(e){w.error(\"Failure\",e,\"Unable to update environment\"),t.state.actionInProgress=!1}),(function(e){e.upload&&(t.state.uploadInProgress=e.upload)}))}},async function(){e((async()=>{try{const[e,n,s]=await Promise.all([c.endpoint(a.params().id),y.groups(),S.settings()]);0===e.URL.indexOf(\"unix://\")||0===e.URL.indexOf(\"npipe://\")?t.endpointType=\"local\":t.endpointType=\"remote\",e.URL=i(\"stripprotocol\")(e.URL),e.Type!==u.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&e.Type!==u.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(t.edgeKeyDetails=function(e){let t={};if(\"\"===e)return t;let n=r()(atob(e),\"|\");return t.instanceURL=n[0],t.tunnelServerAddr=n[1],t}(e.EdgeKey),t.state.edgeAssociated=!!e.EdgeID,e.EdgeID=e.EdgeID||d()()),t.endpoint=e,t.initialTagIds=e.TagIds.slice(),t.groups=n,t.endpoint.Type!==u.PortainerEndpointTypes.KubernetesLocalEnvironment&&t.endpoint.Type!==u.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&t.endpoint.Type!==u.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(t.state.kubernetesEndpoint=!0),t.endpoint.Type!==u.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&t.endpoint.Type!==u.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(t.state.edgeEndpoint=!0),t.endpoint.Type===u.PortainerEndpointTypes.AzureEnvironment&&(t.state.azureEndpoint=!0),t.endpoint.Type!==u.PortainerEndpointTypes.AgentOnDockerEnvironment&&t.endpoint.Type!==u.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&t.endpoint.Type!==u.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&t.endpoint.Type!==u.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(t.state.agentEndpoint=!0),m.default.isDockerEndpoint(e)&&t.state.edgeAssociated&&(t.state.showAMTInfo=s&&s.openAMTConfiguration&&s.openAMTConfiguration.enabled)}catch(e){w.error(\"Failure\",e,\"Unable to retrieve environment details\")}if(t.state.showAMTInfo)try{t.endpoint.ManagementInfo={};const e=await(0,g.eX)(n.params.id);try{t.endpoint.ManagementInfo=JSON.parse(e.RawOutput)}catch(t){$(e.RawOutput)}}catch(e){$(\"Unable to retrieve AMT environment details\")}}))}()}y.$inject=[\"$async\",\"$scope\",\"$state\",\"$transition$\",\"$filter\",\"clipboard\",\"EndpointService\",\"GroupService\",\"Notifications\",\"Authentication\",\"SettingsService\",\"ModalService\"],angular.module(\"portainer.app\").controller(\"EndpointController\",y)},81881:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(70589);function s(e,t,n,a,r,s,o,l,c,d){async function u(e){for(let t of e)try{await r.deleteEndpoint(t.Id),l.success(\"Environment successfully removed\",t.Name)}catch(e){l.error(\"Failure\",e,\"Unable to remove environment\")}const a=c.endpointID();e.some((e=>e.Id===a))&&(d.cleanEndpoint(),t.applicationState.endpoint={}),n.reload()}t.state={loadingMessage:\"\"},t.setLoadingMessage=function(e){t.state.loadingMessage=e},t.removeAction=function(e){o.confirmDeletion(\"This action will remove all configurations associated to your environment(s). Continue?\",(t=>{if(t)return a(u,e)}))},t.getPaginatedEndpoints=function(t,n,a){const o=e.defer();return e.all({endpoints:r.endpoints(t,n,{search:a}),groups:s.groups()}).then((function(e){var t=e.endpoints.value,n=e.groups;i.default.mapGroupNameToEndpoint(t,n),o.resolve({endpoints:t,totalCount:e.endpoints.totalCount})})).catch((function(e){l.error(\"Failure\",e,\"Unable to retrieve environment information\")})),o.promise}}s.$inject=[\"$q\",\"$scope\",\"$state\",\"$async\",\"EndpointService\",\"GroupService\",\"ModalService\",\"Notifications\",\"EndpointProvider\",\"StateManager\"],r().module(\"portainer.app\").controller(\"EndpointsController\",s)},13853:function(e,t,n){\"use strict\";function a(e){const t=e.split(\".\");return t[0]+\"-\"+t[1]}n.r(t),n.d(t,{getAgentShortVersion:function(){return a}})},58118:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(76827);class s{constructor(e,t,n,a,r,i){this.$state=e,this.$scope=t,this.$async=n,this.$transition$=a,this.Notifications=i,this.EndpointService=r,this.$state.maximized=!1,this.$state.endpointId=a.params().id,this.$state.deviceId=a.params().deviceId,this.$state.deviceName=a.params().deviceName,t.maximize=function(){this.$state.maximized=!0},t.minimize=function(){this.$state.maximized=!1}}async $onInit(){this.$async((async()=>{try{this.$state.endpoint=await this.EndpointService.endpoint(this.$state.endpointId)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environment information\")}try{const e={ider:!0,kvm:!0,sol:!0,redirection:!0,userConsent:\"none\"},t=await(0,i.xv)(this.$state.endpointId,this.$state.deviceId,e);this.$state.mpsServer=t.Server,this.$state.mpsToken=t.Token}catch(e){this.Notifications.error(\"Failure\",e,\"Failed to load kvm for device\")}}))}}s.$inject=[\"$state\",\"$scope\",\"$async\",\"$transition$\",\"EndpointService\",\"Notifications\"],t.default=s,r().module(\"portainer.app\").controller(\"EndpointKVMController\",s)},63824:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(91602),s=n(66960),o=n(2629),l=(0,s.F)((function(e){var t=e.deviceId,n=e.server,a=e.token;return t&&n&&a?(0,o.jsx)(i.KVM,{deviceId:t,mpsServer:\"https://\".concat(n,\"/mps/ws/relay\"),authToken:a,mouseDebounceTime:\"200\",canvasHeight:\"100%\",canvasWidth:\"100%\"}):(0,o.jsx)(\"div\",{children:\"Loading...\"})}),[\"deviceId\",\"server\",\"token\"]);r().module(\"portainer.app\").component(\"kvmControl\",l).name},79405:function(e,t,n){\"use strict\";n.r(t);var a=n(26196);angular.module(\"portainer.app\").controller(\"GroupAccessController\",[\"$scope\",\"$state\",\"$transition$\",\"GroupService\",\"Notifications\",function(e,t,n,r,i){var s;e.limitedFeature=a.tE.RBAC_ROLES,e.updateAccess=function(){e.state.actionInProgress=!0,r.updateGroup(e.group,e.group.AssociatedEndpoints).then((()=>{i.success(\"Access successfully updated\"),t.reload()})).catch((t=>{e.state.actionInProgress=!1,i.error(\"Failure\",t,\"Unable to update accesses\")}))},s=n.params().id,e.state={actionInProgress:!1},r.group(s).then((function(t){e.group=t})).catch((function(e){i.error(\"Failure\",e,\"Unable to load view\")}))}])},7249:function(e,t,n){\"use strict\";n.r(t);var a=n(79607);angular.module(\"portainer.app\").controller(\"CreateGroupController\",[\"$async\",\"$scope\",\"$state\",\"GroupService\",\"Notifications\",function(e,t,n,r,i){t.state={actionInProgress:!1},t.create=function(){for(var e=t.model,a=[],s=0;s<t.associatedEndpoints.length;s++){var o=t.associatedEndpoints[s];a.push(o.Id)}t.state.actionInProgress=!0,r.createGroup(e,a).then((function(){i.success(\"Group successfully created\"),n.go(\"portainer.groups\",{},{reload:!0})})).catch((function(e){i.error(\"Failure\",e,\"Unable to create group\")})).finally((function(){t.state.actionInProgress=!1}))},t.associatedEndpoints=[],t.model=new a.EndpointGroupDefaultModel,t.loaded=!0}])},9149:function(){angular.module(\"portainer.app\").controller(\"GroupController\",[\"$q\",\"$scope\",\"$state\",\"$transition$\",\"GroupService\",\"Notifications\",function(e,t,n,a,r,i){var s;t.state={actionInProgress:!1},t.update=function(){var e=t.group;t.state.actionInProgress=!0,r.updateGroup(e).then((function(){i.success(\"Group successfully updated\"),n.go(\"portainer.groups\",{},{reload:!0})})).catch((function(e){i.error(\"Failure\",e,\"Unable to update group\")})).finally((function(){t.state.actionInProgress=!1}))},s=a.params().id,e.all({group:r.group(s)}).then((function(e){t.group=e.group,t.loaded=!0})).catch((function(e){i.error(\"Failure\",e,\"Unable to load group details\")}))}])},60160:function(e,t,n){\"use strict\";n.r(t);var a=n(71204),r=n.n(a),i=n(29274),s=n.n(i);function o(e,t,n,a,i){async function s(n){for(let t of n)try{await a.deleteGroup(t.Id),i.success(\"Environment group successfully removed\",t.Name),r()(e.groups,t)}catch(e){i.error(\"Failure\",e,\"Unable to remove group\")}t.reload()}e.removeAction=function(e){return n(s,e)},a.groups().then((function(t){e.groups=t})).catch((function(t){i.error(\"Failure\",t,\"Unable to retrieve environment groups\"),e.groups=[]}))}o.$inject=[\"$scope\",\"$state\",\"$async\",\"GroupService\",\"Notifications\"],s().module(\"portainer.app\").controller(\"GroupsController\",o)},66246:function(){function e(e=0){return new Promise((t=>setTimeout(t,1e3*e)))}angular.module(\"portainer.app\").controller(\"InitAdminController\",[\"$scope\",\"$state\",\"Notifications\",\"Authentication\",\"StateManager\",\"SettingsService\",\"UserService\",\"EndpointService\",\"BackupService\",\"StatusService\",function(t,n,a,r,i,s,o,l,c,d){function u(e){if(303===e.status){const t=e.headers(),n=\"AdminInitTimeout\";t&&t[\"redirect-reason\"]===n&&(window.location.href=\"/timeout.html\")}}t.uploadBackup=async function(){t.state.backupInProgress=!0;const r=t.formValues.BackupFile,i=t.formValues.Password;!async function(s){t.state.backupInProgress=!0;try{await c.uploadBackup(r,i)}catch(e){return u(e),a.error(\"Failure\",e,\"Unable to restore the backup\"),void(t.state.backupInProgress=!1)}try{await async function(){for(let t=0;t<10;t++){await e(5);try{const e=await d.status();if(e&&e.Version)return}catch(e){}}throw new Error(\"Timeout to wait for Portainer restarting\")}(),a.success(\"The backup has successfully been restored\"),n.go(\"portainer.auth\")}catch(t){u(t),a.error(\"Failure\",t,\"Unable to check for status\"),await e(2),location.reload()}t.state.backupInProgress=!1}()},t.logo=i.getState().application.logo,t.formValues={Username:\"admin\",Password:\"\",ConfirmPassword:\"\",enableTelemetry:!0},t.state={actionInProgress:!1,showInitPassword:!0,showRestorePortainer:!1},s.publicSettings().then((function(e){t.requiredPasswordLength=e.RequiredPasswordLength})).catch((function(e){a.error(\"Failure\",e,\"Unable to retrieve application settings\")})),o.administratorExists().then((function(e){e&&n.go(\"portainer.wizard\")})).catch((function(e){a.error(\"Failure\",e,\"Unable to verify administrator account existence\")})),t.togglePanel=function(){t.state.showInitPassword=!t.state.showInitPassword,t.state.showRestorePortainer=!t.state.showRestorePortainer},t.createAdminUser=function(){var e=t.formValues.Username,c=t.formValues.Password;t.state.actionInProgress=!0,o.initAdministrator(e,c).then((function(){return r.login(e,c)})).then((function(){return s.update({enableTelemetry:t.formValues.enableTelemetry})})).then((()=>i.initialize())).then((function(){return l.endpoints(0,100)})).then((function(e){0===e.value.length?n.go(\"portainer.wizard\"):n.go(\"portainer.home\")})).catch((function(e){u(e),a.error(\"Failure\",e,\"Unable to create administrator user\")})).finally((function(){t.state.actionInProgress=!1}))}}])},88611:function(e,t,n){\"use strict\";n.r(t);var a=n(4622),r=n.n(a),i=n(29274),s=n.n(i),o=n(690),l=n(74808);n(31714),n(6367),n(65535);class c{constructor(e,t,n,a,r,i){this.$async=e,this.$scope=t,this.$state=n,this.EndpointService=a,this.StateManager=r,this.Notifications=i,this.createLocalEndpointAsync=this.createLocalEndpointAsync.bind(this),this.createLocalKubernetesEndpointAsync=this.createLocalKubernetesEndpointAsync.bind(this),this.createAgentEndpointAsync=this.createAgentEndpointAsync.bind(this)}$onInit(){r()(this.$scope.applicationState.endpoint)||this.$state.go(\"portainer.home\"),this.logo=this.StateManager.getState().application.logo,this.state={uploadInProgress:!1,actionInProgress:!1},this.formValues=new o.PortainerEndpointInitFormValues,this.endpointSections=o.PortainerEndpointInitFormValueEndpointSections,this.PortainerEndpointConnectionTypes=l.PortainerEndpointConnectionTypes}isConnectButtonDisabled(){switch(this.formValues.ConnectionType){case l.PortainerEndpointConnectionTypes.DOCKER_LOCAL:case l.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL:return this.state.actionInProgress;case l.PortainerEndpointConnectionTypes.AGENT:return this.state.actionInProgress||!this.formValues.Name||!this.formValues.URL}}createEndpoint(){switch(this.formValues.ConnectionType){case l.PortainerEndpointConnectionTypes.DOCKER_LOCAL:return this.createLocalEndpoint();case l.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL:return this.createLocalKubernetesEndpoint();case l.PortainerEndpointConnectionTypes.AGENT:return this.createAgentEndpoint();default:this.Notifications.error(\"Failure\",null,\"Unable to determine which action to do to create environment\")}}skipEndpointCreation(){this.$state.go(\"portainer.home\")}async createLocalEndpointAsync(){try{this.state.actionInProgress=!0,await this.EndpointService.createLocalEndpoint(),this.$state.go(\"portainer.home\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to connect to the Docker environment\")}finally{this.state.actionInProgress=!1}}createLocalEndpoint(){return this.$async(this.createLocalEndpointAsync)}async createLocalKubernetesEndpointAsync(){try{this.state.actionInProgress=!0;const e=await this.EndpointService.createLocalKubernetesEndpoint();this.$state.go(\"portainer.k8sendpoint.kubernetesConfig\",{id:e.Id})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to connect to the Kubernetes environment\")}finally{this.state.actionInProgress=!1}}createLocalKubernetesEndpoint(){return this.$async(this.createLocalKubernetesEndpointAsync)}async createAgentEndpointAsync(){try{this.state.actionInProgress=!0;const e=this.formValues.Name,t=this.formValues.URL,n=t.split(\":\")[0],a=await this.EndpointService.createRemoteEndpoint(e,l.PortainerEndpointCreationTypes.AgentEnvironment,t,n,1,[],!0,!0,!0,null,null,null),r=a.Type===l.PortainerEndpointTypes.AgentOnKubernetesEnvironment?\"portainer.k8sendpoint.kubernetesConfig\":\"portainer.home\";this.$state.go(r,{id:a.Id})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to connect to the Docker environment\")}finally{this.state.actionInProgress=!1}}createAgentEndpoint(){return this.$async(this.createAgentEndpointAsync)}}c.$inject=[\"$async\",\"$scope\",\"$state\",\"EndpointService\",\"StateManager\",\"Notifications\"],t.default=c,s().module(\"portainer.app\").controller(\"InitEndpointController\",c)},95580:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);class i{constructor(e,t,n,a,r,i,s,o,l){this.$async=e,this.$state=t,this.$transition$=n,this.$window=a,this.Authentication=r,this.StateManager=i,this.Notifications=s,this.LocalStorage=o,this.SettingsService=l,this.logo=this.StateManager.getState().application.logo,this.logoutAsync=this.logoutAsync.bind(this),this.onInit=this.onInit.bind(this)}async logoutAsync(){const e=this.$transition$.params().error,t=this.$transition$.params().performApiLogout,n=await this.SettingsService.publicSettings();try{await this.Authentication.logout(t)}finally{this.LocalStorage.storeLogoutReason(e),n.OAuthLogoutURI&&1!==this.Authentication.getUserDetails().ID?this.$window.location.href=n.OAuthLogoutURI:this.$state.go(\"portainer.auth\",{reload:!0})}}logout(){return this.$async(this.logoutAsync)}async onInit(){try{await this.logout()}catch(e){this.Notifications.error(\"Failure\",e,\"An error occured during logout\")}}$onInit(){return this.$async(this.onInit)}}i.$inject=[\"$async\",\"$state\",\"$transition$\",\"$window\",\"Authentication\",\"StateManager\",\"Notifications\",\"LocalStorage\",\"SettingsService\"],t.default=i,r().module(\"portainer.app\").controller(\"LogoutController\",i)},85274:function(){angular.module(\"portainer.app\").controller(\"MainController\",[\"$scope\",\"LocalStorage\",\"StateManager\",\"EndpointProvider\",\"ThemeManager\",function(e,t,n,a,r){e.getWidth=function(){return window.innerWidth},e.applicationState=n.getState(),e.endpointState=a.endpoint(),e.$watch(e.getWidth,(function(n){if(n>=992){const n=t.getToolbarToggle();e.toggle=\"boolean\"==typeof n?n:!window.ddExtension}else e.toggle=!1})),e.toggleSidebar=function(){e.toggle=!e.toggle,t.storeToolbarToggle(e.toggle)},window.onresize=function(){e.$apply()},r.autoTheme()}])},38910:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(83137);const s=n(83827);r().module(\"portainer.app\").component(\"createRegistry\",{templateUrl:s,controller:i.default,bindings:{$transition$:\"<\"}})},83137:function(e,t,n){\"use strict\";n.r(t);var a=n(66539),r=n.n(a),i=n(44716),s=n.n(i),o=n(56414),l=n(33180);class c{constructor(e,t,n,a,r){Object.assign(this,{$async:e,$state:t,Notifications:n,RegistryService:a,RegistryGitlabService:r}),this.RegistryTypes=o.RegistryTypes,this.state={actionInProgress:!1,overrideConfiguration:!1,gitlab:{get selectedItemCount(){return this.selectedItems.length||0},selectedItems:[]},originViewReference:\"portainer.registries\",originalEndpointId:null},this.createRegistry=this.createRegistry.bind(this),this.getRegistries=this.getRegistries.bind(this),this.nameIsUsed=this.nameIsUsed.bind(this),this.retrieveGitlabRegistries=this.retrieveGitlabRegistries.bind(this),this.createGitlabRegistries=this.createGitlabRegistries.bind(this)}useDefaultQuayConfiguration(){this.model.Quay.useOrganisation=!1,this.model.Quay.organisationName=\"\"}selectQuayRegistry(){this.model.Name=\"Quay\",this.model.URL=\"quay.io\",this.model.Authentication=!0,this.model.Quay={},this.useDefaultQuayConfiguration()}useDefaultGitlabConfiguration(){this.model.URL=\"https://registry.gitlab.com\",this.model.Gitlab.InstanceURL=\"https://gitlab.com\"}selectGitlabRegistry(){this.model.Name=\"\",this.model.Authentication=!0,this.model.Gitlab={},this.useDefaultGitlabConfiguration()}selectAzureRegistry(){this.model.Name=\"\",this.model.URL=\"\",this.model.Authentication=!0}selectProGetRegistry(){this.model.Name=\"\",this.model.URL=\"\",this.model.BaseURL=\"\",this.model.Authentication=!0}selectCustomRegistry(){this.model.Name=\"\",this.model.URL=\"\",this.model.Authentication=!1}selectDockerHub(){this.model.Name=\"\",this.model.URL=\"docker.io\",this.model.Authentication=!0}useDefaultEcrConfiguration(){this.model.Ecr.Region=\"\"}selectEcr(){this.model.Name=\"\",this.model.URL=\"\",this.model.Authentication=!1,this.model.Ecr={},this.useDefaultEcrConfiguration()}retrieveGitlabRegistries(){return this.$async((async()=>{this.state.actionInProgress=!0;try{this.gitlabProjects=await this.RegistryGitlabService.projects(this.model.Gitlab.InstanceURL,this.model.Token)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve projects\")}finally{this.state.actionInProgress=!1}}))}createGitlabRegistries(){return this.$async((async()=>{try{this.state.actionInProgress=!0,await this.RegistryService.createGitlabRegistries(this.model,this.state.gitlab.selectedItems),this.Notifications.success(\"Registries successfully created\"),this.$state.go(this.state.originViewReference,{endpointId:this.state.originalEndpointId})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create registries\"),this.state.actionInProgress=!1}}))}createRegistry(){return this.$async((async()=>{try{this.state.actionInProgress=!0,await this.RegistryService.createRegistry(this.model),this.Notifications.success(\"Registry successfully created\"),this.$state.go(this.state.originViewReference,{endpointId:this.state.originalEndpointId})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create registry\"),this.state.actionInProgress=!1}}))}nameIsUsed(e){return s()(this.registriesNames,e)}getRegistries(){return this.$async((async()=>{try{const e=await this.RegistryService.registries();this.registriesNames=r()(e,\"Name\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to fetch existing registries\")}}))}$onInit(){return this.$async((async()=>{this.model=new l.RegistryCreateFormValues;const e=this.$transition$.from(),t=this.$transition$.params(\"from\");e.name&&/^[a-z]+\\.registries$/.test(e.name)&&(this.state.originViewReference=e,this.state.originalEndpointId=t.endpointId||null),await this.getRegistries()}))}}c.$inject=[\"$async\",\"$state\",\"Notifications\",\"RegistryService\",\"RegistryGitlabService\"],t.default=c},74927:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(66146);const s=n(2800);r().module(\"portainer.app\").component(\"editRegistry\",{templateUrl:s,controller:i.default,bindings:{$transition$:\"<\"}})},66146:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return d}});var a=n(66539),r=n.n(a),i=n(75569),s=n.n(i),o=n(44716),l=n.n(o),c=n(56414);class d{constructor(e,t,n,a){Object.assign(this,{$async:e,$state:t,RegistryService:n,Notifications:a}),this.RegistryTypes=c.RegistryTypes,this.state={actionInProgress:!1,loading:!1},this.formValues={Password:\"\"}}passwordLabel(){switch(this.registry.Type){case c.RegistryTypes.ECR:return\"AWS Secret Access Key\";case c.RegistryTypes.DOCKERHUB:return\"Access token\";default:return\"Password\"}}updateRegistry(){return this.$async((async()=>{try{this.state.actionInProgress=!0;const e=this.registry;e.Password=this.formValues.Password,e.Name=this.formValues.Name,await this.RegistryService.updateRegistry(e),this.Notifications.success(\"Registry successfully updated\"),this.$state.go(\"portainer.registries\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update registry\")}finally{this.state.actionInProgress=!1}}))}onChangeName(){this.state.nameAlreadyExists=l()(this.registriesNames,this.formValues.Name)}isUpdateButtonDisabled(){return this.state.actionInProgress||this.state.nameAlreadyExists||!this.registry.Name||!this.registry.URL||this.registry.Type==this.RegistryTypes.QUAY&&this.registry.Quay.UseOrganisation&&!this.registry.Quay.OrganisationName}async $onInit(){try{this.state.loading=!0;const e=this.$state.params.id,t=await this.RegistryService.registry(e);this.registry=t,this.formValues.Name=t.Name;const n=await this.RegistryService.registries();s()(n,[t],\"Id\"),this.registriesNames=r()(n,\"Name\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registry details\")}finally{this.state.loading=!1}}}d.$inject=[\"$async\",\"$state\",\"RegistryService\",\"Notifications\"]},6009:function(e,t,n){\"use strict\";n.r(t);var a=n(44716),r=n.n(a),i=n(56414);angular.module(\"portainer.app\").controller(\"RegistriesController\",[\"$q\",\"$scope\",\"$state\",\"RegistryService\",\"ModalService\",\"Notifications\",function(e,t,n,a,s,o){t.state={actionInProgress:!1};const l=[i.RegistryTypes.ANONYMOUS,i.RegistryTypes.DOCKERHUB,i.RegistryTypes.QUAY];t.canBrowse=function(e){return!r()(l,e.Type)},t.removeAction=function(e){const r=e.length>1?\"hese\":\"his\",i=e.length>1?\"registries\":\"registry\",l=`T${r} ${i} might be used by applications inside one or more environments. Removing the ${i} could lead to a service interruption for the applications using t${r} ${i}. Do you want to remove the selected ${i}?`;s.confirmDeletion(l,(function(r){r&&function(e){var r=e.length;angular.forEach(e,(function(e){a.deleteRegistry(e.Id).then((function(){o.success(\"Registry successfully removed\",e.Name);var n=t.registries.indexOf(e);t.registries.splice(n,1)})).catch((function(e){o.error(\"Failure\",e,\"Unable to remove registry\")})).finally((function(){0==--r&&n.reload()}))}))}(e)}))},e.all({registries:a.registries()}).then((function(e){t.registries=e.registries})).catch((function(e){t.registries=[],o.error(\"Failure\",e,\"Unable to retrieve registries\")}))}])},39066:function(e,t,n){\"use strict\";n.r(t);var a=n(20810),r=n.n(a),i=n(29274),s=n.n(i),o=n(26196),l=n(54512);function c(e,t,n,a,i,c,d,u){function p(){const e=t.formValues.TLSCACert,n=e!==t.settings.LDAPSettings.TLSConfig.TLSCACert?e:null,a=2===t.formValues.ldap.serverType,r=a?t.formValues.ldap.adSettings:t.formValues.ldap.ldapSettings;r.AnonymousMode&&!a&&(r.ReaderDN=\"\",r.Password=\"\"),a&&(r.AnonymousMode=!1),r.URLs=r.URLs.map((e=>e.includes(\":\")?e:e+(r.TLSConfig.TLS?\":636\":\":389\")));const i=(r.TLSConfig.TLS||r.StartTLS)&&!r.TLSConfig.TLSSkipVerify;return r.URL=r.URLs[0],{settings:r,uploadRequired:i,tlscaFile:n}}t.authMethod=1,t.state={uploadInProgress:!1,actionInProgress:!1,availableUserSessionTimeoutOptions:[{key:\"1 hour\",value:\"1h\"},{key:\"4 hours\",value:\"4h\"},{key:\"8 hours\",value:\"8h\"},{key:\"24 hours\",value:\"24h\"},{key:\"1 week\",value:\"168h\"},{key:\"1 month\",value:\"720h\"},{key:\"6 months\",value:\"4320h\"},{key:\"1 year\",value:\"8640h\"}]},t.formValues={UserSessionTimeout:t.state.availableUserSessionTimeoutOptions[0],TLSCACert:\"\",ldap:{serverType:0,adSettings:(0,l.buildAdSettingsModel)(),ldapSettings:(0,l.buildLdapSettingsModel)()}},t.authOptions=[{id:\"auth_internal\",icon:\"fa fa-users\",label:\"Internal\",description:\"Internal authentication mechanism\",value:1},{id:\"auth_ldap\",icon:\"fa fa-users\",label:\"LDAP\",description:\"LDAP authentication\",value:2},{id:\"auth_ad\",icon:\"fab fa-microsoft\",label:\"Microsoft Active Directory\",description:\"AD authentication\",value:4,feature:o.tE.HIDE_INTERNAL_AUTH},{id:\"auth_oauth\",icon:\"fa fa-users\",label:\"OAuth\",description:\"OAuth authentication\",value:3}],t.onChangeAuthMethod=function(e){return t.authMethod=e,4===e?(t.settings.AuthenticationMethod=2,void(t.formValues.ldap.serverType=2)):2===e?(t.settings.AuthenticationMethod=2,void(t.formValues.ldap.serverType=t.formValues.ldap.ldapSettings.ServerType)):void(t.settings.AuthenticationMethod=e)},t.onChangePasswordLength=function(e){t.$evalAsync((()=>{t.settings.InternalAuthSettings={RequiredPasswordLength:e}}))},t.authenticationMethodSelected=function(e){return!!t.settings&&(4===e?2===t.settings.AuthenticationMethod&&2===t.formValues.ldap.serverType:2===e?2===t.settings.AuthenticationMethod&&2!==t.formValues.ldap.serverType:t.settings.AuthenticationMethod===e)},t.isOauthEnabled=function(){return t.settings&&3===t.settings.AuthenticationMethod},t.LDAPConnectivityCheck=function(){const n=s().copy(t.settings),{settings:r,uploadRequired:i,tlscaFile:o}=p();n.LDAPSettings=r,t.state.uploadInProgress=i,t.state.connectivityCheckInProgress=!0,e.when(!i||c.uploadLDAPTLSFiles(o,null,null)).then((function(){return u.check(n.LDAPSettings)})).then((function(){t.state.failedConnectivityCheck=!1,t.state.successfulConnectivityCheck=!0,a.success(\"Connection to LDAP successful\")})).catch((function(e){t.state.failedConnectivityCheck=!0,t.state.successfulConnectivityCheck=!1,a.error(\"Failure\",e,\"Connection to LDAP failed\")})).finally((function(){t.state.uploadInProgress=!1,t.state.connectivityCheckInProgress=!1}))},t.saveSettings=function(){const n=s().copy(t.settings),{settings:r,uploadRequired:o,tlscaFile:l}=p();n.LDAPSettings=r,t.state.uploadInProgress=o,t.state.actionInProgress=!0,e.when(!o||c.uploadLDAPTLSFiles(l,null,null)).then((function(){return i.update(n)})).then((function(){a.success(\"Authentication settings updated\")})).catch((function(e){a.error(\"Failure\",e,\"Unable to update authentication settings\")})).finally((function(){t.state.uploadInProgress=!1,t.state.actionInProgress=!1}))},t.isLDAPFormValid=function(){const e=2===t.formValues.ldap.serverType?t.formValues.ldap.adSettings:t.formValues.ldap.ldapSettings,n=e.TLSConfig.TLS||e.StartTLS;return r()(e.URLs).length&&(e.AnonymousMode||e.ReaderDN&&e.Password)&&(!n||t.formValues.TLSCACert||e.TLSConfig.TLSSkipVerify)&&(!t.settings.LDAPSettings.AdminAutoPopulate||t.settings.LDAPSettings.AdminAutoPopulate&&t.formValues.selectedAdminGroups.length>0)},t.isOAuthTeamMembershipFormValid=function(){if(t.settings&&t.settings.OAuthSettings.OAuthAutoMapTeamMemberships&&t.settings.OAuthSettings.TeamMemberships){if(!t.settings.OAuthSettings.TeamMemberships.OAuthClaimName)return!1;if(t.settings.OAuthSettings.TeamMemberships.OAuthClaimMappings.some((e=>!(e.ClaimValRegex&&e.Team))))return!1}return!0},e.all({settings:i.settings(),teams:d.teams()}).then((function(e){var n=e.settings;t.teams=e.teams,t.settings=n,t.OAuthSettings=n.OAuthSettings,t.authMethod=n.AuthenticationMethod,2===n.AuthenticationMethod&&2===n.LDAPSettings.ServerType&&(t.authMethod=4),n.LDAPSettings.URL&&(n.LDAPSettings.URLs=[n.LDAPSettings.URL]),n.LDAPSettings.URLs||(n.LDAPSettings.URLs=[]),n.LDAPSettings.URLs.length||n.LDAPSettings.URLs.push(\"\"),n.LDAPSettings.ServerType||(n.LDAPSettings.ServerType=0),t.formValues.ldap.serverType=n.LDAPSettings.ServerType,2===n.LDAPSettings.ServerType?t.formValues.ldap.adSettings=n.LDAPSettings:t.formValues.ldap.ldapSettings=Object.assign(t.formValues.ldap.ldapSettings,n.LDAPSettings)})).catch((function(e){a.error(\"Failure\",e,\"Unable to retrieve application settings\")}))}c.$inject=[\"$q\",\"$scope\",\"$state\",\"Notifications\",\"SettingsService\",\"FileUploadService\",\"TeamService\",\"LDAPService\"],s().module(\"portainer.app\").controller(\"SettingsAuthenticationController\",c)},43404:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(51861);const s=n(93149);r().module(\"portainer.app\").component(\"settingsEdgeComputeView\",{templateUrl:s,controller:i.default})},51861:function(e,t,n){\"use strict\";n.r(t),n.d(t,{default:function(){return o}});var a=n(29274),r=n.n(a),i=n(60122),s=n(76827);function o(e,t,n,a,r,o){var l=this;this.onSubmitEdgeCompute=async function(e){try{await r.update(e),a.success(\"Settings updated\"),o.updateEnableEdgeComputeFeatures(e.EnableEdgeComputeFeatures),n.reload()}catch(e){a.error(\"Failure\",e,\"Unable to update settings\")}},this.onSubmitOpenAMT=async function(e){try{await(0,s.He)(e),a.success(\"OpenAMT successfully \"+(e.enabled?\"enabled\":\"disabled\")),n.reload()}catch(e){a.error(\"Failure\",e,\"Failed applying changes\")}},this.onSubmitFDO=async function(e){try{await(0,i.lX)(e),a.success(\"FDO successfully \"+(e.enabled?\"enabled\":\"disabled\")),n.reload()}catch(e){a.error(\"Failure\",e,\"Failed applying changes\")}},t((async()=>{try{l.settings=await r.settings()}catch(e){a.error(\"Failure\",e,\"Unable to retrieve application settings\")}}))}o.$inject=[\"$q\",\"$async\",\"$state\",\"Notifications\",\"SettingsService\",\"StateManager\"],r().module(\"portainer.app\").controller(\"SettingsEdgeComputeController\",o)},45459:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(56619),s=n(26196);r().module(\"portainer.app\").controller(\"SettingsController\",[\"$scope\",\"$state\",\"Notifications\",\"SettingsService\",\"StateManager\",\"BackupService\",\"FileSaver\",\"Blob\",function(e,t,n,a,r,o,l){function c(i){a.update(i).then((function(){n.success(\"Settings updated\"),r.updateLogo(i.LogoURL),r.updateSnapshotInterval(i.SnapshotInterval),r.updateEnableTelemetry(i.EnableTelemetry),t.reload()})).catch((function(e){n.error(\"Failure\",e,\"Unable to update settings\")})).finally((function(){e.state.actionInProgress=!1}))}e.s3BackupFeatureId=s.tE.S3_BACKUP_SETTING,e.backupOptions=[(0,i.es)(\"backup_file\",\"fa fa-download\",\"Download backup file\",\"\",\"file\"),(0,i.es)(\"backup_s3\",\"fa fa-upload\",\"Store in S3\",\"Define a cron schedule\",\"s3\",s.tE.S3_BACKUP_SETTING)],e.state={isDemo:!1,actionInProgress:!1,availableKubeconfigExpiryOptions:[{key:\"1 day\",value:\"24h\"},{key:\"7 days\",value:\"168h\"},{key:\"30 days\",value:\"720h\"},{key:\"1 year\",value:\"8640h\"},{key:\"No expiry\",value:\"0\"}],backupInProgress:!1,featureLimited:!1,showHTTPS:!window.ddExtension},e.BACKUP_FORM_TYPES={S3:\"s3\",FILE:\"file\"},e.formValues={customLogo:!1,labelName:\"\",labelValue:\"\",enableTelemetry:!1,passwordProtect:!1,password:\"\",backupFormType:e.BACKUP_FORM_TYPES.FILE},e.onToggleEnableTelemetry=function(t){e.$evalAsync((()=>{e.formValues.enableTelemetry=t}))},e.onToggleCustomLogo=function(t){e.$evalAsync((()=>{e.formValues.customLogo=t}))},e.onToggleAutoBackups=function(t){e.$evalAsync((()=>{e.formValues.scheduleAutomaticBackups=t}))},e.onBackupOptionsChange=function(t,n){e.formValues.backupFormType=t,e.state.featureLimited=n},e.removeFilteredContainerLabel=function(t){var n=e.settings;n.BlackListedLabels.splice(t,1),c(n)},e.addFilteredContainerLabel=function(){var t=e.settings,n={name:e.formValues.labelName,value:e.formValues.labelValue};t.BlackListedLabels.push(n),c(t)},e.downloadBackup=function(){const t={};e.formValues.passwordProtect&&(t.password=e.formValues.password),e.state.backupInProgress=!0,o.downloadBackup(t).then((function(e){const t=new Blob([e.file],{type:\"application/gzip\"});l.saveAs(t,e.name),n.success(\"Backup successfully downloaded\")})).catch((function(e){n.error(\"Failure\",e,\"Unable to download backup\")})).finally((function(){e.state.backupInProgress=!1}))},e.saveApplicationSettings=function(){var t=e.settings;e.formValues.customLogo||(t.LogoURL=\"\"),t.EnableTelemetry=e.formValues.enableTelemetry,e.state.actionInProgress=!0,c(t)},function(){const t=r.getState();e.state.isDemo=t.application.demoEnvironment.enabled,a.settings().then((function(t){var n=t;e.settings=n,\"\"!==n.LogoURL&&(e.formValues.customLogo=!0),e.formValues.enableTelemetry=n.EnableTelemetry})).catch((function(e){n.error(\"Failure\",e,\"Unable to retrieve application settings\")}))}()}])},64936:function(){function e(e,t,n,a,r,i,s,o,l){function c(){return i.isAdmin()}function d(){if(c())return!0;const e=o.currentEndpoint();return!(!e||!e.SecuritySettings)&&e.SecuritySettings.allowStackManagementForRegularUsers}t.applicationState=a.getState(),t.endpointState=o.endpoint(),t.display=!window.ddExtension,async function(){t.uiVersion=a.getState().application.version,t.logo=a.getState().application.logo,t.endpointId=o.endpointID(),t.showStacks=d();const e=i.getUserDetails(),n=c();if(t.isAdmin=n,t.showUsersSection=n,!n)try{u=await s.userMemberships(e.ID),p=!1,angular.forEach(u,(function(e){1===e.Role&&(p=!0)})),t.isTeamLeader=p;const n=await l.publicSettings();t.showUsersSection=t.isTeamLeader&&!n.TeamSync}catch(e){r.error(\"Failure\",e,\"Unable to retrieve user memberships\")}var u,p}(),n.onEnter({},(async()=>{t.endpointId=o.endpointID(),t.showStacks=d(),t.isAdmin=c(),t.applicationState.endpoint.name&&(document.title=`${e.defaultTitle} | ${t.applicationState.endpoint.name}`)}))}e.$inject=[\"$rootScope\",\"$scope\",\"$transitions\",\"StateManager\",\"Notifications\",\"Authentication\",\"UserService\",\"EndpointProvider\",\"SettingsService\"],angular.module(\"portainer.app\").controller(\"SidebarController\",e)},58e3:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a),i=n(15964),s=n.n(i),o=n(19898),l=n(71541),c=n(6253),d=n(26196),u=n(52474);r().module(\"portainer.app\").controller(\"CreateStackController\",[\"$scope\",\"$state\",\"$async\",\"$window\",\"ModalService\",\"StackService\",\"Authentication\",\"Notifications\",\"FormValidator\",\"ResourceControlService\",\"FormHelper\",\"StackHelper\",\"ContainerHelper\",\"CustomTemplateService\",\"ContainerService\",\"WebhookHelper\",\"clipboard\",\"endpoint\",function(e,t,n,a,r,i,p,m,g,h,f,v,b,y,w,x,S,C){function k(n,a){var r=f.removeInvalidEnvVars(e.formValues.Env);const s=+t.params.endpointId;if(\"template\"===a||\"editor\"===a){var o=e.formValues.StackFileContent;return i.createSwarmStackFromFileContent(n,o,r,s)}if(\"upload\"===a){var l=e.formValues.StackFile;return i.createSwarmStackFromFileUpload(n,l,r,s)}if(\"repository\"===a){var c={AdditionalFiles:e.formValues.AdditionalFiles,RepositoryURL:e.formValues.RepositoryURL,RepositoryReferenceName:e.formValues.RepositoryReferenceName,ComposeFilePathInRepository:e.formValues.ComposeFilePathInRepository,RepositoryAuthentication:e.formValues.RepositoryAuthentication,RepositoryUsername:e.formValues.RepositoryUsername,RepositoryPassword:e.formValues.RepositoryPassword};return $(c),i.createSwarmStackFromGitRepository(n,c,r,s)}}function $(t){e.formValues.RepositoryAutomaticUpdates&&(t.AutoUpdate={},e.formValues.RepositoryMechanism===c.RepositoryMechanismTypes.INTERVAL?t.AutoUpdate.Interval=e.formValues.RepositoryFetchInterval:e.formValues.RepositoryMechanism===c.RepositoryMechanismTypes.WEBHOOK&&(t.AutoUpdate.Webhook=e.formValues.RepositoryWebhookURL.split(\"/\").reverse()[0]))}function A(n,a){var r=f.removeInvalidEnvVars(e.formValues.Env);const s=+t.params.endpointId;if(\"editor\"===a||\"template\"===a){var o=e.formValues.StackFileContent;return i.createComposeStackFromFileContent(n,o,r,s)}if(\"upload\"===a){var l=e.formValues.StackFile;return i.createComposeStackFromFileUpload(n,l,r,s)}if(\"repository\"===a){var c={AdditionalFiles:e.formValues.AdditionalFiles,RepositoryURL:e.formValues.RepositoryURL,RepositoryReferenceName:e.formValues.RepositoryReferenceName,ComposeFilePathInRepository:e.formValues.ComposeFilePathInRepository,RepositoryAuthentication:e.formValues.RepositoryAuthentication,RepositoryUsername:e.formValues.RepositoryUsername,RepositoryPassword:e.formValues.RepositoryPassword};return $(c),i.createComposeStackFromGitRepository(n,c,r,s)}}async function P(t){e.state.uploadYamlValidationError=v.validateYAML(t.target.result,e.containerNames)}function I(e){return n(P,e)}e.onChangeTemplateId=function(t,a){return n((async()=>{try{e.state.selectedTemplateId=t,e.state.selectedTemplate=a;const n=await y.customTemplateFile(t);e.onChangeFileContent(n)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve Custom Template file\")}}))},e.buildAnalyticsProperties=function(){const t={type:function(e){switch(e){case\"editor\":return\"web-editor\";case\"repository\":return\"git\";case\"upload\":return\"file-upload\";case\"template\":return\"custom-template\"}}(e.state.Method)};return\"repository\"===e.state.Method&&(t.automaticUpdates=\"off\",e.formValues.RepositoryAutomaticUpdates&&(t.automaticUpdates=function(e){switch(e){case c.RepositoryMechanismTypes.INTERVAL:return\"polling\";case c.RepositoryMechanismTypes.WEBHOOK:return\"webhook\"}return\"off\"}(e.formValues.RepositoryMechanism)),t.auth=e.formValues.RepositoryAuthentication),\"template\"===e.state.Method&&(t.templateName=e.state.selectedTemplate.Title),{metadata:t}},e.stackWebhookFeature=d.tE.STACK_WEBHOOK,e.STACK_NAME_VALIDATION_REGEX=l.STACK_NAME_VALIDATION_REGEX,e.isAdmin=p.isAdmin(),e.formValues={Name:\"\",StackFileContent:\"\",StackFile:null,RepositoryURL:\"\",RepositoryReferenceName:\"\",RepositoryAuthentication:!1,RepositoryUsername:\"\",RepositoryPassword:\"\",Env:[],AdditionalFiles:[],ComposeFilePathInRepository:\"docker-compose.yml\",AccessControlData:new o.AccessControlFormData,RepositoryAutomaticUpdates:!1,RepositoryMechanism:c.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:\"5m\",RepositoryWebhookURL:x.returnStackWebhookUrl(s()())},e.state={Method:\"editor\",formValidationError:\"\",actionInProgress:!1,StackType:null,editorYamlValidationError:\"\",uploadYamlValidationError:\"\",isEditorDirty:!1,selectedTemplate:null,selectedTemplateId:null},a.onbeforeunload=()=>{if(\"editor\"===e.state.Method&&e.formValues.StackFileContent&&e.state.isEditorDirty)return\"\"},e.$on(\"$destroy\",(function(){e.state.isEditorDirty=!1})),e.onChangeFormValues=function(t){e.formValues=t},e.addAdditionalFiles=function(){e.formValues.AdditionalFiles.push(\"\")},e.removeAdditionalFiles=function(t){e.formValues.AdditionalFiles.splice(t,1)},e.copyWebhook=function(){S.copyText(e.formValues.RepositoryWebhookURL),u(\"#copyNotification\").show(),u(\"#copyNotification\").fadeOut(2e3)},e.handleEnvVarChange=function(t){e.formValues.Env=t},e.deployStack=function(){var n=e.formValues.Name,a=e.state.Method,r=e.formValues.AccessControlData,i=p.getUserDetails(),s=p.isAdmin();if(\"editor\"!==a||\"\"!==e.formValues.StackFileContent){if(function(t,n){var a;return e.state.formValidationError=\"\",!(a=g.validateAccessControl(t,n))||(e.state.formValidationError=a,!1)}(r,s)){var o=k;2===e.state.StackType&&(o=A),e.state.actionInProgress=!0,o(n,a).then((function(e){e.data&&(e=e.data);const t=i.ID,n=e.ResourceControl;return h.applyResourceControl(t,r,n)})).then((function(){m.success(\"Stack successfully deployed\"),e.state.isEditorDirty=!1,t.go(\"docker.stacks\")})).catch((function(e){m.error(\"Deployment error\",e,\"Unable to deploy stack\")})).finally((function(){e.state.actionInProgress=!1}))}}else e.state.formValidationError=\"Stack file content must not be empty\"},e.onChangeFileContent=function(t){e.formValues.StackFileContent=t,e.state.editorYamlValidationError=v.validateYAML(e.formValues.StackFileContent,e.containerNames),e.state.isEditorDirty=!0},e.uploadFile=function(t){if(e.formValues.StackFile=t,t){const e=new FileReader;e.fileName=t.name,e.onload=I,e.readAsText(t)}},this.uiCanExit=async function(){if(\"editor\"===e.state.Method&&e.formValues.StackFileContent&&e.state.isEditorDirty)return r.confirmWebEditorDiscard()},async function(){var t=e.applicationState.endpoint.mode;e.state.StackType=2,\"DOCKER_SWARM_MODE\"===t.provider&&\"MANAGER\"===t.role&&(e.state.StackType=1),e.composeSyntaxMaxVersion=C.ComposeSyntaxMaxVersion;try{const t=await w.containers(!0);e.containerNames=b.getContainerNames(t)}catch(e){m.error(\"Failure\",e,\"Unable to retrieve Containers\")}}()}])},84671:function(e,t,n){\"use strict\";n.r(t);var a=n(30424),r=n(19898),i=n(26196);angular.module(\"portainer.app\").controller(\"StackController\",[\"$async\",\"$compile\",\"$q\",\"$scope\",\"$state\",\"$window\",\"$transition$\",\"StackService\",\"NodeService\",\"ServiceService\",\"TaskService\",\"ContainerService\",\"ServiceHelper\",\"TaskHelper\",\"Notifications\",\"FormHelper\",\"EndpointProvider\",\"EndpointService\",\"GroupService\",\"ModalService\",\"StackHelper\",\"ResourceControlService\",\"Authentication\",\"ContainerHelper\",\"endpoint\",function(e,t,n,s,o,l,c,d,u,p,m,g,h,f,v,b,y,w,x,S,C,k,$,A,P){async function I(){if(await S.confirmAsync({title:\"Are you sure?\",message:\"Are you sure you want to stop this stack?\",buttons:{confirm:{label:\"Stop\",className:\"btn-danger\"}}})){s.state.actionInProgress=!0;try{await d.stop(s.stack.Id),o.reload()}catch(e){v.error(\"Failure\",e,\"Unable to stop stack\")}s.state.actionInProgress=!1}}async function T(){s.state.actionInProgress=!0;const e=s.stack.Id;try{await d.start(e),o.reload()}catch(e){v.error(\"Failure\",e,\"Unable to start stack\")}s.state.actionInProgress=!1}function N(e,t){var a={label:[\"com.docker.stack.namespace=\"+e]};return n.all({services:p.services(a),tasks:m.tasks(a),containers:t?g.containers(1):[],nodes:u.nodes()})}function E(e,t){var n=e.services,a=e.tasks;if(t)for(var r=e.containers,i=0;i<a.length;i++){var o=a[i];f.associateContainerToTask(o,r)}for(var l=0;l<n.length;l++){var c=n[l];h.associateTasksToService(c,a)}s.nodes=e.nodes,s.tasks=a,s.services=n}function R(e){var t={label:[\"com.docker.compose.project=\"+e]};return n.all({containers:g.containers(1,t)})}function D(e){s.containers=e.containers}s.resourceType=a.O.Stack,s.onUpdateResourceControlSuccess=function(){o.reload()},s.endpoint=P,s.isAdmin=$.isAdmin(),s.stackWebhookFeature=i.tE.STACK_WEBHOOK,s.stackPullImageFeature=i.tE.STACK_PULL_IMAGE,s.state={actionInProgress:!1,migrationInProgress:!1,showEditorTab:!1,yamlError:!1,isEditorDirty:!1},s.formValues={Prune:!1,Endpoint:null,AccessControlData:new r.AccessControlFormData,Env:[]},l.onbeforeunload=()=>{if(s.stackFileContent&&s.state.isEditorDirty)return\"\"},s.$on(\"$destroy\",(function(){s.state.isEditorDirty=!1})),s.handleEnvVarChange=function(e){s.formValues.Env=e},s.duplicateStack=function(e,t){var n=s.stack,a=b.removeInvalidEnvVars(s.formValues.Env);return y.setEndpointID(t),d.duplicateStack(e,s.stackFileContent,a,t,n.Type).then((function(){v.success(\"Stack successfully duplicated\"),o.go(\"docker.stacks\",{},{reload:!0}),y.setEndpointID(n.EndpointId)})).catch((function(e){v.error(\"Failure\",e,\"Unable to duplicate stack\")}))},s.showEditor=function(){s.state.showEditorTab=!0},s.migrateStack=function(e,t){return n((function(n){S.confirm({title:\"Are you sure?\",message:\"This action will deploy a new instance of this stack on the target environment, please note that this does NOT relocate the content of any persistent volumes that may be attached to this stack.\",buttons:{confirm:{label:\"Migrate\",className:\"btn-danger\"}},callback:function(a){return a?n(function(e,t){const n=s.stack;let a=d.migrateSwarmStack;return 2===n.Type&&(a=d.migrateComposeStack),0===n.EndpointId&&(n.EndpointId=P.Id),s.state.migrationInProgress=!0,a(n,t,e).then((function(){v.success(\"Stack successfully migrated\",n.Name),o.go(\"docker.stacks\",{},{reload:!0})})).catch((function(e){v.error(\"Failure\",e,\"Unable to migrate stack\")})).finally((function(){s.state.migrationInProgress=!1}))}(e,t)):n()}})}))},s.removeStack=function(){S.confirmDeletion(\"Do you want to remove the stack? Associated services will be removed as well.\",(function(e){var t,n;e&&(t=+o.params.endpointId,n=s.stack,d.remove(n,c.params().external,t).then((function(){v.success(\"Stack successfully removed\",n.Name),o.go(\"docker.stacks\")})).catch((function(e){v.error(\"Failure\",e,\"Unable to remove stack \"+n.Name)})))}))},s.detachStackFromGit=function(){S.confirmDetachment(\"Do you want to detach the stack from Git?\",(function(e){e&&s.deployStack()}))},s.associateStack=function(){var e=+o.params.endpointId,t=s.stack,n=s.formValues.AccessControlData;s.state.actionInProgress=!0,d.associate(t,e,s.orphanedRunning).then((function(e){const t=e.ResourceControl,a=$.getUserDetails().ID;return k.applyResourceControl(a,n,t)})).then((function(){v.success(\"Stack successfully associated\",t.Name),o.go(\"docker.stacks\")})).catch((function(e){v.error(\"Failure\",e,\"Unable to associate stack \"+t.Name)})).finally((function(){s.state.actionInProgress=!1}))},s.deployStack=function(){const e=s.stack,n=angular.element('<div>Do you want to force an update of the stack?</div><div  style=\"position: absolute; right: 110px; top: 48px; z-index: 999\"><be-feature-indicator feature=\"stackPullImageFeature\"></be-feature-indicator></div>'),a=t(n)(s);S.confirmStackUpdate(a,!0,!0,null,(function(t){if(t){var n=s.stackFileContent,a=b.removeInvalidEnvVars(s.formValues.Env),r=s.formValues.Prune;0===e.EndpointId&&(e.EndpointId=P.Id),s.state.actionInProgress=!0,d.updateStack(e,n,a,r).then((function(){v.success(\"Stack successfully deployed\"),s.state.isEditorDirty=!1,o.reload()})).catch((function(e){v.error(\"Failure\",e,\"Unable to create stack\")})).finally((function(){s.state.actionInProgress=!1}))}}))},s.editorUpdate=function(e){s.stackFileContent.replace(/(\\r\\n|\\n|\\r)/gm,\"\")!==e.getValue().replace(/(\\r\\n|\\n|\\r)/gm,\"\")&&(s.state.isEditorDirty=!0,s.stackFileContent=e.getValue(),s.state.yamlError=C.validateYAML(s.stackFileContent,s.containerNames))},s.stopStack=function(){return e(I)},s.startStack=function(){return e(T)},this.uiCanExit=async function(){if(s.stackFileContent&&s.state.isEditorDirty)return S.confirmWebEditorDiscard()},async function(){var e=c.params().name;s.stackName=e;const t=\"true\"==c.params().regular;s.regular=t;var a=\"true\"==c.params().external;s.external=a;const r=\"true\"==c.params().orphaned;s.orphaned=r;const i=\"true\"==c.params().orphanedRunning;if(s.orphanedRunning=i,(a||r&&i)&&(o=e,!(l=c.params().type)||\"1\"!==l&&\"2\"!==l?v.error(\"Failure\",null,\"Invalid type URL parameter.\"):\"1\"===l?function(e){var t=s.applicationState.endpoint.mode.agentProxy;N(e,t).then((function(e){E(e,t)})).catch((function(e){v.error(\"Failure\",e,\"Unable to retrieve stack details\")}))}(o):function(e){R(e).then((function(e){D(e)})).catch((function(e){v.error(\"Failure\",e,\"Unable to retrieve stack details\")}))}(o)),t||r){const e=c.params().id;u=e,p=s.applicationState.endpoint.mode.agentProxy,w.endpoints().then((function(e){s.endpoints=e.value})).catch((function(e){v.error(\"Failure\",e,\"Unable to retrieve environments\")})),n.all({stack:d.stack(u),groups:x.groups(),containers:g.containers(!0)}).then((function(e){var t=e.stack;s.groups=e.groups,s.stack=t,s.containerNames=A.getContainerNames(e.containers),s.formValues.Env=s.stack.Env;let a=Promise.resolve({});return t.Status&&1!==t.Status||(a=1===t.Type?N(t.Name,p):R(t.Name)),n.all({stackFile:d.getStackFile(u),resources:a})})).then((function(e){const t=1===s.stack.Type;s.stackFileContent=e.stackFile,s.stack.Status||(s.stack.Status=e.resources&&(t&&e.resources.services.length||e.resources.containers.length)?1:2),1===s.stack.Status&&(t?E(e.resources,p):D(e.resources)),s.state.yamlError=C.validateYAML(s.stackFileContent,s.containerNames)})).catch((function(e){v.error(\"Failure\",e,\"Unable to retrieve stack details\")}))}var o,l,u,p;s.composeSyntaxMaxVersion=P.ComposeSyntaxMaxVersion,s.stackType=c.params().type}()}])},78566:function(e,t,n){\"use strict\";n.r(t);var a=n(70589);function r(e,t,n,r,i,s,o){function l(){const t=e.applicationState.endpoint.mode,i=o.Id,l=s.isAdmin();r.stacks(!0,\"DOCKER_SWARM_MODE\"===t.provider&&\"MANAGER\"===t.role,i,l).then((function(t){e.stacks=t,e.offlineMode=(0,a.isOfflineEndpoint)(o)})).catch((function(t){e.stacks=[],n.error(\"Failure\",t,\"Unable to retrieve stacks\")}))}e.removeAction=function(a){i.confirmDeletion(\"Do you want to remove the selected stack(s)? Associated services will be removed as well.\",(function(i){i&&function(a){const i=o.Id;let s=a.length;angular.forEach(a,(function(a){r.remove(a,a.External,i).then((function(){n.success(\"Stack successfully removed\",a.Name);var t=e.stacks.indexOf(a);e.stacks.splice(t,1)})).catch((function(e){n.error(\"Failure\",e,\"Unable to remove stack \"+a.Name)})).finally((function(){--s,0===s&&t.reload()}))}))}(a)}))},e.offlineMode=!1,e.createEnabled=!1,e.getStacks=l,async function(){l(),e.createEnabled=await async function(){return o.SecuritySettings.allowStackManagementForRegularUsers||s.isAdmin()}()}()}r.$inject=[\"$scope\",\"$state\",\"Notifications\",\"StackService\",\"ModalService\",\"Authentication\",\"endpoint\"],angular.module(\"portainer.app\").controller(\"StacksController\",r)},20125:function(e,t,n){\"use strict\";n.r(t);var a=n(71204),r=n.n(a),i=n(29274),s=n.n(i);function o(e,t,n,a,i){async function s(n){for(let t of n)try{await a.deleteTag(t.Id),i.success(\"Tag successfully removed\",t.Name),r()(e.tags,t)}catch(e){i.error(\"Failure\",e,\"Unable to remove tag\")}t.reload()}e.state={actionInProgress:!1},e.formValues={Name:\"\"},e.checkNameValidity=function(t){for(var n=!0,a=0;a<e.tags.length;a++)if(e.formValues.Name===e.tags[a].Name){n=!1;break}t.name.$setValidity(\"validName\",n)},e.removeAction=function(e){return n(s,e)},e.createTag=function(){var n=e.formValues.Name;a.createTag(n).then((function(){i.success(\"Tag successfully created\",n),t.reload()})).catch((function(e){i.error(\"Failure\",e,\"Unable to create tag\")}))},a.tags().then((function(t){e.tags=t})).catch((function(t){i.error(\"Failure\",t,\"Unable to retrieve tags\"),e.tags=[]}))}o.$inject=[\"$scope\",\"$state\",\"$async\",\"TagService\",\"Notifications\"],s().module(\"portainer.app\").controller(\"TagsController\",o)},31713:function(){angular.module(\"portainer.app\").controller(\"TeamController\",[\"$q\",\"$scope\",\"$state\",\"$transition$\",\"TeamService\",\"UserService\",\"TeamMembershipService\",\"ModalService\",\"Notifications\",\"PaginationService\",\"Authentication\",\"SettingsService\",function(e,t,n,a,r,i,s,o,l,c,d,u){function p(e,t){for(var n=0,a=t.length;n<a;n++)if(t[n].Id===e)return void t.splice(n,1)}t.state={pagination_count_users:c.getPaginationLimit(\"team_available_users\"),pagination_count_members:c.getPaginationLimit(\"team_members\")},t.sortTypeUsers=\"Username\",t.sortReverseUsers=!0,t.users=[],t.teamMembers=[],t.leaderCount=0,t.orderUsers=function(e){t.sortReverseUsers=t.sortTypeUsers===e&&!t.sortReverseUsers,t.sortTypeUsers=e},t.changePaginationCountUsers=function(){c.setPaginationLimit(\"team_available_users\",t.state.pagination_count_users)},t.sortTypeGroupMembers=\"TeamRole\",t.sortReverseGroupMembers=!1,t.orderGroupMembers=function(e){t.sortReverseGroupMembers=t.sortTypeGroupMembers===e&&!t.sortReverseGroupMembers,t.sortTypeGroupMembers=e},t.changePaginationCountGroupMembers=function(){c.setPaginationLimit(\"team_members\",t.state.pagination_count_members)},t.deleteTeam=function(){o.confirmDeletion(\"Do you want to delete this team? Users in this team will not be deleted.\",(function(e){e&&r.deleteTeam(t.team.Id).then((function(){l.success(\"Team successfully deleted\",t.team.Name),n.go(\"portainer.teams\")})).catch((function(e){l.error(\"Failure\",e,\"Unable to remove team\")}))}))},t.promoteToLeader=function(e){s.updateMembership(e.MembershipId,e.Id,t.team.Id,1).then((function(){t.leaderCount++,e.TeamRole=\"Leader\",l.success(\"User is now team leader\",e.Username)})).catch((function(e){l.error(\"Failure\",e,\"Unable to update user role\")}))},t.demoteToMember=function(e){s.updateMembership(e.MembershipId,e.Id,t.team.Id,2).then((function(){e.TeamRole=\"Member\",t.leaderCount--,l.success(\"User is now team member\",e.Username)})).catch((function(e){l.error(\"Failure\",e,\"Unable to update user role\")}))},t.addAllUsers=function(){var n=[];angular.forEach(t.users,(function(e){n.push(s.createMembership(e.Id,t.team.Id,2))})),e.all(n).then((function(e){for(var n=t.users,a=0;a<n.length;a++){var r=n[a];r.MembershipId=e[a].Id,r.TeamRole=\"Member\"}t.teamMembers=t.teamMembers.concat(n),t.users=[],l.success(\"All users successfully added\")})).catch((function(e){l.error(\"Failure\",e,\"Unable to update team members\")}))},t.addUser=function(e){s.createMembership(e.Id,t.team.Id,2).then((function(n){p(e.Id,t.users),e.TeamRole=\"Member\",e.MembershipId=n.Id,t.teamMembers.push(e),l.success(\"User added to team\",e.Username)})).catch((function(e){l.error(\"Failure\",e,\"Unable to update team members\")}))},t.removeAllUsers=function(){var n=[];angular.forEach(t.teamMembers,(function(e){n.push(s.deleteMembership(e.MembershipId))})),e.all(n).then((function(){t.users=t.users.concat(t.teamMembers),t.teamMembers=[],t.leaderCount=0,l.success(\"All users successfully removed\")})).catch((function(e){l.error(\"Failure\",e,\"Unable to update team members\")}))},t.removeUser=function(e){s.deleteMembership(e.MembershipId).then((function(){p(e.Id,t.teamMembers),\"Leader\"===e.TeamRole&&t.leaderCount--,t.users.push(e),l.success(\"User removed from team\",e.Username)})).catch((function(e){l.error(\"Failure\",e,\"Unable to update team members\")}))},async function(){t.isAdmin=d.isAdmin();try{t.settings=await u.publicSettings();const n=await e.all({team:r.team(a.params().id),users:i.users(t.isAdmin&&t.settings.TeamSync),memberships:r.userMemberships(a.params().id)});t.team=n.team,function(e,n){for(var a=0;a<e.length;a++){for(var r=e[a],i=!1,s=0;s<n.length;s++){var o=n[s];if(r.Id===o.UserId){i=!0,1===o.Role?(r.TeamRole=\"Leader\",t.leaderCount++):r.TeamRole=\"Member\",r.MembershipId=o.Id,t.teamMembers.push(r);break}}i||t.users.push(r)}}(n.users,n.memberships)}catch(e){l.error(\"Failure\",e,\"Unable to retrieve team details\")}}()}])},58206:function(e,t,n){\"use strict\";n.r(t);var a=n(16222),r=n.n(a);angular.module(\"portainer.app\").controller(\"TeamsController\",[\"$q\",\"$scope\",\"$state\",\"TeamService\",\"UserService\",\"ModalService\",\"Notifications\",\"Authentication\",function(e,t,n,a,i,s,o,l){var c,d;t.state={actionInProgress:!1},t.formValues={Name:\"\",Leaders:[]},t.checkNameValidity=function(e){for(var n=!0,a=0;a<t.teams.length;a++)if(t.formValues.Name===t.teams[a].Name){n=!1;break}e.team_name.$setValidity(\"validName\",n)},t.addTeam=function(e){const r=e.name;t.state.actionInProgress=!0,a.createTeam(r,e.leaders).then((function(){o.success(\"Team successfully created\",r),n.reload()})).catch((function(e){o.error(\"Failure\",e,\"Unable to create team\")})).finally((function(){t.state.actionInProgress=!1}))},t.removeAction=function(e){s.confirmDeletion(\"Do you want to delete the selected team(s)? Users in the team(s) will not be deleted.\",(function(r){r&&function(e){var r=e.length;angular.forEach(e,(function(e){a.deleteTeam(e.Id).then((function(){o.success(\"Team successfully removed\",e.Name);var n=t.teams.indexOf(e);t.teams.splice(n,1)})).catch((function(e){o.error(\"Failure\",e,\"Unable to remove team\")})).finally((function(){0==--r&&n.reload()}))}))}(e)}))},c=l.getUserDetails(),d=l.isAdmin(),t.isAdmin=d,e.all({users:i.users(!1),teams:d?a.teams():i.userLeadingTeams(c.ID)}).then((function(e){var n=e.teams;t.teams=n,t.users=r()(e.users,\"Username\",\"asc\"),t.isTeamLeader=!!n.length})).catch((function(e){t.teams=[],t.users=[],o.error(\"Failure\",e,\"Unable to retrieve teams\")}))}])},76058:function(e,t,n){\"use strict\";n.r(t);var a=n(16222),r=n.n(a),i=n(51235),s=n.n(i),o=n(66539),l=n.n(o),c=n(83432),d=n.n(c),u=n(19898);angular.module(\"portainer.app\").controller(\"TemplatesController\",[\"$scope\",\"$q\",\"$state\",\"$anchorScroll\",\"ContainerService\",\"ImageService\",\"NetworkService\",\"TemplateService\",\"TemplateHelper\",\"VolumeService\",\"Notifications\",\"ResourceControlService\",\"Authentication\",\"FormValidator\",\"StackService\",\"endpoint\",function(e,t,n,a,i,o,c,p,m,g,h,f,v,b,y,w){const x=\"DOCKER_SWARM_MODE\";e.state={selectedTemplate:null,showAdvancedOptions:!1,formValidationError:\"\",actionInProgress:!1},e.formValues={network:\"\",name:\"\",AccessControlData:new u.AccessControlFormData},e.addVolume=function(){e.state.selectedTemplate.Volumes.push({containerPath:\"\",bind:\"\",readonly:!1,type:\"auto\"})},e.removeVolume=function(t){e.state.selectedTemplate.Volumes.splice(t,1)},e.addPortBinding=function(){e.state.selectedTemplate.Ports.push({hostPort:\"\",containerPort:\"\",protocol:\"tcp\"})},e.removePortBinding=function(t){e.state.selectedTemplate.Ports.splice(t,1)},e.addExtraHost=function(){e.state.selectedTemplate.Hosts.push(\"\")},e.removeExtraHost=function(t){e.state.selectedTemplate.Hosts.splice(t,1)},e.addLabel=function(){e.state.selectedTemplate.Labels.push({name:\"\",value:\"\"})},e.removeLabel=function(t){e.state.selectedTemplate.Labels.splice(t,1)},e.createTemplate=function(){var t=v.getUserDetails().ID,a=e.formValues.AccessControlData;if(function(t,n){var a;return e.state.formValidationError=\"\",!(a=b.validateAccessControl(t,n))||(e.state.formValidationError=a,!1)}(a,e.isAdmin)){var r=e.state.selectedTemplate;e.state.actionInProgress=!0,2===r.Type?function(t,a,r){var i=e.formValues.name,s=d()(l()(t.Env,(function(e){return{name:e.name,value:e.preset||!e.value?e.default:e.value}})),(function(e){return e.value&&e.name})),o={RepositoryURL:t.Repository.url,ComposeFilePathInRepository:t.Repository.stackfile,FromAppTemplate:!0};const c=+n.params.endpointId;y.createSwarmStackFromGitRepository(i,o,s,c).then((function(e){const t=e.ResourceControl;return f.applyResourceControl(a,r,t)})).then((function(){h.success(\"Stack successfully deployed\"),n.go(\"docker.stacks\")})).catch((function(e){h.error(\"Deployment error\",e)})).finally((function(){e.state.actionInProgress=!1}))}(r,t,a):3===r.Type?function(t,a,r){for(var i=e.formValues.name,s=0;s<t.Env.length;s++){var o=t.Env[s];o.preset&&(o.value=o.default)}var l={RepositoryURL:t.Repository.url,ComposeFilePathInRepository:t.Repository.stackfile,FromAppTemplate:!0};const c=+n.params.endpointId;y.createComposeStackFromGitRepository(i,l,t.Env,c).then((function(e){const t=e.ResourceControl;return f.applyResourceControl(a,r,t)})).then((function(){h.success(\"Stack successfully deployed\"),n.go(\"docker.stacks\")})).catch((function(e){h.error(\"Deployment error\",e)})).finally((function(){e.state.actionInProgress=!1}))}(r,t,a):function(t,a,r){var s=function(t){var n=e.formValues.network,a=e.formValues.name;return p.createTemplateConfiguration(t,a,n)}(t),l=m.determineRequiredGeneratedVolumeCount(t.Volumes),c=[];g.createXAutoGeneratedLocalVolumes(l).then((function(e){return angular.forEach(e,(function(e){var t=e.Id;c.push(t)})),p.updateContainerConfigurationWithVolumes(s,t,e),o.pullImage(t.RegistryModel,!0)})).then((function(){return i.createAndStartContainer(s)})).then((function(e){const t=e.Portainer.ResourceControl;return f.applyResourceControl(a,r,t,c)})).then((function(){h.success(\"Container successfully created\"),n.go(\"docker.containers\",{},{reload:!0})})).catch((function(e){h.error(\"Failure\",e,e.msg)})).finally((function(){e.state.actionInProgress=!1}))}(r,t,a)}},e.unselectTemplate=function(t){t.Selected=!1,e.state.selectedTemplate=null},e.selectTemplate=function(t){e.state.selectedTemplate&&e.unselectTemplate(e.state.selectedTemplate),t.Selected=!0,t.Network?e.formValues.network=s()(e.availableNetworks,(function(e){return e.Name===t.Network})):e.formValues.network=s()(e.availableNetworks,(function(e){return\"bridge\"===e.Name})),e.formValues.name=t.Name?t.Name:\"\",e.state.selectedTemplate=t,e.state.deployable=function(e,t){let n=!1;switch(t){case 1:case 3:n=e.mode.provider===x||\"DOCKER_STANDALONE\"===e.mode.provider;break;case 2:n=e.mode.provider===x}return n}(e.applicationState.endpoint,t.Type),a(\"view-top\")},function(){e.isAdmin=v.isAdmin();var a=e.applicationState.endpoint.mode,i=e.applicationState.endpoint.apiVersion;const s=+n.params.endpointId;t.all({templates:p.templates(s),volumes:g.getVolumes(),networks:c.networks(\"DOCKER_STANDALONE\"===a.provider||\"DOCKER_SWARM_MODE\"===a.provider,!1,\"DOCKER_SWARM_MODE\"===a.provider&&i>=1.25)}).then((function(t){var n=t.templates;e.templates=n,e.availableVolumes=r()(t.volumes.Volumes,[e=>e.Name.toLowerCase()],[\"asc\"]);var a=t.networks;e.availableNetworks=a,e.allowBindMounts=w.SecuritySettings.allowBindMountsForRegularUsers})).catch((function(t){e.templates=[],h.error(\"Failure\",t,\"An error occurred during apps initialization.\")}))}()}])},21436:function(){angular.module(\"portainer.app\").controller(\"UserController\",[\"$q\",\"$scope\",\"$state\",\"$transition$\",\"UserService\",\"ModalService\",\"Notifications\",\"SettingsService\",\"Authentication\",function(e,t,n,a,r,i,s,o,l){t.state={updatePasswordError:\"\"},t.formValues={username:\"\",newPassword:\"\",confirmPassword:\"\",Administrator:!1},t.deleteUser=function(){i.confirmDeletion(\"Do you want to remove this user? This user will not be able to login into Portainer anymore.\",(function(e){e&&r.deleteUser(t.user.Id).then((function(){s.success(\"User successfully deleted\",t.user.Username),n.go(\"portainer.users\")})).catch((function(e){s.error(\"Failure\",e,\"Unable to remove user\")}))}))},t.updateUser=async function(){const e=t.formValues.Administrator?1:2,a=t.user.Username,o=t.formValues.username;let l=Promise.resolve(!0);o!=a&&(l=new Promise((e=>i.confirm({title:\"Are you sure?\",message:`Are you sure you want to rename the user ${a} to ${o}?`,buttons:{confirm:{label:\"Update\",className:\"btn-primary\"}},callback:e})))),await l&&r.updateUser(t.user.Id,{role:e,username:o}).then((function(){s.success(\"User successfully updated\"),n.reload()})).catch((function(e){s.error(\"Failure\",e,\"Unable to update user permissions\")}))},t.updatePassword=async function(){const e=l.getUserDetails().ID===t.user.Id;(!e||await i.confirmChangePassword())&&r.updateUser(t.user.Id,{password:t.formValues.newPassword}).then((function(){s.success(\"Password successfully updated\"),e?n.go(\"portainer.logout\"):n.reload()})).catch((function(e){s.error(\"Failure\",e,\"Unable to update user password\")}))},t.isSubmitEnabled=function(){const{user:e,formValues:n}=t;return e&&(e.Username!==n.username||n.Administrator&&1!==e.Role||!n.Administrator&&1===e.Role)},t.isDeleteDisabled=function(){const{user:e}=t;return e&&1===e.Id},t.isAdmin=l.isAdmin(),e.all({user:r.user(a.params().id),settings:o.publicSettings()}).then((function(e){var n=e.user;t.user=n,t.formValues.Administrator=1===n.Role,t.formValues.username=n.Username,t.AuthenticationMethod=e.settings.AuthenticationMethod,t.requiredPasswordLength=e.settings.RequiredPasswordLength})).catch((function(e){s.error(\"Failure\",e,\"Unable to retrieve user information\")}))}])},79614:function(e,t,n){\"use strict\";n.r(t);var a=n(16222),r=n.n(a);angular.module(\"portainer.app\").controller(\"UsersController\",[\"$q\",\"$scope\",\"$state\",\"UserService\",\"TeamService\",\"TeamMembershipService\",\"ModalService\",\"Notifications\",\"Authentication\",\"SettingsService\",function(e,t,n,a,i,s,o,l,c,d){var u,p;t.state={userCreationError:\"\",validUsername:!1,actionInProgress:!1},t.formValues={Username:\"\",Password:\"\",ConfirmPassword:\"\",Administrator:!1,Teams:[]},t.checkUsernameValidity=function(){for(var e=!0,n=0;n<t.users.length;n++)if(t.formValues.Username.toLocaleLowerCase()===t.users[n].Username.toLocaleLowerCase()){e=!1;break}t.state.validUsername=e,t.state.userCreationError=e?\"\":\"Username already taken\"},t.addUser=function(){t.state.actionInProgress=!0,t.state.userCreationError=\"\";var e=t.formValues.Username,r=t.formValues.Password,i=t.formValues.Administrator?1:2,s=[];angular.forEach(t.formValues.Teams,(function(e){s.push(e.Id)})),a.createUser(e,r,i,s).then((function(){l.success(\"User successfully created\",e),n.reload()})).catch((function(e){l.error(\"Failure\",e,\"Unable to create user\")})).finally((function(){t.state.actionInProgress=!1}))},t.removeAction=function(e){o.confirmDeletion(\"Do you want to remove the selected users? They will not be able to login into Portainer anymore.\",(function(r){r&&function(e){var r=e.length;angular.forEach(e,(function(e){a.deleteUser(e.Id).then((function(){l.success(\"User successfully removed\",e.Username);var n=t.users.indexOf(e);t.users.splice(n,1)})).catch((function(e){l.error(\"Failure\",e,\"Unable to remove user\")})).finally((function(){0==--r&&n.reload()}))}))}(e)}))},u=c.getUserDetails(),p=c.isAdmin(),t.isAdmin=p,e.all({users:a.users(!0),teams:p?i.teams():a.userLeadingTeams(u.ID),memberships:s.memberships(),settings:d.publicSettings()}).then((function(e){var n=e.users;!function(e,t){for(var n=0;n<e.length;n++){var a=e[n];a.isTeamLeader=!1;for(var r=0;r<t.length;r++){var i=t[r];if(a.Id===i.UserId&&1===i.Role){a.isTeamLeader=!0,a.RoleName=\"team leader\";break}}}}(n,e.memberships),t.users=n,t.teams=r()(e.teams,\"Name\",\"asc\"),t.AuthenticationMethod=e.settings.AuthenticationMethod,t.requiredPasswordLength=e.settings.RequiredPasswordLength})).catch((function(e){l.error(\"Failure\",e,\"Unable to retrieve users and teams\"),t.users=[],t.teams=[]}))}])},68724:function(e,t,n){\"use strict\";function a(){}n.r(t),n.d(t,{default:function(){return a}}),n(40958)},25518:function(e,t,n){\"use strict\";n.r(t);var a=n(29274),r=n.n(a);n(4396),n(71538),n(77906),n(65400),n(59250),n(65927),n(22479),n(60685),n(99639),n(16249),n(40635),n(42536),n(66520),n(54879),n(85639),n(78421),n(88678),n(85774),n(8149),n(28517),n(80134),window.angular=r()},10388:function(e){var t=\"app/agent/components/file-uploader/fileUploader.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<button type=\"button\" ngf-select=\"$ctrl.onFileSelected($file)\" class=\"btn ng-scope\" button-spinner=\"$ctrl.state.uploadInProgress\">\\n  <i style=\"margin: 0\" class=\"fa fa-upload\" ng-if=\"!$ctrl.state.uploadInProgress\"></i>\\n</button>\\n')}]),e.exports=t},53719:function(e){var t=\"app/agent/components/files-datatable/filesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"{{ $ctrl.titleIcon }}\" title-text=\"{{ $ctrl.titleText }}\">\\n      <file-uploader authorization=\"DockerAgentBrowsePut\" ng-if=\"$ctrl.isUploadAllowed\" on-file-selected=\"($ctrl.onFileSelectedForUpload)\"> </file-uploader>\\n    </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Size\\')\">\\n                  Size\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Size\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Size\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ModTime\\')\">\\n                  Last modification\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ModTime\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ModTime\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th> Actions </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr ng-if=\"!$ctrl.isRoot\">\\n              <td colspan=\"4\">\\n                <a ng-click=\"$ctrl.goToParent()\"><i class=\"fa fa-level-up-alt space-right\"></i>Go to parent</a>\\n              </td>\\n            </tr>\\n            <tr ng-repeat=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder))\">\\n              <td>\\n                <span ng-if=\"item.edit\">\\n                  <input\\n                    class=\"input-sm\"\\n                    type=\"text\"\\n                    ng-model=\"item.newName\"\\n                    on-enter-key=\"$ctrl.rename({ name: item.Name, newName: item.newName }); item.edit = false\"\\n                    auto-focus\\n                  />\\n                  <a class=\"interactive\" ng-click=\"item.edit = false;\"><i class=\"fa fa-times\"></i></a>\\n                  <a class=\"interactive\" ng-click=\"$ctrl.rename({name: item.Name, newName: item.newName}); item.edit = false;\"><i class=\"fa fa-check-square\"></i></a>\\n                </span>\\n                <span ng-if=\"!item.edit && item.Dir\">\\n                  <a ng-click=\"$ctrl.browse({name: item.Name})\"><i class=\"fa fa-folder space-right\" aria-hidden=\"true\"></i>{{ item.Name }}</a>\\n                </span>\\n                <span ng-if=\"!item.edit && !item.Dir\"> <i class=\"fa fa-file space-right\" aria-hidden=\"true\"></i>{{ item.Name }} </span>\\n              </td>\\n              <td>{{ item.Size | humansize }}</td>\\n              <td>\\n                {{ item.ModTime | getisodatefromtimestamp }}\\n              </td>\\n              <td>\\n                <btn authorization=\"DockerAgentBrowseGet\" class=\"btn btn-xs btn-primary space-right\" ng-click=\"$ctrl.download({ name: item.Name })\" ng-if=\"!item.Dir\">\\n                  <i class=\"fa fa-download\" aria-hidden=\"true\"></i> Download\\n                </btn>\\n                <btn authorization=\"DockerAgentBrowseRename\" class=\"btn btn-xs btn-primary space-right\" ng-click=\"item.newName = item.Name; item.edit = true\">\\n                  <i class=\"fa fa-edit\" aria-hidden=\"true\"></i> Rename\\n                </btn>\\n                <btn authorization=\"DockerAgentBrowseDelete\" class=\"btn btn-xs btn-danger\" ng-click=\"$ctrl.delete({ name: item.Name })\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i> Delete\\n                </btn>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No files found.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},10884:function(e){var t=\"app/agent/components/host-browser/hostBrowser.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<files-datatable\\n  title-text=\"Host browser - {{ $ctrl.getRelativePath() }}\"\\n  title-icon=\"fa-file\"\\n  dataset=\"$ctrl.files\"\\n  table-key=\"host_browser\"\\n  order-by=\"Dir\"\\n  is-root=\"$ctrl.isRoot()\"\\n  go-to-parent=\"$ctrl.goToParent()\"\\n  browse=\"$ctrl.browse(name)\"\\n  rename=\"$ctrl.renameFile(name, newName)\"\\n  download=\"$ctrl.downloadFile(name)\"\\n  delete=\"$ctrl.confirmDeleteFile(name)\"\\n  is-upload-allowed=\"true\"\\n  on-file-selected-for-upload=\"($ctrl.onFileSelectedForUpload)\"\\n>\\n</files-datatable>\\n')}]),e.exports=t},56566:function(e){var t=\"app/agent/components/node-selector/nodeSelector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"form-group\">\\n  <label for=\"target_node\" class=\"col-sm-1 control-label text-left\">Node</label>\\n  <div class=\"col-sm-11\">\\n    <select class=\"form-control\" ng-model=\"$ctrl.model\" ng-options=\"agent.NodeName as agent.NodeName for agent in $ctrl.agents\"></select>\\n  </div>\\n</div>\\n')}]),e.exports=t},23709:function(e){var t=\"app/agent/components/volume-browser/volumeBrowser.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<files-datatable\\n  title-text=\"Volume browser\"\\n  title-icon=\"fa-file\"\\n  dataset=\"$ctrl.files\"\\n  table-key=\"volume_browser\"\\n  order-by=\"Dir\"\\n  is-root=\"$ctrl.state.path === \\'/\\'\"\\n  go-to-parent=\"$ctrl.up()\"\\n  browse=\"$ctrl.browse(name)\"\\n  rename=\"$ctrl.rename(name, newName)\"\\n  download=\"$ctrl.download(name)\"\\n  delete=\"$ctrl.confirmDelete(name)\"\\n  is-upload-allowed=\"$ctrl.isUploadEnabled\"\\n  on-file-selected-for-upload=\"($ctrl.onFileSelectedForUpload)\"\\n></files-datatable>\\n')}]),e.exports=t},48863:function(e){var t=\"app/azure/components/azure-endpoint-config/azureEndpointConfig.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div>\\n  <div class=\"col-sm-12 form-section-title\"> Azure configuration </div>\\n  \\x3c!-- applicationId-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"azure_credential_appid\" class=\"col-sm-3 col-lg-2 control-label text-left\">Application ID</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" name=\"azure_credential_appid\" ng-model=\"$ctrl.applicationId\" placeholder=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\" required />\\n    </div>\\n  </div>\\n  \\x3c!-- !applicationId-input --\\x3e\\n  \\x3c!-- tenantId-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"azure_credential_tenantid\" class=\"col-sm-3 col-lg-2 control-label text-left\">Tenant ID</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" name=\"azure_credential_tenantid\" ng-model=\"$ctrl.tenantId\" placeholder=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\" required />\\n    </div>\\n  </div>\\n  \\x3c!-- !tenantId-input --\\x3e\\n  \\x3c!-- authenticationkey-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"azure_credential_authkey\" class=\"col-sm-3 col-lg-2 control-label text-left\">Authentication key</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        name=\"azure_credential_authkey\"\\n        ng-model=\"$ctrl.authenticationKey\"\\n        placeholder=\"cOrXoK/1D35w8YQ8nH1/8ZGwzz45JIYD5jxHKXEQknk=\"\\n        required\\n      />\\n    </div>\\n  </div>\\n  \\x3c!-- !authenticationkey-input --\\x3e\\n</div>\\n')}]),e.exports=t},76974:function(e){var t=\"app/azure/components/datatables/containergroups-datatable/containerGroupsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"azure.containerinstances.new\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add container\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover table-filters nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Location\\')\">\\n                  Location\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Location\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Location\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th> Published Ports </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"azure.containerinstances.container({ id: item.Id })\">{{ item.Name | truncate: 50 }}</a>\\n              </td>\\n              <td>{{ item.Location }}</td>\\n              <td>\\n                <a ng-if=\"item.Ports.length > 0\" ng-repeat=\"p in item.Ports\" class=\"image-tag\" ng-href=\"http://{{ item.IPAddress }}:{{ p.host }}\" target=\"_blank\">\\n                  <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> {{ item.IPAddress }}:{{ p.host }}\\n                </a>\\n                <span ng-if=\"item.Ports.length == 0\">-</span>\\n              </td>\\n              <td>\\n                <span>\\n                  <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No container available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},16622:function(e){var t=\"app/azure/views/containerinstances/container-instance-details/containerInstanceDetails.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Container Instance\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"azure.containerinstances\">Container instances</a> &gt; {{ $ctrl.container.Name }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"!$ctrl.state.loading\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <div class=\"form-horizontal\" autocomplete=\"off\">\\n          <div class=\"col-sm-12 form-section-title\"> Azure settings </div>\\n          \\x3c!-- subscription-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"azure_subscription\" class=\"col-sm-2 control-label text-left\">Subscription</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.subscription.Name\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !subscription-input --\\x3e\\n          \\x3c!-- resourcegroup-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"azure_resourcegroup\" class=\"col-sm-2 control-label text-left\">Resource group</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.resourceGroup.Name\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !resourcegroup-input --\\x3e\\n          \\x3c!-- location-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"azure_location\" class=\"col-sm-2 control-label text-left\">Location</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.Location\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !location-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Container configuration </div>\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_name\" class=\"col-sm-2 control-label text-left\">Name</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.Name\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- image-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"image_name\" class=\"col-sm-2 control-label text-left\">Image</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.Image\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !image-input --\\x3e\\n          \\x3c!-- os-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_os\" class=\"col-sm-2 control-label text-left\">OS</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.OSType\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !os-input --\\x3e\\n          \\x3c!-- port-mapping --\\x3e\\n          <div class=\"form-group\" ng-if=\"$ctrl.container.Ports.length > 0\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\">Port mapping</label>\\n            </div>\\n            \\x3c!-- port-mapping-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n              <div ng-repeat=\"binding in $ctrl.container.Ports\" style=\"margin-top: 2px\">\\n                \\x3c!-- host-port --\\x3e\\n                <div class=\"input-group col-sm-4 input-group-sm\">\\n                  <span class=\"input-group-addon\">host</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"binding.host\" placeholder=\"e.g. 80\" disabled />\\n                </div>\\n                \\x3c!-- !host-port --\\x3e\\n                <span style=\"margin: 0 10px 0 10px\">\\n                  <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                </span>\\n                \\x3c!-- container-port --\\x3e\\n                <div class=\"input-group col-sm-4 input-group-sm\">\\n                  <span class=\"input-group-addon\">container</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"binding.container\" placeholder=\"e.g. 80\" disabled />\\n                </div>\\n                \\x3c!-- !container-port --\\x3e\\n                \\x3c!-- protocol-actions --\\x3e\\n                <div class=\"input-group col-sm-3 input-group-sm\">\\n                  <div class=\"btn-group btn-group-sm\">\\n                    <label class=\"btn btn-primary\" ng-model=\"binding.protocol\" uib-btn-radio=\"\\'TCP\\'\" disabled>TCP</label>\\n                    <label class=\"btn btn-primary\" ng-model=\"binding.protocol\" uib-btn-radio=\"\\'UDP\\'\" disabled>UDP</label>\\n                  </div>\\n                </div>\\n                \\x3c!-- !protocol-actions --\\x3e\\n              </div>\\n            </div>\\n            \\x3c!-- !port-mapping-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !port-mapping --\\x3e\\n          \\x3c!-- public-ip --\\x3e\\n          <div class=\"form-group\" ng-if=\"$ctrl.container.AllocatePublicIP\">\\n            <label for=\"public_ip\" class=\"col-sm-2 control-label text-left\"> Public IP </label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.IPAddress\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- public-ip --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Container resources </div>\\n          \\x3c!-- cpu-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_cpu\" class=\"col-sm-2 control-label text-left\">CPU</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.CPU\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !cpu-input --\\x3e\\n          \\x3c!-- memory-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_memory\" class=\"col-sm-2 control-label text-left\">Memory</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.Memory\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !memory-input --\\x3e\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n\\n  <access-control-panel\\n    ng-if=\"$ctrl.container\"\\n    resource-id=\"$ctrl.container.Id\"\\n    resource-control=\"$ctrl.container.ResourceControl\"\\n    resource-type=\"$ctrl.resourceType\"\\n    on-update-success=\"($ctrl.onUpdateSuccess)\"\\n  ></access-control-panel>\\n</div>\\n')}]),e.exports=t},14394:function(e){var t=\"app/azure/views/containerinstances/containerinstances.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Container list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"azure.containerinstances\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Container instances</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <containergroups-datatable\\n      title-text=\"Containers\"\\n      title-icon=\"fa-cubes\"\\n      dataset=\"containerGroups\"\\n      table-key=\"containergroups\"\\n      order-by=\"Name\"\\n      remove-action=\"deleteAction\"\\n    ></containergroups-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},81521:function(e){var t=\"app/docker/components/container-capabilities/containerCapabilities.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n  <div class=\"col-sm-12 form-section-title\"> Container capabilities </div>\\n  <div class=\"form-group\">\\n    <div ng-repeat=\"cap in $ctrl.capabilities\" class=\"col-xs-12 col-sm-6 col-md-4\">\\n      <div class=\"row\">\\n        <div class=\"col-xs-8\">\\n          <label for=\"capability\" class=\"control-label text-left\" style=\"display: flex; padding: 0\">\\n            {{ cap.capability }}\\n            <portainer-tooltip position=\"bottom\" message=\"{{ cap.description }}\"></portainer-tooltip>\\n          </label>\\n        </div>\\n        <div class=\"col-xs-4\">\\n          <label class=\"switch\"> <input type=\"checkbox\" name=\"capability\" ng-model=\"cap.allowed\" /><i></i> </label>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</form>\\n')}]),e.exports=t},80239:function(e){var t=\"app/docker/components/container-restart-policy/container-restart-policy.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div>\\n  <table class=\"table table-bordered table-condensed\">\\n    <tr>\\n      <td class=\"col-md-3\">\\n        <span>Name</span>\\n      </td>\\n      <td>\\n        <select class=\"form-control\" ng-model=\"$ctrl.state.editModel.name\" disable-authorization=\"DockerContainerUpdate\">\\n          <option value=\"no\">None</option>\\n          <option value=\"on-failure\">On Failure</option>\\n          <option value=\"always\">Always</option>\\n          <option value=\"unless-stopped\">Unless Stopped</option>\\n        </select>\\n      </td>\\n      <td class=\"col-md-2\" authorization=\"DockerContainerUpdate\">\\n        <button class=\"btn btn-sm btn-primary\" ng-click=\"$ctrl.save()\">Update</button>\\n      </td>\\n    </tr>\\n    <tr ng-if=\"$ctrl.state.editModel.name === \\'on-failure\\'\">\\n      <td class=\"col-md-3\">Maximum Retry Count</td>\\n      <td colspan=\"2\">\\n        <input type=\"number\" class=\"form-control\" ng-model=\"$ctrl.state.editModel.maximumRetryCount\" />\\n      </td>\\n    </tr>\\n  </table>\\n</div>\\n')}]),e.exports=t},171:function(e){var t=\"app/docker/components/dashboard-cluster-agent-info/dashboardClusterAgentInfo.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-widget>\\n  <rd-widget-header icon=\"fa-tachometer-alt\" title-text=\"Cluster information\"></rd-widget-header>\\n  <rd-widget-body classes=\"no-padding\">\\n    <table class=\"table\">\\n      <tbody>\\n        <tr>\\n          <td>Nodes in the cluster</td>\\n          <td>{{ $ctrl.agentCount }}</td>\\n        </tr>\\n        <tr>\\n          <td colspan=\"2\">\\n            <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n              <a ui-sref=\"docker.swarm.visualizer\"><i class=\"fa fa-object-group space-right\" aria-hidden=\"true\"></i>Go to cluster visualizer</a>\\n            </div>\\n          </td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </rd-widget-body>\\n</rd-widget>\\n')}]),e.exports=t},80602:function(e){var t=\"app/docker/components/datatables/configs-datatable/configsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\" authorization=\"DockerConfigDelete, DockerConfigCreate\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          authorization=\"DockerConfigDelete\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.configs.new\" authorization=\"DockerConfigCreate\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add config\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\" authorization=\"DockerConfigDelete, DockerConfigCreate\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreatedAt\\')\">\\n                  Creation Date\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreatedAt\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreatedAt\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" authorization=\"DockerConfigDelete, DockerConfigCreate\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"docker.configs.config({id: item.Id})\">{{ item.Name }}</a>\\n              </td>\\n              <td>{{ item.CreatedAt | getisodate }}</td>\\n              <td>\\n                <span>\\n                  <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No config available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},49229:function(e){var t=\"app/docker/components/datatables/container-networks-datatable/containerNetworksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <form class=\"form-horizontal\">\\n          <div class=\"row\" authorization=\"DockerNetworkConnect\">\\n            <label for=\"container_network\" class=\"col-sm-3 col-lg-2 control-label text-left\">Join a network</label>\\n            <div class=\"col-sm-5 col-lg-4\">\\n              <select class=\"form-control\" ng-model=\"$ctrl.selectedNetwork\" id=\"container_network\">\\n                <option selected disabled hidden value=\"\">Select a network</option>\\n                <option ng-repeat=\"net in $ctrl.availableNetworks | orderBy: \\'Name\\'\" ng-value=\"net.Id\">{{ net.Name }}</option>\\n              </select>\\n            </div>\\n            <div class=\"col-sm-1\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.joinNetworkActionInProgress || !$ctrl.selectedNetwork\"\\n                ng-click=\"$ctrl.joinNetworkAction($ctrl.container, $ctrl.selectedNetwork)\"\\n                button-spinner=\"$ctrl.joinNetworkActionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.joinNetworkActionInProgress\">Join network</span>\\n                <span ng-show=\"$ctrl.joinNetworkActionInProgress\">Joining network...</span>\\n              </button>\\n            </div>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>Network</th>\\n              <th>\\n                IP Address\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th>Gateway</th>\\n              <th>MAC Address</th>\\n              <th authorization=\"DockerNetworkDisconnect\">Actions</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate-start=\"(key, value) in $ctrl.dataset | itemsPerPage: $ctrl.state.paginatedItemLimit\"\\n              ng-class=\"{ active: item.Checked }\"\\n              ng-click=\"$ctrl.expandItem(value, !value.Expanded)\"\\n            >\\n              <td>\\n                <a ng-if=\"$ctrl.itemCanExpand(value)\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': value.Expanded, \\'fas fa-angle-right\\': !value.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i>\\n                </a>\\n                <a ui-sref=\"docker.networks.network({ id: key, nodeName: $ctrl.nodeName })\">{{ key }}</a>\\n              </td>\\n              <td>{{ value.IPAddress || \\'-\\' }}</td>\\n              <td>{{ value.Gateway || \\'-\\' }}</td>\\n              <td>{{ value.MacAddress || \\'-\\' }}</td>\\n              <td authorization=\"DockerNetworkDisconnect\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-xs btn-danger\"\\n                  ng-disabled=\"$ctrl.leaveNetworkActionInProgress || $ctrl.container.IsPortainer\"\\n                  button-spinner=\"$ctrl.leaveNetworkActionInProgress\"\\n                  ng-click=\"$ctrl.leaveNetworkAction($ctrl.container, key)\"\\n                >\\n                  <span ng-hide=\"$ctrl.leaveNetworkActionInProgress\"><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i> Leave network</span>\\n                  <span ng-show=\"$ctrl.leaveNetworkActionInProgress\">Leaving network...</span>\\n                </button>\\n              </td>\\n            </tr>\\n            <tr\\n              dir-paginate-end\\n              ng-show=\"$ctrl.itemCanExpand(value) && value.Expanded\"\\n              ng-class=\"{ \\'datatable-highlighted\\': value.Highlighted, \\'datatable-unhighlighted\\': !value.Highlighted }\"\\n            >\\n              <td colspan=\"1\"></td>\\n              <td colspan=\"1\">\\n                {{ value.GlobalIPv6Address }}\\n              </td>\\n              <td colspan=\"3\">\\n                {{ value.IPv6Gateway || \\'-\\' }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.dataset.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No network available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},85566:function(e){var t=\"app/docker/components/datatables/container-processes-datatable/containerProcessesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input type=\"text\" class=\"searchInput\" ng-model=\"$ctrl.state.textFilter\" placeholder=\"Search...\" auto-focus ng-model-options=\"{ debounce: 300 }\" />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th ng-repeat=\"header in $ctrl.headerset\">\\n                {{ header }}\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr dir-paginate=\"item in ($ctrl.state.filteredProcesses = ($ctrl.dataset | filter:$ctrl.state.textFilter | itemsPerPage: $ctrl.state.paginatedItemLimit))\">\\n              <td ng-repeat=\"info in item track by $index\">{{ info }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"{{ $ctrl.headerset.length }}\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredProcesses.length === 0\">\\n              <td colspan=\"{{ $ctrl.headerset.length }}\" class=\"text-center text-muted\">No process available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},2576:function(e){var t=\"app/docker/components/datatables/events-datatable/eventsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Time\\')\">\\n                  Date\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Time\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Time\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n                  Category\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Details\\')\">\\n                  Details\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Details\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Details\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>{{ item.Time | getisodatefromtimestamp }}</td>\\n              <td>{{ item.Type }}</td>\\n              <td>{{ item.Details }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No event available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},33261:function(e){var t=\"app/docker/components/datatables/images-datatable/imagesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\" ng-if=\"!$ctrl.offlineMode\" authorization=\"DockerImageDelete, DockerImageBuild, DockerImageLoad, DockerImageGet\">\\n        <div class=\"btn-group\" authorization=\"DockerImageDelete\">\\n          <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems, false)\">\\n            <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n          </button>\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-sm btn-danger dropdown-toggle\"\\n            data-toggle=\"dropdown\"\\n            aria-haspopup=\"true\"\\n            aria-expanded=\"false\"\\n            ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          >\\n            <span class=\"caret\"></span>\\n            <span class=\"sr-only\">Toggle Dropdown</span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"$ctrl.forceRemoveAction($ctrl.state.selectedItems, true)\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\">Force Remove</a></li>\\n          </ul>\\n        </div>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.images.build\" authorization=\"DockerImageBuild\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Build a new image\\n        </button>\\n        <div class=\"btn-group\">\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ng-disabled=\"$ctrl.exportInProgress\" ui-sref=\"docker.images.import\" authorization=\"DockerImageLoad\">\\n            <i class=\"fa fa-upload space-right\" aria-hidden=\"true\"></i>Import\\n          </button>\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-sm btn-primary\"\\n            ng-disabled=\"$ctrl.state.selectedItemCount === 0 || $ctrl.exportInProgress\"\\n            ng-click=\"$ctrl.downloadAction($ctrl.state.selectedItems)\"\\n            button-spinner=\"$ctrl.exportInProgress\"\\n            authorization=\"DockerImageGet\"\\n          >\\n            <i class=\"fa fa-download space-right\" aria-hidden=\"true\"></i>\\n            <span ng-hide=\"$ctrl.exportInProgress\">Export</span>\\n            <span ng-show=\"$ctrl.exportInProgress\">Export in progress...</span>\\n          </button>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover table-filters nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th uib-dropdown dropdown-append-to-body auto-close=\"disabled\" popover-placement=\"bottom-left\" is-open=\"$ctrl.filters.state.open\">\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Id\\')\">\\n                  Id\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n                <div>\\n                  <span uib-dropdown-toggle class=\"table-filter\" ng-if=\"!$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-filter\" aria-hidden=\"true\"></i></span>\\n                  <span uib-dropdown-toggle class=\"table-filter filter-active\" ng-if=\"$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-check\" aria-hidden=\"true\"></i></span>\\n                </div>\\n                <div class=\"dropdown-menu\" uib-dropdown-menu>\\n                  <div class=\"tableMenu\">\\n                    <div class=\"menuHeader\"> Filter by usage </div>\\n                    <div class=\"menuContent\">\\n                      <div class=\"md-checkbox\">\\n                        <input id=\"filter_usage_usedImages\" type=\"checkbox\" ng-model=\"$ctrl.filters.state.showUsedImages\" ng-change=\"$ctrl.onstateFilterChange()\" />\\n                        <label for=\"filter_usage_usedImages\">Used images</label>\\n                      </div>\\n                      <div class=\"md-checkbox\">\\n                        <input id=\"filter_usage_unusedImages\" type=\"checkbox\" ng-model=\"$ctrl.filters.state.showUnusedImages\" ng-change=\"$ctrl.onstateFilterChange()\" />\\n                        <label for=\"filter_usage_unusedImages\">Unused images</label>\\n                      </div>\\n                    </div>\\n                    <div>\\n                      <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.filters.state.open = false;\">Close</a>\\n                    </div>\\n                  </div>\\n                </div>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'RepoTags\\')\">\\n                  Tags\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'RepoTags\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'RepoTags\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'VirtualSize\\')\">\\n                  Size\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'VirtualSize\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'VirtualSize\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Created\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Created\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Created\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.showHostColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'NodeName\\')\">\\n                  Host\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ng-if=\"!$ctrl.offlineMode\" ui-sref=\"docker.images.image({ id: item.Id, nodeName: item.NodeName })\" class=\"monospaced\" title=\"{{ item.Id }}\">{{\\n                  item.Id | truncate: 40\\n                }}</a>\\n                <span ng-if=\"$ctrl.offlineMode\">{{ item.Id | truncate: 40 }}</span>\\n                <span style=\"margin-left: 10px\" class=\"label label-warning image-tag\" ng-if=\"::item.ContainerCount === 0\">Unused</span>\\n              </td>\\n              <td>\\n                <span class=\"label label-primary image-tag\" ng-repeat=\"tag in (item | repotags) track by $index\">{{ tag }}</span>\\n              </td>\\n              <td>{{ item.VirtualSize | humansize }}</td>\\n              <td>{{ item.Created | getisodatefromtimestamp }}</td>\\n              <td ng-if=\"$ctrl.showHostColumn\">{{ item.NodeName ? item.NodeName : \\'-\\' }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No image available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},19618:function(e){var t=\"app/docker/components/datatables/macvlan-nodes-datatable/macvlanNodesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Hostname\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Hostname\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Hostname\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Role\\')\">\\n                  Role\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'EngineVersion\\')\">\\n                  Engine\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'EngineVersion\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'EngineVersion\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.showIpAddressColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Addr\\')\">\\n                  IP Address\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Addr\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Addr\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"docker.nodes.node({id: item.Id})\" ng-if=\"$ctrl.accessToNodeDetails\">{{ item.Hostname }}</a>\\n                <span ng-if=\"!$ctrl.accessToNodeDetails\">{{ item.Hostname }}</span>\\n              </td>\\n              <td>{{ item.Role }}</td>\\n              <td>{{ item.EngineVersion }}</td>\\n              <td ng-if=\"$ctrl.showIpAddressColumn\">{{ item.Addr }}</td>\\n              <td>\\n                <span class=\"label label-{{ item.Status | nodestatusbadge }}\">{{ item.Status }}</span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">No node available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},47967:function(e){var t=\"app/docker/components/datatables/networks-datatable/network-row-content/networkRowContent.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<td ng-if=\"allowCheckbox\">\\n  <span class=\"md-checkbox\" ng-if=\"!parentCtrl.offlineMode\" authorization=\"DockerNetworkDelete, DockerNetworkCreate\">\\n    <input\\n      id=\"select_{{ $index }}\"\\n      type=\"checkbox\"\\n      ng-model=\"item.Checked\"\\n      ng-click=\"parentCtrl.selectItem(item, $event); $event.stopPropagation()\"\\n      ng-disabled=\"parentCtrl.disableRemove(item)\"\\n    />\\n    <label for=\"select_{{ $index }}\"></label>\\n  </span>\\n  <a ng-if=\"parentCtrl.itemCanExpand(item)\"\\n    ><i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i\\n  ></a>\\n</td>\\n<td ng-if=\"!allowCheckbox\"></td>\\n<td>\\n  <a ng-if=\"!parentCtrl.offlineMode\" ui-sref=\"docker.networks.network({ id: item.Id, nodeName: item.NodeName })\" title=\"{{ item.Name }}\">{{ item.Name | truncate: 40 }}</a>\\n  <span ng-if=\"parentCtrl.offlineMode\">{{ item.Name | truncate: 40 }}</span>\\n  <span style=\"margin-left: 10px\" class=\"label label-info image-tag space-left\" ng-if=\"item.ResourceControl.System\">System</span>\\n</td>\\n<td>{{ item.StackName ? item.StackName : \\'-\\' }}</td>\\n<td>{{ item.Driver }}</td>\\n<td>{{ item.Attachable }}</td>\\n<td>{{ item.IPAM.Driver }}</td>\\n<td>{{ item.IPAM.IPV4Configs[0].Subnet ? item.IPAM.IPV4Configs[0].Subnet : \\'-\\' }}</td>\\n<td>{{ item.IPAM.IPV4Configs[0].Gateway ? item.IPAM.IPV4Configs[0].Gateway : \\'-\\' }}</td>\\n<td>{{ item.IPAM.IPV6Configs[0].Subnet ? item.IPAM.IPV6Configs[0].Subnet : \\'-\\' }}</td>\\n<td>{{ item.IPAM.IPV6Configs[0].Gateway ? item.IPAM.IPV6Configs[0].Gateway : \\'-\\' }}</td>\\n<td ng-if=\"parentCtrl.showHostColumn\">{{ item.NodeName ? item.NodeName : \\'-\\' }}</td>\\n<td>\\n  <span>\\n    <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n    {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = RCO.ADMINISTRATORS }}\\n  </span>\\n</td>\\n')}]),e.exports=t},94369:function(e){var t=\"app/docker/components/datatables/networks-datatable/networksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\" ng-if=\"!$ctrl.offlineMode\" authorization=\"DockerNetworkDelete, DockerNetworkCreate\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          authorization=\"DockerNetworkDelete\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.networks.new\" authorization=\"DockerNetworkCreate\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add network\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th style=\"width: 55px\">\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\" authorization=\"DockerNetworkDelete, DockerNetworkCreate\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Driver\\')\">\\n                  Driver\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Driver\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Driver\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Attachable\\')\">\\n                  Attachable\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Attachable\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Attachable\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IPAM.Driver\\')\">\\n                  IPAM Driver\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.Driver\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.Driver\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IPAM.IPV4Configs[0].Subnet\\')\">\\n                  IPV4 IPAM Subnet\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV4Configs[0].Subnet\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV4Configs[0].Subnet\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IPAM.IPV4Configs[0].Gateway\\')\">\\n                  IPV4 IPAM Gateway\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV4Configs[0].Gateway\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV4Configs[0].Gateway\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IPAM.IPV6Configs[0].Subnet\\')\">\\n                  IPV6 IPAM Subnet\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV6Configs[0].Subnet\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV6Configs[0].Subnet\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IPAM.IPV6Configs[0].Gateway\\')\">\\n                  IPV6 IPAM Gateway\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV6Configs[0].Gateway\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV6Configs[0].Gateway\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.showHostColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'NodeName\\')\">\\n                  Host\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n              network-row-content\\n              item=\"item\"\\n              parent-ctrl=\"$ctrl\"\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              allow-checkbox=\"true\"\\n            >\\n            </tr>\\n            <tr dir-paginate-end ng-show=\"item.Expanded\" ng-repeat=\"it in item.Subs\" class=\"datatable-highlighted\" network-row-content item=\"it\" parent-ctrl=\"$ctrl\"> </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"9\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"9\" class=\"text-center text-muted\">No network available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},64255:function(e){var t=\"app/docker/components/datatables/node-tasks-datatable/nodeTasksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Id\\')\">\\n                  Id\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Slot\\')\">\\n                  Slot\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Slot\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Slot\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Spec.ContainerSpec.Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Spec.ContainerSpec.Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Spec.ContainerSpec.Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Updated\\')\">\\n                  Last Update\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Updated\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Updated\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td\\n                ><a ui-sref=\"docker.tasks.task({id: item.Id})\" class=\"monospaced\">{{ item.Id }}</a></td\\n              >\\n              <td\\n                ><span class=\"label label-{{ item.Status.State | taskstatusbadge }}\">{{ item.Status.State }}</span></td\\n              >\\n              <td>{{ item.Slot ? item.Slot : \\'-\\' }}</td>\\n              <td>{{ item.Spec.ContainerSpec.Image | hideshasum }}</td>\\n              <td>{{ item.Updated | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No task available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},53379:function(e){var t=\"app/docker/components/datatables/nodes-datatable/nodesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Hostname\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Hostname\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Hostname\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Role\\')\">\\n                  Role\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CPUs\\')\">\\n                  CPU\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPUs\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPUs\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Memory\\')\">\\n                  Memory\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'EngineVersion\\')\">\\n                  Engine\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'EngineVersion\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'EngineVersion\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.showIpAddressColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Addr\\')\">\\n                  IP Address\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Addr\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Addr\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Availability\\')\">\\n                  Availability\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Availability\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Availability\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <a ui-sref=\"docker.nodes.node({id: item.Id})\" ng-if=\"$ctrl.accessToNodeDetails\">{{ item.Name || item.Hostname }}</a>\\n                <span ng-if=\"!$ctrl.accessToNodeDetails\">{{ item.Name || item.Hostname }}</span>\\n              </td>\\n              <td>{{ item.Role }}</td>\\n              <td>{{ item.CPUs / 1000000000 }}</td>\\n              <td>{{ item.Memory | humansize }}</td>\\n              <td>{{ item.EngineVersion }}</td>\\n              <td ng-if=\"$ctrl.showIpAddressColumn\">{{ item.Addr }}</td>\\n              <td\\n                ><span class=\"label label-{{ item.Status | nodestatusbadge }}\">{{ item.Status }}</span></td\\n              >\\n              <td\\n                ><span class=\"label label-{{ item.Availability | dockerNodeAvailabilityBadge }}\">{{ item.Availability }}</span></td\\n              >\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">No node available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},7091:function(e){var t=\"app/docker/components/datatables/secrets-datatable/secretsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\" authorization=\"DockerSecretDelete, DockerSecretCreate\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          authorization=\"DockerSecretDelete\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.secrets.new\" authorization=\"DockerSecretCreate\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add secret\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\" authorization=\"DockerSecretDelete, DockerSecretCreate\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreatedAt\\')\">\\n                  Creation Date\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreatedAt\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreatedAt\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" authorization=\"DockerSecretDelete, DockerSecretCreate\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"docker.secrets.secret({id: item.Id})\">{{ item.Name }}</a>\\n              </td>\\n              <td>{{ item.CreatedAt | getisodate }}</td>\\n              <td>\\n                <span>\\n                  <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No secret available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},71483:function(e){var t=\"app/docker/components/datatables/service-tasks-datatable/serviceTasksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"service-datatable\">\\n  <table class=\"table table-condensed table-hover nowrap-cells\">\\n    <thead>\\n      <tr>\\n        <th uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.filters.state.open\" style=\"width: 10%\">\\n          <a ng-click=\"$ctrl.changeOrderBy(\\'Status.State\\')\">\\n            Status\\n            <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status.State\\' && !$ctrl.state.reverseOrder\"></i>\\n            <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status.State\\' && $ctrl.state.reverseOrder\"></i>\\n          </a>\\n          <span class=\"space-left\">\\n            <span uib-dropdown-toggle class=\"table-filter\" ng-if=\"!$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-filter\" aria-hidden=\"true\"></i></span>\\n            <span uib-dropdown-toggle class=\"table-filter filter-active\" ng-if=\"$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-check\" aria-hidden=\"true\"></i></span>\\n          </span>\\n          <div class=\"dropdown-menu\" uib-dropdown-menu>\\n            <div class=\"tableMenu\">\\n              <div class=\"menuHeader\"> Filter by state </div>\\n              <div class=\"menuContent\">\\n                <div class=\"md-checkbox\" ng-repeat=\"filter in $ctrl.filters.state.values track by $index\">\\n                  <input id=\"filter_state_{{ $ctrl.serviceId }}_{{ $index }}\" type=\"checkbox\" ng-model=\"filter.display\" ng-change=\"$ctrl.onStateFilterChange()\" />\\n                  <label for=\"filter_state_{{ $ctrl.serviceId }}_{{ $index }}\">{{ filter.label }}</label>\\n                </div>\\n              </div>\\n              <div>\\n                <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.filters.state.open = false;\">Close</a>\\n              </div>\\n            </div>\\n          </div>\\n        </th>\\n        <th style=\"width: 22%\">Task</th>\\n        <th>Actions</th>\\n        <th>\\n          <a ng-click=\"$ctrl.changeOrderBy(\\'Slot\\')\">\\n            Slot\\n            <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Slot\\' && !$ctrl.state.reverseOrder\"></i>\\n            <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Slot\\' && $ctrl.state.reverseOrder\"></i>\\n          </a>\\n        </th>\\n        <th>\\n          <a ng-click=\"$ctrl.changeOrderBy(\\'NodeId\\')\">\\n            Node\\n            <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeId\\' && !$ctrl.state.reverseOrder\"></i>\\n            <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeId\\' && $ctrl.state.reverseOrder\"></i>\\n          </a>\\n        </th>\\n        <th>\\n          <a ng-click=\"$ctrl.changeOrderBy(\\'Updated\\')\">\\n            Last Update\\n            <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Updated\\' && !$ctrl.state.reverseOrder\"></i>\\n            <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Updated\\' && $ctrl.state.reverseOrder\"></i>\\n          </a>\\n        </th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr\\n        ng-repeat=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder))\"\\n      >\\n        <td class=\"text-center\">\\n          <span class=\"label label-{{ item.Status.State | taskstatusbadge }} space-right\">{{ item.Status.State }}</span>\\n        </td>\\n        <td>\\n          <a ng-if=\"!$ctrl.agentProxy || !item.Container\" ui-sref=\"docker.tasks.task({id: item.Id})\" class=\"monospaced\">{{ item.Id }}</a>\\n          <a ng-if=\"$ctrl.agentProxy && item.Container\" ui-sref=\"docker.containers.container({ id: item.Container.Id, nodeName: item.Container.NodeName })\" class=\"monospaced\">{{\\n            item.Id\\n          }}</a>\\n        </td>\\n        <td>\\n          <container-quick-actions\\n            ng-if=\"!$ctrl.agentProxy || !item.Container\"\\n            container-id=\"item.ContainerId\"\\n            task-id=\"item.Id\"\\n            status=\"item.Status.State\"\\n            state=\"$ctrl.state\"\\n          ></container-quick-actions>\\n          <container-quick-actions\\n            ng-if=\"$ctrl.agentProxy && item.Container\"\\n            container-id=\"item.Container.Id\"\\n            node-name=\"item.Container.NodeName\"\\n            status=\"item.Status.State\"\\n            state=\"$ctrl.state\"\\n          ></container-quick-actions>\\n        </td>\\n        <td>{{ item.Slot ? item.Slot : \\'-\\' }}</td>\\n        <td>{{ item.NodeId | tasknodename: $ctrl.nodes }}</td>\\n        <td>{{ item.Updated | getisodate }}</td>\\n      </tr>\\n      <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n        <td colspan=\"5\" class=\"text-center text-muted\">No task matching filter.</td>\\n      </tr>\\n    </tbody>\\n  </table>\\n</div>\\n')}]),e.exports=t},62318:function(e){var t=\"app/docker/components/datatables/services-datatable/actions/servicesDatatableActions.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"actionBar\" authorization=\"DockerServiceUpdate, DockerServiceDelete, DockerServiceCreate\">\\n  <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n    <button\\n      ng-if=\"$ctrl.showUpdateAction\"\\n      type=\"button\"\\n      class=\"btn btn-sm btn-primary\"\\n      authorization=\"DockerServiceUpdate\"\\n      ng-disabled=\"$ctrl.selectedItemCount === 0\"\\n      ng-click=\"$ctrl.updateAction($ctrl.selectedItems)\"\\n    >\\n      <i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i>Update\\n    </button>\\n    <button\\n      type=\"button\"\\n      class=\"btn btn-sm btn-danger\"\\n      authorization=\"DockerServiceDelete\"\\n      ng-disabled=\"$ctrl.selectedItemCount === 0\"\\n      ng-click=\"$ctrl.removeAction($ctrl.selectedItems)\"\\n    >\\n      <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n    </button>\\n  </div>\\n  <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.services.new\" ng-if=\"$ctrl.showAddAction\" authorization=\"DockerServiceCreate\">\\n    <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add service\\n  </button>\\n</div>\\n')}]),e.exports=t},19610:function(e){var t=\"app/docker/components/datatables/services-datatable/servicesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <datatable-columns-visibility columns=\"$ctrl.columnVisibility.columns\" on-change=\"($ctrl.onColumnVisibilityChange)\"></datatable-columns-visibility>\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <services-datatable-actions\\n        selected-items=\"$ctrl.state.selectedItems\"\\n        selected-item-count=\"$ctrl.state.selectedItemCount\"\\n        show-add-action=\"$ctrl.showAddAction\"\\n        show-update-action=\"$ctrl.showUpdateAction\"\\n        endpoint-id=\"$ctrl.endpointId\"\\n      ></services-datatable-actions>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          focus-if=\"!$ctrl.notAutoFocus\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th style=\"width: 55px\">\\n                <span class=\"md-checkbox\" authorization=\"DockerServiceUpdate, DockerServiceDelete, DockerServiceCreate\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.expandAll()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.showStackColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-show=\"$ctrl.columnVisibility.columns.image.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Mode\\')\">\\n                  Scheduling Mode\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Mode\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Mode\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-show=\"$ctrl.columnVisibility.columns.ports.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Ports\\')\">\\n                  Published Ports\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Ports\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Ports\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-show=\"$ctrl.columnVisibility.columns.updated.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'UpdatedAt\\')\">\\n                  Last Update\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'UpdatedAt\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'UpdatedAt\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-show=\"$ctrl.columnVisibility.columns.ownership.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n              class=\"interactive\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" authorization=\"DockerServiceUpdate, DockerServiceDelete, DockerServiceCreate\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event); $event.stopPropagation()\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a><i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i></a>\\n              </td>\\n              <td>\\n                <a ui-sref=\"docker.services.service({id: item.Id})\" ng-click=\"$event.stopPropagation()\">{{ item.Name }}</a>\\n              </td>\\n              <td ng-if=\"$ctrl.showStackColumn\">{{ item.StackName ? item.StackName : \\'-\\' }}</td>\\n              <td ng-show=\"$ctrl.columnVisibility.columns.image.display\">{{ item.Image | hideshasum }}</td>\\n              <td ng-controller=\"ServicesDatatableActionsController as actionCtrl\">\\n                {{ item.Mode }}\\n                <code>{{ item.Tasks | runningtaskscount }}</code> / <code>{{ item.Mode === \\'replicated\\' ? item.Replicas : ($ctrl.nodes | availablenodecount: item) }}</code>\\n                <span ng-if=\"item.Mode === \\'replicated\\' && !item.Scale\" authorization=\"DockerServiceUpdate\">\\n                  <a class=\"interactive\" ng-click=\"item.Scale = true; item.ReplicaCount = item.Replicas; $event.stopPropagation();\">\\n                    <i class=\"fa fa-arrows-alt-v\" aria-hidden=\"true\"></i> Scale\\n                  </a>\\n                </span>\\n                <span ng-if=\"item.Mode === \\'replicated\\' && item.Scale\">\\n                  <input\\n                    class=\"input-sm\"\\n                    type=\"number\"\\n                    min=\"0\"\\n                    step=\"1\"\\n                    ng-model=\"item.Replicas\"\\n                    on-enter-key=\"actionCtrl.scaleAction(item)\"\\n                    auto-focus\\n                    ng-click=\"$event.stopPropagation();\"\\n                  />\\n                  <a class=\"interactive\" ng-click=\"item.Scale = false; $event.stopPropagation();\"><i class=\"fa fa-times\"></i></a>\\n                  <a class=\"interactive\" ng-click=\"actionCtrl.scaleAction(item); $event.stopPropagation();\"><i class=\"fa fa-check-square\"></i></a>\\n                </span>\\n              </td>\\n              <td ng-show=\"$ctrl.columnVisibility.columns.ports.display\">\\n                <a\\n                  ng-if=\"item.Ports && item.Ports.length > 0 && p.PublishedPort\"\\n                  ng-repeat=\"p in item.Ports\"\\n                  class=\"image-tag\"\\n                  ng-href=\"http://{{ $ctrl.endpointPublicUrl }}:{{ p.PublishedPort }}\"\\n                  target=\"_blank\"\\n                  ng-click=\"$event.stopPropagation();\"\\n                >\\n                  <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> {{ p.PublishedPort }}:{{ p.TargetPort }}\\n                </a>\\n                <span ng-if=\"!item.Ports || item.Ports.length === 0\">-</span>\\n              </td>\\n              <td ng-show=\"$ctrl.columnVisibility.columns.updated.display\">{{ item.UpdatedAt | getisodate }}</td>\\n              <td ng-show=\"$ctrl.columnVisibility.columns.ownership.display\">\\n                <span>\\n                  <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr dir-paginate-end ng-show=\"item.Expanded\">\\n              <td></td>\\n              <td colspan=\"8\">\\n                <service-tasks-datatable\\n                  dataset=\"item.Tasks\"\\n                  service-id=\"item.Id\"\\n                  table-key=\"service-tasks\"\\n                  order-by=\"Status.State\"\\n                  nodes=\"$ctrl.nodes\"\\n                  agent-proxy=\"$ctrl.agentProxy\"\\n                  show-task-logs-button=\"$ctrl.showTaskLogsButton\"\\n                  text-filter=\"$ctrl.state.textFilter\"\\n                ></service-tasks-datatable>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"8\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"8\" class=\"text-center text-muted\">No service available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},40381:function(e){var t=\"app/docker/components/datatables/tasks-datatable/tasksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Id\\')\">\\n                  Id\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Actions</th>\\n              <th ng-if=\"$ctrl.showSlotColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Slot\\')\">\\n                  Slot\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Slot\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Slot\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'NodeId\\')\">\\n                  Node\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeId\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeId\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Updated\\')\">\\n                  Last Update\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Updated\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Updated\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td\\n                ><span class=\"label label-{{ item.Status.State | taskstatusbadge }}\">{{ item.Status.State }}</span></td\\n              >\\n              <td>\\n                <a ng-if=\"!$ctrl.agentProxy || !item.Container\" ui-sref=\"docker.tasks.task({id: item.Id})\" class=\"monospaced\"\\n                  >{{ item.ServiceName }}{{ item.Slot ? \\'.\\' + item.Slot : \\'\\' }}{{ \\'.\\' + item.Id }}</a\\n                >\\n                <a ng-if=\"$ctrl.agentProxy && item.Container\" ui-sref=\"docker.containers.container({ id: item.Container.Id, nodeName: item.Container.NodeName })\" class=\"monospaced\"\\n                  >{{ item.ServiceName }}{{ item.Slot ? \\'.\\' + item.Slot : \\'\\' }}{{ \\'.\\' + item.Id }}</a\\n                >\\n              </td>\\n              <td>\\n                <container-quick-actions\\n                  ng-if=\"!$ctrl.agentProxy || !item.Container\"\\n                  container-id=\"item.ContainerId\"\\n                  task-id=\"item.Id\"\\n                  status=\"item.Status.State\"\\n                  state=\"$ctrl.state\"\\n                ></container-quick-actions>\\n                <container-quick-actions\\n                  ng-if=\"$ctrl.agentProxy && item.Container\"\\n                  container-id=\"item.Container.Id\"\\n                  node-name=\"item.Container.NodeName\"\\n                  status=\"item.Status.State\"\\n                  state=\"$ctrl.state\"\\n                ></container-quick-actions>\\n              </td>\\n              <td ng-if=\"$ctrl.showSlotColumn\">{{ item.Slot ? item.Slot : \\'-\\' }}</td>\\n              <td>{{ item.NodeId | tasknodename: $ctrl.nodes }}</td>\\n              <td>{{ item.Updated | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">No task available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},43761:function(e){var t=\"app/docker/components/datatables/volumes-datatable/volumesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\" ng-if=\"!$ctrl.offlineMode\" authorization=\"DockerVolumeDelete, DockerVolumeCreate\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          authorization=\"DockerVolumeDelete\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.volumes.new\" authorization=\"DockerVolumeCreate\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add volume\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover table-filters nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.filters.state.open\">\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\" authorization=\"DockerVolumeDelete, DockerVolumeCreate\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Id\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n                <div>\\n                  <span uib-dropdown-toggle class=\"table-filter\" ng-if=\"!$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-filter\" aria-hidden=\"true\"></i></span>\\n                  <span uib-dropdown-toggle class=\"table-filter filter-active\" ng-if=\"$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-check\" aria-hidden=\"true\"></i></span>\\n                </div>\\n                <div class=\"dropdown-menu\" uib-dropdown-menu>\\n                  <div class=\"tableMenu\">\\n                    <div class=\"menuHeader\"> Filter by usage </div>\\n                    <div class=\"menuContent\">\\n                      <div class=\"md-checkbox\">\\n                        <input id=\"filter_usage_usedImages\" type=\"checkbox\" ng-model=\"$ctrl.filters.state.showUsedVolumes\" ng-change=\"$ctrl.onstateFilterChange()\" />\\n                        <label for=\"filter_usage_usedImages\">Used volumes</label>\\n                      </div>\\n                      <div class=\"md-checkbox\">\\n                        <input id=\"filter_usage_unusedImages\" type=\"checkbox\" ng-model=\"$ctrl.filters.state.showUnusedVolumes\" ng-change=\"$ctrl.onstateFilterChange()\" />\\n                        <label for=\"filter_usage_unusedImages\">Unused volumes</label>\\n                      </div>\\n                    </div>\\n                    <div>\\n                      <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.filters.state.open = false;\">Close</a>\\n                    </div>\\n                  </div>\\n                </div>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Driver\\')\">\\n                  Driver\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Driver\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Driver\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Mountpoint\\')\">\\n                  Mount point\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Mountpoint\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Mountpoint\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreatedAt\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreatedAt\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreatedAt\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.showHostColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'NodeName\\')\">\\n                  Host\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\" authorization=\"DockerVolumeDelete, DockerVolumeCreate\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ng-if=\"!$ctrl.offlineMode\" ui-sref=\"docker.volumes.volume({ id: item.Id, nodeName: item.NodeName })\" class=\"monospaced\" title=\"{{ item.Id }}\">{{\\n                  item.Id | truncate: 40\\n                }}</a>\\n                <span ng-if=\"$ctrl.offlineMode\">{{ item.Id | truncate: 40 }}</span>\\n                <btn authorization=\"DockerAgentBrowseList\" ng-if=\"$ctrl.showBrowseAction && !$ctrl.offlineMode\">\\n                  <a ui-sref=\"docker.volumes.volume.browse({ id: item.Id, nodeName: item.NodeName })\" class=\"btn btn-xs btn-primary space-left\">\\n                    <i class=\"fa fa-search\"></i> browse\\n                  </a>\\n                </btn>\\n                <span style=\"margin-left: 10px\" class=\"label label-warning image-tag space-left\" ng-if=\"item.dangling\">Unused</span>\\n              </td>\\n              <td>{{ item.StackName ? item.StackName : \\'-\\' }}</td>\\n              <td>{{ item.Driver }}</td>\\n              <td>{{ item.Mountpoint | truncatelr }}</td>\\n              <td>{{ item.CreatedAt | getisodate }}</td>\\n              <td ng-if=\"$ctrl.showHostColumn\">{{ item.NodeName ? item.NodeName : \\'-\\' }}</td>\\n              <td>\\n                <span>\\n                  <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">No volume available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},23744:function(e){var t=\"app/docker/components/docker-sidebar/docker-sidebar.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<sidebar-menu-item\\n  path=\"docker.dashboard\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-tachometer-alt fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-dashboard\"\\n  title=\"Dashboard\"\\n>\\n  Dashboard\\n</sidebar-menu-item>\\n\\n<sidebar-menu\\n  ng-if=\"!$ctrl.offlineMode\"\\n  label=\"App Templates\"\\n  icon-class=\"fa-rocket fa-fw\"\\n  path=\"docker.templates\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  is-sidebar-open=\"$ctrl.isSidebarOpen\"\\n  children-paths=\"[]\"\\n>\\n  <sidebar-menu-item\\n    path=\"docker.templates.custom\"\\n    path-params=\"{ endpointId: $ctrl.endpointId }\"\\n    class-name=\"sidebar-sublist\"\\n    data-cy=\"dockerSidebar-customTemplates\"\\n    title=\"Custom Templates\"\\n  >\\n    Custom Templates\\n  </sidebar-menu-item>\\n</sidebar-menu>\\n\\n<sidebar-menu-item\\n  ng-if=\"$ctrl.showStacks\"\\n  path=\"docker.stacks\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-th-list fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-stacks\"\\n  title=\"Stacks\"\\n>\\n  Stacks\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  ng-if=\"$ctrl.swarmManagement\"\\n  path=\"docker.services\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-list-alt fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-services\"\\n  title=\"Services\"\\n>\\n  Services\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"docker.containers\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-cubes fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-containers\"\\n  title=\"Containers\"\\n>\\n  Containers\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"docker.images\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-clone fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-images\"\\n  title=\"Images\"\\n>\\n  Images\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"docker.networks\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-sitemap fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-networks\"\\n  title=\"Networks\"\\n>\\n  Networks\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"docker.volumes\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-hdd fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-volumes\"\\n  title=\"Volumes\"\\n>\\n  Volumes\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  ng-if=\"$ctrl.endpointApiVersion >= 1.3 && $ctrl.swarmManagement\"\\n  path=\"docker.configs\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-file-code fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-configs\"\\n  title=\"Configs\"\\n>\\n  Configs\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  ng-if=\"$ctrl.endpointApiVersion >= 1.25 && $ctrl.swarmManagement\"\\n  path=\"docker.secrets\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-user-secret fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-secrets\"\\n  title=\"Secrets\"\\n>\\n  Secrets\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  ng-if=\"$ctrl.standaloneManagement && $ctrl.adminAccess && !$ctrl.offlineMode\"\\n  path=\"docker.events\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-history fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-events\"\\n  title=\"Events\"\\n>\\n  Events\\n</sidebar-menu-item>\\n\\n<sidebar-menu\\n  ng-if=\"$ctrl.standaloneManagement\"\\n  label=\"Host\"\\n  icon-class=\"fa-th fa-fw\"\\n  path=\"docker.host\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  is-sidebar-open=\"$ctrl.isSidebarOpen\"\\n  children-paths=\"[\\'docker.registries\\', \\'docker.registries.access\\', \\'docker.featuresConfiguration\\']\"\\n>\\n  <sidebar-menu-item\\n    ng-if=\"$ctrl.adminAccess\"\\n    authorization=\"PortainerEndpointUpdateSettings\"\\n    path=\"docker.featuresConfiguration\"\\n    path-params=\"{ endpointId: $ctrl.endpointId }\"\\n    class-name=\"sidebar-sublist\"\\n    data-cy=\"dockerSidebar-setup\"\\n    title=\"Setup\"\\n  >\\n    Setup\\n  </sidebar-menu-item>\\n\\n  <sidebar-menu-item path=\"docker.registries\" path-params=\"{ endpointId: $ctrl.endpointId }\" class-name=\"sidebar-sublist\" data-cy=\"dockerSidebar-registries\" title=\"Registries\">\\n    Registries\\n  </sidebar-menu-item>\\n</sidebar-menu>\\n\\n<sidebar-menu\\n  ng-if=\"$ctrl.swarmManagement\"\\n  label=\"Swarm\"\\n  icon-class=\"fa-object-group fa-fw\"\\n  path=\"docker.swarm\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  is-sidebar-open=\"$ctrl.isSidebarOpen\"\\n  children-paths=\"[\\'docker.registries\\', \\'docker.registries.access\\', \\'docker.featuresConfiguration\\']\"\\n>\\n  <sidebar-menu-item\\n    ng-if=\"$ctrl.adminAccess\"\\n    authorization=\"PortainerEndpointUpdateSettings\"\\n    path=\"docker.featuresConfiguration\"\\n    path-params=\"{ endpointId: $ctrl.endpointId }\"\\n    class-name=\"sidebar-sublist\"\\n    data-cy=\"swarmSidebar-setup\"\\n    title=\"Setup\"\\n  >\\n    Setup\\n  </sidebar-menu-item>\\n\\n  <sidebar-menu-item path=\"docker.registries\" path-params=\"{ endpointId: $ctrl.endpointId }\" class-name=\"sidebar-sublist\" data-cy=\"swarmSidebar-registries\" title=\"Registries\">\\n    Registries\\n  </sidebar-menu-item>\\n</sidebar-menu>\\n')}]),e.exports=t},9831:function(e){var t=\"app/docker/components/host-overview/host-overview.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Host overview\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"{{ $ctrl.refreshUrl }}\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Docker</rd-header-content>\\n</rd-header>\\n\\n<information-panel-offline ng-if=\"$ctrl.offlineMode\"></information-panel-offline>\\n\\n<host-details-panel\\n  host=\"$ctrl.hostDetails\"\\n  is-browse-enabled=\"$ctrl.isAgent && $ctrl.agentApiVersion > 1 && !$ctrl.offlineMode && $ctrl.hostFeaturesEnabled\"\\n  browse-url=\"{{ $ctrl.browseUrl }}\"\\n></host-details-panel>\\n\\n<engine-details-panel engine=\"$ctrl.engineDetails\"></engine-details-panel>\\n\\n<devices-panel ng-if=\"$ctrl.isAgent && $ctrl.agentApiVersion > 1 && !$ctrl.offlineMode && $ctrl.hostFeaturesEnabled\" devices=\"$ctrl.devices\"></devices-panel>\\n<disks-panel ng-if=\"$ctrl.isAgent && $ctrl.agentApiVersion > 1 && !$ctrl.offlineMode && $ctrl.hostFeaturesEnabled\" disks=\"$ctrl.disks\"></disks-panel>\\n\\n<ng-transclude></ng-transclude>\\n')}]),e.exports=t},56797:function(e){var t=\"app/docker/components/host-view-panels/devices-panel/devices-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-code\" title-text=\"PCI Devices\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <thead>\\n            <tr>\\n              <th>Name</th>\\n              <th>Vendor</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr ng-if=\"$ctrl.devices && $ctrl.devices.length\" ng-repeat=\"device in $ctrl.devices\">\\n              <td>{{ device.Name }}</td>\\n              <td>{{ device.Vendor }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.devices\">\\n              <td colspan=\"2\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.devices.length === 0\">\\n              <td colspan=\"2\" class=\"text-center text-muted\"> No device available. </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},37287:function(e){var t=\"app/docker/components/host-view-panels/disks-panel/disks-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-code\" title-text=\"Physical Disks\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <thead>\\n            <tr>\\n              <th>Vendor</th>\\n              <th>Size</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr ng-if=\"$ctrl.disks\" ng-repeat=\"disk in $ctrl.disks\">\\n              <td>{{ disk.Vendor }}</td>\\n              <td>{{ disk.Size | humansize }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.disks\">\\n              <td colspan=\"2\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.disks.length === 0\">\\n              <td colspan=\"2\" class=\"text-center text-muted\"> No disks available. </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},63509:function(e){var t=\"app/docker/components/host-view-panels/engine-details-panel/engine-details-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-code\" title-text=\"Engine Details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Version</td>\\n              <td\\n                >{{ $ctrl.engine.releaseVersion }} <span ng-if=\"$ctrl.engine.apiVersion\">(API: {{ $ctrl.engine.apiVersion }})</span></td\\n              >\\n            </tr>\\n            <tr ng-if=\"$ctrl.engine.rootDirectory\">\\n              <td>Root directory</td>\\n              <td>{{ $ctrl.engine.rootDirectory }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.engine.storageDriver\">\\n              <td>Storage Driver</td>\\n              <td>{{ $ctrl.engine.storageDriver }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.engine.loggingDriver\">\\n              <td>Logging Driver</td>\\n              <td>{{ $ctrl.engine.loggingDriver }}</td>\\n            </tr>\\n            <tr>\\n              <td>Volume Plugins</td>\\n              <td>{{ $ctrl.engine.volumePlugins | arraytostr: \\', \\' }}</td>\\n            </tr>\\n            <tr>\\n              <td>Network Plugins</td>\\n              <td>{{ $ctrl.engine.networkPlugins | arraytostr: \\', \\' }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.engine.engineLabels.length\">\\n              <td>Engine Labels</td>\\n              <td>{{ $ctrl.engine.engineLabels | labelsToStr: \\', \\' }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},97106:function(e){var t=\"app/docker/components/host-view-panels/host-details-panel/host-details-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-code\" title-text=\"Host Details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Hostname</td>\\n              <td>{{ $ctrl.host.name }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.host.os\">\\n              <td>OS Information</td>\\n              <td>{{ $ctrl.host.os.type }} {{ $ctrl.host.os.arch }} {{ $ctrl.host.os.name }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.host.kernelVersion\">\\n              <td>Kernel Version</td>\\n              <td>{{ $ctrl.host.kernelVersion }}</td>\\n            </tr>\\n            <tr>\\n              <td>Total CPU</td>\\n              <td>{{ $ctrl.host.totalCPU }}</td>\\n            </tr>\\n            <tr>\\n              <td>Total memory</td>\\n              <td>{{ $ctrl.host.totalMemory | humansize }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.isBrowseEnabled\">\\n              <td colspan=\"2\">\\n                <button class=\"btn btn-primary btn-sm\" title=\"Browse\" ui-sref=\"{{ $ctrl.browseUrl }}\"> Browse </button>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},7762:function(e){var t=\"app/docker/components/host-view-panels/node-availability-select/node-availability-select.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"input-group input-group-sm\">\\n  <select name=\"nodeAvailability\" class=\"selectpicker form-control\" ng-model=\"$ctrl.availability\" ng-change=\"$ctrl.onChange()\">\\n    <option value=\"active\">Active</option>\\n    <option value=\"pause\">Pause</option>\\n    <option value=\"drain\">Drain</option>\\n  </select>\\n</div>\\n')}]),e.exports=t},642:function(e){var t=\"app/docker/components/host-view-panels/node-labels-table/node-labels-table.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div ng-if=\"!$ctrl.labels.length\"> There are no labels for this node. </div>\\n\\n<div class=\"col-sm-12 form-inline\" style=\"padding: 0px\" ng-if=\"$ctrl.labels.length\">\\n  <div ng-repeat=\"label in $ctrl.labels\" style=\"margin-top: 2px\">\\n    <div class=\"input-group col-sm-5 input-group-sm\">\\n      <span class=\"input-group-addon\">name</span>\\n      <input type=\"text\" class=\"form-control\" ng-model=\"label.key\" placeholder=\"e.g. com.example.foo\" ng-change=\"$ctrl.updateLabel(label)\" />\\n    </div>\\n    <div class=\"input-group col-sm-5 input-group-sm\">\\n      <span class=\"input-group-addon\">value</span>\\n      <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" ng-change=\"$ctrl.updateLabel(label)\" />\\n    </div>\\n    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.removeLabel($index)\">\\n      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n    </button>\\n  </div>\\n</div>\\n')}]),e.exports=t},92156:function(e){var t=\"app/docker/components/host-view-panels/swarm-node-details-panel/swarm-node-details-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-code\" title-text=\"Node Details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr ng-if=\"$ctrl.details.name\">\\n              <td>Node name</td>\\n              <td>{{ $ctrl.details.name }}</td>\\n            </tr>\\n            <tr>\\n              <td>Role</td>\\n              <td>{{ $ctrl.details.role }} {{ $ctrl.state.managerAddress }}</td>\\n            </tr>\\n            <tr>\\n              <td>Availability</td>\\n              <td>\\n                <node-availability-select\\n                  on-save=\"$ctrl.updateNodeAvailability(availability)\"\\n                  availability=\"$ctrl.details.availability\"\\n                  original-value=\"$ctrl.details.availability\"\\n                >\\n                </node-availability-select>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Status</td>\\n              <td\\n                ><span class=\"label label-{{ $ctrl.details.status | nodestatusbadge }}\">{{ $ctrl.details.status }}</span></td\\n              >\\n            </tr>\\n            <tr>\\n              <td>\\n                <div class=\"nopadding\">\\n                  <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"$ctrl.addLabel(node)\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> label </a>\\n                </div>\\n                Node Labels\\n              </td>\\n              <td></td>\\n            </tr>\\n            <tr>\\n              <td colspan=\"2\">\\n                <node-labels-table labels=\"$ctrl.details.nodeLabels\" on-changed-labels=\"$ctrl.updateNodeLabels(labels)\"></node-labels-table>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td colspan=\"2\">\\n                <div class=\"btn-toolbar\" role=\"toolbar\">\\n                  <div class=\"btn-group\" role=\"group\">\\n                    <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!$ctrl.state.hasChanges\" ng-click=\"$ctrl.saveChanges()\"> Apply changes </button>\\n                    <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n                      <span class=\"caret\"></span>\\n                    </button>\\n                    <ul class=\"dropdown-menu\">\\n                      <li><a ng-click=\"$ctrl.cancelChanges()\">Reset changes</a></li>\\n                    </ul>\\n                  </div>\\n                </div>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},52388:function(e){var t=\"app/docker/components/imageRegistry/por-image-registry-rate-limits.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"form-group\" ng-if=\"$ctrl.pullRateLimits\">\\n  <div class=\"col-sm-12 small\">\\n    <div ng-if=\"$ctrl.pullRateLimits.remaining > 0\" class=\"text-muted\">\\n      <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      <span ng-if=\"$ctrl.isAuthenticated\">\\n        You are currently using a free account to pull images from DockerHub and will be limited to 200 pulls every 6 hours. Remaining pulls:\\n        <span style=\"font-weight: bold\">{{ $ctrl.pullRateLimits.remaining }}/{{ $ctrl.pullRateLimits.limit }}</span>\\n      </span>\\n      <span ng-if=\"!$ctrl.isAuthenticated\">\\n        <span ng-if=\"$ctrl.isAdmin\">\\n          You are currently using an anonymous account to pull images from DockerHub and will be limited to 100 pulls every 6 hours. You can configure DockerHub authentication in\\n          the\\n          <a ui-sref=\"portainer.registries\">Registries View</a>. Remaining pulls:\\n          <span style=\"font-weight: bold\">{{ $ctrl.pullRateLimits.remaining }}/{{ $ctrl.pullRateLimits.limit }}</span>\\n        </span>\\n        <span ng-if=\"!$ctrl.isAdmin\">\\n          You are currently using an anonymous account to pull images from DockerHub and will be limited to 100 pulls every 6 hours. Contact your administrator to configure\\n          DockerHub authentication. Remaining pulls: <span style=\"font-weight: bold\">{{ $ctrl.pullRateLimits.remaining }}/{{ $ctrl.pullRateLimits.limit }}</span>\\n        </span>\\n      </span>\\n    </div>\\n    <div ng-if=\"$ctrl.pullRateLimits.remaining <= 0\" class=\"text-warning\">\\n      <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n      <span ng-if=\"$ctrl.isAuthenticated\">\\n        Your authorized pull count quota as a free user is now exceeded.\\n        <span ng-transclude=\"rateLimitExceeded\">You will not be able to pull any image from the DockerHub registry.</span>\\n      </span>\\n      <span ng-if=\"!$ctrl.isAuthenticated\">\\n        Your authorized pull count quota as an anonymous user is now exceeded.\\n        <span ng-transclude=\"rateLimitExceeded\">You will not be able to pull any image from the DockerHub registry.</span>\\n      </span>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},50331:function(e){var t=\"app/docker/components/imageRegistry/por-image-registry.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'\\x3c!-- use registry --\\x3e\\n<div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.model.UseRegistry\">\\n    <label for=\"image_registry\" class=\"control-label text-left\" ng-class=\"$ctrl.labelClass\"> Registry </label>\\n    <div ng-class=\"$ctrl.inputClass\">\\n      <select\\n        ng-options=\"registry as registry.Name for registry in $ctrl.registries track by registry.Id\"\\n        ng-model=\"$ctrl.model.Registry\"\\n        id=\"image_registry\"\\n        class=\"form-control\"\\n        data-cy=\"component-registrySelect\"\\n      ></select>\\n    </div>\\n    <label for=\"image_name\" ng-class=\"$ctrl.labelClass\" class=\"margin-sm-top control-label text-left\">Image</label>\\n    <div ng-class=\"$ctrl.inputClass\" class=\"margin-sm-top\">\\n      <div class=\"input-group\">\\n        <span class=\"input-group-addon\" id=\"registry-name\">{{ $ctrl.displayedRegistryURL() }}</span>\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          aria-describedby=\"registry-name\"\\n          uib-typeahead=\"image for image in $ctrl.availableImages | filter:$viewValue | limitTo:5\"\\n          ng-model=\"$ctrl.model.Image\"\\n          name=\"image_name\"\\n          placeholder=\"e.g. my-image:my-tag\"\\n          ng-change=\"$ctrl.onImageChange()\"\\n          required\\n          data-cy=\"component-imageInput\"\\n        />\\n        <span ng-if=\"$ctrl.isDockerHubRegistry()\" class=\"input-group-btn\">\\n          <a\\n            href=\"https://hub.docker.com/search?type=image&q={{ $ctrl.model.Image | trimshasum | trimversiontag }}\"\\n            class=\"btn btn-default\"\\n            title=\"Search image on Docker Hub\"\\n            target=\"_blank\"\\n          >\\n            <i class=\"fab fa-docker\"></i> Search\\n          </a>\\n        </span>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- ! use registry --\\x3e\\n  \\x3c!-- don\\'t use registry --\\x3e\\n  <div ng-if=\"!$ctrl.model.UseRegistry\">\\n    <div class=\"form-group\">\\n      <span class=\"small\">\\n        <p class=\"text-muted\" style=\"margin-left: 15px\">\\n          <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          When using advanced mode, image and repository <b>must be</b> publicly available.\\n        </p>\\n      </span>\\n      <label for=\"image_name\" ng-class=\"$ctrl.labelClass\" class=\"control-label text-left\">Image </label>\\n      <div ng-class=\"$ctrl.inputClass\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.model.Image\" name=\"image_name\" placeholder=\"e.g. registry:port/my-image:my-tag\" required />\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- ! don\\'t use registry --\\x3e\\n  \\x3c!-- info message --\\x3e\\n  <div class=\"form-group\" ng-show=\"$ctrl.form.image_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.form.image_name.$error\">\\n        <p ng-message=\"required\">\\n          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Image name is required.\\n          <span ng-if=\"$ctrl.canPull\">Tag must be specified otherwise Portainer will pull all tags associated to the image.</span>\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- ! info message --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <p>\\n        <a class=\"small interactive\" ng-if=\"!$ctrl.model.UseRegistry\" ng-click=\"$ctrl.model.UseRegistry = true;\">\\n          <i class=\"fa fa-database space-right\" aria-hidden=\"true\"></i> Simple mode\\n        </a>\\n        <a class=\"small interactive\" ng-if=\"$ctrl.model.UseRegistry\" ng-click=\"$ctrl.model.UseRegistry = false;\">\\n          <i class=\"fa fa-globe space-right\" aria-hidden=\"true\"></i> Advanced mode\\n        </a>\\n      </p>\\n    </div>\\n  </div>\\n\\n  <div ng-transclude></div>\\n\\n  <por-image-registry-rate-limits\\n    ng-if=\"$ctrl.checkRateLimits && $ctrl.isDockerHubRegistry()\"\\n    endpoint=\"$ctrl.endpoint\"\\n    registry=\"$ctrl.model.Registry\"\\n    set-validity=\"$ctrl.setValidity\"\\n    is-authenticated=\"$ctrl.model.Registry.Authentication\"\\n    is-admin=\"$ctrl.isAdmin\"\\n    registry-id=\"$ctrl.model.Registry.Id\"\\n  >\\n  </por-image-registry-rate-limits>\\n</div>\\n')}]),e.exports=t},85759:function(e){var t=\"app/docker/components/log-viewer/logViewer.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-file-alt\" title-text=\"Log viewer settings\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"tls\" class=\"control-label text-left\">\\n                Auto-refresh logs\\n                <portainer-tooltip position=\"bottom\" message=\"Disabling this option allows you to pause the log collection process and the auto-scrolling.\"></portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px\">\\n                <input\\n                  type=\"checkbox\"\\n                  ng-model=\"$ctrl.state.logCollection\"\\n                  ng-change=\"$ctrl.state.autoScroll = $ctrl.state.logCollection; $ctrl.logCollectionChange($ctrl.state.logCollection)\"\\n                /><i></i>\\n              </label>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"tls\" class=\"control-label text-left\"> Wrap lines </label>\\n              <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"$ctrl.state.wrapLines\" /><i></i> </label>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"tls\" class=\"control-label text-left\"> Display timestamps </label>\\n              <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"$ctrl.displayTimestamps\" /><i></i> </label>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"logs_since\" class=\"col-sm-1 control-label text-left\"> Fetch </label>\\n            <div class=\"col-sm-2\">\\n              <select class=\"form-control\" ng-model=\"$ctrl.sinceTimestamp\" id=\"logs_since\">\\n                <option selected value=\"\">All logs</option>\\n                <option ng-repeat=\"dt in $ctrl.state.availableSinceDatetime\" ng-value=\"dt.value\" title=\"{{ dt.value }}\">{{ dt.desc }}</option>\\n              </select>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"logs_search\" class=\"col-sm-1 control-label text-left\"> Search </label>\\n            <div class=\"col-sm-11\">\\n              <input class=\"form-control\" type=\"text\" name=\"logs_search\" ng-model=\"$ctrl.state.search\" ng-change=\"$ctrl.state.selectedLines.length = 0;\" placeholder=\"Filter...\" />\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"lines_count\" class=\"col-sm-1 control-label text-left\"> Lines </label>\\n            <div class=\"col-sm-11\">\\n              <input class=\"form-control\" type=\"number\" name=\"lines_count\" ng-model=\"$ctrl.lineCount\" placeholder=\"Enter no of lines...\" />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-if=\"$ctrl.state.copySupported\">\\n            <label class=\"col-sm-1 control-label text-left\"> Actions </label>\\n            <div class=\"col-sm-11\">\\n              <button class=\"btn btn-primary btn-sm\" type=\"button\" ng-click=\"$ctrl.downloadLogs()\" style=\"margin-left: 0\"><i class=\"fa fa-download\"></i> Download logs</button>\\n              <button\\n                class=\"btn btn-primary btn-sm\"\\n                ng-click=\"$ctrl.copy()\"\\n                ng-disabled=\"($ctrl.state.filteredLogs.length === 1 && !$ctrl.state.filteredLogs[0].line) || !$ctrl.state.filteredLogs.length\"\\n                ><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy</button\\n              >\\n              <button\\n                class=\"btn btn-primary btn-sm\"\\n                ng-click=\"$ctrl.copySelection()\"\\n                ng-disabled=\"($ctrl.state.filteredLogs.length === 1 && !$ctrl.state.filteredLogs[0].line) || !$ctrl.state.filteredLogs.length || !$ctrl.state.selectedLines.length\"\\n                ><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy selected lines</button\\n              >\\n              <button class=\"btn btn-primary btn-sm\" ng-click=\"$ctrl.clearSelection()\" ng-disabled=\"$ctrl.state.selectedLines.length === 0\"\\n                ><i class=\"fa fa-times space-right\" aria-hidden=\"true\"></i>Unselect</button\\n              >\\n              <span>\\n                <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none\"></i>\\n              </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" style=\"height: 54%\">\\n  <div class=\"col-sm-12\" style=\"height: 100%\">\\n    <pre ng-class=\"{ wrap_lines: $ctrl.state.wrapLines }\" class=\"log_viewer\" scroll-glue=\"$ctrl.state.autoScroll\" force-glue>\\n      <div ng-repeat=\"log in $ctrl.state.filteredLogs = ($ctrl.data | filter:{ \\'line\\': $ctrl.state.search }) track by $index\" class=\"line\" ng-if=\"log.line\"><p class=\"inner_line\" ng-click=\"$ctrl.selectLine(log.line)\" ng-class=\"{ \\'line_selected\\': $ctrl.state.selectedLines.indexOf(log.line) > -1 }\"><span ng-repeat=\"span in log.spans\" ng-style=\"{ \\'color\\': span.foregroundColor, \\'background-color\\': span.backgroundColor }\">{{ span.text }}</span></p></div>\\n      <div ng-if=\"!$ctrl.state.filteredLogs.length\" class=\"line\"><p class=\"inner_line\">No log line matching the \\'{{ $ctrl.state.search }}\\' filter</p></div>\\n      <div ng-if=\"$ctrl.state.filteredLogs.length === 1 && !$ctrl.state.filteredLogs[0].line\" class=\"line\"><p class=\"inner_line\">No logs available</p></div>\\n    </pre>\\n  </div>\\n</div>\\n')}]),e.exports=t},23614:function(e){var t=\"app/docker/components/network-macvlan-form/networkMacvlanForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div>\\n  <div class=\"col-sm-12 form-section-title\"> Macvlan configuration </div>\\n  \\x3c!-- selector --\\x3e\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\">\\n      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      To create a MACVLAN network you need to create a configuration, then create the network from this configuration.\\n    </span>\\n  </div>\\n  <div class=\"col-sm-12\">\\n    <div class=\"form-group\" style=\"margin-bottom: 0\">\\n      <div class=\"boxselector_wrapper\">\\n        <div>\\n          <input type=\"radio\" id=\"network_config\" ng-model=\"$ctrl.data.Scope\" value=\"local\" />\\n          <label for=\"network_config\">\\n            <div class=\"boxselector_header\">\\n              <i class=\"fa fa-cog\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              Configuration\\n            </div>\\n            <p>I want to configure a network before deploying it</p>\\n          </label>\\n        </div>\\n        <div>\\n          <input type=\"radio\" id=\"network_deploy\" ng-model=\"$ctrl.data.Scope\" value=\"swarm\" ng-disabled=\"$ctrl.availableNetworks.length === 0\" />\\n          <label for=\"network_deploy\" ng-class=\"$ctrl.availableNetworks.length === 0 ? \\'boxselector_disabled\\' : \\'\\'\">\\n            <div class=\"boxselector_header\">\\n              <i class=\"fa fa-sitemap\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              Creation\\n            </div>\\n            <p>I want to create a network from a configuration</p>\\n          </label>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !selector --\\x3e\\n\\n  <ng-form name=\"macvlanConfigurationForm\">\\n    \\x3c!-- configuration-inputs --\\x3e\\n    <div ng-show=\"$ctrl.data.Scope === \\'local\\'\">\\n      \\x3c!-- network-card-input --\\x3e\\n      <div class=\"form-group\">\\n        <label for=\"network_card\" class=\"col-sm-3 col-lg-2 control-label text-left\">Parent network card</label>\\n        <div class=\"col-sm-9 col-lg-10\">\\n          <input\\n            type=\"text\"\\n            class=\"form-control\"\\n            name=\"network_card\"\\n            ng-model=\"$ctrl.data.ParentNetworkCard\"\\n            placeholder=\"e.g. eth0 or ens160 ...\"\\n            ng-required=\"$ctrl.data.Scope === \\'local\\' && !$ctrl.data.ParentNetworkCard\"\\n          />\\n        </div>\\n      </div>\\n      <div class=\"form-group\" ng-show=\"macvlanConfigurationForm.network_card.$invalid\">\\n        <div class=\"col-sm-12 small text-warning\">\\n          <div ng-messages=\"macvlanConfigurationForm.network_card.$error\">\\n            <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Parent network card must be specified.</p>\\n          </div>\\n        </div>\\n      </div>\\n      \\x3c!-- network-card-input --\\x3e\\n      \\x3c!-- nodes-selector --\\x3e\\n      <div ng-if=\"$ctrl.applicationState.endpoint.mode.agentProxy && $ctrl.applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\">\\n        <div class=\"form-group\">\\n          <div class=\"col-sm-12\">\\n            <macvlan-nodes-datatable\\n              title-text=\"Select the nodes where you want to deploy the local configuration\"\\n              title-icon=\"fa-hdd\"\\n              dataset=\"$ctrl.nodes\"\\n              table-key=\"nodes\"\\n              state=\"$ctrl.data.DatatableState\"\\n              order-by=\"Hostname\"\\n              show-ip-address-column=\"$ctrl.applicationState.endpoint.apiVersion >= 1.25\"\\n              access-to-node-details=\"$ctrl.isAdmin\"\\n              name=\"node_selector\"\\n              ng-model=\"tmp\"\\n              ng-required=\"$ctrl.requiredNodeSelection()\"\\n            ></macvlan-nodes-datatable>\\n          </div>\\n        </div>\\n        <div class=\"form-group\" ng-show=\"macvlanConfigurationForm.node_selector.$invalid\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div ng-messages=\"macvlanConfigurationForm.node_selector.$error\">\\n              <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> At least one node must be selected.</p>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n      \\x3c!-- !nodes-selector --\\x3e\\n    </div>\\n    \\x3c!-- configuration-inputs --\\x3e\\n    \\x3c!-- deploy-inputs --\\x3e\\n    <div ng-show=\"$ctrl.data.Scope === \\'swarm\\'\">\\n      \\x3c!-- configuration-selector --\\x3e\\n      \\x3c!-- network-input --\\x3e\\n      <div class=\"form-group\">\\n        <label for=\"config_network\" class=\"col-sm-2 col-lg-1 control-label text-left\">Configuration</label>\\n        <div class=\"col-sm-9\">\\n          <select\\n            class=\"form-control\"\\n            ng-options=\"net.Name for net in $ctrl.availableNetworks\"\\n            ng-model=\"$ctrl.data.SelectedNetworkConfig\"\\n            name=\"config_network\"\\n            ng-required=\"$ctrl.requiredConfigSelection()\"\\n          >\\n            <option selected disabled hidden value=\"\">Select a network</option>\\n          </select>\\n        </div>\\n      </div>\\n      \\x3c!-- !network-input --\\x3e\\n      <div class=\"form-group\" ng-show=\"macvlanConfigurationForm.config_network.$invalid\">\\n        <div class=\"col-sm-12 small text-warning\">\\n          <div ng-messages=\"macvlanConfigurationForm.config_network.$error\">\\n            <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Select a configuration network.</p>\\n          </div>\\n        </div>\\n      </div>\\n      \\x3c!-- !configuration-selector --\\x3e\\n    </div>\\n    \\x3c!-- deploy-inputs --\\x3e\\n  </ng-form>\\n</div>\\n')}]),e.exports=t},79420:function(e){var t=\"app/docker/components/volumesCIFSForm/volumesCifsForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'\\x3c!-- CIFS-settings --\\x3e\\n<div ng-show=\"$ctrl.data.useCIFS\">\\n  <ng-form class=\"form-horizontal\" name=\"cifsInformationForm\">\\n    <div class=\"col-sm-12 form-section-title\"> CIFS Settings </div>\\n    \\x3c!-- address-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"cifs_address\" class=\"col-sm-2 col-md-1 control-label text-left\">Address</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.data.serverAddress\" name=\"cifs_address\" placeholder=\"e.g. my.cifs-server.com OR xxx.xxx.xxx.xxx\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"cifsInformationForm.cifs_address.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"cifsInformationForm.cifs_address.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !address-input --\\x3e\\n    \\x3c!-- mount-point-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"cifs_share\" class=\"col-sm-2 col-md-1 control-label text-left\">Share</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.data.share\" name=\"cifs_share\" placeholder=\"e.g. /myshare\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"cifsInformationForm.cifs_share.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"cifsInformationForm.cifs_share.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !mount-point-input --\\x3e\\n    \\x3c!-- version-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"cifs_version\" class=\"col-sm-2 col-md-1 control-label text-left\">CIFS Version</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <select class=\"form-control\" ng-model=\"$ctrl.data.version\" name=\"cifs_version\" ng-options=\"version for version in $ctrl.data.versions\" required></select>\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"cifsInformationForm.cifs_version.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"cifsInformationForm.cifs_version.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !version-input --\\x3e\\n    \\x3c!-- username --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"cifs_username\" class=\"col-sm-2 col-md-1 control-label text-left\">Username</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.data.username\" name=\"cifs_username\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"cifsInformationForm.cifs_username.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"cifsInformationForm.cifs_username.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !username --\\x3e\\n    \\x3c!-- password --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"cifs_password\" class=\"col-sm-2 col-md-1 control-label text-left\">Password</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.data.password\" name=\"cifs_password\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"cifsInformationForm.password.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"cifsInformationForm.cifs_password.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !password --\\x3e\\n  </ng-form>\\n</div>\\n\\x3c!-- !CIFS-settings --\\x3e\\n')}]),e.exports=t},93886:function(e){var t=\"app/docker/components/volumesNFSForm/volumesnfsForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'\\x3c!-- NFS-settings --\\x3e\\n<div ng-show=\"$ctrl.data.useNFS\">\\n  <ng-form class=\"form-horizontal\" name=\"nfsInformationForm\">\\n    <div class=\"col-sm-12 form-section-title\"> NFS Settings </div>\\n    \\x3c!-- address-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"nfs_address\" class=\"col-sm-2 col-md-1 control-label text-left\">Address</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.data.serverAddress\" name=\"nfs_address\" placeholder=\"e.g. my.nfs-server.com OR xxx.xxx.xxx.xxx\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"nfsInformationForm.nfs_address.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"nfsInformationForm.nfs_address.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !address-input --\\x3e\\n    \\x3c!-- version-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"nfs_version\" class=\"col-sm-2 col-md-1 control-label text-left\">NFS Version</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <select class=\"form-control\" ng-model=\"$ctrl.data.version\" name=\"nfs_version\" ng-options=\"version for version in $ctrl.data.versions\" required></select>\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"nfsInformationForm.nfs_version.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"nfsInformationForm.nfs_version.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !version-input --\\x3e\\n    \\x3c!-- mount-point-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"nfs_mountpoint\" class=\"col-sm-2 col-md-1 control-label text-left\">Mount point</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          ng-model=\"$ctrl.data.mountPoint\"\\n          name=\"nfs_mountpoint\"\\n          placeholder=\"e.g. /export/share, :/export/share, /share or :/share\"\\n          required\\n        />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"nfsInformationForm.nfs_mountpoint.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"nfsInformationForm.nfs_mountpoint.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !mount-point-input --\\x3e\\n    \\x3c!-- options-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"nfs_options\" class=\"col-sm-2 col-md-1 control-label text-left\"\\n        >Options\\n        <portainer-tooltip position=\"bottom\" message=\"Comma separated list of options\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.data.options\" name=\"nfs_options\" placeholder=\"e.g. rw,noatime,tcp ...\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"nfsInformationForm.nfs_options.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"nfsInformationForm.nfs_options.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !options-input --\\x3e\\n  </ng-form>\\n</div>\\n\\x3c!-- !NFS-settings --\\x3e\\n')}]),e.exports=t},66188:function(e){var t=\"app/docker/views/configs/configs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Configs list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.configs\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Configs</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <configs-datatable\\n      title-text=\"Configs\"\\n      title-icon=\"fa-file-code\"\\n      dataset=\"ctrl.configs\"\\n      table-key=\"configs\"\\n      order-by=\"Name\"\\n      remove-action=\"ctrl.removeAction\"\\n      refresh-callback=\"ctrl.getConfigs\"\\n    ></configs-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},20641:function(e){var t=\"app/docker/views/configs/create/createconfig.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create config\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.configs\">Configs</a> &gt; Add config </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"config_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"ctrl.formValues.Name\" id=\"config_name\" placeholder=\"e.g. myConfig\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- config-data --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" ng-if=\"ctrl.formValues.displayCodeEditor\">\\n              <code-editor\\n                identifier=\"config-creation-editor\"\\n                placeholder=\"Define or paste the content of your config here\"\\n                yml=\"false\"\\n                on-change=\"(ctrl.editorUpdate)\"\\n                value=\"ctrl.formValues.Data\"\\n              ></code-editor>\\n            </div>\\n          </div>\\n          \\x3c!-- !config-data --\\x3e\\n          \\x3c!-- labels --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n              <label class=\"control-label text-left\">Labels</label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"ctrl.addLabel()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label\\n              </span>\\n            </div>\\n            \\x3c!-- labels-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n              <div ng-repeat=\"label in ctrl.formValues.Labels\" style=\"margin-top: 2px\">\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">name</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.name\" placeholder=\"e.g. com.example.foo\" />\\n                </div>\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">value</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                </div>\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"ctrl.removeLabel($index)\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !labels-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !labels--\\x3e\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"ctrl.formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!ctrl.formValues.Name\" ng-click=\"ctrl.create()\">Create config</button>\\n              <span class=\"text-danger\" ng-if=\"ctrl.state.formValidationError\" style=\"margin-left: 5px\">{{ ctrl.state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},67539:function(e){var t=\"app/docker/views/configs/edit/config.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Config details\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.configs.config({id: config.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.configs\">Configs</a> &gt; <a ui-sref=\"docker.configs.config({id: config.Id})\">{{ config.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-file-code\" title-text=\"Config details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>{{ config.Name }}</td>\\n            </tr>\\n            <tr>\\n              <td>ID</td>\\n              <td>\\n                {{ config.Id }}\\n                <button authorization=\"DockerConfigDelete\" class=\"btn btn-xs btn-danger\" ng-click=\"removeConfig(config.Id)\"\\n                  ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Delete this config</button\\n                >\\n                <button authorization=\"DockerConfigCreate\" class=\"btn btn-xs btn-primary\" ui-sref=\"docker.configs.new({id: config.Id})\"\\n                  ><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Clone config</button\\n                >\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Created</td>\\n              <td>{{ config.CreatedAt | getisodate }}</td>\\n            </tr>\\n            <tr>\\n              <td>Last updated</td>\\n              <td>{{ config.UpdatedAt | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"!(config.Labels | emptyobject)\">\\n              <td>Labels</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"(k, v) in config.Labels\">\\n                    <td>{{ k }}</td>\\n                    <td>{{ v }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n\\x3c!-- access-control-panel --\\x3e\\n<access-control-panel\\n  ng-if=\"config\"\\n  resource-id=\"config.Id\"\\n  resource-control=\"config.ResourceControl\"\\n  resource-type=\"resourceType\"\\n  on-update-success=\"(onUpdateResourceControlSuccess)\"\\n>\\n</access-control-panel>\\n\\x3c!-- !access-control-panel --\\x3e\\n\\n<div class=\"row\" ng-if=\"config\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-file-code\" title-text=\"Config content\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <code-editor identifier=\"config-editor\" yml=\"false\" read-only=\"true\" value=\"config.Data\"></code-editor>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},8423:function(e){var t=\"app/docker/views/containers/console/attach.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Container console\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.containers\">Containers</a> &gt; <a ui-sref=\"docker.containers.container({id: container.Id})\">{{ container.Name | trimcontainername }}</a> &gt; Console\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-init=\"autoconnectAttachView()\" ng-show=\"loaded\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-terminal\" title-text=\"Attach\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"small text-warning\" ng-if=\"!container.Config.OpenStdin\">\\n          <p>\\n            <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n            The interactive-flag is not set. You might not be able to use the console properly.\\n          </p>\\n        </div>\\n\\n        <div class=\"small text-warning\" ng-if=\"!container.Config.Tty\">\\n          <p>\\n            <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n            The TTY-flag is not set. You might not be able to use the console properly.\\n          </p>\\n        </div>\\n\\n        <div class=\"small text-danger\" ng-hide=\"container.State.Running\">\\n          <p>\\n            <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n            The container is not running.\\n          </p>\\n        </div>\\n\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-primary\"\\n          ng-disabled=\"state === states.connecting || !container.State.Running\"\\n          ng-click=\"state == states.disconnected ? connectAttach() : disconnect()\"\\n        >\\n          <span ng-show=\"state === states.disconnected\">Attach to Container</span>\\n          <span ng-show=\"state === states.connected\">Detach</span>\\n          <span ng-show=\"state === states.connecting\">Attaching...</span>\\n        </button>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <div id=\"terminal-container\" class=\"terminal-container\"></div>\\n  </div>\\n</div>\\n')}]),e.exports=t},98757:function(e){var t=\"app/docker/views/containers/console/exec.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Container console\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.containers\">Containers</a> &gt; <a ui-sref=\"docker.containers.container({id: container.Id})\">{{ container.Name | trimcontainername }}</a> &gt; Console\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-init=\"initView()\" ng-show=\"loaded\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-terminal\" title-text=\"Execute\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div ng-if=\"state === states.disconnected\">\\n            \\x3c!-- command-list --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"command\" class=\"col-lg-1 text-left col-sm-2 control-label\">Command</label>\\n              <div class=\"col-lg-11 col-sm-10\">\\n                <div class=\"input-group\" ng-if=\"!formValues.isCustomCommand\">\\n                  <span class=\"input-group-addon\">\\n                    <i class=\"fab fa-linux\" aria-hidden=\"true\" ng-if=\"imageOS == \\'linux\\'\"></i>\\n                    <i class=\"fab fa-windows\" aria-hidden=\"true\" ng-if=\"imageOS == \\'windows\\'\"></i>\\n                  </span>\\n                  <select class=\"form-control\" ng-model=\"formValues.command\" id=\"command\">\\n                    <option value=\"ash\" ng-if=\"imageOS == \\'linux\\'\">/bin/ash</option>\\n                    <option value=\"bash\" ng-if=\"imageOS == \\'linux\\'\">/bin/bash</option>\\n                    <option value=\"sh\" ng-if=\"imageOS == \\'linux\\'\">/bin/sh</option>\\n                    <option value=\"powershell\" ng-if=\"imageOS == \\'windows\\'\">powershell</option>\\n                    <option value=\"cmd.exe\" ng-if=\"imageOS == \\'windows\\'\">cmd.exe</option>\\n                    <option ng-repeat=\"command in containerCommands\" value=\"{{ command.command }}\">{{ command.title }}: {{ command.command }}</option>\\n                  </select>\\n                </div>\\n                <input class=\"form-control\" ng-if=\"formValues.isCustomCommand\" type=\"text\" name=\"custom-command\" ng-model=\"formValues.customCommand\" placeholder=\"e.g. ps aux\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !command-list --\\x3e\\n            <div class=\"form-group col-lg-12\">\\n              <label for=\"command\" class=\"text-left control-label\">Use custom command</label>\\n              <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"formValues.isCustomCommand\" /><i></i> </label>\\n            </div>\\n            <div class=\"form-group\">\\n              <label class=\"col-lg-1 text-left col-sm-2 control-label\">\\n                User\\n                <portainer-tooltip position=\"bottom\" message=\"Format is one of: user, user:group, uid or uid:gid\"></portainer-tooltip>\\n              </label>\\n              <div class=\"col-lg-11 col-sm-10\">\\n                <input class=\"form-control\" type=\"text\" ng-model=\"formValues.user\" placeholder=\"root\" />\\n              </div>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button type=\"button\" class=\"btn btn-primary\" ng-disabled=\"!container.State.Running\" ng-click=\"connectExec()\">\\n                  <span>Connect</span>\\n                </button>\\n                <span class=\"small text-danger\" ng-hide=\"container.State.Running\">\\n                  <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                  The container is not running.\\n                </span>\\n              </div>\\n            </div>\\n          </div>\\n          <div ng-if=\"state !== states.disconnected\">\\n            <label\\n              >Exec into container as <code>{{ ::formValues.user || \\'default user\\' }}</code> using command\\n              <code>{{ formValues.isCustomCommand ? formValues.customCommand : formValues.command }}</code></label\\n            >\\n            <button type=\"button\" class=\"btn btn-primary\" ng-click=\"disconnect()\">\\n              <span ng-show=\"state === states.connected\">Disconnect</span>\\n              <span ng-show=\"state === states.connecting\">Connecting...</span>\\n            </button>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <div id=\"terminal-container\" class=\"terminal-container\"></div>\\n  </div>\\n</div>\\n')}]),e.exports=t},9003:function(e){var t=\"app/docker/views/containers/containers.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Container list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.containers\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Containers</rd-header-content>\\n</rd-header>\\n<information-panel-offline ng-if=\"offlineMode\"></information-panel-offline>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\" ng-if=\"containers\">\\n    <containers-datatable\\n      endpoint=\"endpoint\"\\n      dataset=\"containers\"\\n      is-host-column-visible=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\"\\n      is-add-action-visible=\"true\"\\n      on-refresh=\"(getContainers)\"\\n    ></containers-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},92091:function(e){var t=\"app/docker/views/containers/create/createcontainer.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create container\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.containers\">Containers</a> &gt; Add container </rd-header-content>\\n</rd-header>\\n\\n<information-panel title-text=\"Caution\" ng-if=\"state.mode == \\'duplicate\\'\">\\n  <span class=\"small\">\\n    <p class=\"text-muted\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      The new container may fail to start if the image is changed, and settings from the previous container aren\\'t compatible. Common causes include entrypoint, cmd or\\n      <a href=\"http://portainer.readthedocs.io/en/stable/agent.html\" target=\"_blank\">other settings</a> set by an image.\\n    </p>\\n  </span>\\n</information-panel>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" autocomplete=\"off\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"config.name\" id=\"container_name\" placeholder=\"e.g. myContainer\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Image configuration </div>\\n          <div ng-if=\"!formValues.RegistryModel.Registry && fromContainer\">\\n            <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i>\\n            <span class=\"small text-danger\" style=\"margin-left: 5px\">\\n              The Docker registry for the <code>{{ config.Image }}</code> image is not registered inside Portainer, you will not be able to create a container. Please register that\\n              registry first.\\n            </span>\\n          </div>\\n          <div ng-if=\"formValues.RegistryModel.Registry || !fromContainer\">\\n            \\x3c!-- image-and-registry --\\x3e\\n            <por-image-registry\\n              model=\"formValues.RegistryModel\"\\n              ng-if=\"formValues.RegistryModel.Registry\"\\n              auto-complete=\"true\"\\n              label-class=\"col-sm-1\"\\n              input-class=\"col-sm-11\"\\n              on-image-change=\"onImageNameChange()\"\\n              endpoint=\"endpoint\"\\n              is-admin=\"isAdmin\"\\n              check-rate-limits=\"formValues.alwaysPull\"\\n              set-validity=\"setPullImageValidity\"\\n            >\\n              \\x3c!-- always-pull --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\">\\n                  <label for=\"ownership\" class=\"control-label text-left\">\\n                    Always pull the image\\n                    <portainer-tooltip\\n                      position=\"bottom\"\\n                      message=\"When enabled, Portainer will automatically try to pull the specified image before creating the container.\"\\n                    ></portainer-tooltip>\\n                  </label>\\n                  <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"formValues.alwaysPull\" ng-disabled=\"!state.pullImageValidity\" /><i></i> </label>\\n                </div>\\n              </div>\\n              \\x3c!-- !always-pull --\\x3e\\n            </por-image-registry>\\n            \\x3c!-- !image-and-registry --\\x3e\\n          </div>\\n          \\x3c!-- create-webhook --\\x3e\\n          <div ng-if=\"isAdmin && applicationState.endpoint.type !== 4\">\\n            <div class=\"col-sm-12 form-section-title\"> Webhooks </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">\\n                  Create a container webhook\\n                  <portainer-tooltip\\n                    position=\"top\"\\n                    message=\"Create a webhook (or callback URI) to automate the recreate this container. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and recreate this container.\"\\n                  ></portainer-tooltip>\\n                </label>\\n                <label class=\"switch box-selector-item limited business\" style=\"margin-left: 20px\">\\n                  <input type=\"checkbox\" ng-model=\"formValues.EnableWebhook\" disabled=\"disabled\" ng-checked=\"true\" />\\n                  <i class=\"orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                </label>\\n                <be-feature-indicator feature=\"containerWebhookFeature\"></be-feature-indicator>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !create-webhook  --\\x3e\\n\\n          <div class=\"col-sm-12 form-section-title\"> Network ports configuration </div>\\n          \\x3c!-- publish-exposed-ports --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\">\\n                Publish all exposed network ports to random host ports\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"When enabled, Portainer will let Docker automatically map a random port on the host to each one defined in the image Dockerfile.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"config.HostConfig.PublishAllPorts\" /><i></i> </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !publish-exposed-ports --\\x3e\\n          \\x3c!-- port-mapping --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\">\\n                Manual network port publishing\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"When a range of ports on the host and a single port on the container is specified, Docker will randomly choose a single available port in the defined range and forward that to the container port.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addPortBinding()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> publish a new network port\\n              </span>\\n            </div>\\n            \\x3c!-- port-mapping-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n              <div ng-repeat=\"portBinding in config.HostConfig.PortBindings\" style=\"margin-top: 2px\">\\n                \\x3c!-- host-port --\\x3e\\n                <div class=\"input-group col-sm-4 input-group-sm\">\\n                  <span class=\"input-group-addon\">host</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"portBinding.hostPort\" placeholder=\"e.g. 80, 80-88, ip:80 or ip:80-88 (optional)\" />\\n                </div>\\n                \\x3c!-- !host-port --\\x3e\\n                <span style=\"margin: 0 10px 0 10px\">\\n                  <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                </span>\\n                \\x3c!-- container-port --\\x3e\\n                <div class=\"input-group col-sm-4 input-group-sm\">\\n                  <span class=\"input-group-addon\">container</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"portBinding.containerPort\" placeholder=\"e.g. 80 or 80-88\" />\\n                </div>\\n                \\x3c!-- !container-port --\\x3e\\n                \\x3c!-- protocol-actions --\\x3e\\n                <div class=\"input-group col-sm-3 input-group-sm\">\\n                  <div class=\"btn-group btn-group-sm\">\\n                    <label class=\"btn btn-primary\" ng-model=\"portBinding.protocol\" uib-btn-radio=\"\\'tcp\\'\">TCP</label>\\n                    <label class=\"btn btn-primary\" ng-model=\"portBinding.protocol\" uib-btn-radio=\"\\'udp\\'\">UDP</label>\\n                  </div>\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePortBinding($index)\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </div>\\n                \\x3c!-- !protocol-actions --\\x3e\\n              </div>\\n            </div>\\n            \\x3c!-- !port-mapping-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !port-mapping --\\x3e\\n          <div ng-if=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\">\\n            <div class=\"col-sm-12 form-section-title\"> Deployment </div>\\n            \\x3c!-- node-selection --\\x3e\\n            <node-selector model=\"formValues.NodeName\"> </node-selector>\\n            \\x3c!-- !node-selection --\\x3e\\n          </div>\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\" resource-control=\"fromContainer.ResourceControl\" ng-if=\"fromContainer\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          \\x3c!-- autoremove --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"ownership\" class=\"control-label text-left\">\\n                Auto remove\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"When enabled, Portainer will automatically remove the container when it exits. This is useful when you want to use the container only once.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"config.HostConfig.AutoRemove\" /><i></i> </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !autoremove --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !formValues.RegistryModel.Image || (!formValues.RegistryModel.Registry && fromContainer)\\n                             || (fromContainer.IsPortainer && fromContainer.Name === \\'/\\' + config.name)\"\\n                ng-click=\"create()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Deploy the container</span>\\n                <span ng-show=\"state.actionInProgress\">Deployment in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-cog\" title-text=\"Advanced container settings\"></rd-widget-header>\\n      <rd-widget-body>\\n        <ul class=\"nav nav-pills nav-justified\">\\n          <li class=\"active interactive\"><a data-target=\"#command\" data-toggle=\"tab\">Command & logging</a></li>\\n          <li class=\"interactive\"><a data-target=\"#volumes\" data-toggle=\"tab\">Volumes</a></li>\\n          <li class=\"interactive\"><a data-target=\"#network\" data-toggle=\"tab\">Network</a></li>\\n          <li class=\"interactive\"><a data-target=\"#env\" data-toggle=\"tab\">Env</a></li>\\n          <li class=\"interactive\"><a data-target=\"#labels\" data-toggle=\"tab\">Labels</a></li>\\n          <li class=\"interactive\"><a data-target=\"#restart-policy\" data-toggle=\"tab\">Restart policy</a></li>\\n          <li class=\"interactive\"><a data-target=\"#runtime-resources\" ng-click=\"refreshSlider()\" data-toggle=\"tab\">Runtime & Resources</a></li>\\n          <li ng-if=\"areContainerCapabilitiesEnabled\" class=\"interactive\"><a data-target=\"#container-capabilities\" data-toggle=\"tab\">Capabilities</a></li>\\n        </ul>\\n        \\x3c!-- tab-content --\\x3e\\n        <div class=\"tab-content\">\\n          \\x3c!-- tab-command --\\x3e\\n          <div class=\"tab-pane active\" id=\"command\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n              \\x3c!-- command-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_command\" class=\"col-sm-2 col-lg-1 control-label text-left\">Command</label>\\n                <div class=\"col-sm-9\">\\n                  <div class=\"input-group\">\\n                    <div class=\"input-group-btn\">\\n                      <button class=\"btn btn-primary\" ng-model=\"formValues.CmdMode\" uib-btn-radio=\"\\'default\\'\" style=\"margin-left: 0px\"> Default</button>\\n                      <button class=\"btn btn-primary\" ng-model=\"formValues.CmdMode\" uib-btn-radio=\"\\'override\\'\">Override</button>\\n                    </div>\\n                    <input\\n                      type=\"text\"\\n                      class=\"form-control\"\\n                      ng-model=\"config.Cmd\"\\n                      ng-disabled=\"formValues.CmdMode === \\'default\\'\"\\n                      id=\"container_command\"\\n                      placeholder=\"e.g. \\'-logtostderr\\' \\'--housekeeping_interval=5s\\' or /usr/bin/nginx -t -c /mynginx.conf\"\\n                    />\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !command-input --\\x3e\\n              \\x3c!-- entrypoint-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_entrypoint\" class=\"col-sm-2 col-lg-1 control-label text-left\">\\n                  Entrypoint\\n                  <portainer-tooltip\\n                    position=\"bottom\"\\n                    message=\"When container entrypoint is entered as part of the Command field, set Entrypoint to Override mode and leave blank, else it will revert to default.\"\\n                  ></portainer-tooltip>\\n                </label>\\n                <div class=\"col-sm-9\">\\n                  <div class=\"input-group\">\\n                    <div class=\"input-group-btn\">\\n                      <label class=\"btn btn-primary\" ng-model=\"formValues.EntrypointMode\" uib-btn-radio=\"\\'default\\'\" style=\"margin-left: 0px\"> Default</label>\\n                      <label class=\"btn btn-primary\" ng-model=\"formValues.EntrypointMode\" uib-btn-radio=\"\\'override\\'\">Override</label>\\n                    </div>\\n                    <input\\n                      type=\"text\"\\n                      class=\"form-control\"\\n                      ng-model=\"config.Entrypoint\"\\n                      ng-disabled=\"formValues.EntrypointMode === \\'default\\'\"\\n                      id=\"container_entrypoint\"\\n                      placeholder=\"e.g. /bin/sh -c\"\\n                    />\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !entrypoint-input --\\x3e\\n              \\x3c!-- workdir-user-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_workingdir\" class=\"col-sm-2 col-lg-1 control-label text-left\">Working Dir</label>\\n                <div class=\"col-sm-4\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"config.WorkingDir\" id=\"container_workingdir\" placeholder=\"e.g. /myapp\" />\\n                </div>\\n                <label for=\"container_user\" class=\"col-sm-1 control-label text-left\">User</label>\\n                <div class=\"col-sm-4\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"config.User\" id=\"container_user\" placeholder=\"e.g. nginx\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !workdir-user-input --\\x3e\\n              \\x3c!-- console --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_console\" class=\"col-sm-2 col-lg-1 control-label text-left\">Console</label>\\n                <div class=\"col-sm-10 col-lg-11\">\\n                  <div class=\"col-sm-4\">\\n                    <label class=\"radio-inline\">\\n                      <input type=\"radio\" name=\"container_console\" ng-model=\"formValues.Console\" value=\"both\" />\\n                      Interactive & TTY <span class=\"small text-muted\">(-i -t)</span>\\n                    </label>\\n                  </div>\\n                  <div class=\"col-sm-4\">\\n                    <label class=\"radio-inline\">\\n                      <input type=\"radio\" name=\"container_console\" ng-model=\"formValues.Console\" value=\"interactive\" />\\n                      Interactive <span class=\"small text-muted\">(-i)</span>\\n                    </label>\\n                  </div>\\n                </div>\\n                <div class=\"col-sm-offset-2 col-sm-10 col-lg-offset-1 col-lg-11\">\\n                  <div class=\"col-sm-4\">\\n                    <label class=\"radio-inline\">\\n                      <input type=\"radio\" name=\"container_console\" ng-model=\"formValues.Console\" value=\"tty\" />\\n                      TTY <span class=\"small text-muted\">(-t)</span>\\n                    </label>\\n                  </div>\\n                  <div class=\"col-sm-4\">\\n                    <label class=\"radio-inline\">\\n                      <input type=\"radio\" name=\"container_console\" ng-model=\"formValues.Console\" value=\"none\" />\\n                      None\\n                    </label>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !console --\\x3e\\n\\n              <div class=\"col-sm-12 form-section-title\"> Logging </div>\\n              \\x3c!-- logging-driver --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"log-driver\" class=\"col-sm-2 col-lg-1 control-label text-left\">Driver</label>\\n                <div class=\"col-sm-4\">\\n                  <select class=\"form-control\" ng-model=\"formValues.LogDriverName\" id=\"log-driver\">\\n                    <option selected value=\"\">Default logging driver</option>\\n                    <option ng-repeat=\"driver in availableLoggingDrivers\" ng-value=\"driver\">{{ driver }}</option>\\n                    <option value=\"none\">none</option>\\n                  </select>\\n                </div>\\n                <div class=\"col-sm-5\">\\n                  <p class=\"small text-muted\">\\n                    Logging driver that will override the default docker daemon driver. Select Default logging driver if you don\\'t want to override it. Supported logging drivers\\n                    can be found <a href=\"https://docs.docker.com/engine/admin/logging/overview/#supported-logging-drivers\" target=\"_blank\">in the Docker documentation</a>.\\n                  </p>\\n                </div>\\n              </div>\\n              \\x3c!-- !logging-driver --\\x3e\\n              \\x3c!-- logging-opts --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                  <label class=\"control-label text-left\">\\n                    Options\\n                    <portainer-tooltip\\n                      position=\"top\"\\n                      message=\"Add button is disabled unless a driver other than none or default is selected. Options are specific to the selected driver, refer to the driver documentation.\"\\n                    ></portainer-tooltip>\\n                  </label>\\n                  <span\\n                    class=\"label label-default interactive\"\\n                    style=\"margin-left: 10px\"\\n                    ng-click=\"!formValues.LogDriverName || formValues.LogDriverName === \\'none\\' || addLogDriverOpt(formValues.LogDriverName)\"\\n                  >\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add logging driver option\\n                  </span>\\n                </div>\\n                \\x3c!-- logging-opts-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"opt in formValues.LogDriverOpts\" style=\"margin-top: 2px\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">option</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"opt.name\" placeholder=\"e.g. FOO\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"opt.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLogDriverOpt($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- logging-opts-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !logging-opts --\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-command --\\x3e\\n          \\x3c!-- tab-volume --\\x3e\\n          <div class=\"tab-pane\" id=\"volumes\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n              \\x3c!-- volumes --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                  <label class=\"control-label text-left\">Volume mapping</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addVolume()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> map additional volume\\n                  </span>\\n                </div>\\n                \\x3c!-- volumes-input-list --\\x3e\\n                <div class=\"form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"volume in formValues.Volumes\">\\n                    \\x3c!-- volume-line1 --\\x3e\\n                    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                      \\x3c!-- container-path --\\x3e\\n                      <div class=\"input-group input-group-sm col-sm-6\">\\n                        <span class=\"input-group-addon\">container</span>\\n                        <input type=\"text\" class=\"form-control\" ng-model=\"volume.containerPath\" placeholder=\"e.g. /path/in/container\" />\\n                      </div>\\n                      \\x3c!-- !container-path --\\x3e\\n                      \\x3c!-- volume-type --\\x3e\\n                      <div class=\"input-group col-sm-5\" style=\"margin-left: 5px\">\\n                        <div class=\"btn-group btn-group-sm\" ng-if=\"allowBindMounts\">\\n                          <label class=\"btn btn-primary\" ng-model=\"volume.type\" uib-btn-radio=\"\\'volume\\'\" ng-click=\"volume.name = \\'\\'\">Volume</label>\\n                          <label class=\"btn btn-primary\" ng-model=\"volume.type\" uib-btn-radio=\"\\'bind\\'\" ng-click=\"volume.name = \\'\\'\">Bind</label>\\n                        </div>\\n                        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeVolume($index)\">\\n                          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                        </button>\\n                      </div>\\n                      \\x3c!-- !volume-type --\\x3e\\n                    </div>\\n                    \\x3c!-- !volume-line1 --\\x3e\\n                    \\x3c!-- volume-line2 --\\x3e\\n                    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 5px\">\\n                      <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                      \\x3c!-- volume --\\x3e\\n                      <div class=\"input-group input-group-sm col-sm-6\" ng-if=\"volume.type === \\'volume\\'\">\\n                        <span class=\"input-group-addon\">volume</span>\\n                        <select class=\"form-control\" ng-model=\"volume.name\">\\n                          <option selected disabled hidden value=\"\">Select a volume</option>\\n                          <option ng-repeat=\"vol in availableVolumes\" ng-value=\"vol.Name\">{{ vol.Name | truncate: 30 }} - {{ vol.Driver | truncate: 30 }}</option>\\n                        </select>\\n                      </div>\\n                      \\x3c!-- !volume --\\x3e\\n                      \\x3c!-- bind --\\x3e\\n                      <div class=\"input-group input-group-sm col-sm-6\" ng-if=\"volume.type === \\'bind\\'\">\\n                        <span class=\"input-group-addon\">host</span>\\n                        <input type=\"text\" class=\"form-control\" ng-model=\"volume.name\" placeholder=\"e.g. /path/on/host\" />\\n                      </div>\\n                      \\x3c!-- !bind --\\x3e\\n                      \\x3c!-- read-only --\\x3e\\n                      <div class=\"input-group input-group-sm col-sm-5\" style=\"margin-left: 5px\">\\n                        <div class=\"btn-group btn-group-sm\">\\n                          <label class=\"btn btn-primary\" ng-model=\"volume.readOnly\" uib-btn-radio=\"false\">Writable</label>\\n                          <label class=\"btn btn-primary\" ng-model=\"volume.readOnly\" uib-btn-radio=\"true\">Read-only</label>\\n                        </div>\\n                      </div>\\n                      \\x3c!-- !read-only --\\x3e\\n                    </div>\\n                    \\x3c!-- !volume-line2 --\\x3e\\n                  </div>\\n                </div>\\n                \\x3c!-- !volumes-input-list --\\x3e\\n              </div>\\n            </form>\\n            \\x3c!-- !volumes --\\x3e\\n          </div>\\n          \\x3c!-- !tab-volume --\\x3e\\n          \\x3c!-- tab-network --\\x3e\\n          <div class=\"tab-pane\" id=\"network\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n              <div class=\"form-group\" ng-if=\"globalNetworkCount === 0 && applicationState.endpoint.mode.provider !== \\'DOCKER_SWARM_MODE\\'\">\\n                <div class=\"col-sm-12\">\\n                  <span class=\"small text-muted\">You don\\'t have any shared networks. Head over to the <a ui-sref=\"docker.networks\">networks view</a> to create one.</span>\\n                </div>\\n              </div>\\n              \\x3c!-- network-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_network\" class=\"col-sm-2 col-lg-1 control-label text-left\">Network</label>\\n                <div class=\"col-sm-9\">\\n                  <select\\n                    class=\"form-control\"\\n                    ng-options=\"net.Name as net.Name for net in availableNetworks\"\\n                    ng-model=\"config.HostConfig.NetworkMode\"\\n                    id=\"container_network\"\\n                    ng-change=\"resetNetworkConfig()\"\\n                  >\\n                    <option selected disabled hidden value=\"\">Select a network</option>\\n                  </select>\\n                </div>\\n              </div>\\n              \\x3c!-- !network-input --\\x3e\\n              \\x3c!-- container-name-input --\\x3e\\n              <div class=\"form-group\" ng-if=\"config.HostConfig.NetworkMode == \\'container\\'\">\\n                <label for=\"container_network_container\" class=\"col-sm-2 col-lg-1 control-label text-left\">Container</label>\\n                <div class=\"col-sm-9\">\\n                  <select ng-options=\"container|containername for container in runningContainers\" class=\"form-control\" ng-model=\"formValues.NetworkContainer\">\\n                    <option selected disabled hidden value=\"\">Select a container</option>\\n                  </select>\\n                </div>\\n              </div>\\n              \\x3c!-- !container-name-input --\\x3e\\n              \\x3c!-- hostname-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_hostname\" class=\"col-sm-2 col-lg-1 control-label text-left\">Hostname</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"config.Hostname\" id=\"container_hostname\" placeholder=\"e.g. web01\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !hostname-input --\\x3e\\n              \\x3c!-- domainname-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_domainname\" class=\"col-sm-2 col-lg-1 control-label text-left\">Domain Name</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"config.Domainname\" id=\"container_domainname\" placeholder=\"e.g. example.com\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !domainname --\\x3e\\n              \\x3c!-- mac-address-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_macaddress\" class=\"col-sm-2 col-lg-1 control-label text-left\">Mac Address</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.MacAddress\" id=\"container_macaddress\" placeholder=\"e.g. 12-34-56-78-9a-bc\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !mac-address-input --\\x3e\\n              \\x3c!-- ipv4-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_ipv4\" class=\"col-sm-2 col-lg-1 control-label text-left\">IPv4 Address</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPv4\" id=\"container_ipv4\" placeholder=\"e.g. 172.20.0.7\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !ipv4-input --\\x3e\\n              \\x3c!-- ipv6-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_ipv6\" class=\"col-sm-2 col-lg-1 control-label text-left\">IPv6 Address</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPv6\" id=\"container_ipv6\" placeholder=\"e.g. a:b:c:d::1234\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !ipv6-input --\\x3e\\n              \\x3c!-- dns-primary-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_dns_primary\" class=\"col-sm-2 col-lg-1 control-label text-left\">Primary DNS Server</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.DnsPrimary\" id=\"container_dns_primary\" placeholder=\"e.g. 1.1.1.1, 2606:4700:4700::1111\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !dns-primary-input --\\x3e\\n              \\x3c!-- dns-secondary-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_dns_secondary\" class=\"col-sm-2 col-lg-1 control-label text-left\">Secondary DNS Server</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.DnsSecondary\" id=\"container_dns_secondary\" placeholder=\"e.g. 1.0.0.1, 2606:4700:4700::1001\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !dns-secondary-input --\\x3e\\n              \\x3c!-- extra-hosts-variables --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                  <label class=\"control-label text-left\">Hosts file entries</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addExtraHost()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add additional entry\\n                  </span>\\n                </div>\\n                \\x3c!-- extra-hosts-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"variable in formValues.ExtraHosts\" style=\"margin-top: 2px\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"variable.value\" placeholder=\"e.g. host:IP\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeExtraHost($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !extra-hosts-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !extra-hosts-variables --\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-network --\\x3e\\n          \\x3c!-- tab-labels --\\x3e\\n          <div class=\"tab-pane\" id=\"labels\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n              \\x3c!-- labels --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                  <label class=\"control-label text-left\">Labels</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addLabel()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label\\n                  </span>\\n                </div>\\n                \\x3c!-- labels-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"label in formValues.Labels\" style=\"margin-top: 2px\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">name</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.name\" placeholder=\"e.g. com.example.foo\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !labels-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !labels--\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-labels --\\x3e\\n          \\x3c!-- tab-env --\\x3e\\n          <div class=\"tab-pane\" id=\"env\">\\n            <environment-variables-panel\\n              ng-model=\"formValues.Env\"\\n              explanation=\"These values will be applied to the container when deployed\"\\n              on-change=\"(handleEnvVarChange)\"\\n            ></environment-variables-panel>\\n          </div>\\n          \\x3c!-- !tab-env --\\x3e\\n          \\x3c!-- tab-restart-policy --\\x3e\\n          <div class=\"tab-pane\" id=\"restart-policy\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\">\\n                  <label class=\"control-label text-left\"> Restart policy </label>\\n                  <div class=\"btn-group btn-group-sm\" style=\"margin-left: 20px\">\\n                    <label class=\"btn btn-primary\" ng-model=\"config.HostConfig.RestartPolicy.Name\" uib-btn-radio=\"\\'no\\'\"> Never </label>\\n                    <label class=\"btn btn-primary\" ng-model=\"config.HostConfig.RestartPolicy.Name\" uib-btn-radio=\"\\'always\\'\"> Always </label>\\n                    <label class=\"btn btn-primary\" ng-model=\"config.HostConfig.RestartPolicy.Name\" uib-btn-radio=\"\\'on-failure\\'\"> On failure </label>\\n                    <label class=\"btn btn-primary\" ng-model=\"config.HostConfig.RestartPolicy.Name\" uib-btn-radio=\"\\'unless-stopped\\'\"> Unless stopped </label>\\n                  </div>\\n                </div>\\n              </div>\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-restart-policy --\\x3e\\n          \\x3c!-- tab-runtime-resources --\\x3e\\n          <div class=\"tab-pane\" id=\"runtime-resources\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n              <div class=\"col-sm-12 form-section-title\"> Runtime </div>\\n              \\x3c!-- privileged-mode --\\x3e\\n              <div class=\"form-group\" ng-if=\"isAdmin || allowPrivilegedMode\">\\n                <div class=\"col-sm-12\">\\n                  <label for=\"privileged_mode\" class=\"control-label text-left\"> Privileged mode </label>\\n                  <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" name=\"privileged_mode\" ng-model=\"config.HostConfig.Privileged\" /><i></i> </label>\\n                </div>\\n              </div>\\n              \\x3c!-- !privileged-mode --\\x3e\\n              \\x3c!-- init --\\x3e\\n              <div class=\"form-group\" ng-if=\"applicationState.endpoint.apiVersion >= 1.37\">\\n                <div class=\"col-sm-12\">\\n                  <label for=\"init\" class=\"control-label text-left\"> Init </label>\\n                  <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" name=\"init\" ng-model=\"config.HostConfig.Init\" /><i></i> </label>\\n                </div>\\n              </div>\\n              \\x3c!-- !init --\\x3e\\n              \\x3c!-- runtimes --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_runtime\" class=\"col-sm-1 control-label text-left\">Runtime</label>\\n                <div class=\"col-sm-11\">\\n                  <select class=\"form-control\" ng-model=\"config.HostConfig.Runtime\" id=\"container_runtime\" ng-options=\"runtime for runtime in availableRuntimes\">\\n                    <option selected value=\"\">Default</option>\\n                  </select>\\n                </div>\\n              </div>\\n              \\x3c!-- !runtimes --\\x3e\\n            </form>\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n              \\x3c!-- devices --\\x3e\\n              <div ng-if=\"showDeviceMapping\" class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                  <label class=\"control-label text-left\">Devices</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addDevice()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add device\\n                  </span>\\n                </div>\\n                \\x3c!-- devices-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"device in config.HostConfig.Devices\" style=\"margin-top: 2px\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">host</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"device.pathOnHost\" placeholder=\"e.g. /dev/tty0\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">container</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"device.pathInContainer\" placeholder=\"e.g. /dev/tty0\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeDevice($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !devices-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !devices--\\x3e\\n              \\x3c!-- sysctls --\\x3e\\n              <div ng-if=\"showSysctls\" class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                  <label class=\"control-label text-left\">Sysctls</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addSysctl()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add sysctl\\n                  </span>\\n                </div>\\n                \\x3c!-- sysctls-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"sysctl in formValues.Sysctls\" style=\"margin-top: 2px\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">name</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"sysctl.name\" placeholder=\"e.g. FOO\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"sysctl.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeSysctl($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !sysctls-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !sysctls --\\x3e\\n              <div ng-class=\"{ \\'edit-resources\\': state.mode == \\'duplicate\\' }\">\\n                <div class=\"col-sm-12 form-section-title\"> Resources </div>\\n                \\x3c!-- memory-reservation-input --\\x3e\\n                <div class=\"form-group\">\\n                  <label for=\"memory-reservation\" class=\"col-sm-3 col-lg-2 control-label text-left mt-8\"> Memory reservation </label>\\n                  <div class=\"col-sm-3\">\\n                    <slider\\n                      on-change=\"(handleResourceChange)\"\\n                      model=\"formValues.MemoryReservation\"\\n                      floor=\"0\"\\n                      ceil=\"state.sliderMaxMemory\"\\n                      step=\"256\"\\n                      ng-if=\"state.sliderMaxMemory\"\\n                    ></slider>\\n                  </div>\\n                  <div class=\"col-sm-2\">\\n                    <input type=\"number\" min=\"0\" class=\"form-control\" ng-model=\"formValues.MemoryReservation\" id=\"memory-reservation\" />\\n                  </div>\\n                  <div class=\"col-sm-4\">\\n                    <p class=\"small text-muted mt-2\"> Memory soft limit (<b>MB</b>) </p>\\n                  </div>\\n                </div>\\n                \\x3c!-- !memory-reservation-input --\\x3e\\n                \\x3c!-- memory-limit-input --\\x3e\\n                <div class=\"form-group\">\\n                  <label for=\"memory-limit\" class=\"col-sm-3 col-lg-2 control-label text-left mt-8\"> Memory limit </label>\\n                  <div class=\"col-sm-3\">\\n                    <slider\\n                      on-change=\"(handleResourceChange)\"\\n                      model=\"formValues.MemoryLimit\"\\n                      floor=\"0\"\\n                      ceil=\"state.sliderMaxMemory\"\\n                      step=\"256\"\\n                      ng-if=\"state.sliderMaxMemory\"\\n                    ></slider>\\n                  </div>\\n                  <div class=\"col-sm-2\">\\n                    <input type=\"number\" min=\"0\" class=\"form-control\" ng-model=\"formValues.MemoryLimit\" id=\"memory-limit\" />\\n                  </div>\\n                  <div class=\"col-sm-4\">\\n                    <p class=\"small text-muted mt-7\"> Memory limit (<b>MB</b>) </p>\\n                  </div>\\n                </div>\\n                \\x3c!-- !memory-limit-input --\\x3e\\n                \\x3c!-- cpu-limit-input --\\x3e\\n                <div class=\"form-group\">\\n                  <label for=\"cpu-limit\" class=\"col-sm-3 col-lg-2 control-label text-left mt-8\"> CPU limit </label>\\n                  <div class=\"col-sm-5\">\\n                    <slider\\n                      on-change=\"(handleResourceChange)\"\\n                      model=\"formValues.CpuLimit\"\\n                      floor=\"0\"\\n                      ceil=\"state.sliderMaxCpu\"\\n                      step=\"0.25\"\\n                      precision=\"2\"\\n                      ng-if=\"state.sliderMaxCpu\"\\n                    ></slider>\\n                  </div>\\n                  <div class=\"col-sm-4 mt-8\">\\n                    <p class=\"small text-muted\"> Maximum CPU usage </p>\\n                  </div>\\n                </div>\\n                \\x3c!-- !cpu-limit-input --\\x3e\\n\\n                \\x3c!-- update-limit-btn --\\x3e\\n                <div class=\"form-group\" ng-if=\"state.mode == \\'duplicate\\'\">\\n                  <div class=\"col-sm-12\">\\n                    <button\\n                      type=\"button\"\\n                      class=\"btn btn-primary btn-sm\"\\n                      ng-disabled=\"state.actionInProgress || !formValues.RegistryModel.Image || (!formValues.RegistryModel.Registry && fromContainer)\"\\n                      ng-click=\"update()\"\\n                      button-spinner=\"state.actionInProgress\"\\n                    >\\n                      <span ng-hide=\"state.actionInProgress\">Update Limits</span>\\n                      <span ng-show=\"state.actionInProgress\">Update in progress...</span>\\n                    </button>\\n                  </div>\\n                  <div class=\"col-sm-12\" ng-if=\"state.settingUnlimitedResources\">\\n                    <p class=\"text-muted mr-4\">\\n                      <i class=\"fa fa-exclamation-circle text-warning mt-10\" aria-hidden=\"true\"></i> Updating any resource value to \u2018unlimited\\' will redeploy this container.\\n                    </p>\\n                  </div>\\n                </div>\\n                \\x3c!-- !update-limit-btn --\\x3e\\n              </div>\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-runtime-resources --\\x3e\\n          \\x3c!-- tab-container-capabilities --\\x3e\\n          <div class=\"tab-pane\" id=\"container-capabilities\">\\n            <container-capabilities capabilities=\"formValues.capabilities\"></container-capabilities>\\n          </div>\\n          \\x3c!-- !tab-container-capabilities --\\x3e\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},5744:function(e){var t=\"app/docker/views/containers/edit/container.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Container details\"> </rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.containers\">Containers</a> &gt; <a ui-sref=\"docker.containers.container({id: container.Id})\">{{ container.Name | trimcontainername }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div\\n  class=\"row\"\\n  authorization=\"DockerContainerStart, DockerContainerStop, DockerContainerKill, DockerContainerRestart, DockerContainerPause, DockerContainerUnpause, DockerContainerDelete, DockerContainerCreate\"\\n>\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-cogs\" title-text=\"Actions\"></rd-widget-header>\\n      <rd-widget-body classes=\"padding\">\\n        <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n          <button authorization=\"DockerContainerStart\" class=\"btn btn-success btn-sm\" ng-click=\"start()\" ng-disabled=\"container.State.Running || container.IsPortainer\"\\n            ><i class=\"fa fa-play space-right\" aria-hidden=\"true\"></i>Start</button\\n          >\\n          <button authorization=\"DockerContainerStop\" class=\"btn btn-danger btn-sm\" ng-click=\"stop()\" ng-disabled=\"!container.State.Running || container.IsPortainer\"\\n            ><i class=\"fa fa-stop space-right\" aria-hidden=\"true\"></i>Stop</button\\n          >\\n          <button authorization=\"DockerContainerKill\" class=\"btn btn-danger btn-sm\" ng-click=\"kill()\" ng-disabled=\"!container.State.Running || container.IsPortainer\"\\n            ><i class=\"fa fa-bomb space-right\" aria-hidden=\"true\"></i>Kill</button\\n          >\\n          <button authorization=\"DockerContainerRestart\" class=\"btn btn-primary btn-sm\" ng-click=\"restart()\" ng-disabled=\"!container.State.Running || container.IsPortainer\"\\n            ><i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i>Restart</button\\n          >\\n          <button\\n            authorization=\"DockerContainerPause\"\\n            class=\"btn btn-primary btn-sm\"\\n            ng-click=\"pause()\"\\n            ng-disabled=\"!container.State.Running || container.State.Paused || container.IsPortainer\"\\n            ><i class=\"fa fa-pause space-right\" aria-hidden=\"true\"></i>Pause</button\\n          >\\n          <button authorization=\"DockerContainerUnpause\" class=\"btn btn-primary btn-sm\" ng-click=\"unpause()\" ng-disabled=\"!container.State.Paused || container.IsPortainer\"\\n            ><i class=\"fa fa-play space-right\" aria-hidden=\"true\"></i>Resume</button\\n          >\\n          <button authorization=\"DockerContainerDelete\" class=\"btn btn-danger btn-sm\" ng-click=\"confirmRemove()\" ng-disabled=\"container.IsPortainer\"\\n            ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove</button\\n          >\\n        </div>\\n        <div class=\"btn-group\" role=\"group\" aria-label=\"...\" ng-if=\"displayRecreateButton\" authorization=\"DockerContainerCreate\">\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-danger btn-sm\"\\n            ng-disabled=\"state.recreateContainerInProgress || container.IsPortainer\"\\n            ng-click=\"recreate()\"\\n            button-spinner=\"state.recreateContainerInProgress\"\\n          >\\n            <span ng-hide=\"state.recreateContainerInProgress\"><i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i>Recreate</span>\\n            <span ng-show=\"state.recreateContainerInProgress\">Recreation in progress...</span>\\n          </button>\\n          <a class=\"btn btn-primary btn-sm\" type=\"button\" ui-sref=\"docker.containers.new({ from: container.Id, nodeName: nodeName })\" ng-disabled=\"container.IsPortainer\"\\n            ><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Duplicate/Edit</a\\n          >\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-server\" title-text=\"Container status\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>ID</td>\\n              <td>{{ container.Id }}</td>\\n            </tr>\\n            <tr>\\n              <td>Name</td>\\n              <td ng-if=\"!container.edit\">\\n                {{ container.Name | trimcontainername }}\\n                <a authorization=\"DockerContainerRename\" href=\"\" data-toggle=\"tooltip\" title=\"Edit container name\" ng-click=\"container.edit = true;\"><i class=\"fa fa-edit\"></i></a>\\n              </td>\\n              <td ng-if=\"container.edit\">\\n                <form ng-submit=\"renameContainer()\">\\n                  <input type=\"text\" class=\"containerNameInput\" ng-model=\"container.newContainerName\" />\\n                  <a href=\"\" ng-click=\"container.edit = false;\"><i class=\"fa fa-times\"></i></a>\\n                  <a href=\"\" ng-click=\"renameContainer()\"><i class=\"fa fa-check-square\"></i></a>\\n                </form>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"container.NetworkSettings.IPAddress\">\\n              <td>IP address</td>\\n              <td>{{ container.NetworkSettings.IPAddress }}</td>\\n            </tr>\\n            <tr>\\n              <td>Status</td>\\n              <td>\\n                <i class=\"fa fa-heartbeat space-right green-icon\" ng-if=\"container.State.Running\"></i>\\n                <i class=\"fa fa-heartbeat space-right red-icon\" ng-if=\"!container.State.Running && container.State.Status !== \\'created\\'\"></i>\\n                {{ container.State | getstatetext }} for {{ activityTime\\n                }}<span ng-if=\"!container.State.Running && container.State.Status !== \\'created\\'\"> with exit code {{ container.State.ExitCode }}</span>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Created</td>\\n              <td>{{ container.Created | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"container.State.Running\">\\n              <td>Start time</td>\\n              <td>{{ container.State.StartedAt | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"!container.State.Running && container.State.Status !== \\'created\\'\">\\n              <td>Finished</td>\\n              <td>{{ container.State.FinishedAt | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"isAdmin && displayRecreateButton && applicationState.endpoint.type !== 4\">\\n              <td colspan=\"1\">\\n                Container webhook\\n                <portainer-tooltip\\n                  position=\"top\"\\n                  message=\"Webhook (or callback URI) used to automate the recreate this container. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and recreate this container.\"\\n                ></portainer-tooltip>\\n                <label class=\"switch box-selector-item limited business\" style=\"margin-left: 20px\">\\n                  <input disable-authorization=\"DockerContainerUpdate\" type=\"checkbox\" ng-model=\"WebhookExists\" disabled=\"disabled\" ng-checked=\"true\" /><i></i>\\n                </label>\\n                <be-feature-indicator feature=\"containerWebhookFeature\"></be-feature-indicator>\\n              </td>\\n            </tr>\\n            <tr authorization=\"DockerContainerLogs, DockerContainerInspect, DockerContainerStats, DockerExecStart\">\\n              <td colspan=\"2\">\\n                <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n                  <a authorization=\"DockerContainerLogs\" class=\"btn\" type=\"button\" ui-sref=\"docker.containers.container.logs({ id: container.Id })\"\\n                    ><i class=\"fa fa-file-alt space-right\" aria-hidden=\"true\"></i>Logs</a\\n                  >\\n                  <a authorization=\"DockerContainerInspect\" class=\"btn\" type=\"button\" ui-sref=\"docker.containers.container.inspect({ id: container.Id })\"\\n                    ><i class=\"fa fa-info-circle space-right\" aria-hidden=\"true\"></i>Inspect</a\\n                  >\\n                  <a authorization=\"DockerContainerStats\" class=\"btn\" type=\"button\" ui-sref=\"docker.containers.container.stats({ id: container.Id })\"\\n                    ><i class=\"fa fa-chart-area space-right\" aria-hidden=\"true\"></i>Stats</a\\n                  >\\n                  <a authorization=\"DockerExecStart\" class=\"btn\" type=\"button\" ui-sref=\"docker.containers.container.exec({ id: container.Id })\"\\n                    ><i class=\"fa fa-terminal space-right\" aria-hidden=\"true\"></i>Console</a\\n                  >\\n                  <a authorization=\"DockerContainerAttach\" class=\"btn\" type=\"button\" ui-sref=\"docker.containers.container.attach({ id: container.Id })\"\\n                    ><i class=\"fa fa-plug space-right\" aria-hidden=\"true\"></i>Attach</a\\n                  >\\n                </div>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n\\x3c!-- access-control-panel --\\x3e\\n<access-control-panel\\n  ng-if=\"container\"\\n  resource-id=\"container.Id\"\\n  resource-control=\"container.ResourceControl\"\\n  resource-type=\"resourceType\"\\n  on-update-success=\"(onUpdateResourceControlSuccess)\"\\n>\\n</access-control-panel>\\n\\x3c!-- !access-control-panel --\\x3e\\n\\n<div ng-if=\"container.State.Health\" class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-server\" title-text=\"Container health\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Status</td>\\n              <td>\\n                <i\\n                  ng-class=\"\\n                    { healthy: \\'fa fa-heartbeat space-right green-icon\\', unhealthy: \\'fa fa-heartbeat space-right red-icon\\', starting: \\'fa fa-heartbeat space-right orange-icon\\' }[\\n                      container.State.Health.Status\\n                    ]\\n                  \"\\n                ></i>\\n                {{ container.State.Health.Status }}\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Failure count</td>\\n              <td>{{ container.State.Health.FailingStreak }}</td>\\n            </tr>\\n            <tr>\\n              <td>Last output</td>\\n              <td>{{ container.State.Health.Log[container.State.Health.Log.length - 1].Output }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" authorization=\"DockerImageCreate\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-clone\" title-text=\"Create image\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- tag-description --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\">\\n                You can create an image from this container, this allows you to backup important data or save helpful configurations. You\\'ll be able to spin up another container\\n                based on this image afterward.\\n              </span>\\n            </div>\\n          </div>\\n          \\x3c!-- !tag-description --\\x3e\\n          \\x3c!-- image-and-registry --\\x3e\\n          <por-image-registry\\n            model=\"config.RegistryModel\"\\n            auto-complete=\"true\"\\n            label-class=\"col-sm-1\"\\n            input-class=\"col-sm-11\"\\n            endpoint=\"endpoint\"\\n            is-admin=\"isAdmin\"\\n            set-validity=\"setPullImageValidity\"\\n            check-rate-limits=\"true\"\\n          ></por-image-registry>\\n          \\x3c!-- !image-and-registry --\\x3e\\n          \\x3c!-- tag-note --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\">Note: if you don\\'t specify the tag in the image name, <span class=\"label label-default\">latest</span> will be used.</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !tag-note --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"!state.pullImageValidity || !config.RegistryModel.Image || config.commitInProgress\"\\n                ng-click=\"commit()\"\\n              >\\n                Create\\n              </button>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-server\" title-text=\"Container details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table container-details-table\">\\n          <tbody>\\n            <tr>\\n              <td>Image</td>\\n              <td\\n                ><a ui-sref=\"docker.images.image({ id: container.Image, nodeName: nodeName })\">{{ container.Config.Image }}@{{ container.Image }}</a></td\\n              >\\n            </tr>\\n            <tr ng-if=\"portBindings.length > 0\">\\n              <td>Port configuration</td>\\n              <td>\\n                <div ng-repeat=\"portMapping in portBindings\"> {{ portMapping.host }} <i class=\"fa fa-long-arrow-alt-right\"></i> {{ portMapping.container }} </div>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>CMD</td>\\n              <td\\n                ><code>{{ container.Config.Cmd | command }}</code></td\\n              >\\n            </tr>\\n            <tr>\\n              <td>ENTRYPOINT</td>\\n              <td\\n                ><code>{{ container.Config.Entrypoint ? (container.Config.Entrypoint | command) : \\'null\\' }}</code></td\\n              >\\n            </tr>\\n            <tr>\\n              <td>ENV</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"var in container.Config.Env track by $index\">\\n                    <td>{{ var|key: \\'=\\' }}</td>\\n                    <td>{{ var|value: \\'=\\' }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!(container.Config.Labels | emptyobject)\">\\n              <td>Labels</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"(k, v) in container.Config.Labels\">\\n                    <td>{{ k }}</td>\\n                    <td>{{ v }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Restart policies</td>\\n              <td>\\n                <container-restart-policy\\n                  ng-if=\"container\"\\n                  name=\"container.HostConfig.RestartPolicy.Name\"\\n                  maximum-retry-count=\"container.HostConfig.RestartPolicy.MaximumRetryCount\"\\n                  update-restart-policy=\"updateRestartPolicy(name, maximumRetryCount)\"\\n                >\\n                </container-restart-policy>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!(container.HostConfig.Sysctls | emptyobject)\">\\n              <td>Sysctls</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"(k, v) in container.HostConfig.Sysctls\">\\n                    <td>{{ k }}</td>\\n                    <td>{{ v }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"container.Mounts.length > 0\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-hdd\" title-text=\"Volumes\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <thead>\\n            <tr>\\n              <th>Host/volume</th>\\n              <th>Path in container</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr ng-repeat=\"vol in container.Mounts\">\\n              <td ng-if=\"vol.Type === \\'bind\\'\">{{ vol.Source }}</td>\\n              <td ng-if=\"vol.Type === \\'volume\\'\"\\n                ><a ui-sref=\"docker.volumes.volume({ id: vol.Name, nodeName: nodeName })\">{{ vol.Name }}</a></td\\n              >\\n              <td>{{ vol.Destination }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <container-networks-datatable\\n      ng-if=\"container.NetworkSettings.Networks\"\\n      title-text=\"Connected networks\"\\n      title-icon=\"fa-sitemap\"\\n      dataset=\"container.NetworkSettings.Networks\"\\n      table-key=\"container-networks\"\\n      container=\"container\"\\n      available-networks=\"availableNetworks\"\\n      join-network-action=\"containerJoinNetwork\"\\n      join-network-action-in-progress=\"state.joinNetworkInProgress\"\\n      leave-network-action=\"containerLeaveNetwork\"\\n      leave-network-action-in-progress=\"state.leaveNetworkInProgress\"\\n      node-name=\"nodeName\"\\n    ></container-networks-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},96215:function(e){var t=\"app/docker/views/containers/inspect/containerinspect.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Container inspect\"> </rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.containers\">Containers</a> &gt; <a ui-sref=\"docker.containers.container({id: containerInfo.Id})\">{{ containerInfo.Name | trimcontainername }}</a> &gt;\\n    Inspect\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-circle\" title-text=\"Inspect\">\\n        <span class=\"btn-group btn-group-sm\">\\n          <label class=\"btn btn-primary\" ng-model=\"state.DisplayTextView\" uib-btn-radio=\"false\"><i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i>Tree</label>\\n          <label class=\"btn btn-primary\" ng-model=\"state.DisplayTextView\" uib-btn-radio=\"true\"><i class=\"fa fa-file-alt space-right\" aria-hidden=\"true\"></i>Text</label>\\n        </span>\\n      </rd-widget-header>\\n      <rd-widget-body>\\n        <pre ng-show=\"state.DisplayTextView\">{{ containerInfo | json: 4 }}</pre>\\n        <json-tree ng-hide=\"state.DisplayTextView\" object=\"containerInfo\" root-name=\"containerInfo.Id\" start-expanded=\"true\"></json-tree>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},7942:function(e){var t=\"app/docker/views/containers/logs/containerlogs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Container logs\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.containers\">Containers</a> &gt; <a ui-sref=\"docker.containers.container({id: container.Id})\">{{ container.Name | trimcontainername }}</a> &gt; Logs\\n  </rd-header-content>\\n</rd-header>\\n\\n<log-viewer\\n  data=\"logs\"\\n  ng-if=\"logs\"\\n  log-collection-change=\"changeLogCollection\"\\n  display-timestamps=\"state.displayTimestamps\"\\n  line-count=\"state.lineCount\"\\n  since-timestamp=\"state.sinceTimestamp\"\\n  resource-name=\"container.Name\"\\n></log-viewer>\\n')}]),e.exports=t},67431:function(e){var t=\"app/docker/views/containers/stats/containerstats.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Container statistics\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.containers\">Containers</a> &gt; <a ui-sref=\"docker.containers.container({id: container.Id})\">{{ container.Name | trimcontainername }}</a> &gt; Stats\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-md-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-info-circle\" title-text=\"About statistics\"> </rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\">\\n                This view displays real-time statistics about the container <b>{{ container.Name | trimcontainername }}</b> as well as a list of the running processes inside this\\n                container.\\n              </span>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"refreshRate\" class=\"col-sm-3 col-md-2 col-lg-2 margin-sm-top control-label text-left\"> Refresh rate </label>\\n            <div class=\"col-sm-3 col-md-2\">\\n              <select id=\"refreshRate\" ng-model=\"state.refreshRate\" ng-change=\"changeUpdateRepeater()\" class=\"form-control\">\\n                <option value=\"1\">1s</option>\\n                <option value=\"3\">3s</option>\\n                <option value=\"5\">5s</option>\\n                <option value=\"10\">10s</option>\\n                <option value=\"30\">30s</option>\\n                <option value=\"60\">60s</option>\\n              </select>\\n            </div>\\n            <span>\\n              <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n            </span>\\n          </div>\\n          <div class=\"form-group\" ng-if=\"state.networkStatsUnavailable\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\"> <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i> Network stats are unavailable for this container. </span>\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-if=\"state.ioStatsUnavailable\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\"> <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i> I/O stats are unavailable for this container. </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-6 col-md-6 col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-chart-area\" title-text=\"Memory usage\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"chart-container\" style=\"position: relative\">\\n          <canvas id=\"memoryChart\" width=\"770\" height=\"300\"></canvas>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n\\n  <div class=\"col-lg-6 col-md-6 col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-chart-area\" title-text=\"CPU usage\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"chart-container\" style=\"position: relative\">\\n          <canvas id=\"cpuChart\" width=\"770\" height=\"300\"></canvas>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n\\n  <div class=\"col-lg-6 col-md-6 col-sm-12\" ng-if=\"!state.networkStatsUnavailable\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-chart-area\" title-text=\"Network usage (aggregate)\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"chart-container\" style=\"position: relative\">\\n          <canvas id=\"networkChart\" width=\"770\" height=\"300\"></canvas>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n\\n  <div class=\"col-lg-6 col-md-6 col-sm-12\" ng-if=\"!state.ioStatsUnavailable\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-chart-area\" title-text=\"I/O usage (aggregate)\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"chart-container\" style=\"position: relative\">\\n          <canvas id=\"ioChart\" width=\"770\" height=\"300\"></canvas>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <container-processes-datatable\\n      title-text=\"Processes\"\\n      title-icon=\"fa-tasks\"\\n      dataset=\"processInfo.Processes\"\\n      headerset=\"processInfo.Titles\"\\n      table-key=\"container-processes\"\\n    ></container-processes-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},30357:function(e){var t=\"app/docker/views/dashboard/dashboard.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Dashboard\"></rd-header-title>\\n  <rd-header-content>Environment summary</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\">\\n  <div class=\"col-sm-12\">\\n    <dashboard-cluster-agent-info></dashboard-cluster-agent-info>\\n  </div>\\n</div>\\n<information-panel-offline ng-if=\"offlineMode\"></information-panel-offline>\\n<information-panel\\n  ng-if=\"\\n    !applicationState.UI.dismissedInfoPanels[\\'docker-dashboard-info-01\\'] &&\\n    !applicationState.endpoint.mode.agentProxy &&\\n    applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\\n  \"\\n  title-text=\"Information\"\\n  dismiss-action=\"dismissInformationPanel(\\'docker-dashboard-info-01\\')\"\\n>\\n  <span class=\"small\">\\n    <p class=\"text-muted\" ng-if=\"applicationState.endpoint.mode.role === \\'MANAGER\\'\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      Portainer is connected to a node that is part of a Swarm cluster. Some resources located on other nodes in the cluster might not be available for management, have a look at\\n      <a href=\"http://portainer.readthedocs.io/en/stable/agent.html\" target=\"_blank\">our agent setup</a> for more details.\\n    </p>\\n    <p class=\"text-muted\" ng-if=\"applicationState.endpoint.mode.role === \\'WORKER\\'\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      Portainer is connected to a worker node. Swarm management features will not be available.\\n    </p>\\n  </span>\\n</information-panel>\\n\\n<div class=\"row\" ng-if=\"(!applicationState.endpoint.mode.agentProxy || applicationState.endpoint.mode.provider !== \\'DOCKER_SWARM_MODE\\') && info && endpoint\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-tachometer-alt\" title-text=\"Environment info\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Environment</td>\\n              <td>\\n                {{ endpoint.Name }}\\n                <span class=\"small text-muted space-left\">\\n                  <i class=\"fa fa-microchip\"></i> {{ endpoint.Snapshots[0].TotalCPU }} <i class=\"fa fa-memory space-left\"></i> {{ endpoint.Snapshots[0].TotalMemory | humansize }}\\n                </span>\\n                <span class=\"small text-muted\">\\n                  - {{ info.Swarm && info.Swarm.NodeID !== \\'\\' ? \\'Swarm\\' : \\'Standalone\\' }} {{ info.ServerVersion }}\\n                  <span ng-if=\"endpoint.Type === 2\">+ <i class=\"fa fa-bolt\" aria-hidden=\"true\"></i> Agent</span></span\\n                >\\n              </td>\\n            </tr>\\n            <tr ng-if=\"showEnvUrl\">\\n              <td>URL</td>\\n              <td>{{ endpoint.URL | stripprotocol }}</td>\\n            </tr>\\n            <tr>\\n              <td>Tags</td>\\n              <td>{{ endpointTags }}</td>\\n            </tr>\\n            <tr ng-if=\"applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\' && applicationState.endpoint.mode.role === \\'MANAGER\\'\">\\n              <td colspan=\"2\">\\n                <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n                  <a ui-sref=\"docker.swarm.visualizer\"><i class=\"fa fa-object-group space-right\" aria-hidden=\"true\"></i>Go to cluster visualizer</a>\\n                </div>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-xs-12 col-md-6\" ng-if=\"showStacks\">\\n    <a ui-sref=\"docker.stacks\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-th-list\"></i>\\n          </div>\\n          <div class=\"title\">{{ stackCount }}</div>\\n          <div class=\"comment\">{{ stackCount === 1 ? \\'Stack\\' : \\'Stacks\\' }}</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n  <div class=\"col-xs-12 col-md-6\" ng-if=\"applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\' && applicationState.endpoint.mode.role === \\'MANAGER\\'\">\\n    <a ui-sref=\"docker.services\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-list-alt\"></i>\\n          </div>\\n          <div class=\"title\">{{ serviceCount }}</div>\\n          <div class=\"comment\">{{ serviceCount === 1 ? \\'Service\\' : \\'Services\\' }}</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n  <div class=\"col-xs-12 col-md-6\" ng-if=\"containers\">\\n    <a ui-sref=\"docker.containers\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-cubes\"></i>\\n          </div>\\n          <div class=\"pull-right\" style=\"padding-left: 5px\">\\n            <div><i class=\"fa fa-power-off space-right green-icon\"></i>{{ containers | runningcontainers }} running</div>\\n            <div><i class=\"fa fa-power-off space-right red-icon\"></i>{{ containers | stoppedcontainers }} stopped</div>\\n          </div>\\n          <div class=\"pull-right\" style=\"padding-right: 5px\">\\n            <div><i class=\"fa fa-heartbeat space-right green-icon\"></i>{{ containers | healthycontainers }} healthy</div>\\n            <div><i class=\"fa fa-heartbeat space-right orange-icon\"></i>{{ containers | unhealthycontainers }} unhealthy</div>\\n          </div>\\n          <div class=\"title\">{{ containers.length }}</div>\\n          <div class=\"comment\">{{ containers.length === 1 ? \\'Container\\' : \\'Containers\\' }}</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n  <div class=\"col-xs-12 col-md-6\" ng-if=\"images\">\\n    <a ui-sref=\"docker.images\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-clone\"></i>\\n          </div>\\n          <div class=\"pull-right\">\\n            <div><i class=\"fa fa-chart-pie space-right\"></i>{{ images | imagestotalsize | humansize }}</div>\\n          </div>\\n          <div class=\"title\">{{ images.length }}</div>\\n          <div class=\"comment\">{{ images.length === 1 ? \\'Image\\' : \\'Images\\' }}</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n  <div class=\"col-xs-12 col-md-6\">\\n    <a ui-sref=\"docker.volumes\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-hdd\"></i>\\n          </div>\\n          <div class=\"title\">{{ volumeCount }}</div>\\n          <div class=\"comment\">{{ volumeCount === 1 ? \\'Volume\\' : \\'Volumes\\' }}</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n  <div class=\"col-xs-12 col-md-6\">\\n    <a ui-sref=\"docker.networks\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-sitemap\"></i>\\n          </div>\\n          <div class=\"title\">{{ networkCount }}</div>\\n          <div class=\"comment\">{{ networkCount === 1 ? \\'Network\\' : \\'Networks\\' }}</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n</div>\\n')}]),e.exports=t},97582:function(e){var t=\"app/docker/views/docker-features-configuration/docker-features-configuration.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Docker features configuration\"></rd-header-title>\\n  <rd-header-content>Docker configuration</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"$ctrl.form\">\\n          <div class=\"col-sm-12 form-section-title\"> Host and Filesystem </div>\\n          <div ng-if=\"!$ctrl.isAgent\" class=\"form-group\">\\n            <span class=\"col-sm-12 text-muted small\">\\n              <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              These features are only available for an Agent enabled environments.\\n            </span>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                checked=\"$ctrl.formValues.enableHostManagementFeatures\"\\n                name=\"\\'enableHostManagementFeatures\\'\"\\n                label=\"\\'Enable host management features\\'\"\\n                tooltip=\"\\'Enable host management features: host system browsing and advanced host details.\\'\"\\n                label-class=\"\\'col-sm-7 col-lg-4\\'\"\\n                disabled=\"!$ctrl.isAgent\"\\n                on-change=\"($ctrl.onChangeEnableHostManagementFeatures)\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                checked=\"$ctrl.formValues.allowVolumeBrowserForRegularUsers\"\\n                name=\"\\'allowVolumeBrowserForRegularUsers\\'\"\\n                label=\"\\'Enable volume management for non-administrators\\'\"\\n                tooltip=\"\\'When enabled, regular users will be able to use Portainer volume management features.\\'\"\\n                label-class=\"\\'col-sm-7 col-lg-4\\'\"\\n                on-change=\"($ctrl.onChangeAllowVolumeBrowserForRegularUsers)\"\\n                disabled=\"!$ctrl.isAgent\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          \\x3c!-- auto update window --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Change Window Setting </div>\\n\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                checked=\"$ctrl.state.autoUpdateSettings.Enabled\"\\n                name=\"\\'disableSysctlSettingForRegularUsers\\'\"\\n                label=\"\\'Enable Change Window\\'\"\\n                label-class=\"\\'col-sm-7 col-lg-4\\'\"\\n                feature-id=\"$ctrl.limitedFeature\"\\n                tooltip=\"\\'Specify a time-frame during which automatic updates can occur in this environment.\\'\"\\n                on-change=\"($ctrl.onToggleAutoUpdate)\"\\n              >\\n              </por-switch-field>\\n            </div>\\n          </div>\\n\\n          \\x3c!-- security --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Docker Security Settings </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                checked=\"$ctrl.formValues.disableBindMountsForRegularUsers\"\\n                name=\"\\'disableBindMountsForRegularUsers\\'\"\\n                label=\"\\'Disable bind mounts for non-administrators\\'\"\\n                tooltip=\"\\'When enabled, regular users will not be able to use bind mounts when creating containers.\\'\"\\n                label-class=\"\\'col-sm-7 col-lg-4\\'\"\\n                on-change=\"($ctrl.onChangeDisableBindMountsForRegularUsers)\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                checked=\"$ctrl.formValues.disablePrivilegedModeForRegularUsers\"\\n                name=\"\\'disablePrivilegedModeForRegularUsers\\'\"\\n                label=\"\\'Disable privileged mode for non-administrators\\'\"\\n                tooltip=\"\\'When enabled, regular users will not be able to use privileged mode when creating containers.\\'\"\\n                label-class=\"\\'col-sm-7 col-lg-4\\'\"\\n                on-change=\"($ctrl.onChangeDisablePrivilegedModeForRegularUsers)\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                checked=\"$ctrl.formValues.disableHostNamespaceForRegularUsers\"\\n                name=\"\\'disableHostNamespaceForRegularUsers\\'\"\\n                label=\"\\'Disable the use of host PID 1 for non-administrators\\'\"\\n                tooltip=\"\\'Prevent users from accessing the host filesystem through the host PID namespace.\\'\"\\n                label-class=\"\\'col-sm-7 col-lg-4\\'\"\\n                on-change=\"($ctrl.onChangeDisableHostNamespaceForRegularUsers)\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                checked=\"$ctrl.formValues.disableStackManagementForRegularUsers\"\\n                name=\"\\'disableStackManagementForRegularUsers\\'\"\\n                label=\"\\'Disable the use of Stacks for non-administrators\\'\"\\n                label-class=\"\\'col-sm-7 col-lg-4\\'\"\\n                on-change=\"($ctrl.onChangeDisableStackManagementForRegularUsers)\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                checked=\"$ctrl.formValues.disableDeviceMappingForRegularUsers\"\\n                name=\"\\'disableDeviceMappingForRegularUsers\\'\"\\n                label=\"\\'Disable device mappings for non-administrators\\'\"\\n                label-class=\"\\'col-sm-7 col-lg-4\\'\"\\n                on-change=\"($ctrl.onChangeDisableDeviceMappingForRegularUsers)\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                checked=\"$ctrl.formValues.disableContainerCapabilitiesForRegularUsers\"\\n                name=\"\\'disableContainerCapabilitiesForRegularUsers\\'\"\\n                label=\"\\'Disable container capabilities for non-administrators\\'\"\\n                label-class=\"\\'col-sm-7 col-lg-4\\'\"\\n                on-change=\"($ctrl.onChangeDisableContainerCapabilitiesForRegularUsers)\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                checked=\"$ctrl.formValues.disableSysctlSettingForRegularUsers\"\\n                name=\"\\'disableSysctlSettingForRegularUsers\\'\"\\n                label=\"\\'Disable sysctl settings for non-administrators\\'\"\\n                label-class=\"\\'col-sm-7 col-lg-4\\'\"\\n                on-change=\"($ctrl.onChangeDisableSysctlSettingForRegularUsers)\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n\\n          <div class=\"form-group\" ng-if=\"$ctrl.isContainerEditDisabled()\">\\n            <span class=\"col-sm-12 text-muted small\">\\n              <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              Note: The recreate/duplicate/edit feature is currently disabled (for non-admin users) by one or more security settings.\\n            </span>\\n          </div>\\n          \\x3c!-- !security --\\x3e\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-click=\"$ctrl.save()\" ng-disabled=\"$ctrl.state.actionInProgress\" button-spinner=\"$ctrl.state.actionInProgress\">\\n                <span ng-hide=\"$ctrl.state.actionInProgress\">Save configuration</span>\\n                <span ng-show=\"$ctrl.state.actionInProgress\">Saving...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},9208:function(e){var t=\"app/docker/views/events/events.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Event list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.events\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Events</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <events-datatable title-text=\"Events\" title-icon=\"fa-history\" dataset=\"events\" table-key=\"events\" order-by=\"Time\" reverse-order=\"true\"></events-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},18659:function(e){var t=\"app/docker/views/host/host-browser-view/host-browser-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Host Browser\"></rd-header-title>\\n  <rd-header-content>\\n    Host &gt; <a ui-sref=\"docker.host\">{{ $ctrl.host.Name }}</a> &gt; browse\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <host-browser ng-if=\"$ctrl.host\" endpoint-id=\"$ctrl.endpoint.Id\"></host-browser>\\n  </div>\\n</div>\\n')}]),e.exports=t},20927:function(e){var t=\"app/docker/views/host/host-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<host-overview\\n  engine-details=\"$ctrl.engineDetails\"\\n  host-details=\"$ctrl.hostDetails\"\\n  is-agent=\"$ctrl.state.isAgent\"\\n  agent-api-version=\"$ctrl.state.agentApiVersion\"\\n  disks=\"$ctrl.disks\"\\n  devices=\"$ctrl.devices\"\\n  refresh-url=\"docker.host\"\\n  browse-url=\"docker.host.browser\"\\n  offline-mode=\"$ctrl.state.offlineMode\"\\n  host-features-enabled=\"$ctrl.state.enableHostManagementFeatures\"\\n></host-overview>\\n')}]),e.exports=t},14147:function(e){var t=\"app/docker/views/images/build/buildimage.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Build image\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.images\">Images</a> &gt; Build image </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <uib-tabset active=\"state.activeTab\">\\n          <uib-tab index=\"0\">\\n            <uib-tab-heading> <i class=\"fa fa-wrench space-right\" aria-hidden=\"true\"></i> Builder </uib-tab-heading>\\n            <form class=\"form-horizontal\">\\n              <div class=\"col-sm-12 form-section-title\"> Naming </div>\\n              \\x3c!-- names --\\x3e\\n              <div class=\"form-group\">\\n                <span class=\"col-sm-12 text-muted small\"> You can specify multiple names to your image. </span>\\n              </div>\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\">\\n                  <label class=\"control-label text-left\">Names</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addImageName()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add additional name\\n                  </span>\\n                </div>\\n              </div>\\n              \\x3c!-- !names --\\x3e\\n              <div class=\"form-group\" ng-if=\"formValues.ImageNames.length === 0\">\\n                <span class=\"col-sm-12 text-danger small\">\\n                  <i class=\"fa fa-exclamation-triangle space-right\" aria-hidden=\"true\"></i>You must specify at least one name for the image.\\n                </span>\\n              </div>\\n              \\x3c!-- name-input-list --\\x3e\\n              <div ng-if=\"formValues.ImageNames.length > 0\">\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\">\\n                    A name must be specified in one of the following formats: <code>name:tag</code>, <code>repository/name:tag</code> or\\n                    <code>registryfqdn:port/repository/name:tag</code> format. If you omit the tag the default <b>latest</b> value is assumed.\\n                  </span>\\n                </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                      <div ng-repeat=\"item in formValues.ImageNames track by $index\" style=\"margin-top: 2px\">\\n                        \\x3c!-- name-input --\\x3e\\n                        <div class=\"input-group col-sm-5 input-group-sm\">\\n                          <span class=\"input-group-addon\">name</span>\\n                          <input type=\"text\" class=\"form-control\" ng-model=\"item.Name\" placeholder=\"e.g. my-image:my-tag\" auto-focus />\\n                          <span class=\"input-group-addon\"\\n                            ><i ng-class=\"{ true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[item.Name !== \\'\\']\" aria-hidden=\"true\"></i\\n                          ></span>\\n                        </div>\\n                        \\x3c!-- !name-input --\\x3e\\n                        \\x3c!-- actions --\\x3e\\n                        <div class=\"input-group col-sm-2 input-group-sm\">\\n                          <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeImageName($index)\">\\n                            <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                          </button>\\n                        </div>\\n                        \\x3c!-- !actions --\\x3e\\n                      </div>\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !name-input-list --\\x3e\\n              \\x3c!-- build-method --\\x3e\\n              <div class=\"col-sm-12 form-section-title\"> Build method </div>\\n              <div class=\"form-group\"></div>\\n              <div class=\"form-group\" style=\"margin-bottom: 0\">\\n                <div class=\"boxselector_wrapper\">\\n                  <div>\\n                    <input type=\"radio\" id=\"method_editor\" ng-model=\"state.BuildType\" value=\"editor\" ng-click=\"toggleEditor()\" />\\n                    <label for=\"method_editor\">\\n                      <div class=\"boxselector_header\">\\n                        <i class=\"fa fa-edit\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                        Web editor\\n                      </div>\\n                      <p>Use our Web editor</p>\\n                    </label>\\n                  </div>\\n                  <div>\\n                    <input type=\"radio\" id=\"method_upload\" ng-model=\"state.BuildType\" value=\"upload\" ng-click=\"saveEditorContent()\" />\\n                    <label for=\"method_upload\">\\n                      <div class=\"boxselector_header\">\\n                        <i class=\"fa fa-upload\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                        Upload\\n                      </div>\\n                      <p>Upload a tarball or a Dockerfile from your computer</p>\\n                    </label>\\n                  </div>\\n                  <div>\\n                    <input type=\"radio\" id=\"method_url\" ng-model=\"state.BuildType\" value=\"url\" ng-click=\"saveEditorContent()\" />\\n                    <label for=\"method_url\">\\n                      <div class=\"boxselector_header\">\\n                        <i class=\"fa fa-globe\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                        URL\\n                      </div>\\n                      <p>Specify a URL to a file</p>\\n                    </label>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !build-method --\\x3e\\n              \\x3c!-- web-editor --\\x3e\\n              <div ng-show=\"state.BuildType === \\'editor\\'\">\\n                <div class=\"col-sm-12 form-section-title\"> Web editor </div>\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\">\\n                    You can get more information about Dockerfile format in the\\n                    <a href=\"https://docs.docker.com/engine/reference/builder/\" target=\"_blank\">official documentation</a>.\\n                  </span>\\n                </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <code-editor\\n                      identifier=\"image-build-editor\"\\n                      placeholder=\"Define or paste the content of your Dockerfile here\"\\n                      yml=\"false\"\\n                      on-change=\"(editorUpdate)\"\\n                    ></code-editor>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !web-editor --\\x3e\\n              \\x3c!-- upload --\\x3e\\n              <div ng-show=\"state.BuildType === \\'upload\\'\">\\n                <div class=\"col-sm-12 form-section-title\"> Upload </div>\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\">\\n                    You can upload a Dockerfile or a tar archive containing a Dockerfile from your computer. When using a tarball, the root folder will be used as the build\\n                    context.\\n                  </span>\\n                </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <button class=\"btn btn-sm btn-primary\" ngf-select ngf-min-size=\"10\" ng-model=\"formValues.UploadFile\">Select file</button>\\n                    <span style=\"margin-left: 5px\">\\n                      {{ formValues.UploadFile.name }}\\n                      <i class=\"fa fa-times red-icon\" ng-if=\"!formValues.UploadFile\" aria-hidden=\"true\"></i>\\n                    </span>\\n                  </div>\\n                </div>\\n                <div ng-if=\"formValues.UploadFile.type === \\'application/gzip\\' || formValues.UploadFile.type === \\'application/x-tar\\'\">\\n                  <div class=\"form-group\">\\n                    <span class=\"col-sm-12 text-muted small\"> Indicate the path to the Dockerfile within the tarball. </span>\\n                  </div>\\n                  <div class=\"form-group\">\\n                    <label for=\"image_path\" class=\"col-sm-2 control-label text-left\">Dockerfile path</label>\\n                    <div class=\"col-sm-10\">\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Path\" id=\"image_path\" placeholder=\"Dockerfile\" />\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !upload --\\x3e\\n              \\x3c!-- url --\\x3e\\n              <div ng-show=\"state.BuildType === \\'url\\'\">\\n                <div class=\"col-sm-12 form-section-title\"> URL </div>\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\">\\n                    Specify the URL to a Dockerfile, a tarball or a public Git repository (suffixed by <b>.git</b>). When using a tarball or a Git repository URL, the root folder\\n                    will be used as the build context.\\n                  </span>\\n                </div>\\n                <div class=\"form-group\">\\n                  <label for=\"image_url\" class=\"col-sm-2 control-label text-left\">URL</label>\\n                  <div class=\"col-sm-10\">\\n                    <input\\n                      type=\"text\"\\n                      class=\"form-control\"\\n                      ng-model=\"formValues.URL\"\\n                      id=\"image_url\"\\n                      placeholder=\"https://myhost.mydomain/myimage.tar.gz or https://github.com/myname/myrepo.git#mybranch\"\\n                    />\\n                  </div>\\n                </div>\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\"> Indicate the path to the Dockerfile within the tarball/repository (ignored when using a Dockerfile). </span>\\n                </div>\\n                <div class=\"form-group\">\\n                  <label for=\"image_path\" class=\"col-sm-2 control-label text-left\">Dockerfile path</label>\\n                  <div class=\"col-sm-10\">\\n                    <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Path\" id=\"image_path\" placeholder=\"Dockerfile\" />\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !url --\\x3e\\n              <div ng-if=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\">\\n                <div class=\"col-sm-12 form-section-title\"> Deployment </div>\\n                \\x3c!-- node-selection --\\x3e\\n                <node-selector model=\"formValues.NodeName\"> </node-selector>\\n                \\x3c!-- !node-selection --\\x3e\\n              </div>\\n              \\x3c!-- actions --\\x3e\\n              <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\">\\n                  <button\\n                    type=\"button\"\\n                    class=\"btn btn-primary btn-sm\"\\n                    ng-disabled=\"state.actionInProgress\\n                    || (state.BuildType === \\'upload\\' && (!formValues.UploadFile || !formValues.Path))\\n                    || (state.BuildType === \\'url\\' && (!formValues.URL || !formValues.Path))\\n                    || (formValues.ImageNames.length === 0 || !validImageNames())\"\\n                    ng-click=\"buildImage()\"\\n                    button-spinner=\"state.actionInProgress\"\\n                  >\\n                    <span ng-hide=\"state.actionInProgress\">Build the image</span>\\n                    <span ng-show=\"state.actionInProgress\">Image building in progress...</span>\\n                  </button>\\n                  <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px\">{{ state.formValidationError }}</span>\\n                </div>\\n              </div>\\n              \\x3c!-- !actions --\\x3e\\n            </form>\\n          </uib-tab>\\n          <uib-tab index=\"1\" disable=\"!buildLogs\">\\n            <uib-tab-heading> <i class=\"fa fa-file-alt space-right\" aria-hidden=\"true\"></i> Output </uib-tab-heading>\\n            <pre class=\"log_viewer\">\\n              <div ng-repeat=\"line in buildLogs track by $index\" class=\"line\"><p class=\"inner_line\" ng-click=\"active=!active\" ng-class=\"{\\'line_selected\\': active}\">{{ line }}</p></div>\\n              <div ng-if=\"!buildLogs.length\" class=\"line\"><p class=\"inner_line\">No build output available.</p></div>\\n            </pre>\\n          </uib-tab>\\n        </uib-tabset>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},35003:function(e){var t=\"app/docker/views/images/edit/image.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Image details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.images\">Images</a> &gt; <a ui-sref=\"docker.images.image({id: image.Id})\">{{ image.Id }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"image.RepoTags.length > 0\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa fa-tags\" title-text=\"Image tags\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"form-group\">\\n            <div class=\"row\">\\n              <div class=\"pull-left\" ng-repeat=\"tag in image.RepoTags\" style=\"display: table\">\\n                <div class=\"input-group col-md-1\" style=\"padding: 0 15px\">\\n                  <span class=\"input-group-addon\">{{ tag }}</span>\\n                  <span class=\"input-group-btn\" authorization=\"DockerImagePush, DockerImageCreate, DockerImageDelete\">\\n                    <a data-toggle=\"tooltip\" class=\"btn btn-primary interactive\" title=\"Push to registry\" ng-click=\"pushTag(tag)\" authorization=\"DockerImagePush\">\\n                      <span class=\"fa fa-upload white-icon\" aria-hidden=\"true\"></span>\\n                    </a>\\n                    <a data-toggle=\"tooltip\" class=\"btn btn-primary interactive\" title=\"Pull from registry\" ng-click=\"pullTag(tag)\" authorization=\"DockerImageCreate\">\\n                      <span class=\"fa fa-download white-icon\" aria-hidden=\"true\"></span>\\n                    </a>\\n                    <a data-toggle=\"tooltip\" class=\"btn btn-primary interactive\" title=\"Remove tag\" ng-click=\"removeTag(tag)\" authorization=\"DockerImageDelete\">\\n                      <span class=\"fa fa-trash-alt white-icon\" aria-hidden=\"true\"></span>\\n                    </a>\\n                  </span>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\">\\n                Note: you can click on the upload icon <span class=\"fa fa-upload\" aria-hidden=\"true\"></span> to push an image or on the download icon\\n                <span class=\"fa fa-download\" aria-hidden=\"true\"></span> to pull an image or on the trash icon <span class=\"fa fa-trash-alt\" aria-hidden=\"true\"></span> to delete a\\n                tag.\\n              </span>\\n            </div>\\n            <div class=\"col-sm-12\">\\n              <span id=\"downloadResourceHint\" class=\"createResource\" style=\"display: none; margin-left: 0\">\\n                Download in progress...\\n                <i class=\"fa fa-circle-notch fa-spin\" aria-hidden=\"true\" style=\"margin-left: 2px\"></i>\\n              </span>\\n              <span id=\"uploadResourceHint\" class=\"createResource\" style=\"display: none; margin-left: 0\">\\n                Upload in progress...\\n                <i class=\"fa fa-circle-notch fa-spin\" aria-hidden=\"true\" style=\"margin-left: 2px\"></i>\\n              </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" authorization=\"DockerImageCreate\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-tag\" title-text=\"Tag the image\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- image-and-registry --\\x3e\\n          <por-image-registry\\n            model=\"formValues.RegistryModel\"\\n            label-class=\"col-sm-1\"\\n            input-class=\"col-sm-11\"\\n            endpoint=\"endpoint\"\\n            is-admin=\"isAdmin\"\\n            set-validity=\"setPullImageValidity\"\\n            check-rate-limits=\"true\"\\n          ></por-image-registry>\\n          \\x3c!-- !image-and-registry --\\x3e\\n          \\x3c!-- tag-note --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\">Note: if you don\\'t specify the tag in the image name, <span class=\"label label-default\">latest</span> will be used.</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !tag-note --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!formValues.RegistryModel.Image\" ng-click=\"tagImage()\">Tag</button>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-clone\" title-text=\"Image details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>ID</td>\\n              <td>\\n                {{ image.Id }}\\n                <button authorization=\"DockerImageDelete\" class=\"btn btn-xs btn-danger\" ng-click=\"removeImage(image.Id)\"\\n                  ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Delete this image</button\\n                >\\n                <button\\n                  authorization=\"DockerImageGet\"\\n                  class=\"btn btn-xs btn-primary\"\\n                  ng-click=\"exportImage(image)\"\\n                  button-spinner=\"$ctrl.exportInProgress\"\\n                  ng-disabled=\"state.exportInProgress\"\\n                >\\n                  <i class=\"fa fa-download space-right\" aria-hidden=\"true\"></i>\\n                  <span ng-hide=\"state.exportInProgress\">Export this image</span>\\n                  <span ng-show=\"state.exportInProgress\">Export in progress...</span>\\n                </button>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"image.Parent\">\\n              <td>Parent</td>\\n              <td\\n                ><a ui-sref=\"docker.images.image({id: image.Parent})\">{{ image.Parent }}</a></td\\n              >\\n            </tr>\\n            <tr>\\n              <td>Size</td>\\n              <td>{{ image.VirtualSize | humansize }}</td>\\n            </tr>\\n            <tr>\\n              <td>Created</td>\\n              <td>{{ image.Created | getisodate }}</td>\\n            </tr>\\n            <tr>\\n              <td>Build</td>\\n              <td>Docker {{ image.DockerVersion }} on {{ image.Os }}, {{ image.Architecture }}</td>\\n            </tr>\\n            <tr ng-if=\"!(image.Labels | emptyobject)\">\\n              <td>Labels</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"(k, v) in image.Labels\">\\n                    <td>{{ k }}</td>\\n                    <td>{{ v }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"image.Author\">\\n              <td>Author</td>\\n              <td>{{ image.Author }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-clone\" title-text=\"Dockerfile details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>CMD</td>\\n              <td\\n                ><code>{{ image.Command | command }}</code></td\\n              >\\n            </tr>\\n            <tr ng-if=\"image.Entrypoint\">\\n              <td>ENTRYPOINT</td>\\n              <td\\n                ><code>{{ image.Entrypoint | command }}</code></td\\n              >\\n            </tr>\\n            <tr ng-if=\"image.ExposedPorts.length > 0\">\\n              <td>EXPOSE</td>\\n              <td>\\n                <span class=\"label label-default space-right\" ng-repeat=\"port in image.ExposedPorts\">\\n                  {{ port }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"image.Volumes.length > 0\">\\n              <td>VOLUME</td>\\n              <td>\\n                <span class=\"label label-default space-right\" ng-repeat=\"volume in image.Volumes\">\\n                  {{ volume }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"image.Env.length > 0\">\\n              <td>ENV</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"var in image.Env\">\\n                    <td>{{ var|key: \\'=\\' }}</td>\\n                    <td>{{ var|value: \\'=\\' }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n<div class=\"row\" ng-if=\"history.length > 0\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-clone\" title-text=\"Image layers\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table id=\"image-layers\" class=\"table\">\\n          <thead>\\n            <th style=\"white-space: nowrap\">\\n              <a ng-click=\"order(\\'Order\\')\">\\n                Order\\n                <span ng-show=\"sortType == \\'Order\\' && !sortReverse\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                <span ng-show=\"sortType == \\'Order\\' && sortReverse\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n              </a>\\n            </th>\\n            <th>\\n              <a ng-click=\"order(\\'Size\\')\">\\n                Size\\n                <span ng-show=\"sortType == \\'Size\\' && !sortReverse\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                <span ng-show=\"sortType == \\'Size\\' && sortReverse\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n              </a>\\n            </th>\\n            <th>\\n              <a ng-click=\"order(\\'CreatedBy\\')\">\\n                Layer\\n                <span ng-show=\"sortType == \\'CreatedBy\\' && !sortReverse\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                <span ng-show=\"sortType == \\'CreatedBy\\' && sortReverse\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n              </a>\\n            </th>\\n          </thead>\\n          <tbody>\\n            <tr ng-repeat=\"layer in history | orderBy:sortType:sortReverse\">\\n              <td style=\"white-space: nowrap\">\\n                {{ layer.Order }}\\n              </td>\\n              <td style=\"white-space: nowrap\">\\n                {{ layer.Size | humansize }}\\n              </td>\\n              <td class=\"expand\">\\n                <div ng-if=\"layer.CreatedBy.length > 130\">\\n                  <span id=\"layer-command-{{ $index }}-full\" style=\"display: none\">\\n                    {{ layer.CreatedBy | imagelayercommand }}\\n                  </span>\\n                  <span id=\"layer-command-{{ $index }}-short\">\\n                    {{ layer.CreatedBy | imagelayercommand | truncate: 130 }}\\n                    <span ng-if=\"layer.CreatedBy.length > 130\" style=\"margin-left: 5px\">\\n                      <a id=\"layer-command-expander{{ $index }}\" class=\"btn\" ng-click=\"toggleLayerCommand($index)\">\\n                        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i>\\n                      </a>\\n                    </span>\\n                  </span>\\n                </div>\\n                <div ng-if=\"layer.CreatedBy.length <= 130\">\\n                  <span id=\"layer-command-{{ $index }}-full\">\\n                    {{ layer.CreatedBy | imagelayercommand }}\\n                  </span>\\n                </div>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},30503:function(e){var t=\"app/docker/views/images/images.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Image list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.images\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Images</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"!offlineMode\" authorization=\"DockerImageCreate\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-download\" title-text=\"Pull image \"> </rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- image-and-registry --\\x3e\\n          <por-image-registry\\n            model=\"formValues.RegistryModel\"\\n            auto-complete=\"true\"\\n            label-class=\"col-sm-1\"\\n            input-class=\"col-sm-11\"\\n            endpoint=\"endpoint\"\\n            is-admin=\"isAdmin\"\\n            set-validity=\"setPullImageValidity\"\\n            check-rate-limits=\"true\"\\n          >\\n            <div ng-if=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\">\\n              <div class=\"col-sm-12 form-section-title\"> Deployment </div>\\n              \\x3c!-- node-selection --\\x3e\\n              <node-selector model=\"formValues.NodeName\"> </node-selector>\\n              \\x3c!-- !node-selection --\\x3e\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"state.actionInProgress || !formValues.RegistryModel.Image || !state.pullRateValid\"\\n                  ng-click=\"pullImage()\"\\n                  button-spinner=\"state.actionInProgress\"\\n                >\\n                  <span ng-hide=\"state.actionInProgress\">Pull the image</span>\\n                  <span ng-show=\"state.actionInProgress\">Download in progress...</span>\\n                </button>\\n              </div>\\n            </div>\\n          </por-image-registry>\\n          \\x3c!-- !image-and-registry --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n<information-panel-offline ng-if=\"offlineMode\"></information-panel-offline>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <images-datatable\\n      title-text=\"Images\"\\n      title-icon=\"fa-clone\"\\n      dataset=\"images\"\\n      table-key=\"images\"\\n      order-by=\"RepoTags\"\\n      show-host-column=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\"\\n      download-action=\"downloadAction\"\\n      remove-action=\"removeAction\"\\n      force-remove-action=\"confirmRemovalAction\"\\n      export-in-progress=\"state.exportInProgress\"\\n      offline-mode=\"offlineMode\"\\n      refresh-callback=\"getImages\"\\n    ></images-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},26447:function(e){var t=\"app/docker/views/images/import/importimage.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Import image\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.images\">Images</a> &gt; Import image </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- upload --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Upload </div>\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12 text-muted small\"> You can upload a tar archive containing your images. </span>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select ngf-min-size=\"10\" ng-model=\"formValues.UploadFile\">Select file</button>\\n              <span style=\"margin-left: 5px\">\\n                {{ formValues.UploadFile.name }}\\n                <i class=\"fa fa-times red-icon\" ng-if=\"!formValues.UploadFile\" aria-hidden=\"true\"></i>\\n              </span>\\n            </div>\\n          </div>\\n          \\x3c!-- !upload --\\x3e\\n          <div ng-if=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\">\\n            <div class=\"col-sm-12 form-section-title\"> Deployment </div>\\n            \\x3c!-- node-selection --\\x3e\\n            <node-selector model=\"formValues.NodeName\"> </node-selector>\\n            \\x3c!-- !node-selection --\\x3e\\n          </div>\\n          <div class=\"row\" authorization=\"DockerImageCreate\">\\n            <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n              <rd-widget>\\n                <rd-widget-header icon=\"fa-tag\" title-text=\"Tag the image\"></rd-widget-header>\\n                <rd-widget-body>\\n                  \\x3c!-- image-and-registry --\\x3e\\n                  <por-image-registry\\n                    model=\"formValues.RegistryModel\"\\n                    label-class=\"col-sm-1\"\\n                    input-class=\"col-sm-11\"\\n                    endpoint=\"endpoint\"\\n                    is-admin=\"isAdmin\"\\n                    set-validity=\"setPullImageValidity\"\\n                    check-rate-limits=\"true\"\\n                  ></por-image-registry>\\n                </rd-widget-body>\\n              </rd-widget>\\n            </div>\\n          </div>\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !formValues.UploadFile\"\\n                ng-click=\"uploadImage()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Upload</span>\\n                <span ng-show=\"state.actionInProgress\">Images uploading in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},8285:function(e){var t=\"app/docker/views/networks/create/createnetwork.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create network\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.networks\">Networks</a> &gt; Add network </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"networkCreationForm\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"network_name\" class=\"col-sm-2 col-lg-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"config.Name\" id=\"network_name\" placeholder=\"e.g. myNetwork\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Driver configuration </div>\\n          \\x3c!-- driver-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"network_driver\" class=\"col-sm-2 col-lg-1 control-label text-left\">Driver</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select class=\"form-control\" ng-options=\"driver for driver in availableNetworkDrivers\" ng-model=\"config.Driver\" ng-if=\"availableNetworkDrivers.length > 0\">\\n                <option disabled hidden value=\"\">Select a driver</option>\\n              </select>\\n              <input type=\"text\" class=\"form-control\" ng-model=\"config.Driver\" id=\"network_driver\" placeholder=\"e.g. driverName\" ng-if=\"availableNetworkDrivers.length === 0\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !driver-input --\\x3e\\n          \\x3c!-- driver-options --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n              <label class=\"control-label text-left\">\\n                Driver options\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"Driver options are specific to the selected driver. Please refer to the selected driver documentation.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addDriverOption()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add driver option\\n              </span>\\n            </div>\\n            \\x3c!-- driver-options-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n              <div ng-repeat=\"option in formValues.DriverOptions\" style=\"margin-top: 2px\">\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">name</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"option.name\" placeholder=\"e.g. com.docker.network.bridge.enable_icc\" />\\n                </div>\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">value</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"option.value\" placeholder=\"e.g. true\" />\\n                </div>\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeDriverOption($index)\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !driver-options-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !driver-options --\\x3e\\n          \\x3c!-- macvlan-management --\\x3e\\n          <network-macvlan-form ng-show=\"config.Driver === \\'macvlan\\'\" data=\"formValues.Macvlan\" application-state=\"applicationState\"></network-macvlan-form>\\n          \\x3c!-- !macvlan-management --\\x3e\\n          <div ng-hide=\"config.Driver === \\'macvlan\\' && formValues.Macvlan.Scope === \\'swarm\\'\">\\n            <div class=\"col-sm-12 form-section-title\"> IPV4 Network configuration </div>\\n            \\x3c!-- subnet-gateway-inputs --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"ipv4_network_subnet\" class=\"col-sm-2 col-lg-1 control-label text-left\">Subnet</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPV4.Subnet\" id=\"ipv4_network_subnet\" placeholder=\"e.g. 172.20.0.0/16\" />\\n              </div>\\n              <label for=\"ipv4_network_gateway\" class=\"col-sm-2 col-lg-1 control-label text-left\">Gateway</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPV4.Gateway\" id=\"ipv4_network_gateway\" placeholder=\"e.g. 172.20.10.11\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !subnet-gateway-inputs --\\x3e\\n            \\x3c!-- iprange-auxaddr-inputs --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"ipv4_network_iprange\" class=\"col-sm-2 col-lg-1 control-label text-left\">IP range</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPV4.IPRange\" id=\"ipv4_network_iprange\" placeholder=\"e.g. 172.20.10.128/25\" />\\n              </div>\\n            </div>\\n            <div ng-repeat=\"auxAddress in formValues.IPV4.AuxiliaryAddresses track by $index\" class=\"form-group\">\\n              <label for=\"ipv4_network_auxaddr_{{ $index }}\" class=\"col-sm-2 col-lg-1 control-label text-left\">Exclude IP</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"formValues.IPV4.AuxiliaryAddresses[$index]\"\\n                  ng-change=\"checkIPV4AuxiliaryAddress($index)\"\\n                  id=\"ipv4_network_auxaddr_{{ $index }}\"\\n                  placeholder=\"e.g. my-router=172.20.10.129\"\\n                />\\n              </div>\\n              <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeIPV4AuxAddress($index)\">\\n                <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n              </button>\\n              <div class=\"col-sm-12 small text-warning\" ng-show=\"state.IPV4AuxiliaryAddressesError[$index]\">\\n                <p><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Exclude ip cannot be the same as gateway.</p>\\n              </div>\\n            </div>\\n            \\x3c!-- !iprange-auxaddr-inputs --\\x3e\\n            <div class=\"form-group\">\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addIPV4AuxAddress()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add excluded IP\\n              </span>\\n            </div>\\n          </div>\\n          <div ng-show=\"config.Driver === \\'bridge\\' || (config.Driver === \\'macvlan\\' && formValues.Macvlan.Scope !== \\'swarm\\')\">\\n            <div class=\"col-sm-12 form-section-title\"> IPV6 Network configuration </div>\\n            \\x3c!-- subnet-gateway-inputs --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"ipv6_network_subnet\" class=\"col-sm-2 col-lg-1 control-label text-left\">Subnet</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPV6.Subnet\" id=\"ipv6_network_subnet\" placeholder=\"e.g. 2001:db8::/48\" />\\n              </div>\\n              <label for=\"ipv6_network_gateway\" class=\"col-sm-2 col-lg-1 control-label text-left\">Gateway</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPV6.Gateway\" id=\"ipv6_network_gateway\" placeholder=\"e.g. 2001:db8::1\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !subnet-gateway-inputs --\\x3e\\n            \\x3c!-- iprange-auxaddr-inputs --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"ipv6_network_iprange\" class=\"col-sm-2 col-lg-1 control-label text-left\">IP range</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPV6.IPRange\" id=\"ipv6_network_iprange\" placeholder=\"e.g. 2001:db8::/64\" />\\n              </div>\\n            </div>\\n            <div ng-repeat=\"auxAddress in formValues.IPV6.AuxiliaryAddresses track by $index\" class=\"form-group\">\\n              <label for=\"ipv6_network_auxaddr_{{ $index }}\" class=\"col-sm-2 col-lg-1 control-label text-left\">Exclude IP</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"formValues.IPV6.AuxiliaryAddresses[$index]\"\\n                  ng-change=\"checkIPV6AuxiliaryAddress($index)\"\\n                  id=\"ipv6_network_auxaddr_{{ $index }}\"\\n                  placeholder=\"e.g. my-router=2001:db8::1\"\\n                />\\n              </div>\\n              <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeIPV6AuxAddress($index)\">\\n                <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n              </button>\\n              <div class=\"col-sm-12 small text-warning\" ng-show=\"state.IPV6AuxiliaryAddressesError[$index]\">\\n                <p><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Exclude ip cannot be the same as gateway.</p>\\n              </div>\\n            </div>\\n            \\x3c!-- !iprange-auxaddr-inputs --\\x3e\\n            <div class=\"form-group\">\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addIPV6AuxAddress()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add excluded IP\\n              </span>\\n            </div>\\n          </div>\\n          <div class=\"col-sm-12 form-section-title\"> Advanced configuration </div>\\n          \\x3c!-- labels --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n              <label class=\"control-label text-left\">Labels</label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addLabel()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label </span>\\n            </div>\\n            \\x3c!-- labels-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n              <div ng-repeat=\"label in formValues.Labels\" style=\"margin-top: 2px\">\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">name</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.key\" placeholder=\"e.g. com.example.foo\" />\\n                </div>\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">value</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                </div>\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel($index)\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !labels-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !labels--\\x3e\\n          \\x3c!-- internal --\\x3e\\n          <div class=\"form-group\" ng-hide=\"config.Driver === \\'macvlan\\' && formValues.Macvlan.Scope === \\'local\\'\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"ownership\" class=\"control-label text-left\">\\n                Isolated network\\n                <portainer-tooltip position=\"bottom\" message=\"An isolated network has no inbound or outbound communications.\"></portainer-tooltip>\\n              </label>\\n              <label name=\"ownership\" class=\"switch\" style=\"margin-left: 20px\">\\n                <input type=\"checkbox\" ng-model=\"config.Internal\" />\\n                <i></i>\\n              </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !internal --\\x3e\\n          \\x3c!-- attachable --\\x3e\\n          <div class=\"form-group\" ng-hide=\"config.Driver === \\'macvlan\\' && formValues.Macvlan.Scope === \\'local\\'\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"attachable\" class=\"control-label text-left\"> Enable manual container attachment </label>\\n              <label name=\"attachable\" class=\"switch\" style=\"margin-left: 20px\">\\n                <input type=\"checkbox\" ng-model=\"config.Attachable\" />\\n                <i></i>\\n              </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !attachable --\\x3e\\n          <div\\n            ng-if=\"\\n              applicationState.endpoint.mode.agentProxy &&\\n              applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\' &&\\n              config.Driver !== \\'overlay\\' &&\\n              config.Driver !== \\'macvlan\\'\\n            \"\\n          >\\n            <div class=\"col-sm-12 form-section-title\"> Deployment </div>\\n            \\x3c!-- node-selection --\\x3e\\n            <node-selector model=\"formValues.NodeName\"> </node-selector>\\n            \\x3c!-- !node-selection --\\x3e\\n          </div>\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !config.Name || (config.Driver === \\'macvlan\\' && networkCreationForm.$invalid) || !isValid()\"\\n                ng-click=\"create()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Create the network</span>\\n                <span ng-show=\"state.actionInProgress\">Creating network...</span>\\n              </button>\\n              <i id=\"createResourceSpinner\" class=\"fa fa-cog fa-spin\" style=\"margin-left: 5px; display: none\"></i>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},5147:function(e){var t=\"app/docker/views/networks/networks.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Network list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.networks\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Networks</rd-header-content>\\n</rd-header>\\n<information-panel-offline ng-if=\"offlineMode\"></information-panel-offline>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <networks-datatable\\n      title-text=\"Networks\"\\n      title-icon=\"fa-sitemap\"\\n      dataset=\"networks\"\\n      table-key=\"networks\"\\n      order-by=\"Name\"\\n      remove-action=\"removeAction\"\\n      show-host-column=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\"\\n      offline-mode=\"offlineMode\"\\n      refresh-callback=\"getNetworks\"\\n    ></networks-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},52707:function(e){var t=\"app/docker/views/nodes/node-browser/node-browser.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Node Browser\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.swarm\">Swarm</a> &gt; <a ui-sref=\"docker.nodes.node({ id: $ctrl.nodeId })\">{{ $ctrl.node.Hostname }}</a> &gt; browse\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <host-browser ng-if=\"$ctrl.node\" endpoint-id=\"$ctrl.endpoint.Id\"></host-browser>\\n  </div>\\n</div>\\n')}]),e.exports=t},89455:function(e){var t=\"app/docker/views/nodes/node-details/node-details-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<host-overview\\n  agent-api-version=\"$ctrl.state.agentApiVersion\"\\n  is-agent=\"$ctrl.state.isAgent\"\\n  host-details=\"$ctrl.hostDetails\"\\n  engine-details=\"$ctrl.engineDetails\"\\n  disks=\"$ctrl.disks\"\\n  devices=\"$ctrl.devices\"\\n  refresh-url=\"docker.nodes.node\"\\n  browse-url=\"docker.nodes.node.browse\"\\n  is-job-enabled=\"$ctrl.state.isAdmin && $ctrl.state.isAgent\"\\n  host-features-enabled=\"$ctrl.state.enableHostManagementFeatures\"\\n  job-url=\"docker.nodes.node.job\"\\n  jobs=\"$ctrl.jobs\"\\n>\\n  <swarm-node-details-panel details=\"$ctrl.nodeDetails\" original-node=\"$ctrl.originalNode\"></swarm-node-details-panel>\\n</host-overview>\\n')}]),e.exports=t},73675:function(e){var t=\"app/docker/views/registries/access/registryAccess.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Registry access\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.registries\">Registries</a> &gt; {{ $ctrl.registry.Name }} &gt; Access management </rd-header-content>\\n</rd-header>\\n\\n<registry-details registry=\"$ctrl.registry\" ng-if=\"$ctrl.registry\"></registry-details>\\n\\n<por-access-management\\n  ng-if=\"$ctrl.registry && $ctrl.endpointGroup\"\\n  access-controlled-entity=\"$ctrl.registryEndpointAccesses\"\\n  entity-type=\"registry\"\\n  action-in-progress=\"$ctrl.state.actionInProgress\"\\n  update-access=\"$ctrl.updateAccess\"\\n  filter-users=\"$ctrl.filterUsers\"\\n>\\n</por-access-management>\\n')}]),e.exports=t},13702:function(e){var t=\"app/docker/views/secrets/create/createsecret.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create secret\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.secrets\">Secrets</a> &gt; Add secret </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"secret_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Name\" id=\"secret_name\" placeholder=\"e.g. mySecret\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- secret-data --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"secret_data\" class=\"col-sm-1 control-label text-left\">Secret</label>\\n            <div class=\"col-sm-11\">\\n              <textarea class=\"form-control\" rows=\"5\" ng-model=\"formValues.Data\"></textarea>\\n            </div>\\n          </div>\\n          \\x3c!-- !secret-data --\\x3e\\n          \\x3c!-- encode-secret --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"encode_secret\" class=\"control-label text-left\">\\n                Encode secret\\n                <portainer-tooltip position=\"bottom\" message=\"Secrets need to be base64 encoded. Disable this if your secret is already base64 encoded.\"></portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" name=\"encode_secret\" ng-model=\"formValues.encodeSecret\" /><i></i> </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !encode-secret --\\x3e\\n          \\x3c!-- labels --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n              <label class=\"control-label text-left\">Labels</label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addLabel()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label </span>\\n            </div>\\n            \\x3c!-- labels-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n              <div ng-repeat=\"label in formValues.Labels\" style=\"margin-top: 2px\">\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">name</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.key\" placeholder=\"e.g. com.example.foo\" />\\n                </div>\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">value</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                </div>\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel($index)\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !labels-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !labels--\\x3e\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !formValues.Name || !formValues.Data\"\\n                ng-click=\"create()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Create the secret</span>\\n                <span ng-show=\"state.actionInProgress\">Creating secret...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},12685:function(e){var t=\"app/docker/views/secrets/edit/secret.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Secret details\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.secrets.secret({id: secret.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.secrets\">Secrets</a> &gt; <a ui-sref=\"docker.secrets.secret({id: secret.Id})\">{{ secret.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-user-secret\" title-text=\"Secret details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>{{ secret.Name }}</td>\\n            </tr>\\n            <tr>\\n              <td>ID</td>\\n              <td>\\n                {{ secret.Id }}\\n                <button authorization=\"DockerSecretDelete\" class=\"btn btn-xs btn-danger\" ng-click=\"removeSecret(secret.Id)\"\\n                  ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Delete this secret</button\\n                >\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Created</td>\\n              <td>{{ secret.CreatedAt | getisodate }}</td>\\n            </tr>\\n            <tr>\\n              <td>Last updated</td>\\n              <td>{{ secret.UpdatedAt | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"!(secret.Labels | emptyobject)\">\\n              <td>Labels</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"(k, v) in secret.Labels\">\\n                    <td>{{ k }}</td>\\n                    <td>{{ v }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n\\x3c!-- access-control-panel --\\x3e\\n<access-control-panel\\n  ng-if=\"secret\"\\n  resource-id=\"secret.Id\"\\n  resource-control=\"secret.ResourceControl\"\\n  resource-type=\"resourceType\"\\n  on-update-success=\"(onUpdateResourceControlSuccess)\"\\n>\\n</access-control-panel>\\n\\x3c!-- !access-control-panel --\\x3e\\n')}]),e.exports=t},8809:function(e){var t=\"app/docker/views/secrets/secrets.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Secrets list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.secrets\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Secrets</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <secrets-datatable\\n      title-text=\"Secrets\"\\n      title-icon=\"fa-user-secret\"\\n      dataset=\"secrets\"\\n      table-key=\"secrets\"\\n      order-by=\"Name\"\\n      remove-action=\"removeAction\"\\n      refresh-callback=\"getSecrets\"\\n    ></secrets-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},53566:function(e){var t=\"app/docker/views/services/create/createservice.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create service\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.services\">Services</a> &gt; Add service </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" autocomplete=\"off\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"service_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Name\" id=\"service_name\" placeholder=\"e.g. myService\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Image configuration </div>\\n          \\x3c!-- image-and-registry --\\x3e\\n          <por-image-registry\\n            model=\"formValues.RegistryModel\"\\n            auto-complete=\"true\"\\n            label-class=\"col-sm-1\"\\n            input-class=\"col-sm-11\"\\n            endpoint=\"endpoint\"\\n            is-admin=\"isAdmin\"\\n            check-rate-limits=\"true\"\\n            set-validity=\"setPullImageValidity\"\\n          >\\n          </por-image-registry>\\n          \\x3c!-- !image-and-registry --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Scheduling </div>\\n          \\x3c!-- scheduling-mode --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\"> Scheduling mode </label>\\n              <div class=\"btn-group btn-group-sm\" style=\"margin-left: 20px\">\\n                <label class=\"btn btn-primary\" ng-model=\"formValues.Mode\" uib-btn-radio=\"\\'global\\'\">Global</label>\\n                <label class=\"btn btn-primary\" ng-model=\"formValues.Mode\" uib-btn-radio=\"\\'replicated\\'\">Replicated</label>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\"form-group form-inline\" ng-if=\"formValues.Mode === \\'replicated\\'\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\"> Replicas </label>\\n              <input type=\"number\" class=\"form-control\" ng-model=\"formValues.Replicas\" id=\"replicas\" placeholder=\"e.g. 3\" style=\"margin-left: 20px\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !scheduling-mode --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Ports configuration </div>\\n          \\x3c!-- port-mapping --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n              <label class=\"control-label text-left\">Port mapping</label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addPortBinding()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> map additional port\\n              </span>\\n            </div>\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n              <div ng-repeat=\"portBinding in formValues.Ports\" style=\"margin-top: 2px\">\\n                \\x3c!-- host-port --\\x3e\\n                <div class=\"input-group col-sm-3 input-group-sm\">\\n                  <span class=\"input-group-addon\">host</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"portBinding.PublishedPort\" placeholder=\"e.g. 80 or 1.2.3.4:80 (optional)\" />\\n                </div>\\n                \\x3c!-- !host-port --\\x3e\\n                <span style=\"margin: 0 10px 0 10px\">\\n                  <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                </span>\\n                \\x3c!-- container-port --\\x3e\\n                <div class=\"input-group col-sm-3 input-group-sm\">\\n                  <span class=\"input-group-addon\">container</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"portBinding.TargetPort\" placeholder=\"e.g. 80\" />\\n                </div>\\n                \\x3c!-- !container-port --\\x3e\\n                \\x3c!-- protocol-actions --\\x3e\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <div class=\"btn-group btn-group-sm\">\\n                    <label class=\"btn btn-primary\" ng-model=\"portBinding.Protocol\" uib-btn-radio=\"\\'tcp\\'\">TCP</label>\\n                    <label class=\"btn btn-primary\" ng-model=\"portBinding.Protocol\" uib-btn-radio=\"\\'udp\\'\">UDP</label>\\n                  </div>\\n                  <div class=\"btn-group btn-group-sm\">\\n                    <label class=\"btn btn-primary\" ng-model=\"portBinding.PublishMode\" uib-btn-radio=\"\\'ingress\\'\">Ingress</label>\\n                    <label class=\"btn btn-primary\" ng-model=\"portBinding.PublishMode\" uib-btn-radio=\"\\'host\\'\">Host</label>\\n                  </div>\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePortBinding($index)\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </div>\\n                \\x3c!-- !protocol-actions --\\x3e\\n              </div>\\n            </div>\\n            \\x3c!-- !port-mapping-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !port-mapping --\\x3e\\n          \\x3c!-- create-webhook --\\x3e\\n          <div ng-if=\"endpoint.Type !== 4 && isAdmin\">\\n            <div class=\"col-sm-12 form-section-title\"> Webhooks </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">\\n                  Create a service webhook\\n                  <portainer-tooltip\\n                    position=\"top\"\\n                    message=\"Create a webhook (or callback URI) to automate the update of this service. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this service.\"\\n                  ></portainer-tooltip>\\n                </label>\\n                <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"formValues.Webhook\" /><i></i> </label>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !create-webhook  --\\x3e\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !formValues.RegistryModel.Image || !volumesAreValid()\"\\n                ng-click=\"create()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Create the service</span>\\n                <span ng-show=\"state.actionInProgress\">Creating service...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <ul class=\"nav nav-pills nav-justified\">\\n          <li class=\"active interactive\"><a data-target=\"#command\" data-toggle=\"tab\">Command & Logging</a></li>\\n          <li class=\"interactive\"><a data-target=\"#volumes\" data-toggle=\"tab\">Volumes</a></li>\\n          <li class=\"interactive\"><a data-target=\"#network\" data-toggle=\"tab\">Network</a></li>\\n          <li class=\"interactive\"><a data-target=\"#env\" data-toggle=\"tab\">Env</a></li>\\n          <li class=\"interactive\"><a data-target=\"#labels\" data-toggle=\"tab\">Labels</a></li>\\n          <li class=\"interactive\"><a data-target=\"#update-config\" data-toggle=\"tab\">Update config & Restart</a></li>\\n          <li class=\"interactive\" ng-if=\"applicationState.endpoint.apiVersion >= 1.25\"><a data-target=\"#secrets\" data-toggle=\"tab\">Secrets</a></li>\\n          <li class=\"interactive\"><a data-target=\"#configs\" data-toggle=\"tab\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3\">Configs</a></li>\\n          <li class=\"interactive\"><a data-target=\"#resources-placement\" data-toggle=\"tab\" ng-click=\"refreshSlider()\">Resources & Placement</a></li>\\n        </ul>\\n        \\x3c!-- tab-content --\\x3e\\n        <div class=\"tab-content\">\\n          \\x3c!-- tab-command --\\x3e\\n          <div class=\"tab-pane active\" id=\"command\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n              <div class=\"col-sm-12 form-section-title\"> Command </div>\\n              \\x3c!-- command-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"service_command\" class=\"col-sm-2 col-lg-1 control-label text-left\">Command</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Command\" id=\"service_command\" placeholder=\"e.g. /usr/bin/nginx -t -c /mynginx.conf\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !command-input --\\x3e\\n              \\x3c!-- entrypoint-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"service_entrypoint\" class=\"col-sm-2 col-lg-1 control-label text-left\">Entrypoint</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.EntryPoint\" id=\"service_entrypoint\" placeholder=\"e.g. /bin/sh -c\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !entrypoint-input --\\x3e\\n              \\x3c!-- workdir-user-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"service_workingdir\" class=\"col-sm-2 col-lg-1 control-label text-left\">Working Dir</label>\\n                <div class=\"col-sm-4\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.WorkingDir\" id=\"service_workingdir\" placeholder=\"e.g. /myapp\" />\\n                </div>\\n                <label for=\"service_user\" class=\"col-sm-1 control-label text-left\">User</label>\\n                <div class=\"col-sm-4\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.User\" id=\"service_user\" placeholder=\"e.g. nginx\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !workdir-user-input --\\x3e\\n              <div class=\"col-sm-12 form-section-title\"> Logging </div>\\n              \\x3c!-- logging-driver --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"log-driver\" class=\"col-sm-2 col-lg-1 control-label text-left\">Driver</label>\\n                <div class=\"col-sm-4\">\\n                  <select class=\"form-control\" ng-model=\"formValues.LogDriverName\" id=\"log-driver\">\\n                    <option selected value=\"\">Default logging driver</option>\\n                    <option ng-repeat=\"driver in availableLoggingDrivers\" ng-value=\"driver\">{{ driver }}</option>\\n                    <option value=\"none\">none</option>\\n                  </select>\\n                </div>\\n                <div class=\"col-sm-5\">\\n                  <p class=\"small text-muted\">\\n                    Logging driver for service that will override the default docker daemon driver. Select Default logging driver if you don\\'t want to override it. Supported\\n                    logging drivers can be found\\n                    <a href=\"https://docs.docker.com/engine/admin/logging/overview/#supported-logging-drivers\" target=\"_blank\">in the Docker documentation</a>.\\n                  </p>\\n                </div>\\n              </div>\\n              \\x3c!-- !logging-driver --\\x3e\\n              \\x3c!-- logging-opts --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                  <label class=\"control-label text-left\">\\n                    Options\\n                    <portainer-tooltip\\n                      position=\"top\"\\n                      message=\"Add button is disabled unless a driver other than none or default is selected. Options are specific to the selected driver, refer to the driver documentation.\"\\n                    ></portainer-tooltip>\\n                  </label>\\n                  <span\\n                    class=\"label label-default interactive\"\\n                    style=\"margin-left: 10px\"\\n                    ng-click=\"!formValues.LogDriverName || formValues.LogDriverName === \\'none\\' || addLogDriverOpt(formValues.LogDriverName)\"\\n                  >\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add logging driver option\\n                  </span>\\n                </div>\\n                \\x3c!-- logging-opts-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"opt in formValues.LogDriverOpts\" style=\"margin-top: 2px\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">option</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"opt.name\" placeholder=\"e.g. FOO\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"opt.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLogDriverOpt($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- logging-opts-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !logging-opts --\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-command --\\x3e\\n          \\x3c!-- tab-volume --\\x3e\\n          <div class=\"tab-pane\" id=\"volumes\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n              \\x3c!-- volumes --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                  <label class=\"control-label text-left\">Volume mapping</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addVolume()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> map additional volume\\n                  </span>\\n                </div>\\n                \\x3c!-- volumes-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"volume in formValues.Volumes\">\\n                    <div class=\"col-sm-12\" style=\"margin-top: 10px\">\\n                      \\x3c!-- volume-line1 --\\x3e\\n                      <div class=\"col-sm-12 form-inline\">\\n                        \\x3c!-- container-path --\\x3e\\n                        <div class=\"input-group col-sm-6\">\\n                          <div class=\"input-group input-group-sm w-full\">\\n                            <span class=\"input-group-addon\">container</span>\\n                            <input type=\"text\" class=\"form-control\" ng-model=\"volume.Target\" placeholder=\"e.g. /path/in/container\" />\\n                          </div>\\n                          <div class=\"small text-warning\" ng-show=\"!volume.Target\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Target is required. </div>\\n                        </div>\\n                        \\x3c!-- !container-path --\\x3e\\n                        \\x3c!-- volume-type --\\x3e\\n                        <div class=\"input-group col-sm-5\" style=\"margin-left: 5px; vertical-align: top\">\\n                          <div class=\"btn-group btn-group-sm\" ng-if=\"allowBindMounts\">\\n                            <label class=\"btn btn-primary\" ng-model=\"volume.Type\" uib-btn-radio=\"\\'volume\\'\" ng-click=\"volume.Source = null\">Volume</label>\\n                            <label class=\"btn btn-primary\" ng-model=\"volume.Type\" uib-btn-radio=\"\\'bind\\'\" ng-click=\"volume.Source = null\">Bind</label>\\n                          </div>\\n                          <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeVolume($index)\">\\n                            <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                          </button>\\n                        </div>\\n                        \\x3c!-- !volume-type --\\x3e\\n                      </div>\\n                      \\x3c!-- !volume-line1 --\\x3e\\n                      \\x3c!-- volume-line2 --\\x3e\\n                      <div class=\"col-sm-12 form-inline\" style=\"margin-top: 5px\">\\n                        <div style=\"height: 30px; display: inline-block; vertical-align: top; display: inline-flex; align-items: center\">\\n                          <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                        </div>\\n                        \\x3c!-- volume --\\x3e\\n                        <div class=\"col-sm-6 input-group\" ng-if=\"volume.Type === \\'volume\\'\" style=\"float: none; padding: 0\">\\n                          <div class=\"input-group input-group-sm w-full\">\\n                            <span class=\"input-group-addon\">volume</span>\\n                            <select\\n                              class=\"form-control\"\\n                              ng-model=\"volume.Source\"\\n                              ng-options=\"vol as ((vol.Id|truncate:30) + \\' - \\' + (vol.Driver|truncate:30)) for vol in availableVolumes\"\\n                            >\\n                              <option selected disabled value=\"\">Select a volume</option>\\n                            </select>\\n                          </div>\\n                          <div class=\"small text-warning\" ng-show=\"!volume.Source\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Source is required. </div>\\n                        </div>\\n                        \\x3c!-- !volume --\\x3e\\n                        \\x3c!-- bind --\\x3e\\n                        <div class=\"input-group input-group-sm col-sm-6\" ng-if=\"volume.Type === \\'bind\\'\">\\n                          <div class=\"input-group input-group-sm w-full\">\\n                            <span class=\"input-group-addon\">host</span>\\n                            <input type=\"text\" class=\"form-control\" ng-model=\"volume.Source\" placeholder=\"e.g. /path/on/host\" />\\n                          </div>\\n                          <div class=\"small text-warning\" ng-show=\"!volume.Source\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Source is required. </div>\\n                        </div>\\n                        \\x3c!-- !bind --\\x3e\\n                        \\x3c!-- read-only --\\x3e\\n                        <div class=\"input-group input-group-sm col-sm-5\" style=\"margin-left: 5px; vertical-align: top\">\\n                          <div class=\"btn-group btn-group-sm\">\\n                            <label class=\"btn btn-primary\" ng-model=\"volume.ReadOnly\" uib-btn-radio=\"false\">Writable</label>\\n                            <label class=\"btn btn-primary\" ng-model=\"volume.ReadOnly\" uib-btn-radio=\"true\">Read-only</label>\\n                          </div>\\n                        </div>\\n                        \\x3c!-- !read-only --\\x3e\\n                      </div>\\n                      \\x3c!-- !volume-line2 --\\x3e\\n                    </div>\\n                  </div>\\n                </div>\\n                \\x3c!-- !volumes-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !volumes --\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-volume --\\x3e\\n          \\x3c!-- tab-network --\\x3e\\n          <div class=\"tab-pane\" id=\"network\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n              \\x3c!-- network-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_network\" class=\"col-sm-2 col-lg-1 control-label text-left\">Network</label>\\n                <div class=\"col-sm-9\">\\n                  <select class=\"form-control\" ng-model=\"formValues.Network\">\\n                    <option selected disabled hidden value=\"\">Select a network</option>\\n                    <option ng-repeat=\"net in availableNetworks | orderBy: \\'Name\\'\" ng-value=\"net.Name\">{{ net.Name }}</option>\\n                  </select>\\n                </div>\\n                <div class=\"col-sm-2\"></div>\\n              </div>\\n              \\x3c!-- !network-input --\\x3e\\n              \\x3c!-- extra-networks --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                  <label class=\"control-label text-left\">Extra networks</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addExtraNetwork()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add extra network\\n                  </span>\\n                </div>\\n                \\x3c!-- network-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"network in formValues.ExtraNetworks\" style=\"margin-top: 2px\">\\n                    <select class=\"form-control\" ng-model=\"network.Name\">\\n                      <option selected disabled hidden value=\"\">Select a network</option>\\n                      <option ng-repeat=\"net in availableNetworks\" ng-value=\"net.Name\">{{ net.Name }}</option>\\n                    </select>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeExtraNetwork($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !network-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !extra-networks --\\x3e\\n              \\x3c!-- extra-hosts-variables --\\x3e\\n              <div class=\"form-group\" ng-if=\"applicationState.endpoint.apiVersion >= 1.25\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                  <label class=\"control-label text-left\">Hosts file entries</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addHostsEntry()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add additional entry\\n                  </span>\\n                </div>\\n                \\x3c!-- hosts-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"variable in formValues.HostsEntries\" style=\"margin-top: 2px\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"variable.value\" placeholder=\"e.g. host:IP\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeHostsEntry($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !hosts-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !extra-hosts-variables --\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-network --\\x3e\\n          \\x3c!-- tab-env --\\x3e\\n          <div class=\"tab-pane\" id=\"env\">\\n            <environment-variables-panel\\n              ng-model=\"formValues.Env\"\\n              explanation=\"These values will be applied to the service when created\"\\n              on-change=\"(handleEnvVarChange)\"\\n            ></environment-variables-panel>\\n          </div>\\n          \\x3c!-- !tab-env --\\x3e\\n          \\x3c!-- tab-labels --\\x3e\\n          <div class=\"tab-pane\" id=\"labels\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n              \\x3c!-- labels --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                  <label class=\"control-label text-left\">Service labels</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addLabel()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add service label\\n                  </span>\\n                </div>\\n                \\x3c!-- labels-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"label in formValues.Labels\" style=\"margin-top: 2px\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">name</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.key\" placeholder=\"e.g. com.example.foo\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !labels-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !labels--\\x3e\\n              \\x3c!-- container-labels --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                  <label class=\"control-label text-left\">Container labels</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addContainerLabel()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add container label\\n                  </span>\\n                </div>\\n                \\x3c!-- container-labels-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"label in formValues.ContainerLabels\" style=\"margin-top: 2px\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">name</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.key\" placeholder=\"e.g. com.example.foo\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeContainerLabel($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !container-labels-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !container-labels--\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-labels --\\x3e\\n          \\x3c!-- tab-update-config --\\x3e\\n          <div class=\"tab-pane\" id=\"update-config\" ng-include=\"\\'app/docker/views/services/create/includes/update-restart.html\\'\"></div>\\n          \\x3c!-- !tab-update-config --\\x3e\\n          \\x3c!-- tab-secrets --\\x3e\\n          <div class=\"tab-pane\" id=\"secrets\" ng-if=\"applicationState.endpoint.apiVersion >= 1.25\" ng-include=\"\\'app/docker/views/services/create/includes/secret.html\\'\"></div>\\n          \\x3c!-- !tab-secrets --\\x3e\\n          \\x3c!-- tab-configs --\\x3e\\n          <div class=\"tab-pane\" id=\"configs\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3\" ng-include=\"\\'app/docker/views/services/create/includes/config.html\\'\"></div>\\n          \\x3c!-- !tab-configs --\\x3e\\n          \\x3c!-- tab-resources-placement --\\x3e\\n          <div class=\"tab-pane\" id=\"resources-placement\" ng-include=\"\\'app/docker/views/services/create/includes/resources-placement.html\\'\"></div>\\n          \\x3c!-- !tab-resources-placement --\\x3e\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},98876:function(e){var t=\"app/docker/views/services/create/includes/config.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n      <label class=\"control-label text-left\">Configs</label>\\n      <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addConfig()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add a config </span>\\n    </div>\\n    \\x3c!-- info message --\\x3e\\n    <div class=\"form-group\" ng-show=\"formValues.Configs.$invalid\" style=\"margin-bottom: 0px\">\\n      <div class=\"col-sm-12 small text-warning\" style=\"padding-left: 35px; padding-top: 20px\">\\n        <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> {{ formValues.Configs.$error }}\\n      </div>\\n    </div>\\n    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n      <div ng-repeat=\"config in formValues.Configs\" style=\"margin-top: 2px\">\\n        <div class=\"input-group col-sm-4 input-group-sm\">\\n          <span class=\"input-group-addon\">config</span>\\n          <select class=\"form-control\" ng-model=\"config.model\" ng-change=\"checkIfConfigDuplicated()\" ng-options=\"config.Name for config in availableConfigs | orderBy: \\'Name\\'\">\\n            <option value=\"\" selected=\"selected\">Select a config</option>\\n          </select>\\n        </div>\\n        <div class=\"input-group col-sm-4 input-group-sm\">\\n          <span class=\"input-group-addon\">Path in container</span>\\n          <input class=\"form-control\" ng-model=\"config.FileName\" placeholder=\"e.g. /path/in/container\" />\\n        </div>\\n        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeConfig($index)\">\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n</form>\\n')}]),e.exports=t},14714:function(e){var t=\"app/docker/views/services/create/includes/resources-placement.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n  <div class=\"col-sm-12 form-section-title\"> Resources </div>\\n  \\x3c!-- memory-reservation-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"memory-reservation\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px\"> Memory reservation </label>\\n    <div class=\"col-sm-3\">\\n      <slider model=\"formValues.MemoryReservation\" floor=\"0\" ceil=\"state.sliderMaxMemory\" step=\"256\" ng-if=\"state.sliderMaxMemory\"></slider>\\n    </div>\\n    <div class=\"col-sm-2\">\\n      <input type=\"number\" min=\"0\" class=\"form-control\" ng-model=\"formValues.MemoryReservation\" />\\n    </div>\\n    <div class=\"col-sm-4\">\\n      <p class=\"small text-muted\" style=\"margin-top: 7px\"> Minimum memory available on a node to run a task (<b>MB</b>) </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !memory-reservation-input --\\x3e\\n  \\x3c!-- memory-limit-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"memory-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px\"> Memory limit </label>\\n    <div class=\"col-sm-3\">\\n      <slider model=\"formValues.MemoryLimit\" floor=\"0\" ceil=\"state.sliderMaxMemory\" step=\"256\" ng-if=\"state.sliderMaxMemory\"></slider>\\n    </div>\\n    <div class=\"col-sm-2\">\\n      <input type=\"number\" min=\"0\" class=\"form-control\" ng-model=\"formValues.MemoryLimit\" />\\n    </div>\\n    <div class=\"col-sm-4\" style=\"margin-top: 7px\">\\n      <p class=\"small text-muted\"> Maximum memory usage per task (<b>MB</b>) </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !memory-limit-input --\\x3e\\n  \\x3c!-- cpu-reservation-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"cpu-reservation\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px\"> CPU reservation </label>\\n    <div class=\"col-sm-5\">\\n      <slider model=\"formValues.CpuReservation\" floor=\"0\" ceil=\"state.sliderMaxCpu\" step=\"0.25\" precision=\"2\" ng-if=\"state.sliderMaxCpu\"></slider>\\n    </div>\\n    <div class=\"col-sm-4\" style=\"margin-top: 20px\">\\n      <p class=\"small text-muted\"> Minimum CPU available on a node to run a task </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !cpu-reservation-input --\\x3e\\n  \\x3c!-- cpu-limit-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"cpu-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px\"> CPU limit </label>\\n    <div class=\"col-sm-5\">\\n      <slider model=\"formValues.CpuLimit\" floor=\"0\" ceil=\"state.sliderMaxCpu\" step=\"0.25\" precision=\"2\" ng-if=\"state.sliderMaxCpu\"></slider>\\n    </div>\\n    <div class=\"col-sm-4\" style=\"margin-top: 20px\">\\n      <p class=\"small text-muted\"> Maximum CPU usage per task </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !cpu-limit-input --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Placement </div>\\n  \\x3c!-- placement-constraints --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n      <label class=\"control-label text-left\">Placement constraints</label>\\n      <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addPlacementConstraint()\">\\n        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> placement constraint\\n      </span>\\n    </div>\\n    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n      <div ng-repeat=\"constraint in formValues.PlacementConstraints\" style=\"margin-top: 2px\">\\n        <div class=\"input-group col-sm-4 input-group-sm\">\\n          <span class=\"input-group-addon\">name</span>\\n          <input type=\"text\" class=\"form-control\" ng-model=\"constraint.key\" placeholder=\"e.g. node.role\" />\\n        </div>\\n        <div class=\"input-group col-sm-1 input-group-sm\">\\n          <select name=\"constraintOperator\" class=\"form-control\" ng-model=\"constraint.operator\">\\n            <option value=\"==\">==</option>\\n            <option value=\"!=\">!=</option>\\n          </select>\\n        </div>\\n        <div class=\"input-group col-sm-5 input-group-sm\">\\n          <span class=\"input-group-addon\">value</span>\\n          <input type=\"text\" class=\"form-control\" ng-model=\"constraint.value\" placeholder=\"e.g. manager\" />\\n        </div>\\n        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePlacementConstraint($index)\">\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !placement-constraints --\\x3e\\n  \\x3c!-- placement-preferences --\\x3e\\n  <div class=\"form-group\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3\">\\n    <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n      <label class=\"control-label text-left\">Placement preferences</label>\\n      <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addPlacementPreference()\">\\n        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> placement preference\\n      </span>\\n    </div>\\n    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n      <div ng-repeat=\"preference in formValues.PlacementPreferences\" style=\"margin-top: 2px\">\\n        <div class=\"input-group col-sm-4 input-group-sm\">\\n          <span class=\"input-group-addon\">strategy</span>\\n          <input type=\"text\" class=\"form-control\" ng-model=\"preference.strategy\" placeholder=\"e.g. spread\" />\\n        </div>\\n        <div class=\"input-group col-sm-5 input-group-sm\">\\n          <span class=\"input-group-addon\">value</span>\\n          <input type=\"text\" class=\"form-control\" ng-model=\"preference.value\" placeholder=\"e.g. node.labels.datacenter\" />\\n        </div>\\n        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePlacementPreference($index)\">\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !placement-preferences --\\x3e\\n</form>\\n')}]),e.exports=t},61573:function(e){var t=\"app/docker/views/services/create/includes/secret.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12 small text-muted\">\\n      By default, secrets will be available under <code>/run/secrets/$SECRET_NAME</code> in containers (Linux) or\\n      <code>C:\\\\ProgramData\\\\Docker\\\\secrets\\\\$SECRET_NAME</code> (Windows).</div\\n    >\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n      <label class=\"control-label text-left\">Secrets</label>\\n      <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addSecret()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add a secret </span>\\n    </div>\\n    \\x3c!-- info message --\\x3e\\n    <div class=\"form-group\" ng-show=\"formValues.Secrets.$invalid\" style=\"margin-bottom: 0px\">\\n      <div class=\"col-sm-12 small text-warning\" style=\"padding-left: 35px; padding-top: 20px\">\\n        <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> {{ formValues.Secrets.$error }}\\n      </div>\\n    </div>\\n    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n      <div ng-repeat=\"secret in formValues.Secrets track by $index\" style=\"margin-top: 4px\">\\n        <div class=\"input-group col-sm-4 input-group-sm\">\\n          <span class=\"input-group-addon\">secret</span>\\n          <select class=\"form-control\" ng-model=\"secret.model\" ng-change=\"checkIfSecretDuplicated()\" ng-options=\"secret.Name for secret in availableSecrets | orderBy: \\'Name\\'\">\\n            <option value=\"\" selected=\"selected\">Select a secret</option>\\n          </select>\\n        </div>\\n        <div class=\"input-group col-sm-4 input-group-sm\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3 && secret.overrideTarget\">\\n          <span class=\"input-group-addon\">target</span>\\n          <input class=\"form-control\" ng-model=\"secret.target\" placeholder=\"/path/in/container\" />\\n        </div>\\n        <div class=\"input-group col-sm-3 input-group-sm\">\\n          <div class=\"btn-group btn-group-sm\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3\">\\n            <label class=\"btn btn-primary\" ng-model=\"secret.overrideTarget\" uib-btn-radio=\"false\">Default location</label>\\n            <label class=\"btn btn-primary\" ng-model=\"secret.overrideTarget\" uib-btn-radio=\"true\">Override</label>\\n          </div>\\n          <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeSecret($index)\">\\n            <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</form>\\n')}]),e.exports=t},74827:function(e){var t=\"app/docker/views/services/create/includes/update-restart.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n  <div class=\"col-sm-12 form-section-title\"> Update config </div>\\n  \\x3c!-- parallelism-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"parallelism\" class=\"col-sm-3 col-lg-2 control-label text-left\">Update parallelism</label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <input type=\"number\" class=\"form-control\" ng-model=\"formValues.Parallelism\" id=\"parallelism\" placeholder=\"e.g. 1\" />\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\"> Maximum number of tasks to be updated simultaneously (0 to update all at once). </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !parallelism-input --\\x3e\\n  \\x3c!-- delay-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"update-delay\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Update delay\\n      <portainer-tooltip position=\"bottom\" message=\"Supported format examples: 1h, 5m, 10s, 1000ms, 15us, 60ns.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <input type=\"text\" class=\"form-control\" ng-model=\"formValues.UpdateDelay\" id=\"update-delay\" placeholder=\"e.g. 1m\" ng-pattern=\"/^([0-9]+)(h|m|s|ms|us|ns)$/i\" />\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\"> Amount of time between updates expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 0s, 0 seconds. </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !delay-input --\\x3e\\n  \\x3c!-- failureAction-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"failure-action\" class=\"col-sm-3 col-lg-2 control-label text-left\">Update failure action</label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <div class=\"btn-group btn-group-sm\">\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.FailureAction\" uib-btn-radio=\"\\'continue\\'\">Continue</label>\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.FailureAction\" uib-btn-radio=\"\\'pause\\'\">Pause</label>\\n      </div>\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\"> Action taken on failure to start after update. </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !failureAction-input --\\x3e\\n  \\x3c!-- order-input --\\x3e\\n  <div class=\"form-group\" ng-if=\"applicationState.endpoint.apiVersion >= 1.29\">\\n    <label for=\"update-order\" class=\"col-sm-3 col-lg-2 control-label text-left\">Update order</label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <div class=\"btn-group btn-group-sm\">\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.UpdateOrder\" uib-btn-radio=\"\\'start-first\\'\">start-first</label>\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.UpdateOrder\" uib-btn-radio=\"\\'stop-first\\'\">stop-first</label>\\n      </div>\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\"> Operation order on failure. </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !order-input --\\x3e\\n\\n  <div class=\"col-sm-12 form-section-title\"> Restart policy </div>\\n  \\x3c!-- restartCondition-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"restart-condition\" class=\"col-sm-3 col-lg-2 control-label text-left\">Restart condition</label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <div class=\"btn-group btn-group-sm\">\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.RestartCondition\" uib-btn-radio=\"\\'none\\'\">None</label>\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.RestartCondition\" uib-btn-radio=\"\\'on-failure\\'\">On-failure</label>\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.RestartCondition\" uib-btn-radio=\"\\'any\\'\">Any</label>\\n      </div>\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\"> Restart when condition is met (default condition \"any\"). </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !restartCondition-input --\\x3e\\n  \\x3c!-- restartDelay-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"restart-delay\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Restart delay\\n      <portainer-tooltip position=\"bottom\" message=\"Supported format examples: 1h, 5m, 10s, 1000ms, 15us, 60ns.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <input type=\"text\" class=\"form-control\" ng-model=\"formValues.RestartDelay\" id=\"restart-delay\" placeholder=\"e.g. 1m\" ng-pattern=\"/^([0-9]+)(h|m|s|ms|us|ns)$/i\" />\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\"> Delay between restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 5s, 5 seconds. </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !restartDelay-input --\\x3e\\n  \\x3c!-- restartMaxAttempts-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"restart-max-attempts\" class=\"col-sm-3 col-lg-2 control-label text-left\">Restart max attempts</label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <input type=\"number\" class=\"form-control\" ng-model=\"formValues.RestartMaxAttempts\" id=\"restart-max-attempts\" placeholder=\"e.g. 0\" />\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\"> Maximum attempts to restart a given task before giving up (default value is 0, which means unlimited). </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !restartMaxAttempts-input --\\x3e\\n  \\x3c!-- restartWindow-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"restart-window\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Restart window\\n      <portainer-tooltip position=\"bottom\" message=\"Supported format examples: 1h, 5m, 10s, 1000ms, 15us, 60ns.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <input type=\"text\" class=\"form-control\" ng-model=\"formValues.RestartWindow\" id=\"restart-window\" placeholder=\"e.g. 1m\" ng-pattern=\"/^([0-9]+)(h|m|s|ms|us|ns)$/i\" />\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\">\\n        Time window to evaluate restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 0 seconds, which is unbounded.\\n      </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !restartWindow-input --\\x3e\\n</form>\\n')}]),e.exports=t},74612:function(e){var t=\"app/docker/views/services/edit/includes/configs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form ng-if=\"applicationState.endpoint.apiVersion >= 1.3\" id=\"service-configs\" ng-submit=\"updateService(service)\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Configs\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"form-inline\" style=\"padding: 10px\" authorization=\"DockerServiceUpdate\">\\n        Add a config:\\n        <select class=\"form-control\" ng-options=\"config.Name for config in configs | orderBy: \\'Name\\'\" ng-model=\"newConfig\">\\n          <option selected disabled hidden value=\"\">Select a config</option>\\n        </select>\\n        <a class=\"btn btn-default btn-sm\" ng-click=\"addConfig(service, newConfig)\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add config </a>\\n      </div>\\n      <table class=\"table\" style=\"margin-top: 5px\">\\n        <thead>\\n          <tr>\\n            <th>Name</th>\\n            <th>Path in container</th>\\n            <th>UID</th>\\n            <th>GID</th>\\n            <th>Mode</th>\\n            <th></th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"config in service.ServiceConfigs\">\\n            <td\\n              ><a ui-sref=\"docker.configs.config({id: config.Id})\">{{ config.Name }}</a></td\\n            >\\n            <td>\\n              <input\\n                class=\"form-control\"\\n                ng-model=\"config.FileName\"\\n                ng-change=\"updateConfig(service)\"\\n                placeholder=\"e.g. /path/in/container\"\\n                required\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td>{{ config.Uid }}</td>\\n            <td>{{ config.Gid }}</td>\\n            <td>{{ config.Mode }}</td>\\n            <td authorization=\"DockerServiceUpdate\">\\n              <button class=\"btn btn-xs btn-danger pull-right\" type=\"button\" ng-click=\"removeConfig(service, $index)\" ng-disabled=\"isUpdating\">\\n                <i class=\"fa fa-trash\" aria-hidden=\"true\"></i> Remove config\\n              </button>\\n            </td>\\n          </tr>\\n          <tr ng-if=\"service.ServiceConfigs.length === 0\">\\n            <td colspan=\"6\" class=\"text-center text-muted\">No configs associated to this service.</td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"submit\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'ServiceConfigs\\'])\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServiceConfigs\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</form>\\n')}]),e.exports=t},17590:function(e){var t=\"app/docker/views/services/edit/includes/constraints.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div ng-if=\"service.ServiceConstraints\" id=\"service-placement-constraints\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Placement constraints\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating || addPlacementConstraint(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> placement constraint\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"service.ServiceConstraints.length === 0\">\\n      <p>There are no placement constraints for this service.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.ServiceConstraints.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Name</th>\\n            <th>Operator</th>\\n            <th>Value</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"constraint in service.ServiceConstraints\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"constraint.key\"\\n                  placeholder=\"e.g. node.role\"\\n                  ng-change=\"updatePlacementConstraint(service, constraint)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <select\\n                  name=\"constraintOperator\"\\n                  class=\"form-control\"\\n                  ng-model=\"constraint.operator\"\\n                  ng-change=\"updatePlacementConstraint(service, constraint)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                >\\n                  <option value=\"==\">==</option>\\n                  <option value=\"!=\">!=</option>\\n                </select>\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"constraint.value\"\\n                  placeholder=\"e.g. manager\"\\n                  ng-change=\"updatePlacementConstraint(service, constraint)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n                <span class=\"input-group-btn\" authorization=\"DockerServiceUpdate\">\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePlacementConstraint(service, $index)\" ng-disabled=\"isUpdating\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </span>\\n              </div>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'ServiceConstraints\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServiceConstraints\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},83431:function(e){var t=\"app/docker/views/services/edit/includes/container-specs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div>\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-list-alt\" title-text=\"Container spec\"></rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <table class=\"table\">\\n        <tbody>\\n          <tr>\\n            <td>CMD</td>\\n            <td\\n              ><code ng-if=\"service.Command\">{{ service.Command | command }}</code></td\\n            >\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px\"> Command to execute. </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Args</td>\\n            <td\\n              ><code ng-if=\"service.Arguments\">{{ service.Arguments }}</code></td\\n            >\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px\"> Arguments passed to command in container. </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>User</td>\\n            <td>{{ service.User }}</td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px\"> Username or UID. </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Working directory</td>\\n            <td>{{ service.Dir }}</td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px\"> Working directory inside the container. </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Stop grace period</td>\\n            <td>{{ service.StopGracePeriod }}</td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px\"> Time to wait before force killing a container (default none). </p>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},33964:function(e){var t=\"app/docker/views/services/edit/includes/containerlabels.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div id=\"service-container-labels\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Container labels\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating ||addContainerLabel(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> container label\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"service.ServiceContainerLabels.length === 0\">\\n      <p>There are no container labels for this service.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.ServiceContainerLabels.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Label</th>\\n            <th>Value</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"label in service.ServiceContainerLabels\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon fit-text-size\">name</span>\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"label.key\"\\n                  placeholder=\"e.g. com.example.foo\"\\n                  ng-change=\"updateContainerLabel(service, label)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon fit-text-size\">value</span>\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"label.value\"\\n                  placeholder=\"e.g. bar\"\\n                  ng-change=\"updateContainerLabel(service, label)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n                <span class=\"input-group-btn\" authorization=\"DockerServiceUpdate\">\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeContainerLabel(service, $index)\" ng-disabled=\"isUpdating\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </span>\\n              </div>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'ServiceContainerLabels\\'])\" ng-click=\"updateService(service)\"\\n            >Apply changes</button\\n          >\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServiceContainerLabels\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},73631:function(e){var t=\"app/docker/views/services/edit/includes/environmentvariables.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form ng-if=\"service.EnvironmentVariables\" id=\"service-env-variables\" name=\"serviceEnvForm\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Environment variables\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating || addEnvironmentVariable(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> environment variable\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"service.EnvironmentVariables.length === 0\">\\n      <p>There are no environment variables for this service.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.EnvironmentVariables.length > 0\">\\n      <environment-variables-panel is-name-disabled=\"true\" ng-model=\"service.EnvironmentVariables\" on-change=\"(onChangeEnvVars)\"></environment-variables-panel>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-primary btn-sm\"\\n            ng-disabled=\"!hasChanges(service, [\\'EnvironmentVariables\\']) || serviceEnvForm.$invalid\"\\n            ng-click=\"updateService(service)\"\\n          >\\n            Apply changes\\n          </button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'EnvironmentVariables\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</ng-form>\\n')}]),e.exports=t},49394:function(e){var t=\"app/docker/views/services/edit/includes/hosts.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div>\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Hosts file entries\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating ||addHostsEntry(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add host entry\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"!service.Hosts || service.Hosts.length === 0\">\\n      <p>The Hosts file has no extra entries.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.Hosts.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Hostname</th>\\n            <th>IP</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"entry in service.Hosts\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"entry.hostname\"\\n                  placeholder=\"e.g. example.com\"\\n                  ng-change=\"updateHostsEntry(service, entry)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"entry.ip\"\\n                  placeholder=\"e.g. 10.0.1.1\"\\n                  ng-change=\"updateHostsEntry(service, entry)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n                <span class=\"input-group-btn\" authorization=\"DockerServiceUpdate\">\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeHostsEntry(service, $index)\" ng-disabled=\"isUpdating\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </span>\\n              </div>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'Hosts\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'Hosts\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},69480:function(e){var t=\"app/docker/views/services/edit/includes/image.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div id=\"service-container-image\" authorization=\"DockerServiceUpdate\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-clone\" title-text=\"Change container image\"> </rd-widget-header>\\n    <rd-widget-body ng-if=\"!isUpdating\">\\n      <form class=\"form-horizontal\">\\n        <por-image-registry\\n          model=\"formValues.RegistryModel\"\\n          auto-complete=\"true\"\\n          label-class=\"col-sm-1\"\\n          input-class=\"col-sm-11\"\\n          endpoint=\"endpoint\"\\n          is-admin=\"isAdmin\"\\n          check-rate-limits=\"true\"\\n          set-validity=\"setPullImageValidity\"\\n        >\\n        </por-image-registry>\\n      </form>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"isUpdating\">\\n      <p>Image modification is disabled while service is updating.</p>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'Image\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'Image\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},47300:function(e){var t=\"app/docker/views/services/edit/includes/logging.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div id=\"service-logging-driver\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Logging driver\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"form-inline\" style=\"padding: 10px\" authorization=\"DockerServiceUpdate\">\\n        Driver:\\n        <select class=\"form-control\" ng-model=\"service.LogDriverName\" ng-change=\"updateLogDriverName(service)\" ng-disabled=\"isUpdating\">\\n          <option selected value=\"\">Default logging driver</option>\\n          <option ng-repeat=\"driver in availableLoggingDrivers\" ng-value=\"driver\">{{ driver }}</option>\\n          <option value=\"none\">none</option>\\n        </select>\\n        <a class=\"btn btn-default btn-sm\" ng-click=\"!service.LogDriverName || service.LogDriverName === \\'none\\' || addLogDriverOpt(service)\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add logging driver option\\n        </a>\\n      </div>\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Option</th>\\n            <th>Value</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"option in service.LogDriverOpts\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon fit-text-size\">name</span>\\n                <input type=\"text\" class=\"form-control\" ng-model=\"option.key\" ng-disabled=\"option.added || isUpdating\" placeholder=\"e.g. FOO\" />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon fit-text-size\">value</span>\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"option.value\"\\n                  ng-change=\"updateLogDriverOpt(service, option)\"\\n                  placeholder=\"e.g. bar\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n                <span class=\"input-group-btn\" authorization=\"DockerServiceUpdate\">\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLogDriverOpt(service, $index)\" ng-disabled=\"isUpdating\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </span>\\n              </div>\\n            </td>\\n          </tr>\\n          <tr ng-if=\"service.LogDriverOpts.length === 0\">\\n            <td colspan=\"6\" class=\"text-center text-muted\">No options associated to this logging driver.</td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'LogDriverName\\', \\'LogDriverOpts\\'])\" ng-click=\"updateService(service)\"\\n            >Apply changes</button\\n          >\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'LogDriverName\\', \\'LogDriverOpts\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},95765:function(e){var t=\"app/docker/views/services/edit/includes/mounts.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div ng-if=\"service.ServiceMounts\" id=\"service-mounts\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Mounts\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating ||addMount(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> mount\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"service.ServiceMounts.length === 0\">\\n      <p>There are no mounts for this service.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.ServiceMounts.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th ng-if=\"isAdmin || allowBindMounts\">Type</th>\\n            <th>Source</th>\\n            <th>Target</th>\\n            <th authorization=\"DockerServiceUpdate\">Read only</th>\\n            <th authorization=\"DockerServiceUpdate\">Actions</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"mount in service.ServiceMounts\">\\n            <td ng-if=\"isAdmin || allowBindMounts\">\\n              <select\\n                name=\"mountType\"\\n                class=\"form-control\"\\n                ng-model=\"mount.Type\"\\n                ng-change=\"onChangeMountType(service, mount)\"\\n                ng-disabled=\"isUpdating\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              >\\n                <option value=\"volume\">Volume</option>\\n                <option value=\"bind\">Bind</option>\\n              </select>\\n            </td>\\n            <td>\\n              <select\\n                class=\"form-control\"\\n                ng-model=\"mount.Source\"\\n                ng-options=\"vol.Id as ((vol.Id|truncate:30) + \\' - \\' + (vol.Driver|truncate:30))  for vol in availableVolumes\"\\n                ng-if=\"mount.Type === \\'volume\\'\"\\n                ng-change=\"updateMount(service, mount)\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              >\\n                <option selected disabled hidden value=\"\">Select a volume</option>\\n              </select>\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                name=\"\"\\n                ng-model=\"mount.Source\"\\n                placeholder=\"e.g. /tmp/portainer/data\"\\n                ng-change=\"updateMount(service, mount)\"\\n                ng-disabled=\"isUpdating || (!isAdmin && !allowBindMounts && mount.Type === \\'bind\\')\"\\n                ng-if=\"mount.Type === \\'bind\\'\"\\n              />\\n              <div class=\"col-sm-12 small text-warning\" ng-show=\"!mount.Source\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Source is required. </div>\\n            </td>\\n            <td>\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                ng-model=\"mount.Target\"\\n                placeholder=\"e.g. /tmp/portainer/data\"\\n                ng-change=\"updateMount(service, mount)\"\\n                ng-disabled=\"isUpdating\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n              <div class=\"col-sm-12 small text-warning\" ng-show=\"!mount.Target\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Target is required. </div>\\n            </td>\\n            <td authorization=\"DockerServiceUpdate\">\\n              <input type=\"checkbox\" class=\"form-control\" ng-model=\"mount.ReadOnly\" ng-change=\"updateMount(service, mount)\" ng-disabled=\"isUpdating\" />\\n            </td>\\n            <td authorization=\"DockerServiceUpdate\">\\n              <span class=\"input-group-btn\">\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeMount(service, $index)\" ng-disabled=\"isUpdating\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </span>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!mountsAreValid() || !hasChanges(service, [\\'ServiceMounts\\'])\" ng-click=\"updateService(service)\">\\n            Apply changes\\n          </button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServiceMounts\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},2224:function(e){var t=\"app/docker/views/services/edit/includes/networks.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div id=\"service-network-specs\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Networks\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating || addNetwork(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> network\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"!service.Networks || service.Networks.length === 0\">\\n      <p>This service is not connected to any networks.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.Networks && service.Networks.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Name</th>\\n            <th>ID</th>\\n            <th>IP address</th>\\n            <th>Actions</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"network in service.Networks\">\\n            <td>\\n              <select\\n                ng-if=\"network.Editable\"\\n                class=\"form-control\"\\n                ng-model=\"network.Id\"\\n                ng-change=\"updateNetwork(service)\"\\n                ng-options=\"net.Id as net.Name for net in filterNetworks(swarmNetworks, network)\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n                style=\"width: initial; min-width: 50%\"\\n              >\\n                <option disabled value=\"\" selected>Select a network</option>\\n              </select>\\n              <span ng-if=\"!network.Editable\">{{ network.Name }}</span>\\n            </td>\\n            <td>\\n              <a ui-sref=\"docker.networks.network({id: network.Id})\">{{ network.Id }}</a>\\n            </td>\\n            <td>\\n              {{ network.Addr }}\\n            </td>\\n            <td ng-if=\"network.Editable\" authorization=\"DockerServiceUpdate\">\\n              <span class=\"input-group-btn\">\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeNetwork(service, $index)\" ng-disabled=\"isUpdating\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </span>\\n            </td>\\n            <td ng-if=\"!network.Editable\"></td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"isUpdating || !hasChanges(service, [\\'Networks\\'])\" ng-click=\"updateService(service)\">\\n            Apply changes\\n          </button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'Networks\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},82292:function(e){var t=\"app/docker/views/services/edit/includes/placementPreferences.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div ng-if=\"service.ServicePreferences\" id=\"service-placement-preferences\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Placement preferences\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating || addPlacementPreference(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> placement preference\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"service.ServicePreferences.length === 0\">\\n      <p>There are no placement preferences for this service.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.ServicePreferences.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Strategy</th>\\n            <th>Value</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"preference in service.ServicePreferences\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"preference.strategy\"\\n                  placeholder=\"e.g. node.role\"\\n                  ng-change=\"updatePlacementPreference(service, preference)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"preference.value\"\\n                  placeholder=\"e.g. manager\"\\n                  ng-change=\"updatePlacementPreference(service, preference)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n                <span class=\"input-group-btn\" authorization=\"DockerServiceUpdate\">\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePlacementPreference(service, $index)\" ng-disabled=\"isUpdating\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </span>\\n              </div>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'ServicePreferences\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServicePreferences\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},31402:function(e){var t=\"app/docker/views/services/edit/includes/ports.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div>\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Published ports\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating ||addPublishedPort(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> port mapping\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"!service.Ports || service.Ports.length === 0\">\\n      <p>This service has no ports published.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.Ports && service.Ports.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Host port</th>\\n            <th>Container port</th>\\n            <th>Protocol</th>\\n            <th>Publish mode</th>\\n            <th authorization=\"DockerServiceUpdate\">Actions</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"portBinding in service.Ports\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon\">host</span>\\n                <input\\n                  type=\"number\"\\n                  class=\"form-control\"\\n                  ng-model=\"portBinding.PublishedPort\"\\n                  placeholder=\"e.g. 8080\"\\n                  ng-change=\"updatePublishedPort(service, mapping)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon\">container</span>\\n                <input\\n                  type=\"number\"\\n                  class=\"form-control\"\\n                  ng-model=\"portBinding.TargetPort\"\\n                  placeholder=\"e.g. 80\"\\n                  ng-change=\"updatePublishedPort(service, mapping)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <select\\n                  class=\"selectpicker form-control\"\\n                  ng-model=\"portBinding.Protocol\"\\n                  ng-change=\"updatePublishedPort(service, mapping)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                >\\n                  <option value=\"tcp\">tcp</option>\\n                  <option value=\"udp\">udp</option>\\n                </select>\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <select\\n                  class=\"selectpicker form-control\"\\n                  ng-model=\"portBinding.PublishMode\"\\n                  ng-change=\"updatePublishedPort(service, mapping)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                >\\n                  <option value=\"ingress\">ingress</option>\\n                  <option value=\"host\">host</option>\\n                </select>\\n              </div>\\n            </td>\\n            <td authorization=\"DockerServiceUpdate\">\\n              <span class=\"input-group-btn\">\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePortPublishedBinding(service, $index)\" ng-disabled=\"isUpdating\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </span>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'Ports\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'Ports\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},95266:function(e){var t=\"app/docker/views/services/edit/includes/resources.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div id=\"service-resources\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-list-alt\" title-text=\"Resource limits and reservations\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <table class=\"table\">\\n        <tbody>\\n          <tr>\\n            <td style=\"vertical-align: middle\"> Memory reservation (MB) </td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"number\"\\n                step=\"0.125\"\\n                min=\"0\"\\n                ng-model=\"service.ReservationMemoryBytes\"\\n                ng-change=\"updateServiceAttribute(service, \\'ReservationMemoryBytes\\')\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td style=\"vertical-align: middle\">\\n              <p class=\"small text-muted\"> Minimum memory available on a node to run a task (set to 0 for unlimited) </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td style=\"vertical-align: middle\"> Memory limit (MB) </td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"number\"\\n                step=\"0.125\"\\n                min=\"0\"\\n                ng-model=\"service.LimitMemoryBytes\"\\n                ng-change=\"updateServiceAttribute(service, \\'LimitMemoryBytes\\')\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td style=\"vertical-align: middle\">\\n              <p class=\"small text-muted\"> Maximum memory usage per task (set to 0 for unlimited) </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td style=\"vertical-align: middle\">\\n              <div> CPU reservation </div>\\n            </td>\\n            <td>\\n              <slider\\n                model=\"service.ReservationNanoCPUs\"\\n                floor=\"0\"\\n                ceil=\"state.sliderMaxCpu\"\\n                step=\"0.25\"\\n                precision=\"2\"\\n                ng-if=\"service && state.sliderMaxCpu\"\\n                on-change=\"updateServiceAttribute(service, \\'ReservationNanoCPUs\\')\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              ></slider>\\n            </td>\\n            <td style=\"vertical-align: middle\">\\n              <p class=\"small text-muted\"> Minimum CPU available on a node to run a task </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td style=\"vertical-align: middle\">\\n              <div> CPU limit </div>\\n            </td>\\n            <td>\\n              <slider\\n                model=\"service.LimitNanoCPUs\"\\n                floor=\"0\"\\n                ceil=\"state.sliderMaxCpu\"\\n                step=\"0.25\"\\n                precision=\"2\"\\n                ng-if=\"service && state.sliderMaxCpu\"\\n                on-change=\"updateServiceAttribute(service, \\'LimitNanoCPUs\\')\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              ></slider>\\n            </td>\\n            <td style=\"vertical-align: middle\">\\n              <p class=\"small text-muted\"> Maximum CPU usage per task </p>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-primary btn-sm\"\\n            ng-disabled=\"!hasChanges(service, [\\'LimitNanoCPUs\\', \\'LimitMemoryBytes\\', \\'ReservationNanoCPUs\\', \\'ReservationMemoryBytes\\'])\"\\n            ng-click=\"updateService(service)\"\\n            >Apply changes</button\\n          >\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'LimitNanoCPUs\\', \\'LimitMemoryBytes\\', \\'ReservationNanoCPUs\\', \\'ReservationMemoryBytes\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},418:function(e){var t=\"app/docker/views/services/edit/includes/restart.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div id=\"service-restart-policy\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-list-alt\" title-text=\"Restart policy\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <table class=\"table\">\\n        <tbody>\\n          <tr>\\n            <td>Restart condition</td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <select\\n                  class=\"selectpicker form-control\"\\n                  ng-model=\"service.RestartCondition\"\\n                  ng-change=\"updateServiceAttribute(service, \\'RestartCondition\\')\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                >\\n                  <option value=\"none\">None</option>\\n                  <option value=\"on-failure\">On failure</option>\\n                  <option value=\"any\">Any</option>\\n                </select>\\n              </div>\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px\"> Condition for restart. </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Restart delay</td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"text\"\\n                ng-model=\"service.RestartDelay\"\\n                ng-change=\"updateServiceAttribute(service, \\'RestartDelay\\')\"\\n                ng-pattern=\"/^([0-9]+)(h|m|s|ms|us|ns)$/i\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px\">\\n                Delay between restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 5s, 5 seconds.\\n              </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Restart max attempts</td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"number\"\\n                ng-model=\"service.RestartMaxAttempts\"\\n                ng-change=\"updateServiceAttribute(service, \\'RestartMaxAttempts\\')\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px\"> Maximum attempts to restart a given task before giving up (default value is 0, which means unlimited). </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Restart window</td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"text\"\\n                ng-model=\"service.RestartWindow\"\\n                ng-change=\"updateServiceAttribute(service, \\'RestartWindow\\')\"\\n                ng-pattern=\"/^([0-9]+)(h|m|s|ms|us|ns)$/i\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px\">\\n                Time window to evaluate restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 0 seconds, which is unbounded.\\n              </p>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-primary btn-sm\"\\n            ng-disabled=\"!hasChanges(service, [\\'RestartCondition\\', \\'RestartDelay\\', \\'RestartMaxAttempts\\', \\'RestartWindow\\'])\"\\n            ng-click=\"updateService(service)\"\\n            >Apply changes</button\\n          >\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'RestartCondition\\', \\'RestartDelay\\', \\'RestartMaxAttempts\\', \\'RestartWindow\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},13269:function(e){var t=\"app/docker/views/services/edit/includes/secrets.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div ng-if=\"applicationState.endpoint.apiVersion >= 1.25\" id=\"service-secrets\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Secrets\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"form-inline\" style=\"padding: 10px\" authorization=\"DockerServiceUpdate\">\\n        Add a secret:\\n        <select class=\"form-control\" ng-options=\"secret.Name for secret in secrets | orderBy: \\'Name\\'\" ng-model=\"state.addSecret.secret\">\\n          <option selected disabled hidden value=\"\">Select a secret</option>\\n        </select>\\n        <div class=\"form-group\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3 && state.addSecret.override\">\\n          Target:\\n          <input class=\"form-control\" ng-model=\"state.addSecret.target\" placeholder=\"/path/in/container\" />\\n        </div>\\n        <div class=\"btn-group btn-group-sm\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3\">\\n          <label class=\"btn btn-primary\" ng-model=\"state.addSecret.override\" uib-btn-radio=\"false\">Default location</label>\\n          <label class=\"btn btn-primary\" ng-model=\"state.addSecret.override\" uib-btn-radio=\"true\">Override</label>\\n        </div>\\n        <a class=\"btn btn-default btn-sm\" ng-click=\"addSecret(service, state.addSecret)\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add secret </a>\\n      </div>\\n      <table class=\"table\" style=\"margin-top: 5px\">\\n        <thead>\\n          <tr>\\n            <th>Name</th>\\n            <th>File name</th>\\n            <th>UID</th>\\n            <th>GID</th>\\n            <th>Mode</th>\\n            <th></th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"secret in service.ServiceSecrets\">\\n            <td\\n              ><a ui-sref=\"docker.secrets.secret({id: secret.Id})\">{{ secret.Name }}</a></td\\n            >\\n            <td>{{ secret.FileName }}</td>\\n            <td>{{ secret.Uid }}</td>\\n            <td>{{ secret.Gid }}</td>\\n            <td>{{ secret.Mode }}</td>\\n            <td authorization=\"DockerServiceUpdate\">\\n              <button class=\"btn btn-xs btn-danger pull-right\" type=\"button\" ng-click=\"removeSecret(service, $index)\" ng-disabled=\"isUpdating\">\\n                <i class=\"fa fa-trash\" aria-hidden=\"true\"></i> Remove secret\\n              </button>\\n            </td>\\n          </tr>\\n          <tr ng-if=\"service.ServiceSecrets.length === 0\">\\n            <td colspan=\"6\" class=\"text-center text-muted\">No secrets associated to this service.</td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'ServiceSecrets\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServiceSecrets\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},91082:function(e){var t=\"app/docker/views/services/edit/includes/servicelabels.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div id=\"service-labels\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Service labels\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating || addLabel(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> label\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"service.ServiceLabels.length === 0\">\\n      <p>There are no labels for this service.</p>\\n    </rd-widget-body>\\n    <rd-widget-body classes=\"no-padding\" ng-if=\"service.ServiceLabels.length > 0\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th> Label </th>\\n            <th> Value </th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"label in service.ServiceLabels\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon fit-text-size\">name</span>\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"label.key\"\\n                  placeholder=\"e.g. com.example.foo\"\\n                  ng-change=\"updateLabel(service, label)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon fit-text-size\">value</span>\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"label.value\"\\n                  placeholder=\"e.g. bar\"\\n                  ng-change=\"updateLabel(service, label)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n                <span class=\"input-group-btn\" authorization=\"DockerServiceUpdate\">\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel(service, $index)\" ng-disabled=\"isUpdating\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </span>\\n              </div>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'ServiceLabels\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServiceLabels\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},72493:function(e){var t=\"app/docker/views/services/edit/includes/tasks.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div ng-if=\"tasks.length > 0 && nodes\" id=\"service-tasks\">\\n  <tasks-datatable\\n    title-text=\"Tasks\"\\n    title-icon=\"fa-tasks\"\\n    dataset=\"tasks\"\\n    table-key=\"service-tasks\"\\n    order-by=\"Updated\"\\n    reverse-order=\"true\"\\n    nodes=\"nodes\"\\n    show-slot-column=\"service.Mode !== \\'global\\'\"\\n    show-logs-button=\"applicationState.endpoint.apiVersion >= 1.30\"\\n    agent-proxy=\"applicationState.endpoint.mode.agentProxy\"\\n  ></tasks-datatable>\\n</div>\\n')}]),e.exports=t},87512:function(e){var t=\"app/docker/views/services/edit/includes/updateconfig.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div id=\"service-update-config\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-list-alt\" title-text=\"Update configuration\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <table class=\"table\">\\n        <tbody>\\n          <tr>\\n            <td>Update Parallelism</td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"number\"\\n                ng-model=\"service.UpdateParallelism\"\\n                ng-change=\"updateServiceAttribute(service, \\'UpdateParallelism\\')\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px\"> Maximum number of tasks to be updated simultaneously (0 to update all at once). </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Update Delay</td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"text\"\\n                ng-model=\"service.UpdateDelay\"\\n                ng-change=\"updateServiceAttribute(service, \\'UpdateDelay\\')\"\\n                ng-pattern=\"/^([0-9]+)(h|m|s|ms|us|ns)$/i\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px\"> Amount of time between updates expressed by a number followed by unit (ns|us|ms|s|m|h). Example: 1m. </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Update Failure Action</td>\\n            <td>\\n              <div class=\"form-group\">\\n                <label class=\"radio-inline\">\\n                  <input\\n                    type=\"radio\"\\n                    name=\"failure_action\"\\n                    ng-model=\"service.UpdateFailureAction\"\\n                    value=\"continue\"\\n                    ng-change=\"updateServiceAttribute(service, \\'UpdateFailureAction\\')\"\\n                    disable-authorization=\"DockerServiceUpdate\"\\n                  />\\n                  Continue\\n                </label>\\n                <label class=\"radio-inline\">\\n                  <input\\n                    type=\"radio\"\\n                    name=\"failure_action\"\\n                    ng-model=\"service.UpdateFailureAction\"\\n                    value=\"pause\"\\n                    ng-change=\"updateServiceAttribute(service, \\'UpdateFailureAction\\')\"\\n                    disable-authorization=\"DockerServiceUpdate\"\\n                  />\\n                  Pause\\n                </label>\\n              </div>\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px\"> Action taken on failure to start after update. </p>\\n            </td>\\n          </tr>\\n          <tr ng-if=\"applicationState.endpoint.apiVersion >= 1.29\">\\n            <td>Order</td>\\n            <td>\\n              <div class=\"form-group\">\\n                <label class=\"radio-inline\">\\n                  <input\\n                    type=\"radio\"\\n                    name=\"updateconfig_order\"\\n                    ng-model=\"service.UpdateOrder\"\\n                    value=\"start-first\"\\n                    ng-change=\"updateServiceAttribute(service, \\'UpdateOrder\\')\"\\n                    disable-authorization=\"DockerServiceUpdate\"\\n                  />\\n                  start-first\\n                </label>\\n                <label class=\"radio-inline\">\\n                  <input\\n                    type=\"radio\"\\n                    name=\"updateconfig_order\"\\n                    ng-model=\"service.UpdateOrder\"\\n                    value=\"stop-first\"\\n                    ng-change=\"updateServiceAttribute(service, \\'UpdateOrder\\')\"\\n                    disable-authorization=\"DockerServiceUpdate\"\\n                  />\\n                  stop-first\\n                </label>\\n              </div>\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px\"> Operation order on failure. </p>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-primary btn-sm\"\\n            ng-disabled=\"!hasChanges(service, [\\'UpdateFailureAction\\', \\'UpdateDelay\\', \\'UpdateParallelism\\', \\'UpdateOrder\\'])\"\\n            ng-click=\"updateService(service)\"\\n            >Apply changes</button\\n          >\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'UpdateFailureAction\\', \\'UpdateDelay\\', \\'UpdateParallelism\\', \\'UpdateOrder\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},66973:function(e){var t=\"app/docker/views/services/edit/service.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Service details\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.services.service({id: service.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.services\">Services</a> &gt; <a ui-sref=\"docker.services.service({id: service.Id})\">{{ service.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div ng-if=\"isUpdating\" class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <div class=\"alert alert-info\" role=\"alert\" id=\"service-update-alert\">\\n      <p>This service is being updated. Editing this service is currently disabled.</p>\\n      <a ui-sref=\"docker.services.service({id: service.Id}, {reload: true})\">Refresh to see if this service has finished updated.</a>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-9 col-md-9 col-xs-9\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-list-alt\" title-text=\"Service details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td ng-if=\"applicationState.endpoint.apiVersion <= 1.24\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"service.Name\" ng-change=\"updateServiceAttribute(service, \\'Name\\')\" ng-disabled=\"isUpdating\" />\\n              </td>\\n              <td ng-if=\"applicationState.endpoint.apiVersion >= 1.25\">\\n                {{ service.Name }}\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>ID</td>\\n              <td>\\n                {{ service.Id }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"service.CreatedAt\">\\n              <td>Created at</td>\\n              <td>{{ service.CreatedAt | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"service.UpdatedAt\">\\n              <td>Last updated at</td>\\n              <td>{{ service.UpdatedAt | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"service.Version\">\\n              <td>Version</td>\\n              <td>{{ service.Version }}</td>\\n            </tr>\\n            <tr>\\n              <td>Scheduling mode</td>\\n              <td>{{ service.Mode }}</td>\\n            </tr>\\n            <tr ng-if=\"service.Mode === \\'replicated\\'\">\\n              <td>Replicas</td>\\n              <td>\\n                <span ng-if=\"service.Mode === \\'replicated\\'\">\\n                  <input\\n                    class=\"input-sm\"\\n                    type=\"number\"\\n                    ng-model=\"service.Replicas\"\\n                    ng-change=\"updateServiceAttribute(service, \\'Replicas\\')\"\\n                    disable-authorization=\"DockerServiceUpdate\"\\n                  />\\n                </span>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Image</td>\\n              <td>{{ service.Image }}</td>\\n            </tr>\\n            <tr ng-if=\"isAdmin && applicationState.endpoint.type !== 4\">\\n              <td colspan=\"{{ webhookURL ? \\'1\\' : \\'2\\' }}\">\\n                Service webhook\\n                <portainer-tooltip\\n                  position=\"top\"\\n                  message=\"Webhook (or callback URI) used to automate the update of this service. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this service.\"\\n                ></portainer-tooltip>\\n                <label class=\"switch\" style=\"margin-left: 20px\">\\n                  <input disable-authorization=\"DockerServiceUpdate\" type=\"checkbox\" ng-model=\"WebhookExists\" ng-click=\"updateWebhook(service)\" /><i></i>\\n                </label>\\n              </td>\\n              <td ng-if=\"webhookURL\">\\n                <span class=\"text-muted\">{{ webhookURL | truncatelr }}</span>\\n                <button type=\"button\" class=\"btn btn-sm btn-primary btn-sm space-left\" ng-if=\"webhookURL\" ng-click=\"copyWebhook()\">\\n                  <span><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy link</span>\\n                </button>\\n                <span>\\n                  <i id=\"copyNotification\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none\"></i>\\n                </span>\\n              </td>\\n            </tr>\\n            <tr authorization=\"DockerServiceLogs, DockerServiceUpdate, DockerServiceDelete\">\\n              <td colspan=\"2\">\\n                <p class=\"small text-muted\" authorization=\"DockerServiceUpdate\">\\n                  Note: you can only rollback one level of changes. Clicking the rollback button without making a new change will undo your previous rollback </p\\n                ><p>\\n                  <a\\n                    authorization=\"DockerServiceLogs\"\\n                    ng-if=\"applicationState.endpoint.apiVersion >= 1.3\"\\n                    class=\"btn btn-primary btn-sm\"\\n                    type=\"button\"\\n                    ui-sref=\"docker.services.service.logs({id: service.Id})\"\\n                    ><i class=\"fa fa-file-alt space-right\" aria-hidden=\"true\"></i>Service logs</a\\n                  >\\n                  <button\\n                    authorization=\"DockerServiceUpdate\"\\n                    type=\"button\"\\n                    class=\"btn btn-primary btn-sm\"\\n                    ng-disabled=\"state.updateInProgress || isUpdating\"\\n                    ng-click=\"forceUpdateService(service)\"\\n                    button-spinner=\"state.updateInProgress\"\\n                    ng-if=\"applicationState.endpoint.apiVersion >= 1.25\"\\n                  >\\n                    <span ng-hide=\"state.updateInProgress\"><i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i>Update the service</span>\\n                    <span ng-show=\"state.updateInProgress\">Update in progress...</span>\\n                  </button>\\n                  <button\\n                    authorization=\"DockerServiceUpdate\"\\n                    type=\"button\"\\n                    class=\"btn btn-primary btn-sm\"\\n                    ng-disabled=\"state.rollbackInProgress || isUpdating\"\\n                    ng-click=\"rollbackService(service)\"\\n                    button-spinner=\"state.rollbackInProgress\"\\n                    ng-if=\"applicationState.endpoint.apiVersion >= 1.25\"\\n                  >\\n                    <span ng-hide=\"state.rollbackInProgress\"><i class=\"fa fa-undo space-right\" aria-hidden=\"true\"></i>Rollback the service</span>\\n                    <span ng-show=\"state.rollbackInProgress\">Rollback in progress...</span>\\n                  </button>\\n                  <button\\n                    authorization=\"DockerServiceDelete\"\\n                    type=\"button\"\\n                    class=\"btn btn-danger btn-sm\"\\n                    ng-disabled=\"state.deletionInProgress || isUpdating\"\\n                    ng-click=\"removeService()\"\\n                    button-spinner=\"state.deletionInProgress\"\\n                  >\\n                    <span ng-hide=\"state.deletionInProgress\"><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Delete the service</span>\\n                    <span ng-show=\"state.deletionInProgress\">Deletion in progress...</span>\\n                  </button>\\n                </p></td\\n              >\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n      <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n        <p class=\"small text-muted\">\\n          Do you need help? View the Docker Service documentation <a href=\"https://docs.docker.com/engine/reference/commandline/service_update/\" target=\"self\">here</a>.\\n        </p>\\n        <div class=\"btn-toolbar\" role=\"toolbar\">\\n          <div class=\"btn-group\" role=\"group\">\\n            <button type=\"button\" class=\"btn btn-primary\" ng-disabled=\"!hasChanges(service, [\\'Mode\\', \\'Replicas\\', \\'Name\\', \\'Webhooks\\'])\" ng-click=\"updateService(service)\"\\n              >Apply changes</button\\n            >\\n            <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n              <span class=\"caret\"></span>\\n            </button>\\n            <ul class=\"dropdown-menu\">\\n              <li><a ng-click=\"cancelChanges(service, [\\'Mode\\', \\'Replicas\\', \\'Name\\'])\">Reset changes</a></li>\\n              <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n            </ul>\\n          </div>\\n        </div>\\n      </rd-widget-footer>\\n    </rd-widget>\\n  </div>\\n\\n  <div class=\"col-lg-3 col-md-3 col-xs-3\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-bars\" title-text=\"Quick navigation\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <ul class=\"nav nav-pills nav-stacked\">\\n          <li><a href ng-click=\"goToItem(\\'service-env-variables\\')\">Environment variables</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-container-image\\')\">Container image</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-container-labels\\')\">Container labels</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-mounts\\')\">Mounts</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-network-specs\\')\">Network &amp; published ports</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-resources\\')\">Resource limits &amp; reservations</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-placement-constraints\\')\">Placement constraints</a></li>\\n          <li ng-if=\"applicationState.endpoint.apiVersion >= 1.3\"><a href ng-click=\"goToItem(\\'service-placement-preferences\\')\">Placement preferences</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-restart-policy\\')\">Restart policy</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-update-config\\')\">Update configuration</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-logging\\')\">Logging</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-labels\\')\">Service labels</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-configs\\')\">Configs</a></li>\\n          <li ng-if=\"applicationState.endpoint.apiVersion >= 1.25\"><a href ng-click=\"goToItem(\\'service-secrets\\')\">Secrets</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-tasks\\')\">Tasks</a></li>\\n        </ul>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n\\x3c!-- access-control-panel --\\x3e\\n<access-control-panel\\n  ng-if=\"service\"\\n  resource-id=\"service.Id\"\\n  resource-control=\"service.ResourceControl\"\\n  resource-type=\"resourceType\"\\n  on-update-success=\"(onUpdateResourceControlSuccess)\"\\n>\\n</access-control-panel>\\n\\x3c!-- !access-control-panel --\\x3e\\n\\n<div class=\"row\">\\n  <hr />\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <h3 id=\"container-specs\">Container specification</h3>\\n    <div id=\"service-container-spec\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/container-specs.html\\'\"></div>\\n    <div id=\"service-container-image\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/image.html\\'\"></div>\\n    <div id=\"service-env-variables\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/environmentvariables.html\\'\"></div>\\n    <div id=\"service-container-labels\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/containerlabels.html\\'\"></div>\\n    <div id=\"service-mounts\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/mounts.html\\'\"></div>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <hr />\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <h3 id=\"service-network-specs\">Networks &amp; ports</h3>\\n    <div id=\"service-networks\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/networks.html\\'\"></div>\\n    <div id=\"service-published-ports\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/ports.html\\'\"></div>\\n    <div id=\"service-hosts-entries\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/hosts.html\\'\"></div>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <hr />\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <h3 id=\"service-specs\">Service specification</h3>\\n    <div id=\"service-resources\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/resources.html\\'\"></div>\\n    <div id=\"service-placement-constraints\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/constraints.html\\'\"></div>\\n    <div\\n      id=\"service-placement-preferences\"\\n      ng-if=\"applicationState.endpoint.apiVersion >= 1.3\"\\n      class=\"padding-top\"\\n      ng-include=\"\\'app/docker/views/services/edit/includes/placementPreferences.html\\'\"\\n    ></div>\\n    <div id=\"service-restart-policy\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/restart.html\\'\"></div>\\n    <div id=\"service-update-config\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/updateconfig.html\\'\"></div>\\n    <div id=\"service-logging\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/logging.html\\'\"></div>\\n    <div id=\"service-labels\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/servicelabels.html\\'\"></div>\\n    <div id=\"service-configs\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/configs.html\\'\"></div>\\n    <div id=\"service-secrets\" ng-if=\"applicationState.endpoint.apiVersion >= 1.25\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/secrets.html\\'\"></div>\\n    <div id=\"service-tasks\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/tasks.html\\'\"></div>\\n  </div>\\n</div>\\n')}]),e.exports=t},42382:function(e){var t=\"app/docker/views/services/logs/servicelogs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Service logs\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.services\">Services</a> > <a ui-sref=\"docker.services.service({id: service.Id})\">{{ service.Name }}</a> &gt; Logs\\n  </rd-header-content>\\n</rd-header>\\n\\n<log-viewer\\n  data=\"logs\"\\n  ng-if=\"logs\"\\n  log-collection-change=\"changeLogCollection\"\\n  display-timestamps=\"state.displayTimestamps\"\\n  line-count=\"state.lineCount\"\\n  since-timestamp=\"state.sinceTimestamp\"\\n  resource-name=\"service.Name\"\\n></log-viewer>\\n')}]),e.exports=t},3903:function(e){var t=\"app/docker/views/services/services.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Service list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.services\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Services</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"services\">\\n  <div class=\"col-sm-12\">\\n    <services-datatable\\n      title-text=\"Services\"\\n      title-icon=\"fa-list-alt\"\\n      dataset=\"services\"\\n      table-key=\"services\"\\n      order-by=\"Name\"\\n      nodes=\"nodes\"\\n      agent-proxy=\"applicationState.endpoint.mode.agentProxy\"\\n      show-update-action=\"applicationState.endpoint.apiVersion >= 1.25\"\\n      show-task-logs-button=\"applicationState.endpoint.apiVersion >= 1.30\"\\n      show-add-action=\"true\"\\n      show-stack-column=\"true\"\\n      refresh-callback=\"getServices\"\\n      endpoint-public-url=\"endpoint.PublicURL\"\\n      endpoint-id=\"endpoint.Id\"\\n    ></services-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},12367:function(e){var t=\"app/docker/views/swarm/swarm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Cluster overview\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.swarm\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Swarm</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-object-group\" title-text=\"Cluster status\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Nodes</td>\\n              <td>{{ info.Swarm.Nodes }}</td>\\n            </tr>\\n            <tr>\\n              <td>Docker API version</td>\\n              <td>{{ docker.ApiVersion }}</td>\\n            </tr>\\n            <tr>\\n              <td>Total CPU</td>\\n              <td>{{ totalCPU }}</td>\\n            </tr>\\n            <tr>\\n              <td>Total memory</td>\\n              <td>{{ totalMemory | humansize: 2 }}</td>\\n            </tr>\\n            <tr>\\n              <td colspan=\"2\">\\n                <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n                  <a ui-sref=\"docker.swarm.visualizer\"><i class=\"fa fa-object-group space-right\" aria-hidden=\"true\"></i>Go to cluster visualizer</a>\\n                </div>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <nodes-datatable\\n      title-text=\"Nodes\"\\n      title-icon=\"fa-hdd\"\\n      dataset=\"nodes\"\\n      table-key=\"nodes\"\\n      order-by=\"Hostname\"\\n      show-ip-address-column=\"applicationState.endpoint.apiVersion >= 1.25\"\\n      access-to-node-details=\"isAdmin\"\\n      refresh-callback=\"getNodes\"\\n    ></nodes-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},40640:function(e){var t=\"app/docker/views/swarm/visualizer/swarmvisualizer.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Swarm visualizer\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.swarm.visualizer\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.swarm\">Swarm</a> &gt; <a ui-sref=\"docker.swarm.visualizer\">Cluster visualizer</a> </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-object-group\" title-text=\"Cluster information\">\\n        <div class=\"pull-right\">\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ng-click=\"changeShowInformationPanel(true)\" ng-if=\"!state.ShowInformationPanel\">Show</button>\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ng-click=\"changeShowInformationPanel(false)\" ng-if=\"state.ShowInformationPanel\">Hide</button>\\n        </div>\\n      </rd-widget-header>\\n      <rd-widget-body ng-if=\"state.ShowInformationPanel\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Nodes</td>\\n              <td>{{ nodes.length }}</td>\\n            </tr>\\n            <tr>\\n              <td>Services</td>\\n              <td>{{ services.length }}</td>\\n            </tr>\\n            <tr>\\n              <td>Tasks</td>\\n              <td>{{ tasks.length }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n        <form class=\"form-horizontal\">\\n          <div class=\"col-sm-12 form-section-title\"> Options </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\"> Only display running tasks </label>\\n              <label class=\"switch\" style=\"margin-left: 20px\">\\n                <input type=\"checkbox\" ng-model=\"state.DisplayOnlyRunningTasks\" ng-change=\"changeDisplayOnlyRunningTasks()\" /><i></i>\\n              </label>\\n            </div>\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\"> Display node labels </label>\\n              <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"state.DisplayNodeLabels\" ng-change=\"changeDisplayNodeLabels()\" /><i></i> </label>\\n            </div>\\n          </div>\\n        </form>\\n        <form class=\"form-horizontal\">\\n          <div class=\"col-sm-12 form-section-title\"> Refresh </div>\\n          <div class=\"form-group\">\\n            <label for=\"refreshRate\" class=\"col-sm-1 margin-sm-top control-label text-left\">\\n              Rate\\n              <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"display: none\"></i>\\n            </label>\\n            <div class=\"col-sm-2\">\\n              <select id=\"refreshRate\" ng-model=\"state.refreshRate\" ng-change=\"changeUpdateRepeater()\" class=\"form-control\">\\n                <option value=\"5\">5s</option>\\n                <option value=\"10\">10s</option>\\n                <option value=\"30\">30s</option>\\n                <option value=\"60\">60s</option>\\n              </select>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"visualizerData\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-object-group\" title-text=\"Cluster visualizer\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"visualizer_container\">\\n          <div class=\"node\" ng-repeat=\"node in visualizerData.nodes | orderBy : [\\'Role\\', \\'Hostname\\'] track by $index\">\\n            <div class=\"node_info\">\\n              <div>\\n                <div>\\n                  <b>{{ node.Name || node.Hostname }}</b>\\n                  <span class=\"node_platform\">\\n                    <i class=\"fab fa-linux\" aria-hidden=\"true\" ng-if=\"node.PlatformOS === \\'linux\\'\"></i>\\n                    <i class=\"fab fa-windows\" aria-hidden=\"true\" ng-if=\"node.PlatformOS === \\'windows\\'\"></i>\\n                  </span>\\n                </div>\\n              </div>\\n              <div>{{ node.Role }}</div>\\n              <div>CPU: {{ node.CPUs / 1000000000 }}</div>\\n              <div>Memory: {{ node.Memory | humansize: 2 }}</div>\\n              <div\\n                ><span class=\"label label-{{ node.Status | nodestatusbadge }}\">{{ node.Status }}</span></div\\n              >\\n              <div class=\"node_labels\" ng-if=\"node.Labels.length > 0 && state.DisplayNodeLabels\">\\n                <div>Labels</div>\\n                <div class=\"node_label\" ng-repeat=\"label in node.Labels\">\\n                  <span class=\"label_key\">\\n                    {{ label.key }}\\n                  </span>\\n                  <span class=\"label_value\" ng-if=\"label.value\"> = {{ label.value }} </span>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\"tasks\">\\n              <div\\n                class=\"task task_{{ task.Status.State | visualizerTask }}\"\\n                style=\"border: 2px solid {{ task.ServiceId | visualizerTaskBorderColor }}\"\\n                ng-repeat=\"task in node.Tasks | orderBy: \\'ServiceName\\' | filter: (state.DisplayOnlyRunningTasks || \\'\\') && { Status: { State: \\'running\\' } }\"\\n              >\\n                <div class=\"service_name\">{{ task.ServiceName }}</div>\\n                <div>Image: {{ task.Spec.ContainerSpec.Image | hideshasum }}</div>\\n                <div>Status: {{ task.Status.State }}</div>\\n                <div>Update: {{ task.Updated | getisodate }}</div>\\n                <div ng-if=\"task.Spec.Resources.Limits.MemoryBytes\">Memory limit: {{ task.Spec.Resources.Limits.MemoryBytes | humansize: 2:2 }}</div>\\n                <div ng-if=\"task.Spec.Resources.Limits.NanoCPUs\">CPU limit: {{ task.Spec.Resources.Limits.NanoCPUs / 1000000000 }}</div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},32240:function(e){var t=\"app/docker/views/tasks/edit/task.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Task details\"></rd-header-title>\\n  <rd-header-content ng-if=\"task && service\">\\n    <a ui-sref=\"docker.services\">Services</a> &gt; <a ui-sref=\"docker.services.service({id: service.Id })\">{{ service.Name }}</a> &gt; {{ task.Id }}\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"task && service\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-tasks\" title-text=\"Task status\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>ID</td>\\n              <td>{{ task.Id }}</td>\\n            </tr>\\n            <tr>\\n              <td>State</td>\\n              <td\\n                ><span class=\"label label-{{ task.Status.State | taskstatusbadge }}\">{{ task.Status.State }}</span></td\\n              >\\n            </tr>\\n            <tr>\\n              <td>State Message</td>\\n              <td>{{ task.Status.Message }}</td>\\n            </tr>\\n            <tr ng-if=\"task.Status.Err\">\\n              <td>Error message</td>\\n              <td\\n                ><code>{{ task.Status.Err }}</code></td\\n              >\\n            </tr>\\n            <tr>\\n              <td>Image</td>\\n              <td>{{ task.Spec.ContainerSpec.Image | hideshasum }}</td>\\n            </tr>\\n            <tr ng-if=\"service.Mode !== \\'global\\'\">\\n              <td>Slot</td>\\n              <td>{{ task.Slot }}</td>\\n            </tr>\\n            <tr>\\n              <td>Created</td>\\n              <td>{{ task.Created | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"task.Status.ContainerStatus.ContainerID\">\\n              <td>Container ID</td>\\n              <td>{{ task.Status.ContainerStatus.ContainerID }}</td>\\n            </tr>\\n            <tr ng-if=\"applicationState.endpoint.apiVersion >= 1.3 && task.Status.State | taskhaslogs\">\\n              <td colspan=\"2\"\\n                ><a class=\"btn btn-primary btn-sm\" type=\"button\" ui-sref=\"docker.tasks.task.logs({id: task.Id})\"\\n                  ><i class=\"fa fa-file-alt space-right\" aria-hidden=\"true\"></i>Task logs</a\\n                ></td\\n              >\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},62770:function(e){var t=\"app/docker/views/tasks/logs/tasklogs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Task details\"></rd-header-title>\\n  <rd-header-content ng-if=\"task && service\">\\n    <a ui-sref=\"docker.services\">Services</a> &gt; <a ui-sref=\"docker.services.service({id: service.Id })\">{{ service.Name }}</a> &gt;\\n    <a ui-sref=\"docker.tasks.task({id: task.Id })\">{{ task.Id }}</a> &gt; Logs\\n  </rd-header-content>\\n</rd-header>\\n\\n<log-viewer\\n  data=\"logs\"\\n  ng-if=\"logs\"\\n  log-collection-change=\"changeLogCollection\"\\n  display-timestamps=\"state.displayTimestamps\"\\n  line-count=\"state.lineCount\"\\n  since-timestamp=\"state.sinceTimestamp\"\\n  resource-name=\"task.Id\"\\n></log-viewer>\\n')}]),e.exports=t},90347:function(e){var t=\"app/docker/views/volumes/browse/browsevolume.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Volume browser\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.volumes\">Volumes</a> &gt; <a ui-sref=\"docker.volumes.volume({ id: volumeId })\">{{ volumeId }}</a> &gt; browse\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <volume-browser volume-id=\"volumeId\" node-name=\"nodeName\" is-upload-enabled=\"agentApiVersion > 1\" endpoint-id=\"endpointId\"></volume-browser>\\n  </div>\\n</div>\\n')}]),e.exports=t},9713:function(e){var t=\"app/docker/views/volumes/create/createvolume.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create volume\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.volumes\">Volumes</a> &gt; Add volume </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"volumeCreationForm\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"volume_name\" class=\"col-sm-2 col-md-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-10 col-md-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Name\" id=\"volume_name\" placeholder=\"e.g. myVolume\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Driver configuration </div>\\n          \\x3c!-- driver-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"volume_driver\" class=\"col-sm-2 col-md-1 control-label text-left\">Driver</label>\\n            <div class=\"col-sm-10 col-md-11\">\\n              <select class=\"form-control\" ng-options=\"driver for driver in availableVolumeDrivers\" ng-model=\"formValues.Driver\" ng-if=\"availableVolumeDrivers.length > 0\">\\n                <option disabled hidden value=\"\">Select a driver</option>\\n              </select>\\n              <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Driver\" id=\"volume_driver\" placeholder=\"e.g. driverName\" ng-if=\"availableVolumeDrivers.length === 0\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !driver-input --\\x3e\\n          \\x3c!-- driver-options --\\x3e\\n          <div class=\"form-group\" ng-hide=\"formValues.CIFSData.useCIFS || formValues.NFSData.useNFS\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n              <label class=\"control-label text-left\">\\n                Driver options\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"Driver options are specific to the selected driver. Please refer to the selected driver documentation.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addDriverOption()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add driver option\\n              </span>\\n            </div>\\n            \\x3c!-- driver-options-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n              <div ng-repeat=\"option in formValues.DriverOptions\" style=\"margin-top: 2px\">\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">name</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"option.name\" placeholder=\"e.g. mountpoint\" />\\n                </div>\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">value</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"option.value\" placeholder=\"e.g. /path/on/host\" />\\n                </div>\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeDriverOption($index)\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !driver-options-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !driver-options --\\x3e\\n          \\x3c!-- nfs-management --\\x3e\\n          <div class=\"form-group col-md-12\">\\n            <label for=\"useNFS\" class=\"control-label text-left\"> Use NFS volume </label>\\n            <label class=\"switch\" style=\"margin-left: 20px\">\\n              <input type=\"checkbox\" name=\"useNFS\" ng-model=\"formValues.NFSData.useNFS\" ng-click=\"formValues.CIFSData.useCIFS = false\" />\\n              <i></i>\\n            </label>\\n            <div ng-if=\"formValues.NFSData.useNFS\" class=\"small text-muted\" style=\"margin-top: 10px\"> Ensure <code>nfs-utils</code> are installed on your hosts. </div>\\n          </div>\\n          <volumes-nfs-form data=\"formValues.NFSData\" ng-show=\"formValues.Driver === \\'local\\'\"></volumes-nfs-form>\\n          \\x3c!-- !nfs-management --\\x3e\\n          \\x3c!-- cifs-management --\\x3e\\n          <div class=\"form-group col-md-12\">\\n            <label for=\"useCIFS\" class=\"control-label text-left\"> Use CIFS volume </label>\\n            <label class=\"switch\" style=\"margin-left: 20px\">\\n              <input type=\"checkbox\" name=\"useCIFS\" ng-model=\"formValues.CIFSData.useCIFS\" ng-click=\"formValues.NFSData.useNFS = false\" />\\n              <i></i>\\n            </label>\\n            <div ng-if=\"formValues.CIFSData.useCIFS\" class=\"small text-muted\" style=\"margin-top: 10px\"> Ensure <code>cifs-utils</code> are installed on your hosts. </div>\\n          </div>\\n          <volumes-cifs-form data=\"formValues.CIFSData\" ng-show=\"formValues.Driver === \\'local\\'\"></volumes-cifs-form>\\n          \\x3c!-- !cifs-management --\\x3e\\n          <div ng-if=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\' && formValues.Driver === \\'local\\'\">\\n            <div class=\"col-sm-12 form-section-title\"> Deployment </div>\\n            \\x3c!-- node-selection --\\x3e\\n            <node-selector model=\"formValues.NodeName\"> </node-selector>\\n            \\x3c!-- !node-selection --\\x3e\\n          </div>\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-click=\"create()\"\\n                ng-disabled=\"state.actionInProgress || (formValues.NFSData.useNFS && !volumeCreationForm.nfsInformationForm.$valid) || (formValues.CIFSData.useCIFS && !volumeCreationForm.cifsInformationForm.$valid)\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Create the volume</span>\\n                <span ng-show=\"state.actionInProgress\">Creating volume...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},10577:function(e){var t=\"app/docker/views/volumes/edit/volume.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Volume details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.volumes\">Volumes</a> &gt; <a ui-sref=\"docker.volumes.volume({id: volume.Id})\">{{ volume.Id }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"volume\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-cube\" title-text=\"Volume details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>ID</td>\\n              <td>\\n                {{ volume.Id }}\\n                <button authorization=\"DockerVolumeDelete\" class=\"btn btn-xs btn-danger\" ng-click=\"removeVolume()\"\\n                  ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove this volume</button\\n                >\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Created</td>\\n              <td>{{ volume.CreatedAt | getisodate }}</td>\\n            </tr>\\n            <tr>\\n              <td>Mount path</td>\\n              <td>{{ volume.Mountpoint }}</td>\\n            </tr>\\n            <tr>\\n              <td>Driver</td>\\n              <td>{{ volume.Driver }}</td>\\n            </tr>\\n            <tr ng-if=\"!(volume.Labels | emptyobject)\">\\n              <td>Labels</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"(k, v) in volume.Labels\">\\n                    <td>{{ k }}</td>\\n                    <td>{{ v }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n\\x3c!-- access-control-panel --\\x3e\\n<access-control-panel\\n  ng-if=\"volume\"\\n  resource-id=\"volume.ResourceId\"\\n  resource-control=\"volume.ResourceControl\"\\n  resource-type=\"resourceType\"\\n  on-update-success=\"(onUpdateResourceControlSuccess)\"\\n>\\n</access-control-panel>\\n\\x3c!-- !access-control-panel --\\x3e\\n\\n<div class=\"row\" ng-if=\"!(volume.Options | emptyobject)\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-cogs\" title-text=\"Volume options\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr ng-repeat=\"(key, value) in volume.Options\">\\n              <td>{{ key }}</td>\\n              <td>{{ value }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n<div class=\"row\" ng-if=\"containersUsingVolume.length > 0\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-cubes\" title-text=\"Containers using volume\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <thead>\\n            <th>Container Name</th>\\n            <th>Mounted At</th>\\n            <th>Read-only</th>\\n          </thead>\\n          <tbody>\\n            <tr ng-repeat=\"container in containersUsingVolume\">\\n              <td\\n                ><a ui-sref=\"docker.containers.container({ id: container.Id, nodeName: container.NodeName })\">{{ container | containername }}</a></td\\n              >\\n              <td>{{ container.volumeData.Destination }}</td>\\n              <td>{{ !container.volumeData.RW }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},95290:function(e){var t=\"app/docker/views/volumes/volumes.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Volume list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.volumes\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Volumes</rd-header-content>\\n</rd-header>\\n<information-panel-offline ng-if=\"offlineMode\"></information-panel-offline>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <volumes-datatable\\n      title-text=\"Volumes\"\\n      title-icon=\"fa-hdd\"\\n      dataset=\"volumes\"\\n      table-key=\"volumes\"\\n      order-by=\"Id\"\\n      remove-action=\"removeAction\"\\n      show-host-column=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\"\\n      show-browse-action=\"showBrowseAction\"\\n      offline-mode=\"offlineMode\"\\n      refresh-callback=\"getVolumes\"\\n    ></volumes-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},31140:function(e){var t=\"app/edge/components/associated-endpoints-datatable/associatedEndpointsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          auto-focus\\n          placeholder=\"Search...\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'GroupName\\')\">\\n                  Group\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'GroupName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'GroupName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in $ctrl.state.filteredDataSet | itemsPerPage: $ctrl.state.paginatedItemLimit\"\\n              total-items=\"$ctrl.state.totalFilteredDataSet\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span>{{ item.Name }}</span>\\n              </td>\\n\\n              <td>{{ item.GroupName }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.loading\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.state.loading && $ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No environment available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"!$ctrl.state.loading\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" on-page-change=\"$ctrl.onPageChange(newPageNumber, oldPageNumber)\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},18514:function(e){var t=\"app/edge/components/edge-groups-selector/edgeGroupsSelector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'\\x3c!-- on-select/on-remove are called with model because ui-select uses 2-way-binding --\\x3e\\n<ui-select\\n  multiple\\n  ng-model=\"$ctrl.model\"\\n  close-on-select=\"false\"\\n  on-select=\"$ctrl.onChange($ctrl.model)\"\\n  on-remove=\"$ctrl.onChange($ctrl.model)\"\\n  data-cy=\"edgeGroupCreate-edgeGroupsSelector\"\\n>\\n  <ui-select-match placeholder=\"Select one or multiple group(s)\">\\n    <span>\\n      {{ $item.Name }}\\n    </span>\\n  </ui-select-match>\\n  <ui-select-choices repeat=\"item.Id as item in $ctrl.items | filter: { Name: $select.search }\">\\n    <span>\\n      {{ item.Name }}\\n    </span>\\n  </ui-select-choices>\\n</ui-select>\\n')}]),e.exports=t},7422:function(e){var t=\"app/edge/components/edge-job-form/edgeJobForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" name=\"edgeJobForm\">\\n  <div class=\"col-sm-12 form-section-title\"> Edge job configuration </div>\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"edgejob_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n    <div class=\"col-sm-11\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        ng-model=\"$ctrl.model.Name\"\\n        ng-pattern=\"/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/\"\\n        id=\"edgejob_name\"\\n        name=\"edgejob_name\"\\n        placeholder=\"backup-app-prod\"\\n        required\\n        auto-focus\\n      />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"edgeJobForm.edgejob_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"edgeJobForm.edgejob_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        <p ng-message=\"pattern\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Allowed characters are: [a-zA-Z0-9_.-]</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n  \\x3c!-- cron-input --\\x3e\\n  \\x3c!-- edge-job-method-select --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Edge job configuration </div>\\n  <div class=\"form-group\"></div>\\n  <div class=\"form-group\" style=\"margin-bottom: 0\">\\n    <div class=\"boxselector_wrapper\">\\n      <div>\\n        <input type=\"radio\" id=\"config_basic\" ng-model=\"$ctrl.formValues.cronMethod\" value=\"basic\" />\\n        <label for=\"config_basic\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-calendar-alt\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            Basic configuration\\n          </div>\\n          <p>Select date from calendar</p>\\n        </label>\\n      </div>\\n      <div>\\n        <input type=\"radio\" id=\"config_advanced\" ng-model=\"$ctrl.formValues.cronMethod\" value=\"advanced\" />\\n        <label for=\"config_advanced\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-edit\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            Advanced configuration\\n          </div>\\n          <p>Write your own cron rule</p>\\n        </label>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !edge-job-method-select --\\x3e\\n  \\x3c!-- basic-edge-job --\\x3e\\n  <div ng-if=\"$ctrl.formValues.cronMethod === \\'basic\\'\">\\n    <div class=\"form-group\">\\n      <label for=\"recurring\" class=\"col-sm-2 control-label text-left\">Recurring Edge job</label>\\n      <div class=\"col-sm-10\">\\n        <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" name=\"recurring\" ng-model=\"$ctrl.model.Recurring\" /><i></i> </label>\\n      </div>\\n    </div>\\n    \\x3c!-- not-recurring --\\x3e\\n    <div ng-if=\"!$ctrl.model.Recurring\">\\n      <div class=\"form-group\">\\n        <label for=\"edgejob_cron\" class=\"col-sm-2 control-label text-left\">Schedule date</label>\\n        <div class=\"col-sm-10\">\\n          <input class=\"form-control\" moment-picker ng-model=\"$ctrl.formValues.datetime\" format=\"YYYY-MM-DD HH:mm\" />\\n        </div>\\n        <div class=\"col-sm-12 small text-muted\" style=\"margin-top: 10px\"> Time should be set according to the chosen environments\\' timezone. </div>\\n        <div ng-show=\"edgeJobForm.datepicker.$invalid\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div ng-messages=\"edgeJobForm.datepicker.$error\">\\n              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !not-recurring --\\x3e\\n    \\x3c!-- recurring --\\x3e\\n    <div ng-if=\"$ctrl.model.Recurring\">\\n      <div class=\"form-group\">\\n        <label for=\"edgejob_value\" class=\"col-sm-2 control-label text-left\">Edge job time</label>\\n        <div class=\"col-sm-10\">\\n          <select\\n            id=\"edgejob_value\"\\n            name=\"edgejob_value\"\\n            class=\"form-control\"\\n            ng-model=\"$ctrl.formValues.scheduleValue\"\\n            ng-options=\"value.displayed for value in $ctrl.scheduleValues\"\\n            required\\n          ></select>\\n        </div>\\n        <div ng-show=\"edgeJobForm.edgejob_value.$invalid\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div ng-messages=\"edgeJobForm.edgejob_value.$error\">\\n              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !recurring --\\x3e\\n  </div>\\n  \\x3c!-- !basic-edge-job --\\x3e\\n  \\x3c!-- advanced-schedule --\\x3e\\n  <div ng-if=\"$ctrl.formValues.cronMethod === \\'advanced\\'\">\\n    <div class=\"form-group\">\\n      <label for=\"edgejob_cron\" class=\"col-sm-2 control-label text-left\">Cron rule</label>\\n      <div class=\"col-sm-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          ng-model=\"$ctrl.model.CronExpression\"\\n          id=\"edgejob_cron\"\\n          name=\"edgejob_cron\"\\n          placeholder=\"0 2 * * *\"\\n          required\\n          ng-pattern=\"$ctrl.cronRegex\"\\n        />\\n      </div>\\n      <div class=\"col-sm-12 small text-muted\" style=\"margin-top: 10px\"> Time should be set according to the chosen environments\\' timezone. </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"edgeJobForm.edgejob_cron.$invalid && edgeJobForm.edgejob_cron.$dirty\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"edgeJobForm.edgejob_cron.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n          <p ng-message=\"pattern\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field format is invalid.</p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !advanced-schedule --\\x3e\\n\\n  \\x3c!-- execution-method --\\x3e\\n  <div ng-if=\"!$ctrl.model.Id\">\\n    <div class=\"col-sm-12 form-section-title\"> Job content </div>\\n    <div class=\"form-group\"></div>\\n    <div class=\"form-group\" style=\"margin-bottom: 0\">\\n      <div class=\"boxselector_wrapper\">\\n        <div>\\n          <input type=\"radio\" id=\"method_editor\" ng-model=\"$ctrl.formValues.method\" value=\"editor\" />\\n          <label for=\"method_editor\">\\n            <div class=\"boxselector_header\">\\n              <i class=\"fa fa-edit\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              Web editor\\n            </div>\\n            <p>Use our Web editor</p>\\n          </label>\\n        </div>\\n        <div>\\n          <input type=\"radio\" id=\"method_upload\" ng-model=\"$ctrl.formValues.method\" value=\"upload\" />\\n          <label for=\"method_upload\">\\n            <div class=\"boxselector_header\">\\n              <i class=\"fa fa-upload\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              Upload\\n            </div>\\n            <p>Upload from your computer</p>\\n          </label>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !execution-method --\\x3e\\n  \\x3c!-- web-editor --\\x3e\\n  <div ng-show=\"$ctrl.formValues.method === \\'editor\\'\">\\n    <div class=\"col-sm-12 form-section-title\"> Web editor </div>\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12\">\\n        <code-editor\\n          identifier=\"execute-edge-job-editor\"\\n          placeholder=\"# Define or paste the content of your script file here\"\\n          on-change=\"($ctrl.editorUpdate)\"\\n          value=\"$ctrl.model.FileContent\"\\n        ></code-editor>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !web-editor --\\x3e\\n  \\x3c!-- upload --\\x3e\\n  <div ng-show=\"$ctrl.formValues.method === \\'upload\\'\">\\n    <div class=\"col-sm-12 form-section-title\"> Upload </div>\\n    <div class=\"form-group\">\\n      <span class=\"col-sm-12 text-muted small\"> You can upload a script file from your computer. </span>\\n    </div>\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12\">\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.model.File\">Select file</button>\\n        <span style=\"margin-left: 5px\">\\n          {{ $ctrl.model.File.name }}\\n          <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.model.File\" aria-hidden=\"true\"></i>\\n        </span>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !upload --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Target environments </div>\\n  \\x3c!-- node-selection --\\x3e\\n  <associated-endpoints-selector\\n    endpoint-ids=\"$ctrl.model.Endpoints\"\\n    tags=\"$ctrl.tags\"\\n    groups=\"$ctrl.groups\"\\n    has-backend-pagination=\"true\"\\n    on-associate=\"($ctrl.associateEndpoint)\"\\n    on-dissociate=\"($ctrl.dissociateEndpoint)\"\\n  ></associated-endpoints-selector>\\n  \\x3c!-- !node-selection --\\x3e\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"button\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !edgeJobForm.$valid\\n        || $ctrl.model.Endpoints.length === 0\\n        || ($ctrl.formValues.method === \\'upload\\' && !$ctrl.model.File)\\n        || ($ctrl.formValues.method === \\'editor\\' && !$ctrl.model.FileContent)\\n        \"\\n        ng-click=\"$ctrl.action()\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n      <span class=\"text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px\">\\n        {{ $ctrl.state.formValidationError }}\\n      </span>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=t},88832:function(e){var t=\"app/edge/components/edge-job-results-datatable/edgeJobResultsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable edge-job-results-datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\">\\n          <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          {{ $ctrl.titleText }}\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input type=\"text\" class=\"searchInput\" ng-model=\"$ctrl.state.textFilter\" placeholder=\"Search...\" auto-focus ng-model-options=\"{ debounce: 300 }\" />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover table-filters nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Endpoint\\')\">\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Endpoint\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Endpoint\\' && $ctrl.state.reverseOrder\"></i>\\n                  Environment\\n                </a>\\n              </th>\\n              <th> Actions </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n            >\\n              <td>\\n                {{ item.Endpoint.Name }}\\n              </td>\\n              <td>\\n                <button ng-if=\"item.LogsStatus === 0 || item.LogsStatus === 1\" class=\"btn btn-sm btn-primary\" ng-click=\"$ctrl.collectLogs(item.EndpointId)\"> Retrieve logs </button>\\n                <button ng-if=\"item.LogsStatus === 3\" class=\"btn btn-sm btn-primary\" ng-click=\"$ctrl.onDownloadLogsClick(item.EndpointId)\"> Download logs </button>\\n                <button ng-if=\"item.LogsStatus === 3\" class=\"btn btn-sm btn-primary\" ng-click=\"$ctrl.onClearLogsClick(item.EndpointId)\"> Clear logs </button>\\n                <span ng-if=\"item.LogsStatus === 2\"> Logs marked for collection, please wait until the logs are available. </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"9\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"9\" class=\"text-center text-muted\">No result available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},14186:function(e){var t=\"app/edge/components/edge-jobs-datatable/edgeJobsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"edge.jobs.new\"> <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add Edge job </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input type=\"text\" class=\"searchInput\" ng-model=\"$ctrl.state.textFilter\" placeholder=\"Search...\" auto-focus ng-model-options=\"{ debounce: 300 }\" />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CronExpression\\')\">\\n                  Cron expression\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CronExpression\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CronExpression\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Created\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Created\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Created\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"edge.jobs.job({id: item.Id})\">{{ item.Name }}</a>\\n              </td>\\n              <td>\\n                {{ item.CronExpression }}\\n              </td>\\n              <td>{{ item.Created | getisodatefromtimestamp }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No Edge job available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},23423:function(e){var t=\"app/edge/components/edge-stack-deployment-type-selector/edge-stack-deployment-type-selector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\"> Deployment type </div>\\n<box-selector radio-name=\"\\'deploymentType\\'\" value=\"$ctrl.value\" options=\"$ctrl.deploymentOptions\" on-change=\"($ctrl.onChange)\"></box-selector>\\n')}]),e.exports=t},77656:function(e){var t=\"app/edge/components/edge-stack-endpoints-datatable/edgeStackEndpointsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          auto-focus\\n          placeholder=\"Search...\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Error\\')\">\\n                  Error\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Error\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Error\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in $ctrl.state.filteredDataSet | itemsPerPage: $ctrl.state.paginatedItemLimit\"\\n              total-items=\"$ctrl.state.totalFilteredDataSet\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>{{ item.Name }}</td>\\n              <td>{{ $ctrl.statusMap[item.Status.Type] || \\'Pending\\' }}</td>\\n              <td>{{ item.Status.Error ? item.Status.Error : \\'-\\' }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.loading\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.state.loading && $ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No environment available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"!$ctrl.state.loading\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" on-page-change=\"$ctrl.onPageChange(newPageNumber, oldPageNumber)\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},53501:function(e){var t=\"app/edge/components/edge-stack-status/edgeStackStatus.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<span class=\"status\" title=\"Acknowledged environments\"><i class=\"acknowledged icon\"></i>{{ $ctrl.status.acknowledged || 0 }}</span>\\n<span class=\"status\" title=\"Successful environments\"><i class=\"ok icon\"></i>{{ $ctrl.status.ok || 0 }}</span>\\n<span class=\"status\" title=\"Failed environments\"><i class=\"error icon\"></i>{{ $ctrl.status.error || 0 }}</span>\\n')}]),e.exports=t},3942:function(e){var t=\"app/edge/components/edge-stacks-datatable/edgeStacksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\">\\n          <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          Edge Stacks\\n        </div>\\n        <div class=\"settings\" data-cy=\"edgeStack-stackTableSettings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle> <i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings </span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input\\n                        id=\"setting_auto_refresh\"\\n                        type=\"checkbox\"\\n                        ng-model=\"$ctrl.settings.repeater.autoRefresh\"\\n                        ng-change=\"$ctrl.onSettingsRepeaterChange()\"\\n                        data-cy=\"edgeStack-autoRefreshCheckbox\"\\n                      />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\"> Close </a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"edgeStack-removeStackButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"edge.stacks.new\" data-cy=\"edgeStack-addStackButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add stack\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"edgeStack-stackTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" data-cy=\"edgeStack-selectAllCheckbox\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th> Status </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreationDate\\')\">\\n                  Creation Date\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"!$ctrl.allowSelection(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"edge.stacks.edit({ stackId: item.Id })\">\\n                  {{ item.Name }}\\n                </a>\\n              </td>\\n              <td><edge-stack-status stack-status=\"item.Status\"></edge-stack-status></td>\\n              <td>{{ item.CreationDate | getisodatefromtimestamp }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\" data-cy=\"edgeStack-loadingRow\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\" data-cy=\"edgeStack-noStackRow\">\\n              <td colspan=\"4\" class=\"text-center text-muted\"> No stack available. </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},51367:function(e){var t=\"app/edge/components/edit-edge-stack-form/editEdgeStackForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\">\\n  <div class=\"col-sm-12 form-section-title\"> Edge Groups </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <edge-groups-selector model=\"$ctrl.model.EdgeGroups\" items=\"$ctrl.edgeGroups\" on-change=\"($ctrl.onChangeGroups)\"></edge-groups-selector>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\" ng-if=\"!$ctrl.validateEndpointsForDeployment()\">\\n    <div class=\"col-sm-12\">\\n      <div class=\"small text-muted space-right text-warning\">\\n        <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i>\\n        One or more of the selected Edge group contains Edge Docker endpoints that cannot be used with a Kubernetes Edge stack.\\n      </div>\\n    </div>\\n  </div>\\n\\n  <edge-stack-deployment-type-selector\\n    value=\"$ctrl.model.DeploymentType\"\\n    has-docker-endpoint=\"$ctrl.hasDockerEndpoint\"\\n    on-change=\"($ctrl.onChangeDeploymentType)\"\\n  ></edge-stack-deployment-type-selector>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.model.DeploymentType === 0 && $ctrl.hasKubeEndpoint()\">\\n    <div class=\"col-sm-12\">\\n      <div class=\"small text-muted space-right\">\\n        <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i>\\n        Portainer uses <a href=\"https://kompose.io/\" target=\"_blank\">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that not all the\\n        Compose format options are supported by Kompose at the moment.\\n      </div>\\n    </div>\\n  </div>\\n\\n  <web-editor-form\\n    ng-if=\"$ctrl.model.DeploymentType === 0\"\\n    value=\"$ctrl.model.StackFileContent\"\\n    yml=\"true\"\\n    identifier=\"compose-editor\"\\n    placeholder=\"# Define or paste the content of your docker-compose file here\"\\n    on-change=\"($ctrl.onChangeComposeConfig)\"\\n  >\\n    <editor-description>\\n      <div>\\n        You can get more information about Compose file format in the\\n        <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\"> official documentation </a>\\n        .\\n      </div>\\n    </editor-description>\\n  </web-editor-form>\\n\\n  <web-editor-form\\n    ng-if=\"$ctrl.model.DeploymentType === 1\"\\n    value=\"$ctrl.model.StackFileContent\"\\n    yml=\"true\"\\n    identifier=\"kube-manifest-editor\"\\n    placeholder=\"# Define or paste the content of your manifest here\"\\n    on-change=\"($ctrl.onChangeKubeManifest)\"\\n  >\\n    <editor-description>\\n      <p>\\n        You can get more information about Kubernetes file format in the\\n        <a href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/\" target=\"_blank\">official documentation</a>.\\n      </p>\\n    </editor-description>\\n  </web-editor-form>\\n\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"button\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !$ctrl.isFormValid()\"\\n        ng-click=\"$ctrl.submitAction()\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">Update the stack</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">Update in progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=t},68393:function(e){var t=\"app/edge/components/group-form/groupForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" name=\"EdgeGroupForm\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"form-group\">\\n    <label for=\"group_name\" class=\"col-sm-3 col-lg-2 control-label text-left\"> Name </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"group_name\" name=\"group_name\" ng-model=\"$ctrl.model.Name\" required auto-focus data-cy=\"edgeGroupCreate-groupNameInput\" />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"EdgeGroupForm.group_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"EdgeGroupForm.group_name.$error\">\\n        <p ng-message=\"required\">\\n          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n          This field is required.\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"col-sm-12 form-section-title\"> Group type </div>\\n  <div class=\"form-group col-sm-12\">\\n    <div class=\"boxselector_wrapper\">\\n      <div class=\"boxselector\">\\n        <input type=\"radio\" id=\"static-group\" ng-model=\"$ctrl.model.Dynamic\" ng-value=\"false\" ng-checked=\"!$ctrl.model.Dynamic\" />\\n        <label for=\"static-group\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-list-ol\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            Static\\n          </div>\\n          <p>Manually select Edge environments</p>\\n        </label>\\n      </div>\\n      <div class=\"boxselector\">\\n        <input type=\"radio\" id=\"dynamic-group\" ng-model=\"$ctrl.model.Dynamic\" ng-value=\"true\" ng-checked=\"$ctrl.model.Dynamic\" />\\n        <label for=\"dynamic-group\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-tags\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            Dynamic\\n          </div>\\n          <p>Automatically associate environments via tags</p>\\n        </label>\\n      </div>\\n    </div>\\n  </div>\\n\\n  \\x3c!-- StaticGroup --\\x3e\\n  <div ng-if=\"!$ctrl.model.Dynamic\">\\n    <div ng-if=\"!$ctrl.noEndpoints\">\\n      \\x3c!-- environments --\\x3e\\n      <div class=\"col-sm-12 form-section-title\"> Associated environments </div>\\n      <div class=\"form-group\">\\n        <associated-endpoints-selector\\n          endpoint-ids=\"$ctrl.model.Endpoints\"\\n          tags=\"$ctrl.tags\"\\n          groups=\"$ctrl.groups\"\\n          has-backend-pagination=\"true\"\\n          on-associate=\"($ctrl.associateEndpoint)\"\\n          on-dissociate=\"($ctrl.dissociateEndpoint)\"\\n        ></associated-endpoints-selector>\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-if=\"$ctrl.noEndpoints\">\\n      <div class=\"col-sm-12 small text-muted\">\\n        No Edge environments are available. Head over to the <a ui-sref=\"portainer.endpoints\">Environments view</a> to add environments.\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !StaticGroup --\\x3e\\n\\n  \\x3c!-- DynamicGroup --\\x3e\\n  <div ng-if=\"$ctrl.model.Dynamic\">\\n    <div class=\"col-sm-12 form-section-title\"> Tags </div>\\n    <div ng-if=\"$ctrl.tags.length\" class=\"form-group col-sm-12\">\\n      <div class=\"boxselector_wrapper\">\\n        <div class=\"boxselector\">\\n          <input type=\"radio\" id=\"or-selector\" ng-model=\"$ctrl.model.PartialMatch\" ng-value=\"true\" ng-checked=\"$ctrl.model.PartialMatch\" />\\n          <label for=\"or-selector\">\\n            <div class=\"boxselector_header\">\\n              <i class=\"fa fa-tag\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              Partial match\\n            </div>\\n            <p>Associate any environment matching at least one of the selected tags</p>\\n          </label>\\n        </div>\\n        <div class=\"boxselector\">\\n          <input type=\"radio\" id=\"and-selector\" ng-model=\"$ctrl.model.PartialMatch\" ng-value=\"false\" ng-checked=\"!$ctrl.model.PartialMatch\" />\\n          <label for=\"and-selector\">\\n            <div class=\"boxselector_header\">\\n              <i class=\"fa fa-tag\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              Full match\\n            </div>\\n            <p>Associate any environment matching all of the selected tags</p>\\n          </label>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <tag-selector ng-if=\"$ctrl.model.TagIds\" value=\"$ctrl.model.TagIds\" on-change=\"($ctrl.onChangeTags)\"> </tag-selector>\\n\\n    <div class=\"col-sm-12 form-section-title\"> Associated environments by tags </div>\\n    <div class=\"col-sm-12 form-group\">\\n      <group-association-table\\n        loaded=\"$ctrl.loaded\"\\n        page-type=\"$ctrl.pageType\"\\n        table-type=\"associated\"\\n        retrieve-page=\"$ctrl.getDynamicEndpoints\"\\n        dataset=\"$ctrl.endpoints.value\"\\n        pagination-state=\"$ctrl.endpoints.state\"\\n        empty-dataset-message=\"No associated endpoint\"\\n        tags=\"$ctrl.tags\"\\n        show-tags=\"true\"\\n        groups=\"$ctrl.groups\"\\n        show-groups=\"true\"\\n        has-backend-pagination=\"true\"\\n      ></group-association-table>\\n    </div>\\n  </div>\\n  \\x3c!-- !DynamicGroup --\\x3e\\n\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !EdgeGroupForm.$valid || (!$ctrl.model.Dynamic && !$ctrl.model.Endpoints.length) || ($ctrl.model.Dynamic && !$ctrl.model.TagIds.length)\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        data-cy=\"edgeGroupCreate-addGroupButton\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n</form>\\n')}]),e.exports=t},48384:function(e){var t=\"app/edge/components/groups-datatable/groupsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"{{ $ctrl.titleIcon }}\" title-text=\"Edge Groups\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"edgeGroup-removeEdgeGroupButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"edge.groups.new\" data-cy=\"edgeGroup-addEdgeGroupButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add Edge group\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"edgeGroup-searchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"edgeGroup-edgeGroupTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" data-cy=\"edgeGroup-selectAllCheckbox\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Endpoints.length\\')\">\\n                  Environments Count\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Endpoints.length\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Endpoints.length\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Dynamic\\')\">\\n                  Group Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Dynamic\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Dynamic\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-disabled=\"item.HasEdgeStack\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"edge.groups.edit({groupId: item.Id})\">{{ item.Name }}</a>\\n                <span ng-if=\"item.HasEdgeStack\" class=\"label label-info image-tag space-left\">in use</span>\\n              </td>\\n              <td>{{ item.Endpoints.length }}</td>\\n              <td>{{ item.Dynamic ? \\'Dynamic\\' : \\'Static\\' }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"4\" class=\"text-center text-muted\"> No Edge group available. </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},4690:function(e){var t=\"app/edge/views/edge-groups/createEdgeGroupView/createEdgeGroupView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create edge group\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"edge.groups\">Edge groups</a> &gt; Add edge group </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <edge-group-form\\n          loaded=\"$ctrl.state.loaded\"\\n          page-type=\"create\"\\n          form-action-label=\"Add edge group\"\\n          form-action=\"$ctrl.createGroup\"\\n          groups=\"$ctrl.endpointGroups\"\\n          model=\"$ctrl.model\"\\n        ></edge-group-form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},52934:function(e){var t=\"app/edge/views/edge-groups/edgeGroupsView/edgeGroupsView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Edge Groups\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"edge.groups\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Edge Groups</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <edge-groups-datatable title-icon=\"fa-object-group\" table-key=\"EdgeGroups\" order-by=\"Name\" dataset=\"$ctrl.items\" remove-action=\"$ctrl.removeAction\"></edge-groups-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},25575:function(e){var t=\"app/edge/views/edge-groups/editEdgeGroupView/editEdgeGroupView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Edit edge group\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"edge.groups\">Edge Groups</a> &gt; {{ $ctrl.model.Name }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"$ctrl.model\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <edge-group-form\\n          loaded=\"$ctrl.state.loaded\"\\n          page-type=\"edit\"\\n          form-action-label=\"Save edge group\"\\n          form-action=\"$ctrl.updateGroup\"\\n          endpoints=\"$ctrl.endpoints\"\\n          groups=\"$ctrl.endpointGroups\"\\n          model=\"$ctrl.model\"\\n        ></edge-group-form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},4913:function(e){var t=\"app/edge/views/edge-jobs/createEdgeJobView/createEdgeJobView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create Edge job\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"edge.jobs\">Edge Jobs</a> &gt; Create Edge job </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <edge-job-form\\n          model=\"$ctrl.model\"\\n          groups=\"$ctrl.groups\"\\n          tags=\"$ctrl.tags\"\\n          form-action=\"$ctrl.create\"\\n          form-action-label=\"Create edge job\"\\n          action-in-progress=\"$ctrl.state.actionInProgress\"\\n          is-editor-dirty=\"$ctrl.state.isEditorDirty\"\\n        ></edge-job-form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},14399:function(e){var t=\"app/edge/views/edge-jobs/edgeJob/edgeJob.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Edge job details\">\\n    <a data-toggle=\"tooltip\" title-text=\"Refresh\" ui-sref=\"edge.jobs.job({id: $ctrl.edgeJob.Id, tab: $ctrl.state.activeTab})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"edge.jobs\">Edge jobs</a> &gt; {{ ::$ctrl.edgeJob.Name }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <uib-tabset active=\"$ctrl.state.activeTab\">\\n          <uib-tab index=\"0\" select=\"$ctrl.showEditor()\">\\n            <uib-tab-heading> <i class=\"fa fa-wrench\" aria-hidden=\"true\"></i> Configuration </uib-tab-heading>\\n\\n            <edge-job-form\\n              ng-if=\"$ctrl.edgeJob && $ctrl.state.showEditorTab\"\\n              model=\"$ctrl.edgeJob\"\\n              endpoints=\"endpoints\"\\n              groups=\"$ctrl.groups\"\\n              tags=\"$ctrl.tags\"\\n              form-action=\"$ctrl.update\"\\n              form-action-label=\"Update Edge job\"\\n              action-in-progress=\"$ctrl.state.actionInProgress\"\\n              is-editor-dirty=\"$ctrl.state.isEditorDirty\"\\n            ></edge-job-form>\\n          </uib-tab>\\n\\n          <uib-tab index=\"1\">\\n            <uib-tab-heading> <i class=\"fa fa-tasks\" aria-hidden=\"true\"></i> Results </uib-tab-heading>\\n\\n            <edge-job-results-datatable\\n              style=\"display: block; margin-top: 10px\"\\n              ng-if=\"$ctrl.results\"\\n              title-text=\"Results\"\\n              title-icon=\"fa-tasks\"\\n              dataset=\"$ctrl.results\"\\n              table-key=\"edge-job-results\"\\n              order-by=\"Status\"\\n              reverse-order=\"true\"\\n              refresh-callback=\"$ctrl.refresh\"\\n              on-download-logs-click=\"($ctrl.downloadLogs)\"\\n              on-collect-logs-click=\"($ctrl.collectLogs)\"\\n              on-clear-logs-click=\"($ctrl.clearLogs)\"\\n            ></edge-job-results-datatable>\\n          </uib-tab>\\n        </uib-tabset>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},53684:function(e){var t=\"app/edge/views/edge-jobs/edgeJobsView/edgeJobsView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Edge Jobs\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"edge.jobs\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Edge Jobs</rd-header-content>\\n</rd-header>\\n\\n<beta-panel></beta-panel>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <edge-jobs-datatable\\n      title-text=\"Edge jobs\"\\n      title-icon=\"fa-clock\"\\n      dataset=\"$ctrl.edgeJobs\"\\n      table-key=\"edgeJobs\"\\n      order-by=\"Name\"\\n      remove-action=\"$ctrl.removeAction\"\\n    ></edge-jobs-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},71818:function(e){var t=\"app/edge/views/edge-stacks/createEdgeStackView/create-edge-stack-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create Edge stack\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"edge.stacks\">Edge Stacks</a> &gt; Create Edge stack </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"$ctrl.form\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"stack_name\" class=\"col-sm-1 control-label text-left\"> Name </label>\\n            <div class=\"col-sm-11\">\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                ng-model=\"$ctrl.formValues.Name\"\\n                id=\"stack_name\"\\n                name=\"nameField\"\\n                placeholder=\"e.g. mystack\"\\n                auto-focus\\n                required\\n                data-cy=\"edgeStackCreate-nameInput\"\\n              />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n\\n          <div class=\"col-sm-12 form-section-title\"> Edge Groups </div>\\n          <div class=\"form-group\" ng-if=\"$ctrl.edgeGroups\">\\n            <div class=\"col-sm-12\">\\n              <edge-groups-selector ng-if=\"!$ctrl.noGroups\" model=\"$ctrl.formValues.Groups\" on-change=\"($ctrl.onChangeGroups)\" items=\"$ctrl.edgeGroups\"></edge-groups-selector>\\n            </div>\\n            <div ng-if=\"$ctrl.noGroups\" class=\"col-sm-12 small text-muted\">\\n              No Edge groups are available. Head over to the <a ui-sref=\"edge.groups\">Edge groups view</a> to create one.\\n            </div>\\n          </div>\\n\\n          <edge-stack-deployment-type-selector\\n            value=\"$ctrl.formValues.DeploymentType\"\\n            has-docker-endpoint=\"$ctrl.hasDockerEndpoint\"\\n            on-change=\"($ctrl.onChangeDeploymentType)\"\\n          ></edge-stack-deployment-type-selector>\\n\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <div class=\"small text-muted space-right\" ng-if=\"$ctrl.formValues.DeploymentType === 0 && $ctrl.hasKubeEndpoint()\">\\n                <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i>\\n                Portainer uses <a href=\"https://kompose.io/\" target=\"_blank\">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that not all\\n                the Compose format options are supported by Kompose at the moment.\\n              </div>\\n            </div>\\n          </div>\\n\\n          <edge-stacks-docker-compose-form ng-if=\"$ctrl.formValues.DeploymentType == 0\" form-values=\"$ctrl.formValues\" state=\"$ctrl.state\"></edge-stacks-docker-compose-form>\\n\\n          <edge-stacks-kube-manifest-form ng-if=\"$ctrl.formValues.DeploymentType == 1\" form-values=\"$ctrl.formValues\" state=\"$ctrl.state\"></edge-stacks-kube-manifest-form>\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.state.actionInProgress || $ctrl.formIsInvalid()\"\\n                ng-click=\"$ctrl.createStack()\"\\n                button-spinner=\"$ctrl.state.actionInProgress\"\\n                analytics-on\\n                analytics-event=\"edge-stack-creation\"\\n                analytics-category=\"edge\"\\n                analytics-properties=\"$ctrl.buildAnalyticsProperties()\"\\n                data-cy=\"edgeStackCreate-createStackButton\"\\n              >\\n                <span ng-hide=\"$ctrl.state.actionInProgress\">Deploy the stack</span>\\n                <span ng-show=\"$ctrl.state.actionInProgress\">Deployment in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px\">\\n                {{ $ctrl.state.formValidationError }}\\n              </span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},2892:function(e){var t=\"app/edge/views/edge-stacks/createEdgeStackView/docker-compose-form/docker-compose-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\"> Build method </div>\\n<box-selector radio-name=\"\\'method\\'\" value=\"$ctrl.state.Method\" options=\"$ctrl.methodOptions\" on-change=\"($ctrl.onChangeMethod)\"></box-selector>\\n\\n<web-editor-form\\n  ng-if=\"$ctrl.state.Method === \\'editor\\'\"\\n  identifier=\"stack-creation-editor\"\\n  value=\"$ctrl.formValues.StackFileContent\"\\n  on-change=\"($ctrl.onChangeFileContent)\"\\n  ng-required=\"true\"\\n  yml=\"true\"\\n  placeholder=\"# Define or paste the content of your docker-compose file here\"\\n>\\n  <editor-description>\\n    You can get more information about Compose file format in the\\n    <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\"> official documentation </a>\\n    .\\n  </editor-description>\\n</web-editor-form>\\n\\n<file-upload-form ng-if=\"$ctrl.state.Method === \\'upload\\'\" file=\"$ctrl.formValues.StackFile\" on-change=\"($ctrl.onChangeFile)\" ng-required=\"true\">\\n  <file-upload-description> You can upload a Compose file from your computer. </file-upload-description>\\n</file-upload-form>\\n\\n<git-form ng-if=\"$ctrl.state.Method === \\'repository\\'\" model=\"$ctrl.formValues\" on-change=\"($ctrl.onChangeFormValues)\"></git-form>\\n\\n\\x3c!-- template --\\x3e\\n<div ng-if=\"$ctrl.state.Method === \\'template\\'\">\\n  <div class=\"form-group\">\\n    <label for=\"stack_template\" class=\"col-sm-1 control-label text-left\"> Template </label>\\n    <div class=\"col-sm-11\">\\n      <select\\n        class=\"form-control\"\\n        ng-model=\"$ctrl.selectedTemplate\"\\n        ng-options=\"template as template.label for template in $ctrl.templates\"\\n        ng-change=\"$ctrl.onChangeTemplate($ctrl.selectedTemplate)\"\\n      >\\n        <option value=\"\" label=\"Select an Edge stack template\" disabled selected=\"selected\"> </option>\\n      </select>\\n    </div>\\n  </div>\\n  \\x3c!-- description --\\x3e\\n  <div ng-if=\"$ctrl.selectedTemplate.note\">\\n    <div class=\"col-sm-12 form-section-title\"> Information </div>\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12\">\\n        <div class=\"template-note\" ng-bind-html=\"$ctrl.selectedTemplate.note\"></div>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !description --\\x3e\\n\\n  <web-editor-form\\n    ng-if=\"$ctrl.selectedTemplate && $ctrl.formValues.StackFileContent\"\\n    identifier=\"template-content-editor\"\\n    value=\"$ctrl.formValues.StackFileContent\"\\n    on-change=\"($ctrl.onChangeFileContent)\"\\n    yml=\"true\"\\n    placeholder=\"# Define or paste the content of your docker-compose file here\"\\n    ng-required=\"true\"\\n  >\\n  </web-editor-form>\\n\\n  \\x3c!-- !template --\\x3e\\n</div>\\n')}]),e.exports=t},87700:function(e){var t=\"app/edge/views/edge-stacks/createEdgeStackView/kube-deploy-description/kube-deploy-description.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<p>\\n  <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n  This feature allows you to deploy any kind of Kubernetes resource in this environment (Deployment, Secret, ConfigMap...).\\n</p>\\n<p>\\n  You can get more information about Kubernetes file format in the\\n  <a href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/\" target=\"_blank\">official documentation</a>.\\n</p>\\n')}]),e.exports=t},65398:function(e){var t=\"app/edge/views/edge-stacks/createEdgeStackView/kube-manifest-form/kube-manifest-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\"> Build method </div>\\n<box-selector radio-name=\"\\'method\\'\" value=\"$ctrl.state.Method\" options=\"$ctrl.methodOptions\" on-change=\"($ctrl.onChangeMethod)\"></box-selector>\\n\\n<web-editor-form\\n  ng-if=\"$ctrl.state.Method === \\'editor\\'\"\\n  identifier=\"stack-creation-editor\"\\n  value=\"$ctrl.formValues.StackFileContent\"\\n  on-change=\"($ctrl.onChangeFileContent)\"\\n  yml=\"true\"\\n  placeholder=\"# Define or paste the content of your manifest here\"\\n  ng-required=\"true\"\\n>\\n  <editor-description>\\n    <kube-deploy-description></kube-deploy-description>\\n  </editor-description>\\n</web-editor-form>\\n\\n<file-upload-form ng-if=\"$ctrl.state.Method === \\'upload\\'\" file=\"$ctrl.formValues.StackFile\" on-change=\"($ctrl.onChangeFile)\" ng-required=\"true\">\\n  <file-upload-description>\\n    <kube-deploy-description></kube-deploy-description>\\n  </file-upload-description>\\n</file-upload-form>\\n\\n<git-form ng-if=\"$ctrl.state.Method === \\'repository\\'\" deploy-method=\"kubernetes\" model=\"$ctrl.formValues\" on-change=\"($ctrl.onChangeFormValues)\"></git-form>\\n')}]),e.exports=t},51919:function(e){var t=\"app/edge/views/edge-stacks/edgeStacksView/edgeStacksView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Edge Stacks list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"edge.stacks\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Edge Stacks</rd-header-content>\\n</rd-header>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <edge-stacks-datatable\\n      title-text=\"Edge Stacks\"\\n      title-icon=\"fa-th-list\"\\n      dataset=\"$ctrl.stacks\"\\n      table-key=\"edgeStacks\"\\n      order-by=\"Name\"\\n      remove-action=\"$ctrl.removeAction\"\\n      refresh-callback=\"$ctrl.getStacks\"\\n    ></edge-stacks-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},48023:function(e){var t=\"app/edge/views/edge-stacks/editEdgeStackView/editEdgeStackView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Edit Edge stack\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"edge.stacks.edit({stackId:$ctrl.stack.Id, tab: $ctrl.state.activeTab})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"edge.stacks\">Edge Stacks</a> &gt; {{ $ctrl.stack.Name }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"$ctrl.stack\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body classes=\"no-padding\">\\n        <uib-tabset active=\"$ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n          <uib-tab index=\"0\" classes=\"btn-sm\">\\n            <uib-tab-heading> <i class=\"fa fa-layer-group space-right\" aria-hidden=\"true\"></i> Stack</uib-tab-heading>\\n\\n            <div style=\"padding: 20px\">\\n              <edit-edge-stack-form\\n                edge-groups=\"$ctrl.edgeGroups\"\\n                model=\"$ctrl.formValues\"\\n                action-in-progress=\"$ctrl.state.actionInProgress\"\\n                submit-action=\"$ctrl.deployStack\"\\n                is-editor-dirty=\"$ctrl.state.isEditorDirty\"\\n              ></edit-edge-stack-form>\\n            </div>\\n          </uib-tab>\\n          <uib-tab index=\"1\" classes=\"btn-sm\">\\n            <uib-tab-heading> <i class=\"fa fa-plug space-right\" aria-hidden=\"true\"></i> Environments</uib-tab-heading>\\n\\n            <div style=\"margin-top: 25px\">\\n              <edge-stack-endpoints-datatable\\n                title-text=\"Environments Status\"\\n                dataset=\"$ctrl.endpoints\"\\n                title-icon=\"fa-plug\"\\n                table-key=\"edgeStackEndpoints\"\\n                order-by=\"Name\"\\n                retrieve-page=\"$ctrl.getPaginatedEndpoints\"\\n              >\\n              </edge-stack-endpoints-datatable>\\n            </div>\\n          </uib-tab>\\n        </uib-tabset>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},15879:function(e){var t=\"app/kubernetes/components/datatables/application/containers-datatable/containersDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div ng-if=\"$ctrl.refreshCallback\" class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"k8sAppDetail-containerTable\">\\n          <thead>\\n            <tr>\\n              <th ng-if=\"!$ctrl.isPod\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PodName\\')\">\\n                  Pod\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PodName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PodName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ImagePullPolicy\\')\">\\n                  Image Pull Policy\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ImagePullPolicy\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ImagePullPolicy\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Node\\')\">\\n                  Node\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Node\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Node\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IP\\')\">\\n                  Pod IP\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IP\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IP\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreationDate\\')\">\\n                  Creation date\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Actions</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td ng-if=\"!$ctrl.isPod\">{{ item.PodName }}</td>\\n              <td>{{ item.Name }}</td>\\n              <td title=\"{{ item.Image }}\">{{ item.Image | truncate: 64 }}</td>\\n              <td>{{ item.ImagePullPolicy }}</td>\\n              <td\\n                ><span class=\"label label-{{ item.Status | kubernetesPodStatusColor }}\">{{ item.Status }}</span></td\\n              >\\n              <td>\\n                <span ng-if=\"item.Node\">\\n                  <a ui-sref=\"kubernetes.cluster.node({ name: item.Node })\">\\n                    {{ item.Node }}\\n                  </a>\\n                </span>\\n                <span ng-if=\"!item.Node\">-</span>\\n              </td>\\n              <td>{{ item.PodIP }}</td>\\n              <td>{{ item.CreationDate | getisodate }}</td>\\n              <td>\\n                <a\\n                  ng-if=\"item.Status === \\'Running\\' && $ctrl.useServerMetrics\"\\n                  ui-sref=\"kubernetes.applications.application.stats({ pod: item.PodName, container: item.Name })\"\\n                  style=\"margin-right: 10px\"\\n                >\\n                  <i class=\"fa fa-chart-area\" aria-hidden=\"true\"></i> Stats\\n                </a>\\n                <a ui-sref=\"kubernetes.applications.application.logs({ pod: item.PodName, container: item.Name })\"> <i class=\"fa fa-file-alt\" aria-hidden=\"true\"></i> Logs </a>\\n                <a ng-if=\"item.Status === \\'Running\\'\" ui-sref=\"kubernetes.applications.application.console({ pod: item.PodName, container: item.Name })\" style=\"margin-left: 10px\">\\n                  <i class=\"fa fa-terminal\" aria-hidden=\"true\"></i> Console\\n                </a>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">No pod available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},99055:function(e){var t=\"app/kubernetes/components/datatables/applications-datatable-details/applications-datatable-details.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-xs-12 form-section-title\"> Secrets </div>\\n<table style=\"width: 50%\">\\n  <tbody>\\n    <tr>\\n      <td>\\n        <sensitive-details ng-repeat=\"secret in $ctrl.state.secrets\" key=\"{{ secret.key }}\" value=\"{{ secret.value }}\"> </sensitive-details>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),e.exports=t},57257:function(e){var t=\"app/kubernetes/components/datatables/applications-datatable-url/applications-datatable-url.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"published-url-container\">\\n  <div class=\"text-muted\"> Published URL </div>\\n  <a ng-href=\"{{ $ctrl.publishedUrl }}\" target=\"_blank\" class=\"publish-url-link\"> <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> {{ $ctrl.publishedUrl }} </a>\\n</div>\\n')}]),e.exports=t},69333:function(e){var t=\"app/kubernetes/components/datatables/applications-datatable/applicationsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div ng-if=\"$ctrl.isPrimary\" class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <span class=\"small text-muted\" style=\"float: left; margin-top: 5px\" ng-if=\"$ctrl.isAdmin && !$ctrl.settings.showSystem\">\\n          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          System resources are hidden, this can be changed in the table settings.\\n        </span>\\n        <div class=\"settings\" data-cy=\"k8sApp-tableSettings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input id=\"applications_setting_show_system\" type=\"checkbox\" ng-model=\"$ctrl.settings.showSystem\" ng-change=\"$ctrl.onSettingsShowSystemChange()\" />\\n                      <label for=\"applications_setting_show_system\">Show system resources</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input\\n                        id=\"setting_auto_refresh\"\\n                        type=\"checkbox\"\\n                        ng-model=\"$ctrl.settings.repeater.autoRefresh\"\\n                        ng-change=\"$ctrl.onSettingsRepeaterChange()\"\\n                        data-cy=\"k8sApp-autoRefreshCheckbox\"\\n                      />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select\\n                        id=\"settings_refresh_rate\"\\n                        ng-model=\"$ctrl.settings.repeater.refreshRate\"\\n                        ng-change=\"$ctrl.onSettingsRepeaterChange()\"\\n                        class=\"small-select\"\\n                        data-cy=\"k8sApp-refreshRateDropdown\"\\n                      >\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\" data-cy=\"k8sApp-tableSettingsCloseButton\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div ng-if=\"$ctrl.isPrimary\" class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"k8sApp-removeAppButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.applications.new\" data-cy=\"k8sApp-addApplicationButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add application with form\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.deploy\" data-cy=\"k8sApp-deployFromManifestButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Create from manifest\\n        </button>\\n      </div>\\n      <div ng-if=\"$ctrl.isPrimary\" class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"k8sApp-searchApplicationsInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"k8sApp-appTable\">\\n          <thead ng-class=\"{ \\'secondary-heading\\': !$ctrl.isPrimary }\">\\n            <tr>\\n              <th class=\"datatable-wide\">\\n                <span ng-if=\"$ctrl.isPrimary\">\\n                  <span class=\"md-checkbox\">\\n                    <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" data-cy=\"k8sApp-selectAllCheckbox\" />\\n                    <label for=\"select_all\"></label>\\n                  </span>\\n                  <a ng-click=\"$ctrl.expandAll()\">\\n                    <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                  </a>\\n                </span>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourcePool\\')\">\\n                  Namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.filters.state.open\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ApplicationType\\')\">\\n                  Application Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ApplicationType\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ApplicationType\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n                <div>\\n                  <span uib-dropdown-toggle class=\"table-filter\" ng-if=\"!$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-filter\" aria-hidden=\"true\"></i></span>\\n                  <span uib-dropdown-toggle class=\"table-filter filter-active\" ng-if=\"$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-check\" aria-hidden=\"true\"></i></span>\\n                </div>\\n                <div class=\"dropdown-menu\" uib-dropdown-menu>\\n                  <div class=\"tableMenu\">\\n                    <div class=\"menuHeader\"> Filter by application type </div>\\n                    <div class=\"menuContent\">\\n                      <div class=\"md-checkbox\" ng-repeat=\"filter in $ctrl.filters.state.values track by $index\">\\n                        <input id=\"filter_state_{{ $index }}\" type=\"checkbox\" ng-model=\"filter.display\" ng-change=\"$ctrl.onStateFilterChange()\" />\\n                        <label for=\"filter_state_{{ $index }}\">{{ filter.type | kubernetesApplicationTypeText }}</label>\\n                      </div>\\n                    </div>\\n                    <div>\\n                      <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.filters.state.open = false;\">Close</a>\\n                    </div>\\n                  </div>\\n                </div>\\n              </th>\\n              <th> Status </th>\\n              <th> Published </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreationDate\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              ng-click=\"$ctrl.expandItem(item, !$ctrl.isItemExpanded(item))\"\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset  | filter:$ctrl.applyFilters | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              ng-class=\"{ active: item.Checked, interactive: $ctrl.isExpandable(item), \\'secondary-body\\': !$ctrl.isPrimary }\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td>\\n                <span ng-if=\"$ctrl.isPrimary\" class=\"md-checkbox\">\\n                  <input\\n                    id=\"select_{{ $index }}\"\\n                    type=\"checkbox\"\\n                    ng-model=\"item.Checked\"\\n                    ng-click=\"$ctrl.selectItem(item, $event); $event.stopPropagation()\"\\n                    ng-disabled=\"$ctrl.isSystemNamespace(item)\"\\n                  />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ng-if=\"$ctrl.isExpandable(item)\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.isItemExpanded(item), \\'fas fa-angle-right\\': !$ctrl.isItemExpanded(item) }\" class=\"space-right\" aria-hidden=\"true\"></i>\\n                </a>\\n              </td>\\n              <td>\\n                <a ng-if=\"item.KubernetesApplications\" ui-sref=\"kubernetes.helm({ name: item.Name, namespace: item.ResourcePool })\" ng-click=\"$event.stopPropagation()\"\\n                  >{{ item.Name }}\\n                </a>\\n                <a\\n                  ng-if=\"!item.KubernetesApplications\"\\n                  ui-sref=\"kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })\"\\n                  ng-click=\"$event.stopPropagation()\"\\n                  >{{ item.Name }}\\n                </a>\\n                <span class=\"label label-info image-tag label-margins\" ng-if=\"$ctrl.isSystemNamespace(item)\">system</span>\\n                <span class=\"label label-primary image-tag label-margins\" ng-if=\"!$ctrl.isSystemNamespace(item) && $ctrl.isExternalApplication(item)\">external</span>\\n              </td>\\n              <td>{{ item.StackName || \\'-\\' }}</td>\\n              <td>\\n                <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: item.ResourcePool })\" ng-click=\"$event.stopPropagation()\">{{ item.ResourcePool }}</a>\\n              </td>\\n              <td title=\"{{ item.Image }}\"\\n                >{{ item.Image | truncate: 64 }} <span ng-if=\"item.Containers.length > 1\">+ {{ item.Containers.length - 1 }}</span></td\\n              >\\n              <td>{{ item.ApplicationType | kubernetesApplicationTypeText }}</td>\\n              <td ng-if=\"item.ApplicationType !== $ctrl.KubernetesApplicationTypes.POD\">\\n                <status-indicator ok=\"(item.TotalPodsCount > 0 && item.TotalPodsCount === item.RunningPodsCount) || item.Status === \\'Ready\\'\"></status-indicator>\\n                <span ng-if=\"item.DeploymentType === $ctrl.KubernetesApplicationDeploymentTypes.REPLICATED\">Replicated</span>\\n                <span ng-if=\"item.DeploymentType === $ctrl.KubernetesApplicationDeploymentTypes.GLOBAL\">Global</span>\\n                <span ng-if=\"item.RunningPodsCount >= 0 && item.TotalPodsCount >= 0\">\\n                  <code>{{ item.RunningPodsCount }}</code> / <code>{{ item.TotalPodsCount }}</code>\\n                </span>\\n                <span ng-if=\"item.KubernetesApplications\">{{ item.Status }}</span>\\n              </td>\\n              <td ng-if=\"item.ApplicationType === $ctrl.KubernetesApplicationTypes.POD\">\\n                {{ item.Pods[0].Status }}\\n              </td>\\n              <td>\\n                <span>\\n                  {{ item.Services.length === 0 ? \\'No\\' : \\'Yes\\' }}\\n                </span>\\n              </td>\\n              <td>{{ item.CreationDate | getisodate }} {{ item.ApplicationOwner ? \\'by \\' + item.ApplicationOwner : \\'\\' }}</td>\\n            </tr>\\n            <tr dir-paginate-end ng-show=\"$ctrl.isExpandable(item) && $ctrl.isItemExpanded(item)\" ng-class=\"{ \\'secondary-body\\': $ctrl.isPrimary && !item.KubernetesApplications }\">\\n              <td></td>\\n              <td colspan=\"8\" class=\"datatable-padding-vertical\">\\n                <span ng-if=\"item.KubernetesApplications\">\\n                  <kubernetes-applications-datatable\\n                    dataset=\"item.KubernetesApplications\"\\n                    table-key=\"{{ item.Id }}_table\"\\n                    settings-key=\"{{ $ctrl.tableKey }}\"\\n                    order-by=\"Name\"\\n                    remove-action=\"$ctrl.removeAction\"\\n                    refresh-callback=\"$ctrl.refreshCallback\"\\n                    on-publishing-mode-click=\"($ctrl.onPublishingModeClick)\"\\n                    is-primary=\"false\"\\n                  >\\n                  </kubernetes-applications-datatable>\\n                </span>\\n                <span ng-if=\"!item.KubernetesApplications\">\\n                  <kubernetes-applications-datatable-url\\n                    ng-if=\"$ctrl.getPublishedUrl(item)\"\\n                    published-url=\"{{ $ctrl.getPublishedUrl(item) }}\"\\n                  ></kubernetes-applications-datatable-url>\\n                  <kubernetes-applications-datatable-details\\n                    ng-if=\"$ctrl.hasConfigurationSecrets(item)\"\\n                    configurations=\"item.Configurations\"\\n                  ></kubernetes-applications-datatable-details>\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"8\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"8\" class=\"text-center text-muted\">No application available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div ng-if=\"$ctrl.isPrimary\" class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},13181:function(e){var t=\"app/kubernetes/components/datatables/applications-ports-datatable/applicationsPortsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <span class=\"small text-muted\" style=\"float: left; margin-top: 5px\" ng-if=\"$ctrl.isAdmin && !$ctrl.settings.showSystem\">\\n          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          System resources are hidden, this can be changed in the table settings.\\n        </span>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input id=\"ports_setting_show_system\" type=\"checkbox\" ng-model=\"$ctrl.settings.showSystem\" ng-change=\"$ctrl.onSettingsShowSystemChange()\" />\\n                      <label for=\"ports_setting_show_system\">Show system resources</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Application\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th> Publishing mode </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'TargetPort\\')\">\\n                  Exposed port\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'TargetPort\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'TargetPort\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Port\\')\">\\n                  Container port\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Port\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Port\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th> HTTP route </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            \\x3c!-- main rows --\\x3e\\n            \\x3c!-- dir-paginate-start track by $index --\\x3e\\n            <tr\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter: $ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              ng-class=\"{ active: item.Checked, \\'datatable-highlighted\\': item.Highlighted }\"\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              \\x3c!-- expandable --\\x3e\\n              <td>\\n                <a ng-if=\"$ctrl.itemCanExpand(item)\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i>\\n                </a>\\n              </td>\\n              \\x3c!-- Application --\\x3e\\n              <td>\\n                <a ui-sref=\"kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })\">{{ item.Name }}</a>\\n                <span class=\"label label-info image-tag label-margins\" ng-if=\"$ctrl.isSystemNamespace(item)\">system</span>\\n                <span class=\"label label-primary image-tag label-margins\" ng-if=\"!$ctrl.isSystemNamespace(item) && $ctrl.isExternalApplication(item)\">external</span>\\n              </td>\\n              \\x3c!-- Publishing mode --\\x3e\\n              <td>\\n                \\x3c!-- LB --\\x3e\\n                <span ng-if=\"item.ServiceType === $ctrl.KubernetesServiceTypes.LOAD_BALANCER\">\\n                  <span> <i class=\"fa fa-project-diagram\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> LoadBalancer </span>\\n                  <span class=\"text-muted small\" style=\"margin-left: 5px\">\\n                    <span ng-if=\"item.LoadBalancerIPAddress\">{{ item.LoadBalancerIPAddress }}</span>\\n                    <span ng-if=\"!item.LoadBalancerIPAddress\">pending</span>\\n                  </span>\\n                </span>\\n                \\x3c!-- Internal --\\x3e\\n                <span ng-if=\"item.ServiceType === $ctrl.KubernetesServiceTypes.CLUSTER_IP\">\\n                  <i class=\"fa fa-list-alt\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> ClusterIP\\n                </span>\\n                \\x3c!-- Cluster --\\x3e\\n                <span ng-if=\"item.ServiceType === $ctrl.KubernetesServiceTypes.NODE_PORT\"> <i class=\"fa fa-list\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> NodePort </span>\\n              </td>\\n              \\x3c!-- Exposed port --\\x3e\\n              <td>\\n                <span ng-if=\"!$ctrl.itemCanExpand(item)\">\\n                  {{ item.Ports[0].Port }}\\n                  <a ng-if=\"item.LoadBalancerIPAddress\" ng-href=\"http://{{ item.LoadBalancerIPAddress }}:{{ item.Ports[0].Port }}\" target=\"_blank\" style=\"margin-left: 5px\">\\n                    <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> access\\n                  </a>\\n                </span>\\n              </td>\\n              \\x3c!-- Container port --\\x3e\\n              <td>\\n                <span ng-if=\"!$ctrl.itemCanExpand(item)\"> {{ item.Ports[0].TargetPort }}/{{ item.Ports[0].Protocol }} </span>\\n              </td>\\n              \\x3c!-- HTTP route --\\x3e\\n              <td>\\n                <span ng-if=\"!$ctrl.itemCanExpand(item)\">\\n                  <span ng-if=\"!$ctrl.portHasIngressRules(item.Ports[0])\">-</span>\\n                  <span ng-if=\"$ctrl.portHasIngressRules(item.Ports[0])\">\\n                    <span\\n                      ng-if=\"!$ctrl.ruleCanBeDisplayed(item.Ports[0].IngressRules[0])\"\\n                      class=\"text-muted\"\\n                      tooltip-append-to-body=\"true\"\\n                      tooltip-placement=\"bottom\"\\n                      tooltip-class=\"portainer-tooltip\"\\n                      uib-tooltip=\"Ingress controller IP address not available yet\"\\n                      style=\"cursor: pointer\"\\n                      >pending\\n                    </span>\\n                    <span ng-if=\"$ctrl.ruleCanBeDisplayed(item.Ports[0].IngressRules[0])\">\\n                      <a ng-href=\"{{ $ctrl.buildIngressRuleURL(item.Ports[0].IngressRules[0]) }}\" target=\"_blank\">\\n                        {{ $ctrl.buildIngressRuleURL(item.Ports[0].IngressRules[0]) | stripprotocol }}\\n                      </a>\\n                    </span>\\n                  </span>\\n                </span>\\n              </td>\\n            </tr>\\n            \\x3c!-- sub rows --\\x3e\\n            <tr ng-show=\"item.Expanded\" ng-repeat-start=\"port in item.Ports\" ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\">\\n              <td ng-if=\"!$ctrl.portHasIngressRules(port)\"></td>\\n              <td ng-if=\"!$ctrl.portHasIngressRules(port)\">-</td>\\n              <td ng-if=\"!$ctrl.portHasIngressRules(port)\">-</td>\\n              <td ng-if=\"!$ctrl.portHasIngressRules(port)\">\\n                {{ port.Port }}\\n                <a ng-if=\"item.LoadBalancerIPAddress\" ng-href=\"http://{{ item.LoadBalancerIPAddress }}:{{ port.Port }}\" target=\"_blank\" style=\"margin-left: 5px\">\\n                  <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> access\\n                </a>\\n              </td>\\n              <td ng-if=\"!$ctrl.portHasIngressRules(port)\">{{ port.TargetPort }}/{{ port.Protocol }}</td>\\n              <td ng-if=\"!$ctrl.portHasIngressRules(port)\">-</td>\\n            </tr>\\n            <tr\\n              ng-show=\"item.Expanded\"\\n              ng-repeat-end\\n              ng-repeat=\"rule in port.IngressRules\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td></td>\\n              <td>-</td>\\n              <td>-</td>\\n              <td>\\n                {{ port.Port }}\\n                <a ng-if=\"item.LoadBalancerIPAddress\" ng-href=\"http://{{ item.LoadBalancerIPAddress }}:{{ port.Port }}\" target=\"_blank\" style=\"margin-left: 5px\">\\n                  <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> access\\n                </a>\\n              </td>\\n              <td>{{ port.TargetPort }}/{{ port.Protocol }}</td>\\n              <td>\\n                <span\\n                  ng-if=\"!$ctrl.ruleCanBeDisplayed(rule)\"\\n                  class=\"text-muted\"\\n                  tooltip-append-to-body=\"true\"\\n                  tooltip-placement=\"bottom\"\\n                  tooltip-class=\"portainer-tooltip\"\\n                  uib-tooltip=\"Ingress controller IP address not available yet\"\\n                  style=\"cursor: pointer\"\\n                  >pending\\n                </span>\\n                <span ng-if=\"$ctrl.ruleCanBeDisplayed(rule)\">\\n                  <a ng-href=\"{{ $ctrl.buildIngressRuleURL(rule) }}\" target=\"_blank\">\\n                    {{ $ctrl.buildIngressRuleURL(rule) | stripprotocol }}\\n                  </a>\\n                </span>\\n              </td>\\n            </tr>\\n            <tr dir-paginate-end></tr>\\n            \\x3c!-- no dataset --\\x3e\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            \\x3c!-- no values in filtered dataset --\\x3e\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">No application port mapping available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},35558:function(e){var t=\"app/kubernetes/components/datatables/applications-stacks-datatable/applicationsStacksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <span class=\"small text-muted\" style=\"float: left; margin-top: 5px\" ng-if=\"$ctrl.isAdmin && !$ctrl.settings.showSystem\">\\n          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          System resources are hidden, this can be changed in the table settings.\\n        </span>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input id=\"stacks_setting_show_system\" type=\"checkbox\" ng-model=\"$ctrl.settings.showSystem\" ng-change=\"$ctrl.onSettingsShowSystemChange()\" />\\n                      <label for=\"stacks_setting_show_system\">Show system resources</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th style=\"width: 55px\">\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourcePool\\')\">\\n                  Namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Applications.length\\')\">\\n                  Applications\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Applications.length\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Applications.length\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th> Actions </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter: $ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              ng-class=\"{ active: item.Checked, \\'datatable-highlighted\\': item.Highlighted }\"\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input\\n                    id=\"select_{{ $index }}\"\\n                    type=\"checkbox\"\\n                    ng-model=\"item.Checked\"\\n                    ng-click=\"$ctrl.selectItem(item, $event); $event.stopPropagation();\"\\n                    ng-disabled=\"!$ctrl.allowSelection(item)\"\\n                  />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ng-if=\"$ctrl.itemCanExpand(item)\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i>\\n                </a>\\n              </td>\\n              <td>\\n                {{ item.Name }}\\n              </td>\\n              <td>\\n                <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: item.ResourcePool })\" ng-click=\"$event.stopPropagation();\">{{ item.ResourcePool }}</a>\\n                <span class=\"label label-info image-tag label-margins\" ng-if=\"$ctrl.isSystemNamespace(item.ResourcePool)\">system</span>\\n              </td>\\n              <td>{{ item.Applications.length }}</td>\\n              <td>\\n                <a ui-sref=\"kubernetes.stacks.stack.logs({ namespace: item.ResourcePool, name: item.Name })\"> <i class=\"fa fa-file-alt\" aria-hidden=\"true\"></i> Logs </a>\\n              </td>\\n            </tr>\\n            <tr\\n              dir-paginate-end\\n              ng-show=\"item.Expanded\"\\n              ng-repeat=\"app in item.Applications\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td></td>\\n              <td colspan=\"4\">\\n                <a ui-sref=\"kubernetes.applications.application({ name: app.Name, namespace: app.ResourcePool })\">{{ app.Name }}</a>\\n                <span style=\"margin-left: 5px\" class=\"label label-primary image-tag\" ng-if=\"!$ctrl.isSystemNamespace(app.ResourcePool) && $ctrl.isExternalApplication(app)\"\\n                  >external</span\\n                >\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No stack available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},62178:function(e){var t=\"app/kubernetes/components/datatables/configurations-datatable/configurationsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <span class=\"small text-muted\" style=\"float: left; margin-top: 5px\" ng-if=\"$ctrl.isAdmin && !$ctrl.settings.showSystem\">\\n          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          System resources are hidden, this can be changed in the table settings.\\n        </span>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle data-cy=\"k8sConfig-configSettingsButton\"><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input\\n                        id=\"setting_show_system\"\\n                        type=\"checkbox\"\\n                        ng-model=\"$ctrl.settings.showSystem\"\\n                        ng-change=\"$ctrl.onSettingsShowSystemChange()\"\\n                        data-cy=\"k8sConfig-systemResourceCheckbox\"\\n                      />\\n                      <label for=\"setting_show_system\">Show system resources</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\" data-cy=\"k8sConfig-closeSettingsButton\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"k8sConfig-removeConfigButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.configurations.new\" data-cy=\"k8sConfig-addConfigWithFormButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add with form\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.deploy\" data-cy=\"k8sConfig-deployFromManifestButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Create from manifest\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"k8sConfig-searchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"k8sConfig-tableSettingsButtonconfigsTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Namespace\\')\">\\n                  Namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n                  Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreationDate\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"!$ctrl.allowSelection(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"kubernetes.configurations.configuration({ name: item.Name, namespace: item.Namespace })\">{{ item.Name }}</a>\\n                <span class=\"label label-primary image-tag label-margins\" ng-if=\"!$ctrl.isSystemConfig(item) && $ctrl.isExternalConfiguration(item)\">external</span>\\n                <span class=\"label label-warning image-tag label-margins\" ng-if=\"!item.Used && !$ctrl.isSystemNamespace(item) && !$ctrl.isSystemConfig(item)\">unused</span>\\n                <span class=\"label label-info image-tag label-margins\" ng-if=\"$ctrl.isSystemConfig(item)\">system</span>\\n              </td>\\n              <td>\\n                <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: item.Namespace })\">{{ item.Namespace }}</a>\\n              </td>\\n              <td>{{ item.Type | kubernetesConfigurationTypeText }}</td>\\n              <td>{{ item.CreationDate | getisodate }} {{ item.ConfigurationOwner ? \\'by \\' + item.ConfigurationOwner : \\'\\' }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">No configuration available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"k8sConfig-paginationDropdown\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},29649:function(e){var t=\"app/kubernetes/components/datatables/events-datatable/eventsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"k8sConfigDetail-eventsTableSearchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"k8sConfigDetail-eventsTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Date\\')\">\\n                  Date\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Date\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Date\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Involved.kind\\')\">\\n                  Kind\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Involved.kind\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Involved.kind\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n                  Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Message\\')\">\\n                  Message\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Message\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Message\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td>{{ item.Date | getisodate }}</td>\\n              <td>{{ item.Involved.kind }}</td>\\n              <td\\n                ><span class=\"label label-{{ item.Type | kubernetesEventTypeColor }}\">{{ item.Type }}</span></td\\n              >\\n              <td>{{ item.Message }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.loading\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.loading && (!$ctrl.dataset || $ctrl.state.filteredDataSet.length === 0)\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">No event available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select\\n                class=\"form-control\"\\n                ng-model=\"$ctrl.state.paginatedItemLimit\"\\n                ng-change=\"$ctrl.changePaginationLimit()\"\\n                data-cy=\"k8sConfigDetail-eventsTablePaginationDropdown\"\\n              >\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},95947:function(e){var t=\"app/kubernetes/components/datatables/integrated-applications-datatable/integratedApplicationsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\">\\n          <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          {{ $ctrl.titleText }}\\n        </div>\\n        <div ng-if=\"$ctrl.refreshCallback\" class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle> <i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings </span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n            >\\n              <td\\n                ><a ui-sref=\"kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })\">{{ item.Name }}</a></td\\n              >\\n              <td>{{ item.StackName || \\'-\\' }}</td>\\n              <td title=\"{{ item.Image }}\">{{ item.Image | truncate: 64 }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No application available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},33989:function(e){var t=\"app/kubernetes/components/datatables/node-applications-datatable/nodeApplicationsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\">\\n          <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          {{ $ctrl.titleText }}\\n        </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle> <i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings </span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourcePool\\')\">\\n                  Namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CPU\\')\">\\n                  CPU reservation\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPU\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPU\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Memory\\')\">\\n                  Memory reservation\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n            >\\n              <td>\\n                <a ui-sref=\"kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })\">{{ item.Name }}</a>\\n                <span style=\"margin-left: 5px\" class=\"label label-info image-tag\" ng-if=\"$ctrl.isSystemNamespace(item)\">system</span>\\n                <span style=\"margin-left: 5px\" class=\"label label-primary image-tag\" ng-if=\"!$ctrl.isSystemNamespace(item) && $ctrl.isExternalApplication(item)\">external</span>\\n              </td>\\n              <td>{{ item.StackName || \\'-\\' }}</td>\\n              <td>\\n                <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: item.ResourcePool })\">{{ item.ResourcePool }}</a>\\n              </td>\\n              <td title=\"{{ item.Image }}\"\\n                >{{ item.Image | truncate: 64 }} <span ng-if=\"item.Containers.length > 1\">+ {{ item.Containers.length - 1 }}</span></td\\n              >\\n              <td>{{ item.CPU | kubernetesApplicationCPUValue }}</td>\\n              <td>{{ item.Memory | humansize }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">No stack available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},93172:function(e){var t=\"app/kubernetes/components/datatables/nodes-datatable/nodesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Role\\')\">\\n                  Role\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CPU\\')\">\\n                  CPU\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPU\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPU\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Memory\\')\">\\n                  Memory\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Version\\')\">\\n                  Version\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Version\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Version\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IPAddress\\')\">\\n                  IP Address\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAddress\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAddress\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.useServerMetrics\"> Actions </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n            >\\n              <td ng-if=\"$ctrl.isAdmin\">\\n                <a ui-sref=\"kubernetes.cluster.node({ name: item.Name })\">\\n                  {{ item.Name }}\\n                </a>\\n                <span class=\"label label-primary image-tag\" style=\"margin-left: 5px\" ng-if=\"item.Api\">api</span>\\n              </td>\\n              <td ng-if=\"!$ctrl.isAdmin\"> {{ item.Name }}</td>\\n              <td>{{ item.Role }}</td>\\n              <td\\n                ><span class=\"label label-{{ item.Status | kubernetesNodeStatusColor }}\">{{ item.Status }}</span></td\\n              >\\n              <td>{{ item.CPU }}</td>\\n              <td>{{ item.Memory | humansize }}</td>\\n              <td>{{ item.Version }}</td>\\n              <td>{{ item.IPAddress }}</td>\\n              <td ng-if=\"$ctrl.useServerMetrics\">\\n                <a ui-sref=\"kubernetes.cluster.node.stats({ name: item.Name })\" style=\"cursor: pointer\"> <i class=\"fa fa-chart-area\" aria-hidden=\"true\"></i> Stats </a>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">No node available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},60927:function(e){var t=\"app/kubernetes/components/datatables/resource-pool-applications-datatable/resourcePoolApplicationsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\">\\n          <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          {{ $ctrl.titleText }}\\n        </div>\\n        <div ng-if=\"$ctrl.refreshCallback\" class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle> <i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings </span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CPU\\')\">\\n                  CPU reservation\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPU\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPU\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Memory\\')\">\\n                  Memory reservation\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n            >\\n              <td>\\n                <a ui-sref=\"kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })\">{{ item.Name }}</a>\\n                <span style=\"margin-left: 5px\" class=\"label label-primary image-tag\" ng-if=\"$ctrl.isExternalApplication(item)\">external</span>\\n              </td>\\n              <td>{{ item.StackName || \\'-\\' }}</td>\\n              <td title=\"{{ item.Image }}\"\\n                >{{ item.Image | truncate: 64 }} <span ng-if=\"item.Containers.length > 1\">+ {{ item.Containers.length - 1 }}</span></td\\n              >\\n              <td>{{ item.CPU | kubernetesApplicationCPUValue }}</td>\\n              <td>{{ item.Memory | humansize }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No application available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},70586:function(e){var t=\"app/kubernetes/components/datatables/resource-pools-datatable/resourcePoolsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <span class=\"small text-muted\" style=\"float: left; margin-top: 5px\" ng-if=\"$ctrl.isAdmin && !$ctrl.settings.showSystem\">\\n          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          System resources are hidden, this can be changed in the table settings.\\n        </span>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input id=\"setting_show_system\" type=\"checkbox\" ng-model=\"$ctrl.settings.showSystem\" ng-change=\"$ctrl.onSettingsShowSystemChange()\" />\\n                      <label for=\"setting_show_system\">Show system resources</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div ng-if=\"$ctrl.isAdmin\" class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"k8sNamespace-removeNamespaceButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.resourcePools.new\" data-cy=\"k8sNamespace-addNamespaceWithFormButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add namespace with form\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.deploy\" data-cy=\"k8sNamespace-deployFromManifestButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Create from manifest\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"k8sNamespace-namespaceSearchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span ng-if=\"$ctrl.isAdmin\" class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Namespace.Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace.Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace.Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Namespace.Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace.Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace.Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Quota\\')\">\\n                  Quota\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Quota\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Quota\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreationDate\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.isAdmin\"> Actions </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span ng-if=\"$ctrl.isAdmin\" class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"$ctrl.disableRemove(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: item.Namespace.Name })\">{{ item.Namespace.Name }}</a>\\n                <span style=\"margin-left: 5px\" class=\"label label-info image-tag\" ng-if=\"$ctrl.isSystemNamespace(item)\">system</span>\\n              </td>\\n              <td>\\n                <span class=\"label label-{{ $ctrl.namespaceStatusColor(item.Namespace.Status) }}\">{{ item.Namespace.Status }}</span>\\n              </td>\\n              <td> <i class=\"fa {{ item.Quota ? \\'fa-toggle-on\\' : \\'fa-toggle-off\\' }}\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ item.Quota ? \\'Yes\\' : \\'No\\' }} </td>\\n              <td>{{ item.Namespace.CreationDate | getisodate }} {{ item.Namespace.ResourcePoolOwner ? \\'by \\' + item.Namespace.ResourcePoolOwner : \\'\\' }}</td>\\n              <td ng-if=\"$ctrl.isAdmin\">\\n                <a ng-if=\"$ctrl.canManageAccess(item)\" ui-sref=\"kubernetes.resourcePools.resourcePool.access({id: item.Namespace.Name})\">\\n                  <i class=\"fa fa-users\" aria-hidden=\"true\"></i> Manage access\\n                </a>\\n                <span ng-if=\"!$ctrl.canManageAccess(item)\">-</span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">No namespace available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},18491:function(e){var t=\"app/kubernetes/components/datatables/volumes-datatable/volumesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <span class=\"small text-muted\" style=\"float: left; margin-top: 5px\" ng-if=\"$ctrl.isAdmin && !$ctrl.settings.showSystem\">\\n          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          System resources are hidden, this can be changed in the table settings.\\n        </span>\\n        <div class=\"settings\">\\n          <span\\n            class=\"setting\"\\n            ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\"\\n            uib-dropdown\\n            dropdown-append-to-body\\n            auto-close=\"disabled\"\\n            is-open=\"$ctrl.settings.open\"\\n            data-cy=\"k8s-vol-table-settings\"\\n          >\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input id=\"setting_show_system\" type=\"checkbox\" ng-model=\"$ctrl.settings.showSystem\" ng-change=\"$ctrl.onSettingsShowSystemChange()\" />\\n                      <label for=\"setting_show_system\">Show system resources</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\" data-cy=\"k8s-vol-table-settings-close\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.deploy\" data-cy=\"k8sVolume-deployFromManifestButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Create from manifest\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PersistentVolumeClaim.Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourcePool.Namespace.Name\\')\">\\n                  Namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool.Namespace.Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool.Namespace.Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PersistentVolumeClaim.Applications[0].Name\\')\">\\n                  Used by\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.Applications[0].Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.Applications[0].Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PersistentVolumeClaim.StorageClass.Name\\')\">\\n                  Storage\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.StorageClass.Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.StorageClass.Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PersistentVolumeClaim.Storage\\')\">\\n                  Size\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.Storage\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.Storage\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PersistentVolumeClaim.CreationDate\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"$ctrl.disableRemove(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"kubernetes.volumes.volume({ namespace: item.ResourcePool.Namespace.Name, name: item.PersistentVolumeClaim.Name })\">{{\\n                  item.PersistentVolumeClaim.Name\\n                }}</a>\\n                <span class=\"label label-info image-tag label-margins\" ng-if=\"$ctrl.isSystemNamespace(item)\">system</span>\\n                <span class=\"label label-primary image-tag label-margins\" ng-if=\"!$ctrl.isSystemNamespace(item) && $ctrl.isExternalVolume(item)\">external</span>\\n                <span class=\"label label-warning image-tag label-margins\" ng-if=\"!$ctrl.isSystemNamespace(item) && !$ctrl.isUsed(item)\">unused</span>\\n              </td>\\n              <td>\\n                <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: item.ResourcePool.Namespace.Name })\">{{ item.ResourcePool.Namespace.Name }}</a>\\n              </td>\\n              <td>\\n                <a\\n                  ng-if=\"item.Applications.length\"\\n                  ui-sref=\"kubernetes.applications.application({ name: item.Applications[0].Name, namespace: item.ResourcePool.Namespace.Name })\"\\n                  >{{ item.Applications[0].Name }}</a\\n                >\\n                <span ng-if=\"item.Applications.length > 1\"> + {{ item.Applications.length - 1 }}</span>\\n                <span ng-if=\"!item.Applications.length\">-</span>\\n              </td>\\n              <td>\\n                {{ item.PersistentVolumeClaim.StorageClass.Name }}\\n              </td>\\n              <td>\\n                {{ item.PersistentVolumeClaim.Storage }}\\n              </td>\\n              <td>\\n                {{ item.PersistentVolumeClaim.CreationDate | getisodate }}\\n                {{ item.PersistentVolumeClaim.ApplicationOwner ? \\'by \\' + item.PersistentVolumeClaim.ApplicationOwner : \\'\\' }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">No volume available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},46598:function(e){var t=\"app/kubernetes/components/helm/helm-templates/helm-add-repository/helm-add-repository.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-widget>\\n  <rd-widget-header icon=\"fa-dharmachakra\" title-text=\"Additional repositories\"></rd-widget-header>\\n  <rd-widget-body>\\n    <div class=\"actionBar\">\\n      <form class=\"form-horizontal\" name=\"addUserHelmRepoForm\">\\n        <div class=\"form-group\">\\n          <span class=\"col-sm-12 text-muted small\"> Add a Helm repository. All Helm charts in the repository will be added to the list. </span>\\n        </div>\\n\\n        <div class=\"form-group\">\\n          <div class=\"col-sm-12\">\\n            <input\\n              type=\"url\"\\n              name=\"repo\"\\n              class=\"form-control\"\\n              ng-model=\"$ctrl.state.repository\"\\n              placeholder=\"https://charts.bitnami.com/bitnami\"\\n              ng-pattern=\"/^https?:///\"\\n              required\\n            />\\n          </div>\\n        </div>\\n\\n        <div class=\"form-group nomargin\" ng-show=\"addUserHelmRepoForm.repo.$invalid\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div ng-messages=\"addUserHelmRepoForm.repo.$error\">\\n              <p ng-message=\"pattern\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A valid URL beginning with http(s) is required.</p>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\"form-group\" ng-show=\"$ctrl.doesRepoExist()\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Helm repo already exists. </div>\\n          </div>\\n        </div>\\n\\n        <div class=\"form-group\">\\n          <div class=\"col-sm-12\">\\n            <button\\n              type=\"button\"\\n              class=\"btn btn-sm btn-default nomargin\"\\n              ng-click=\"$ctrl.addRepository()\"\\n              ng-disabled=\"$ctrl.state.isAddingRepo || addUserHelmRepoForm.repo.$invalid || $ctrl.doesRepoExist()\"\\n              analytics-on\\n              analytics-category=\"kubernetes\"\\n              analytics-event=\"kubernetes-helm-add-repository\"\\n            >\\n              Add repository\\n            </button>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n  </rd-widget-body>\\n</rd-widget>\\n')}]),e.exports=t},2894:function(e){var t=\"app/kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list-item/helm-templates-list-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'\\x3c!-- helm chart --\\x3e\\n<div ng-class=\"{ \\'blocklist-item--selected\\': $ctrl.model.Selected }\" class=\"blocklist-item template-item\" ng-click=\"$ctrl.onSelect($ctrl.model)\">\\n  <div class=\"blocklist-item-box\">\\n    \\x3c!-- helmchart-image --\\x3e\\n    <span ng-if=\"$ctrl.model.icon\">\\n      <img class=\"blocklist-item-logo\" ng-src=\"{{ $ctrl.model.icon }}\" />\\n    </span>\\n    <span class=\"blocklist-item-logo\" ng-if=\"!$ctrl.model.icon\">\\n      <i class=\"fa fa-dharmachakra fa-4x blue-icon\" aria-hidden=\"true\"></i>\\n    </span>\\n    \\x3c!-- !helmchart-image --\\x3e\\n    \\x3c!-- helmchart-details --\\x3e\\n    <div class=\"col-sm-12 helm-template-item-details\">\\n      \\x3c!-- blocklist-item-line1 --\\x3e\\n      <div class=\"blocklist-item-line\">\\n        <span>\\n          <span class=\"blocklist-item-title\">\\n            {{ $ctrl.model.name }}\\n          </span>\\n          <span class=\"space-left blocklist-item-subtitle\">\\n            <span>\\n              <i class=\"fa fa-dharmachakra\" aria-hidden=\"true\"></i>\\n            </span>\\n            <span> Helm </span>\\n          </span>\\n        </span>\\n      </div>\\n      \\x3c!-- !blocklist-item-line1 --\\x3e\\n      <span class=\"blocklist-item-actions\" ng-transclude=\"actions\"></span>\\n      \\x3c!-- blocklist-item-line2 --\\x3e\\n      <div class=\"blocklist-item-line helm-template-item-details-sub\">\\n        <span class=\"blocklist-item-desc\">\\n          {{ $ctrl.model.description }}\\n        </span>\\n        <span class=\"small text-muted\" ng-if=\"$ctrl.model.annotations.category\">\\n          {{ $ctrl.model.annotations.category }}\\n        </span>\\n      </div>\\n      \\x3c!-- !blocklist-item-line2 --\\x3e\\n    </div>\\n    \\x3c!-- !helmchart-details --\\x3e\\n  </div>\\n  \\x3c!-- !helm chart --\\x3e\\n</div>\\n')}]),e.exports=t},24633:function(e){var t=\"app/kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n\\n      <div class=\"actionBar\">\\n        <div>\\n          <span style=\"width: 25%\">\\n            <ui-select ng-model=\"$ctrl.state.selectedCategory\" theme=\"bootstrap\">\\n              <ui-select-match placeholder=\"Select a category\">\\n                <a class=\"btn btn-xs btn-link pull-right\" ng-click=\"$ctrl.clearCategory()\"><i class=\"glyphicon glyphicon-remove\"></i></a>\\n                <span>{{ $select.selected }}</span>\\n              </ui-select-match>\\n              <ui-select-choices repeat=\"category in ($ctrl.state.categories | filter: $select.search)\">\\n                <span>{{ category }}</span>\\n              </ui-select-choices>\\n            </ui-select>\\n          </span>\\n        </div>\\n      </div>\\n\\n      <div class=\"searchBar\" style=\"border-top: 2px solid #f6f6f6\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n\\n      <div class=\"blocklist\">\\n        <helm-templates-list-item\\n          ng-repeat=\"chart in $ctrl.charts | filter:$ctrl.state.textFilter | filter: $ctrl.state.selectedCategory \"\\n          model=\"chart\"\\n          type-label=\"helm\"\\n          on-select=\"($ctrl.selectAction)\"\\n        >\\n        </helm-templates-list-item>\\n        <div ng-if=\"$ctrl.loading\" class=\"text-center text-muted\">\\n          Loading...\\n          <div class=\"text-center text-muted\"> Initial download of Helm Charts can take a few minutes </div>\\n        </div>\\n        <div ng-if=\"!$ctrl.loading && $ctrl.charts.length === 0\" class=\"text-center text-muted\"> No helm charts available. </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},18236:function(e){var t=\"app/kubernetes/components/helm/helm-templates/helm-templates.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header id=\"view-top\" title=\"Helm\" state=\"kubernetes.templates.helm\" view-ready=\"true\"> Charts </kubernetes-view-header>\\n\\n<information-panel title-text=\"Information\" ng-if=\"!$ctrl.state.chart\">\\n  <span class=\"small text-muted\">\\n    <p>\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      This is a first version for Helm charts, for more information see this <a href=\"https://www.portainer.io/blog/portainer-now-with-helm-support\" target=\"_blank\">blog post</a>.\\n    </p>\\n    <p ng-if=\"$ctrl.state.globalRepository === \\'\\'\">\\n      <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      <span>The Global Helm Repository is not configured.</span>\\n      <a ng-if=\"$ctrl.state.isAdmin\" ui-sref=\"portainer.settings\">Configure Global Helm Repository in Settings</a>\\n    </p>\\n  </span>\\n</information-panel>\\n\\n<div class=\"row\">\\n  \\x3c!-- helmchart-form --\\x3e\\n  <div class=\"col-sm-12\" ng-if=\"$ctrl.state.chart\">\\n    <rd-widget>\\n      <rd-widget-custom-header icon=\"$ctrl.state.chart.icon\" title-text=\"$ctrl.state.chart.name\"></rd-widget-custom-header>\\n      <rd-widget-body classes=\"padding\">\\n        <form class=\"form-horizontal\" name=\"$ctrl.helmTemplateCreationForm\">\\n          \\x3c!-- description --\\x3e\\n          <div>\\n            <div class=\"col-sm-12 form-section-title\"> Description </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <div class=\"template-note\" ng-bind-html=\"$ctrl.state.chart.description\"></div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !description --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Configuration </div>\\n          \\x3c!-- namespace-input --\\x3e\\n          <div class=\"form-group\" ng-if=\"$ctrl.state.resourcePool\">\\n            <label for=\"resource-pool-selector\" class=\"col-sm-2 control-label text-left\">Namespace</label>\\n            <div class=\"col-sm-10\">\\n              <select\\n                class=\"form-control\"\\n                id=\"resource-pool-selector\"\\n                ng-model=\"$ctrl.state.resourcePool\"\\n                ng-options=\"resourcePool.Namespace.Name for resourcePool in $ctrl.state.resourcePools\"\\n                ng-change=\"\"\\n                ng-disabled=\"$ctrl.state.isEdit\"\\n              ></select>\\n            </div>\\n          </div>\\n\\n          <div class=\"form-group\" ng-if=\"!$ctrl.state.resourcePool\">\\n            <div class=\"col-sm-12 small text-muted\">\\n              <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              You do not have access to any namespace. Contact your administrator to get access to a namespace.\\n            </div>\\n          </div>\\n          \\x3c!-- !namespace-input --\\x3e\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"release_name\" class=\"col-sm-2 control-label text-left\">Name</label>\\n            <div class=\"col-sm-10\">\\n              <input\\n                type=\"text\"\\n                name=\"release_name\"\\n                class=\"form-control\"\\n                ng-model=\"$ctrl.state.appName\"\\n                placeholder=\"e.g. my-app\"\\n                required\\n                ng-pattern=\"/^[a-z]([-a-z0-9]*[a-z0-9])?$/\"\\n              />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"$ctrl.helmTemplateCreationForm.release_name.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"$ctrl.helmTemplateCreationForm.release_name.$error\">\\n                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                <p ng-message=\"pattern\">\\n                  <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field must consist of lower case alphanumeric characters or \\'-\\', start with an alphabetic\\n                  character, and end with an alphanumeric character (e.g. \\'my-name\\', or \\'abc-123\\').\\n                </p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <a class=\"small interactive\" ng-if=\"!$ctrl.state.showCustomValues && !$ctrl.state.loadingValues\" ng-click=\"$ctrl.state.showCustomValues = true;\">\\n                <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i> Show custom values\\n              </a>\\n              <span class=\"small interactive\" ng-if=\"$ctrl.state.loadingValues\"> <i class=\"fa fa-sync-alt space-right\" aria-hidden=\"true\"></i> Loading values.yaml... </span>\\n              <a class=\"small interactive\" ng-if=\"$ctrl.state.showCustomValues\" ng-click=\"$ctrl.state.showCustomValues = false;\">\\n                <i class=\"fa fa-minus space-right\" aria-hidden=\"true\"></i> Hide custom values\\n              </a>\\n            </div>\\n          </div>\\n          \\x3c!-- values override --\\x3e\\n          <div ng-if=\"$ctrl.state.showCustomValues\">\\n            \\x3c!-- web-editor --\\x3e\\n            <div>\\n              <div class=\"col-sm-12 form-section-title\"> Web editor </div>\\n              <div class=\"form-group\">\\n                <span class=\"col-sm-12 text-muted small\">\\n                  You can get more information about Helm values file format in the\\n                  <a href=\"https://helm.sh/docs/chart_template_guide/values_files/\" target=\"_blank\">official documentation</a>.\\n                </span>\\n              </div>\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\">\\n                  <code-editor\\n                    identifier=\"helm-app-creation-editor\"\\n                    placeholder=\"# Define or paste the content of your values yaml file here\"\\n                    yml=\"true\"\\n                    on-change=\"($ctrl.editorUpdate)\"\\n                    value=\"$ctrl.state.values\"\\n                  ></code-editor>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !web-editor --\\x3e\\n          </div>\\n          \\x3c!-- !values override --\\x3e\\n          \\x3c!-- helm actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"!($ctrl.state.appName && $ctrl.state.resourcePool && !$ctrl.state.loadingValues && !$ctrl.state.actionInProgress)\"\\n                ng-click=\"$ctrl.installHelmchart()\"\\n                button-spinner=\"$ctrl.state.actionInProgress\"\\n                data-cy=\"helm-install\"\\n              >\\n                <span ng-hide=\"$ctrl.state.actionInProgress\">Install</span>\\n                <span ng-hide=\"!$ctrl.state.actionInProgress\">Helm installing in progress</span>\\n              </button>\\n              <button type=\"button\" class=\"btn btn-sm btn-default\" ng-click=\"$ctrl.state.chart = null\">Hide</button>\\n            </div>\\n          </div>\\n          \\x3c!-- !helm actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n  \\x3c!-- helmchart-form --\\x3e\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <helm-add-repository repos=\"$ctrl.state.repos\" endpoint=\"$ctrl.endpoint\"></helm-add-repository>\\n  </div>\\n</div>\\n\\n\\x3c!-- Helm Charts Component --\\x3e\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <helm-templates-list\\n      title-text=\"Charts\"\\n      title-icon=\"fa-rocket\"\\n      charts=\"$ctrl.state.charts\"\\n      table-key=\"$ctrl.state.charts\"\\n      select-action=\"$ctrl.selectHelmChart\"\\n      loading=\"$ctrl.state.chartsLoading || $ctrl.state.resourcePoolsLoading\"\\n    >\\n    </helm-templates-list>\\n  </div>\\n</div>\\n\\x3c!-- !Helm Charts Component --\\x3e\\n')}]),e.exports=t},74226:function(e){var t=\"app/kubernetes/components/kube-services/kube-services-item/kube-services-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form name=\"serviceForm\">\\n  <div ng-if=\"$ctrl.isAdmin()\" class=\"small text-warning\" ng-show=\"$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled\">\\n    <p style=\"margin-top: 10px\">\\n      <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i> No Load balancer is available in this cluster, click\\n      <a ui-sref=\"portainer.k8sendpoint.kubernetesConfig({id: $ctrl.state.endpointId})\">here</a> to configure load balancer.\\n    </p>\\n  </div>\\n  <div ng-if=\"!$ctrl.isAdmin()\" class=\"small text-warning\" ng-show=\"$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled\">\\n    <p style=\"margin-top: 10px\"> <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i> No Load balancer is available in this cluster, contract your administrator. </p>\\n  </div>\\n\\n  <div\\n    ng-if=\"\\n      ($ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && $ctrl.loadbalancerEnabled) ||\\n      $ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.CLUSTER_IP ||\\n      $ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.NODE_PORT\\n    \"\\n  >\\n    <div ng-show=\"!$ctrl.multiItemDisable\" style=\"margin-top: 5px; margin-bottom: 5px\">\\n      <label class=\"control-label text-left\">Published ports</label>\\n      <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"$ctrl.addPort()\" data-cy=\"k8sAppCreate-addNewPortButton\">\\n        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> publish a new port\\n      </span>\\n    </div>\\n    <div ng-repeat=\"servicePort in $ctrl.servicePorts\" style=\"margin-top: 10px\">\\n      <div class=\"input-group input-group-sm\">\\n        <span class=\"input-group-addon\">container port</span>\\n        <input\\n          type=\"number\"\\n          class=\"form-control\"\\n          name=\"container_port_{{ $index }}\"\\n          ng-model=\"servicePort.targetPort\"\\n          placeholder=\"80\"\\n          ng-min=\"1\"\\n          ng-max=\"65535\"\\n          ng-change=\"$ctrl.servicePort($index)\"\\n          required\\n          ng-disabled=\"$ctrl.originalIngresses.length === 0 || ($ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled)\"\\n          ng-change=\"$ctrl.onChangeContainerPort()\"\\n          data-cy=\"k8sAppCreate-containerPort_{{ $index }}\"\\n        />\\n      </div>\\n\\n      <div class=\"input-group input-group-sm\">\\n        <span class=\"input-group-addon\">service port</span>\\n        <input\\n          type=\"number\"\\n          class=\"form-control\"\\n          name=\"service_port_{{ $index }}\"\\n          ng-model=\"servicePort.port\"\\n          placeholder=\"80\"\\n          ng-min=\"1\"\\n          ng-max=\"65535\"\\n          required\\n          ng-disabled=\"$ctrl.originalIngresses.length === 0 || ($ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled)\"\\n          ng-change=\"$ctrl.onChangeServicePort()\"\\n          data-cy=\"k8sAppCreate-servicePort_{{ $index }}\"\\n        />\\n      </div>\\n\\n      <div ng-if=\"$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.NODE_PORT\" class=\"input-group input-group-sm\">\\n        <span class=\"input-group-addon\">nodeport</span>\\n        <input\\n          type=\"number\"\\n          class=\"form-control\"\\n          name=\"node_port_{{ $index }}\"\\n          ng-model=\"servicePort.nodePort\"\\n          placeholder=\"30080\"\\n          ng-min=\"30000\"\\n          ng-max=\"32767\"\\n          ng-change=\"$ctrl.onChangeNodePort()\"\\n          data-cy=\"k8sAppCreate-nodeportPort_{{ $index }}\"\\n        />\\n      </div>\\n\\n      <div ng-if=\"$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER\" class=\"input-group input-group-sm\">\\n        <span class=\"input-group-addon\">loadbalancer port</span>\\n        <input\\n          type=\"number\"\\n          class=\"form-control\"\\n          name=\"loadbalancer_port_{{ $index }}\"\\n          ng-model=\"servicePort.port\"\\n          placeholder=\"80\"\\n          ng-min=\"1\"\\n          ng-max=\"65535\"\\n          required\\n          ng-disabled=\"$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.LOAD_BALANCER && !$ctrl.loadbalancerEnabled\"\\n          data-cy=\"k8sAppCreate-loadbalancerPort_{{ $index }}\"\\n        />\\n      </div>\\n\\n      <div ng-if=\"$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.CLUSTER_IP && $ctrl.ingressType\" class=\"input-group input-group-sm\">\\n        <span class=\"input-group-addon\">ingress</span>\\n        <select\\n          class=\"form-control\"\\n          name=\"ingress_port_{{ $index }}\"\\n          ng-model=\"servicePort.ingress.IngressName\"\\n          required\\n          ng-disabled=\"$ctrl.originalIngresses.length === 0\"\\n          ng-options=\"ingress.Name as ingress.Name for ingress in $ctrl.originalIngresses\"\\n          data-cy=\"k8sAppCreate-ingressPort_{{ $index }}\"\\n        >\\n          <option selected disabled hidden value=\"\">Select an ingress</option>\\n        </select>\\n      </div>\\n\\n      <div ng-if=\"$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.CLUSTER_IP && $ctrl.ingressType\" class=\"input-group input-group-sm\">\\n        <span class=\"input-group-addon\">hostname</span>\\n        <select\\n          class=\"form-control\"\\n          name=\"hostname_port_{{ $index }}\"\\n          ng-model=\"servicePort.ingress.Host\"\\n          required\\n          ng-disabled=\"$ctrl.originalIngresses.length === 0\"\\n          ng-options=\"host as host for host in ($ctrl.originalIngresses | filter:{ Name: servicePort.ingress.IngressName })[0].Hosts\"\\n          data-cy=\"k8sAppCreate-hostnamePort_{{ $index }}\"\\n        >\\n          <option selected disabled hidden value=\"\">Select a hostname</option>\\n        </select>\\n      </div>\\n\\n      <div ng-if=\"$ctrl.serviceType === $ctrl.KubernetesApplicationPublishingTypes.CLUSTER_IP && $ctrl.ingressType\" class=\"input-group input-group-sm\">\\n        <span class=\"input-group-addon\">route</span>\\n        <input\\n          class=\"form-control\"\\n          name=\"ingress_route_{{ $index }}\"\\n          ng-model=\"servicePort.ingress.Path\"\\n          placeholder=\"route\"\\n          required\\n          ng-disabled=\"$ctrl.originalIngresses.length === 0\"\\n          ng-pattern=\"/^(\\\\/?[a-zA-Z0-9]+([a-zA-Z0-9-/_]*[a-zA-Z0-9])?|[a-zA-Z0-9]+)|(\\\\/){1}$/\"\\n          data-cy=\"k8sAppCreate-route_{{ $index }}\"\\n        />\\n      </div>\\n\\n      <div class=\"input-group col-sm-2 input-group-sm\">\\n        <div class=\"btn-group btn-group-sm\">\\n          <label\\n            class=\"btn btn-primary\"\\n            ng-model=\"servicePort.protocol\"\\n            uib-btn-radio=\"\\'TCP\\'\"\\n            ng-change=\"ctrl.onChangePortProtocol($index)\"\\n            ng-disabled=\"ctrl.isProtocolOptionDisabled($index, \\'TCP\\')\"\\n            data-cy=\"k8sAppCreate-TCPButton_{{ $index }}\"\\n            >TCP</label\\n          >\\n          <label\\n            class=\"btn btn-primary\"\\n            ng-model=\"servicePort.protocol\"\\n            uib-btn-radio=\"\\'UDP\\'\"\\n            ng-change=\"ctrl.onChangePortProtocol($index)\"\\n            ng-disabled=\"ctrl.isProtocolOptionDisabled($index, \\'UDP\\')\"\\n            data-cy=\"k8sAppCreate-UDPButton_{{ $index }}\"\\n            >UDP</label\\n          >\\n        </div>\\n        <button\\n          ng-disabled=\"$ctrl.servicePorts.length === 1\"\\n          ng-show=\"!$ctrl.multiItemDisable\"\\n          class=\"btn btn-sm btn-danger\"\\n          type=\"button\"\\n          ng-click=\"$ctrl.removePort($index)\"\\n          data-cy=\"k8sAppCreate-rmPortButton_{{ $index }}\"\\n        >\\n          <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n\\n      <div class=\"col-sm-12 input-group input-group-sm\">\\n        <div class=\"col-sm-2\">\\n          <div class=\"small text-warning\" style=\"margin-top: 5px\">\\n            <p ng-if=\"$ctrl.state.duplicates.targetPort.refs[$index] !== undefined\">\\n              <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This container port is already used.\\n            </p>\\n          </div>\\n          <div class=\"small text-warning\" ng-messages=\"serviceForm[\\'container_port_\\'+$index].$error\">\\n            <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Container port number is required.</p>\\n            <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Container port number must be inside the range 1-65535.</p>\\n            <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Container port number must be inside the range 1-65535.</p>\\n          </div>\\n        </div>\\n\\n        <div class=\"col-sm-2\">\\n          <div class=\"small text-warning\" style=\"margin-top: 5px\">\\n            <p ng-if=\"$ctrl.state.duplicates.servicePort.refs[$index] !== undefined\">\\n              <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This service port is already used.\\n            </p>\\n          </div>\\n          <div class=\"small text-warning\" style=\"margin-top: 5px\">\\n            <div ng-messages=\"serviceForm[\\'service_port_\\'+$index].$error\">\\n              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Service port number is required.</p>\\n              <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Container port number must be inside the range 1-65535.</p>\\n              <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Container port number must be inside the range 1-65535.</p>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\"col-sm-6\">\\n          <div class=\"small text-warning\" style=\"margin-top: 5px\">\\n            <div ng-messages=\"serviceForm[\\'node_port_\\'+$index].$error\">\\n              <p ng-message=\"min\"\\n                ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Node port number must be inside the range 30000-32767 or blank for system allocated.</p\\n              >\\n              <p ng-message=\"max\"\\n                ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Node port number must be inside the range 30000-32767 or blank for system allocated.</p\\n              >\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\"col-sm-2\">\\n          <div class=\"small text-warning\" style=\"margin-top: 5px\">\\n            <div ng-messages=\"serviceForm[\\'ingress_port_\\'+$index].$error\">\\n              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Ingress selection is required.</p>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\"col-sm-2\">\\n          <div class=\"small text-warning\" style=\"margin-top: 5px\">\\n            <div ng-messages=\"serviceForm[\\'hostname_port_\\'+$index].$error\">\\n              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Host is required.</p>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\"col-sm-8\" ng-show=\"\">\\n          <div class=\"small text-warning\" style=\"margin-top: 5px\">\\n            <div ng-messages=\"serviceForm[\\'ingress_route_\\'+$index].$error\">\\n              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Route is required.</p>\\n              <p ng-message=\"pattern\"\\n                ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field must consist of alphanumeric characters or the special characters: \\'-\\', \\'_\\' or \\'/\\'. It\\n                must start and end with an alphanumeric character (e.g. \\'my-route\\', or \\'route-123\\').</p\\n              >\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</ng-form>\\n')}]),e.exports=t},68629:function(e){var t=\"app/kubernetes/components/kube-services/kube-services.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\"> Publishing the application </div>\\n\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12 form-inline\">\\n    <div class=\"col-sm-5\" style=\"padding-left: 0px\">\\n      <select\\n        class=\"form-control\"\\n        ng-model=\"$ctrl.state.selected\"\\n        ng-options=\"item.typeValue as item.typeName for item in $ctrl.state.serviceType\"\\n        data-cy=\"k8sAppCreate-publishingModeDropdown\"\\n      ></select>\\n      <button type=\"button\" class=\"btn btn-sm btn-default\" style=\"margin-left: 0\" ng-click=\"$ctrl.addEntry( $ctrl.state.selected )\" data-cy=\"k8sAppCreate-createServiceButton\">\\n        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Create service\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12 form-inline\" style=\"margin-top: 20px\" ng-repeat=\"service in $ctrl.formValues.Services\">\\n    <div ng-if=\"!$ctrl.formValues.Services[$index].Ingress\">\\n      <div class=\"text-muted\">\\n        <i class=\"{{ $ctrl.iconStyle(service.Type) }}\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n        {{ $ctrl.serviceType(service.Type) }}\\n      </div>\\n      <kube-services-item-view\\n        service-routes=\"$ctrl.formValues.Services[$index].IngressRoute\"\\n        ingress-type=\"$ctrl.formValues.Services[$index].Ingress\"\\n        service-type=\"$ctrl.formValues.Services[$index].Type\"\\n        service-ports=\"$ctrl.formValues.Services[$index].Ports\"\\n        is-edit=\"$ctrl.isEdit\"\\n        loadbalancer-enabled=\"$ctrl.loadbalancerEnabled\"\\n      ></kube-services-item-view>\\n      <button\\n        type=\"button\"\\n        class=\"btn btn-sm btn-danger space-right\"\\n        style=\"margin-left: 0; margin-top: 10px\"\\n        ng-click=\"$ctrl.deleteService( $index )\"\\n        data-cy=\"k8sConfigCreate-removeButton\"\\n      >\\n        <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i> Remove\\n      </button>\\n    </div>\\n\\n    <div ng-if=\"$ctrl.formValues.Services[$index].Ingress && $ctrl.formValues.OriginalIngresses.length === 0\">\\n      <div class=\"text-muted\">\\n        <i class=\"fa fa-route\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n        Ingress\\n      </div>\\n      <div ng-if=\"$ctrl.isAdmin()\" class=\"small text-warning\">\\n        <p style=\"margin-top: 10px\">\\n          <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i> Ingress is not configured in this namespace, select another namespace or click\\n          <a ui-sref=\"portainer.k8sendpoint.kubernetesConfig({id: $ctrl.state.endpointId})\">here</a> to configure ingress.\\n        </p>\\n      </div>\\n      <div ng-if=\"!$ctrl.isAdmin()\" class=\"small text-warning\">\\n        <p style=\"margin-top: 10px\">\\n          <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i> Ingress is not configured in this namespace, select another namespace or contact your administrator.\\n        </p>\\n      </div>\\n      <button\\n        type=\"button\"\\n        class=\"btn btn-sm btn-danger space-right\"\\n        style=\"margin-left: 0; margin-top: 10px\"\\n        ng-click=\"$ctrl.deleteService( $index )\"\\n        data-cy=\"k8sConfigCreate-removeButton\"\\n      >\\n        <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i> Remove\\n      </button>\\n    </div>\\n\\n    <div ng-if=\"$ctrl.formValues.Services[$index].Ingress && $ctrl.formValues.OriginalIngresses.length !== 0\">\\n      <div class=\"text-muted\">\\n        <i class=\"fa fa-route\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n        Ingress\\n      </div>\\n      <kube-services-item-view\\n        original-ingresses=\"$ctrl.formValues.OriginalIngresses\"\\n        service-routes=\"$ctrl.formValues.Services[$index].IngressRoute\"\\n        ingress-type=\"$ctrl.formValues.Services[$index].Ingress\"\\n        service-type=\"$ctrl.formValues.Services[$index].Type\"\\n        service-ports=\"$ctrl.formValues.Services[$index].Ports\"\\n        service-name=\"$ctrl.formValues.Services[$index].Name\"\\n        multi-item-disable=\"true\"\\n      ></kube-services-item-view>\\n      <button\\n        type=\"button\"\\n        class=\"btn btn-sm btn-danger space-right\"\\n        style=\"margin-left: 0; margin-top: 10px\"\\n        ng-click=\"$ctrl.deleteService( $index )\"\\n        data-cy=\"k8sConfigCreate-removeButton\"\\n      >\\n        <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i> Remove\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},68366:function(e){var t=\"app/kubernetes/components/kubectl-shell/kubectl-shell.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<button\\n  type=\"button\"\\n  class=\"btn btn-xs btn-primary\"\\n  ng-click=\"$ctrl.connectConsole()\"\\n  ng-disabled=\"$ctrl.state.shell.connected\"\\n  data-cy=\"k8sSidebar-shellButton\"\\n  analytics-on\\n  analytics-category=\"kubernetes\"\\n  analytics-event=\"kubernetes-kubectl-shell\"\\n>\\n  <i class=\"fa fa-terminal space-right\"></i> kubectl shell\\n</button>\\n\\n<div ng-if=\"$ctrl.state.shell.connected\" class=\"{{ $ctrl.state.css }}-kubectl-shell\">\\n  <div class=\"shell-container\">\\n    <div class=\"shell-item\"><i class=\"fas fa-terminal\" style=\"margin-right: 5px\"></i>kubectl shell</div>\\n    <div class=\"shell-item-right\">\\n      <i class=\"fas fa-redo-alt\" ng-click=\"$ctrl.screenClear();\" data-cy=\"k8sShell-refreshButton\"></i>\\n      <i\\n        class=\"fas {{ $ctrl.state.icon }}\"\\n        ng-click=\"$ctrl.miniRestore();\"\\n        data-cy=\"{{ $ctrl.state.icon === \\'.fa-window-minimize\\' ? \\'k8sShell-restore\\' : \\'k8sShell-minimise\\' }}\"\\n      ></i>\\n      <i class=\"fas fa-times\" ng-click=\"$ctrl.disconnect()\" data-cy=\"k8sShell-closeButton\"></i>\\n    </div>\\n  </div>\\n  <div>\\n    <div class=\"nopadding\">\\n      <div>\\n        <div id=\"terminal-container\" class=\"terminal-container\">\\n          <div style=\"position: fixed; color: #fff\">Loading Terminal...</div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},80331:function(e){var t=\"app/kubernetes/components/kubernetes-configuration-data/kubernetesConfigurationData.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form name=\"kubernetesConfigurationDataCreationForm\">\\n  <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 10px\"> Data </div>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.isCreation\">\\n    <div class=\"col-sm-12\">\\n      <p>\\n        <a class=\"small interactive\" ng-if=\"$ctrl.formValues.IsSimple\" ng-click=\"$ctrl.showAdvancedMode()\">\\n          <i class=\"fa fa-list-ol space-right\" aria-hidden=\"true\"></i> Advanced mode\\n        </a>\\n        <a class=\"small interactive\" ng-if=\"!$ctrl.formValues.IsSimple\" ng-click=\"$ctrl.showSimpleMode()\">\\n          <i class=\"fa fa-edit space-right\" aria-hidden=\"true\"></i> Simple mode\\n        </a>\\n      </p>\\n    </div>\\n    <div class=\"col-sm-12 small text-muted\" ng-if=\"$ctrl.formValues.IsSimple\">\\n      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      Switch to advanced mode to copy and paste multiple key/values\\n    </div>\\n    <div class=\"col-sm-12 small text-muted\" ng-if=\"!$ctrl.formValues.IsSimple\">\\n      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      Generate a configuration entry per line, use YAML format\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.formValues.IsSimple\">\\n    <div class=\"col-sm-12\">\\n      <button type=\"button\" class=\"btn btn-sm btn-default\" style=\"margin-left: 0\" ng-click=\"$ctrl.addEntry()\" data-cy=\"k8sConfigCreate-createEntryButton\">\\n        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Create entry\\n      </button>\\n      <button type=\"button\" class=\"btn btn-sm btn-default\" ngf-select=\"$ctrl.addEntryFromFile($file)\" style=\"margin-left: 0\" data-cy=\"k8sConfigCreate-createConfigsFromFileButton\">\\n        <i class=\"fa fa-file-upload\" aria-hidden=\"true\"></i> Create key/value from file\\n      </button>\\n    </div>\\n  </div>\\n\\n  <div ng-repeat=\"(index, entry) in $ctrl.formValues.Data\" ng-if=\"$ctrl.formValues.IsSimple\">\\n    <div class=\"form-group\">\\n      <label for=\"configuration_data_key_{{ index }}\" class=\"col-sm-1 control-label text-left\">Key</label>\\n      <div class=\"col-sm-11\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"configuration_data_key_{{ index }}\"\\n          name=\"configuration_data_key_{{ index }}\"\\n          ng-model=\"$ctrl.formValues.Data[index].Key\"\\n          ng-disabled=\"entry.Used\"\\n          required\\n          ng-change=\"$ctrl.onChangeKey(entry)\"\\n        />\\n      </div>\\n      <div\\n        class=\"col-sm-11 small text-warning\"\\n        style=\"margin-top: 5px\"\\n        ng-show=\"\\n          kubernetesConfigurationDataCreationForm[\\'configuration_data_key_\\' + index].$invalid ||\\n          (!entry.Used && $ctrl.state.duplicateKeys[index] !== undefined) ||\\n          $ctrl.state.invalidKeys[index]\\n        \"\\n      >\\n        <ng-messages for=\"kubernetesConfigurationDataCreationForm[\\'configuration_data_key_\\' + index].$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </ng-messages>\\n        <p ng-if=\"$ctrl.state.duplicateKeys[index] !== undefined\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This key is already defined.</p>\\n        <p ng-if=\"$ctrl.state.invalidKeys[index]\"\\n          ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This key is invalid. A valid key must consist of alphanumeric characters, \\'-\\', \\'_\\' or \\'.\\'</p\\n        >\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\" ng-if=\"$ctrl.formValues.IsSimple && !entry.IsBinary\">\\n      <label for=\"configuration_data_value_{{ index }}\" class=\"col-sm-1 control-label text-left\">Value</label>\\n      <div class=\"col-sm-11\">\\n        <textarea\\n          class=\"form-control\"\\n          rows=\"5\"\\n          id=\"configuration_data_value_{{ index }}\"\\n          name=\"configuration_data_value_{{ index }}\"\\n          ng-model=\"$ctrl.formValues.Data[index].Value\"\\n          required\\n        ></textarea>\\n      </div>\\n      <div class=\"col-sm-11 small text-warning\" style=\"margin-top: 5px\" ng-show=\"kubernetesConfigurationDataCreationForm[\\'configuration_data_value_\\' + index].$invalid\">\\n        <ng-messages for=\"kubernetesConfigurationDataCreationForm[\\'configuration_data_value_\\' + index].$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </ng-messages>\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\" ng-if=\"$ctrl.formValues.IsSimple && entry.IsBinary\">\\n      <label for=\"configuration_data_value_{{ index }}\" class=\"col-sm-1 control-label text-left\">Value</label>\\n      <div class=\"col-sm-11 control-label small text-muted text-left\"\\n        >Binary data <portainer-tooltip position=\"bottom\" message=\"This key holds binary data and cannot be displayed.\"></portainer-tooltip\\n      ></div>\\n    </div>\\n\\n    <div class=\"form-group\" ng-if=\"$ctrl.formValues.IsSimple\">\\n      <div class=\"col-sm-1\"></div>\\n      <div class=\"col-sm-11\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger space-right\"\\n          style=\"margin-left: 0\"\\n          ng-disabled=\"entry.Used\"\\n          ng-click=\"$ctrl.removeEntry(index, entry)\"\\n          data-cy=\"k8sConfigDetail-removeEntryButton{{ index }}\"\\n        >\\n          <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i> Remove entry\\n        </button>\\n        <span class=\"small text-muted\" ng-if=\"entry.Used\">\\n          <i class=\"fa fa-info-circle blue-icon space-right\" aria-hidden=\"true\"></i>\\n          This key is currently used by one or more applications\\n        </span>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\" ng-if=\"!$ctrl.formValues.IsSimple\">\\n    <input type=\"text\" ng-model=\"$ctrl.formValues.DataYaml\" required style=\"display: none\" />\\n    <code-editor identifier=\"kubernetes-configuration-editor\" value=\"$ctrl.formValues.DataYaml\" read-only=\"false\" yml=\"true\" on-change=\"($ctrl.editorUpdate)\"></code-editor>\\n  </div>\\n</ng-form>\\n')}]),e.exports=t},81105:function(e){var t=\"app/kubernetes/components/kubernetes-sidebar/kubernetes-sidebar.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<sidebar-menu-item\\n  path=\"kubernetes.dashboard\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-tachometer-alt fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"k8sSidebar-dashboard\"\\n  title=\"Dashboard\"\\n>\\n  Dashboard\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"kubernetes.templates.custom\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-rocket fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"k8sSidebar-customTemplates\"\\n  title=\"Custom Templates\"\\n>\\n  Custom Templates\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"kubernetes.resourcePools\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-layer-group fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"k8sSidebar-namespaces\"\\n  title=\"Namespaces\"\\n>\\n  Namespaces\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"kubernetes.templates.helm\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-dharmachakra fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"k8sSidebar-helm\"\\n  title=\"Helm\"\\n>\\n  Helm\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"kubernetes.applications\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-laptop-code fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"k8sSidebar-applications\"\\n  title=\"Applications\"\\n>\\n  Applications\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"kubernetes.configurations\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-file-code fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"k8sSidebar-configurations\"\\n  title=\"ConfigMaps & Secrets\"\\n>\\n  ConfigMaps & Secrets\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"kubernetes.volumes\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-database fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"k8sSidebar-volumes\"\\n  title=\"Volumes\"\\n>\\n  Volumes\\n</sidebar-menu-item>\\n\\n<sidebar-menu\\n  icon-class=\"fa-server fa-fw\"\\n  label=\"Cluster\"\\n  path=\"kubernetes.cluster\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  is-sidebar-open=\"$ctrl.isSidebarOpen\"\\n  children-paths=\"[\\'kubernetes.cluster\\', \\'portainer.k8sendpoint.kubernetesConfig\\', \\'kubernetes.registries\\', \\'kubernetes.registries.access\\']\"\\n  data-cy=\"k8sSidebar-cluster\"\\n>\\n  <sidebar-menu-item\\n    ng-if=\"$ctrl.adminAccess\"\\n    authorization=\"K8sClusterSetupRW\"\\n    path=\"portainer.k8sendpoint.kubernetesConfig\"\\n    path-params=\"{ id: $ctrl.endpointId }\"\\n    class-name=\"sidebar-sublist\"\\n    data-cy=\"k8sSidebar-setup\"\\n    title=\"Setup\"\\n  >\\n    Setup\\n  </sidebar-menu-item>\\n\\n  <sidebar-menu-item\\n    authorization=\"PortainerRegistryList\"\\n    path=\"kubernetes.registries\"\\n    path-params=\"{ endpointId: $ctrl.endpointId }\"\\n    class-name=\"sidebar-sublist\"\\n    data-cy=\"k8sSidebar-registries\"\\n    title=\"Registries\"\\n  >\\n    Registries\\n  </sidebar-menu-item>\\n</sidebar-menu>\\n')}]),e.exports=t},37751:function(e){var t=\"app/kubernetes/components/resource-reservation/resourceReservation.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"row\">\\n  <div class=\"col-sm-12 form-section-title\"> Resource reservation </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\">\\n      <p>\\n        {{ $ctrl.description }}\\n      </p>\\n    </span>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.memoryLimit !== 0\">\\n    <label for=\"memory-reservation\" class=\"col-sm-3 col-lg-2 control-label text-left\"> Memory reservation </label>\\n    <div class=\"col-sm-9\" style=\"margin-top: 4px\">\\n      <uib-progressbar\\n        animate=\"false\"\\n        value=\"$ctrl.memoryReservationPercent\"\\n        type=\"{{ $ctrl.memoryReservationPercent | kubernetesUsageLevelInfo }}\"\\n        data-cy=\"k8sNamespaceDetail-memoryUsage\"\\n      >\\n        <b style=\"white-space: nowrap\"> {{ $ctrl.memoryReservation }} / {{ $ctrl.memoryLimit }} MB - {{ $ctrl.memoryReservationPercent }}% </b>\\n      </uib-progressbar>\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.displayUsage && $ctrl.memoryLimit !== 0\">\\n    <label for=\"memory-usage\" class=\"col-sm-3 col-lg-2 control-label text-left\"> Memory used </label>\\n    <div class=\"col-sm-9\" style=\"margin-top: 4px\">\\n      <uib-progressbar animate=\"false\" value=\"$ctrl.memoryUsagePercent\" type=\"{{ $ctrl.memoryUsagePercent | kubernetesUsageLevelInfo }}\">\\n        <b style=\"white-space: nowrap\"> {{ $ctrl.memoryUsage }} / {{ $ctrl.memoryLimit }} MB - {{ $ctrl.memoryUsagePercent }}% </b>\\n      </uib-progressbar>\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.cpuLimit !== 0\">\\n    <label for=\"cpu-reservation\" class=\"col-sm-3 col-lg-2 control-label text-left\"> CPU reservation </label>\\n    <div class=\"col-sm-9\" style=\"margin-top: 4px\">\\n      <uib-progressbar animate=\"false\" value=\"$ctrl.cpuReservationPercent\" type=\"{{ $ctrl.cpuReservationPercent | kubernetesUsageLevelInfo }}\">\\n        <b style=\"white-space: nowrap\"> {{ $ctrl.cpuReservation | kubernetesApplicationCPUValue }} / {{ $ctrl.cpuLimit }} - {{ $ctrl.cpuReservationPercent }}% </b>\\n      </uib-progressbar>\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.displayUsage && $ctrl.cpuLimit !== 0\">\\n    <label for=\"cpu-usage\" class=\"col-sm-3 col-lg-2 control-label text-left\"> CPU used </label>\\n    <div class=\"col-sm-9\" style=\"margin-top: 4px\">\\n      <uib-progressbar animate=\"false\" value=\"$ctrl.cpuUsagePercent\" type=\"{{ $ctrl.cpuUsagePercent | kubernetesUsageLevelInfo }}\">\\n        <b style=\"white-space: nowrap\"> {{ $ctrl.cpuUsage | kubernetesApplicationCPUValue }} / {{ $ctrl.cpuLimit }} - {{ $ctrl.cpuUsagePercent }}% </b>\\n      </uib-progressbar>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},18691:function(e){var t=\"app/kubernetes/components/view-header/viewHeader.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header ng-if=\"$ctrl.viewReady\">\\n  <rd-header-title title-text=\"{{ $ctrl.title }}\">\\n    <a data-toggle=\"tooltip\" title=\"refresh the view\" ui-sref=\"{{ $ctrl.state }}\" ui-sref-opts=\"{reload: $ctrl.state}\" ng-if=\"$ctrl.viewReady\">\\n      <i class=\"fa fa-sm fa-sync\" aria-hidden=\"true\" data-cy=\"component-refreshTableButton\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>\\n    <ng-transclude></ng-transclude>\\n  </rd-header-content>\\n</rd-header>\\n')}]),e.exports=t},41776:function(e){var t=\"app/kubernetes/components/view-loading/viewLoading.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"loading-view-area\" ng-if=\"!$ctrl.viewReady\">\\n  <div class=\"sk-fold sk-center\">\\n    <div class=\"sk-fold-cube\"></div>\\n    <div class=\"sk-fold-cube\"></div>\\n    <div class=\"sk-fold-cube\"></div>\\n    <div class=\"sk-fold-cube\"></div>\\n  </div>\\n</div>\\n')}]),e.exports=t},96354:function(e){var t=\"app/kubernetes/components/yaml-inspector/yamlInspector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div>\\n  <code-editor identifier=\"application-details-yaml\" read-only=\"true\" value=\"$ctrl.data\"></code-editor>\\n  <div style=\"margin: 15px\">\\n    <span class=\"btn btn-primary btn-sm\" ng-click=\"$ctrl.copyYAML()\"><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy to clipboard</span>\\n    <span class=\"btn btn-primary btn-sm space-left\" ng-click=\"$ctrl.toggleYAMLInspectorExpansion()\">\\n      <i class=\"fa fa-{{ $ctrl.expanded ? \\'minus\\' : \\'plus\\' }} space-right\" aria-hidden=\"true\"></i>{{ $ctrl.expanded ? \\'Collapse\\' : \\'Expand\\' }}</span\\n    >\\n    <span id=\"copyNotificationYAML\" style=\"margin-left: 7px; display: none; color: #23ae89\" class=\"small\"> <i class=\"fa fa-check\" aria-hidden=\"true\"></i> copied </span>\\n  </div>\\n</div>\\n')}]),e.exports=t},21843:function(e){var t=\"app/kubernetes/custom-templates/kube-create-custom-template-view/kube-create-custom-template-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create Custom template\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"kubernetes.templates.custom\">Custom Templates</a> &gt; Create Custom template </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"$ctrl.form\">\\n          <custom-template-common-fields form-values=\"$ctrl.formValues\"></custom-template-common-fields>\\n\\n          \\x3c!-- build-method --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Build method </div>\\n          <box-selector radio-name=\"\\'method\\'\" value=\"$ctrl.state.method\" options=\"$ctrl.methodOptions\" on-change=\"($ctrl.onChangeMethod)\"></box-selector>\\n\\n          <web-editor-form\\n            ng-if=\"$ctrl.state.method === \\'editor\\'\"\\n            identifier=\"template-creation-editor\"\\n            value=\"$ctrl.formValues.FileContent\"\\n            on-change=\"($ctrl.onChangeFileContent)\"\\n            ng-required=\"true\"\\n            yml=\"true\"\\n            placeholder=\"# Define or paste the content of your manifest file here\"\\n          >\\n            <editor-description>\\n              <p>Templates allow deploying any kind of Kubernetes resource (Deployment, Secret, ConfigMap...)</p>\\n              <p>\\n                You can get more information about Kubernetes file format in the\\n                <a href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/\" target=\"_blank\">official documentation</a>.\\n              </p>\\n            </editor-description>\\n          </web-editor-form>\\n\\n          <file-upload-form ng-if=\"$ctrl.state.method === \\'upload\\'\" file=\"$ctrl.formValues.File\" on-change=\"($ctrl.onChangeFile)\" ng-required=\"true\">\\n            <file-upload-description> You can upload a Manifest file from your computer. </file-upload-description>\\n          </file-upload-form>\\n\\n          <custom-templates-variables-definition-field\\n            ng-if=\"$ctrl.isTemplateVariablesEnabled\"\\n            value=\"$ctrl.formValues.Variables\"\\n            on-change=\"($ctrl.onVariablesChange)\"\\n            is-variables-names-from-parent=\"$ctrl.state.method === \\'editor\\'\"\\n          ></custom-templates-variables-definition-field>\\n\\n          <por-access-control-form form-data=\"$ctrl.formValues.AccessControlData\"></por-access-control-form>\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"!$ctrl.state.isTemplateValid ||$ctrl.state.actionInProgress || $ctrl.form.$invalid || ($ctrl.state.method === \\'editor\\' && !$ctrl.formValues.FileContent)\"\\n                ng-click=\"$ctrl.createCustomTemplate()\"\\n                button-spinner=\"$ctrl.state.actionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.state.actionInProgress\">Create custom template</span>\\n                <span ng-show=\"$ctrl.state.actionInProgress\">Creation in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px\">\\n                {{ $ctrl.state.formValidationError }}\\n              </span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},66295:function(e){var t=\"app/kubernetes/custom-templates/kube-custom-templates-view/kube-custom-templates-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Custom Templates\" state=\"kubernetes.templates.custom\" view-ready=\"true\"> Custom Templates </kubernetes-view-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <custom-templates-list\\n      ng-if=\"$ctrl.templates\"\\n      title-text=\"Templates\"\\n      title-icon=\"fa-rocket\"\\n      templates=\"$ctrl.templates\"\\n      table-key=\"customTemplates\"\\n      is-edit-allowed=\"$ctrl.isEditAllowed\"\\n      on-select-click=\"($ctrl.selectTemplate)\"\\n      on-delete-click=\"($ctrl.confirmDelete)\"\\n      create-path=\"kubernetes.templates.custom.new\"\\n      edit-path=\"kubernetes.templates.custom.edit\"\\n    ></custom-templates-list>\\n  </div>\\n</div>\\n')}]),e.exports=t},13968:function(e){var t=\"app/kubernetes/custom-templates/kube-edit-custom-template-view/kube-edit-custom-template-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Edit Custom Template\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"kubernetes.templates.custom.edit({id:$ctrl.formValues.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"kubernetes.templates.custom\">Custom templates</a> &gt; {{ $ctrl.formValues.Title }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"$ctrl.formValues\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"$ctrl.form\">\\n          <custom-template-common-fields form-values=\"$ctrl.formValues\"></custom-template-common-fields>\\n\\n          <web-editor-form\\n            identifier=\"template-editor\"\\n            value=\"$ctrl.formValues.FileContent\"\\n            on-change=\"($ctrl.onChangeFileContent)\"\\n            ng-required=\"true\"\\n            yml=\"true\"\\n            placeholder=\"# Define or paste the content of your manifest file here\"\\n          >\\n            <editor-description>\\n              <p>Templates allow deploying any kind of Kubernetes resource (Deployment, Secret, ConfigMap...)</p>\\n              <p>\\n                You can get more information about Kubernetes file format in the\\n                <a href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/\" target=\"_blank\">official documentation</a>.\\n              </p>\\n            </editor-description>\\n          </web-editor-form>\\n\\n          <custom-templates-variables-definition-field\\n            ng-if=\"$ctrl.isTemplateVariablesEnabled\"\\n            value=\"$ctrl.formValues.Variables\"\\n            on-change=\"($ctrl.onVariablesChange)\"\\n            is-variables-names-from-parent=\"true\"\\n          ></custom-templates-variables-definition-field>\\n\\n          <por-access-control-form form-data=\"$ctrl.formValues.AccessControlData\" resource-control=\"$ctrl.formValues.ResourceControl\"></por-access-control-form>\\n\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.actionInProgress || $ctrl.form.$invalid || !$ctrl.formValues.Title || !$ctrl.formValues.FileContent\"\\n                ng-click=\"$ctrl.submitAction()\"\\n                button-spinner=\"$ctrl.actionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.actionInProgress\">Update the template</span>\\n                <span ng-show=\"$ctrl.actionInProgress\">Update in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px\">\\n                {{ $ctrl.state.formValidationError }}\\n              </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},2780:function(e){var t=\"app/kubernetes/registries/kube-registry-access-view/kube-registry-access-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Registry access\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"kubernetes.registries\">Registries</a> &gt; {{ $ctrl.registry.Name }} &gt; Access management </rd-header-content>\\n</rd-header>\\n\\n<registry-details registry=\"$ctrl.registry\" ng-if=\"$ctrl.registry\"></registry-details>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-user-lock\" title-text=\"Create access\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"form-group\">\\n            <label class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"padding-top: 0\"> Select namespaces </label>\\n            <div class=\"col-sm-9 col-lg-4\" style=\"margin-bottom: 15px\">\\n              <span class=\"small text-muted\" ng-if=\"!$ctrl.resourcePools.length\"> No namespaces available. </span>\\n              <span\\n                isteven-multi-select\\n                ng-if=\"$ctrl.resourcePools.length\"\\n                input-model=\"$ctrl.resourcePools\"\\n                output-model=\"$ctrl.selectedResourcePools\"\\n                button-label=\"name\"\\n                item-label=\"name\"\\n                tick-property=\"ticked\"\\n                helper-elements=\"filter\"\\n                search-property=\"name\"\\n                translation=\"{nothingSelected: \\'Select one or more namespaces\\', search: \\'Search...\\'}\"\\n              >\\n              </span>\\n            </div>\\n            <div class=\"col-sm-12 small text-muted\">\\n              <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              Note: adding this registry will expose the registry credentials to all users of this namespace\\n            </div>\\n          </div>\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.selectedResourcePools.length === 0 || $ctrl.state.actionInProgress\"\\n                ng-click=\"$ctrl.submit()\"\\n                button-spinner=\"$ctrl.state.actionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Create access</span>\\n                <span ng-show=\"$ctrl.state.actionInProgress\">Creating access...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <strings-datatable\\n      title-text=\"Access\"\\n      title-icon=\"fa-user-lock\"\\n      table-key=\"access_registry_resourcepools\"\\n      dataset=\"$ctrl.savedResourcePools\"\\n      empty-dataset-message=\"No namespace has been authorized yet.\"\\n      on-remove=\"($ctrl.handleRemove)\"\\n      column-header=\"Namespace\"\\n    >\\n    </strings-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},79573:function(e){var t=\"app/kubernetes/views/applications/applications.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Application list\" state=\"kubernetes.applications\" view-ready=\"ctrl.state.viewReady\"> Applications </kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\" data-cy=\"k8sApp-appList\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\">\\n              <uib-tab-heading> <i class=\"fa fa-laptop-code space-right\" aria-hidden=\"true\"></i> Applications </uib-tab-heading>\\n              <kubernetes-applications-datatable\\n                dataset=\"ctrl.state.applications\"\\n                table-key=\"kubernetes.applications\"\\n                settings-key=\"kubernetes.applications\"\\n                order-by=\"Name\"\\n                remove-action=\"ctrl.removeAction\"\\n                refresh-callback=\"ctrl.getApplications\"\\n                on-publishing-mode-click=\"(ctrl.onPublishingModeClick)\"\\n                is-primary=\"true\"\\n              >\\n              </kubernetes-applications-datatable>\\n            </uib-tab>\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\">\\n              <uib-tab-heading> <i class=\"fa fa-exchange-alt space-right\" aria-hidden=\"true\"></i> Port mappings </uib-tab-heading>\\n              <kubernetes-applications-ports-datatable dataset=\"ctrl.state.ports\" table-key=\"kubernetes.applications.ports\" order-by=\"Name\" refresh-callback=\"ctrl.getApplications\">\\n              </kubernetes-applications-ports-datatable>\\n            </uib-tab>\\n            <uib-tab index=\"2\" classes=\"btn-sm\" select=\"ctrl.selectTab(2)\">\\n              <uib-tab-heading> <i class=\"fa fa-th-list space-right\" aria-hidden=\"true\"></i> Stacks </uib-tab-heading>\\n              <kubernetes-applications-stacks-datatable\\n                dataset=\"ctrl.state.stacks\"\\n                table-key=\"kubernetes.applications.stacks\"\\n                order-by=\"Name\"\\n                refresh-callback=\"ctrl.getApplications\"\\n                remove-action=\"ctrl.removeStacksAction\"\\n              >\\n              </kubernetes-applications-stacks-datatable>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},65998:function(e){var t=\"app/kubernetes/views/applications/console/console.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Application console\" state=\"kubernetes.applications.application.console\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })\">{{ ctrl.application.ResourcePool }}</a> &gt;\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt;\\n  <a ui-sref=\"kubernetes.applications.application({ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool })\">{{ ctrl.application.Name }}</a> &gt; Pods &gt;\\n  {{ ctrl.podName }} &gt; Containers &gt; {{ ctrl.containerName }} &gt; Console\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" autocomplete=\"off\">\\n            <div class=\"col-sm-12 form-section-title\"> Console </div>\\n            \\x3c!-- Command --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"console_command\" class=\"col-sm-1 control-label text-left\">Command</label>\\n              <div class=\"col-sm-10 input-group\">\\n                <span class=\"input-group-addon\">\\n                  <i class=\"fas fa-terminal\" aria-hidden=\"true\"></i>\\n                </span>\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  placeholder=\"/bin/bash\"\\n                  ng-model=\"ctrl.state.command\"\\n                  name=\"console_command\"\\n                  uib-typeahead=\"command for command in ctrl.state.availableCommands | filter:$viewValue | limitTo:5\"\\n                  typeahead-show-hint=\"true\"\\n                  typeahead-min-length=\"0\"\\n                  auto-focus\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !command --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  style=\"margin: 0\"\\n                  ng-if=\"!ctrl.state.connected\"\\n                  ng-disabled=\"!ctrl.state.command || ctrl.state.connected\"\\n                  ng-click=\"ctrl.connectConsole()\"\\n                  button-spinner=\"ctrl.state.actionInProgress\"\\n                >\\n                  <span ng-hide=\"ctrl.state.actionInProgress\">Connect</span>\\n                  <span ng-show=\"ctrl.state.actionInProgress\">Connection in progress...</span>\\n                </button>\\n                <button type=\"button\" class=\"btn btn-primary btn-sm\" style=\"margin: 0\" ng-if=\"ctrl.state.connected\" ng-click=\"ctrl.disconnect()\"> Disconnect </button>\\n              </div>\\n            </div>\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <div id=\"terminal-container\" class=\"terminal-container\"></div>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},1866:function(e){var t=\"app/kubernetes/views/applications/create/createApplication.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header ng-if=\"!ctrl.state.isEdit\" title=\"Create application\" state=\"kubernetes.applications.new\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt; Create an application\\n</kubernetes-view-header>\\n<kubernetes-view-header ng-if=\"ctrl.state.isEdit\" title=\"Edit application\" state=\"kubernetes.applications.application.edit\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })\">{{ ctrl.application.ResourcePool }}</a> &gt;\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt;\\n  <a ui-sref=\"kubernetes.applications.application({ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool })\">{{ ctrl.application.Name }}</a> &gt; Edit\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-xs-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" name=\"kubernetesApplicationCreationForm\" autocomplete=\"off\">\\n            <div ng-if=\"!ctrl.isExternalApplication()\">\\n              <git-form-info-panel\\n                ng-if=\"ctrl.state.appType == ctrl.KubernetesDeploymentTypes.GIT\"\\n                class-name=\"text-muted\"\\n                url=\"ctrl.stack.GitConfig.URL\"\\n                config-file-path=\"ctrl.stack.GitConfig.ConfigFilePath\"\\n                additional-files=\"ctrl.stack.AdditionalFiles\"\\n                type=\"application\"\\n              ></git-form-info-panel>\\n              <div class=\"col-sm-12 form-section-title\" ng-if=\"ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM\"> Namespace </div>\\n              \\x3c!-- #region NAMESPACE --\\x3e\\n              <div class=\"form-group\" ng-if=\"ctrl.formValues.ResourcePool\">\\n                <label for=\"resource-pool-selector\" class=\"col-sm-1 control-label text-left\">Namespace</label>\\n                <div class=\"col-sm-11\">\\n                  <select\\n                    class=\"form-control\"\\n                    id=\"resource-pool-selector\"\\n                    ng-model=\"ctrl.formValues.ResourcePool\"\\n                    ng-options=\"resourcePool.Namespace.Name for resourcePool in ctrl.resourcePools\"\\n                    ng-change=\"ctrl.onResourcePoolSelectionChange()\"\\n                    ng-disabled=\"ctrl.state.isEdit\"\\n                    data-cy=\"k8sAppCreate-nsSelect\"\\n                  ></select>\\n                </div>\\n              </div>\\n              <div class=\"form-group\" ng-if=\"ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded() && ctrl.formValues.ResourcePool\">\\n                <div class=\"col-sm-12 small text-danger\">\\n                  <i class=\"fa fa-exclamation-circle red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  This namespace has exhausted its resource capacity and you will not be able to deploy the application. Contact your administrator to expand the capacity of the\\n                  namespace.\\n                </div>\\n              </div>\\n              <div class=\"form-group\" ng-if=\"!ctrl.formValues.ResourcePool\">\\n                <div class=\"col-sm-12 small text-muted\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  You do not have access to any namespace. Contact your administrator to get access to a namespace.\\n                </div>\\n              </div>\\n              \\x3c!-- #endregion --\\x3e\\n\\n              \\x3c!-- #region Git repository --\\x3e\\n              <kubernetes-redeploy-app-git-form\\n                ng-if=\"ctrl.state.appType === ctrl.KubernetesDeploymentTypes.GIT\"\\n                stack=\"ctrl.stack\"\\n                namespace=\"ctrl.formValues.ResourcePool.Namespace.Name\"\\n              ></kubernetes-redeploy-app-git-form>\\n              \\x3c!-- #endregion --\\x3e\\n\\n              \\x3c!-- #region web editor --\\x3e\\n              <web-editor-form\\n                ng-if=\"ctrl.state.appType === ctrl.KubernetesDeploymentTypes.CONTENT\"\\n                value=\"ctrl.stackFileContent\"\\n                yml=\"true\"\\n                identifier=\"kubernetes-deploy-editor\"\\n                placeholder=\"# Define or paste the content of your manifest file here\"\\n                on-change=\"(ctrl.onChangeFileContent)\"\\n              >\\n                <editor-description>\\n                  <span class=\"text-muted small\" ng-show=\"ctrl.stack.IsComposeFormat\">\\n                    <p>\\n                      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      Portainer uses <a href=\"https://kompose.io/\" target=\"_blank\">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that not\\n                      all the Compose format options are supported by Kompose at the moment.\\n                    </p>\\n                    <p>\\n                      You can get more information about Compose file format in the\\n                      <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\">official documentation</a>.\\n                    </p>\\n                  </span>\\n                  <span class=\"text-muted small\" ng-show=\"!ctrl.stack.IsComposeFormat\">\\n                    <p>\\n                      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      This feature allows you to deploy any kind of Kubernetes resource in this environment (Deployment, Secret, ConfigMap...).\\n                    </p>\\n                    <p>\\n                      You can get more information about Kubernetes file format in the\\n                      <a href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/\" target=\"_blank\">official documentation</a>.\\n                    </p>\\n                  </span>\\n                </editor-description>\\n              </web-editor-form>\\n              \\x3c!-- #endregion --\\x3e\\n              <div ng-if=\"ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM\">\\n                <div class=\"col-sm-12 form-section-title\"> Application </div>\\n                \\x3c!-- #region NAME FIELD --\\x3e\\n                <div class=\"form-group\">\\n                  <label for=\"application_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n                  <div class=\"col-sm-11\">\\n                    <input\\n                      type=\"text\"\\n                      class=\"form-control\"\\n                      name=\"application_name\"\\n                      ng-model=\"ctrl.formValues.Name\"\\n                      ng-change=\"ctrl.onChangeName()\"\\n                      placeholder=\"my-app\"\\n                      ng-pattern=\"/^[a-z]([a-z0-9-]{0,61}[a-z0-9])?$/\"\\n                      auto-focus\\n                      required\\n                      ng-disabled=\"ctrl.state.isEdit\"\\n                      data-cy=\"k8sAppCreate-applicationName\"\\n                    />\\n                  </div>\\n                </div>\\n                <div class=\"form-group\" ng-show=\"kubernetesApplicationCreationForm.application_name.$invalid || ctrl.state.alreadyExists\">\\n                  <div class=\"col-sm-12 small text-warning\">\\n                    <div ng-messages=\"kubernetesApplicationCreationForm.application_name.$error\">\\n                      <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                      <p ng-message=\"pattern\">\\n                        <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                        This field must consist of lower case alphanumeric characters or \\'-\\', contain at most 63 characters, start with an alphabetic character, and end with an\\n                        alphanumeric character (e.g. \\'my-name\\', or \\'abc-123\\').\\n                      </p>\\n                    </div>\\n                    <p ng-if=\"ctrl.state.alreadyExists\">\\n                      <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                      An application with the same name already exists inside the selected namespace.\\n                    </p>\\n                  </div>\\n                </div>\\n                \\x3c!-- #endregion --\\x3e\\n\\n                \\x3c!-- #region IMAGE FIELD --\\x3e\\n\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <por-image-registry\\n                      model=\"ctrl.formValues.ImageModel\"\\n                      ng-if=\"ctrl.formValues.ResourcePool\"\\n                      auto-complete=\"false\"\\n                      label-class=\"col-sm-1\"\\n                      input-class=\"col-sm-11\"\\n                      namespace=\"ctrl.formValues.ResourcePool.Namespace.Name\"\\n                      endpoint=\"ctrl.endpoint\"\\n                      is-admin=\"ctrl.isAdmin\"\\n                      check-rate-limits=\"true\"\\n                      set-validity=\"ctrl.setPullImageValidity\"\\n                    ></por-image-registry>\\n                  </div>\\n                </div>\\n                <div ng-if=\"ctrl.formValues.ResourcePool\">\\n                  <div class=\"col-sm-12 form-section-title\"> Stack </div>\\n                  \\x3c!-- #region STACK --\\x3e\\n                  <div class=\"form-group\">\\n                    <div class=\"col-sm-12 small text-muted\">\\n                      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      Portainer can automatically bundle multiple applications inside a stack. Enter a name of a new stack or select an existing stack in the list. Leave empty to\\n                      use the application name.\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\">\\n                    <label for=\"stack_name\" class=\"col-sm-1 control-label text-left\">Stack</label>\\n                    <div class=\"col-sm-11\">\\n                      <input\\n                        type=\"text\"\\n                        class=\"form-control\"\\n                        placeholder=\"myStack\"\\n                        ng-model=\"ctrl.formValues.StackName\"\\n                        name=\"stack_name\"\\n                        uib-typeahead=\"stack for stack in ctrl.stacks | filter:$viewValue | limitTo:7\"\\n                        typeahead-show-hint=\"true\"\\n                        typeahead-min-length=\"0\"\\n                        data-cy=\"k8sAppCreate-stackName\"\\n                      />\\n                    </div>\\n                  </div>\\n                  \\x3c!-- #endregion --\\x3e\\n\\n                  <div class=\"col-sm-12 form-section-title\"> Environment </div>\\n                  \\x3c!-- #region ENVIRONMENT VARIABLES --\\x3e\\n                  <div class=\"form-group\">\\n                    <div class=\"col-sm-12\">\\n                      <label class=\"control-label text-left\">Environment variables</label>\\n                      <span\\n                        ng-if=\"ctrl.formValues.Containers.length <= 1\"\\n                        class=\"label label-default interactive\"\\n                        style=\"margin-left: 10px\"\\n                        ng-click=\"ctrl.addEnvironmentVariable()\"\\n                        data-cy=\"k8sAppCreate-addEnvVarButton\"\\n                      >\\n                        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add environment variable\\n                      </span>\\n                    </div>\\n\\n                    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                      <div ng-repeat=\"envVar in ctrl.formValues.EnvironmentVariables | orderBy: \\'NameIndex\\'\" style=\"margin-top: 2px\">\\n                        <div style=\"margin-top: 2px\">\\n                          <div class=\"col-sm-4 input-group input-group-sm\">\\n                            <div class=\"input-group col-sm-12 input-group-sm\" ng-class=\"{ striked: envVar.NeedsDeletion }\">\\n                              <span class=\"input-group-addon\">name</span>\\n                              <input\\n                                type=\"text\"\\n                                name=\"environment_variable_name_{{ $index }}\"\\n                                class=\"form-control\"\\n                                ng-model=\"envVar.Name\"\\n                                ng-change=\"ctrl.onChangeEnvironmentName()\"\\n                                ng-pattern=\"/^[-._a-zA-Z][-._a-zA-Z0-9]*$/\"\\n                                placeholder=\"foo\"\\n                                ng-disabled=\"ctrl.formValues.Containers.length > 1\"\\n                                data-cy=\"k8sAppCreate-envVarName_{{ $index }}\"\\n                                required\\n                              />\\n                            </div>\\n                          </div>\\n\\n                          <div class=\"col-sm-4 input-group input-group-sm\" ng-class=\"{ striked: envVar.NeedsDeletion }\">\\n                            <span class=\"input-group-addon\">value</span>\\n                            <input\\n                              type=\"text\"\\n                              name=\"environment_variable_value_{{ $index }}\"\\n                              class=\"form-control\"\\n                              ng-model=\"envVar.Value\"\\n                              placeholder=\"bar\"\\n                              ng-disabled=\"ctrl.formValues.Containers.length > 1\"\\n                              data-cy=\"k8sAppCreate-envVarValue_{{ $index }}\"\\n                            />\\n                          </div>\\n\\n                          <div class=\"col-sm-2 input-group input-group-sm\" ng-if=\"ctrl.formValues.Containers.length <= 1\">\\n                            <button ng-if=\"!envVar.NeedsDeletion\" class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"ctrl.removeEnvironmentVariable(envVar)\">\\n                              <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                            </button>\\n                            <button\\n                              ng-if=\"envVar.NeedsDeletion\"\\n                              class=\"btn btn-sm btn-primary\"\\n                              type=\"button\"\\n                              ng-click=\"ctrl.restoreEnvironmentVariable(envVar)\"\\n                              data-cy=\"k8sAppCreate-removeEnvVarButton_{{ $index }}\"\\n                            >\\n                              <i class=\"fa fa-trash-restore\" aria-hidden=\"true\"></i>\\n                            </button>\\n                          </div>\\n                        </div>\\n                        <div\\n                          ng-show=\"\\n                            kubernetesApplicationCreationForm[\\'environment_variable_name_\\' + $index].$invalid ||\\n                            ctrl.state.duplicates.environmentVariables.refs[$index] !== undefined\\n                          \"\\n                        >\\n                          <div class=\"col-sm-4 input-group input-group-sm\">\\n                            <div\\n                              class=\"small text-warning\"\\n                              style=\"margin-top: 5px\"\\n                              ng-show=\"\\n                                kubernetesApplicationCreationForm[\\'environment_variable_name_\\' + $index].$invalid ||\\n                                ctrl.state.duplicates.environmentVariables.refs[$index] !== undefined\\n                              \"\\n                            >\\n                              <ng-messages for=\"kubernetesApplicationCreationForm[\\'environment_variable_name_\\' + $index].$error\">\\n                                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Environment variable name is required.</p>\\n                                <p ng-message=\"pattern\"\\n                                  ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field must consist of alphabetic characters, digits, \\'_\\', \\'-\\', or \\'.\\', and\\n                                  must not start with a digit (e.g. \\'my.env-name\\', or \\'MY_ENV.NAME\\', or \\'MyEnvName1\\'.</p\\n                                >\\n                              </ng-messages>\\n                              <p ng-if=\"ctrl.state.duplicates.environmentVariables.refs[$index] !== undefined\"\\n                                ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This environment variable is already defined.</p\\n                              >\\n                            </div>\\n                          </div>\\n                          <div class=\"col-sm-4 input-group input-group-sm\"></div>\\n                          <div class=\"col-sm-2 input-group input-group-sm\"></div>\\n                        </div>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  \\x3c!-- #endregion --\\x3e\\n\\n                  <div class=\"col-sm-12 form-section-title\"> Configurations </div>\\n                  \\x3c!-- #region CONFIGURATIONS --\\x3e\\n                  <div class=\"form-group\">\\n                    <div class=\"col-sm-12\">\\n                      <label class=\"control-label text-left\">Configurations</label>\\n                      <span\\n                        class=\"label label-default interactive\"\\n                        style=\"margin-left: 10px\"\\n                        ng-click=\"ctrl.addConfiguration()\"\\n                        ng-if=\"ctrl.formValues.Containers.length <= 1\"\\n                        data-cy=\"k8sAppCreate-addConfigButton\"\\n                      >\\n                        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add configuration\\n                      </span>\\n                    </div>\\n                    <div class=\"col-sm-12 small text-muted\" style=\"margin-top: 15px\" ng-if=\"ctrl.formValues.Configurations.length\">\\n                      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      Portainer will automatically expose all the keys of a configuration as environment variables. This behavior can be overriden to filesystem mounts for each key\\n                      via the override button.\\n                    </div>\\n                  </div>\\n\\n                  \\x3c!-- config-element --\\x3e\\n                  <div class=\"form-group\" ng-repeat=\"(index, config) in ctrl.formValues.Configurations\">\\n                    <label for=\"stack_name\" class=\"col-md-1 col-sm-2 control-label text-left\">Configuration</label>\\n                    <div class=\"col-sm-5\">\\n                      <select\\n                        class=\"form-control\"\\n                        ng-model=\"config.SelectedConfiguration\"\\n                        ng-options=\"c as c.Name for c in ctrl.configurations track by c.Name\"\\n                        ng-change=\"ctrl.resetConfiguration(index)\"\\n                        ng-disabled=\"ctrl.formValues.Containers.length > 1\"\\n                        data-cy=\"k8sAppCreate-addConfigSelect_{{ $index }}\"\\n                      ></select>\\n                    </div>\\n                    <div class=\"col-sm-6\" style=\"margin-top: 2px\">\\n                      <button\\n                        class=\"btn btn-sm btn-primary\"\\n                        type=\"button\"\\n                        ng-if=\"!config.Overriden\"\\n                        ng-click=\"ctrl.overrideConfiguration(index)\"\\n                        ng-disabled=\"!config.SelectedConfiguration || ctrl.formValues.Containers.length > 1\"\\n                        data-cy=\"k8sAppCreate-configOverrideButton_{{ $index }}\"\\n                      >\\n                        <i class=\"fa fa-list\" aria-hidden=\"true\"></i> Override\\n                      </button>\\n                      <button\\n                        class=\"btn btn-sm btn-primary\"\\n                        type=\"button\"\\n                        ng-if=\"config.Overriden\"\\n                        ng-click=\"ctrl.resetConfiguration(index)\"\\n                        ng-disabled=\"ctrl.formValues.Containers.length > 1\"\\n                        data-cy=\"k8sAppCreate-configAutoButton_{{ $index }}\"\\n                      >\\n                        <i class=\"fa fa-undo\" aria-hidden=\"true\"></i> Auto\\n                      </button>\\n                      <button\\n                        class=\"btn btn-sm btn-danger\"\\n                        type=\"button\"\\n                        ng-click=\"ctrl.removeConfiguration(index)\"\\n                        ng-if=\"ctrl.formValues.Containers.length <= 1\"\\n                        data-cy=\"k8sAppCreate-configRemoveButton\"\\n                      >\\n                        <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i> Remove\\n                      </button>\\n                    </div>\\n                    \\x3c!-- no-override --\\x3e\\n                    <div class=\"col-sm-12\" style=\"margin-top: 10px\" ng-if=\"config.SelectedConfiguration && !config.Overriden\">\\n                      <div class=\"col-md-1 col-sm-2\"></div>\\n                      <div class=\"col-md-11 col-sm-10 small text-muted\" style=\"padding-left: 5px\">\\n                        The following keys will be loaded from the <code>{{ config.SelectedConfiguration.Name }}</code> configuration as environment variables:\\n                        <span ng-repeat=\"(key, _) in config.SelectedConfiguration.Data\">\\n                          <code>{{ key }}</code\\n                          >{{ $last ? \\'\\' : \\', \\' }}\\n                        </span>\\n                      </div>\\n                    </div>\\n                    \\x3c!-- !no-override --\\x3e\\n\\n                    \\x3c!-- has-override --\\x3e\\n                    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\" ng-if=\"config.Overriden\">\\n                      <div ng-repeat=\"(keyIndex, overridenKey) in config.OverridenKeys\" style=\"margin-top: 2px\">\\n                        <div style=\"margin-top: 2px\">\\n                          <div class=\"col-sm-1 input-group input-group-sm\" style=\"margin-left: 3px\"></div>\\n                          <div class=\"col-sm-3 input-group input-group-sm\">\\n                            <span class=\"input-group-addon\">configuration key</span>\\n                            <input type=\"text\" class=\"form-control\" ng-value=\"overridenKey.Key\" disabled />\\n                          </div>\\n\\n                          <div class=\"col-sm-3 input-group input-group-sm\" ng-if=\"overridenKey.Type === ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM\">\\n                            <div class=\"col-sm-12 input-group input-group-sm\">\\n                              <span class=\"input-group-addon\">path on disk</span>\\n                              <input\\n                                type=\"text\"\\n                                class=\"form-control\"\\n                                ng-model=\"overridenKey.Path\"\\n                                placeholder=\"/etc/myapp/conf.d\"\\n                                name=\"overriden_key_path_{{ index }}_{{ keyIndex }}\"\\n                                ng-disabled=\"ctrl.formValues.Containers.length > 1\"\\n                                required\\n                                ng-change=\"ctrl.onChangeConfigurationPath()\"\\n                                data-cy=\"k8sAppCreate-pathOnDiskInput\"\\n                              />\\n                            </div>\\n                          </div>\\n\\n                          <div class=\"input-group col-sm-4 btn-group btn-group-sm\">\\n                            <label class=\"btn btn-primary\" ng-model=\"overridenKey.Type\" uib-btn-radio=\"ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.ENVIRONMENT\">\\n                              <i class=\"fa fa-list\" aria-hidden=\"true\"></i> Environment\\n                            </label>\\n                            <label class=\"btn btn-primary\" ng-model=\"overridenKey.Type\" uib-btn-radio=\"ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM\">\\n                              <i class=\"fa fa-file\" aria-hidden=\"true\"></i> Filesystem\\n                            </label>\\n                          </div>\\n                        </div>\\n\\n                        <div\\n                          ng-show=\"\\n                            kubernetesApplicationCreationForm[\\'overriden_key_path_\\' + index + \\'_\\' + keyIndex].$invalid ||\\n                            ctrl.state.duplicates.configurationPaths.refs[index + \\'_\\' + keyIndex] !== undefined\\n                          \"\\n                        >\\n                          <div class=\"col-sm-1 input-group input-group-sm\" style=\"margin-left: 3px\"></div>\\n                          <div class=\"col-sm-3 input-group input-group-sm\"></div>\\n                          <div class=\"col-sm-3 input-group input-group-sm\" ng-if=\"overridenKey.Type === ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM\">\\n                            <div\\n                              class=\"small text-warning\"\\n                              style=\"margin-top: 5px\"\\n                              ng-show=\"\\n                                kubernetesApplicationCreationForm[\\'overriden_key_path_\\' + index + \\'_\\' + keyIndex].$invalid ||\\n                                ctrl.state.duplicates.configurationPaths.refs[index + \\'_\\' + keyIndex] !== undefined\\n                              \"\\n                            >\\n                              <ng-messages for=\"kubernetesApplicationCreationForm[\\'overriden_key_path_\\' + index + \\'_\\' + keyIndex].$error\">\\n                                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Path is required.</p>\\n                              </ng-messages>\\n                              <p ng-if=\"ctrl.state.duplicates.configurationPaths.refs[index + \\'_\\' + keyIndex] !== undefined\"\\n                                ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This path is already used.</p\\n                              >\\n                            </div>\\n                          </div>\\n                          <div class=\"col-sm-4 input-group input-group-sm\"></div>\\n                        </div>\\n                      </div>\\n                    </div>\\n                    \\x3c!-- !has-override --\\x3e\\n                  </div>\\n                  \\x3c!-- !config-element --\\x3e\\n                  \\x3c!-- #endregion --\\x3e\\n\\n                  <div class=\"col-sm-12 form-section-title\"> Persisting data </div>\\n                  \\x3c!-- #region PERSISTED FOLDERS --\\x3e\\n                  <div class=\"form-group\" ng-if=\"!ctrl.storageClassAvailable()\">\\n                    <div class=\"col-sm-12 small text-muted\">\\n                      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      No storage option is available to persist data, contact your administrator to enable a storage option.\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\" ng-if=\"ctrl.storageClassAvailable()\">\\n                    <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                      <label class=\"control-label text-left\">Persisted folders</label>\\n                      <span\\n                        class=\"label label-default interactive\"\\n                        style=\"margin-left: 10px\"\\n                        ng-click=\"ctrl.addPersistedFolder()\"\\n                        ng-if=\"ctrl.isAddPersistentFolderButtonShowed()\"\\n                        data-cy=\"k8sAppCreate-addPersistentFolderButton\"\\n                      >\\n                        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add persisted folder\\n                      </span>\\n                    </div>\\n\\n                    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\" ng-repeat=\"persistedFolder in ctrl.formValues.PersistedFolders\">\\n                      <div style=\"margin-top: 2px\">\\n                        <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: persistedFolder.NeedsDeletion }\">\\n                          <span class=\"input-group-addon\">path in container</span>\\n                          <input\\n                            type=\"text\"\\n                            class=\"form-control\"\\n                            name=\"persisted_folder_path_{{ $index }}\"\\n                            ng-model=\"persistedFolder.ContainerPath\"\\n                            ng-change=\"ctrl.onChangePersistedFolderPath()\"\\n                            ng-disabled=\"ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1\"\\n                            placeholder=\"/data\"\\n                            required\\n                            data-cy=\"k8sAppCreate-containerPathInput_{{ $index }}\"\\n                          />\\n                        </div>\\n\\n                        <div class=\"input-group col-sm-2 input-group-sm\">\\n                          <span\\n                            class=\"btn-group btn-group-sm\"\\n                            ng-class=\"{ striked: persistedFolder.NeedsDeletion }\"\\n                            ng-if=\"\\n                              !ctrl.isEditAndExistingPersistedFolder($index) &&\\n                              ctrl.application.ApplicationType !== ctrl.ApplicationTypes.STATEFULSET &&\\n                              ctrl.formValues.Containers.length <= 1\\n                            \"\\n                          >\\n                            <label\\n                              class=\"btn btn-primary\"\\n                              ng-model=\"persistedFolder.UseNewVolume\"\\n                              uib-btn-radio=\"true\"\\n                              ng-change=\"ctrl.useNewVolume($index)\"\\n                              ng-disabled=\"ctrl.isNewVolumeButtonDisabled($index)\"\\n                              >New volume</label\\n                            >\\n                            <label\\n                              class=\"btn btn-primary\"\\n                              ng-model=\"persistedFolder.UseNewVolume\"\\n                              uib-btn-radio=\"false\"\\n                              ng-change=\"ctrl.useExistingVolume($index)\"\\n                              ng-disabled=\"ctrl.isExistingVolumeButtonDisabled()\"\\n                              >Existing volume</label\\n                            >\\n                          </span>\\n                        </div>\\n\\n                        <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: persistedFolder.NeedsDeletion }\" ng-if=\"persistedFolder.UseNewVolume\">\\n                          <span class=\"input-group-addon\">requested size</span>\\n                          <input\\n                            type=\"number\"\\n                            class=\"form-control\"\\n                            name=\"persisted_folder_size_{{ $index }}\"\\n                            ng-model=\"persistedFolder.Size\"\\n                            placeholder=\"20\"\\n                            ng-min=\"0\"\\n                            required\\n                            ng-disabled=\"ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1\"\\n                          />\\n                          <span class=\"input-group-addon\" style=\"padding: 0\">\\n                            <select\\n                              ng-model=\"persistedFolder.SizeUnit\"\\n                              ng-style=\"{ width: \\'100%\\', height: \\'100%\\', cursor: ctrl.isEditAndExistingPersistedFolder($index) ? \\'not-allowed\\' : \\'auto\\' }\"\\n                              ng-options=\"unit for unit in ctrl.state.availableSizeUnits\"\\n                              ng-disabled=\"ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1\"\\n                            ></select>\\n                          </span>\\n                        </div>\\n\\n                        <div class=\"input-group col-sm-2 input-group-sm\" ng-class=\"{ striked: persistedFolder.NeedsDeletion }\" ng-if=\"persistedFolder.UseNewVolume\">\\n                          <span class=\"input-group-addon\">storage</span>\\n                          <select\\n                            ng-if=\"ctrl.hasMultipleStorageClassesAvailable()\"\\n                            class=\"form-control\"\\n                            ng-model=\"persistedFolder.StorageClass\"\\n                            ng-options=\"storageClass as storageClass.Name for storageClass in ctrl.storageClasses\"\\n                            ng-disabled=\"ctrl.state.isEdit || ctrl.formValues.Containers.length > 1\"\\n                            data-cy=\"k8sAppCreate-storageSelect_{{ $index }}\"\\n                          ></select>\\n                          <input\\n                            ng-if=\"!ctrl.hasMultipleStorageClassesAvailable()\"\\n                            type=\"text\"\\n                            class=\"form-control\"\\n                            disabled\\n                            ng-model=\"persistedFolder.StorageClass.Name\"\\n                            data-cy=\"k8sAppCreate-storageClassNameInput_{{ $index }}\"\\n                          />\\n                        </div>\\n\\n                        <div class=\"input-group col-sm-5 input-group-sm\" ng-if=\"!persistedFolder.UseNewVolume\" ng-class=\"{ striked: persistedFolder.NeedsDeletion }\">\\n                          <span class=\"input-group-addon\">volume</span>\\n                          <select\\n                            class=\"form-control\"\\n                            name=\"existing_volumes_{{ $index }}\"\\n                            ng-model=\"ctrl.formValues.PersistedFolders[$index].ExistingVolume\"\\n                            ng-options=\"vol as vol.PersistentVolumeClaim.Name for vol in ctrl.availableVolumes\"\\n                            ng-change=\"ctrl.onChangeExistingVolumeSelection()\"\\n                            ng-disabled=\"ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1\"\\n                            required\\n                          >\\n                            <option selected disabled hidden value=\"\">Select a volume</option>\\n                          </select>\\n                        </div>\\n\\n                        <div class=\"input-group col-sm-1 input-group-sm\">\\n                          <div ng-if=\"!ctrl.isEditAndStatefulSet() && !ctrl.state.useExistingVolume[$index] && ctrl.formValues.Containers.length <= 1\">\\n                            <button\\n                              ng-if=\"!persistedFolder.NeedsDeletion\"\\n                              class=\"btn btn-sm btn-danger\"\\n                              type=\"button\"\\n                              ng-click=\"ctrl.removePersistedFolder($index)\"\\n                              data-cy=\"k8sAppCreate-rmPersistentFolderButton\"\\n                            >\\n                              <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                            </button>\\n                            <button\\n                              ng-if=\"persistedFolder.NeedsDeletion\"\\n                              class=\"btn btn-sm btn-primary\"\\n                              type=\"button\"\\n                              ng-click=\"ctrl.restorePersistedFolder($index)\"\\n                              data-cy=\"k8sAppCreate-restorePersistentButton\"\\n                            >\\n                              <i class=\"fa fa-trash-restore\" aria-hidden=\"true\"></i>\\n                            </button>\\n                          </div>\\n                        </div>\\n                      </div>\\n\\n                      <div\\n                        ng-show=\"\\n                          kubernetesApplicationCreationForm[\\'persisted_folder_path_\\' + $index].$invalid ||\\n                          ctrl.state.duplicates.persistedFolders.refs[$index] !== undefined ||\\n                          kubernetesApplicationCreationForm[\\'persisted_folder_size_\\' + $index].$invalid ||\\n                          kubernetesApplicationCreationForm[\\'existing_volumes_\\' + $index].$invalid ||\\n                          ctrl.state.duplicates.existingVolumes.refs[$index] !== undefined\\n                        \"\\n                      >\\n                        <div class=\"input-group col-sm-3 input-group-sm\">\\n                          <div\\n                            class=\"small text-warning\"\\n                            style=\"margin-top: 5px\"\\n                            ng-show=\"\\n                              kubernetesApplicationCreationForm[\\'persisted_folder_path_\\' + $index].$invalid || ctrl.state.duplicates.persistedFolders.refs[$index] !== undefined\\n                            \"\\n                          >\\n                            <ng-messages for=\"kubernetesApplicationCreationForm[\\'persisted_folder_path_\\' + $index].$error\">\\n                              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Path is required.</p>\\n                            </ng-messages>\\n                            <p ng-if=\"ctrl.state.duplicates.persistedFolders.refs[$index] !== undefined\"\\n                              ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This path is already defined.</p\\n                            >\\n                          </div>\\n                        </div>\\n\\n                        <div class=\"input-group col-sm-2 input-group-sm\"></div>\\n\\n                        <div class=\"input-group col-sm-5 input-group-sm\">\\n                          <div class=\"small text-warning\" style=\"margin-top: 5px\" ng-show=\"kubernetesApplicationCreationForm[\\'persisted_folder_size_\\' + $index].$invalid\">\\n                            <ng-messages for=\"kubernetesApplicationCreationForm[\\'persisted_folder_size_\\' + $index].$error\">\\n                              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Size is required.</p>\\n                              <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This value must be greater than zero.</p>\\n                            </ng-messages>\\n                          </div>\\n                          <div\\n                            class=\"small text-warning\"\\n                            ng-show=\"kubernetesApplicationCreationForm[\\'existing_volumes_\\' + $index].$invalid || ctrl.state.duplicates.existingVolumes.refs[$index] !== undefined\"\\n                          >\\n                            <ng-messages for=\"kubernetesApplicationCreationForm[\\'existing_volumes_\\' + $index].$error\">\\n                              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Volume is required.</p>\\n                            </ng-messages>\\n                            <p ng-if=\"ctrl.state.duplicates.existingVolumes.refs[$index] !== undefined\"\\n                              ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This volume is already used.</p\\n                            >\\n                          </div>\\n                        </div>\\n\\n                        <div class=\"input-group col-sm-1 input-group-sm\"> </div>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  \\x3c!-- #endregion --\\x3e\\n\\n                  \\x3c!-- #region DATA ACCESS POLICY --\\x3e\\n                  <div ng-if=\"ctrl.showDataAccessPolicySection()\">\\n                    <div class=\"form-group\">\\n                      <div class=\"col-sm-12\">\\n                        <label class=\"control-label text-left\">Data access policy</label>\\n                      </div>\\n                    </div>\\n\\n                    <div class=\"form-group\">\\n                      <div class=\"col-sm-12 small text-muted\"> Specify how the data will be used across instances. </div>\\n                    </div>\\n\\n                    \\x3c!-- access policy options --\\x3e\\n                    <div class=\"form-group\" style=\"margin-bottom: 0\">\\n                      <div class=\"boxselector_wrapper\">\\n                        <div\\n                          ng-if=\"\\n                            (!ctrl.state.isEdit && !ctrl.state.persistedFoldersUseExistingVolumes) ||\\n                            (ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.ISOLATED)\\n                          \"\\n                        >\\n                          <input\\n                            type=\"radio\"\\n                            id=\"data_access_isolated\"\\n                            ng-value=\"ctrl.ApplicationDataAccessPolicies.ISOLATED\"\\n                            ng-model=\"ctrl.formValues.DataAccessPolicy\"\\n                            ng-change=\"ctrl.resetDeploymentType()\"\\n                          />\\n                          <label for=\"data_access_isolated\">\\n                            <div class=\"boxselector_header\">\\n                              <i class=\"fa fa-cubes\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                              Isolated\\n                            </div>\\n                            <p>Application will be deployed as a StatefulSet with each instantiating their own data</p>\\n                          </label>\\n                        </div>\\n                        <div\\n                          style=\"color: #767676\"\\n                          ng-if=\"\\n                            (ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.SHARED) || ctrl.state.persistedFoldersUseExistingVolumes\\n                          \"\\n                        >\\n                          <input type=\"radio\" id=\"data_access_isolated\" disabled />\\n                          <label\\n                            for=\"data_access_isolated\"\\n                            tooltip-append-to-body=\"true\"\\n                            tooltip-placement=\"bottom\"\\n                            tooltip-class=\"portainer-tooltip\"\\n                            uib-tooltip=\"Changing the data access policy is not allowed\"\\n                            style=\"cursor: pointer; border-color: #767676\"\\n                          >\\n                            <div class=\"boxselector_header\">\\n                              <i class=\"fa fa-cubes\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                              Isolated\\n                            </div>\\n                            <p>Application will be deployed as a StatefulSet with each instantiating their own data</p>\\n                          </label>\\n                        </div>\\n                        <div ng-if=\"!ctrl.state.isEdit || (ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.SHARED)\">\\n                          <input\\n                            type=\"radio\"\\n                            id=\"data_access_shared\"\\n                            ng-value=\"ctrl.ApplicationDataAccessPolicies.SHARED\"\\n                            ng-model=\"ctrl.formValues.DataAccessPolicy\"\\n                            ng-change=\"ctrl.resetDeploymentType()\"\\n                          />\\n                          <label for=\"data_access_shared\">\\n                            <div class=\"boxselector_header\">\\n                              <i class=\"fa fa-cube\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                              Shared\\n                            </div>\\n                            <p>Application will be deployed as a Deployment with a shared storage access</p>\\n                          </label>\\n                        </div>\\n                        <div style=\"color: #767676\" ng-if=\"ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.ISOLATED\">\\n                          <input type=\"radio\" id=\"data_access_shared\" disabled />\\n                          <label\\n                            for=\"data_access_shared\"\\n                            tooltip-append-to-body=\"true\"\\n                            tooltip-placement=\"bottom\"\\n                            tooltip-class=\"portainer-tooltip\"\\n                            uib-tooltip=\"Changing the data access policy is not allowed\"\\n                            style=\"cursor: pointer; border-color: #767676\"\\n                          >\\n                            <div class=\"boxselector_header\">\\n                              <i class=\"fa fa-cube\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                              Shared\\n                            </div>\\n                            <p>Application will be deployed as a Deployment with a shared storage access</p>\\n                          </label>\\n                        </div>\\n                      </div>\\n                    </div>\\n                    \\x3c!-- !access policy options --\\x3e\\n                  </div>\\n                  \\x3c!-- #endregion --\\x3e\\n\\n                  <div class=\"col-sm-12 form-section-title\"> Resource reservations </div>\\n                  \\x3c!-- #region RESOURCE RESERVATIONS --\\x3e\\n                  <div class=\"form-group\" ng-if=\"!ctrl.state.resourcePoolHasQuota\">\\n                    <div class=\"col-sm-12 small text-muted\">\\n                      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      Resource reservations are applied per instance of the application.\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\" ng-if=\"ctrl.state.resourcePoolHasQuota && !ctrl.resourceQuotaCapacityExceeded()\">\\n                    <div class=\"col-sm-12 small text-muted\">\\n                      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      A resource quota is set on this namespace, you must specify resource reservations. Resource reservations are applied per instance of the application. Maximums\\n                      are inherited from the namespace quota.\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\" ng-if=\"ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded()\">\\n                    <div class=\"col-sm-12 small text-danger\">\\n                      <i class=\"fa fa-exclamation-circle red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      This namespace has exhausted its resource capacity and you will not be able to deploy the application. Contact your administrator to expand the capacity of\\n                      the namespace.\\n                    </div>\\n                  </div>\\n\\n                  \\x3c!-- memory-limit-input --\\x3e\\n                  <div\\n                    class=\"form-group\"\\n                    ng-if=\"\\n                      (!ctrl.state.resourcePoolHasQuota || (ctrl.state.resourcePoolHasQuota && !ctrl.resourceQuotaCapacityExceeded())) && ctrl.formValues.Containers.length <= 1\\n                    \"\\n                  >\\n                    <label for=\"memory-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px\">\\n                      Memory\\n                      <portainer-tooltip\\n                        position=\"bottom\"\\n                        message=\"An instance of this application will reserve this amount of memory. If the instance memory usage exceeds the reservation, it might be subject to OOM.\"\\n                      >\\n                      </portainer-tooltip>\\n                    </label>\\n                    <div class=\"col-sm-3\">\\n                      <slider model=\"ctrl.formValues.MemoryLimit\" floor=\"ctrl.state.sliders.memory.min\" ceil=\"ctrl.state.sliders.memory.max\" step=\"128\"></slider>\\n                    </div>\\n                    <div class=\"col-sm-2\">\\n                      <input\\n                        name=\"memory_limit\"\\n                        ng-model=\"ctrl.formValues.MemoryLimit\"\\n                        type=\"number\"\\n                        min=\"{{ ctrl.state.sliders.memory.min }}\"\\n                        max=\"{{ ctrl.state.sliders.memory.max }}\"\\n                        class=\"form-control\"\\n                        id=\"memory-limit\"\\n                        required\\n                        data-cy=\"k8sAppCreate-memoryLimit\"\\n                      />\\n                    </div>\\n                    <div class=\"col-sm-4\">\\n                      <p class=\"small text-muted\" style=\"margin-top: 7px\"> Maximum memory usage (<b>MB</b>) </p>\\n                    </div>\\n                  </div>\\n                  <div class=\"form-group\" ng-show=\"kubernetesApplicationCreationForm.memory_limit.$invalid\">\\n                    <div class=\"col-sm-12 small text-warning\">\\n                      <div ng-messages=\"kubernetesApplicationCreationForm.memory_limit.$error\">\\n                        <p\\n                          ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Value must be between {{ ctrl.state.sliders.memory.min }} and\\n                          {{ ctrl.state.sliders.memory.max }}\\n                        </p>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  \\x3c!-- !memory-limit-input --\\x3e\\n                  \\x3c!-- cpu-limit-input --\\x3e\\n                  <div\\n                    class=\"form-group\"\\n                    ng-if=\"\\n                      (!ctrl.state.resourcePoolHasQuota || (ctrl.state.resourcePoolHasQuota && !ctrl.resourceQuotaCapacityExceeded())) && ctrl.formValues.Containers.length <= 1\\n                    \"\\n                  >\\n                    <label for=\"cpu-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px\">\\n                      CPU\\n                      <portainer-tooltip\\n                        position=\"bottom\"\\n                        message=\"An instance of this application will reserve this amount of CPU. If the instance CPU usage exceeds the reservation, it might be subject to CPU throttling.\"\\n                      >\\n                      </portainer-tooltip>\\n                    </label>\\n                    <div class=\"col-sm-5\">\\n                      <slider model=\"ctrl.formValues.CpuLimit\" floor=\"ctrl.state.sliders.cpu.min\" ceil=\"ctrl.state.sliders.cpu.max\" step=\"0.10\" precision=\"2\"></slider>\\n                    </div>\\n                    <div class=\"col-sm-4\" style=\"margin-top: 20px\">\\n                      <p class=\"small text-muted\"> Maximum CPU usage </p>\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\" ng-if=\"ctrl.nodeLimitsOverflow()\">\\n                    <div class=\"col-sm-12 small text-danger\">\\n                      <i class=\"fa fa-exclamation-circle red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      These reservations would exceed the resources currently available in the cluster.\\n                    </div>\\n                  </div>\\n                  \\x3c!-- !cpu-limit-input --\\x3e\\n                  \\x3c!-- #endregion --\\x3e\\n\\n                  <div class=\"col-sm-12 form-section-title\"> Deployment </div>\\n                  \\x3c!-- #region DEPLOYMENT --\\x3e\\n                  <div class=\"form-group\">\\n                    <div class=\"col-sm-12 small text-muted\"> Select how you want to deploy your application inside the cluster. </div>\\n                  </div>\\n\\n                  \\x3c!-- deployment options --\\x3e\\n                  <div class=\"form-group\" style=\"margin-bottom: 0\">\\n                    <div class=\"boxselector_wrapper\">\\n                      <div>\\n                        <input\\n                          type=\"radio\"\\n                          id=\"deployment_replicated\"\\n                          ng-value=\"ctrl.ApplicationDeploymentTypes.REPLICATED\"\\n                          ng-model=\"ctrl.formValues.DeploymentType\"\\n                          data-cy=\"k8sAppCreate-replicatedDeploymentButton\"\\n                        />\\n                        <label for=\"deployment_replicated\">\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-cube\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                            Replicated\\n                          </div>\\n                          <p>Run one or multiple instances of this container</p>\\n                        </label>\\n                      </div>\\n                      <div style=\"color: #767676\" ng-if=\"!ctrl.supportGlobalDeployment()\">\\n                        <input type=\"radio\" id=\"deployment_global\" disabled />\\n                        <label\\n                          for=\"deployment_global\"\\n                          tooltip-append-to-body=\"true\"\\n                          tooltip-placement=\"bottom\"\\n                          tooltip-class=\"portainer-tooltip\"\\n                          uib-tooltip=\"The storage or access policy used for persisted folders cannot be used with this option\"\\n                          style=\"cursor: pointer; border-color: #767676\"\\n                        >\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-cubes\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                            Global\\n                          </div>\\n                          <p>Application will be deployed as a DaemonSet with an instance on each node of the cluster</p>\\n                        </label>\\n                      </div>\\n                      <div ng-if=\"ctrl.supportGlobalDeployment()\">\\n                        <input\\n                          type=\"radio\"\\n                          id=\"deployment_global\"\\n                          ng-value=\"ctrl.ApplicationDeploymentTypes.GLOBAL\"\\n                          ng-model=\"ctrl.formValues.DeploymentType\"\\n                          ng-click=\"ctrl.unselectAutoScaler()\"\\n                          data-cy=\"k8sAppCreate-globalDeployButton\"\\n                        />\\n                        <label for=\"deployment_global\">\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-cubes\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                            Global\\n                          </div>\\n                          <p>Application will be deployed as a DaemonSet with an instance on each node of the cluster</p>\\n                        </label>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  \\x3c!-- !deployment options --\\x3e\\n\\n                  \\x3c!-- replica count --\\x3e\\n                  <div class=\"form-group form-inline\" ng-if=\"ctrl.formValues.DeploymentType === ctrl.ApplicationDeploymentTypes.REPLICATED\">\\n                    <div class=\"col-sm-12\">\\n                      <label class=\"control-label text-left\"> Instance count </label>\\n                      <input\\n                        type=\"number\"\\n                        name=\"replica_count\"\\n                        class=\"form-control\"\\n                        min=\"1\"\\n                        max=\"9999\"\\n                        placeholder=\"1\"\\n                        style=\"margin-left: 20px\"\\n                        ng-model=\"ctrl.formValues.ReplicaCount\"\\n                        ng-disabled=\"!ctrl.supportScalableReplicaDeployment()\"\\n                        ng-change=\"ctrl.enforceReplicaCountMinimum()\"\\n                        required\\n                        data-cy=\"k8sAppCreate-replicaCountInput\"\\n                      />\\n                    </div>\\n                  </div>\\n                  <div class=\"form-group\" ng-if=\"kubernetesApplicationCreationForm[\\'replica_count\\'].$invalid\">\\n                    <div class=\"col-sm-12 small text-warning\">\\n                      <ng-messages for=\"kubernetesApplicationCreationForm[\\'replica_count\\'].$error\">\\n                        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Instance count is required.</p>\\n                        <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Instance count must be greater than 0.</p>\\n                      </ng-messages>\\n                    </div>\\n                  </div>\\n                  \\x3c!-- !replica count --\\x3e\\n\\n                  <div\\n                    class=\"form-group\"\\n                    ng-if=\"!ctrl.resourceReservationsOverflow() && ctrl.formValues.ReplicaCount > 1 && (ctrl.formValues.CpuLimit !== 0 || ctrl.formValues.MemoryLimit !== 0)\"\\n                  >\\n                    <div class=\"col-sm-12 small text-muted\">\\n                      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      This application will reserve the following resources:\\n                      <b>{{ ctrl.formValues.CpuLimit * ctrl.formValues.ReplicaCount | kubernetesApplicationCPUValue }} CPU</b> and\\n                      <b>{{ ctrl.formValues.MemoryLimit * ctrl.formValues.ReplicaCount }} MB</b> of memory.\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\" ng-if=\"ctrl.resourceReservationsOverflow()\">\\n                    <div class=\"col-sm-12 small text-danger\">\\n                      <i class=\"fa fa-exclamation-circle red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      This application would exceed available resources. Please review resource reservations or the instance count.\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\" ng-if=\"!ctrl.supportScalableReplicaDeployment()\">\\n                    <div class=\"col-sm-12 small text-muted\">\\n                      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      The following storage option(s) do not support concurrent access from multiples instances: <code>{{ ctrl.getNonScalableStorage() }}</code\\n                      >. You will not be able to scale that application.\\n                    </div>\\n                  </div>\\n                  \\x3c!-- #endregion --\\x3e\\n\\n                  \\x3c!-- #region AUTO SCALING --\\x3e\\n                  <div class=\"col-sm-12 form-section-title\" ng-if=\"ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL\"> Auto-scaling </div>\\n\\n                  <div class=\"form-group\" ng-if=\"ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL && ctrl.state.useServerMetrics\">\\n                    <div class=\"col-sm-12\">\\n                      <label for=\"enable_auto_scaling\" class=\"control-label text-left\"> Enable auto scaling for this application </label>\\n                      <label class=\"switch\" style=\"margin-left: 20px\">\\n                        <input\\n                          type=\"checkbox\"\\n                          class=\"form-control\"\\n                          name=\"enable_auto_scaling\"\\n                          ng-model=\"ctrl.formValues.AutoScaler.IsUsed\"\\n                          data-cy=\"k8sAppCreate-autoScaleCheckbox\"\\n                        />\\n                        <i></i>\\n                      </label>\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\" ng-if=\"ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL && !ctrl.state.useServerMetrics\">\\n                    <div class=\"col-sm-12 small text-muted\">\\n                      <p ng-if=\"!ctrl.isAdmin\"> This feature is currently disabled and must be enabled by an administrator user. </p>\\n                      <p ng-if=\"ctrl.isAdmin\">\\n                        Server metrics features must be enabled in the\\n                        <a ui-sref=\"portainer.k8sendpoint.kubernetesConfig({id: ctrl.endpoint.Id})\" class=\"ctrl.isAdmin\">environment configuration view</a>.\\n                      </p>\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-inline\" ng-if=\"ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL && ctrl.formValues.AutoScaler.IsUsed\">\\n                    <table class=\"table\" style=\"margin-bottom: 0px\">\\n                      <tbody>\\n                        <tr class=\"small\">\\n                          <td style=\"width: 33%; border: none; padding: 2px 0 2px 0\">Minimum instances</td>\\n                          <td style=\"width: 33%; border: none; padding: 2px 0 2px 0\">Maximum instances</td>\\n                          <td style=\"width: 33%; border: none; padding: 2px 0 2px 0\">\\n                            Target CPU usage (<b>%</b>)\\n                            <portainer-tooltip\\n                              position=\"bottom\"\\n                              message=\"The autoscaler will ensure enough instances are running to maintain an average CPU usage across all instances.\"\\n                            >\\n                            </portainer-tooltip>\\n                          </td>\\n                        </tr>\\n                        <tr>\\n                          <td style=\"padding: 8px 5px 5px 0; border: none\">\\n                            <div class=\"input-group input-group-sm\" style=\"width: 100%\">\\n                              <input\\n                                type=\"number\"\\n                                class=\"form-control\"\\n                                name=\"auto_scaler_min\"\\n                                min=\"0\"\\n                                ng-max=\"ctrl.formValues.AutoScaler.MaxReplicas\"\\n                                ng-model=\"ctrl.formValues.AutoScaler.MinReplicas\"\\n                                data-cy=\"k8sAppCreate-autoScaleMin\"\\n                                required\\n                              />\\n                            </div>\\n                            <div class=\"input-group input-group-sm\" ng-show=\"kubernetesApplicationCreationForm[\\'auto_scaler_min\\'].$invalid\">\\n                              <div class=\"small text-warning\" style=\"margin-top: 5px\">\\n                                <ng-messages for=\"kubernetesApplicationCreationForm[\\'auto_scaler_min\\'].$error\">\\n                                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum instances is required.</p>\\n                                  <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum instances must be greater than 0.</p>\\n                                  <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum instances must be smaller than maximum instances.</p>\\n                                </ng-messages>\\n                              </div>\\n                            </div>\\n                          </td>\\n                          <td style=\"padding: 8px 5px 5px 0; border: none\">\\n                            <div class=\"input-group input-group-sm\" style=\"width: 100%\">\\n                              <input\\n                                type=\"number\"\\n                                class=\"form-control\"\\n                                name=\"auto_scaler_max\"\\n                                ng-min=\"ctrl.formValues.AutoScaler.MinReplicas\"\\n                                ng-model=\"ctrl.formValues.AutoScaler.MaxReplicas\"\\n                              />\\n                            </div>\\n                            <div class=\"input-group input-group-sm\" ng-show=\"kubernetesApplicationCreationForm[\\'auto_scaler_max\\'].$invalid || ctrl.autoScalerOverflow()\">\\n                              <div class=\"small text-warning\" style=\"margin-top: 5px\">\\n                                <ng-messages for=\"kubernetesApplicationCreationForm[\\'auto_scaler_max\\'].$error\">\\n                                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum instances is required.</p>\\n                                  <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum instances must be greater than minimum instances.</p>\\n                                </ng-messages>\\n                              </div>\\n                            </div>\\n                          </td>\\n                          <td style=\"padding: 8px 5px 5px 0; border: none\">\\n                            <div class=\"input-group input-group-sm\" style=\"width: 100%\">\\n                              <input\\n                                type=\"number\"\\n                                class=\"form-control\"\\n                                name=\"auto_scaler_cpu\"\\n                                ng-model=\"ctrl.formValues.AutoScaler.TargetCPUUtilization\"\\n                                min=\"1\"\\n                                max=\"100\"\\n                                required\\n                                data-cy=\"k8sAppCreate-targetCPUInput\"\\n                              />\\n                            </div>\\n                            <div class=\"input-group input-group-sm\" ng-show=\"kubernetesApplicationCreationForm[\\'auto_scaler_cpu\\'].$invalid\">\\n                              <div class=\"small text-warning\" style=\"margin-top: 5px\">\\n                                <ng-messages for=\"kubernetesApplicationCreationForm[\\'auto_scaler_cpu\\'].$error\">\\n                                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Target CPU usage is required.</p>\\n                                  <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Target CPU usage must be greater than 0.</p>\\n                                  <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Target CPU usage must be smaller than 100.</p>\\n                                </ng-messages>\\n                              </div>\\n                            </div>\\n                          </td>\\n                        </tr>\\n                      </tbody>\\n                    </table>\\n\\n                    <div class=\"form-group\" ng-if=\"ctrl.autoScalerOverflow()\" style=\"margin-bottom: 10px\">\\n                      <div class=\"col-sm-12 small text-danger\">\\n                        <i class=\"fa fa-exclamation-circle red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                        This application would exceed available resources. Please review resource reservations or the maximum instance count of the auto-scaling policy.\\n                      </div>\\n                    </div>\\n                  </div>\\n                  \\x3c!-- #endregion --\\x3e\\n\\n                  <div ng-if=\"ctrl.formValues.DeploymentType === ctrl.ApplicationDeploymentTypes.REPLICATED\">\\n                    <div class=\"col-sm-12 form-section-title\"> Placement preferences and constraints </div>\\n\\n                    \\x3c!-- #region PLACEMENTS --\\x3e\\n                    <div class=\"form-group\">\\n                      <div class=\"col-sm-12\">\\n                        <label class=\"control-label text-left\">Placement rules</label>\\n                        <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"ctrl.addPlacement()\">\\n                          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add rule\\n                        </span>\\n                      </div>\\n\\n                      <div class=\"col-sm-12 small text-muted\" ng-if=\"ctrl.formValues.Placements.length > 0\" style=\"margin-top: 10px\">\\n                        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                        Deploy this application on nodes that respect <b>ALL</b> of the following placement rules. Placement rules are based on node labels.\\n                      </div>\\n\\n                      <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                        <div ng-repeat-start=\"placement in ctrl.formValues.Placements\" style=\"margin-top: 2px\">\\n                          <div class=\"col-sm-5 input-group\" ng-class=\"{ striked: placement.NeedsDeletion }\">\\n                            <select\\n                              class=\"form-control\"\\n                              ng-model=\"placement.Label\"\\n                              ng-options=\"label as (label.Key | kubernetesNodeLabelHumanReadbleText) for label in ctrl.nodesLabels\"\\n                              ng-change=\"ctrl.onChangePlacementLabel($index)\"\\n                              ng-disabled=\"ctrl.isEditAndNotNewPlacement($index)\"\\n                              data-cy=\"k8sAppCreate-placementLabel_{{ $index }}\"\\n                            >\\n                            </select>\\n                          </div>\\n                          <div class=\"col-sm-5 input-group\" ng-class=\"{ striked: placement.NeedsDeletion }\">\\n                            <select\\n                              class=\"form-control\"\\n                              ng-model=\"placement.Value\"\\n                              ng-options=\"value for value in placement.Label.Values\"\\n                              ng-disabled=\"ctrl.isEditAndNotNewPlacement($index)\"\\n                              data-cy=\"k8sAppCreate-placementName_{{ $index }}\"\\n                            >\\n                            </select>\\n                          </div>\\n\\n                          <div class=\"col-sm-1 input-group\">\\n                            <button\\n                              ng-if=\"!placement.NeedsDeletion\"\\n                              class=\"btn btn-sm btn-danger\"\\n                              type=\"button\"\\n                              ng-click=\"ctrl.removePlacement($index)\"\\n                              data-cy=\"k8sAppCreate-deletePlacementButton\"\\n                            >\\n                              <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                            </button>\\n                            <button\\n                              ng-if=\"placement.NeedsDeletion\"\\n                              class=\"btn btn-sm btn-primary\"\\n                              type=\"button\"\\n                              ng-click=\"ctrl.restorePlacement($index)\"\\n                              data-cy=\"k8sAppCreate-restorePlacementButton\"\\n                            >\\n                              <i class=\"fa fa-trash-restore\" aria-hidden=\"true\"></i>\\n                            </button>\\n                          </div>\\n                        </div>\\n                        <div ng-repeat-end ng-show=\"ctrl.state.duplicates.placements.refs[$index] !== undefined\">\\n                          <div class=\"col-sm-5 input-group\">\\n                            <div class=\"small text-warning\" style=\"margin-top: 5px\" ng-if=\"ctrl.state.duplicates.placements.refs[$index] !== undefined\">\\n                              <p ng-if=\"ctrl.state.duplicates.placements.refs[$index] !== undefined\">\\n                                <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This label is already defined.\\n                              </p>\\n                            </div>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n                    <div ng-if=\"ctrl.showPlacementPolicySection()\">\\n                      <div class=\"form-group\">\\n                        <div class=\"col-sm-12\">\\n                          <label class=\"control-label text-left\">Placement policy</label>\\n                        </div>\\n                      </div>\\n\\n                      <div class=\"form-group\">\\n                        <div class=\"col-sm-12 small text-muted\"> Specify the policy associated to the placement rules. </div>\\n                      </div>\\n\\n                      \\x3c!-- placement policy options --\\x3e\\n                      <div class=\"form-group\" style=\"margin-bottom: 0\" ng-if=\"ctrl.formValues.Placements.length\">\\n                        <div class=\"boxselector_wrapper\">\\n                          <div>\\n                            <input\\n                              type=\"radio\"\\n                              id=\"placement_hard\"\\n                              ng-value=\"ctrl.ApplicationPlacementTypes.MANDATORY\"\\n                              ng-model=\"ctrl.formValues.PlacementType\"\\n                              data-cy=\"k8sAppCreate-mandatoryPlacementButton\"\\n                            />\\n                            <label for=\"placement_hard\">\\n                              <div class=\"boxselector_header\">\\n                                <i class=\"fa fa-tasks\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                                Mandatory\\n                              </div>\\n                              <p>Schedule this application <b>ONLY</b> on nodes that match <b>ALL</b> Rules</p>\\n                            </label>\\n                          </div>\\n                          <div>\\n                            <input\\n                              type=\"radio\"\\n                              id=\"placement_soft\"\\n                              ng-value=\"ctrl.ApplicationPlacementTypes.PREFERRED\"\\n                              ng-model=\"ctrl.formValues.PlacementType\"\\n                              data-cy=\"k8sAppCreate-prefferedPlacementButton\"\\n                            />\\n                            <label for=\"placement_soft\">\\n                              <div class=\"boxselector_header\">\\n                                <i class=\"fa fa-list\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                                Preferred\\n                              </div>\\n                              <p>Schedule this application on nodes that match the rules if possible</p>\\n                            </label>\\n                          </div>\\n                        </div>\\n                      </div>\\n                      \\x3c!-- !placement policy options --\\x3e\\n                    </div>\\n                    \\x3c!-- #endregion --\\x3e\\n                  </div>\\n\\n                  \\x3c!-- kubernetes services options --\\x3e\\n                  <kube-services-view form-values=\"ctrl.formValues\" is-edit=\"ctrl.state.isEdit\" loadbalancer-enabled=\"ctrl.publishViaLoadBalancerEnabled()\"></kube-services-view>\\n                  \\x3c!-- kubernetes services options --\\x3e\\n\\n                  \\x3c!-- summary --\\x3e\\n                  <kubernetes-summary-view\\n                    ng-if=\"!(!kubernetesApplicationCreationForm.$valid || ctrl.isDeployUpdateButtonDisabled() || !ctrl.state.pullImageValidity)\"\\n                    form-values=\"ctrl.formValues\"\\n                    old-form-values=\"ctrl.savedFormValues\"\\n                  ></kubernetes-summary-view>\\n                </div>\\n              </div>\\n            </div>\\n            <div ng-if=\"ctrl.isExternalApplication()\">\\n              <div class=\"col-sm-12 form-section-title\" ng-if=\"ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM\"> Namespace </div>\\n              \\x3c!-- #region NAMESPACE --\\x3e\\n              <div class=\"form-group\" ng-if=\"ctrl.formValues.ResourcePool\">\\n                <label for=\"resource-pool-selector\" class=\"col-sm-1 control-label text-left\">Namespace</label>\\n                <div class=\"col-sm-11\">\\n                  <select\\n                    class=\"form-control\"\\n                    id=\"resource-pool-selector\"\\n                    ng-model=\"ctrl.formValues.ResourcePool\"\\n                    ng-options=\"resourcePool.Namespace.Name for resourcePool in ctrl.resourcePools\"\\n                    ng-change=\"ctrl.onResourcePoolSelectionChange()\"\\n                    ng-disabled=\"ctrl.state.isEdit\"\\n                    data-cy=\"k8sAppCreate-nsSelect\"\\n                  ></select>\\n                </div>\\n              </div>\\n              <div class=\"form-group\" ng-if=\"ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded() && ctrl.formValues.ResourcePool\">\\n                <div class=\"col-sm-12 small text-danger\">\\n                  <i class=\"fa fa-exclamation-circle red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  This namespace has exhausted its resource capacity and you will not be able to deploy the application. Contact your administrator to expand the capacity of the\\n                  namespace.\\n                </div>\\n              </div>\\n              <div class=\"form-group\" ng-if=\"!ctrl.formValues.ResourcePool\">\\n                <div class=\"col-sm-12 small text-muted\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  You do not have access to any namespace. Contact your administrator to get access to a namespace.\\n                </div>\\n              </div>\\n              \\x3c!-- kubernetes services options --\\x3e\\n              <kube-services-view form-values=\"ctrl.formValues\" is-edit=\"ctrl.state.isEdit\" loadbalancer-enabled=\"ctrl.publishViaLoadBalancerEnabled()\"></kube-services-view>\\n              \\x3c!-- kubernetes services options --\\x3e\\n            </div>\\n\\n            \\x3c!-- kubernetes summary for external application --\\x3e\\n            <kubernetes-summary-view ng-if=\"ctrl.isExternalApplication()\" form-values=\"ctrl.formValues\" old-form-values=\"ctrl.savedFormValues\"></kubernetes-summary-view>\\n            \\x3c!-- kubernetes summary for external application --\\x3e\\n            <div class=\"col-sm-12 form-section-title\" ng-if=\"ctrl.state.appType !== ctrl.KubernetesDeploymentTypes.GIT\"> Actions </div>\\n            \\x3c!-- #region ACTIONS --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  ng-if=\"ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM\"\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"!kubernetesApplicationCreationForm.$valid || ctrl.isDeployUpdateButtonDisabled() || !ctrl.imageValidityIsValid()\"\\n                  ng-click=\"ctrl.deployApplication()\"\\n                  button-spinner=\"ctrl.state.actionInProgress\"\\n                  data-cy=\"k8sAppCreate-deployButton\"\\n                >\\n                  <span ng-show=\"!ctrl.state.isEdit && !ctrl.state.actionInProgress\">Deploy application</span>\\n                  <span ng-show=\"!ctrl.state.isEdit && ctrl.state.actionInProgress\">Deployment in progress...</span>\\n                  <span ng-show=\"ctrl.state.isEdit && !ctrl.state.actionInProgress\">Update application</span>\\n                  <span ng-show=\"ctrl.state.isEdit && ctrl.state.actionInProgress\">Update in progress...</span>\\n                </button>\\n                <button\\n                  ng-if=\"ctrl.state.isEdit && !ctrl.state.actionInProgress && ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM\"\\n                  type=\"button\"\\n                  class=\"btn btn-sm btn-default\"\\n                  ui-sref=\"kubernetes.applications.application({ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool })\"\\n                  data-cy=\"k8sAppCreate-appCancelButton\"\\n                >\\n                  Cancel\\n                </button>\\n                \\x3c!-- #Web editor buttons --\\x3e\\n                <button\\n                  class=\"btn btn-sm btn-primary\"\\n                  ng-click=\"ctrl.updateApplicationViaWebEditor()\"\\n                  ng-if=\"ctrl.state.appType === ctrl.KubernetesDeploymentTypes.CONTENT || ctrl.state.updateWebEditorInProgress\"\\n                  ng-disabled=\"!kubernetesApplicationCreationForm.$valid || !ctrl.state.isEditorDirty || ctrl.state.updateWebEditorInProgress\"\\n                  style=\"margin-top: 7px; margin-left: 0\"\\n                  button-spinner=\"ctrl.state.updateWebEditorInProgress\"\\n                >\\n                  <span ng-show=\"!ctrl.state.updateWebEditorInProgress\">Update the application</span>\\n                  <span ng-show=\"ctrl.state.updateWebEditorInProgress\">Update in progress...</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- #endregion --\\x3e\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},45758:function(e){var t=\"app/kubernetes/views/applications/edit/application.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Application details\" state=\"kubernetes.applications.application\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })\">{{ ctrl.application.ResourcePool }}</a> &gt;\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt; {{ ctrl.application.Name }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\">\\n              <uib-tab-heading> <i class=\"fa fa-laptop-code space-right\" aria-hidden=\"true\"></i> Application </uib-tab-heading>\\n              <div style=\"padding: 20px\">\\n                <table class=\"table\">\\n                  <tbody>\\n                    <tr>\\n                      <td>Name</td>\\n                      <td data-cy=\"k8sAppDetail-appName\">\\n                        {{ ctrl.application.Name }}\\n                        <span class=\"label label-primary image-tag label-margins\" ng-if=\"!ctrl.isSystemNamespace() && ctrl.isExternalApplication()\">external</span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Stack</td>\\n                      <td data-cy=\"k8sAppDetail-stackName\">{{ ctrl.application.StackName || \\'-\\' }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Namespace</td>\\n                      <td data-cy=\"k8sAppDetail-resourcePoolName\">\\n                        <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })\">{{ ctrl.application.ResourcePool }}</a>\\n                        <span style=\"margin-left: 5px\" class=\"label label-info image-tag\" ng-if=\"ctrl.isSystemNamespace()\">system</span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Application Type</td>\\n                      <td data-cy=\"k8sAppDetail-appType\">\\n                        {{ ctrl.application.ApplicationType | kubernetesApplicationTypeText }}\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Status</td>\\n                      <td ng-if=\"ctrl.application.ApplicationType !== ctrl.KubernetesApplicationTypes.POD\">\\n                        <span ng-if=\"ctrl.application.DeploymentType === ctrl.KubernetesApplicationDeploymentTypes.REPLICATED\" data-cy=\"k8sAppDetail-deployType\">Replicated</span>\\n                        <span ng-if=\"ctrl.application.DeploymentType === ctrl.KubernetesApplicationDeploymentTypes.GLOBAL\" data-cy=\"k8sAppDetail-appType\">Global</span>\\n                        <code data-cy=\"k8sAppDetail-runningPods\">{{ ctrl.application.RunningPodsCount }}</code> /\\n                        <code data-cy=\"k8sAppDetail-totalPods\">{{ ctrl.application.TotalPodsCount }}</code>\\n                      </td>\\n                      <td ng-if=\"ctrl.application.ApplicationType === ctrl.KubernetesApplicationTypes.POD\">\\n                        {{ ctrl.application.Pods[0].Status }}\\n                      </td>\\n                    </tr>\\n                    <tr ng-if=\"ctrl.application.Requests.Cpu || ctrl.application.Requests.Memory\">\\n                      <td>\\n                        <div>Resource reservations</div>\\n                        <div ng-if=\"ctrl.application.ApplicationType !== ctrl.KubernetesApplicationTypes.POD\" class=\"text-muted small\"> per instance </div>\\n                      </td>\\n                      <td>\\n                        <div ng-if=\"ctrl.application.Requests.Cpu\" data-cy=\"k8sAppDetail-cpuReservation\"\\n                          >CPU {{ ctrl.application.Requests.Cpu | kubernetesApplicationCPUValue }}</div\\n                        >\\n                        <div ng-if=\"ctrl.application.Requests.Memory\" data-cy=\"k8sAppDetail-memoryReservation\">Memory {{ ctrl.application.Requests.Memory | humansize }}</div>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Creation</td>\\n                      <td>\\n                        <span ng-if=\"ctrl.application.ApplicationOwner\" style=\"margin-right: 5px\" data-cy=\"k8sAppDetail-owner\">\\n                          <i class=\"fas fa-user\"></i> {{ ctrl.application.ApplicationOwner }}\\n                        </span>\\n                        <span> <i class=\"fas fa-clock\"></i> {{ ctrl.application.CreationDate | getisodate }}</span>\\n                        <span ng-if=\"ctrl.application.ApplicationOwner\" data-cy=\"k8sAppDetail-creationMethod\">\\n                          <i class=\"fa fa-file-code space-left space-right\" aria-hidden=\"true\"></i> Deployed from {{ ctrl.state.appType }}</span\\n                        >\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td colspan=\"2\">\\n                        <form class=\"form-horizontal\" name=\"kubernetesApplicationNoteForm\">\\n                          <div class=\"form-group\">\\n                            <div class=\"col-sm-12\">\\n                              <i class=\"fa fa-edit\" aria-hidden=\"true\"></i> Note\\n                              <button class=\"btn btn-xs btn-primary\" ng-click=\"ctrl.state.expandedNote = !ctrl.state.expandedNote;\" data-cy=\"k8sAppDetail-expandNoteButton\"\\n                                >{{ ctrl.state.expandedNote ? \\'Collapse\\' : \\'Expand\\' }}\\n                                <i class=\"fas {{ ctrl.state.expandedNote ? \\'fa-angle-up\\' : \\'fa-angle-down\\' }}\" aria-hidden=\"true\"></i\\n                              ></button>\\n                            </div>\\n                          </div>\\n                          <div class=\"form-group\" ng-if=\"ctrl.state.expandedNote\">\\n                            <div class=\"col-sm-12\">\\n                              <textarea\\n                                class=\"form-control\"\\n                                name=\"application_note\"\\n                                id=\"application_note\"\\n                                ng-model=\"ctrl.formValues.Note\"\\n                                rows=\"5\"\\n                                placeholder=\"Enter a note about this application...\"\\n                              ></textarea>\\n                            </div>\\n                          </div>\\n                          <div class=\"form-group\" ng-if=\"ctrl.state.expandedNote\">\\n                            <div class=\"col-sm-12\">\\n                              <button\\n                                class=\"btn btn-primary btn-sm\"\\n                                style=\"margin-left: 0px\"\\n                                type=\"button\"\\n                                ng-click=\"ctrl.updateApplication()\"\\n                                ng-disabled=\"ctrl.formValues.Note === ctrl.application.Note\"\\n                                data-cy=\"k8sAppDetail-saveNoteButton\"\\n                                >{{ ctrl.application.Note ? \\'Update\\' : \\'Save\\' }} note</button\\n                              >\\n                            </div>\\n                          </div>\\n                        </form>\\n                      </td>\\n                    </tr>\\n                    \\x3c!-- <tr>\\n                      <td colspan=\"2\">\\n                        <form class=\"form-horizontal\" name=\"KubernetesApplicationRollbackForm\">\\n                          <div class=\"form-group\">\\n                            <label for=\"resource-pool-selector\" class=\"col-sm-2 col-lg-1 control-label text-left\">Version</label>\\n                            <div class=\"col-sm-2\">\\n                              <select class=\"form-control\" id=\"resource-pool-selector\" ng-model=\"ctrl.formValues.SelectedRevision\"\\n                                ng-options=\"revision as revision.revision for revision in ctrl.application.Revisions\"></select>\\n                            </div>\\n                            <div class=\"col-sm-2\">\\n                              <button class=\"btn btn-primary btn-sm\" style=\"margin-left: 0px;\" type=\"button\" ng-click=\"ctrl.rollbackApplication()\"\\n                                ng-disabled=\"ctrl.formValues.SelectedRevision.revision === ctrl.application.CurrentRevision.revision\">Rollback</button>\\n                            </div>\\n                          </div>\\n                        </form>\\n                      </td>\\n                    </tr> --\\x3e\\n                  </tbody>\\n                </table>\\n              </div>\\n            </uib-tab>\\n\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\">\\n              <uib-tab-heading>\\n                <i class=\"fas fa-compress-arrows-alt space-right\" aria-hidden=\"true\"></i> Placement\\n                <div ng-if=\"ctrl.state.placementWarning\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  warning\\n                </div>\\n              </uib-tab-heading>\\n              <div class=\"small text-muted\" style=\"padding: 20px\">\\n                <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                The placement component helps you understand whether or not this application can be deployed on a specific node.\\n              </div>\\n              <kubernetes-application-placements-datatable\\n                title-text=\"Placement constraints/preferences\"\\n                title-icon=\"fa-compress-arrows-alt\"\\n                dataset=\"ctrl.placements\"\\n                table-key=\"kubernetes.application.placements\"\\n                order-by=\"Name\"\\n                reverse-order=\"false\"\\n                loading=\"ctrl.state.dataLoading\"\\n                refresh-callback=\"ctrl.getApplication\"\\n              ></kubernetes-application-placements-datatable>\\n            </uib-tab>\\n\\n            <uib-tab index=\"2\" classes=\"btn-sm\" select=\"ctrl.selectTab(2)\">\\n              <uib-tab-heading>\\n                <i class=\"fa fa-history space-right\" aria-hidden=\"true\"></i> Events\\n                <div ng-if=\"ctrl.hasEventWarnings()\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  {{ ctrl.state.eventWarningCount }} warning(s)\\n                </div>\\n              </uib-tab-heading>\\n              <kubernetes-events-datatable\\n                title-text=\"Events\"\\n                title-icon=\"fa-history\"\\n                dataset=\"ctrl.events\"\\n                table-key=\"kubernetes.application.events\"\\n                order-by=\"Date\"\\n                reverse-order=\"true\"\\n                loading=\"ctrl.state.eventsLoading\"\\n                refresh-callback=\"ctrl.getEvents\"\\n              ></kubernetes-events-datatable>\\n            </uib-tab>\\n\\n            <uib-tab index=\"3\" ng-if=\"ctrl.application.Yaml\" select=\"ctrl.showEditor()\" classes=\"btn-sm\">\\n              <uib-tab-heading> <i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i> YAML </uib-tab-heading>\\n              <div style=\"padding-right: 25px\" ng-if=\"ctrl.state.showEditorTab\">\\n                <kubernetes-yaml-inspector key=\"application-yaml\" data=\"ctrl.application.Yaml\"></kubernetes-yaml-inspector>\\n              </div>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div ng-if=\"!ctrl.isSystemNamespace()\" style=\"margin-bottom: 15px\">\\n            <button\\n              ng-if=\"!ctrl.isExternalApplication()\"\\n              type=\"button\"\\n              class=\"btn btn-sm btn-primary\"\\n              ui-sref=\"kubernetes.applications.application.edit\"\\n              style=\"margin-left: 0\"\\n              data-cy=\"k8sAppDetail-editAppButton\"\\n            >\\n              <i class=\"fa fa-file-code space-right\" aria-hidden=\"true\"></i>Edit this application\\n            </button>\\n            <button\\n              authorization=\"K8sApplicationDetailsW\"\\n              ng-if=\"ctrl.isExternalApplication()\"\\n              type=\"button\"\\n              class=\"btn btn-sm btn-primary\"\\n              ui-sref=\"kubernetes.applications.application.edit\"\\n              style=\"margin-left: 0\"\\n              data-cy=\"k8sAppDetail-editAppButton\"\\n            >\\n              <i class=\"fa fa-file-code space-right\" aria-hidden=\"true\"></i>Edit External application\\n            </button>\\n            <button\\n              ng-if=\"ctrl.application.ApplicationType !== ctrl.KubernetesApplicationTypes.POD\"\\n              type=\"button\"\\n              class=\"btn btn-sm btn-primary\"\\n              style=\"margin-left: 0\"\\n              ng-click=\"ctrl.redeployApplication()\"\\n              data-cy=\"k8sAppDetail-redeployButton\"\\n            >\\n              <i class=\"fa fa-redo space-right\" aria-hidden=\"true\"></i>Redeploy\\n            </button>\\n            <button\\n              ng-if=\"!ctrl.isExternalApplication()\"\\n              type=\"button\"\\n              class=\"btn btn-sm btn-primary\"\\n              style=\"margin-left: 0\"\\n              ng-click=\"ctrl.rollbackApplication()\"\\n              ng-disabled=\"ctrl.application.Revisions.length < 2 || ctrl.state.appType !== ctrl.KubernetesDeploymentTypes.APPLICATION_FORM\"\\n              data-cy=\"k8sAppDetail-rollbackButton\"\\n            >\\n              <i class=\"fas fa-history space-right\" aria-hidden=\"true\"></i>Rollback to previous configuration\\n            </button>\\n            <a\\n              ng-if=\"ctrl.isStack() && ctrl.stackFileContent\"\\n              class=\"btn btn-sm btn-primary space-left\"\\n              ui-sref=\"kubernetes.templates.custom.new({fileContent: ctrl.stackFileContent})\"\\n            >\\n              <i class=\"fas fa-plus space-right\" aria-hidden=\"true\"></i>Create template from application\\n            </a>\\n          </div>\\n\\n          \\x3c!-- ACCESSING APPLICATION --\\x3e\\n          <div class=\"text-muted\" style=\"margin-bottom: 15px\"> <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> Accessing the application </div>\\n\\n          <div class=\"small text-muted\" ng-if=\"ctrl.application.PublishedPorts.length === 0\" style=\"margin-bottom: 15px\">\\n            <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            This application is not exposing any port.\\n          </div>\\n\\n          <div ng-if=\"ctrl.application.Services.length !== 0\">\\n            \\x3c!-- Services notice --\\x3e\\n            <div>\\n              <div class=\"small text-muted\">\\n                <p>\\n                  <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  This application is exposed through service(s) as below:\\n                </p>\\n              </div>\\n            </div>\\n\\n            \\x3c!-- table --\\x3e\\n            <kubernetes-application-services-table\\n              services=\"ctrl.application.Services\"\\n              application=\"ctrl.application\"\\n              public-url=\"ctrl.state.publicUrl\"\\n            ></kubernetes-application-services-table>\\n            \\x3c!-- table --\\x3e\\n\\n            \\x3c!-- table --\\x3e\\n            <kubernetes-application-ingress-table application=\"ctrl.application\" public-url=\"ctrl.state.publicUrl\"></kubernetes-application-ingress-table>\\n            \\x3c!-- table --\\x3e\\n          </div>\\n          \\x3c!-- !ACCESSING APPLICATION --\\x3e\\n          \\x3c!-- AUTO SCALING --\\x3e\\n          <div class=\"text-muted\" style=\"margin-bottom: 15px\"> <i class=\"fa fa-expand-arrows-alt\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> Auto-scaling</div>\\n\\n          <div class=\"small text-muted\" ng-if=\"!ctrl.application.AutoScaler\" style=\"margin-bottom: 15px\">\\n            <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            This application does not have an autoscaling policy defined.\\n          </div>\\n\\n          <div ng-if=\"ctrl.application.AutoScaler\">\\n            <div style=\"margin-top: 15px; width: 50%\">\\n              <table class=\"table\">\\n                <tbody>\\n                  <tr class=\"text-muted\">\\n                    <td style=\"width: 33%\">Minimum instances</td>\\n                    <td style=\"width: 33%\">Maximum instances</td>\\n                    <td style=\"width: 33%\">\\n                      Target CPU usage\\n                      <portainer-tooltip position=\"bottom\" message=\"The autoscaler will ensure enough instances are running to maintain an average CPU usage across all instances.\">\\n                      </portainer-tooltip>\\n                    </td>\\n                  </tr>\\n                  <tr>\\n                    <td data-cy=\"k8sAppDetail-minReplicas\">{{ ctrl.application.AutoScaler.MinReplicas }}</td>\\n                    <td data-cy=\"k8sAppDetail-maxReplicas\">{{ ctrl.application.AutoScaler.MaxReplicas }}</td>\\n                    <td data-cy=\"k8sAppDetail-targetCPU\">{{ ctrl.application.AutoScaler.TargetCPUUtilization }}%</td>\\n                  </tr>\\n                </tbody>\\n              </table>\\n            </div>\\n          </div>\\n          \\x3c!-- !AUTO SCALING --\\x3e\\n\\n          \\x3c!-- CONFIGURATIONS --\\x3e\\n          <div class=\"text-muted\" style=\"margin-bottom: 15px; margin-top: 25px\"> <i class=\"fa fa-file-code\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> Configuration </div>\\n\\n          <div class=\"small text-muted\" ng-if=\"!ctrl.application.Env.length > 0 && !ctrl.hasVolumeConfiguration()\" style=\"margin-bottom: 15px\">\\n            <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            This application is not using any environment variable or configuration.\\n          </div>\\n\\n          <table class=\"table\" ng-if=\"ctrl.application.Env.length > 0\">\\n            <tr class=\"text-muted\">\\n              <td style=\"width: 25%\">Container</td>\\n              <td style=\"width: 25%\">Environment variable</td>\\n              <td style=\"width: 25%\">Value</td>\\n              <td style=\"width: 25%\">Configuration</td>\\n            </tr>\\n            <tbody ng-repeat=\"container in ctrl.application.Containers\" style=\"border-top: 0\">\\n              <tr ng-repeat=\"envvar in container.Env | orderBy: \\'name\\'\">\\n                <td data-cy=\"k8sAppDetail-containerName\">\\n                  {{ container.Name }}\\n                  <span ng-if=\"container.Type === ctrl.KubernetesPodContainerTypes.INIT\"\\n                    ><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\\n                      href=\"https://kubernetes.io/docs/concepts/workloads/pods/init-containers/\"\\n                      target=\"_blank\"\\n                      >init container</a\\n                    >)</span\\n                  >\\n                </td>\\n                <td data-cy=\"k8sAppDetail-envVarName\">{{ envvar.name }}</td>\\n                <td>\\n                  <span ng-if=\"envvar.value\" data-cy=\"k8sAppDetail-envVarValue\">{{ envvar.value }}</span>\\n                  <span ng-if=\"envvar.valueFrom.configMapKeyRef\" data-cy=\"k8sAppDetail-envVarValue\"\\n                    ><i class=\"fa fa-key\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.configMapKeyRef.key }}</span\\n                  >\\n                  <span ng-if=\"envvar.valueFrom.secretKeyRef\" data-cy=\"k8sAppDetail-envVarValue\"\\n                    ><i class=\"fa fa-key\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.secretKeyRef.key }}</span\\n                  >\\n                  <span ng-if=\"envvar.valueFrom.fieldRef\" data-cy=\"k8sAppDetail-envVarValue\"\\n                    ><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\\n                      href=\"https://kubernetes.io/docs/tasks/inject-data-application/downward-api-volume-expose-pod-information/#capabilities-of-the-downward-api\"\\n                      target=\"_blank\"\\n                      >downward API</a\\n                    >)</span\\n                  >\\n                  <span ng-if=\"!envvar.value && !envvar.valueFrom.secretKeyRef && !envvar.valueFrom.configMapKeyRef && !envvar.valueFrom.fieldRef\">-</span>\\n                </td>\\n                <td>\\n                  <span ng-if=\"envvar.value || envvar.valueFrom.fieldRef || (!envvar.valueFrom.secretKeyRef && !envvar.valueFrom.configMapKeyRef)\">-</span>\\n                  <span ng-if=\"envvar.valueFrom.configMapKeyRef\" data-cy=\"k8sAppDetail-configName\"\\n                    ><a ui-sref=\"kubernetes.configurations.configuration({ name: envvar.valueFrom.configMapKeyRef.name, namespace: ctrl.application.ResourcePool })\"\\n                      ><i class=\"fa fa-file-code\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.configMapKeyRef.name }}</a\\n                    ></span\\n                  >\\n                  <span ng-if=\"envvar.valueFrom.secretKeyRef\" data-cy=\"k8sAppDetail-configName\"\\n                    ><a ui-sref=\"kubernetes.configurations.configuration({ name: envvar.valueFrom.secretKeyRef.name, namespace: ctrl.application.ResourcePool })\"\\n                      ><i class=\"fa fa-file-code\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.secretKeyRef.name }}</a\\n                    ></span\\n                  >\\n                </td>\\n              </tr>\\n            </tbody>\\n          </table>\\n\\n          <table class=\"table\" ng-if=\"ctrl.hasVolumeConfiguration()\">\\n            <tr class=\"text-muted\">\\n              <td style=\"width: 25%\">Container</td>\\n              <td style=\"width: 25%\">Configuration path</td>\\n              <td style=\"width: 25%\">Value</td>\\n              <td style=\"width: 25%\">Configuration</td>\\n            </tr>\\n            <tbody ng-repeat=\"container in ctrl.application.Containers\" style=\"border-top: 0\">\\n              <tr ng-repeat=\"volume in container.ConfigurationVolumes track by $index\" style=\"border-top: 0\">\\n                <td>\\n                  {{ container.Name }}\\n                  <span ng-if=\"container.Type === ctrl.KubernetesPodContainerTypes.INIT\"\\n                    ><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\\n                      href=\"https://kubernetes.io/docs/concepts/workloads/pods/init-containers/\"\\n                      target=\"_blank\"\\n                      >init container</a\\n                    >)</span\\n                  >\\n                </td>\\n                <td>\\n                  {{ volume.fileMountPath }}\\n                </td>\\n                <td> <i class=\"fa fa-key\" ng-if=\"volume.configurationKey\" aria-hidden=\"true\"></i> {{ volume.configurationKey ? volume.configurationKey : \\'-\\' }} </td>\\n                <td>\\n                  <a ui-sref=\"kubernetes.configurations.configuration({ name: volume.configurationName, namespace: ctrl.application.ResourcePool })\"\\n                    ><i class=\"fa fa-file-code\" aria-hidden=\"true\"></i> {{ volume.configurationName }}</a\\n                  >\\n                </td>\\n              </tr>\\n            </tbody>\\n          </table>\\n          \\x3c!-- !CONFIGURATIONS --\\x3e\\n\\n          \\x3c!-- DATA PERSISTENCE --\\x3e\\n          <div class=\"text-muted\" style=\"margin-bottom: 15px; margin-top: 25px\"> <i class=\"fa fa-database\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> Data persistence </div>\\n\\n          <div class=\"small text-muted\" ng-if=\"!ctrl.hasPersistedFolders()\">\\n            <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            This application has no persisted folders.\\n          </div>\\n\\n          <div ng-if=\"ctrl.hasPersistedFolders()\">\\n            <div class=\"small text-muted\" style=\"margin-bottom: 15px\">\\n              Data access policy: <i class=\"fa {{ ctrl.application.DataAccessPolicy | kubernetesApplicationDataAccessPolicyIcon }}\" aria-hidden=\"true\"></i>\\n              {{ ctrl.application.DataAccessPolicy | kubernetesApplicationDataAccessPolicyText }}\\n              <portainer-tooltip position=\"right\" message=\"{{ ctrl.application.DataAccessPolicy | kubernetesApplicationDataAccessPolicyTooltip }}\"> </portainer-tooltip>\\n            </div>\\n\\n            <table class=\"table\" ng-if=\"ctrl.application.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.SHARED\">\\n              <tr class=\"text-muted\">\\n                <td style=\"width: 33%\">Persisted folder</td>\\n                <td style=\"width: 66%\">Persistence</td>\\n              </tr>\\n              <tbody ng-repeat=\"container in ctrl.application.Containers\" style=\"border-top: 0\">\\n                <tr ng-repeat=\"volume in container.PersistedFolders track by $index\">\\n                  <td data-cy=\"k8sAppDetail-volMountPath\">\\n                    {{ volume.MountPath }}\\n                  </td>\\n                  <td ng-if=\"volume.PersistentVolumeClaimName\">\\n                    <a ui-sref=\"kubernetes.volumes.volume({ name: volume.PersistentVolumeClaimName, namespace: ctrl.application.ResourcePool })\" data-cy=\"k8sAppDetail-volClaimName\"\\n                      ><i class=\"fa fa-database\" aria-hidden=\"true\"></i> {{ volume.PersistentVolumeClaimName }}</a\\n                    >\\n                  </td>\\n                  <td ng-if=\"volume.HostPath\"> {{ volume.HostPath }} on host filesystem </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n\\n            <table class=\"table\" ng-if=\"ctrl.application.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.ISOLATED\">\\n              <thead>\\n                <tr class=\"text-muted\">\\n                  <td style=\"width: 25%\">Container name</td>\\n                  <td style=\"width: 25%\">Pod name</td>\\n                  <td style=\"width: 25%\">Persisted folder</td>\\n                  <td style=\"width: 25%\">Persistence</td>\\n                </tr>\\n              </thead>\\n              <tbody ng-repeat=\"container in ctrl.allContainers track by $index\" style=\"border-top: none\">\\n                <tr ng-repeat=\"volume in container.PersistedFolders track by $index\">\\n                  <td>\\n                    {{ container.Name }}\\n                    <span ng-if=\"container.Type === ctrl.KubernetesPodContainerTypes.INIT\"\\n                      ><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\\n                        href=\"https://kubernetes.io/docs/concepts/workloads/pods/init-containers/\"\\n                        target=\"_blank\"\\n                        >init container</a\\n                      >)</span\\n                    >\\n                  </td>\\n                  <td>{{ container.PodName }}</td>\\n                  <td>\\n                    {{ volume.MountPath }}\\n                  </td>\\n                  <td ng-if=\"volume.PersistentVolumeClaimName\">\\n                    <a ui-sref=\"kubernetes.volumes.volume({ name: volume.PersistentVolumeClaimName + \\'-\\' + container.PodName, namespace: ctrl.application.ResourcePool })\">\\n                      <i class=\"fa fa-database\" aria-hidden=\"true\"></i> {{ volume.PersistentVolumeClaimName + \\'-\\' + container.PodName }}</a\\n                    >\\n                  </td>\\n                  <td ng-if=\"volume.HostPath\"> {{ volume.HostPath }} on host filesystem </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n            \\x3c!-- !DATA PERSISTENCE --\\x3e\\n          </div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-containers-datatable\\n        title-text=\"Application containers\"\\n        title-icon=\"fa-server\"\\n        dataset=\"ctrl.allContainers\"\\n        table-key=\"kubernetes.application.containers\"\\n        is-pod=\"ctrl.application.ApplicationType === ctrl.KubernetesApplicationTypes.POD\"\\n        order-by=\"{{ ctrl.application.ApplicationType === ctrl.KubernetesApplicationTypes.POD ? \\'Name\\' : \\'PodName\\' }}\"\\n        use-server-metrics=\"ctrl.state.useServerMetrics\"\\n      >\\n      </kubernetes-containers-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},70881:function(e){var t=\"app/kubernetes/views/applications/edit/components/ingress-table/ingress-table.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div style=\"margin-top: 15px\" ng-if=\"$ctrl.hasIngress\">\\n  <table class=\"table\">\\n    <tbody>\\n      <tr class=\"text-muted\">\\n        <td style=\"width: 15%\">Ingress name</td>\\n        <td style=\"width: 10%\">Service name</td>\\n        <td style=\"width: 10%\">Host</td>\\n        <td style=\"width: 10%\">Port</td>\\n        <td style=\"width: 10%\">Path</td>\\n        <td style=\"width: 15%\">HTTP Route</td>\\n      </tr>\\n      <tr ng-repeat=\"ingress in $ctrl.applicationIngress\">\\n        <td>{{ ingress.IngressName }}</td>\\n        <td>{{ ingress.ServiceName }}</td>\\n        <td>{{ ingress.Host }}</td>\\n        <td>{{ ingress.Port }}</td>\\n        <td>{{ ingress.Path }}</td>\\n        <td\\n          ><a target=\"_blank\" href=\"http://{{ ingress.Host }}{{ ingress.Path }}\">{{ ingress.Host }}{{ ingress.Path }}</a></td\\n        >\\n      </tr>\\n    </tbody>\\n  </table>\\n</div>\\n')}]),e.exports=t},83260:function(e){var t=\"app/kubernetes/views/applications/edit/components/placements-datatable/template.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th style=\"width: 2%\">\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th style=\"width: 98%\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Node\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter: $ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              ng-class=\"{ active: item.Checked, \\'datatable-highlighted\\': item.Highlighted }\"\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td>\\n                <a ng-if=\"$ctrl.itemCanExpand(item)\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i>\\n                </a>\\n                <i ng-if=\"item.AcceptsApplication\" class=\"fa fa-check green-icon\" aria-hidden=\"true\"></i>\\n                <i ng-if=\"!item.AcceptsApplication\" class=\"fa fa-times red-icon\" aria-hidden=\"true\"></i>\\n              </td>\\n              <td>\\n                {{ item.Name }}\\n              </td>\\n            </tr>\\n            \\x3c!-- ADMIN + UNMET TAINTS --\\x3e\\n            <tr\\n              ng-if=\"$ctrl.isAdmin\"\\n              ng-show=\"item.Expanded\"\\n              ng-repeat=\"taint in item.UnmetTaints\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td colspan=\"2\">\\n                This application is missing a toleration for the taint <code>{{ taint.Key }}{{ taint.Value ? \\'=\\' + taint.Value : \\'\\' }}:{{ taint.Effect }}</code>\\n              </td>\\n            </tr>\\n            \\x3c!-- !ADMIN + UNMET TAINTS --\\x3e\\n            \\x3c!-- USER + UNMET TAINTS --\\x3e\\n            <tr\\n              ng-if=\"!$ctrl.isAdmin && item.UnmetTaints.length\"\\n              ng-show=\"item.Expanded\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td colspan=\"2\"> Placement constraint not respected for that node. </td>\\n            </tr>\\n            \\x3c!-- ! USER + UNMET TAINTS --\\x3e\\n            \\x3c!-- ADMIN + UNMET NODE SELECTOR LABELS --\\x3e\\n            <tr\\n              ng-if=\"$ctrl.isAdmin\"\\n              ng-show=\"item.Expanded\"\\n              ng-repeat=\"label in item.UnmatchedNodeSelectorLabels\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td colspan=\"2\">\\n                This application can only be scheduled on a node where the label <code>{{ label.key }}</code> is set to <code>{{ label.value }}</code>\\n              </td>\\n            </tr>\\n            \\x3c!-- ! ADMIN + UNMET NODE SELECTOR LABELS --\\x3e\\n            \\x3c!-- USER + UNMET NODE SELECTOR LABELS || UNMET NODE AFFINITIES --\\x3e\\n            <tr\\n              ng-if=\"!$ctrl.isAdmin && (item.UnmatchedNodeSelectorLabels.length || item.UnmatchedNodeAffinities.length)\"\\n              ng-show=\"item.Expanded\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td colspan=\"2\"> Placement label not respected for that node. </td>\\n            </tr>\\n            \\x3c!-- ! USER + UNMET NODE SELECTOR LABELS || UNMET NODE AFFINITIES --\\x3e\\n            \\x3c!-- ADMIN + UNMET NODE AFFINITIES --\\x3e\\n            <tr\\n              ng-if=\"$ctrl.isAdmin\"\\n              ng-show=\"item.Expanded && item.UnmatchedNodeAffinities.length\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td colspan=\"2\"> This application can only be scheduled on nodes respecting one of the following labels combination: </td>\\n            </tr>\\n            <tr\\n              dir-paginate-end\\n              ng-if=\"$ctrl.isAdmin\"\\n              ng-show=\"item.Expanded\"\\n              ng-repeat=\"aff in item.UnmatchedNodeAffinities\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td></td>\\n              <td>\\n                <code ng-repeat-start=\"term in aff track by $index\">\\n                  {{ term.key }} {{ term.operator }} {{ term.values | kubernetesApplicationConstraintNodeAffinityValue: term.operator }}\\n                </code>\\n                <span ng-repeat-end>{{ $last ? \\'\\' : \\' + \\' }}</span>\\n              </td>\\n            </tr>\\n            \\x3c!-- ! ADMIN + UNMET NODE AFFINITIES --\\x3e\\n            <tr ng-if=\"$ctrl.loading\">\\n              <td colspan=\"2\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.loading && (!$ctrl.dataset || $ctrl.state.filteredDataSet.length === 0)\">\\n              <td colspan=\"2\" class=\"text-center text-muted\">No node available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},29262:function(e){var t=\"app/kubernetes/views/applications/edit/components/services-table/services-table.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'\\x3c!-- table --\\x3e\\n<div style=\"margin-top: 15px\">\\n  <table class=\"table\">\\n    <tbody>\\n      <tr class=\"text-muted\">\\n        <td style=\"width: 15%\">Service name</td>\\n        <td style=\"width: 10%\">Type</td>\\n        <td style=\"width: 10%\">Cluster IP</td>\\n        <td style=\"width: 10%\">External IP</td>\\n        <td style=\"width: 10%\">Container port</td>\\n        <td style=\"width: 15%\">Service port(s)</td>\\n      </tr>\\n      <tr ng-repeat=\"service in $ctrl.services\">\\n        <td>{{ service.metadata.name }}</td>\\n        <td>{{ service.spec.type }}</td>\\n        <td>{{ service.spec.clusterIP }}</td>\\n        <td ng-show=\"service.spec.type === \\'LoadBalancer\\'\">\\n          <div ng-show=\"service.status.loadBalancer.ingress\">\\n            <a target=\"_blank\" ng-href=\"http://{{ service.status.loadBalancer.ingress[0].ip }}:{{ service.spec.ports[0].port }}\">\\n              <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i>\\n              <span data-cy=\"k8sAppDetail-containerPort\"> Access </span>\\n            </a>\\n          </div>\\n          <div ng-show=\"!service.status.loadBalancer.ingress\">\\n            {{ service.spec.externalIP ? service.spec.externalIP : \\'pending...\\' }}\\n          </div>\\n        </td>\\n        <td ng-show=\"service.spec.type !== \\'LoadBalancer\\'\">{{ service.spec.externalIP ? service.spec.externalIP : \\'-\\' }}</td>\\n\\n        <td data-cy=\"k8sAppDetail-containerPort\">\\n          <div ng-repeat=\"port in service.spec.ports\">{{ port.targetPort }}</div>\\n        </td>\\n        <td ng-if=\"!ctrl.portHasIngressRules(port)\">\\n          <div ng-repeat=\"port in service.spec.ports\">\\n            <a ng-if=\"$ctrl.publicUrl && port.nodePort\" ng-href=\"http://{{ $ctrl.publicUrl }}:{{ port.nodePort }}\" target=\"_blank\" style=\"margin-left: 5px\">\\n              <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i>\\n              <span data-cy=\"k8sAppDetail-containerPort\">\\n                {{ port.port }}\\n              </span>\\n              <span>{{ port.nodePort ? \\':\\' : \\'\\' }}</span>\\n              <span data-cy=\"k8sAppDetail-nodePort\"> {{ port.nodePort }}/{{ port.protocol }} </span>\\n            </a>\\n\\n            <div ng-if=\"!$ctrl.publicUrl\">\\n              <span data-cy=\"k8sAppDetail-servicePort\">\\n                {{ port.port }}\\n              </span>\\n              <span>{{ port.nodePort ? \\':\\' : \\'\\' }}</span>\\n              <span data-cy=\"k8sAppDetail-nodePort\"> {{ port.nodePort }}/{{ port.protocol }} </span>\\n            </div>\\n          </div>\\n        </td>\\n      </tr>\\n    </tbody>\\n  </table>\\n</div>\\n')}]),e.exports=t},21152:function(e){var t=\"app/kubernetes/views/applications/helm/helm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Helm details\" state=\"kubernetes.helm\" view-ready=\"$ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt; {{ $ctrl.state.params.name }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"$ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"$ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <div class=\"col-sm-12 form-section-title\"> Information </div>\\n      <p class=\"text-muted\">\\n        <i class=\"fa fa-flask orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n        This is a first version for Helm charts, for more information see this\\n        <a href=\"https://www.portainer.io/blog/portainer-now-with-helm-support\" target=\"_blank\">blog post</a>.\\n      </p>\\n    </div>\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-dharmachakra\" title-text=\"Release\"></rd-widget-header>\\n        <rd-widget-body classes=\"no-padding\">\\n          <table class=\"table\">\\n            <tbody class=\"release-table\">\\n              <tr>\\n                <td>Name</td>\\n                <td>\\n                  {{ $ctrl.state.release.name }}\\n                </td>\\n              </tr>\\n              <tr>\\n                <td>Chart</td>\\n                <td>\\n                  {{ $ctrl.state.release.chart }}\\n                </td>\\n              </tr>\\n              <tr>\\n                <td>App version</td>\\n                <td>\\n                  {{ $ctrl.state.release.app_version }}\\n                </td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},28068:function(e){var t=\"app/kubernetes/views/applications/logs/logs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Application logs\" state=\"kubernetes.applications.application.logs\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })\">{{ ctrl.application.ResourcePool }}</a> &gt;\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt;\\n  <a ui-sref=\"kubernetes.applications.application({ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool })\">{{ ctrl.application.Name }}</a> &gt; Pods &gt;\\n  {{ ctrl.podName }} &gt; Containers &gt; {{ ctrl.containerName }} &gt; Logs\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\" style=\"height: 100%\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" autocomplete=\"off\">\\n            <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n            \\x3c!-- auto-refresh --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">\\n                  Auto-refresh\\n                  <portainer-tooltip position=\"bottom\" message=\"Automatically refresh logs every 5 seconds\"></portainer-tooltip>\\n                </label>\\n                <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"ctrl.state.autoRefresh\" ng-change=\"ctrl.updateAutoRefresh()\" /><i></i> </label>\\n              </div>\\n            </div>\\n            \\x3c!-- !auto-refresh --\\x3e\\n            \\x3c!-- search --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"logs_search\" class=\"col-sm-1 control-label text-left\"> Search </label>\\n              <div class=\"col-sm-11\">\\n                <input\\n                  class=\"form-control\"\\n                  type=\"text\"\\n                  name=\"logs_search\"\\n                  ng-model=\"ctrl.state.search\"\\n                  ng-change=\"ctrl.state.selectedLines.length = 0;\"\\n                  placeholder=\"Filter...\"\\n                  auto-focus\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !search --\\x3e\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button class=\"btn btn-primary btn-sm\" type=\"button\" ng-click=\"ctrl.downloadLogs()\" style=\"margin-left: 0\"><i class=\"fa fa-download\"></i> Download logs</button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" style=\"height: 54%\">\\n    <div class=\"col-sm-12\" style=\"height: 100%\">\\n      <pre\\n        class=\"log_viewer\"\\n      ><div ng-repeat=\"line in ctrl.state.filteredLogs = (ctrl.applicationLogs | filter:ctrl.state.search) track by $index\" class=\"line\" ng-if=\"line\"><p class=\"inner_line\">{{ line }}</p></div><div ng-if=\"ctrl.applicationLogs.length && !ctrl.state.filteredLogs.length\" class=\"line\"><p class=\"inner_line\">No log line matching the \\'{{ ctrl.state.search }}\\' filter</p></div><div ng-if=\"ctrl.applicationLogs.length === 0\" class=\"line\"><p class=\"inner_line\">No logs available</p></div></pre>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},96144:function(e){var t=\"app/kubernetes/views/applications/stats/stats.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Application stats\" state=\"kubernetes.applications.application.stats\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.state.transition.namespace })\">{{ ctrl.state.transition.namespace }}</a> &gt;\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt;\\n  <a ui-sref=\"kubernetes.applications.application({ name: ctrl.state.transition.applicationName, namespace: ctrl.state.transition.namespace })\">{{\\n    ctrl.state.transition.applicationName\\n  }}</a>\\n  &gt; Pods &gt; {{ ctrl.state.transition.podName }} &gt; Containers &gt; {{ ctrl.state.transition.containerName }} &gt; Stats\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <information-panel ng-if=\"!ctrl.state.getMetrics\" title-text=\"Unable to retrieve container metrics\">\\n    <span class=\"small text-muted\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      Portainer was unable to retrieve any metrics associated to that container. Please contact your administrator to ensure that the Kubernetes metrics feature is properly\\n      configured.\\n    </span>\\n  </information-panel>\\n  <div class=\"row\" ng-if=\"ctrl.state.getMetrics\">\\n    <div class=\"col-md-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-info-circle\" title-text=\"About statistics\"> </rd-widget-header>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\">\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\">\\n                  This view displays real-time statistics about the container <b>{{ ctrl.state.transition.containerName | trimcontainername }}</b\\n                  >.\\n                </span>\\n              </div>\\n            </div>\\n            <div class=\"form-group\">\\n              <label for=\"refreshRate\" class=\"col-sm-3 col-md-2 col-lg-2 margin-sm-top control-label text-left\"> Refresh rate </label>\\n              <div class=\"col-sm-3 col-md-2\">\\n                <select id=\"refreshRate\" ng-model=\"ctrl.state.refreshRate\" ng-change=\"ctrl.changeUpdateRepeater()\" class=\"form-control\">\\n                  <option value=\"30\">30s</option>\\n                  <option value=\"60\">60s</option>\\n                </select>\\n              </div>\\n              <span>\\n                <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n              </span>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"ctrl.state.networkStatsUnavailable\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\"> <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i> Network stats are unavailable for this container. </span>\\n              </div>\\n            </div>\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-if=\"ctrl.state.getMetrics\">\\n    <div class=\"col-lg-6 col-md-12 col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-chart-area\" title-text=\"Memory usage\"></rd-widget-header>\\n        <rd-widget-body>\\n          <div class=\"chart-container\" style=\"position: relative\">\\n            <canvas id=\"memoryChart\" width=\"770\" height=\"300\"></canvas>\\n          </div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n    <div class=\"col-lg-6 col-md-12 col-sm-12\" ng-if=\"!ctrl.state.networkStatsUnavailable\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-chart-area\" title-text=\"CPU usage\"></rd-widget-header>\\n        <rd-widget-body>\\n          <div class=\"chart-container\" style=\"position: relative\">\\n            <canvas id=\"cpuChart\" width=\"770\" height=\"300\"></canvas>\\n          </div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},21284:function(e){var t=\"app/kubernetes/views/cluster/cluster.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Cluster\" state=\"kubernetes.cluster\" view-ready=\"ctrl.state.viewReady\"> Cluster information </kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\" ng-if=\"ctrl.isAdmin\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          \\x3c!-- resource-reservation --\\x3e\\n          <form class=\"form-horizontal\" ng-if=\"ctrl.resourceReservation\">\\n            <kubernetes-resource-reservation\\n              description=\"Resource reservation represents the total amount of resource assigned to all the applications inside the cluster.\"\\n              cpu-reservation=\"ctrl.resourceReservation.CPU\"\\n              cpu-limit=\"ctrl.CPULimit\"\\n              memory-reservation=\"ctrl.resourceReservation.Memory\"\\n              memory-limit=\"ctrl.MemoryLimit\"\\n              display-usage=\"ctrl.hasResourceUsageAccess()\"\\n              cpu-usage=\"ctrl.resourceUsage.CPU\"\\n              memory-usage=\"ctrl.resourceUsage.Memory\"\\n            >\\n            </kubernetes-resource-reservation>\\n          </form>\\n          \\x3c!-- !resource-reservation --\\x3e\\n\\n          \\x3c!-- leader-status --\\x3e\\n          <div ng-if=\"ctrl.systemEndpoints.length > 0\">\\n            <div class=\"col-sm-12 form-section-title\"> Leader status </div>\\n\\n            <table class=\"table\">\\n              <tbody>\\n                <tr class=\"text-muted\">\\n                  <td style=\"border-top: none; width: 25%\">Component</td>\\n                  <td style=\"border-top: none; width: 25%\">Leader node</td>\\n                </tr>\\n                <tr ng-repeat=\"ep in ctrl.systemEndpoints\">\\n                  <td style=\"width: 25%\">\\n                    {{ ep.Name }}\\n                  </td>\\n                  <td style=\"width: 25%\">\\n                    {{ ep.HolderIdentity }}\\n                  </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n          </div>\\n          \\x3c!-- !leader-status --\\x3e\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-nodes-datatable\\n        title-text=\"Nodes\"\\n        title-icon=\"fa-hdd\"\\n        dataset=\"ctrl.nodes\"\\n        table-key=\"kubernetes.nodes\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.getNodes\"\\n        is-admin=\"ctrl.isAdmin\"\\n        use-server-metrics=\"ctrl.state.useServerMetrics\"\\n      ></kubernetes-nodes-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},78928:function(e){var t=\"app/kubernetes/views/cluster/node/node.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Node details\" state=\"kubernetes.cluster.node\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.cluster\">Cluster</a> &gt; {{ ctrl.node.Name }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\">\\n              <uib-tab-heading> <i class=\"fa fa-hdd space-right\" aria-hidden=\"true\"></i> Node </uib-tab-heading>\\n\\n              <form class=\"form-horizontal\" name=\"kubernetesNodeUpdateForm\" style=\"padding: 20px\" autocomplete=\"off\">\\n                <table class=\"table\">\\n                  <tbody ng-if=\"ctrl.node\">\\n                    <tr>\\n                      <td>Hostname</td>\\n                      <td>\\n                        {{ ctrl.node.Name }}\\n                        <span class=\"label label-primary image-tag\" style=\"margin-left: 5px\" ng-if=\"ctrl.node.Api\">api</span>\\n                      </td>\\n                    </tr>\\n                    <tr ng-if=\"ctrl.node.Api\">\\n                      <td> Kubernetes API </td>\\n                      <td>{{ ctrl.node.IPAddress }}:{{ ctrl.node.Port }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Role</td>\\n                      <td>{{ ctrl.node.Role }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Kubelet version</td>\\n                      <td>{{ ctrl.node.Version }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Creation date</td>\\n                      <td>{{ ctrl.node.CreationDate | getisodate }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Status</td>\\n                      <td>\\n                        <span class=\"label label-{{ ctrl.node.Status | kubernetesNodeStatusColor }}\">\\n                          {{ ctrl.node.Status }}\\n                        </span>\\n                        <span ng-if=\"ctrl.node.Status == \\'Warning\\'\" class=\"text text-warning\">\\n                          {{ ctrl.node.Conditions | kubernetesNodeConditionsMessage }}\\n                        </span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td class=\"col-xs-3\"> Availability </td>\\n                      <td class=\"col-xs-9\">\\n                        <select class=\"form-control\" name=\"availability\" style=\"display: inline-block; width: 16rem\" ng-model=\"ctrl.formValues.Availability\">\\n                          <option>{{ ctrl.availabilities.ACTIVE }}</option>\\n                          <option>{{ ctrl.availabilities.PAUSE }}</option>\\n                          <option>{{ ctrl.availabilities.DRAIN }}</option>\\n                        </select>\\n                        <span class=\"small text-warning\" ng-if=\"ctrl.state.isDrainOperation && ctrl.formValues.Availability === ctrl.availabilities.DRAIN\">\\n                          <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                          Cannot use this action while another node is currently being drained.\\n                        </span>\\n                        <span class=\"small text-warning\" ng-if=\"ctrl.state.isContainPortainer && ctrl.formValues.Availability === ctrl.availabilities.DRAIN\">\\n                          <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                          Cannot drain a node where this Portainer instance is running.\\n                        </span>\\n                      </td>\\n                    </tr>\\n                  </tbody>\\n                </table>\\n\\n                <div style=\"padding: 8px\">\\n                  <kubernetes-resource-reservation\\n                    ng-if=\"ctrl.resourceReservation\"\\n                    cpu-reservation=\"ctrl.resourceReservation.CPU\"\\n                    cpu-usage=\"ctrl.resourceUsage.CPU\"\\n                    cpu-limit=\"ctrl.node.CPU\"\\n                    memory-reservation=\"ctrl.resourceReservation.Memory\"\\n                    memory-usage=\"ctrl.resourceUsage.Memory\"\\n                    memory-limit=\"ctrl.memoryLimit\"\\n                    description=\"Resource reservation represents the total amount of resource assigned to all the applications running on this node.\"\\n                    display-usage=\"ctrl.hasResourceUsageAccess()\"\\n                  >\\n                  </kubernetes-resource-reservation>\\n                </div>\\n\\n                <div style=\"padding: 8px\">\\n                  \\x3c!-- #region labels --\\x3e\\n                  <div class=\"col-sm-12 form-section-title\"> Labels </div>\\n\\n                  <div style=\"margin-bottom: 10px\">\\n                    <span class=\"label label-default interactive\" ng-click=\"ctrl.addLabel()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label </span>\\n                  </div>\\n\\n                  <div class=\"form-inline\" ng-repeat=\"label in ctrl.formValues.Labels\" style=\"padding: 3px 0 3px 0\">\\n                    <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: label.NeedsDeletion }\">\\n                      <span class=\"input-group-addon\">Key</span>\\n                      <input\\n                        type=\"text\"\\n                        class=\"form-control\"\\n                        name=\"label_key_{{ $index }}\"\\n                        ng-model=\"label.Key\"\\n                        ng-change=\"ctrl.onChangeLabelKey($index)\"\\n                        ng-disabled=\"ctrl.isSystemLabel($index)\"\\n                        required\\n                      />\\n                    </div>\\n                    <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: label.NeedsDeletion }\">\\n                      <span class=\"input-group-addon\">Value</span>\\n                      <input\\n                        type=\"text\"\\n                        class=\"form-control\"\\n                        name=\"label_value_{{ $index }}\"\\n                        ng-change=\"ctrl.onChangeLabel($index)\"\\n                        ng-model=\"label.Value\"\\n                        ng-disabled=\"ctrl.isSystemLabel($index)\"\\n                      />\\n                    </div>\\n                    <div class=\"input-group col-sm-1 input-group-sm\">\\n                      <div style=\"white-space: nowrap\">\\n                        <button ng-if=\"!ctrl.isSystemLabel($index) && !label.NeedsDeletion\" class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"ctrl.removeLabel($index)\">\\n                          <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\\n                        </button>\\n                        <button ng-if=\"!ctrl.isSystemLabel($index) && label.NeedsDeletion\" class=\"btn btn-sm btn-primary\" type=\"button\" ng-click=\"ctrl.restoreLabel($index)\">\\n                          Restore\\n                        </button>\\n                        <span class=\"label label-warning label-sm image-tag\" ng-if=\"label.IsUsed && !ctrl.isSystemLabel($index)\" style=\"margin-left: 5px\">used</span>\\n                        <span class=\"label label-info image-tag\" ng-if=\"ctrl.isSystemLabel($index)\" style=\"margin-left: 5px\">system</span>\\n                      </div>\\n                    </div>\\n                    <div\\n                      class=\"small text-warning\"\\n                      style=\"margin-top: 5px\"\\n                      ng-show=\"kubernetesNodeUpdateForm[\\'label_key_\\' + $index].$invalid || ctrl.state.duplicateLabelKeys[$index] !== undefined\"\\n                    >\\n                      <ng-messages for=\"kubernetesNodeUpdateForm[\\'label_key_\\' + $index].$error\">\\n                        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Label key is required.</p>\\n                      </ng-messages>\\n                      <p ng-if=\"ctrl.state.duplicateLabelKeys[$index] !== undefined\"\\n                        ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This label key is already defined.</p\\n                      >\\n                    </div>\\n                  </div>\\n\\n                  \\x3c!-- #endregion --\\x3e\\n\\n                  \\x3c!-- #region taints --\\x3e\\n\\n                  <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 20px\"> Taints </div>\\n\\n                  <div style=\"margin-bottom: 10px\">\\n                    <span class=\"label label-default interactive\" ng-click=\"ctrl.addTaint()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add taint </span>\\n                  </div>\\n\\n                  <div class=\"form-inline\" ng-repeat=\"taint in ctrl.formValues.Taints\" style=\"padding: 3px 0 3px 0\">\\n                    <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: taint.NeedsDeletion }\">\\n                      <span class=\"input-group-addon\">Key</span>\\n                      <input type=\"text\" class=\"form-control\" name=\"taint_key_{{ $index }}\" ng-model=\"taint.Key\" ng-change=\"ctrl.onChangeTaintKey($index)\" required />\\n                    </div>\\n                    <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: taint.NeedsDeletion }\">\\n                      <span class=\"input-group-addon\">Value</span>\\n                      <input type=\"text\" class=\"form-control\" name=\"taint_value_{{ $index }}\" ng-model=\"taint.Value\" ng-change=\"ctrl.onChangeTaint($index)\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: taint.NeedsDeletion }\">\\n                      <span class=\"input-group-addon\">Effect</span>\\n                      <select\\n                        id=\"taint_effect_{{ $index }}\"\\n                        name=\"taint_effect_{{ $index }}\"\\n                        class=\"form-control\"\\n                        ng-model=\"taint.Effect\"\\n                        ng-change=\"ctrl.onChangeTaint($index)\"\\n                        ;\\n                        ng-options=\"effect as effect for effect in ctrl.availableEffects\"\\n                      ></select>\\n                    </div>\\n                    <div class=\"input-group col-sm-1 input-group-sm\">\\n                      <div>\\n                        <button ng-if=\"!taint.NeedsDeletion\" class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"ctrl.removeTaint($index)\">\\n                          <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\\n                        </button>\\n                        <button ng-if=\"taint.NeedsDeletion\" class=\"btn btn-sm btn-primary\" type=\"button\" ng-click=\"ctrl.restoreTaint($index)\"> Restore </button>\\n                      </div>\\n                    </div>\\n                    <div\\n                      class=\"small text-warning\"\\n                      style=\"margin-top: 5px\"\\n                      ng-show=\"kubernetesNodeUpdateForm[\\'taint_key_\\' + $index].$invalid || ctrl.state.duplicateTaintKeys[$index] !== undefined\"\\n                    >\\n                      <ng-messages for=\"kubernetesNodeUpdateForm[\\'taint_key_\\' + $index].$error\">\\n                        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Taint key is required.</p>\\n                      </ng-messages>\\n                      <p ng-if=\"ctrl.state.duplicateTaintKeys[$index] !== undefined\"\\n                        ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This taint key is already defined.</p\\n                      >\\n                    </div>\\n                  </div>\\n\\n                  \\x3c!-- #endregion --\\x3e\\n\\n                  \\x3c!-- #region actions --\\x3e\\n\\n                  <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 20px\"> Actions </div>\\n\\n                  <div class=\"form-group\">\\n                    <div class=\"col-sm-12\">\\n                      <button\\n                        class=\"btn btn-primary btn-sm\"\\n                        type=\"button\"\\n                        style=\"margin-left: 0\"\\n                        ng-click=\"ctrl.updateNode()\"\\n                        ng-disabled=\"kubernetesNodeUpdateForm.$invalid || !ctrl.isFormValid()\"\\n                      >\\n                        Update node\\n                      </button>\\n                      <button class=\"btn btn-default btn-sm\" type=\"button\" ng-click=\"ctrl.resetFormValues()\" ng-disabled=\"ctrl.isNoChangesMade()\"> Cancel </button>\\n                    </div>\\n                  </div>\\n\\n                  \\x3c!-- #endregion --\\x3e\\n                </div>\\n              </form>\\n            </uib-tab>\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\">\\n              <uib-tab-heading>\\n                <i class=\"fa fa-history space-right\" aria-hidden=\"true\"></i> Events\\n                <div ng-if=\"ctrl.hasEventWarnings()\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  {{ ctrl.state.eventWarningCount }} warning(s)\\n                </div>\\n              </uib-tab-heading>\\n              <kubernetes-events-datatable\\n                title-text=\"Events\"\\n                title-icon=\"fa-history\"\\n                dataset=\"ctrl.events\"\\n                table-key=\"kubernetes.node.events\"\\n                order-by=\"Date\"\\n                reverse-order=\"true\"\\n                loading=\"ctrl.state.eventsLoading\"\\n                refresh-callback=\"ctrl.getEvents\"\\n              >\\n              </kubernetes-events-datatable>\\n            </uib-tab>\\n            <uib-tab index=\"2\" ng-if=\"ctrl.node.Yaml\" select=\"ctrl.showEditor()\" classes=\"btn-sm\">\\n              <uib-tab-heading> <i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i> YAML </uib-tab-heading>\\n              <div style=\"padding-right: 25px\" ng-if=\"ctrl.state.showEditorTab\">\\n                <kubernetes-yaml-inspector key=\"node-yaml\" data=\"ctrl.node.Yaml\"> </kubernetes-yaml-inspector>\\n              </div>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-if=\"ctrl.applications && ctrl.applications.length > 0\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-node-applications-datatable\\n        dataset=\"ctrl.applications\"\\n        table-key=\"kubernetes.node.applications\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.getApplications\"\\n        loading=\"ctrl.state.applicationsLoading\"\\n        title-text=\"Applications running on this node\"\\n        title-icon=\"fa-laptop-code\"\\n      >\\n      </kubernetes-node-applications-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},49709:function(e){var t=\"app/kubernetes/views/cluster/node/stats/stats.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Node stats\" state=\"kubernetes.cluster.node.stats\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.cluster\">Cluster</a> &gt; <a ui-sref=\"kubernetes.cluster.node({name: ctrl.state.transition.nodeName})\"> {{ ctrl.state.transition.nodeName }} </a> >\\n  {{ ctrl.state.transition.nodeName }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <information-panel ng-if=\"!ctrl.state.getMetrics\" title-text=\"Unable to retrieve node metrics\">\\n    <span class=\"small text-muted\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      Portainer was unable to retrieve any metrics associated to that node. Please contact your administrator to ensure that the Kubernetes metrics feature is properly configured.\\n    </span>\\n  </information-panel>\\n  <div class=\"row\" ng-if=\"ctrl.state.getMetrics\">\\n    <div class=\"col-md-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-info-circle\" title-text=\"About statistics\"> </rd-widget-header>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\">\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\">\\n                  This view displays real-time statistics about the node <b>{{ ctrl.state.transition.nodeName }}</b\\n                  >.\\n                </span>\\n              </div>\\n            </div>\\n            <div class=\"form-group\">\\n              <label for=\"refreshRate\" class=\"col-sm-3 col-md-2 col-lg-2 margin-sm-top control-label text-left\"> Refresh rate </label>\\n              <div class=\"col-sm-3 col-md-2\">\\n                <select id=\"refreshRate\" ng-model=\"ctrl.state.refreshRate\" ng-change=\"ctrl.changeUpdateRepeater()\" class=\"form-control\">\\n                  <option value=\"30\">30s</option>\\n                  <option value=\"60\">60s</option>\\n                </select>\\n              </div>\\n              <span>\\n                <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n              </span>\\n            </div>\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-show=\"ctrl.state.getMetrics\">\\n    <div class=\"col-lg-6 col-md-12 col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-chart-area\" title-text=\"Memory usage\"></rd-widget-header>\\n        <rd-widget-body>\\n          <div class=\"chart-node\" style=\"position: relative\">\\n            <canvas id=\"memoryChart\" width=\"770\" height=\"300\"></canvas>\\n          </div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n    <div class=\"col-lg-6 col-md-12 col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-chart-area\" title-text=\"CPU usage\"></rd-widget-header>\\n        <rd-widget-body>\\n          <div class=\"chart-node\" style=\"position: relative\">\\n            <canvas id=\"cpuChart\" width=\"770\" height=\"300\"></canvas>\\n          </div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},79773:function(e){var t=\"app/kubernetes/views/configurations/configurations.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"ConfigMaps & Secrets list\" state=\"kubernetes.configurations\" view-ready=\"ctrl.state.viewReady\"> ConfigMaps & Secrets </kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-configurations-datatable\\n        dataset=\"ctrl.configurations\"\\n        table-key=\"kubernetes.configurations\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.refreshCallback\"\\n        remove-action=\"ctrl.removeAction\"\\n      ></kubernetes-configurations-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},5502:function(e){var t=\"app/kubernetes/views/configurations/create/createConfiguration.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Create configuration\" state=\"kubernetes.configurations.new\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.configurations\">ConfigMaps and Secrets</a> &gt; Create a configuration\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-xs-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" name=\"kubernetesConfigurationCreationForm\" autocomplete=\"off\">\\n            \\x3c!-- name --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"configuration_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n              <div class=\"col-sm-11\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"configuration_name\"\\n                  ng-model=\"ctrl.formValues.Name\"\\n                  ng-pattern=\"/^[a-z0-9]([a-z0-9-.]{0,61}[a-z0-9])?$/\"\\n                  ng-change=\"ctrl.onChangeName()\"\\n                  placeholder=\"my-configuration\"\\n                  auto-focus\\n                  required\\n                  data-cy=\"k8sConfigCreate-nameInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"kubernetesConfigurationCreationForm.configuration_name.$invalid || ctrl.state.alreadyExist\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"kubernetesConfigurationCreationForm.configuration_name.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                  <p ng-message=\"pattern\"\\n                    ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field must consist of lower case alphanumeric characters, \\'-\\' or \\'.\\', and contain at most 63\\n                    characters, and must start and end with an alphanumeric character.</p\\n                  >\\n                </div>\\n                <p ng-if=\"ctrl.state.alreadyExist\"\\n                  ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A configuration with the same name already exists inside the selected namespace.</p\\n                >\\n              </div>\\n            </div>\\n            \\x3c!-- !name --\\x3e\\n\\n            <div class=\"col-sm-12 form-section-title\"> Namespace </div>\\n\\n            \\x3c!-- resource-pool --\\x3e\\n            <div class=\"form-group\" ng-if=\"ctrl.formValues.ResourcePool\">\\n              <label for=\"resource-pool-selector\" class=\"col-sm-1 control-label text-left\">Namespace</label>\\n              <div class=\"col-sm-11\">\\n                <select\\n                  class=\"form-control\"\\n                  id=\"resource-pool-selector\"\\n                  ng-model=\"ctrl.formValues.ResourcePool\"\\n                  ng-options=\"resourcePool.Namespace.Name for resourcePool in ctrl.resourcePools\"\\n                  ng-change=\"ctrl.onResourcePoolSelectionChange()\"\\n                  data-cy=\"k8sConfigCreate-namespaceDropdown\"\\n                ></select>\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded()\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                This namespace has exhausted its resource capacity and you will not be able to deploy the configuration. Contact your administrator to expand the capacity of the\\n                namespace.\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"!ctrl.formValues.ResourcePool\">\\n              <div class=\"col-sm-12 small text-muted\">\\n                <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                You do not have access to any namespace. Contact your administrator to get access to a namespace.\\n              </div>\\n            </div>\\n            \\x3c!-- !resource-pool --\\x3e\\n            <div ng-if=\"ctrl.formValues.ResourcePool\">\\n              <div class=\"col-sm-12 form-section-title\"> Configuration type </div>\\n\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12 small text-muted\"> Select the type of data that you want to save in the configuration. </div>\\n              </div>\\n\\n              \\x3c!-- type options --\\x3e\\n              <div class=\"form-group\" style=\"margin-bottom: 0\">\\n                <div class=\"boxselector_wrapper\">\\n                  <div>\\n                    <input type=\"radio\" id=\"type_basic\" ng-value=\"ctrl.KubernetesConfigurationTypes.CONFIGMAP\" ng-model=\"ctrl.formValues.Type\" />\\n                    <label for=\"type_basic\" data-cy=\"k8sConfigCreate-nonSensitiveButton\">\\n                      <div class=\"boxselector_header\">\\n                        <i class=\"fa fa-file-code\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                        ConfigMap\\n                      </div>\\n                      <p>This configuration holds non-sensitive information</p>\\n                    </label>\\n                  </div>\\n                  <div>\\n                    <input type=\"radio\" id=\"type_secret\" ng-value=\"ctrl.KubernetesConfigurationTypes.SECRET\" ng-model=\"ctrl.formValues.Type\" />\\n                    <label for=\"type_secret\" data-cy=\"k8sConfigCreate-sensitiveButton\">\\n                      <div class=\"boxselector_header\">\\n                        <i class=\"fa fa-user-secret\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                        Secret\\n                      </div>\\n                      <p>This configuration holds sensitive information</p>\\n                    </label>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !type options --\\x3e\\n\\n              <div class=\"col-sm-12 form-section-title\" ng-if=\"ctrl.formValues.Type == ctrl.KubernetesConfigurationTypes.SECRET\"> Information </div>\\n              <div class=\"form-group\" ng-if=\"ctrl.formValues.Type == ctrl.KubernetesConfigurationTypes.SECRET\">\\n                <div class=\"col-sm-12 small text-muted\">\\n                  Creating a sensitive configuration will create a Kubernetes Secret of type <code>Opaque</code>. You can find more information about this in the\\n                  <a href=\"https://kubernetes.io/docs/concepts/configuration/secret/#secret-types\" target=\"_blank\">official documentation</a>.\\n                </div>\\n              </div>\\n\\n              <kubernetes-configuration-data\\n                ng-if=\"ctrl.formValues\"\\n                form-values=\"ctrl.formValues\"\\n                is-valid=\"ctrl.state.isDataValid\"\\n                is-creation=\"true\"\\n                is-editor-dirty=\"ctrl.state.isEditorDirty\"\\n              ></kubernetes-configuration-data>\\n\\n              \\x3c!-- summary --\\x3e\\n              <kubernetes-summary-view\\n                ng-if=\"!(!kubernetesConfigurationCreationForm.$valid || !ctrl.isFormValid() || ctrl.state.actionInProgress)\"\\n                form-values=\"ctrl.formValues\"\\n              ></kubernetes-summary-view>\\n            </div>\\n\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 10px\"> Actions </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"!kubernetesConfigurationCreationForm.$valid || !ctrl.isFormValid() || ctrl.state.actionInProgress || !ctrl.formValues.ResourcePool\"\\n                  ng-click=\"ctrl.createConfiguration()\"\\n                  button-spinner=\"ctrl.state.actionInProgress\"\\n                  data-cy=\"k8sConfigCreate-CreateConfigButton\"\\n                >\\n                  <span ng-hide=\"ctrl.state.actionInProgress\">Create {{ ctrl.formValues.Type | kubernetesConfigurationTypeText }}</span>\\n                  <span ng-show=\"ctrl.state.actionInProgress\">Creation in progress...</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},61330:function(e){var t=\"app/kubernetes/views/configurations/edit/configuration.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Configuration details\" state=\"kubernetes.configurations.configuration\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.configuration.Namespace })\">{{ ctrl.configuration.Namespace }}</a> &gt;\\n  <a ui-sref=\"kubernetes.configurations\">ConfigMaps and Secrets</a> &gt; {{ ctrl.configuration.Name }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\" data-cy=\"k8sConfigDetail-configTab\">\\n              <uib-tab-heading> <i class=\"fa fa-file-code space-right\" aria-hidden=\"true\"></i> Configuration </uib-tab-heading>\\n              <div style=\"padding: 20px\">\\n                <table class=\"table\" data-cy=\"k8sConfigDetail-configTable\">\\n                  <tbody>\\n                    <tr>\\n                      <td>Name</td>\\n                      <td>\\n                        {{ ctrl.configuration.Name }}\\n                        <span style=\"margin-left: 5px\" class=\"label label-info image-tag\" ng-if=\"ctrl.configuration.IsRegistrySecret\">system</span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Namespace</td>\\n                      <td>\\n                        <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.configuration.Namespace })\">{{ ctrl.configuration.Namespace }}</a>\\n                        <span style=\"margin-left: 5px\" class=\"label label-info image-tag\" ng-if=\"ctrl.isSystemNamespace()\">system</span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Configuration type</td>\\n                      <td>\\n                        {{ ctrl.configuration.Type | kubernetesConfigurationTypeText }}\\n                      </td>\\n                    </tr>\\n                  </tbody>\\n                </table>\\n              </div>\\n            </uib-tab>\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\" data-cy=\"k8sConfigDetail-eventsTab\">\\n              <uib-tab-heading>\\n                <i class=\"fa fa-history space-right\" aria-hidden=\"true\"></i> Events\\n                <div ng-if=\"ctrl.hasEventWarnings()\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  {{ ctrl.state.eventWarningCount }} warning(s)\\n                </div>\\n              </uib-tab-heading>\\n              <kubernetes-events-datatable\\n                title-text=\"Events\"\\n                title-icon=\"fa-history\"\\n                dataset=\"ctrl.events\"\\n                table-key=\"kubernetes.configuration.events\"\\n                order-by=\"Date\"\\n                reverse-order=\"true\"\\n                loading=\"ctrl.state.eventsLoading\"\\n                refresh-callback=\"ctrl.getEvents\"\\n              >\\n              </kubernetes-events-datatable>\\n            </uib-tab>\\n            <uib-tab index=\"2\" ng-if=\"ctrl.configuration.Yaml\" classes=\"btn-sm\" select=\"ctrl.showEditor()\" data-cy=\"k8sConfigDetail-yamlTab\">\\n              <uib-tab-heading> <i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i> YAML </uib-tab-heading>\\n              <div style=\"padding-right: 25px\" ng-if=\"ctrl.state.showEditorTab\">\\n                <kubernetes-yaml-inspector key=\"configuration-yaml\" data=\"ctrl.configuration.Yaml\"> </kubernetes-yaml-inspector>\\n              </div>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form ng-if=\"!ctrl.isSystemConfig()\" class=\"form-horizontal\" name=\"kubernetesConfigurationCreationForm\" autocomplete=\"off\">\\n            <kubernetes-configuration-data\\n              ng-if=\"ctrl.formValues\"\\n              form-values=\"ctrl.formValues\"\\n              is-valid=\"ctrl.state.isDataValid\"\\n              is-creation=\"false\"\\n              is-editor-dirty=\"ctrl.state.isEditorDirty\"\\n            ></kubernetes-configuration-data>\\n\\n            \\x3c!-- summary --\\x3e\\n            <kubernetes-summary-view\\n              ng-if=\"!(!ctrl.isFormValid() || !kubernetesConfigurationCreationForm.$valid || ctrl.state.actionInProgress)\"\\n              form-values=\"ctrl.formValues\"\\n            ></kubernetes-summary-view>\\n\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 10px\"> Actions </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"!ctrl.isFormValid() || !kubernetesConfigurationCreationForm.$valid || ctrl.state.actionInProgress\"\\n                  ng-click=\"ctrl.updateConfiguration()\"\\n                  button-spinner=\"ctrl.state.actionInProgress\"\\n                  data-cy=\"k8sConfigDetail-updateConfig\"\\n                >\\n                  <span ng-hide=\"ctrl.state.actionInProgress\">Update {{ ctrl.configuration.Type | kubernetesConfigurationTypeText }}</span>\\n                  <span ng-show=\"ctrl.state.actionInProgress\">Update in progress...</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n          <div ng-if=\"ctrl.isSystemConfig()\">\\n            <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 10px\"> Data </div>\\n            <table class=\"table\">\\n              <tbody>\\n                <tr class=\"text-muted\">\\n                  <td style=\"width: 10%; border-top: none\">Key</td>\\n                  <td style=\"width: 90%; border-top: none\">Value</td>\\n                </tr>\\n\\n                <tr ng-repeat=\"item in ctrl.formValues.Data track by $index\">\\n                  <td>{{ item.Key }}</td>\\n                  <td>\\n                    <div style=\"white-space: pre-wrap\">{{ item.Value }}</div>\\n                    <div style=\"margin-top: 2px\">\\n                      <span class=\"btn btn-primary btn-xs\" ng-click=\"ctrl.copyConfigurationValue($index)\"> <i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy </span>\\n                      <span id=\"copyValueNotification_{{ $index }}\" style=\"display: none; color: #23ae89; margin-left: 5px\" class=\"small\">\\n                        <i class=\"fa fa-check\" aria-hidden=\"true\"></i> copied\\n                      </span>\\n                    </div>\\n                  </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n          </div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-if=\"ctrl.configuration.Used\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-integrated-applications-datatable\\n        dataset=\"ctrl.configuration.Applications\"\\n        table-key=\"kubernetes.configurations.applications\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.getApplications\"\\n        title-text=\"Applications using this configuration\"\\n        title-icon=\"fa-laptop-code\"\\n      >\\n      </kubernetes-integrated-applications-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},45315:function(e){var t=\"app/kubernetes/views/configure/configure.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Kubernetes features configuration\" state=\"portainer.k8sendpoint.kubernetesConfig\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"portainer.endpoints\">Environment</a> &gt; <a ui-sref=\"portainer.endpoints.endpoint({id: ctrl.endpoint.Id})\">{{ ctrl.endpoint.Name }}</a> &gt; Kubernetes configuration\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" name=\"kubernetesClusterSetupForm\">\\n            <div class=\"col-sm-12 form-section-title\"> Networking </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                Enabling the load balancer feature will allow users to expose application they deploy over an external IP address assigned by cloud provider.\\n                <p style=\"margin-top: 2px\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  Ensure that your cloud provider allows you to create load balancers if you want to use this feature. Might incur costs.\\n                </p>\\n              </span>\\n\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\"> Allow users to use external load balancer </label>\\n                <label class=\"switch\" style=\"margin-left: 20px\">\\n                  <input type=\"checkbox\" ng-model=\"ctrl.formValues.UseLoadBalancer\" /><i data-cy=\"kubeSetup-loadBalancerToggle\"></i>\\n                </label>\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                Configuring ingress controllers will allow users to expose application they deploy over a HTTP route.<br />\\n                <p style=\"margin-top: 2px\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  Ingress classes must be manually specified for each controller you want to use in the cluster. Make sure that each controller is running inside your cluster.\\n                </p>\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">Ingress controller</label>\\n                <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"ctrl.addIngressClass()\" data-cy=\"kubeSetup-congifIngressButton\">\\n                  <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> configure ingress controller\\n                </span>\\n              </div>\\n\\n              <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                <div ng-repeat-start=\"ingressClass in ctrl.formValues.IngressClasses\" style=\"margin-top: 2px\">\\n                  <div class=\"col-sm-7 input-group input-group-sm\" ng-class=\"{ striked: ingressClass.NeedsDeletion }\">\\n                    <span class=\"input-group-addon\">Ingress class</span>\\n                    <input\\n                      type=\"text\"\\n                      class=\"form-control\"\\n                      name=\"ingress_class_name_{{ $index }}\"\\n                      ng-model=\"ingressClass.Name\"\\n                      placeholder=\"nginx\"\\n                      ng-pattern=\"/^[a-z]([-a-z0-9]*[a-z0-9])?$/\"\\n                      ng-change=\"ctrl.onChangeIngressClassName($index)\"\\n                      required\\n                      data-cy=\"kubeSetup-ingressClassName\"\\n                    />\\n                  </div>\\n                  <div class=\"col-sm-3 input-group input-group-sm\" ng-class=\"{ striked: ingressClass.NeedsDeletion }\">\\n                    <span class=\"input-group-addon\">Type</span>\\n                    <select\\n                      class=\"form-control\"\\n                      name=\"ingress_class_type_{{ $index }}\"\\n                      ng-model=\"ingressClass.Type\"\\n                      ng-options=\"value as value for (key, value) in ctrl.IngressClassTypes\"\\n                      required\\n                      data-cy=\"kubeSetup-ingressType\"\\n                    >\\n                      <option selected disabled hidden value=\"\">Select a type</option>\\n                    </select>\\n                  </div>\\n                  <div class=\"col-sm-1 input-group input-group-sm\">\\n                    <button\\n                      ng-if=\"!ingressClass.NeedsDeletion\"\\n                      class=\"btn btn-sm btn-danger\"\\n                      type=\"button\"\\n                      ng-click=\"ctrl.removeIngressClass($index)\"\\n                      data-cy=\"kubeSetup-deleteIngress\"\\n                    >\\n                      <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                    </button>\\n                    <button ng-if=\"ingressClass.NeedsDeletion\" class=\"btn btn-sm btn-primary\" type=\"button\" ng-click=\"ctrl.restoreIngressClass($index)\">\\n                      <i class=\"fa fa-trash-restore\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n\\n                <div\\n                  ng-repeat-end\\n                  ng-show=\"\\n                    kubernetesClusterSetupForm[\\'ingress_class_name_\\' + $index].$invalid ||\\n                    kubernetesClusterSetupForm[\\'ingress_class_type_\\' + $index].$invalid ||\\n                    ctrl.state.duplicates.ingressClasses.refs[$index] !== undefined\\n                  \"\\n                >\\n                  <div class=\"col-sm-7 input-group\">\\n                    <div\\n                      class=\"small text-warning\"\\n                      style=\"margin-top: 5px\"\\n                      ng-if=\"kubernetesClusterSetupForm[\\'ingress_class_name_\\' + $index].$invalid || ctrl.state.duplicates.ingressClasses.refs[$index] !== undefined\"\\n                    >\\n                      <div ng-messages=\"kubernetesClusterSetupForm[\\'ingress_class_name_\\'+$index].$error\">\\n                        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Ingress class name is required.</p>\\n                        <p ng-message=\"pattern\"\\n                          ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field must consist of lower case alphanumeric characters or \\'-\\', start with an\\n                          alphabetic character, and end with an alphanumeric character (e.g. \\'my-name\\', or \\'abc-123\\').</p\\n                        >\\n                      </div>\\n                      <p ng-if=\"ctrl.state.duplicates.ingressClasses.refs[$index] !== undefined\">\\n                        <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This ingress class is already defined.\\n                      </p>\\n                    </div>\\n                  </div>\\n                  <div class=\"col-sm-3 input-group\">\\n                    <div class=\"small text-warning\" style=\"margin-top: 5px\" ng-if=\"kubernetesClusterSetupForm[\\'ingress_class_type_\\' + $index].$invalid\">\\n                      <div ng-messages=\"kubernetesClusterSetupForm[\\'ingress_class_type_\\'+$index].$error\">\\n                        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Ingress class type is required.</p>\\n                      </div>\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\" ng-if=\"ctrl.hasTraefikIngress()\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                <p>\\n                  <i class=\"fa fa-flask blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  Traefik support is experimental.\\n                </p>\\n              </span>\\n            </div>\\n\\n            \\x3c!-- auto update window --\\x3e\\n            <div class=\"col-sm-12 form-section-title\"> Change Window Setting </div>\\n\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <por-switch-field\\n                  checked=\"ctrl.state.autoUpdateSettings.Enabled\"\\n                  name=\"\\'disableSysctlSettingForRegularUsers\\'\"\\n                  label=\"\\'Enable Change Window\\'\"\\n                  feature-id=\"ctrl.limitedFeatureAutoWindow\"\\n                  tooltip=\"\\'Specify a timeframe during which automatic updates can occur in this environment.\\'\"\\n                  on-change=\"(ctrl.onToggleAutoUpdate)\"\\n                >\\n                </por-switch-field>\\n              </div>\\n            </div>\\n\\n            <div class=\"col-sm-12 form-section-title\"> Security </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                By default, all the users have access to the default namespace. Enable this option to set accesses on the default namespace.\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\"> Restrict access to the default namespace </label>\\n                <label class=\"switch\" style=\"margin-left: 20px\">\\n                  <input type=\"checkbox\" ng-model=\"ctrl.formValues.RestrictDefaultNamespace\" /><i data-cy=\"kubeSetup-restrictDefaultNsToggle\"></i>\\n                </label>\\n              </div>\\n            </div>\\n\\n            <div class=\"col-sm-12 form-section-title\"> Resources and Metrics </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                By ENABLING resource over-commit, you are able to assign more resources to namespaces than is physically available in the cluster. This may lead to unexpected\\n                deployment failures if there is insufficient resource to service demand.\\n                <p style=\"margin-top: 2px\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  By DISABLING resource over-commit (highly recommended), you are only able to assign resources to namespaces that are less (in aggregate) than the cluster total\\n                  minus any system resource reservation.\\n                </p>\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <por-switch-field\\n                  data-cy=\"\\'kubeSetup-resourceOverCommitToggle\\'\"\\n                  label=\"\\'Allow resource over-commit\\'\"\\n                  name=\"\\'resource-over-commit-switch\\'\"\\n                  feature-id=\"ctrl.limitedFeature\"\\n                  checked=\"ctrl.formValues.EnableResourceOverCommit\"\\n                  on-change=\"(ctrl.onChangeEnableResourceOverCommit)\"\\n                ></por-switch-field>\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                Enabling this feature will allow users to use specific features like autoscaling and to see container and node resource usage.\\n                <p style=\"margin-top: 2px\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  Ensure that <a href=\"https://kubernetes.io/docs/tasks/debug-application-cluster/resource-metrics-pipeline/#metrics-server\" target=\"_blank\">metrics server</a> or\\n                  <a href=\"https://github.com/kubernetes-sigs/prometheus-adapter\" target=\"_blank\">prometheus</a> is running inside your cluster.\\n                </p>\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\"> Enable features using the metrics API </label>\\n                <label class=\"switch\" style=\"margin-left: 20px\">\\n                  <input type=\"checkbox\" ng-model=\"ctrl.formValues.UseServerMetrics\" ng-change=\"ctrl.enableMetricsServer()\" /><i data-cy=\"kubeSetup-metricsToggle\"></i>\\n                </label>\\n              </div>\\n              <div ng-if=\"ctrl.state.metrics.pending && ctrl.state.metrics.userClick\" class=\"col-sm-12 small text-muted\" style=\"margin-top: 5px\">\\n                Checking metrics API... <i class=\"fa fa-spinner fa-spin\" style=\"margin-left: 2px\"></i>\\n              </div>\\n              <div\\n                ng-if=\"!ctrl.state.metrics.pending && ctrl.state.metrics.isServerRunning && ctrl.state.metrics.userClick\"\\n                class=\"col-sm-12 small text-muted\"\\n                style=\"margin-top: 5px\"\\n              >\\n                <i class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> Successfully reached metrics API\\n              </div>\\n              <div\\n                ng-if=\"!ctrl.state.metrics.pending && !ctrl.state.metrics.isServerRunning && ctrl.state.metrics.userClick\"\\n                class=\"col-sm-12 small text-muted\"\\n                style=\"margin-top: 5px\"\\n              >\\n                <i class=\"fa fa-times red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> Unable to reach metrics API, make sure metrics server is properly deployed inside\\n                that cluster.\\n              </div>\\n            </div>\\n\\n            <div class=\"col-sm-12 form-section-title\"> Available storage options </div>\\n\\n            <div class=\"form-group\" ng-if=\"!ctrl.storageClassAvailable()\">\\n              <div class=\"col-sm-12 small text-muted\">\\n                <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                Unable to detect any storage class available to persist data. Users won\\'t be able to persist application data inside this cluster.\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\" ng-if=\"ctrl.storageClassAvailable()\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                <p>\\n                  Select which storage options will be available for use when deploying applications. Have a look at your storage driver documentation to figure out which access\\n                  policy to configure and if the volume expansion capability is supported.\\n                </p>\\n                <p>\\n                  You can find more information about access modes\\n                  <a href=\"https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes\" target=\"_blank\">in the official Kubernetes documentation</a>.\\n                </p>\\n              </span>\\n            </div>\\n\\n            <div class=\"form-group\" ng-if=\"ctrl.storageClassAvailable()\">\\n              <div style=\"margin-top: 10px\" class=\"col-sm-12\">\\n                <table class=\"table\" style=\"table-layout: fixed\">\\n                  <tbody>\\n                    <tr class=\"text-muted\">\\n                      <td>Storage</td>\\n                      <td>Shared access policy</td>\\n                      <td>Volume expansion</td>\\n                    </tr>\\n                    <tr ng-repeat=\"class in ctrl.StorageClasses\">\\n                      <td>\\n                        <div style=\"margin: 5px\">\\n                          <label class=\"switch\" style=\"margin-right: 10px\">\\n                            <input type=\"checkbox\" ng-model=\"class.selected\" /><i data-cy=\"kubeSetup-storageToggle{{ class.Name }}\"></i>\\n                          </label>\\n                          <span>{{ class.Name }}</span>\\n                        </div>\\n                      </td>\\n                      <td>\\n                        <span\\n                          isteven-multi-select\\n                          input-model=\"class.availableAccessModes\"\\n                          output-model=\"class.AccessModes\"\\n                          button-label=\"Name\"\\n                          item-label=\"Description\"\\n                          tick-property=\"selected\"\\n                          directive-id=\"{{ class.Name }}\"\\n                          helper-elements=\"\"\\n                          translation=\"{nothingSelected: \\'Not configured\\'}\"\\n                          data-cy=\"kubeSetup-storageAccessSelect{{ class.Name }}\"\\n                        >\\n                        </span>\\n                      </td>\\n                      <td>\\n                        <div style=\"margin: 5px\">\\n                          <label class=\"switch\"\\n                            ><input type=\"checkbox\" ng-model=\"class.AllowVolumeExpansion\" /><i data-cy=\"kubeSetup-storageExpansionToggle{{ class.Name }}\"></i>\\n                          </label>\\n                        </div>\\n                      </td>\\n                    </tr>\\n                  </tbody>\\n                </table>\\n              </div>\\n              <div class=\"col-sm-12\">\\n                <span ng-if=\"!ctrl.hasValidStorageConfiguration()\" style=\"margin-left: 5px\" class=\"text-muted small\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  Shared access policy configuration required\\n                </span>\\n              </div>\\n            </div>\\n\\n            <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-click=\"ctrl.configure()\"\\n                  ng-disabled=\"ctrl.state.actionInProgress || !kubernetesClusterSetupForm.$valid || !ctrl.hasValidStorageConfiguration()\"\\n                  button-spinner=\"ctrl.state.actionInProgress\"\\n                  analytics-on\\n                  analytics-if=\"ctrl.restrictDefaultToggledOn()\"\\n                  analytics-category=\"kubernetes\"\\n                  analytics-event=\"kubernetes-configure\"\\n                  analytics-properties=\"{ metadata: { restrictAccessToDefaultNamespace: ctrl.formValues.RestrictDefaultNamespace } }\"\\n                  data-cy=\"kubeSetup-saveConfigurationButton\"\\n                >\\n                  <span ng-hide=\"ctrl.state.actionInProgress\">Save configuration</span>\\n                  <span ng-show=\"ctrl.state.actionInProgress\">Saving configuration...</span>\\n                </button>\\n              </div>\\n            </div>\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},38947:function(e){var t=\"app/kubernetes/views/dashboard/dashboard.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Dashboard\" state=\"kubernetes.dashboard\" view-ready=\"ctrl.state.viewReady\"> Environment summary </kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\" ng-if=\"ctrl.endpoint\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-tachometer-alt\" title-text=\"Environment info\"></rd-widget-header>\\n        <rd-widget-body classes=\"no-padding\">\\n          <table class=\"table\">\\n            <tbody>\\n              <tr>\\n                <td>Environment</td>\\n                <td>\\n                  {{ ctrl.endpoint.Name }}\\n                </td>\\n              </tr>\\n              <tr ng-if=\"ctrl.showEnvUrl\">\\n                <td>URL</td>\\n                <td>{{ ctrl.endpoint.URL | stripprotocol }}</td>\\n              </tr>\\n              <tr>\\n                <td>Tags</td>\\n                <td>{{ ctrl.endpointTags }}</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-xs-12 col-md-6\" ng-if=\"ctrl.pools\" data-cy=\"k8sDashboard-namespaces\">\\n      <a ui-sref=\"kubernetes.resourcePools\">\\n        <rd-widget>\\n          <rd-widget-body>\\n            <div class=\"widget-icon blue pull-left\">\\n              <i class=\"fa fa-layer-group\"></i>\\n            </div>\\n            <div class=\"title\">{{ ctrl.pools.length }}</div>\\n            <div class=\"comment\">{{ ctrl.pools.length === 1 ? \\'Namespace\\' : \\'Namespaces\\' }}</div>\\n          </rd-widget-body>\\n        </rd-widget>\\n      </a>\\n    </div>\\n    <div class=\"col-xs-12 col-md-6\" ng-if=\"ctrl.applications\" data-cy=\"k8sDashboard-applications\">\\n      <a ui-sref=\"kubernetes.applications\">\\n        <rd-widget>\\n          <rd-widget-body>\\n            <div class=\"widget-icon blue pull-left\">\\n              <i class=\"fa fa-laptop-code\"></i>\\n            </div>\\n            <div class=\"title\">{{ ctrl.applications.length }}</div>\\n            <div class=\"comment\">{{ ctrl.applications.length === 1 ? \\'Application\\' : \\'Applications\\' }}</div>\\n          </rd-widget-body>\\n        </rd-widget>\\n      </a>\\n    </div>\\n    <div class=\"col-xs-12 col-md-6\" ng-if=\"ctrl.configurations\" data-cy=\"k8sDashboard-configurations\">\\n      <a ui-sref=\"kubernetes.configurations\">\\n        <rd-widget>\\n          <rd-widget-body>\\n            <div class=\"widget-icon blue pull-left\">\\n              <i class=\"fa fa-file-code\"></i>\\n            </div>\\n            <div class=\"title\">{{ ctrl.configurations.length }}</div>\\n            <div class=\"comment\">{{ ctrl.configurations.length === 1 ? \\'Configuration\\' : \\'Configurations\\' }}</div>\\n          </rd-widget-body>\\n        </rd-widget>\\n      </a>\\n    </div>\\n    <div class=\"col-xs-12 col-md-6\" ng-if=\"ctrl.volumes\" data-cy=\"k8sDashboard-volumes\">\\n      <a ui-sref=\"kubernetes.volumes\">\\n        <rd-widget>\\n          <rd-widget-body>\\n            <div class=\"widget-icon blue pull-left\">\\n              <i class=\"fa fa-database\"></i>\\n            </div>\\n            <div class=\"title\">{{ ctrl.volumes.length }}</div>\\n            <div class=\"comment\">{{ ctrl.volumes.length === 1 ? \\'Volume\\' : \\'Volumes\\' }}</div>\\n          </rd-widget-body>\\n        </rd-widget>\\n      </a>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},32635:function(e){var t=\"app/kubernetes/views/deploy/deploy.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Advanced deployment\" state=\"kubernetes.deploy\" view-ready=\"ctrl.state.viewReady\"> Deploy Kubernetes resources </kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <kubernetes-feedback-panel></kubernetes-feedback-panel>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\">\\n              <uib-tab-heading> <i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i> Deploy </uib-tab-heading>\\n              <div class=\"col-sm-12 form-section-title\"> Namespace </div>\\n              <form class=\"form-horizontal\" style=\"margin-top: 20px\" name=\"deploymentForm\">\\n                <div class=\"form-group\" ng-if=\"ctrl.formValues.Namespace\">\\n                  <label for=\"target_node\" class=\"col-lg-1 col-sm-2 control-label text-left\">Namespace</label>\\n                  <div class=\"col-lg-11 col-sm-10\">\\n                    <select\\n                      ng-disabled=\"ctrl.formValues.namespace_toggle\"\\n                      class=\"form-control\"\\n                      ng-model=\"ctrl.formValues.Namespace\"\\n                      ng-options=\"namespace.Name as namespace.Name for namespace in ctrl.namespaces\"\\n                    ></select>\\n                  </div>\\n                </div>\\n                <div class=\"form-group\" ng-if=\"ctrl.formValues.Namespace\">\\n                  <div class=\"col-sm-12\">\\n                    <label for=\"toggle_logo\" class=\"control-label text-left\"> Use namespace(s) specified from manifest </label>\\n                    <portainer-tooltip\\n                      position=\"bottom\"\\n                      message=\"If you have defined namespaces in your deployment file turning this on will enforce the use of those only in the deployment\"\\n                    >\\n                    </portainer-tooltip>\\n                    <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" name=\"toggle_logo\" ng-model=\"ctrl.formValues.namespace_toggle\" /><i></i> </label>\\n                  </div>\\n                </div>\\n                <div class=\"form-group\" ng-if=\"!ctrl.formValues.Namespace\">\\n                  <div class=\"col-sm-12 small text-muted\">\\n                    <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    You do not have access to any namespace. Contact your administrator to get access to a namespace.\\n                  </div>\\n                </div>\\n\\n                <div class=\"form-group\">\\n                  <label for=\"stack_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n                  <div class=\"col-lg-11 col-sm-10\">\\n                    <input type=\"text\" class=\"form-control\" ng-model=\"ctrl.formValues.StackName\" id=\"stack_name\" placeholder=\"my-app\" auto-focus />\\n                  </div>\\n                </div>\\n\\n                <div class=\"col-sm-12 form-section-title\"> Build method </div>\\n                <box-selector\\n                  radio-name=\"\\'method\\'\"\\n                  value=\"ctrl.state.BuildMethod\"\\n                  options=\"ctrl.methodOptions\"\\n                  data-cy=\"k8sAppDeploy-buildSelector\"\\n                  on-change=\"(ctrl.onChangeMethod)\"\\n                ></box-selector>\\n\\n                <div ng-if=\"ctrl.state.BuildMethod !== ctrl.BuildMethods.CUSTOM_TEMPLATE\">\\n                  <div class=\"col-sm-12 form-section-title\"> Deployment type </div>\\n                  <box-selector\\n                    radio-name=\"\\'deploy\\'\"\\n                    value=\"ctrl.state.DeployType\"\\n                    options=\"ctrl.deployOptions\"\\n                    data-cy=\"k8sAppDeploy-deploymentSelector\"\\n                    on-change=\"(ctrl.onChangeDeployType)\"\\n                  ></box-selector>\\n                </div>\\n\\n                \\x3c!-- repository --\\x3e\\n                <git-form\\n                  ng-if=\"ctrl.state.BuildMethod === ctrl.BuildMethods.GIT\"\\n                  model=\"ctrl.formValues\"\\n                  on-change=\"(ctrl.onChangeFormValues)\"\\n                  additional-file=\"true\"\\n                  auto-update=\"true\"\\n                  show-auth-explanation=\"true\"\\n                  path-text-title=\"Manifest path\"\\n                  path-placeholder=\"deployment.yml\"\\n                  deploy-method=\"{{ ctrl.DeployMethod }}\"\\n                ></git-form>\\n                \\x3c!-- !repository --\\x3e\\n\\n                <div ng-show=\"ctrl.state.BuildMethod === ctrl.BuildMethods.CUSTOM_TEMPLATE\">\\n                  <custom-template-selector\\n                    new-template-path=\"kubernetes.templates.custom.new\"\\n                    stack-type=\"3\"\\n                    on-change=\"(ctrl.onChangeTemplateId)\"\\n                    value=\"ctrl.state.templateId\"\\n                  ></custom-template-selector>\\n\\n                  <custom-templates-variables-field\\n                    ng-if=\"$ctrl.isTemplateVariablesEnabled && ctrl.state.template\"\\n                    definitions=\"ctrl.state.template.Variables\"\\n                    value=\"ctrl.formValues.Variables\"\\n                    on-change=\"(ctrl.onChangeTemplateVariables)\"\\n                  ></custom-templates-variables-field>\\n                </div>\\n\\n                \\x3c!-- editor --\\x3e\\n                <web-editor-form\\n                  ng-if=\"ctrl.state.BuildMethod === ctrl.BuildMethods.WEB_EDITOR || (ctrl.state.BuildMethod === ctrl.BuildMethods.CUSTOM_TEMPLATE && ctrl.state.templateId)\"\\n                  identifier=\"kubernetes-deploy-editor\"\\n                  value=\"ctrl.formValues.EditorContent\"\\n                  on-change=\"(ctrl.onChangeFileContent)\"\\n                  ng-required=\"true\"\\n                  yml=\"true\"\\n                  placeholder=\"# Define or paste the content of your manifest file here\"\\n                >\\n                  <editor-description>\\n                    <span class=\"col-sm-12 text-muted small\" ng-show=\"ctrl.state.DeployType === ctrl.ManifestDeployTypes.COMPOSE\">\\n                      <p>\\n                        <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                        Portainer uses <a href=\"https://kompose.io/\" target=\"_blank\">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that\\n                        not all the Compose format options are supported by Kompose at the moment.\\n                      </p>\\n                      <p>\\n                        You can get more information about Compose file format in the\\n                        <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\">official documentation</a>.\\n                      </p>\\n                    </span>\\n                    <span\\n                      class=\"col-sm-12 text-muted small\"\\n                      ng-show=\"ctrl.state.DeployType === ctrl.ManifestDeployTypes.KUBERNETES && ctrl.state.BuildMethod === ctrl.BuildMethods.WEB_EDITOR\"\\n                    >\\n                      <p>\\n                        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                        This feature allows you to deploy any kind of Kubernetes resource in this environment (Deployment, Secret, ConfigMap...).\\n                      </p>\\n                      <p>\\n                        You can get more information about Kubernetes file format in the\\n                        <a href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/\" target=\"_blank\">official documentation</a>.\\n                      </p>\\n                    </span>\\n                  </editor-description>\\n                </web-editor-form>\\n\\n                \\x3c!-- !editor --\\x3e\\n\\n                \\x3c!-- url --\\x3e\\n                <div ng-show=\"ctrl.state.BuildMethod === ctrl.BuildMethods.URL\">\\n                  <div class=\"col-sm-12 form-section-title\"> URL </div>\\n                  <div class=\"form-group\">\\n                    <span class=\"col-sm-12 text-muted small\"> Indicate the URL to the manifest. </span>\\n                  </div>\\n                  <div class=\"form-group\">\\n                    <label for=\"manifest_url\" class=\"col-sm-1 control-label text-left\">URL</label>\\n                    <div class=\"col-sm-11\">\\n                      <input\\n                        type=\"text\"\\n                        class=\"form-control\"\\n                        ng-model=\"ctrl.formValues.ManifestURL\"\\n                        id=\"manifest_url\"\\n                        placeholder=\"https://raw.githubusercontent.com/kubernetes/website/main/content/en/examples/controllers/nginx-deployment.yaml\"\\n                        data-cy=\"k8sAppDeploy-urlFileUrl\"\\n                      />\\n                    </div>\\n                  </div>\\n                </div>\\n                \\x3c!-- !url --\\x3e\\n\\n                \\x3c!-- actions --\\x3e\\n                <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <button\\n                      type=\"button\"\\n                      class=\"btn btn-primary btn-sm\"\\n                      ng-disabled=\"!deploymentForm.$valid || ctrl.disableDeploy()\"\\n                      ng-click=\"ctrl.deploy()\"\\n                      button-spinner=\"ctrl.state.actionInProgress\"\\n                      data-cy=\"k8sAppDeploy-deployButton\"\\n                      analytics-on\\n                      analytics-category=\"kubernetes\"\\n                      analytics-event=\"kubernetes-application-advanced-deployment\"\\n                      analytics-properties=\"ctrl.buildAnalyticsProperties()\"\\n                    >\\n                      <span ng-hide=\"ctrl.state.actionInProgress\">Deploy</span>\\n                      <span ng-show=\"ctrl.state.actionInProgress\">Deployment in progress...</span>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !actions --\\x3e\\n              </form>\\n            </uib-tab>\\n\\n            <uib-tab index=\"1\" disable=\"ctrl.state.tabLogsDisabled\">\\n              <uib-tab-heading> <i class=\"fa fa-file space-right\" aria-hidden=\"true\"></i> Logs </uib-tab-heading>\\n              <form class=\"form-horizontal\" style=\"margin-top: 20px\">\\n                <div class=\"form-group\" ng-if=\"ctrl.state.activeTab === 1\">\\n                  <div class=\"col-sm-12\">\\n                    <code-editor identifier=\"kubernetes-deploy-logs\" read-only=\"true\" yml=\"false\" value=\"ctrl.errorLog\"></code-editor>\\n                  </div>\\n                </div>\\n              </form>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},9273:function(e){var t=\"app/kubernetes/views/resource-pools/access/resourcePoolAccess.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Namespace access management\" state=\"kubernetes.resourcePools.resourcePool.access\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({id: ctrl.pool.Namespace.Name})\">{{ ctrl.pool.Namespace.Name }}</a> &gt; Access management\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\" ng-if=\"ctrl.pool\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-plug\" title-text=\"Namespace\"></rd-widget-header>\\n        <rd-widget-body classes=\"no-padding\">\\n          <table class=\"table\">\\n            <tbody>\\n              <tr>\\n                <td>Name</td>\\n                <td>\\n                  {{ ctrl.pool.Namespace.Name }}\\n                </td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget ng-if=\"ctrl.availableUsersAndTeams\">\\n        <rd-widget-header icon=\"fa-user-lock\" title-text=\"Create access\"></rd-widget-header>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\">\\n            <div class=\"form-group\">\\n              <label class=\"col-sm-3 col-lg-2 control-label text-left\"> Select user(s) and/or team(s) </label>\\n              <div class=\"col-sm-9 col-lg-4\">\\n                <span class=\"small text-muted\" ng-if=\"ctrl.availableUsersAndTeams.length === 0\">\\n                  No user nor team access has been set on the environment. Head over to the\\n                  <a ui-sref=\"portainer.endpoints.endpoint.access({id: ctrl.endpointId})\">environment access view</a> to manage them.\\n                </span>\\n                <span\\n                  isteven-multi-select\\n                  ng-if=\"ctrl.availableUsersAndTeams.length > 0\"\\n                  input-model=\"ctrl.availableUsersAndTeams\"\\n                  output-model=\"ctrl.formValues.multiselectOutput\"\\n                  button-label=\"icon Name\"\\n                  item-label=\"icon Name\"\\n                  tick-property=\"ticked\"\\n                  helper-elements=\"filter\"\\n                  search-property=\"Name\"\\n                  translation=\"{nothingSelected: \\'Select one or more users and/or teams\\', search: \\'Search...\\'}\"\\n                >\\n                </span>\\n              </div>\\n            </div>\\n\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"(ctrl.availableUsersAndTeams | filter:{ticked:true}).length === 0 || ctrl.actionInProgress\"\\n                  ng-click=\"ctrl.authorizeAccess()\"\\n                  button-spinner=\"ctrl.actionInProgress\"\\n                >\\n                  <span ng-hide=\"ctrl.state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Create access</span>\\n                  <span ng-show=\"ctrl.state.actionInProgress\">Creating access...</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <access-datatable\\n        ng-if=\"ctrl.authorizedUsersAndTeams\"\\n        title-text=\"Access\"\\n        title-icon=\"fa-user-lock\"\\n        table-key=\"kubernetes_resourcepool_access\"\\n        order-by=\"Name\"\\n        dataset=\"ctrl.authorizedUsersAndTeams\"\\n        remove-action=\"ctrl.unauthorizeAccess\"\\n      >\\n      </access-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},87925:function(e){var t=\"app/kubernetes/views/resource-pools/components/storage-class-switch/storage-class-switch.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"form-group\">\\n  <div class=\"col-sm-2\">\\n    <por-switch-field\\n      data-cy=\"\\'k8sNamespaceCreate-enableQuotaToggle\\'\"\\n      label=\"\\'Enable quota\\'\"\\n      name=\"\\'k8s-resourcepool-storagequota\\'\"\\n      feature-id=\"$ctrl.featureId\"\\n      checked=\"$ctrl.value\"\\n      on-change=\"($ctrl.handleChange)\"\\n    ></por-switch-field>\\n  </div>\\n</div>\\n')}]),e.exports=t},28134:function(e){var t=\"app/kubernetes/views/resource-pools/create/createResourcePool.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Create a namespace\" state=\"kubernetes.resourcePools.new\" view-ready=\"$ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt; Create a namespace\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"$ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"$ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" autocomplete=\"off\" name=\"resourcePoolCreationForm\">\\n            \\x3c!-- #region NAME INPUT --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"pool_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n              <div class=\"col-sm-11\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"pool_name\"\\n                  ng-model=\"$ctrl.formValues.Name\"\\n                  ng-pattern=\"/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/\"\\n                  ng-change=\"$ctrl.onChangeName()\"\\n                  placeholder=\"my-project\"\\n                  data-cy=\"k8sNamespaceCreate-namespaceNameInput\"\\n                  required\\n                  auto-focus\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"resourcePoolCreationForm.pool_name.$invalid || $ctrl.state.isAlreadyExist || $ctrl.state.hasPrefixKube\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"resourcePoolCreationForm.pool_name.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                  <p ng-message=\"pattern\"\\n                    ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field must consist of lower case alphanumeric characters or \\'-\\', and contain at most 63\\n                    characters, and must start and end with an alphanumeric character.</p\\n                  >\\n                </div>\\n                <p ng-if=\"$ctrl.state.hasPrefixKube\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Prefix \"kube-\" is reserved for Kubernetes system namespaces.</p>\\n              </div>\\n            </div>\\n            \\x3c!-- #endregion --\\x3e\\n\\n            <div class=\"col-sm-12 form-section-title\"> Quota </div>\\n            \\x3c!-- #region QUOTA --\\x3e\\n            \\x3c!-- quotas-switch --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12 small text-muted\">\\n                <p>\\n                  <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  A namespace segments the underlying physical Kubernetes cluster into smaller virtual clusters. You should assign a capped limit of resources to this namespace or\\n                  disable for the safe operation of your platform.\\n                </p>\\n              </div>\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\"> Resource assignment </label>\\n                <label class=\"switch\" style=\"margin-left: 20px\">\\n                  <input type=\"checkbox\" ng-model=\"$ctrl.formValues.HasQuota\" /><i data-cy=\"k8sNamespaceCreate-resourceAssignmentToggle\"></i>\\n                </label>\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"$ctrl.formValues.HasQuota && !$ctrl.isQuotaValid()\">\\n              <span class=\"col-sm-12 text-warning small\">\\n                <p> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> At least a single limit must be set for the quota to be valid. </p>\\n              </span>\\n            </div>\\n            \\x3c!-- !quotas-switch --\\x3e\\n            <div ng-if=\"$ctrl.formValues.HasQuota\">\\n              <div class=\"col-sm-12 form-section-title\"> Resource limits </div>\\n              <div>\\n                \\x3c!-- memory-limit-input --\\x3e\\n                <div class=\"form-group\">\\n                  <label for=\"memory-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px\"> Memory </label>\\n                  <div class=\"col-sm-3\">\\n                    <slider\\n                      model=\"$ctrl.formValues.MemoryLimit\"\\n                      floor=\"$ctrl.defaults.MemoryLimit\"\\n                      ceil=\"$ctrl.state.sliderMaxMemory\"\\n                      step=\"128\"\\n                      ng-if=\"$ctrl.state.sliderMaxMemory\"\\n                      data-cy=\"k8sNamespaceCreate-memoryLimitSlider\"\\n                    >\\n                    </slider>\\n                  </div>\\n                  <div class=\"col-sm-2\">\\n                    <input\\n                      name=\"memory_limit\"\\n                      type=\"number\"\\n                      min=\"{{ $ctrl.defaults.MemoryLimit }}\"\\n                      max=\"{{ $ctrl.state.sliderMaxMemory }}\"\\n                      class=\"form-control\"\\n                      ng-model=\"$ctrl.formValues.MemoryLimit\"\\n                      id=\"memory-limit\"\\n                      data-cy=\"k8sNamespaceCreate-memoryLimitInput\"\\n                      required\\n                    />\\n                  </div>\\n                  <div class=\"col-sm-4\">\\n                    <p class=\"small text-muted\" style=\"margin-top: 7px\"> Maximum memory usage (<b>MB</b>) </p>\\n                  </div>\\n                </div>\\n                <div class=\"form-group\" ng-show=\"resourcePoolCreationForm.memory_limit.$invalid\">\\n                  <div class=\"col-sm-12 small text-warning\">\\n                    <div ng-messages=\"resourcePoolCreationForm.pool_name.$error\">\\n                      <p\\n                        ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Value must be between {{ $ctrl.defaults.MemoryLimit }} and {{ $ctrl.state.sliderMaxMemory }}\\n                      </p>\\n                    </div>\\n                  </div>\\n                </div>\\n                \\x3c!-- !memory-limit-input --\\x3e\\n                \\x3c!-- cpu-limit-input --\\x3e\\n                <div class=\"form-group\">\\n                  <label for=\"cpu-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px\"> CPU </label>\\n                  <div class=\"col-sm-5\">\\n                    <slider\\n                      model=\"$ctrl.formValues.CpuLimit\"\\n                      floor=\"$ctrl.defaults.CpuLimit\"\\n                      ceil=\"$ctrl.state.sliderMaxCpu\"\\n                      step=\"0.1\"\\n                      precision=\"2\"\\n                      ng-if=\"$ctrl.state.sliderMaxCpu\"\\n                      data-cy=\"k8sNamespaceCreate-cpuLimitSlider\"\\n                    >\\n                    </slider>\\n                  </div>\\n                  <div class=\"col-sm-4\" style=\"margin-top: 20px\">\\n                    <p class=\"small text-muted\"> Maximum CPU usage </p>\\n                  </div>\\n                </div>\\n                \\x3c!-- !cpu-limit-input --\\x3e\\n              </div>\\n            </div>\\n            \\x3c!-- #endregion --\\x3e\\n\\n            \\x3c!-- #region LOAD-BALANCERS --\\x3e\\n            <div class=\"col-sm-12 form-section-title\"> Load balancers </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                You can set a quota on the amount of external load balancers that can be created inside this namespace. Set this quota to 0 to effectively disable the use of load\\n                balancers in this namespace.\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <por-switch-field\\n                  data-cy=\"\\'k8sNamespaceCreate-loadBalancerQuotaToggle\\'\"\\n                  label=\"\\'Load Balancer quota\\'\"\\n                  name=\"\\'k8s-resourcepool-lbquota\\'\"\\n                  feature-id=\"$ctrl.LBQuotaFeatureId\"\\n                  checked=\"$ctrl.formValues.UseLoadBalancersQuota\"\\n                  on-change=\"($ctrl.onToggleLoadBalancerQuota)\"\\n                ></por-switch-field>\\n              </div>\\n            </div>\\n            \\x3c!-- #endregion --\\x3e\\n\\n            \\x3c!-- #region STORAGES --\\x3e\\n            <div class=\"col-sm-12 form-section-title\"> Storage </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                Quotas can be set on each storage option to prevent users from exceeding a specific threshold when deploying applications. You can set a quota to 0 to effectively\\n                prevent the usage of a specific storage option inside this namespace.\\n              </span>\\n            </div>\\n            <div class=\"col-sm-12 form-section-title\">\\n              <i class=\"fa fa-route\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              standard\\n            </div>\\n\\n            <storage-class-switch value=\"sc.Selected\" name=\"sc.Name\" on-change=\"(ctrl.onToggleStorageQuota)\" authorization=\"K8sResourcePoolDetailsW\"></storage-class-switch>\\n\\n            \\x3c!-- #endregion --\\x3e\\n\\n            <div ng-if=\"$ctrl.state.canUseIngress\">\\n              <div class=\"col-sm-12 form-section-title\"> Ingresses </div>\\n              \\x3c!-- #region INGRESSES --\\x3e\\n              <div class=\"form-group\" ng-if=\"$ctrl.formValues.IngressClasses.length === 0\">\\n                <div class=\"col-sm-12 small text-muted\">\\n                  The ingress feature must be enabled in the\\n                  <a ui-sref=\"portainer.k8sendpoint.kubernetesConfig({id: $ctrl.endpoint.Id})\">environment configuration view</a> to be able to register ingresses inside this\\n                  namespace.\\n                </div>\\n              </div>\\n\\n              <div class=\"form-group\" ng-if=\"$ctrl.formValues.IngressClasses.length > 0\">\\n                <div class=\"col-sm-12 small text-muted\">\\n                  <p>\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Enable and configure ingresses available to users when deploying applications.\\n                  </p>\\n                </div>\\n              </div>\\n\\n              <div class=\"form-group\" ng-repeat-start=\"ic in $ctrl.formValues.IngressClasses track by ic.IngressClass.Name\">\\n                <div class=\"text-muted col-sm-12\" style=\"width: 100%\">\\n                  <div style=\"border-bottom: 1px solid #cdcdcd; padding-bottom: 5px\">\\n                    <i class=\"fa fa-route\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ ic.IngressClass.Name }}\\n                  </div>\\n                </div>\\n\\n                <div class=\"col-sm-12\" style=\"margin-top: 10px\">\\n                  <label class=\"control-label text-left\"> Allow users to use this ingress </label>\\n                  <label class=\"switch\" style=\"margin-left: 20px\">\\n                    <input type=\"checkbox\" ng-model=\"ic.Selected\" /><i data-cy=\"namespaceCreate-ingressToggle{{ ic.IngressClass.Name }}\"></i>\\n                  </label>\\n                </div>\\n              </div>\\n\\n              <div ng-if=\"ic.Selected\">\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <label class=\"control-label text-left\">\\n                      Hostnames\\n                      <portainer-tooltip\\n                        position=\"bottom\"\\n                        message=\"Hostnames associated to the ingress inside this namespace. Users will be able to expose and access their applications over the ingress via one of these hostname.\"\\n                      >\\n                      </portainer-tooltip>\\n                    </label>\\n                    <span\\n                      class=\"label label-default interactive\"\\n                      style=\"margin-left: 10px\"\\n                      ng-click=\"$ctrl.addHostname(ic)\"\\n                      data-cy=\"namespaceCreate-addHostButton{{ ic.IngressClass.Name }}\"\\n                    >\\n                      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add hostname\\n                    </span>\\n                  </div>\\n                  <div class=\"col-sm-12\" style=\"margin-top: 10px\">\\n                    <div ng-repeat=\"item in ic.Hosts track by $index\" style=\"margin-top: 2px\">\\n                      <div class=\"form-inline\">\\n                        <div class=\"col-sm-10 input-group input-group-sm\">\\n                          <span class=\"input-group-addon\">Hostname</span>\\n                          <input\\n                            type=\"text\"\\n                            class=\"form-control\"\\n                            name=\"hostname_{{ ic.IngressClass.Name }}_{{ $index }}\"\\n                            ng-model=\"item.Host\"\\n                            ng-change=\"$ctrl.onChangeIngressHostname()\"\\n                            placeholder=\"foo\"\\n                            pattern=\"[\\\\*a-z0-9]([-a-z0-9]*[a-z0-9])?(\\\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\"\\n                            required\\n                            data-cy=\"namespaceCreate-hostnameInput{{ ic.IngressClass.Name }}_{{ $index }}\"\\n                          />\\n                        </div>\\n                        <div class=\"col-sm-1 input-group input-group-sm\" ng-if=\"$index > 0\">\\n                          <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.removeHostname(ic, $index)\">\\n                            <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                          </button>\\n                        </div>\\n                      </div>\\n                      <div\\n                        class=\"small text-warning\"\\n                        style=\"margin-top: 5px\"\\n                        ng-show=\"\\n                          resourcePoolCreationForm[\\'hostname_\\' + ic.IngressClass.Name + \\'_\\' + $index].$invalid ||\\n                          $ctrl.state.duplicates.ingressHosts.refs[ic.IngressClass.Name][$index] !== undefined\\n                        \"\\n                      >\\n                        <ng-messages for=\"resourcePoolCreationForm[\\'hostname_\\' + ic.IngressClass.Name + \\'_\\' + $index].$error\">\\n                          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Hostname is required.</p>\\n                          <p ng-message=\"pattern\">\\n                            <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                            This field must consist of lower case alphanumeric characters, \\'-\\' or \\'.\\', and must start and end with an alphanumeric character (e.g. \\'example.com\\').\\n                          </p>\\n                        </ng-messages>\\n                        <p ng-if=\"$ctrl.state.duplicates.ingressHosts.refs[ic.IngressClass.Name][$index] !== undefined\">\\n                          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This hostname is already used.\\n                        </p>\\n                      </div>\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n              <div ng-repeat-end class=\"form-group\" ng-if=\"ic.Selected\" style=\"margin-bottom: 20px\">\\n                <div class=\"col-sm-12 small text-muted\" style=\"margin-top: 5px\">\\n                  <p>\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    You can specify a list of annotations that will be associated to the ingress.\\n                  </p>\\n                </div>\\n\\n                <div class=\"col-sm-12\">\\n                  <label class=\"control-label text-left\">Annotations</label>\\n                  <span\\n                    class=\"label label-default interactive\"\\n                    style=\"margin-left: 10px\"\\n                    ng-click=\"$ctrl.addAnnotation(ic)\"\\n                    data-cy=\"namespaceCreate-addAnnotation{{ ic.IngressClass.Name }}\"\\n                  >\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add annotation\\n                  </span>\\n                  <portainer-tooltip\\n                    position=\"bottom\"\\n                    message=\"Use annotations to configure options for an ingress. Review Nginx or Traefik documentation to find the annotations supported by your choice of ingress type.\"\\n                  >\\n                  </portainer-tooltip>\\n                  <span\\n                    class=\"label label-default interactive\"\\n                    ng-if=\"ic.IngressClass.Type === $ctrl.IngressClassTypes.NGINX\"\\n                    style=\"margin-left: 10px\"\\n                    ng-click=\"$ctrl.addRewriteAnnotation(ic)\"\\n                    data-cy=\"namespaceCreate-addAnnotation{{ ic.IngressClass.Name }}\"\\n                  >\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add rewrite annotation\\n                  </span>\\n                  <portainer-tooltip\\n                    ng-if=\"ic.IngressClass.Type === $ctrl.IngressClassTypes.NGINX\"\\n                    position=\"bottom\"\\n                    message=\"When the exposed URLs for your applications differ from the specified paths in the ingress, use the rewrite target annotation to denote the path to redirect to.\"\\n                  >\\n                  </portainer-tooltip>\\n                  <span\\n                    class=\"label label-default interactive\"\\n                    ng-if=\"ic.IngressClass.Type === $ctrl.IngressClassTypes.NGINX\"\\n                    style=\"margin-left: 10px\"\\n                    ng-click=\"$ctrl.addUseregexAnnotation(ic)\"\\n                    data-cy=\"namespaceCreate-addAnnotation{{ ic.IngressClass.Name }}\"\\n                  >\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add regular expression annotation\\n                  </span>\\n                  <portainer-tooltip\\n                    ng-if=\"ic.IngressClass.Type === $ctrl.IngressClassTypes.NGINX\"\\n                    position=\"bottom\"\\n                    message=\"Enable use of regular expressions in ingress paths (set in the ingress details of an application). Use this along with rewrite-target to specify the regex capturing group to be replaced, e.g. path regex of ^/foo/(,*) and rewrite-target of /bar/$1 rewrites example.com/foo/account to example.com/bar/account.\"\\n                  >\\n                  </portainer-tooltip>\\n                </div>\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"annotation in ic.Annotations track by $index\" style=\"margin-top: 2px\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">Key</span>\\n                      <input\\n                        type=\"text\"\\n                        class=\"form-control\"\\n                        ng-model=\"annotation.Key\"\\n                        placeholder=\"{{\\n                          ic.IngressClass.Type === $ctrl.IngressClassTypes.NGINX\\n                            ? \\'e.g. nginx.ingress.kubernetes.io/enable-rewrite-log\\'\\n                            : \\'e.g. traefik.ingress.kubernetes.io/router.priority\\'\\n                        }}\"\\n                        required\\n                        data-cy=\"namespaceCreate-annotationKey{{ ic.IngressClass.Name }}\"\\n                      />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">Value</span>\\n                      <input\\n                        type=\"text\"\\n                        class=\"form-control\"\\n                        ng-model=\"annotation.Value\"\\n                        placeholder=\"{{ ic.IngressClass.Type === $ctrl.IngressClassTypes.NGINX ? \\'e.g. true or false\\' : \\'e.g. 42\\' }}\"\\n                        required\\n                        data-cy=\"namespaceCreate-annotationValue{{ ic.IngressClass.Name }}\"\\n                      />\\n                    </div>\\n                    <div class=\"col-sm-1 input-group input-group-sm\">\\n                      <button\\n                        class=\"btn btn-sm btn-danger\"\\n                        type=\"button\"\\n                        ng-click=\"$ctrl.removeAnnotation(ic, $index)\"\\n                        data-cy=\"namespaceCreate-deleteAnnotationButton{{ ic.IngressClass.Name }}\"\\n                      >\\n                        <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                      </button>\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- #endregion --\\x3e\\n            </div>\\n\\n            \\x3c!-- #region REGISTRIES --\\x3e\\n            <div class=\"col-sm-12 form-section-title\"> Registries </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12 small text-muted\">\\n                <p>\\n                  <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  Define which registry can be used by users who have access to this namespace.\\n                </p>\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <label class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"padding-top: 0\"> Select registries </label>\\n              <div class=\"col-sm-9 col-lg-4\">\\n                <span class=\"small text-muted\" ng-if=\"!$ctrl.registries.length && $ctrl.state.isAdmin\">\\n                  No registries available. Head over <a ui-sref=\"portainer.registries\">registry view</a> to define container registry.\\n                </span>\\n                <span class=\"small text-muted\" ng-if=\"!$ctrl.registries.length && !$ctrl.state.isAdmin\">\\n                  No registries available. Contact your administrator to create a container registry.\\n                </span>\\n                <span\\n                  isteven-multi-select\\n                  ng-if=\"$ctrl.registries.length\"\\n                  input-model=\"$ctrl.registries\"\\n                  output-model=\"$ctrl.formValues.Registries\"\\n                  button-label=\"Name\"\\n                  item-label=\"Name\"\\n                  tick-property=\"Checked\"\\n                  helper-elements=\"filter\"\\n                  search-property=\"Name\"\\n                  translation=\"{nothingSelected: \\'Select one or more registry\\', search: \\'Search...\\'}\"\\n                  data-cy=\"namespaceCreate-registrySelect\"\\n                >\\n                </span>\\n              </div>\\n            </div>\\n            \\x3c!-- #endregion --\\x3e\\n\\n            \\x3c!-- summary --\\x3e\\n            <kubernetes-summary-view ng-if=\"resourcePoolCreationForm.$valid && !$ctrl.isCreateButtonDisabled()\" form-values=\"$ctrl.formValues\"></kubernetes-summary-view>\\n            \\x3c!-- !summary --\\x3e\\n\\n            <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n            \\x3c!-- #region ACTIONS --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"!resourcePoolCreationForm.$valid || $ctrl.isCreateButtonDisabled()\"\\n                  ng-click=\"$ctrl.createResourcePool()\"\\n                  button-spinner=\"$ctrl.state.actionInProgress\"\\n                >\\n                  <span ng-hide=\"$ctrl.state.actionInProgress\" data-cy=\"k8sNamespace-createNamespaceButton\">Create namespace</span>\\n                  <span ng-show=\"$ctrl.state.actionInProgress\">Creation in progress...</span>\\n                </button>\\n              </div>\\n            </div>\\n\\n            \\x3c!-- #endregion --\\x3e\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},23932:function(e){var t=\"app/kubernetes/views/resource-pools/edit/components/ingresses-datatable/template.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\" style=\"margin-right: 5px\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Ingress\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              ng-class=\"{ active: item.Checked, \\'datatable-highlighted\\': item.Highlighted }\"\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td colspan=\"3\">\\n                <a ng-if=\"$ctrl.itemCanExpand(item)\" style=\"margin-right: 5px\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i> </a\\n                >{{ item.Name }}\\n              </td>\\n            </tr>\\n            <tr\\n              dir-paginate-end\\n              ng-show=\"item.Expanded\"\\n              ng-repeat=\"path in item.Paths\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td>\\n                <a style=\"margin-left: 15px\" ng-href=\"http://{{ path.Host ? path.Host : path.IP }}{{ path.Path }}\" target=\"_blank\">\\n                  {{ path.Host ? path.Host : path.IP }}{{ path.Path }}\\n                </a>\\n                <span ng-if=\"path.ApplicationName !== \\'-\\'\">\\n                  <i class=\"fas fa-long-arrow-alt-right\" style=\"margin: 2px\"></i>\\n                  <a ui-sref=\"kubernetes.applications.application({ name: path.ApplicationName, namespace: item.Namespace })\">{{ path.ApplicationName }}</a>\\n                </span>\\n                <span class=\"label label-warning image-tag label-margins\" ng-if=\"path.ApplicationName === \\'-\\'\">unused</span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">No ingresses available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},50856:function(e){var t=\"app/kubernetes/views/resource-pools/edit/resourcePool.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Namespace details\" state=\"kubernetes.resourcePools.resourcePool\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt; {{ ctrl.pool.Namespace.Name }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\">\\n              <uib-tab-heading> <i class=\"fa fa-layer-group space-right\" aria-hidden=\"true\"></i> Namespace </uib-tab-heading>\\n              <form class=\"form-horizontal\" autocomplete=\"off\" name=\"resourcePoolEditForm\" style=\"padding: 20px; margin-top: 10px\">\\n                \\x3c!-- name-input --\\x3e\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <table class=\"table\">\\n                      <tbody>\\n                        <tr>\\n                          <td>Name</td>\\n                          <td>\\n                            {{ ctrl.pool.Namespace.Name }}\\n                            <span class=\"label label-info image-tag label-margins\" ng-if=\"ctrl.isSystem\">system</span>\\n                          </td>\\n                        </tr>\\n                      </tbody>\\n                    </table>\\n                  </div>\\n                </div>\\n                \\x3c!-- !name-input --\\x3e\\n                <div ng-if=\"ctrl.isAdmin && ctrl.isEditable\" class=\"col-sm-12 form-section-title\">Quota</div>\\n                \\x3c!-- quotas-switch --\\x3e\\n                <div ng-if=\"ctrl.isAdmin && ctrl.isEditable\" class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <label class=\"control-label text-left\"> Resource assignment </label>\\n                    <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"ctrl.formValues.HasQuota\" /><i></i> </label>\\n                  </div>\\n                </div>\\n                <div class=\"form-group\" ng-if=\"ctrl.formValues.HasQuota && ctrl.isAdmin && ctrl.isEditable && !ctrl.isQuotaValid()\">\\n                  <span class=\"col-sm-12 text-warning small\">\\n                    <p> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> At least a single limit must be set for the quota to be valid. </p>\\n                  </span>\\n                </div>\\n                <div ng-if=\"ctrl.formValues.HasQuota\">\\n                  <kubernetes-resource-reservation\\n                    ng-if=\"ctrl.pool.Quota\"\\n                    description=\"Resource reservation represents the total amount of resource assigned to all the applications deployed inside this namespace.\"\\n                    cpu-reservation=\"ctrl.state.resourceReservation.CPU\"\\n                    memory-reservation=\"ctrl.state.resourceReservation.Memory\"\\n                    cpu-limit=\"ctrl.formValues.CpuLimit\"\\n                    memory-limit=\"ctrl.formValues.MemoryLimit\"\\n                    display-usage=\"ctrl.state.useServerMetrics\"\\n                    cpu-usage=\"ctrl.state.resourceUsage.CPU\"\\n                    memory-usage=\"ctrl.state.resourceUsage.Memory\"\\n                  >\\n                  </kubernetes-resource-reservation>\\n                </div>\\n                \\x3c!-- !quotas-switch --\\x3e\\n                <div ng-if=\"ctrl.formValues.HasQuota && ctrl.isAdmin && ctrl.isEditable\">\\n                  <div class=\"col-sm-12 form-section-title\"> Resource limits </div>\\n                  <div>\\n                    \\x3c!-- memory-limit-input --\\x3e\\n                    <div class=\"form-group\">\\n                      <label for=\"memory-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px\"> Memory limit </label>\\n                      <div class=\"col-sm-3\">\\n                        <slider\\n                          model=\"ctrl.formValues.MemoryLimit\"\\n                          floor=\"ctrl.ResourceQuotaDefaults.MemoryLimit\"\\n                          ceil=\"ctrl.state.sliderMaxMemory\"\\n                          step=\"128\"\\n                          ng-if=\"ctrl.state.sliderMaxMemory\"\\n                        ></slider>\\n                      </div>\\n                      <div class=\"col-sm-2\">\\n                        <input\\n                          name=\"memory_limit\"\\n                          type=\"number\"\\n                          min=\"{{ ctrl.ResourceQuotaDefaults.MemoryLimit }}\"\\n                          max=\"{{ ctrl.state.sliderMaxMemory }}\"\\n                          class=\"form-control\"\\n                          ng-model=\"ctrl.formValues.MemoryLimit\"\\n                          id=\"memory-limit\"\\n                          required\\n                        />\\n                      </div>\\n                      <div class=\"col-sm-4\">\\n                        <p class=\"small text-muted\" style=\"margin-top: 7px\"> Memory limit (<b>MB</b>) </p>\\n                      </div>\\n                    </div>\\n                    <div class=\"form-group\" ng-show=\"resourcePoolEditForm.memory_limit.$invalid\">\\n                      <div class=\"col-sm-12 small text-warning\">\\n                        <div ng-messages=\"resourcePoolEditForm.pool_name.$error\">\\n                          <p\\n                            ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Value must be between {{ ctrl.ResourceQuotaDefaults.MemoryLimit }} and\\n                            {{ ctrl.state.sliderMaxMemory }}</p\\n                          >\\n                        </div>\\n                      </div>\\n                    </div>\\n                    \\x3c!-- !memory-limit-input --\\x3e\\n                    \\x3c!-- cpu-limit-input --\\x3e\\n                    <div class=\"form-group\">\\n                      <label for=\"cpu-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px\"> CPU limit </label>\\n                      <div class=\"col-sm-5\">\\n                        <slider\\n                          model=\"ctrl.formValues.CpuLimit\"\\n                          floor=\"ctrl.ResourceQuotaDefaults.CpuLimit\"\\n                          ceil=\"ctrl.state.sliderMaxCpu\"\\n                          step=\"0.1\"\\n                          precision=\"2\"\\n                          ng-if=\"ctrl.state.sliderMaxCpu\"\\n                        ></slider>\\n                      </div>\\n                      <div class=\"col-sm-4\" style=\"margin-top: 20px\">\\n                        <p class=\"small text-muted\"> Maximum CPU usage </p>\\n                      </div>\\n                    </div>\\n                    \\x3c!-- !cpu-limit-input --\\x3e\\n                  </div>\\n                </div>\\n                \\x3c!-- #region LOADBALANCERS --\\x3e\\n                <div class=\"col-sm-12 form-section-title\"> Load balancers </div>\\n\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\">\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    You can set a quota on the amount of external load balancers that can be created inside this namespace. Set this quota to 0 to effectively disable the use of\\n                    load balancers in this namespace.\\n                  </span>\\n                </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <por-switch-field\\n                      data-cy=\"\\'k8sNamespaceCreate-loadBalancerQuotaToggle\\'\"\\n                      label=\"\\'Load Balancer quota\\'\"\\n                      name=\"\\'k8s-resourcepool-Lbquota\\'\"\\n                      feature-id=\"ctrl.LBQuotaFeatureId\"\\n                      checked=\"ctrl.formValues.UseLoadBalancersQuota\"\\n                      on-change=\"(ctrl.onToggleLoadBalancersQuota)\"\\n                    ></por-switch-field>\\n                  </div>\\n                </div>\\n                \\x3c!-- #endregion --\\x3e\\n                <div ng-if=\"ctrl.isAdmin && ctrl.isEditable && ctrl.state.canUseIngress\">\\n                  <div class=\"col-sm-12 form-section-title\"> Ingresses </div>\\n                  \\x3c!-- #region INGRESSES --\\x3e\\n                  <div class=\"form-group\" ng-if=\"ctrl.formValues.IngressClasses.length === 0\">\\n                    <div class=\"col-sm-12 small text-muted\">\\n                      The ingress feature must be enabled in the\\n                      <a ui-sref=\"portainer.k8sendpoint.kubernetesConfig({id: ctrl.endpoint.Id})\">environment configuration view</a> to be able to register ingresses inside this\\n                      namespace.\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\" ng-if=\"ctrl.formValues.IngressClasses.length > 0\">\\n                    <div class=\"col-sm-12 small text-muted\">\\n                      <p>\\n                        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                        Enable and configure ingresses available to users when deploying applications.\\n                      </p>\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\" ng-repeat-start=\"ic in ctrl.formValues.IngressClasses track by ic.IngressClass.Name\">\\n                    <div class=\"text-muted col-sm-12\" style=\"width: 100%\">\\n                      <div style=\"border-bottom: 1px solid #cdcdcd; padding-bottom: 5px\">\\n                        <i class=\"fa fa-route\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ ic.IngressClass.Name }}\\n                      </div>\\n                    </div>\\n\\n                    <div class=\"col-sm-12\" style=\"margin-top: 10px\">\\n                      <label class=\"control-label text-left\"> Allow users to use this ingress </label>\\n                      <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"ic.Selected\" /><i></i> </label>\\n                    </div>\\n                  </div>\\n\\n                  <div ng-if=\"ic.Selected\">\\n                    <div class=\"form-group\">\\n                      <div class=\"col-sm-12\">\\n                        <label class=\"control-label text-left\">\\n                          Hostnames\\n                          <portainer-tooltip\\n                            position=\"bottom\"\\n                            message=\"Hostnames associated to the ingress inside this namespace. Users will be able to expose and access their applications over the ingress via one of these hostname.\"\\n                          >\\n                          </portainer-tooltip>\\n                        </label>\\n                        <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"ctrl.addHostname(ic)\">\\n                          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add hostname\\n                        </span>\\n                      </div>\\n                      <div class=\"col-sm-12\" style=\"margin-top: 10px\">\\n                        <div ng-repeat=\"item in ic.Hosts track by $index\" style=\"margin-top: 2px\">\\n                          <div class=\"form-inline\">\\n                            <div class=\"col-sm-10 input-group input-group-sm\" ng-class=\"{ striked: item.NeedsDeletion }\">\\n                              <span class=\"input-group-addon\">Hostname</span>\\n                              <input\\n                                type=\"text\"\\n                                class=\"form-control\"\\n                                name=\"hostname_{{ ic.IngressClass.Name }}_{{ $index }}\"\\n                                ng-model=\"item.Host\"\\n                                ng-change=\"ctrl.onChangeIngressHostname()\"\\n                                placeholder=\"foo\"\\n                                pattern=\"[\\\\*a-z0-9]([-a-z0-9]*[a-z0-9])?(\\\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\"\\n                                required\\n                              />\\n                            </div>\\n                            <div class=\"col-sm-1 input-group input-group-sm\" ng-if=\"$index > 0\">\\n                              <button ng-if=\"!item.NeedsDeletion\" class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"ctrl.removeHostname(ic, $index)\">\\n                                <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                              </button>\\n                              <button ng-if=\"item.NeedsDeletion\" class=\"btn btn-sm btn-primary\" type=\"button\" ng-click=\"ctrl.restoreHostname(item)\">\\n                                <i class=\"fa fa-trash-restore\" aria-hidden=\"true\"></i>\\n                              </button>\\n                            </div>\\n                          </div>\\n                          <div\\n                            class=\"small text-warning\"\\n                            style=\"margin-top: 5px\"\\n                            ng-show=\"resourcePoolEditForm[\\'hostname_\\' + ic.IngressClass.Name + \\'_\\' + $index].$invalid || item.Duplicate\"\\n                          >\\n                            <ng-messages for=\"resourcePoolEditForm[\\'hostname_\\' + ic.IngressClass.Name + \\'_\\' + $index].$error\">\\n                              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Hostname is required.</p>\\n                              <p ng-message=\"pattern\">\\n                                <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                                This field must consist of lower case alphanumeric characters, \\'-\\' or \\'.\\', and must start and end with an alphanumeric character (e.g.\\n                                \\'example.com\\').\\n                              </p>\\n                            </ng-messages>\\n                            <p ng-if=\"item.Duplicate\">\\n                              <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                              This hostname is already used.\\n                            </p>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  <div ng-repeat-end class=\"form-group\" ng-if=\"ic.Selected\" style=\"margin-bottom: 20px\">\\n                    <div class=\"col-sm-12 small text-muted\" style=\"margin-top: 5px\">\\n                      <p>\\n                        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                        You can specify a list of annotations that will be associated to the ingress.\\n                      </p>\\n                    </div>\\n\\n                    <div class=\"col-sm-12\">\\n                      <label class=\"control-label text-left\">Annotations</label>\\n                      <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"ctrl.addAnnotation(ic)\">\\n                        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add annotation\\n                      </span>\\n                      <portainer-tooltip\\n                        position=\"bottom\"\\n                        message=\"Use annotations to configure options for an ingress. Review Nginx or Traefik documentation to find the annotations supported by your choice of ingress type.\"\\n                      >\\n                      </portainer-tooltip>\\n                      <span\\n                        class=\"label label-default interactive\"\\n                        ng-if=\"ic.IngressClass.Type === ctrl.IngressClassTypes.NGINX\"\\n                        style=\"margin-left: 10px\"\\n                        ng-click=\"ctrl.addRewriteAnnotation(ic)\"\\n                      >\\n                        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add rewrite annotation\\n                      </span>\\n                      <portainer-tooltip\\n                        ng-if=\"ic.IngressClass.Type === ctrl.IngressClassTypes.NGINX\"\\n                        position=\"bottom\"\\n                        message=\"When the exposed URLs for your applications differ from the specified paths in the ingress, use the rewrite target annotation to denote the path to redirect to.\"\\n                      >\\n                      </portainer-tooltip>\\n                      <span\\n                        class=\"label label-default interactive\"\\n                        ng-if=\"ic.IngressClass.Type === ctrl.IngressClassTypes.NGINX\"\\n                        style=\"margin-left: 10px\"\\n                        ng-click=\"ctrl.addUseregexAnnotation(ic)\"\\n                      >\\n                        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add regular expression annotation\\n                      </span>\\n                      <portainer-tooltip\\n                        ng-if=\"ic.IngressClass.Type === ctrl.IngressClassTypes.NGINX\"\\n                        position=\"bottom\"\\n                        message=\"Enable use of regular expressions in ingress paths (set in the ingress details of an application). Use this along with rewrite-target to specify the regex capturing group to be replaced, e.g. path regex of ^/foo/(,*) and rewrite-target of /bar/$1 rewrites example.com/foo/account to example.com/bar/account.\"\\n                      >\\n                      </portainer-tooltip>\\n                    </div>\\n\\n                    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                      <div ng-repeat=\"annotation in ic.Annotations track by $index\" style=\"margin-top: 2px\">\\n                        <div class=\"input-group col-sm-5 input-group-sm\">\\n                          <span class=\"input-group-addon\">Key</span>\\n                          <input\\n                            type=\"text\"\\n                            class=\"form-control\"\\n                            ng-model=\"annotation.Key\"\\n                            placeholder=\"{{\\n                              ic.IngressClass.Type === ctrl.IngressClassTypes.NGINX\\n                                ? \\'e.g. nginx.ingress.kubernetes.io/enable-rewrite-log\\'\\n                                : \\'e.g. traefik.ingress.kubernetes.io/router.priority\\'\\n                            }}\"\\n                            required\\n                          />\\n                        </div>\\n                        <div class=\"input-group col-sm-5 input-group-sm\">\\n                          <span class=\"input-group-addon\">Value</span>\\n                          <input\\n                            type=\"text\"\\n                            class=\"form-control\"\\n                            ng-model=\"annotation.Value\"\\n                            placeholder=\"{{ ic.IngressClass.Type === ctrl.IngressClassTypes.NGINX ? \\'e.g. true or false\\' : \\'e.g. 42\\' }}\"\\n                            required\\n                          />\\n                        </div>\\n                        <div class=\"col-sm-1 input-group input-group-sm\">\\n                          <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"ctrl.removeAnnotation(ic, $index)\">\\n                            <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                          </button>\\n                        </div>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  \\x3c!-- #endregion --\\x3e\\n                </div>\\n\\n                \\x3c!-- #region REGISTRIES --\\x3e\\n                <div>\\n                  <div class=\"col-sm-12 form-section-title\"> Registries </div>\\n\\n                  <div class=\"form-group\" ng-if=\"!ctrl.isAdmin || ctrl.isSystem\">\\n                    <label class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"padding-top: 0\"> Selected registries </label>\\n                    <div class=\"col-sm-9 col-lg-4\">\\n                      {{ ctrl.selectedRegistries ? ctrl.selectedRegistries : \\'None\\' }}\\n                    </div>\\n                  </div>\\n\\n                  <div ng-if=\"ctrl.isAdmin && !ctrl.isSystem\">\\n                    <div class=\"form-group\">\\n                      <div class=\"col-sm-12 small text-muted\">\\n                        <p>\\n                          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                          Define which registry can be used by users who have access to this namespace.\\n                        </p>\\n                      </div>\\n                    </div>\\n                    <div class=\"form-group\">\\n                      <label class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"padding-top: 0\"> Select registries </label>\\n                      <div class=\"col-sm-9 col-lg-4\">\\n                        <span class=\"small text-muted\" ng-if=\"!ctrl.registries.length && ctrl.state.isAdmin\">\\n                          No registries available. Head over <a ui-sref=\"portainer.registries\">registry view</a> to define container registry.\\n                        </span>\\n                        <span class=\"small text-muted\" ng-if=\"!ctrl.registries.length && !ctrl.state.isAdmin\">\\n                          No registries available. Contact your administrator to create a container registry.\\n                        </span>\\n                        <span\\n                          isteven-multi-select\\n                          ng-if=\"ctrl.registries.length\"\\n                          input-model=\"ctrl.registries\"\\n                          output-model=\"ctrl.formValues.Registries\"\\n                          button-label=\"Name\"\\n                          item-label=\"Name\"\\n                          tick-property=\"Checked\"\\n                          helper-elements=\"filter\"\\n                          search-property=\"Name\"\\n                          translation=\"{nothingSelected: \\'Select one or more registry\\', search: \\'Search...\\'}\"\\n                        >\\n                        </span>\\n                      </div>\\n                    </div>\\n                  </div>\\n                </div>\\n                \\x3c!-- #endregion --\\x3e\\n\\n                \\x3c!-- #region STORAGES --\\x3e\\n                <div class=\"col-sm-12 form-section-title\"> Storage </div>\\n\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\">\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Quotas can be set on each storage option to prevent users from exceeding a specific threshold when deploying applications. You can set a quota to 0 to\\n                    effectively prevent the usage of a specific storage option inside this namespace.\\n                  </span>\\n                </div>\\n                <div class=\"col-sm-12 form-section-title\">\\n                  <i class=\"fa fa-route\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  standard\\n                </div>\\n\\n                <storage-class-switch value=\"sc.Selected\" name=\"sc.Name\" on-change=\"(ctrl.onToggleStorageQuota)\" authorization=\"K8sResourcePoolDetailsW\"></storage-class-switch>\\n\\n                \\x3c!-- #endregion --\\x3e\\n\\n                \\x3c!-- summary --\\x3e\\n                <kubernetes-summary-view\\n                  ng-if=\"resourcePoolEditForm.$valid && !ctrl.isUpdateButtonDisabled()\"\\n                  form-values=\"ctrl.formValues\"\\n                  old-form-values=\"ctrl.savedFormValues\"\\n                ></kubernetes-summary-view>\\n                \\x3c!-- !summary --\\x3e\\n\\n                \\x3c!-- actions --\\x3e\\n                <div ng-if=\"ctrl.isAdmin\" class=\"col-sm-12 form-section-title\"> Actions </div>\\n                <div ng-if=\"ctrl.isAdmin\" class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <button\\n                      type=\"button\"\\n                      ng-if=\"!ctrl.isSystem\"\\n                      class=\"btn btn-primary btn-sm\"\\n                      ng-disabled=\"!resourcePoolEditForm.$valid || ctrl.isUpdateButtonDisabled()\"\\n                      ng-click=\"ctrl.updateResourcePool()\"\\n                      button-spinner=\"ctrl.state.actionInProgress\"\\n                    >\\n                      <span ng-hide=\"ctrl.state.actionInProgress\" data-cy=\"k8sNamespaceEdit-updateNamespaceButton\">Update namespace</span>\\n                      <span ng-show=\"ctrl.state.actionInProgress\">Update in progress...</span>\\n                    </button>\\n                    <button\\n                      ng-if=\"!ctrl.isDefaultNamespace\"\\n                      type=\"button\"\\n                      class=\"btn btn-primary btn-sm\"\\n                      ng-click=\"ctrl.markUnmarkAsSystem()\"\\n                      button-spinner=\"ctrl.state.actionInProgress\"\\n                      data-cy=\"k8sNamespaceEdit-markSystem\"\\n                    >\\n                      <span ng-if=\"ctrl.isSystem\">Unmark as system</span>\\n                      <span ng-if=\"!ctrl.isSystem\">Mark as system</span>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !actions --\\x3e\\n              </form>\\n            </uib-tab>\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\">\\n              <uib-tab-heading>\\n                <i class=\"fa fa-history space-right\" aria-hidden=\"true\"></i> Events\\n                <div ng-if=\"ctrl.hasEventWarnings()\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  {{ ctrl.state.eventWarningCount }} warning(s)\\n                </div>\\n              </uib-tab-heading>\\n              <kubernetes-events-datatable\\n                title-text=\"Events\"\\n                title-icon=\"fa-history\"\\n                dataset=\"ctrl.events\"\\n                table-key=\"kubernetes.resourcepool.events\"\\n                order-by=\"Date\"\\n                reverse-order=\"true\"\\n                loading=\"ctrl.state.eventsLoading\"\\n                refresh-callback=\"ctrl.getEvents\"\\n              ></kubernetes-events-datatable>\\n            </uib-tab>\\n            <uib-tab index=\"2\" ng-if=\"ctrl.pool.Yaml\" select=\"ctrl.showEditor()\" classes=\"btn-sm\">\\n              <uib-tab-heading> <i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i> YAML </uib-tab-heading>\\n              <div style=\"padding-right: 25px\" ng-if=\"ctrl.state.showEditorTab\">\\n                <kubernetes-yaml-inspector key=\"resource-pool-yaml\" data=\"ctrl.pool.Yaml\"></kubernetes-yaml-inspector>\\n              </div>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-if=\"ctrl.applications && ctrl.applications.length > 0\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-resource-pool-applications-datatable\\n        dataset=\"ctrl.applications\"\\n        table-key=\"kubernetes.resourcepool.applications\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.getApplications\"\\n        loading=\"ctrl.state.applicationsLoading\"\\n        title-text=\"Applications running in this namespace\"\\n        title-icon=\"fa-laptop-code\"\\n      >\\n      </kubernetes-resource-pool-applications-datatable>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-if=\"ctrl.ingresses && ctrl.ingresses.length > 0\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-resource-pool-ingresses-datatable\\n        dataset=\"ctrl.ingresses\"\\n        table-key=\"kubernetes.resourcepool.ingresses\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.getIngresses\"\\n        loading=\"ctrl.state.ingressesLoading\"\\n        title-text=\"Ingress routes and applications\"\\n        title-icon=\"fa-route\"\\n      >\\n      </kubernetes-resource-pool-ingresses-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},78268:function(e){var t=\"app/kubernetes/views/resource-pools/resourcePools.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Namespace list\" state=\"kubernetes.resourcePools\" view-ready=\"ctrl.state.viewReady\"> Namespaces </kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-resource-pools-datatable\\n        endpoint=\"ctrl.endpoint\"\\n        dataset=\"ctrl.resourcePools\"\\n        table-key=\"kubernetes.resourcePools\"\\n        order-by=\"Namespace.Name\"\\n        remove-action=\"ctrl.removeAction\"\\n        refresh-callback=\"ctrl.getResourcePools\"\\n        endpoint=\"ctrl.endpoint\"\\n        data-cy=\"k8sNamespace-namespaceTable\"\\n      ></kubernetes-resource-pools-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},88336:function(e){var t=\"app/kubernetes/views/stacks/logs/logs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Stacks logs\" state=\"kubernetes.stacks.stack.logs\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a>\\n  &gt; <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.state.transition.namespace })\">{{ ctrl.state.transition.namespace }}</a> &gt;\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt; Stacks &gt; {{ ctrl.state.transition.name }} &gt; Logs\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\" style=\"height: 100%\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" autocomplete=\"off\">\\n            <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n            \\x3c!-- auto-refresh --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">\\n                  Auto-refresh\\n                  <portainer-tooltip position=\"bottom\" message=\"Automatically refresh logs every 30 seconds\"></portainer-tooltip>\\n                </label>\\n                <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"ctrl.state.autoRefresh\" ng-change=\"ctrl.updateAutoRefresh()\" /><i></i> </label>\\n              </div>\\n            </div>\\n            \\x3c!-- !auto-refresh --\\x3e\\n            \\x3c!-- search --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"logs_search\" class=\"col-sm-1 control-label text-left\"> Search </label>\\n              <div class=\"col-sm-11\">\\n                <input\\n                  class=\"form-control\"\\n                  type=\"text\"\\n                  name=\"logs_search\"\\n                  ng-model=\"ctrl.state.search\"\\n                  ng-change=\"ctrl.state.selectedLines.length = 0;\"\\n                  placeholder=\"Filter...\"\\n                  auto-focus\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !search --\\x3e\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button class=\"btn btn-primary btn-sm\" type=\"button\" ng-click=\"ctrl.downloadLogs()\" style=\"margin-left: 0\"><i class=\"fa fa-download\"></i> Download logs</button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" style=\"height: 54%\">\\n    <div class=\"col-sm-12\" style=\"height: 100%\">\\n      <pre\\n        class=\"log_viewer\"\\n      ><div ng-repeat=\"line in ctrl.state.filteredLogs = (ctrl.stackLogs | filter:ctrl.state.search) track by $index\" class=\"line\" ng-if=\"line\"><p class=\"inner_line\"><span ng-style=\"{\\'color\\': line.Color, \\'font-weight\\': \\'bold\\'};\">{{ line.AppName }}</span> {{ line.Line }}</p></div><div ng-if=\"ctrl.stackLogs.length && !ctrl.state.filteredLogs.length\" class=\"line\"><p class=\"inner_line\">No log line matching the \\'{{ ctrl.state.search }}\\' filter</p></div><div ng-if=\"ctrl.stackLogs.length === 0\" class=\"line\"><p class=\"inner_line\">No logs available</p></div></pre>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},17648:function(e){var t=\"app/kubernetes/views/summary/summary.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div\\n  class=\"col-xs-12 form-section-title interactive\"\\n  ng-click=\"$ctrl.toggleSummary()\"\\n  style=\"display: flex; justify-content: space-between\"\\n  ng-if=\"$ctrl.state.resources.length > 0\"\\n>\\n  Summary\\n  <span class=\"small space-left\">\\n    <a ng-if=\"!$ctrl.state.expandedTemplate\"><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i> expand</a>\\n    <a ng-if=\"$ctrl.state.expandedTemplate\"><i class=\"fa fa-angle-up\" aria-hidden=\"true\"></i> collapse</a>\\n  </span>\\n</div>\\n\\n<div class=\"form-group\" ng-if=\"$ctrl.state.expandedTemplate\">\\n  <div class=\"col-sm-12 small text-muted\">\\n    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n    Portainer will execute the following Kubernetes actions.\\n  </div>\\n\\n  <div class=\"col-sm-12 small text-muted\" style=\"padding-top: 1em\" ng-if=\"$ctrl.state.resources.length > 0\">\\n    <ul>\\n      <li ng-repeat=\"summary in $ctrl.state.resources\" ng-if=\"summary.action && summary.kind && summary.name\">\\n        {{ summary.action }}\\n        {{ $ctrl.getArticle(summary.kind, summary.action) }}\\n        <span class=\"bold\">{{ summary.kind }}</span> named <code>{{ summary.name }}</code>\\n        <span ng-if=\"summary.type\">\\n          of type <code>{{ summary.type }}</code></span\\n        >\\n      </li>\\n      <li ng-if=\"$ctrl.state.limits.memory\">\\n        Set the memory resources limits and requests to <code>{{ $ctrl.state.limits.memory }}M</code>\\n      </li>\\n      <li ng-if=\"$ctrl.state.limits.cpu\">\\n        Set the CPU resources limits and requests to <code>{{ $ctrl.state.limits.cpu }}</code>\\n      </li>\\n    </ul>\\n  </div>\\n</div>\\n')}]),e.exports=t},71894:function(e){var t=\"app/kubernetes/views/volumes/components/volumes-storages-datatable/template.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th style=\"width: 20px\">\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th style=\"width: 60%\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Storage\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th style=\"width: 38%\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Size\\')\">\\n                  Usage\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Size\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Size\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              ng-class=\"{ active: item.Checked, \\'datatable-highlighted\\': item.Highlighted }\"\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td>\\n                <a ng-if=\"$ctrl.itemCanExpand(item)\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i>\\n                </a>\\n              </td>\\n              <td>{{ item.Name }}</td>\\n              <td>{{ item.Size }}</td>\\n            </tr>\\n            <tr\\n              dir-paginate-end\\n              ng-show=\"item.Expanded\"\\n              ng-repeat=\"vol in item.Volumes\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td></td>\\n              <td>\\n                <a ui-sref=\"kubernetes.volumes.volume({ name: vol.PersistentVolumeClaim.Name, namespace: vol.PersistentVolumeClaim.Namespace })\">\\n                  {{ vol.PersistentVolumeClaim.Name }}\\n                </a>\\n              </td>\\n              <td>\\n                {{ vol.PersistentVolumeClaim.Storage }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No storage available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},86604:function(e){var t=\"app/kubernetes/views/volumes/edit/volume.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Volume details\" state=\"kubernetes.volumes.volume\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.volume.ResourcePool.Namespace.Name })\">{{ ctrl.volume.ResourcePool.Namespace.Name }}</a> &gt;\\n  <a ui-sref=\"kubernetes.volumes\">Volumes</a> &gt; {{ ctrl.volume.PersistentVolumeClaim.Name }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\">\\n              <uib-tab-heading data-cy=\"k8sVolDetail-volTab\"> <i class=\"fa fa-database space-right\" aria-hidden=\"true\"></i> Volume </uib-tab-heading>\\n\\n              <div style=\"padding: 20px\">\\n                <table class=\"table\">\\n                  <tbody>\\n                    <tr>\\n                      <td>Name</td>\\n                      <td data-cy=\"k8sVolDetail-volName\">\\n                        {{ ctrl.volume.PersistentVolumeClaim.Name }}\\n                        <span class=\"label label-primary image-tag label-margins\" ng-if=\"!ctrl.isSystemNamespace() && ctrl.isExternalVolume()\">external</span>\\n                        <span class=\"label label-warning image-tag label-margins\" ng-if=\"!ctrl.isSystemNamespace() && !ctrl.isUsed()\">unused</span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Namespace</td>\\n                      <td>\\n                        <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.volume.ResourcePool.Namespace.Name })\" data-cy=\"k8sVolDetail-volNamespace\">{{\\n                          ctrl.volume.ResourcePool.Namespace.Name\\n                        }}</a>\\n                        <span style=\"margin-left: 5px\" class=\"label label-info image-tag\" ng-if=\"ctrl.isSystemNamespace()\">system</span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Storage</td>\\n                      <td data-cy=\"k8sVolDetail-volStorageClassname\">{{ ctrl.volume.PersistentVolumeClaim.StorageClass.Name }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Shared Access Policy</td>\\n                      <td data-cy=\"k8sVolDetail-volAccessPolicy\"\\n                        >{{ ctrl.state.volumeSharedAccessPolicy }}\\n                        <portainer-tooltip\\n                          position=\"bottom\"\\n                          ng-if=\"ctrl.state.volumeSharedAccessPolicyTooltip\"\\n                          message=\"{{ ctrl.state.volumeSharedAccessPolicyTooltip }}\"\\n                        ></portainer-tooltip\\n                      ></td>\\n                    </tr>\\n                    <tr>\\n                      <td>Provisioner</td>\\n                      <td data-cy=\"k8sVolDetail-volProvisioner\">{{\\n                        ctrl.volume.PersistentVolumeClaim.StorageClass.Provisioner ? ctrl.volume.PersistentVolumeClaim.StorageClass.Provisioner : \\'-\\'\\n                      }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Creation date</td>\\n                      <td data-cy=\"k8sVolDetail-volCreatedAt\">{{ ctrl.volume.PersistentVolumeClaim.CreationDate | getisodate }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Size</td>\\n                      <td ng-if=\"!ctrl.state.increaseSize\">\\n                        {{ ctrl.volume.PersistentVolumeClaim.Storage }}\\n                        <button\\n                          type=\"button\"\\n                          class=\"btn btn-sm btn-primary\"\\n                          ng-click=\"ctrl.state.increaseSize = true\"\\n                          ng-if=\"ctrl.volume.PersistentVolumeClaim.StorageClass.AllowVolumeExpansion\"\\n                          data-cy=\"k8sVolDetail-increaseSizeButton\"\\n                          >Increase size</button\\n                        >\\n                      </td>\\n                      <td ng-if=\"ctrl.state.increaseSize\">\\n                        <form name=\"kubernetesVolumeUpdateForm\">\\n                          <div class=\"form-inline\">\\n                            <div class=\"input-group input-group-sm\">\\n                              <input\\n                                type=\"number\"\\n                                class=\"form-control\"\\n                                name=\"size\"\\n                                ng-model=\"ctrl.state.volumeSize\"\\n                                placeholder=\"20\"\\n                                ng-min=\"0\"\\n                                min=\"0\"\\n                                ng-change=\"ctrl.onChangeSize()\"\\n                                required\\n                                data-cy=\"k8sVolDetail-increaseSizeInput\"\\n                              />\\n                              <span class=\"input-group-addon\" style=\"padding: 0\">\\n                                <select\\n                                  ng-model=\"ctrl.state.volumeSizeUnit\"\\n                                  ng-change=\"ctrl.onChangeSize()\"\\n                                  ng-options=\"unit for unit in ctrl.state.availableSizeUnits\"\\n                                  style=\"width: 100%; height: 100%\"\\n                                  data-cy=\"k8sVolDetail-increaseSizeUnits\"\\n                                ></select>\\n                              </span>\\n                            </div>\\n                            <button\\n                              type=\"button\"\\n                              class=\"btn btn-sm btn-primary\"\\n                              ng-disabled=\"!ctrl.sizeIsValid()\"\\n                              ng-click=\"ctrl.updateVolume()\"\\n                              data-cy=\"k8sVolDetail-updateSizeConfirm\"\\n                            >\\n                              Update size\\n                            </button>\\n                            <button type=\"button\" class=\"btn btn-sm btn-default\" ng-click=\"ctrl.state.increaseSize = false\" data-cy=\"k8sVolDetail-cancelUpdateSize\">\\n                              Cancel\\n                            </button>\\n                          </div>\\n\\n                          <div class=\"form-inline\">\\n                            <div class=\"small text-warning\" style=\"margin-top: 5px\" ng-show=\"ctrl.state.errors.volumeSize || kubernetesVolumeUpdateForm.size.$invalid\">\\n                              <div ng-messages=\"kubernetesVolumeUpdateForm.size.$error\">\\n                                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                              </div>\\n                              <p ng-show=\"ctrl.state.errors.volumeSize && !kubernetesVolumeUpdateForm.size.$invalid\"\\n                                ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> The new size must be greater than the actual size.</p\\n                              >\\n                            </div>\\n                          </div>\\n                        </form>\\n                      </td>\\n                    </tr>\\n                  </tbody>\\n                </table>\\n              </div>\\n            </uib-tab>\\n\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\">\\n              <uib-tab-heading data-cy=\"k8sVolDetail-volEventsTab\">\\n                <i class=\"fa fa-history space-right\" aria-hidden=\"true\"></i> Events\\n                <div ng-if=\"ctrl.hasEventWarnings()\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  {{ ctrl.state.eventWarningCount }} warning(s)\\n                </div>\\n              </uib-tab-heading>\\n              <kubernetes-events-datatable\\n                title-text=\"Events\"\\n                title-icon=\"fa-history\"\\n                dataset=\"ctrl.events\"\\n                table-key=\"kubernetes.volume.events\"\\n                order-by=\"Date\"\\n                reverse-order=\"true\"\\n                loading=\"ctrl.state.eventsLoading\"\\n                refresh-callback=\"ctrl.getEvents\"\\n              >\\n              </kubernetes-events-datatable>\\n            </uib-tab>\\n\\n            <uib-tab index=\"2\" ng-if=\"ctrl.volume.PersistentVolumeClaim.Yaml\" select=\"ctrl.showEditor()\" classes=\"btn-sm\">\\n              <uib-tab-heading data-cy=\"k8sVolDetail-volYamlTab\"> <i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i> YAML </uib-tab-heading>\\n              <div style=\"padding-right: 25px\" ng-if=\"ctrl.state.showEditorTab\">\\n                <kubernetes-yaml-inspector key=\"volume-yaml\" data=\"ctrl.volume.PersistentVolumeClaim.Yaml\"></kubernetes-yaml-inspector>\\n              </div>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-if=\"ctrl.isUsed(item)\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-integrated-applications-datatable\\n        dataset=\"ctrl.volume.Applications\"\\n        table-key=\"kubernetes.volume.applications\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.getVolume\"\\n        title-text=\"Applications using this volume\"\\n        title-icon=\"fa-laptop-code\"\\n      >\\n      </kubernetes-integrated-applications-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},44e3:function(e){var t=\"app/kubernetes/views/volumes/volumes.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<kubernetes-view-header title=\"Volume list\" state=\"kubernetes.volumes\" view-ready=\"ctrl.state.viewReady\"> Volumes </kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\">\\n              <uib-tab-heading> <i class=\"fa fa-database space-right\" aria-hidden=\"true\"></i> Volumes</uib-tab-heading>\\n              <kubernetes-volumes-datatable\\n                dataset=\"ctrl.volumes\"\\n                table-key=\"kubernetes.volumes\"\\n                order-by=\"PersistentVolumeClaim.Name\"\\n                remove-action=\"ctrl.removeAction\"\\n                refresh-callback=\"ctrl.getVolumes\"\\n                data-cy=\"k8s-volumes-datatable\"\\n              >\\n              </kubernetes-volumes-datatable>\\n            </uib-tab>\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\">\\n              <uib-tab-heading> <i class=\"fa fa-hdd space-right\" aria-hidden=\"true\"></i> Storage</uib-tab-heading>\\n              <kubernetes-volumes-storages-datatable dataset=\"ctrl.storages\" table-key=\"kubernetes.volumes.storages\" order-by=\"Name\" refresh-callback=\"ctrl.getVolumes\">\\n              </kubernetes-volumes-storages-datatable>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},4483:function(e){var t=\"app/portainer/components/BEFeatureIndicator/BEFeatureIndicator.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<a class=\"be-indicator\" href=\"{{ $ctrl.url }}\" target=\"_blank\" rel=\"noopener\" ng-if=\"$ctrl.limitedToBE\">\\n  <ng-transclude></ng-transclude>\\n  <i class=\"be-indicator-icon fas fa-briefcase space-right\"></i>\\n  <span class=\"be-indicator-label\">Business Edition Feature</span>\\n</a>\\n')}]),e.exports=t},88659:function(e){var t=\"app/portainer/components/InformationPanel/InformationPanelAngular.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <div class=\"col-sm-12 form-section-title\">\\n          <span style=\"float: left\">\\n            {{ $ctrl.titleText }}\\n          </span>\\n          <span class=\"small\" style=\"float: right\" ng-if=\"$ctrl.dismissAction\">\\n            <a ng-click=\"$ctrl.dismissAction()\"><i class=\"fa fa-times\"></i> dismiss</a>\\n          </span>\\n        </div>\\n        <div class=\"form-group\">\\n          <ng-transclude></ng-transclude>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},65973:function(e){var t=\"app/portainer/components/PageHeader/HeaderContainer.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"row header\">\\n  <div id=\"loadingbar-placeholder\"></div>\\n  <div class=\"col-xs-12\"> <div class=\"meta\" ng-transclude></div></div>\\n</div>\\n')}]),e.exports=t},8019:function(e){var t=\"app/portainer/components/PageHeader/HeaderContent.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"breadcrumb-links\">\\n  <div class=\"pull-left\" ng-transclude></div>\\n  <div class=\"pull-right\" ng-if=\"$ctrl.username && $ctrl.display\">\\n    <a ui-sref=\"portainer.account\" style=\"margin-right: 5px\">\\n      <u> <i class=\"fa fa-wrench\" aria-hidden=\"true\"></i> my account </u>\\n    </a>\\n    <a ui-sref=\"portainer.logout({performApiLogout: true})\" class=\"text-danger\" style=\"margin-right: 25px\" data-cy=\"template-logoutButton\">\\n      <u> <i class=\"fa fa-sign-out-alt\" aria-hidden=\"true\"></i> log out</u>\\n    </a>\\n  </div>\\n</div>\\n')}]),e.exports=t},75014:function(e){var t=\"app/portainer/components/PageHeader/HeaderTitle.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"page white-space-normal\">\\n  {{ $ctrl.titleText }}\\n  <span class=\"header_title_content\" ng-transclude></span>\\n  <span class=\"pull-right user-box\" ng-if=\"$ctrl.username && $ctrl.display\">\\n    <i class=\"fa fa-user-circle\" aria-hidden=\"true\"></i>\\n    {{ $ctrl.username }}\\n  </span>\\n</div>\\n')}]),e.exports=t},54296:function(e){var t=\"app/portainer/components/access-datatable/accessDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"{{ $ctrl.titleIcon }}\" title-text=\"{{ $ctrl.titleText }}\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar small\" ng-if=\"$ctrl.inheritFrom\">\\n        Access tagged as <code>inherited</code> are inherited from the group access. They cannot be removed or modified at the environment level but they can be overriden.\\n      </div>\\n      <div class=\"toolBar small\" ng-if=\"$ctrl.inheritFrom\"> Access tagged as <code>override</code> are overriding the group access for the related users/teams. </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n                  Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-disabled=\"$ctrl.disableRemove(item)\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                {{ item.Name }}\\n                <span ng-if=\"$ctrl.inheritFrom && item.Inherited\" class=\"text-muted small\" style=\"margin-left: 2px\"><code style=\"font-size: 85% !important\">inherited</code></span>\\n                <span ng-if=\"$ctrl.inheritFrom && item.Override\" class=\"text-muted small\" style=\"margin-left: 2px\"><code style=\"font-size: 85% !important\">override</code></span>\\n              </td>\\n              <td>{{ item.Type }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">No authorized users or teams.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},9420:function(e){var t=\"app/portainer/components/access-table/accessTable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <table class=\"table table-hover\">\\n    <div class=\"col-sm-12\">\\n      <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n      <input\\n        type=\"text\"\\n        class=\"searchInput\"\\n        ng-model=\"$ctrl.state.textFilter\"\\n        ng-change=\"$ctrl.onTextFilterChange()\"\\n        placeholder=\"Search...\"\\n        ng-model-options=\"{ debounce: 300 }\"\\n      />\\n    </div>\\n    <thead>\\n      <tr>\\n        <th>\\n          <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n            Name\\n            <span ng-show=\"$ctrl.state.orderBy == \\'Name\\' && !$ctrl.state.reverseOrder\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n            <span ng-show=\"$ctrl.state.orderBy == \\'Name\\' && $ctrl.state.reverseOrder\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n          </a>\\n        </th>\\n        <th>\\n          <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n            Type\\n            <span ng-show=\"$ctrl.state.orderBy == \\'Type\\' && !$ctrl.state.reverseOrder\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n            <span ng-show=\"$ctrl.state.orderBy == \\'Type\\' && $ctrl.state.reverseOrder\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n          </a>\\n        </th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr\\n        ng-click=\"!item.Inherited && $ctrl.entryClick(item)\"\\n        ng-class=\"{ interactive: !item.Inherited }\"\\n        dir-paginate=\"item in $ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit\"\\n      >\\n        <td>\\n          {{ item.Name }}\\n          \\x3c!-- <span class=\"image-tag label label-\">inherited</span> --\\x3e\\n          <span ng-if=\"item.Inherited\" class=\"text-muted small\" style=\"margin-left: 2px\"><code style=\"font-size: 85% !important\">inherited</code></span>\\n        </td>\\n        <td>\\n          <i class=\"fa\" ng-class=\"item.Type === \\'user\\' ? \\'fa-user\\' : \\'fa-users\\'\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          {{ item.Type }}\\n        </td>\\n      </tr>\\n      <tr ng-if=\"!$ctrl.dataset\">\\n        <td colspan=\"2\" class=\"text-center text-muted\">Loading...</td>\\n      </tr>\\n      <tr\\n        ng-if=\"\\n          $ctrl.dataset.length === 0 ||\\n          ($ctrl.dataset | filter: $ctrl.state.textFilter | orderBy: $ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit).length === 0\\n        \"\\n      >\\n        <td colspan=\"2\" class=\"text-center text-muted\">{{ $ctrl.emptyDatasetMessage }}</td>\\n      </tr>\\n    </tbody>\\n  </table>\\n  <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n    <div class=\"paginationControls\">\\n      <form class=\"form-inline\">\\n        <span class=\"limitSelector\">\\n          <span style=\"margin-right: 5px\"> Items per page </span>\\n          <select ng-model=\"$ctrl.state.paginatedItemLimit\">\\n            <option value=\"0\">All</option>\\n            <option value=\"10\">10</option>\\n            <option value=\"25\">25</option>\\n            <option value=\"50\">50</option>\\n            <option value=\"100\">100</option>\\n          </select>\\n        </span>\\n        <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},62495:function(e){var t=\"app/portainer/components/accessControlForm/porAccessControlForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div>\\n  <div ng-if=\"!$ctrl.hideTitle\" class=\"col-sm-12 form-section-title\"> Access control </div>\\n  \\x3c!-- access-control-switch --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <label for=\"ownership\" class=\"control-label text-left\">\\n        Enable access control\\n        <portainer-tooltip position=\"bottom\" message=\"When enabled, you can restrict the access and management of this resource.\"></portainer-tooltip>\\n      </label>\\n      <label class=\"switch\" style=\"margin-left: 20px\">\\n        <input name=\"ownership\" type=\"checkbox\" ng-model=\"$ctrl.formData.AccessControlEnabled\" /><i data-cy=\"portainer-accessMgmtToggle\"></i>\\n      </label>\\n    </div>\\n  </div>\\n  \\x3c!-- !access-control-switch --\\x3e\\n  \\x3c!-- restricted-access --\\x3e\\n  <div class=\"form-group\" ng-if=\"$ctrl.formData.AccessControlEnabled\" style=\"margin-bottom: 0\">\\n    <div class=\"boxselector_wrapper\">\\n      <div ng-if=\"$ctrl.isAdmin\">\\n        <input type=\"radio\" id=\"access_administrators\" ng-model=\"$ctrl.formData.Ownership\" value=\"administrators\" />\\n        <label for=\"access_administrators\" data-cy=\"portainer-selectAdminAccess\">\\n          <div class=\"boxselector_header\">\\n            <i ng-class=\"\\'administrators\\' | ownershipicon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            Administrators\\n          </div>\\n          <p>I want to restrict the management of this resource to administrators only</p>\\n        </label>\\n      </div>\\n      <div ng-if=\"$ctrl.isAdmin\">\\n        <input type=\"radio\" id=\"access_restricted\" ng-model=\"$ctrl.formData.Ownership\" value=\"restricted\" />\\n        <label for=\"access_restricted\" data-cy=\"portainer-selectRestrictedAccess\">\\n          <div class=\"boxselector_header\">\\n            <i ng-class=\"\\'restricted\\' | ownershipicon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            Restricted\\n          </div>\\n          <p> I want to restrict the management of this resource to a set of users and/or teams </p>\\n        </label>\\n      </div>\\n      <div ng-if=\"!$ctrl.isAdmin\">\\n        <input type=\"radio\" id=\"access_private\" ng-model=\"$ctrl.formData.Ownership\" value=\"private\" />\\n        <label for=\"access_private\">\\n          <div class=\"boxselector_header\">\\n            <i ng-class=\"\\'private\\' | ownershipicon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            Private\\n          </div>\\n          <p> I want to this resource to be manageable by myself only </p>\\n        </label>\\n      </div>\\n      <div ng-if=\"!$ctrl.isAdmin && $ctrl.availableTeams.length > 0\">\\n        <input type=\"radio\" id=\"access_restricted\" ng-model=\"$ctrl.formData.Ownership\" value=\"restricted\" />\\n        <label for=\"access_restricted\">\\n          <div class=\"boxselector_header\">\\n            <i ng-class=\"\\'restricted\\' | ownershipicon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            Restricted\\n          </div>\\n          <p ng-if=\"$ctrl.availableTeams.length === 1\">\\n            I want any member of my team (<b>{{ $ctrl.availableTeams[0].Name }}</b\\n            >) to be able to manage this resource\\n          </p>\\n          <p ng-if=\"$ctrl.availableTeams.length > 1\"> I want to restrict the management of this resource to one or more of my teams </p>\\n        </label>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- restricted-access --\\x3e\\n  \\x3c!-- authorized-teams --\\x3e\\n  <div\\n    class=\"form-group\"\\n    ng-if=\"$ctrl.formData.AccessControlEnabled && $ctrl.formData.Ownership === $ctrl.RCO.RESTRICTED && ($ctrl.isAdmin || (!$ctrl.isAdmin && $ctrl.availableTeams.length > 1))\"\\n  >\\n    <div class=\"col-sm-12\">\\n      <label for=\"group-access\" class=\"control-label text-left\">\\n        Authorized teams\\n        <portainer-tooltip\\n          ng-if=\"$ctrl.isAdmin && $ctrl.availableTeams.length > 0\"\\n          position=\"bottom\"\\n          message=\"You can select which teams(s) will be able to manage this resource.\"\\n        ></portainer-tooltip>\\n        <portainer-tooltip\\n          ng-if=\"!$ctrl.isAdmin && $ctrl.availableTeams.length > 1\"\\n          position=\"bottom\"\\n          message=\"As you are a member of multiple teams, you can select which teams(s) will be able to manage this resource.\"\\n        ></portainer-tooltip>\\n      </label>\\n      <span ng-if=\"$ctrl.isAdmin && $ctrl.availableTeams.length === 0\" class=\"small text-muted\" style=\"margin-left: 20px\">\\n        You have not yet created any teams. Head over to the <a ui-sref=\"portainer.teams\">Teams view</a> to manage teams.\\n      </span>\\n      <span\\n        isteven-multi-select\\n        ng-if=\"($ctrl.isAdmin && $ctrl.availableTeams.length > 0) || (!$ctrl.isAdmin && $ctrl.availableTeams.length > 1)\"\\n        input-model=\"$ctrl.availableTeams\"\\n        output-model=\"$ctrl.formData.AuthorizedTeams\"\\n        button-label=\"Name\"\\n        item-label=\"Name\"\\n        tick-property=\"selected\"\\n        helper-elements=\"filter\"\\n        search-property=\"Name\"\\n        translation=\"{nothingSelected: \\'Select one or more teams\\', search: \\'Search...\\'}\"\\n        style=\"margin-left: 20px\"\\n        data-cy=\"portainer-selectTeamAccess\"\\n      >\\n      </span>\\n    </div>\\n  </div>\\n  \\x3c!-- !authorized-teams --\\x3e\\n  \\x3c!-- authorized-users --\\x3e\\n  <div class=\"form-group\" ng-if=\"$ctrl.formData.AccessControlEnabled && $ctrl.formData.Ownership === $ctrl.RCO.RESTRICTED && $ctrl.isAdmin\">\\n    <div class=\"col-sm-12\">\\n      <label for=\"group-access\" class=\"control-label text-left\">\\n        Authorized users\\n        <portainer-tooltip\\n          ng-if=\"$ctrl.isAdmin && $ctrl.availableUsers.length > 0\"\\n          position=\"bottom\"\\n          message=\"You can select which user(s) will be able to manage this resource.\"\\n        ></portainer-tooltip>\\n      </label>\\n      <span ng-if=\"$ctrl.availableUsers.length === 0\" class=\"small text-muted\" style=\"margin-left: 20px\">\\n        You have not yet created any users. Head over to the <a ui-sref=\"portainer.users\">Users view</a> to manage users.\\n      </span>\\n      <span\\n        isteven-multi-select\\n        ng-if=\"$ctrl.availableUsers.length > 0\"\\n        input-model=\"$ctrl.availableUsers\"\\n        output-model=\"$ctrl.formData.AuthorizedUsers\"\\n        button-label=\"Username\"\\n        item-label=\"Username\"\\n        tick-property=\"selected\"\\n        helper-elements=\"filter\"\\n        search-property=\"Username\"\\n        translation=\"{nothingSelected: \\'Select one or more users\\', search: \\'Search...\\'}\"\\n        style=\"margin-left: 20px\"\\n        data-cy=\"portainer-selectUserAccess\"\\n      >\\n      </span>\\n    </div>\\n  </div>\\n  \\x3c!-- !authorized-users --\\x3e\\n</div>\\n')}]),e.exports=t},78049:function(e){var t=\"app/portainer/components/accessManagement/por-access-management-users-selector/por-access-management-users-selector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"form-group\">\\n  <label class=\"col-sm-3 col-lg-2 control-label text-left\"> Select user(s) and/or team(s) </label>\\n  <div class=\"col-sm-9 col-lg-4\">\\n    <span class=\"small text-muted\" ng-if=\"$ctrl.options.length === 0\"> No users or teams available. </span>\\n    <span\\n      isteven-multi-select\\n      ng-if=\"$ctrl.options.length > 0\"\\n      input-model=\"$ctrl.options\"\\n      output-model=\"$ctrl.value\"\\n      button-label=\"icon Name\"\\n      item-label=\"icon Name\"\\n      tick-property=\"ticked\"\\n      helper-elements=\"filter\"\\n      search-property=\"Name\"\\n      translation=\"{nothingSelected: \\'Select one or more users and/or teams\\', search: \\'Search...\\'}\"\\n      data-cy=\"component-selectUser\"\\n    >\\n    </span>\\n  </div>\\n</div>\\n')}]),e.exports=t},63185:function(e){var t=\"app/portainer/components/accessManagement/porAccessManagement.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget ng-if=\"ctrl.availableUsersAndTeams && ctrl.accessControlledEntity\">\\n      <rd-widget-header icon=\"fa-user-lock\" title-text=\"Create access\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div ng-if=\"ctrl.entityType !== \\'registry\\'\" class=\"form-group\">\\n            <span class=\"col-sm-12 small text-warning\">\\n              <p>\\n                <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                Adding user access will require the affected user(s) to logout and login for the changes to be taken into account.\\n              </p>\\n            </span>\\n          </div>\\n\\n          <por-access-management-users-selector options=\"ctrl.availableUsersAndTeams\" value=\"ctrl.formValues.multiselectOutput\"></por-access-management-users-selector>\\n\\n          <div class=\"form-group\" ng-if=\"ctrl.entityType !== \\'registry\\'\">\\n            <label class=\"col-sm-3 col-lg-2 control-label text-left\"> Role </label>\\n            <div class=\"col-sm-9 col-lg-6\">\\n              <div class=\"flex items-center\">\\n                <select\\n                  class=\"form-control\"\\n                  ng-model=\"ctrl.formValues.selectedRole\"\\n                  ng-options=\"role as ctrl.roleLabel(role) disable when ctrl.isRoleLimitedToBE(role) for role in ctrl.roles\"\\n                >\\n                </select>\\n                <be-feature-indicator feature=\"ctrl.limitedFeature\" class=\"space-left\"></be-feature-indicator>\\n              </div>\\n            </div>\\n          </div>\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"(ctrl.availableUsersAndTeams | filter:{ticked:true}).length === 0 || ctrl.actionInProgress\"\\n                ng-click=\"ctrl.authorizeAccess()\"\\n                button-spinner=\"ctrl.actionInProgress\"\\n                data-cy=\"access-createAccess\"\\n              >\\n                <span ng-hide=\"ctrl.state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Create access</span>\\n                <span ng-show=\"ctrl.state.actionInProgress\">Creating access...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <access-datatable\\n      ng-if=\"ctrl.authorizedUsersAndTeams\"\\n      title-text=\"Access\"\\n      title-icon=\"fa-user-lock\"\\n      table-key=\"{{ \\'access_\\' + ctrl.entityType }}\"\\n      order-by=\"Name\"\\n      show-warning=\"ctrl.entityType !== \\'registry\\'\"\\n      is-update-enabled=\"ctrl.entityType !== \\'registry\\'\"\\n      show-roles=\"ctrl.entityType !== \\'registry\\'\"\\n      roles=\"ctrl.roles\"\\n      inherit-from=\"ctrl.inheritFrom\"\\n      dataset=\"ctrl.authorizedUsersAndTeams\"\\n      update-action=\"ctrl.updateAction\"\\n      remove-action=\"ctrl.unauthorizeAccess\"\\n    >\\n    </access-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},3401:function(e){var t=\"app/portainer/components/associated-endpoints-selector/associatedEndpointsSelector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 small text-muted\">\\n  You can select which environment should be part of this group by moving them to the associated environments table. Simply click on any environment entry to move it from one table\\n  to the other.\\n</div>\\n<div class=\"col-sm-12\" style=\"margin-top: 20px\">\\n  \\x3c!-- available-endpoints --\\x3e\\n  <div class=\"col-sm-6\">\\n    <div class=\"text-center small text-muted\">Available environments</div>\\n    <div style=\"margin-top: 10px\">\\n      <group-association-table\\n        loaded=\"$ctrl.loaded\"\\n        page-type=\"$ctrl.pageType\"\\n        table-type=\"available\"\\n        retrieve-page=\"$ctrl.getPaginatedEndpoints\"\\n        dataset=\"$ctrl.endpoints.available\"\\n        entry-click=\"$ctrl.associateEndpoint\"\\n        pagination-state=\"$ctrl.state.available\"\\n        empty-dataset-message=\"No environment available\"\\n        tags=\"$ctrl.tags\"\\n        show-tags=\"true\"\\n        groups=\"$ctrl.groups\"\\n        show-groups=\"true\"\\n        has-backend-pagination=\"true\"\\n        data-cy=\"edgeGroupCreate-availableEndpoints\"\\n      ></group-association-table>\\n    </div>\\n  </div>\\n  \\x3c!-- !available-endpoints --\\x3e\\n  \\x3c!-- associated-endpoints --\\x3e\\n  <div class=\"col-sm-6\">\\n    <div class=\"text-center small text-muted\">Associated environments</div>\\n    <div style=\"margin-top: 10px\">\\n      <group-association-table\\n        loaded=\"$ctrl.loaded\"\\n        page-type=\"$ctrl.pageType\"\\n        table-type=\"associated\"\\n        retrieve-page=\"$ctrl.getPaginatedEndpoints\"\\n        dataset=\"$ctrl.endpoints.associated\"\\n        entry-click=\"$ctrl.dissociateEndpoint\"\\n        pagination-state=\"$ctrl.state.associated\"\\n        empty-dataset-message=\"No associated environment\"\\n        tags=\"$ctrl.tags\"\\n        show-tags=\"true\"\\n        groups=\"$ctrl.groups\"\\n        show-groups=\"true\"\\n        has-backend-pagination=\"true\"\\n        data-cy=\"edgeGroupCreate-associatedEndpoints\"\\n      ></group-association-table>\\n    </div>\\n  </div>\\n  \\x3c!-- !associated-endpoints --\\x3e\\n</div>\\n')}]),e.exports=t},78254:function(e){var t=\"app/portainer/components/beta-panel/betaPanel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<information-panel title-text=\"Information\">\\n  <span class=\"small\">\\n    <p class=\"text-muted\">\\n      <i class=\"fa fa-flask orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      This is a beta feature.\\n    </p>\\n  </span>\\n</information-panel>\\n')}]),e.exports=t},98778:function(e){var t=\"app/portainer/components/code-editor/codeEditor.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<textarea id=\"{{ $ctrl.identifier }}\" class=\"form-control\" placeholder=\"{{ $ctrl.placeholder }}\"></textarea>\\n')}]),e.exports=t},18164:function(e){var t=\"app/portainer/components/copy-button/copy-button.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<span>\\n  <button type=\"button\" class=\"btn btn-link nopadding\" ng-click=\"$ctrl.copyValueText()\" title=\"Copy Value\"> <i class=\"fa fa-copy\"></i> Copy </button>\\n  <span ng-class=\"{ \\'copy-button-fadeout\\': $ctrl.state.isFading }\" class=\"copy-button-copy-text\"> <i class=\"fa fa-check\" aria-hidden=\"true\"></i> copied </span>\\n</span>\\n')}]),e.exports=t},48794:function(e){var t=\"app/portainer/components/custom-template-common-fields/customTemplateCommonFields.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form name=\"commonCustomTemplateForm\">\\n  \\x3c!-- title-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"template_title\" class=\"col-sm-3 col-lg-2 control-label text-left\"> Title </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        ng-model=\"$ctrl.formValues.Title\"\\n        ng-pattern=\"$ctrl.nameRegex\"\\n        id=\"template_title\"\\n        name=\"template_title\"\\n        placeholder=\"e.g. mytemplate\"\\n        auto-focus\\n        required\\n      />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"commonCustomTemplateForm.template_title.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"commonCustomTemplateForm.template_title.$error\">\\n        <p ng-message=\"pattern\">\\n          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n          <span>This field must consist of lower case alphanumeric characters, \\'_\\' or \\'-\\' (e.g. \\'my-name\\', or \\'abc-123\\').</span>\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"commonCustomTemplateForm.template_title.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"commonCustomTemplateForm.template_title.$error\">\\n        <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Title is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !title-input --\\x3e\\n\\n  \\x3c!-- description-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"description\" class=\"col-sm-3 col-lg-2 control-label text-left\">Description</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"description\" ng-model=\"$ctrl.formValues.Description\" name=\"description\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"commonCustomTemplateForm.description.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"commonCustomTemplateForm.description.$error\">\\n        <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Description is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !description-input --\\x3e\\n\\n  \\x3c!-- note-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"note\" class=\"col-sm-3 col-lg-2 control-label text-left\">Note</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"note\" ng-model=\"$ctrl.formValues.Note\" />\\n    </div>\\n  </div>\\n  \\x3c!-- !note-input --\\x3e\\n\\n  \\x3c!-- icon-url-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"icon-url\" class=\"col-sm-3 col-lg-2 control-label text-left\">Icon URL</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"icon-url\" ng-model=\"$ctrl.formValues.Logo\" />\\n    </div>\\n  </div>\\n  \\x3c!-- !icon-url-input --\\x3e\\n\\n  \\x3c!-- platform-input --\\x3e\\n  <div ng-if=\"$ctrl.showPlatformField\" class=\"form-group\">\\n    <label for=\"platform\" class=\"col-sm-3 col-lg-2 control-label text-left\">Platform</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <select class=\"form-control\" ng-model=\"$ctrl.formValues.Platform\" ng-options=\"+(opt.value) as opt.label for opt in $ctrl.platformTypes\"> </select>\\n    </div>\\n  </div>\\n  \\x3c!-- !platform-input --\\x3e\\n\\n  \\x3c!-- platform-input --\\x3e\\n  <div ng-if=\"$ctrl.showTypeField\" class=\"form-group\">\\n    <label for=\"platform\" class=\"col-sm-3 col-lg-2 control-label text-left\">Type</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <select class=\"form-control\" ng-model=\"$ctrl.formValues.Type\" ng-options=\"+(opt.value) as opt.label for opt in $ctrl.templateTypes\"> </select>\\n    </div>\\n  </div>\\n  \\x3c!-- !platform-input --\\x3e\\n</ng-form>\\n')}]),e.exports=t},43921:function(e){var t=\"app/portainer/components/custom-template-selector/custom-template-selector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div>\\n  <div class=\"form-group\">\\n    <label for=\"stack_template\" class=\"col-sm-1 control-label text-left\"> Template </label>\\n    <div class=\"col-sm-11\">\\n      <select\\n        ng-if=\"$ctrl.templates.length\"\\n        class=\"form-control\"\\n        ng-model=\"$ctrl.value\"\\n        ng-options=\"template.Id as template.label for template in $ctrl.templates\"\\n        ng-change=\"$ctrl.handleChangeTemplate($ctrl.value)\"\\n      >\\n        <option value=\"\" label=\"Select a Custom template\" disabled selected=\"selected\"> </option>\\n      </select>\\n      <span ng-if=\"!$ctrl.templates.length\"> No custom templates are available. Head over to the <a ui-state=\"$ctrl.newTemplatePath\">custom template view</a> to create one. </span>\\n    </div>\\n  </div>\\n\\n  \\x3c!-- description --\\x3e\\n  <div ng-if=\"$ctrl.selectedTemplate.note\">\\n    <div class=\"col-sm-12 form-section-title\"> Information </div>\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12\">\\n        <div class=\"template-note\" ng-bind-html=\"$ctrl.selectedTemplate.note\"></div>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !description --\\x3e\\n</div>\\n')}]),e.exports=t},81704:function(e){var t=\"app/portainer/components/custom-templates-list/customTemplatesList.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-state=\"$ctrl.createPath\"> <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add Custom Template </button>\\n      </div>\\n\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n\\n      <div class=\"blocklist\">\\n        <template-item\\n          ng-repeat=\"template in $ctrl.templates | filter:$ctrl.state.textFilter\"\\n          model=\"template\"\\n          type-label=\"{{ $ctrl.typeLabel(template.Type) }}\"\\n          on-select=\"($ctrl.onSelectClick)\"\\n        >\\n          <template-item-actions>\\n            <div ng-if=\"$ctrl.isEditAllowed(template)\" style=\"display: flex\">\\n              <a ui-state=\"$ctrl.editPath\" ui-state-params=\"{id: template.Id}\" ng-click=\"$event.stopPropagation();\" class=\"btn btn-primary btn-xs\" style=\"margin-right: 10px\">\\n                Edit\\n              </a>\\n              <button class=\"btn btn-danger btn-xs\" ng-click=\"$ctrl.onDeleteClick(template.Id); $event.stopPropagation();\">Delete</button>\\n            </div>\\n          </template-item-actions>\\n        </template-item>\\n        <div ng-if=\"!$ctrl.templates\" class=\"text-center text-muted\"> Loading... </div>\\n        <div ng-if=\"($ctrl.templates | filter: $ctrl.state.textFilter).length === 0\" class=\"text-center text-muted\"> No templates available. </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},24122:function(e){var t=\"app/portainer/components/datatables/access-tokens-datatable/access-tokens-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\" style=\"margin-top: 25px\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button\\n          ng-if=\"!$ctrl.endpointType\"\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ng-click=\"$ctrl.onClickAdd()\"> <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add access token </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'description\\')\">\\n                  Description\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'description\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'description\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'prefix\\')\">\\n                  Prefix\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'prefix\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'prefix\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'dateCreated\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'dateCreated\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'dateCreated\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'lastUsed\\')\">\\n                  Last Used\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'lastUsed\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'lastUsed\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                {{ item.description }}\\n              </td>\\n              <td>\\n                {{ item.prefix }}\\n              </td>\\n              <td>\\n                {{ item.dateCreated | getisodatefromtimestamp }}\\n              </td>\\n              <td>\\n                <span ng-if=\"item.lastUsed > 0\">{{ item.lastUsed | getisodatefromtimestamp }}</span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},58430:function(e){var t=\"app/portainer/components/datatables/datatable-columns-visibility/datatable-columns-visibility.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.state.isOpen }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.state.isOpen\">\\n  <span uib-dropdown-toggle><i class=\"fa fa-columns space-right\" aria-hidden=\"true\"></i>Columns</span>\\n  <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n    <div class=\"tableMenu\">\\n      <div class=\"menuHeader\"> Show / Hide Columns </div>\\n      <div class=\"menuContent\">\\n        <div class=\"md-checkbox\" ng-repeat=\"(key, value) in $ctrl.columns\">\\n          <input id=\"col_vis_{{::key}}\" ng-change=\"$ctrl.onChange($ctrl.columns)\" type=\"checkbox\" ng-model=\"value.display\" />\\n          <label for=\"col_vis_{{::key}}\">{{ value.label }}</label>\\n        </div>\\n      </div>\\n      <div>\\n        <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.state.isOpen = false;\">Close</a>\\n      </div>\\n    </div>\\n  </div>\\n</span>\\n')}]),e.exports=t},75970:function(e){var t=\"app/portainer/components/datatables/endpoints-datatable/endpointsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"endpoint-removeEndpointButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ng-click=\"$ctrl.setReferrer()\" ui-sref=\"portainer.wizard.endpoints\" data-cy=\"endpoint-addEndpointButton\">\\n          <i class=\"fa fa-plus-circle space-right\" aria-hidden=\"true\"></i>Add environment\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          auto-focus\\n          placeholder=\"Search...\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"endpoint-searchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"endpoint-endpointTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n                  Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'URL\\')\">\\n                  URL\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'URL\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'URL\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'GroupName\\')\">\\n                  Group\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'GroupName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'GroupName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Actions</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in $ctrl.state.filteredDataSet | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit\"\\n              total-items=\"$ctrl.state.totalFilteredDataSet\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"portainer.endpoints.endpoint({id: item.Id})\">{{ item.Name }}</a>\\n              </td>\\n              <td>\\n                <span>\\n                  <i ng-class=\"item.Type | endpointtypeicon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  {{ item.Type | endpointtypename }}\\n                </span>\\n              </td>\\n              <td>\\n                <span ng-if=\"item.Type !== 4\">{{ item.URL | stripprotocol }}</span>\\n                <span ng-if=\"item.Type === 4\">-</span>\\n              </td>\\n              <td>{{ item.GroupName }}</td>\\n              <td>\\n                <a ui-sref=\"portainer.endpoints.endpoint.access({id: item.Id})\"> <i class=\"fa fa-users\" aria-hidden=\"true\"></i> Manage access </a>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.loading\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.state.loading && $ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No environment available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"!$ctrl.state.loading\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" on-page-change=\"$ctrl.onPageChange(newPageNumber, oldPageNumber)\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},29656:function(e){var t=\"app/portainer/components/datatables/filter/datatable-filter.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div uib-dropdown dropdown-append-to-body auto-close=\"outsideClick\" is-open=\"$ctrl.isOpen\">\\n  <span ng-transclude></span>\\n  <div class=\"filter-button\">\\n    <span uib-dropdown-toggle class=\"table-filter\" ng-class=\"{ \\'filter-active\\': $ctrl.isEnabled() }\">\\n      Filter\\n      <i class=\"fa\" ng-class=\"[$ctrl.isEnabled() ? \\'fa-check\\' : \\'fa-filter\\']\" aria-hidden=\"true\"></i>\\n    </span>\\n  </div>\\n  <div class=\"dropdown-menu\" style=\"min-width: 0\" uib-dropdown-menu>\\n    <div class=\"tableMenu\">\\n      <div class=\"menuContent\">\\n        <div class=\"md-checkbox\" ng-repeat=\"filter in $ctrl.labels track by filter.value\">\\n          <input\\n            id=\"filter_{{ $ctrl.filterKey }}_{{ $index }}\"\\n            type=\"checkbox\"\\n            ng-value=\"filter.value\"\\n            ng-checked=\"$ctrl.state.includes(filter.value)\"\\n            ng-click=\"$ctrl.onChangeItem(filter.value)\"\\n          />\\n          <label for=\"filter_{{ $ctrl.filterKey }}_{{ $index }}\">\\n            {{ filter.label }}\\n          </label>\\n        </div>\\n      </div>\\n      <div>\\n        <a class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.isOpen = false;\"> Close </a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},34095:function(e){var t=\"app/portainer/components/datatables/groups-datatable/groupsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"endpointGroup-removeGroupButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"portainer.groups.new\" data-cy=\"endpointGroup-addGroupButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add group\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"endpointGroup-searchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"endpointGroup-endpointGroupTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" data-cy=\"endpointGroup-selectAllCheckbox\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Actions</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"portainer.groups.group({id: item.Id})\">{{ item.Name }}</a>\\n              </td>\\n              <td>\\n                <a ui-sref=\"portainer.groups.group.access({id: item.Id})\"> <i class=\"fa fa-users\" aria-hidden=\"true\"></i> Manage access </a>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No group available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},5050:function(e){var t=\"app/portainer/components/datatables/pagination/pagination.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"paginationControls\">\\n  <form class=\"form-inline\">\\n    <span class=\"limitSelector\">\\n      <span style=\"margin-right: 5px\"> Items per page </span>\\n      <select class=\"form-control\" ng-model=\"$ctrl.limit\" ng-change=\"$ctrl.onChangeLimit($ctrl.limit)\">\\n        <option ng-if=\"$ctrl.enableNoLimit\" ng-value=\"0\">All</option>\\n        <option ng-value=\"10\">10</option>\\n        <option ng-value=\"25\">25</option>\\n        <option ng-value=\"50\">50</option>\\n        <option ng-value=\"100\">100</option>\\n      </select>\\n    </span>\\n    <dir-pagination-controls max-size=\"5\" on-page-change=\"$ctrl.onChangePage(newPageNumber)\"> </dir-pagination-controls>\\n  </form>\\n</div>\\n')}]),e.exports=t},81853:function(e){var t=\"app/portainer/components/datatables/registries-datatable/registriesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\" ng-if=\"$ctrl.isAdmin\">\\n        <button\\n          ng-if=\"!$ctrl.endpointType\"\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"portainer.registries.new\" data-cy=\"add-registry\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add registry\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin && !$ctrl.endpointType\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'URL\\')\">\\n                  URL\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'URL\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'URL\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Actions</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr>\\n              <td>\\n                <span class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin && !$ctrl.endpointType\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" disabled />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <span>DockerHub (anonymous)</span>\\n              </td>\\n              <td> docker.io </td>\\n              <td> - </td>\\n            </tr>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin && !$ctrl.endpointType\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"!$ctrl.allowSelection(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"portainer.registries.registry({id: item.Id})\" ng-if=\"$ctrl.enableGoToLink(item)\">{{ item.Name }}</a>\\n                <span ng-if=\"!$ctrl.enableGoToLink(item)\">{{ item.Name }}</span>\\n                <span ng-if=\"item.Authentication\" style=\"margin-left: 5px\" class=\"label label-info image-tag\">authentication-enabled</span>\\n              </td>\\n              <td>\\n                {{ item.URL }}\\n              </td>\\n              <td>\\n                <a ng-if=\"$ctrl.canManageAccess(item)\" ng-click=\"$ctrl.redirectToManageAccess(item)\"> <i class=\"fa fa-users\" aria-hidden=\"true\"></i> Manage access </a>\\n                <be-feature-indicator feature=\"$ctrl.limitedFeature\" ng-if=\"$ctrl.canBrowse(item)\">\\n                  <span class=\"text-muted space-left\" style=\"padding-right: 5px\"> <i class=\"fa fa-search\" aria-hidden=\"true\"></i> Browse</span>\\n                </be-feature-indicator>\\n\\n                <span ng-if=\"!$ctrl.canBrowse(item) && !$ctrl.canManageAccess(item)\"> - </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},15369:function(e){var t=\"app/portainer/components/datatables/searchbar/datatable-searchbar.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"searchBar\">\\n  <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n  <input type=\"text\" class=\"searchInput\" ng-model=\"$ctrl.filter\" ng-change=\"$ctrl.onChange($ctrl.filter)\" placeholder=\"Search...\" ng-model-options=\"{ debounce: 300 }\" />\\n</div>\\n')}]),e.exports=t},39477:function(e){var t=\"app/portainer/components/datatables/sort-icon/datatable-sort-icon.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<i\\n  class=\"fa fa-sort-alpha-down\"\\n  ng-class=\"{\\n    \\'fa-sort-alpha-down\\': !$ctrl.reverseOrder,\\n    \\'fa-sort-alpha-up\\': $ctrl.reverseOrder,\\n  }\"\\n  aria-hidden=\"true\"\\n  ng-if=\"$ctrl.isCurrentSortOrder()\"\\n></i>\\n')}]),e.exports=t},68861:function(e){var t=\"app/portainer/components/datatables/stacks-datatable/stacksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"><i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <datatable-columns-visibility columns=\"$ctrl.columnVisibility.columns\" on-change=\"($ctrl.onColumnVisibilityChange)\"></datatable-columns-visibility>\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\"> Table settings </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input id=\"setting_all_orphaned_stacks\" type=\"checkbox\" ng-model=\"$ctrl.settings.allOrphanedStacks\" ng-change=\"$ctrl.onSettingsAllOrphanedStacksChange()\" />\\n                      <label for=\"setting_all_orphaned_stacks\">Show all orphaned stacks</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\"> Refresh rate </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\" ng-if=\"!$ctrl.offlineMode\" authorization=\"PortainerStackCreate, PortainerStackDelete\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          authorization=\"PortainerStackDelete\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"stack-removeStackButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button\\n          ng-disabled=\"!$ctrl.createEnabled\"\\n          type=\"button\"\\n          class=\"btn btn-sm btn-primary\"\\n          ui-sref=\"docker.stacks.newstack\"\\n          authorization=\"PortainerStackCreate\"\\n          data-cy=\"stack-addStackButton\"\\n        >\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add stack\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"stack-searchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"stack-stackTable\">\\n          <thead>\\n            <tr>\\n              <th uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.filters.state.open\">\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\" authorization=\"PortainerStackCreate, PortainerStackDelete\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n                <div>\\n                  <span uib-dropdown-toggle ng-class=\"[\\'table-filter\\', { \\'filter-active\\': $ctrl.filters.state.enabled }]\">\\n                    Filter\\n                    <i ng-class=\"[\\'fa\\', { \\'fa-filter\\': !$ctrl.filters.state.enabled, \\'fa-check\\': $ctrl.filters.state.enabled }]\" aria-hidden=\"true\"></i>\\n                  </span>\\n                </div>\\n                <div class=\"dropdown-menu\" uib-dropdown-menu>\\n                  <div class=\"tableMenu\">\\n                    <div class=\"menuHeader\"> Filter by activity </div>\\n                    <div class=\"menuContent\">\\n                      <div class=\"md-checkbox\">\\n                        <input id=\"filter_usage_activeStacks\" type=\"checkbox\" ng-model=\"$ctrl.filters.state.showActiveStacks\" ng-change=\"$ctrl.onFilterChange()\" />\\n                        <label for=\"filter_usage_activeStacks\">Active stacks</label>\\n                      </div>\\n                      <div class=\"md-checkbox\">\\n                        <input id=\"filter_usage_unactiveStacks\" type=\"checkbox\" ng-model=\"$ctrl.filters.state.showUnactiveStacks\" ng-change=\"$ctrl.onFilterChange()\" />\\n                        <label for=\"filter_usage_unactiveStacks\">Inactive stacks</label>\\n                      </div>\\n                    </div>\\n                    <div>\\n                      <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.filters.state.open = false;\">Close</a>\\n                    </div>\\n                  </div>\\n                </div>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n                  Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Control</th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.CreationDate\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.columnVisibility.columns.updated.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.UpdateDate\\')\">\\n                  Updated\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.UpdateDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.UpdateDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\" authorization=\"PortainerStackCreate, PortainerStackDelete\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"!$ctrl.allowSelection(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a\\n                  ng-if=\"!$ctrl.offlineMode\"\\n                  ui-sref=\"docker.stacks.stack({ name: item.Name, id: item.Id, type: item.Type, regular: item.Regular, external: item.External, orphaned: item.Orphaned, orphanedRunning: item.OrphanedRunning })\"\\n                  >{{ item.Name }}</a\\n                >\\n                <span ng-if=\"$ctrl.offlineMode\">{{ item.Name }}</span>\\n                <span ng-if=\"item.Regular && item.Status == 2\" style=\"margin-left: 10px\" class=\"label label-warning image-tag space-left\">Inactive</span>\\n              </td>\\n              <td>{{ item.Type === 1 ? \\'Swarm\\' : \\'Compose\\' }}</td>\\n              <td>\\n                <span\\n                  ng-if=\"item.Orphaned\"\\n                  class=\"interactive\"\\n                  tooltip-append-to-body=\"true\"\\n                  tooltip-placement=\"bottom\"\\n                  tooltip-class=\"portainer-tooltip\"\\n                  uib-tooltip=\"This stack was created inside an environment that is no longer registered inside Portainer.\"\\n                >\\n                  Orphaned <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-left: 2px\"></i>\\n                </span>\\n                <span\\n                  ng-if=\"item.External\"\\n                  class=\"interactive\"\\n                  tooltip-append-to-body=\"true\"\\n                  tooltip-placement=\"bottom\"\\n                  tooltip-class=\"portainer-tooltip\"\\n                  uib-tooltip=\"This stack was created outside of Portainer. Control over this stack is limited.\"\\n                >\\n                  Limited <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-left: 2px\"></i>\\n                </span>\\n                <span ng-if=\"item.Regular\">Total</span>\\n              </td>\\n              <td>\\n                <span ng-if=\"item.CreationDate\">{{ item.CreationDate | getisodatefromtimestamp }} {{ item.CreatedBy ? \\'by \\' + item.CreatedBy : \\'\\' }}</span>\\n                <span ng-if=\"!item.CreationDate\"> - </span>\\n              </td>\\n              <td ng-if=\"$ctrl.columnVisibility.columns.updated.display\">\\n                <span ng-if=\"item.UpdateDate\">{{ item.UpdateDate | getisodatefromtimestamp }} {{ item.UpdatedBy ? \\'by \\' + item.UpdatedBy : \\'\\' }}</span>\\n                <span ng-if=\"!item.UpdateDate\"> - </span>\\n              </td>\\n              <td>\\n                <span>\\n                  <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\" data-cy=\"stacks-loadingTableRow\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\" data-cy=\"stacks-noStackTableRow\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">No stack available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\">\\n          {{ $ctrl.state.selectedItemCount }}\\n          item(s) selected\\n        </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},83287:function(e){var t=\"app/portainer/components/datatables/strings-datatable/strings-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"{{ $ctrl.titleIcon }}\" title-text=\"{{ $ctrl.titleText }}\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.onRemove($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  {{ $ctrl.columnHeader }}\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index\"\\n              ng-class=\"{ active: $ctrl.state.selectedItems.includes(item) }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input\\n                    id=\"select_{{ $index }}\"\\n                    type=\"checkbox\"\\n                    ng-checked=\"$ctrl.state.selectedItems.includes(item)\"\\n                    ng-disabled=\"$ctrl.disableRemove(item)\"\\n                    ng-click=\"$ctrl.selectItem(item, $event)\"\\n                  />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                {{ item.value }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td class=\"text-center text-muted\">{{ $ctrl.emptyDatasetMessage }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},30908:function(e){var t=\"app/portainer/components/datatables/tags-datatable/tagsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                {{ item.Name }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"1\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"1\" class=\"text-center text-muted\">No tag available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},80155:function(e){var t=\"app/portainer/components/datatables/teams-datatable/teamsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\" ng-show=\"$ctrl.isAdmin\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\" ng-show=\"$ctrl.isAdmin\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" ng-show=\"$ctrl.isAdmin\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"portainer.teams.team({id: item.Id})\">{{ item.Name }}</a>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td class=\"text-center text-muted\">No team available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},10049:function(e){var t=\"app/portainer/components/datatables/titlebar/datatable-titlebar.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"toolBar\">\\n  <div class=\"toolBarTitle\">\\n    <i class=\"fa\" ng-class=\"$ctrl.icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n    <span style=\"margin-right: 10px\">{{ $ctrl.title }}</span>\\n    <be-feature-indicator feature=\"$ctrl.feature\"></be-feature-indicator>\\n  </div>\\n</div>\\n')}]),e.exports=t},63978:function(e){var t=\"app/portainer/components/datatables/users-datatable/usersDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\" ng-show=\"$ctrl.isAdmin\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"user-removeUserButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"user-userTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\" ng-show=\"$ctrl.isAdmin\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Username\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Username\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Username\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'RoleName\\')\">\\n                  Role\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'RoleName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'RoleName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'AuthenticationMethod\\')\">\\n                  Authentication\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'AuthenticationMethod\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'AuthenticationMethod\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" ng-show=\"$ctrl.isAdmin\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"!$ctrl.allowSelection(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"portainer.users.user({id: item.Id})\" ng-show=\"$ctrl.isAdmin\">{{ item.Username }}</a>\\n                <span ng-show=\"!$ctrl.isAdmin\">{{ item.Username }}</span>\\n              </td>\\n              <td>\\n                <span>\\n                  <i class=\"fa fa-user-circle\" aria-hidden=\"true\" style=\"margin-right: 5px\" ng-if=\"item.Role === 1 && !item.isTeamLeader\"></i>\\n                  <i class=\"fa fa-user-plus\" aria-hidden=\"true\" style=\"margin-right: 5px\" ng-if=\"item.Role !== 1 && item.isTeamLeader\"></i>\\n                  <i class=\"fa fa-user\" aria-hidden=\"true\" style=\"margin-right: 5px\" ng-if=\"item.Role !== 1 && !item.isTeamLeader\"></i>\\n                  {{ item.RoleName ? item.RoleName : \\'-\\' }}\\n                </span>\\n              </td>\\n              <td>\\n                <span ng-if=\"item.Id === 1 || ($ctrl.authenticationMethod !== 2 && $ctrl.authenticationMethod !== 3)\">Internal</span>\\n                <span ng-if=\"item.Id !== 1 && $ctrl.authenticationMethod === 2\">LDAP</span>\\n                <span ng-if=\"item.Id !== 1 && $ctrl.authenticationMethod === 3\">OAuth</span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No user available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},86943:function(e){var t=\"app/portainer/components/demo-feature-indicator/demo-feature-indicator.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"row\" ng-if=\"$ctrl.isDemo\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-exclamation-triangle\" title-text=\"Feature not available\"> </rd-widget-header>\\n      <rd-widget-body>\\n        <span class=\"small text-muted\">{{ $ctrl.content }}</span>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},2241:function(e){var t=\"app/portainer/components/endpoint-selector/endpointSelector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ui-select ng-model=\"$ctrl.model\">\\n  <ui-select-match placeholder=\"Select an environment\">\\n    <span>{{ $select.selected.Name }}</span>\\n  </ui-select-match>\\n  <ui-select-choices group-by=\"$ctrl.groupEndpoints\" group-filter=\"$ctrl.sortGroups\" repeat=\"endpoint in ($ctrl.endpoints | filter: $select.search) track by endpoint.Id\">\\n    <span>{{ endpoint.Name }}</span>\\n  </ui-select-choices>\\n</ui-select>\\n')}]),e.exports=t},9062:function(e){var t=\"app/portainer/components/endpointSecurity/porEndpointSecurity.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div>\\n  \\x3c!-- tls-checkbox --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <label for=\"tls\" class=\"control-label text-left\">\\n        TLS\\n        <portainer-tooltip position=\"bottom\" message=\"Enable this option if you need to connect to the Docker environment with TLS.\"></portainer-tooltip>\\n      </label>\\n      <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"$ctrl.formData.TLS\" /><i></i> </label>\\n    </div>\\n  </div>\\n  \\x3c!-- !tls-checkbox --\\x3e\\n  <div class=\"col-sm-12 form-section-title\" ng-if=\"$ctrl.formData.TLS\"> TLS mode </div>\\n  \\x3c!-- note --\\x3e\\n  <div class=\"form-group\" ng-if=\"$ctrl.formData.TLS\">\\n    <div class=\"col-sm-12\">\\n      <span class=\"small text-muted\">\\n        You can find out more information about how to protect a Docker environment with TLS in the\\n        <a href=\"https://docs.docker.com/engine/security/https/\" target=\"_blank\">Docker documentation</a>.\\n      </span>\\n    </div>\\n  </div>\\n  <div class=\"form-group\"></div>\\n  \\x3c!-- endpoint-tls-mode --\\x3e\\n  <div class=\"form-group\" style=\"margin-bottom: 0\" ng-if=\"$ctrl.formData.TLS\">\\n    <div class=\"boxselector_wrapper\">\\n      <div>\\n        <input type=\"radio\" id=\"tls_client_ca\" ng-model=\"$ctrl.formData.TLSMode\" value=\"tls_client_ca\" />\\n        <label for=\"tls_client_ca\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-shield-alt\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            TLS with server and client verification\\n          </div>\\n          <p>Use client certificates and server verification</p>\\n        </label>\\n      </div>\\n      <div>\\n        <input type=\"radio\" id=\"tls_client_noca\" ng-model=\"$ctrl.formData.TLSMode\" value=\"tls_client_noca\" />\\n        <label for=\"tls_client_noca\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-shield-alt\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            TLS with client verification only\\n          </div>\\n          <p>Use client certificates without server verification</p>\\n        </label>\\n      </div>\\n      <div>\\n        <input type=\"radio\" id=\"tls_ca\" ng-model=\"$ctrl.formData.TLSMode\" value=\"tls_ca\" />\\n        <label for=\"tls_ca\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-shield-alt\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            TLS with server verification only\\n          </div>\\n          <p>Only verify the server certificate</p>\\n        </label>\\n      </div>\\n      <div>\\n        <input type=\"radio\" id=\"tls_only\" ng-model=\"$ctrl.formData.TLSMode\" value=\"tls_only\" />\\n        <label for=\"tls_only\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-shield-alt\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            TLS only\\n          </div>\\n          <p>No server/client verification</p>\\n        </label>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !endpoint-tls-mode --\\x3e\\n  <div class=\"col-sm-12 form-section-title\" ng-if=\"$ctrl.formData.TLS && $ctrl.formData.TLSMode !== \\'tls_only\\'\"> Required TLS files </div>\\n  \\x3c!-- tls-file-upload --\\x3e\\n  <div ng-if=\"$ctrl.formData.TLS\">\\n    \\x3c!-- tls-file-ca --\\x3e\\n    <div class=\"form-group\" ng-if=\"$ctrl.formData.TLSMode === \\'tls_client_ca\\' || $ctrl.formData.TLSMode === \\'tls_ca\\'\">\\n      <label class=\"col-sm-3 col-lg-2 control-label text-left\">TLS CA certificate</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.formData.TLSCACert\">Select file</button>\\n        <span style=\"margin-left: 5px\">\\n          {{ $ctrl.formData.TLSCACert.name }}\\n          <i class=\"fa fa-check green-icon\" ng-if=\"$ctrl.formData.TLSCACert && $ctrl.formData.TLSCACert === $ctrl.endpoint.TLSConfig.TLSCACert\" aria-hidden=\"true\"></i>\\n          <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formData.TLSCACert\" aria-hidden=\"true\"></i>\\n        </span>\\n      </div>\\n    </div>\\n    \\x3c!-- !tls-file-ca --\\x3e\\n    \\x3c!-- tls-files-cert-key --\\x3e\\n    <div ng-if=\"$ctrl.formData.TLSMode === \\'tls_client_ca\\' || $ctrl.formData.TLSMode === \\'tls_client_noca\\'\">\\n      \\x3c!-- tls-file-cert --\\x3e\\n      <div class=\"form-group\">\\n        <label for=\"tls_cert\" class=\"col-sm-3 col-lg-2 control-label text-left\">TLS certificate</label>\\n        <div class=\"col-sm-9 col-lg-10\">\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.formData.TLSCert\">Select file</button>\\n          <span style=\"margin-left: 5px\">\\n            {{ $ctrl.formData.TLSCert.name }}\\n            <i class=\"fa fa-check green-icon\" ng-if=\"$ctrl.formData.TLSCert && $ctrl.formData.TLSCert === $ctrl.endpoint.TLSConfig.TLSCert\" aria-hidden=\"true\"></i>\\n            <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formData.TLSCert\" aria-hidden=\"true\"></i>\\n          </span>\\n        </div>\\n      </div>\\n      \\x3c!-- !tls-file-cert --\\x3e\\n      \\x3c!-- tls-file-key --\\x3e\\n      <div class=\"form-group\">\\n        <label class=\"col-sm-3 col-lg-2 control-label text-left\">TLS key</label>\\n        <div class=\"col-sm-9 col-lg-10\">\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.formData.TLSKey\">Select file</button>\\n          <span style=\"margin-left: 5px\">\\n            {{ $ctrl.formData.TLSKey.name }}\\n            <i class=\"fa fa-check green-icon\" ng-if=\"$ctrl.formData.TLSKey && $ctrl.formData.TLSKey === $ctrl.endpoint.TLSConfig.TLSKey\" aria-hidden=\"true\"></i>\\n            <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formData.TLSKey\" aria-hidden=\"true\"></i>\\n          </span>\\n        </div>\\n      </div>\\n      \\x3c!-- !tls-file-key --\\x3e\\n    </div>\\n    \\x3c!-- tls-files-cert-key --\\x3e\\n  </div>\\n  \\x3c!-- !tls-file-upload --\\x3e\\n</div>\\n')}]),e.exports=t},94176:function(e){var t=\"app/portainer/components/environment-variables-panel/environment-variables-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form class=\"form-horizontal environment-variables-panel\" name=\"$ctrl.envVarsForm\">\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 10px; margin-left: 15px; width: 98%\"> Environment variables </div>\\n    <div class=\"col-sm-12 environment-variables-panel--explanation\">\\n      {{::$ctrl.explanation}}\\n    </div>\\n\\n    <environment-variables-simple-mode\\n      ng-if=\"$ctrl.mode == \\'simple\\'\"\\n      ng-model=\"$ctrl.ngModel\"\\n      on-change=\"($ctrl.handleSimpleChange)\"\\n      on-switch-mode-click=\"($ctrl.switchEnvMode)\"\\n    ></environment-variables-simple-mode>\\n\\n    <div ng-if=\"$ctrl.mode == \\'advanced\\'\" class=\"environment-variables-panel--advanced\">\\n      <div class=\"col-sm-12\">\\n        <a class=\"small interactive\" ng-click=\"$ctrl.switchEnvMode()\"> <i class=\"fa fa-list-ol space-right\" aria-hidden=\"true\"></i> Simple mode </a>\\n      </div>\\n      <div class=\"col-sm-12 small text-muted\">\\n        <i class=\"fa fa-info-circle blue-icon space-right\" aria-hidden=\"true\"></i>\\n        Switch to simple mode to define variables line by line, or load from .env file\\n      </div>\\n      <div class=\"form-group\" style=\"margin-left: 1px\">\\n        <code-editor identifier=\"environment-variables-editor\" placeholder=\"e.g. key=value\" value=\"$ctrl.editorText\" yml=\"false\" on-change=\"($ctrl.editorUpdate)\"></code-editor>\\n      </div>\\n    </div>\\n  </div>\\n</ng-form>\\n')}]),e.exports=t},52927:function(e){var t=\"app/portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode-item/environment-variables-simple-mode-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form class=\"env-item\" name=\"$ctrl.{{ $ctrl.formName }}\">\\n  <div class=\"col-sm-5\">\\n    <div class=\"input-group input-group-sm env-item-key w-full\">\\n      <span class=\"input-group-addon\">name</span>\\n      <input\\n        type=\"text\"\\n        name=\"name\"\\n        class=\"form-control\"\\n        placeholder=\"e.g. FOO\"\\n        ng-model=\"$ctrl.variable.name\"\\n        ng-disabled=\"$ctrl.variable.added\"\\n        ng-change=\"$ctrl.onChangeName($ctrl.variable.name)\"\\n        required\\n      />\\n    </div>\\n    <div class=\"form-group\" style=\"margin-top: 5px\" ng-show=\"$ctrl[$ctrl.formName].name.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"$ctrl[$ctrl.formName].name.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Name is required. </p>\\n          <p ng-message=\"pattern\">\\n            <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n            This field must consist alphanumeric characters, \\'-\\' or \\'_\\', start with an alphabetic character, and end with an alphanumeric character (e.g. \\'my-var\\', or \\'MY_VAR123\\').\\n          </p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div ng-if=\"$ctrl.hasValue()\" class=\"col-sm-6\">\\n    <div class=\"w-full env-item-value\">\\n      <div class=\"input-group input-group-sm\">\\n        <span class=\"input-group-addon\">value</span>\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          ng-model=\"$ctrl.variable.value\"\\n          placeholder=\"e.g. bar\"\\n          ng-trim=\"false\"\\n          name=\"value\"\\n          ng-change=\"$ctrl.onChangeValue($ctrl.variable.value)\"\\n        />\\n      </div>\\n      <button class=\"btn btn-sm btn-primary\" type=\"button\" ng-click=\"$ctrl.removeValue()\"> <i class=\"fa fa-minus\" aria-hidden=\"true\"></i> Remove value </button>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"$ctrl[$ctrl.formName].value.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"$ctrl[$ctrl.formName].value.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Value is required. </p>\\n          <p ng-message=\"pattern\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Value is invalid. </p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div>\\n    <button class=\"btn btn-sm btn-primary\" type=\"button\" ng-if=\"!$ctrl.hasValue()\" ng-click=\"$ctrl.onChangeValue(\\'\\')\">\\n      <i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Add value\\n    </button>\\n    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.onRemove($ctrl.index)\">\\n      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n    </button>\\n  </div>\\n</ng-form>\\n')}]),e.exports=t},9277:function(e){var t=\"app/portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"environment-variables-simple-mode\">\\n  <div class=\"col-sm-12\">\\n    <a class=\"small interactive\" ng-click=\"$ctrl.onSwitchModeClick()\"> <i class=\"fa fa-list-ol space-right\" aria-hidden=\"true\"></i> Advanced mode </a>\\n  </div>\\n  <div class=\"col-sm-12 small text-muted\">\\n    <i class=\"fa fa-info-circle blue-icon space-right\" aria-hidden=\"true\"></i>\\n    Switch to advanced mode to copy & paste multiple variables\\n  </div>\\n  <div class=\"col-sm-12 environment-variables-simple-mode--actions\">\\n    <button type=\"button\" class=\"btn btn-sm btn-default\" ng-click=\"$ctrl.add()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Add an environment variable </button>\\n    <button\\n      type=\"button\"\\n      class=\"btn btn-sm btn-default\"\\n      ngf-select=\"$ctrl.addFromFile($file)\"\\n      ngf-accept=\"\\'.env\\'\"\\n      ngf-pattern=\"\\'.env\\'\"\\n      ngf-max-size=\"1MB\"\\n      ngf-model-invalid=\"errorFile\"\\n    >\\n      <i class=\"fa fa-file-upload\" aria-hidden=\"true\"></i> Load variables from .env file\\n    </button>\\n    <span class=\"space-left\" ng-if=\"errorFile.$error == \\'maxSize\\'\">\\n      <i class=\"fa fa-times red-icon space-right\" aria-hidden=\"true\"></i>\\n      File too large! Try uploading a file smaller than 1MB\\n    </span>\\n  </div>\\n  <div class=\"col-sm-12 form-inline env-items-list\">\\n    <environment-variables-simple-mode-item\\n      ng-repeat=\"variable in $ctrl.ngModel\"\\n      variable=\"variable\"\\n      index=\"$index\"\\n      on-change=\"($ctrl.onChangeVariable)\"\\n      on-remove=\"($ctrl.remove)\"\\n    ></environment-variables-simple-mode-item>\\n  </div>\\n</div>\\n')}]),e.exports=t},49424:function(e){var t=\"app/portainer/components/form-components/file-upload-form/file-upload-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form class=\"file-upload-form\" name=\"$ctrl.fileUploadForm\">\\n  <div class=\"col-sm-12 form-section-title\"> Upload </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\" ng-transclude=\"description\"> </span>\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <file-upload-field on-change=\"($ctrl.onChange)\" required=\"($ctrl.ngRequired)\" value=\"($ctrl.file)\"></file-upload-field>\\n    </div>\\n  </div>\\n</ng-form>\\n')}]),e.exports=t},57582:function(e){var t=\"app/portainer/components/form-components/web-editor-form/web-editor-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form name=\"$ctrl.webEditorForm\">\\n  <div class=\"col-sm-12 form-section-title\"> Web editor </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\" ng-transclude=\"description\"> </span>\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <code-editor identifier=\"{{ $ctrl.identifier }}\" placeholder=\"{{ $ctrl.placeholder }}\" yml=\"$ctrl.yml\" value=\"$ctrl.value\" on-change=\"($ctrl.editorUpdate)\"></code-editor>\\n    </div>\\n  </div>\\n</ng-form>\\n')}]),e.exports=t},10852:function(e){var t=\"app/portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-file-item/git-form-additional-file-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form class=\"env-item form-horizontal\" name=\"$ctrl.{{ $ctrl.formName }}\">\\n  <div class=\"form-group col-sm-12\">\\n    <div class=\"form-inline\" style=\"margin-top: 10px\">\\n      <div class=\"input-group col-sm-5 input-group-sm\">\\n        <span class=\"input-group-addon\">path</span>\\n        <input\\n          type=\"text\"\\n          name=\"name\"\\n          class=\"form-control\"\\n          ng-model=\"$ctrl.variable\"\\n          ng-change=\"$ctrl.onChangePath($ctrl.variable)\"\\n          ng-pattern=\"/.+\\\\.(yml|yaml|json|hcl)$/i\"\\n          required\\n        />\\n      </div>\\n      <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.removeValue()\">\\n        <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n      </button>\\n    </div>\\n    <div ng-show=\"$ctrl[$ctrl.formName].name.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"$ctrl[$ctrl.formName].name.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Path is required. </p>\\n          <p ng-message=\"pattern\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> File path must include yaml, yml, json, or hcl extension </p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</ng-form>\\n')}]),e.exports=t},65568:function(e){var t=\"app/portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-files-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"form-group\">\\n  <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n    <label class=\"control-label text-left\">Additional paths</label>\\n    <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"$ctrl.add()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add file </span>\\n  </div>\\n  <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n    <git-form-additional-file-item\\n      ng-repeat=\"variable in $ctrl.model.AdditionalFiles track by $index\"\\n      variable=\"variable\"\\n      index=\"$index\"\\n      on-change=\"($ctrl.onChangeVariable)\"\\n    ></git-form-additional-file-item>\\n  </div>\\n</div>\\n')}]),e.exports=t},98173:function(e){var t=\"app/portainer/components/forms/git-form/git-form-auth-fieldset/git-form-auth-fieldset.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <por-switch-field\\n      checked=\"$ctrl.model.RepositoryAuthentication\"\\n      label=\"\\'Authentication\\'\"\\n      name=\"\\'authSwitch\\'\"\\n      on-change=\"($ctrl.onChangeAuth)\"\\n      data-cy=\"\\'component-gitAuthToggle\\'\"\\n    ></por-switch-field>\\n  </div>\\n</div>\\n<div class=\"small text-warning\" style=\"margin: 5px 0 15px 0\" ng-if=\"$ctrl.model.RepositoryAuthentication && $ctrl.showAuthExplanation\">\\n  <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i>\\n  <span class=\"text-muted\">Enabling authentication will store the credentials and it is advisable to use a git service account</span>\\n</div>\\n<div ng-if=\"$ctrl.model.RepositoryAuthentication\">\\n  <div class=\"form-group\">\\n    <label for=\"repository_username\" class=\"control-label text-left inline-label\"> Username </label>\\n    <div class=\"inline-input\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        ng-model=\"$ctrl.model.RepositoryUsername\"\\n        name=\"repository_username\"\\n        placeholder=\"git username\"\\n        ng-change=\"$ctrl.onChangeUsername($ctrl.model.RepositoryUsername)\"\\n        data-cy=\"component-gitUsernameInput\"\\n      />\\n    </div>\\n  </div>\\n  <div class=\"form-group\">\\n    <label for=\"repository_password\" class=\"control-label text-left inline-label\">\\n      Personal Access Token\\n      <portainer-tooltip position=\"bottom\" message=\"Provide a personal access token or password\"></portainer-tooltip>\\n    </label>\\n    <div class=\"inline-input\">\\n      <input\\n        type=\"password\"\\n        class=\"form-control\"\\n        ng-model=\"$ctrl.model.RepositoryPassword\"\\n        name=\"repository_password\"\\n        placeholder=\"*******\"\\n        ng-change=\"$ctrl.onChangePassword($ctrl.model.RepositoryPassword)\"\\n        ng-required=\"!$ctrl.isEdit\"\\n        data-cy=\"component-gitPasswordInput\"\\n      />\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},17560:function(e){var t=\"app/portainer/components/forms/git-form/git-form-auto-update-fieldset/git-form-auto-update-fieldset.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form name=\"autoUpdateForm\">\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <por-switch-field name=\"\\'autoUpdate\\'\" checked=\"$ctrl.model.RepositoryAutomaticUpdates\" label=\"\\'Automatic Updates\\'\" on-change=\"($ctrl.onChangeAutoUpdate)\"></por-switch-field>\\n    </div>\\n  </div>\\n  <div class=\"small text-warning\" style=\"margin: 5px 0 10px 0\" ng-if=\"$ctrl.model.RepositoryAutomaticUpdates\">\\n    <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i>\\n    <span class=\"text-muted\">Any changes to this stack or application made locally in Portainer will be overridden, which may cause service interruption.</span>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.model.RepositoryAutomaticUpdates\">\\n    <label for=\"repository_mechanism\" class=\"col-sm-1 control-label text-left\"> Mechanism </label>\\n    <div class=\"col-sm-11\">\\n      <div class=\"input-group col-sm-10 input-group-sm\">\\n        <div class=\"btn-group btn-group-sm\">\\n          <label class=\"btn btn-primary\" ng-click=\"$ctrl.onChangeMechanism($ctrl.model.RepositoryMechanism)\" ng-model=\"$ctrl.model.RepositoryMechanism\" uib-btn-radio=\"\\'Interval\\'\"\\n            >Polling</label\\n          >\\n          <label class=\"btn btn-primary\" ng-click=\"$ctrl.onChangeMechanism($ctrl.model.RepositoryMechanism)\" ng-model=\"$ctrl.model.RepositoryMechanism\" uib-btn-radio=\"\\'Webhook\\'\"\\n            >Webhook</label\\n          >\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.model.RepositoryAutomaticUpdates && $ctrl.model.RepositoryMechanism === \\'Webhook\\'\">\\n    <label for=\"repository_mechanism\" class=\"col-sm-1 control-label text-left\"> Webhook </label>\\n    <div class=\"col-sm-11\">\\n      <span class=\"text-muted\"> {{ $ctrl.model.RepositoryWebhookURL | truncatelr }} </span>\\n      <button type=\"button\" class=\"btn btn-sm btn-primary btn-sm space-left\" ng-if=\"$ctrl.model.RepositoryWebhookURL\" ng-click=\"$ctrl.copyWebhook()\">\\n        <span><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy link</span>\\n      </button>\\n      <span>\\n        <i id=\"copyNotification\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none\"></i>\\n      </span>\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.model.RepositoryAutomaticUpdates && $ctrl.model.RepositoryMechanism === \\'Interval\\'\">\\n    <label for=\"repository_fetch_interval\" class=\"col-sm-1 control-label text-left\"> Fetch interval </label>\\n    <div class=\"col-sm-11\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        ng-change=\"$ctrl.onChangeInterval($ctrl.model.RepositoryFetchInterval)\"\\n        ng-model=\"$ctrl.model.RepositoryFetchInterval\"\\n        name=\"repository_fetch_interval\"\\n        placeholder=\"5m\"\\n        required\\n        interval-format\\n      />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.showForcePullImage && $ctrl.model.RepositoryAutomaticUpdates\">\\n    <div class=\"col-sm-12\">\\n      <por-switch-field name=\"forcePullImage\" feature-id=\"$ctrl.stackPullImageFeature\" checked=\"$ctrl.model.ForcePullImage\" label=\"\\'Pull latest image\\'\"> </por-switch-field>\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.model.RepositoryAutomaticUpdates\">\\n    <div class=\"col-sm-12\">\\n      <por-switch-field\\n        name=\"\\'forceUpdate\\'\"\\n        feature-id=\"$ctrl.limitedFeature\"\\n        checked=\"$ctrl.model.RepositoryAutomaticUpdatesForce\"\\n        label=\"\\'Force Redeployment\\'\"\\n        on-change=\"($ctrl.onChangeAutoUpdateForce)\"\\n      ></por-switch-field>\\n    </div>\\n  </div>\\n  <div class=\"small text-warning\" style=\"margin: 5px 0 10px 0\" ng-if=\"$ctrl.model.RepositoryAutomaticUpdates\">\\n    <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\"></i>\\n    <span class=\"text-muted\">When enabled, enforces automatic deployment at each interval or webhook invocation.</span>\\n  </div>\\n  <div class=\"form-group col-md-12\" ng-show=\"autoUpdateForm.repository_fetch_interval.$touched && autoUpdateForm.repository_fetch_interval.$invalid\">\\n    <div class=\"small text-warning\">\\n      <div ng-messages=\"autoUpdateForm.repository_fetch_interval.$error\">\\n        <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        <p ng-message=\"invalidIntervalFormat\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Please enter a valid time interval.</p>\\n        <p ng-message=\"minimumInterval\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum interval is 1m</p>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\"small text-warning\" style=\"margin: 5px 0 10px 0\" ng-if=\"!$ctrl.model.RepositoryAutomaticUpdates\">\\n    <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\"></i>\\n    <span class=\"text-muted\">When enabled, updates from the git repository will occur automatically at an interval or webhook.</span>\\n  </div>\\n</ng-form>\\n')}]),e.exports=t},6942:function(e){var t=\"app/portainer/components/forms/git-form/git-form-compose-path-field/git-form-compose-path-field.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form name=\"pathForm\">\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\"\\n      ><i class=\"fa fa-info-circle blue-icon space-right\" aria-hidden=\"true\"></i>Indicate the path to the {{ $ctrl.deployMethod == \\'compose\\' ? \\'Compose\\' : \\'Manifest\\' }} file from\\n      the root of your repository (requires a yaml, yml, json, or hcl file extension)\\n    </span>\\n  </div>\\n  <div class=\"form-group\">\\n    <label for=\"stack_repository_path\" class=\"col-sm-2 control-label text-left\">{{ $ctrl.deployMethod == \\'compose\\' ? \\'Compose\\' : \\'Manifest\\' }} path</label>\\n    <div class=\"col-sm-10\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        name=\"repoPathField\"\\n        ng-model=\"$ctrl.value\"\\n        ng-change=\"$ctrl.onChange($ctrl.value)\"\\n        id=\"stack_repository_path\"\\n        placeholder=\"{{ $ctrl.deployMethod == \\'compose\\' ? \\'docker-compose.yml\\' : \\'manifest.yml\\' }}\"\\n        ng-pattern=\"/.+\\\\.(yml|yaml|json|hcl)$/i\"\\n        required\\n      />\\n      <p class=\"mt-10 text-warning\" ng-show=\"pathForm.repoPathField.$error.pattern\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Invalid file path </p>\\n    </div>\\n  </div>\\n</ng-form>\\n')}]),e.exports=t},48037:function(e){var t=\"app/portainer/components/forms/git-form/git-form-info-panel/git-form-info-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"form-group\" ng-class=\"$ctrl.className\">\\n  <div class=\"col-sm-12\">\\n    <p>\\n      This {{ $ctrl.type }} was deployed from the git repository <code>{{ $ctrl.url }}</code>\\n      .\\n    </p>\\n    <p>\\n      Update\\n      <code\\n        >{{ $ctrl.configFilePath }}<span ng-if=\"$ctrl.additionalFiles.length > 0\">, {{ $ctrl.additionalFiles.join(\\',\\') }}</span></code\\n      >\\n      in git and pull from here to update the {{ $ctrl.type }}.\\n    </p>\\n  </div>\\n</div>\\n')}]),e.exports=t},6605:function(e){var t=\"app/portainer/components/forms/git-form/git-form-ref-field/git-form-ref-field.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"form-group\">\\n  <span class=\"col-sm-12 text-muted small\">\\n    Specify a reference of the repository using the following syntax: branches with <code>refs/heads/branch_name</code> or tags with <code>refs/tags/tag_name</code>. If not\\n    specified, will use the default <code>HEAD</code> reference normally the <code>master</code> branch.\\n  </span>\\n</div>\\n<div class=\"form-group\">\\n  <label for=\"stack_repository_reference_name\" class=\"col-sm-2 control-label text-left\">Repository reference</label>\\n  <div class=\"col-sm-10\">\\n    <input\\n      type=\"text\"\\n      class=\"form-control\"\\n      ng-model=\"$ctrl.value\"\\n      id=\"stack_repository_reference_name\"\\n      placeholder=\"refs/heads/master\"\\n      ng-change=\"$ctrl.onChange($ctrl.value)\"\\n      data-cy=\"component-gitRefInput\"\\n    />\\n  </div>\\n</div>\\n')}]),e.exports=t},53754:function(e){var t=\"app/portainer/components/forms/git-form/git-form-url-field/git-form-url-field.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"form-group\">\\n  <span class=\"col-sm-12 text-muted small\"> You can use the URL of a git repository. </span>\\n</div>\\n<div class=\"form-group\">\\n  <label for=\"stack_repository_url\" class=\"col-sm-2 control-label text-left\">Repository URL</label>\\n  <div class=\"col-sm-10\">\\n    <input\\n      type=\"text\"\\n      name=\"repoUrlField\"\\n      class=\"form-control\"\\n      ng-model=\"$ctrl.value\"\\n      ng-change=\"$ctrl.onChange($ctrl.value)\"\\n      id=\"stack_repository_url\"\\n      placeholder=\"https://github.com/portainer/portainer-compose\"\\n      data-cy=\"component-gitUrlInput\"\\n      required\\n    />\\n  </div>\\n</div>\\n')}]),e.exports=t},23283:function(e){var t=\"app/portainer/components/forms/git-form/git-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form name=\"$ctrl.gitForm\">\\n  <div class=\"col-sm-12 form-section-title\"> Git repository </div>\\n  <git-form-url-field value=\"$ctrl.model.RepositoryURL\" on-change=\"($ctrl.onChangeURL)\"></git-form-url-field>\\n  <git-form-ref-field value=\"$ctrl.model.RepositoryReferenceName\" on-change=\"($ctrl.onChangeRefName)\"></git-form-ref-field>\\n  <git-form-compose-path-field\\n    value=\"$ctrl.model.ComposeFilePathInRepository\"\\n    on-change=\"($ctrl.onChangeComposePath)\"\\n    deploy-method=\"{{ $ctrl.deployMethod }}\"\\n  ></git-form-compose-path-field>\\n\\n  <git-form-additional-files-panel ng-if=\"$ctrl.additionalFile\" model=\"$ctrl.model\" on-change=\"($ctrl.onChange)\"></git-form-additional-files-panel>\\n\\n  <git-form-auth-fieldset model=\"$ctrl.model\" on-change=\"($ctrl.onChange)\"></git-form-auth-fieldset>\\n\\n  <git-form-auto-update-fieldset\\n    ng-if=\"$ctrl.autoUpdate\"\\n    model=\"$ctrl.model\"\\n    on-change=\"($ctrl.onChange)\"\\n    show-force-pull-image=\"$ctrl.showForcePullImage\"\\n  ></git-form-auto-update-fieldset>\\n</ng-form>\\n')}]),e.exports=t},69688:function(e){var t=\"app/portainer/components/forms/group-form/groupForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" name=\"endpointGroupForm\">\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\" ng-class=\"{ \\'has-error\\': endpointGroupForm.group_name.$invalid }\">\\n    <label for=\"group_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" name=\"group_name\" ng-model=\"$ctrl.model.Name\" placeholder=\"e.g. my-group\" required auto-focus />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"endpointGroupForm.group_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"endpointGroupForm.group_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n  \\x3c!-- description-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"group_description\" class=\"col-sm-3 col-lg-2 control-label text-left\">Description</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"group_description\" ng-model=\"$ctrl.model.Description\" placeholder=\"e.g. production environments...\" />\\n    </div>\\n  </div>\\n  \\x3c!-- !description-input --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Metadata </div>\\n\\n  <tag-selector ng-if=\"$ctrl.model.TagIds\" value=\"$ctrl.model.TagIds\" on-change=\"($ctrl.onChangeTags)\" allow-create=\"$ctrl.state.allowCreateTag\"> </tag-selector>\\n\\n  \\x3c!-- environments --\\x3e\\n  <div ng-if=\"$ctrl.model.Id !== 1\">\\n    <div class=\"col-sm-12 form-section-title\"> Associated environments </div>\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12 small text-muted\">\\n        You can select which environment should be part of this group by moving them to the associated environments table. Simply click on any environment entry to move it from one\\n        table to the other.\\n      </div>\\n      <div class=\"col-sm-12\" style=\"margin-top: 20px\">\\n        \\x3c!-- available-endpoints --\\x3e\\n        <div class=\"col-sm-6\">\\n          <div class=\"text-center small text-muted\">Available environments</div>\\n          <div style=\"margin-top: 10px\">\\n            <group-association-table\\n              loaded=\"$ctrl.loaded\"\\n              page-type=\"$ctrl.pageType\"\\n              table-type=\"available\"\\n              retrieve-page=\"$ctrl.getPaginatedEndpointsByGroup\"\\n              dataset=\"$ctrl.availableEndpoints\"\\n              entry-click=\"$ctrl.associateEndpoint\"\\n              pagination-state=\"$ctrl.state.available\"\\n              empty-dataset-message=\"No environment available\"\\n              cy-value=\"available-endpoints\"\\n            ></group-association-table>\\n          </div>\\n        </div>\\n        \\x3c!-- !available-endpoints --\\x3e\\n        \\x3c!-- associated-endpoints --\\x3e\\n        <div class=\"col-sm-6\">\\n          <div class=\"text-center small text-muted\">Associated environments</div>\\n          <div style=\"margin-top: 10px\">\\n            <group-association-table\\n              loaded=\"$ctrl.loaded\"\\n              page-type=\"$ctrl.pageType\"\\n              table-type=\"associated\"\\n              retrieve-page=\"$ctrl.getPaginatedEndpointsByGroup\"\\n              dataset=\"$ctrl.associatedEndpoints\"\\n              entry-click=\"$ctrl.dissociateEndpoint\"\\n              pagination-state=\"$ctrl.state.associated\"\\n              empty-dataset-message=\"No associated environment\"\\n              has-backend-pagination=\"this.pageType !== \\'create\\'\"\\n              cy-value=\"associated-endpoints\"\\n            ></group-association-table>\\n          </div>\\n        </div>\\n        \\x3c!-- !associated-endpoints --\\x3e\\n      </div>\\n    </div>\\n  </div>\\n  <div ng-if=\"$ctrl.model.Id === 1\">\\n    <div class=\"col-sm-12 form-section-title\"> Unassociated environments </div>\\n    <div style=\"margin-top: 10px\">\\n      <group-association-table\\n        loaded=\"$ctrl.loaded\"\\n        page-type=\"$ctrl.pageType\"\\n        table-type=\"associated\"\\n        retrieve-page=\"$ctrl.getPaginatedEndpointsByGroup\"\\n        dataset=\"$ctrl.associatedEndpoints\"\\n        pagination-state=\"$ctrl.state.associated\"\\n        empty-dataset-message=\"No environment available\"\\n      ></group-association-table>\\n    </div>\\n  </div>\\n  \\x3c!-- !endpoints --\\x3e\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"button\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-click=\"$ctrl.formAction()\"\\n        ng-disabled=\"$ctrl.actionInProgress || !endpointGroupForm.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=t},5032:function(e){var t=\"app/portainer/components/forms/kubernetes-app-git-form/kubernetes-app-git-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form name=\"$ctrl.redeployGitForm\">\\n  <div class=\"col-sm-12 form-section-title\"> Redeploy from git repository </div>\\n  <div class=\"form-group text-muted\">\\n    <div class=\"col-sm-12\">\\n      <p> Pull the latest manifest from git and redeploy the application. </p>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <p>\\n        <a class=\"small interactive\" ng-click=\"$ctrl.state.showConfig = !$ctrl.state.showConfig\">\\n          <i ng-class=\"[\\'fa space-right\\', { \\'fa-minus\\': $ctrl.state.showConfig, \\'fa-plus\\': !$ctrl.state.showConfig }]\" aria-hidden=\"true\"></i>\\n          {{ $ctrl.state.showConfig ? \\'Hide\\' : \\'Advanced\\' }} configuration\\n        </a>\\n      </p>\\n    </div>\\n  </div>\\n  <git-form-ref-field ng-if=\"$ctrl.state.showConfig\" value=\"$ctrl.formValues.RefName\" on-change=\"($ctrl.onChangeRef)\"></git-form-ref-field>\\n  <git-form-auth-fieldset\\n    ng-if=\"$ctrl.state.showConfig\"\\n    model=\"$ctrl.formValues\"\\n    is-edit=\"$ctrl.state.isEdit\"\\n    on-change=\"($ctrl.onChange)\"\\n    show-auth-explanation=\"true\"\\n  ></git-form-auth-fieldset>\\n\\n  <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n  \\x3c!-- #Git buttons --\\x3e\\n  <button\\n    class=\"btn btn-sm btn-primary\"\\n    ng-click=\"$ctrl.pullAndRedeployApplication()\"\\n    ng-disabled=\"$ctrl.isSubmitButtonDisabled() || !$ctrl.redeployGitForm.$valid\"\\n    style=\"margin-top: 7px; margin-left: 0\"\\n    button-spinner=\"ctrl.state.redeployInProgress\"\\n    analytics-on\\n    analytics-category=\"kubernetes\"\\n    analytics-event=\"kubernetes-application-edit-git-pull\"\\n  >\\n    <span ng-show=\"!$ctrl.state.redeployInProgress\"> <i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i> Pull and update application </span>\\n    <span ng-show=\"$ctrl.state.redeployInProgress\">In progress...</span>\\n  </button>\\n  <button\\n    class=\"btn btn-sm btn-primary\"\\n    ng-click=\"$ctrl.saveGitSettings()\"\\n    ng-disabled=\"$ctrl.isSubmitButtonDisabled() || !$ctrl.redeployGitForm.$valid\"\\n    style=\"margin-top: 7px; margin-left: 0\"\\n    button-spinner=\"$ctrl.state.saveGitSettingsInProgress\"\\n  >\\n    <span ng-show=\"!$ctrl.state.saveGitSettingsInProgress\"> Save settings </span>\\n    <span ng-show=\"$ctrl.state.saveGitSettingsInProgress\">In progress...</span>\\n  </button>\\n</form>\\n')}]),e.exports=t},96927:function(e){var t=\"app/portainer/components/forms/kubernetes-redeploy-app-git-form/kubernetes-redeploy-app-git-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form name=\"$ctrl.redeployGitForm\">\\n  <div class=\"col-sm-12 form-section-title\"> Redeploy from git repository </div>\\n  <div class=\"form-group text-muted\">\\n    <div class=\"col-sm-12\">\\n      <p> Pull the latest manifest from git and redeploy the application. </p>\\n    </div>\\n  </div>\\n  <git-form-auto-update-fieldset model=\"$ctrl.formValues.AutoUpdate\" on-change=\"($ctrl.onChangeAutoUpdate)\"></git-form-auto-update-fieldset>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <p>\\n        <a class=\"small interactive\" ng-click=\"$ctrl.state.showConfig = !$ctrl.state.showConfig\">\\n          <i ng-class=\"[\\'fa space-right\\', { \\'fa-minus\\': $ctrl.state.showConfig, \\'fa-plus\\': !$ctrl.state.showConfig }]\" aria-hidden=\"true\"></i>\\n          {{ $ctrl.state.showConfig ? \\'Hide\\' : \\'Advanced\\' }} configuration\\n        </a>\\n      </p>\\n    </div>\\n  </div>\\n  <git-form-ref-field ng-if=\"$ctrl.state.showConfig\" value=\"$ctrl.formValues.RefName\" on-change=\"($ctrl.onChangeRef)\"></git-form-ref-field>\\n  <git-form-auth-fieldset\\n    ng-if=\"$ctrl.state.showConfig\"\\n    model=\"$ctrl.formValues\"\\n    is-edit=\"$ctrl.state.isEdit\"\\n    on-change=\"($ctrl.onChange)\"\\n    show-auth-explanation=\"true\"\\n  ></git-form-auth-fieldset>\\n\\n  <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n  \\x3c!-- #Git buttons --\\x3e\\n  <button\\n    class=\"btn btn-sm btn-primary\"\\n    ng-click=\"$ctrl.pullAndRedeployApplication()\"\\n    ng-disabled=\"$ctrl.isSubmitButtonDisabled() || $ctrl.state.hasUnsavedChanges|| !$ctrl.redeployGitForm.$valid\"\\n    style=\"margin-top: 7px; margin-left: 0\"\\n    button-spinner=\"$ctrl.state.redeployInProgress\"\\n    analytics-on\\n    analytics-category=\"kubernetes\"\\n    analytics-event=\"kubernetes-application-edit-git-pull\"\\n  >\\n    <span ng-show=\"!$ctrl.state.redeployInProgress\"> <i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i> Pull and update application </span>\\n    <span ng-show=\"$ctrl.state.redeployInProgress\">In progress...</span>\\n  </button>\\n  <button\\n    class=\"btn btn-sm btn-primary\"\\n    ng-click=\"$ctrl.saveGitSettings()\"\\n    ng-disabled=\"$ctrl.isSubmitButtonDisabled() || !$ctrl.state.hasUnsavedChanges|| !$ctrl.redeployGitForm.$valid\"\\n    style=\"margin-top: 7px; margin-left: 0\"\\n    button-spinner=\"$ctrl.state.saveGitSettingsInProgress\"\\n    analytics-on\\n    analytics-category=\"kubernetes\"\\n    analytics-event=\"kubernetes-application-edit\"\\n    analytics-properties=\"$ctrl.buildAnalyticsProperties()\"\\n  >\\n    <span ng-show=\"!$ctrl.state.saveGitSettingsInProgress\"> Save settings </span>\\n    <span ng-show=\"$ctrl.state.saveGitSettingsInProgress\">In progress...</span>\\n  </button>\\n</form>\\n')}]),e.exports=t},6693:function(e){var t=\"app/portainer/components/forms/registry-form-aws-ecr/registry-form-ecr.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" name=\"$ctrl.registryFormEcr\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"col-sm-12 form-section-title\"> Important notice </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\">\\n      For information on how to generate an Access Key, follow the\\n      <a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html#id_users_create_console\" target=\"_blank\">AWS guide</a>.\\n    </span>\\n  </div>\\n\\n  <div class=\"col-sm-12 form-section-title\"> ECR connection details </div>\\n\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_name\" name=\"registry_name\" ng-model=\"$ctrl.model.Name\" placeholder=\"my-ecr-registry\" required auto-focus />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormEcr.registry_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormEcr.registry_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        <p ng-message=\"used\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A registry with the same name already exists.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n\\n  \\x3c!-- url-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Registry URL\\n      <portainer-tooltip position=\"bottom\" message=\"URL of an Amazon Elastic Container Registry, which contains an account id and region.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        id=\"registry_url\"\\n        name=\"registry_url\"\\n        ng-model=\"$ctrl.model.URL\"\\n        placeholder=\"aws-account-id.dkr.ecr.us-east-1.amazonaws.com/\"\\n        required\\n      />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormEcr.registry_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormEcr.registry_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- url-input --\\x3e\\n\\n  \\x3c!-- authentication-checkbox --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <label class=\"control-label text-left\">\\n        Authentication\\n        <portainer-tooltip position=\"bottom\" message=\"Enable this option if you need to specify credentials to connect to a private registry.\"></portainer-tooltip>\\n      </label>\\n      <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"$ctrl.model.Authentication\" /><i></i> </label>\\n    </div>\\n  </div>\\n  \\x3c!-- !authentication-checkbox --\\x3e\\n\\n  <div ng-if=\"$ctrl.model.Authentication\">\\n    \\x3c!-- aws-access-key --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_access_key\" class=\"col-sm-3 col-lg-2 control-label text-left\">AWS Access Key</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"text\" class=\"form-control\" id=\"registry_access_key\" name=\"registry_access_key\" ng-model=\"$ctrl.model.Username\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"$ctrl.registryFormEcr.registry_access_key.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"$ctrl.registryFormEcr.registry_access_key.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !aws-access-key --\\x3e\\n\\n    \\x3c!-- aws-secret-access-key --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_secret_access_key\" class=\"col-sm-3 col-lg-2 control-label text-left\">AWS Secret Access Key</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"password\" class=\"form-control\" id=\"registry_secret_access_key\" name=\"registry_secret_access_key\" ng-model=\"$ctrl.model.Password\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"$ctrl.registryFormEcr.registry_secret_access_key.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"$ctrl.registryFormEcr.registry_secret_access_key.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !aws-secret-access-key --\\x3e\\n\\n    \\x3c!-- region --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_region\" class=\"col-sm-3 col-lg-2 control-label text-left\">Region</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"text\" class=\"form-control\" id=\"registry_region\" name=\"registry_region\" placeholder=\"us-west-1\" ng-model=\"$ctrl.model.Ecr.Region\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"$ctrl.registryFormEcr.registry_region.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"$ctrl.registryFormEcr.registry_region.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n          <p ng-message=\"used\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A registry with the same name already exists.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !region --\\x3e\\n  </div>\\n\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !$ctrl.registryFormEcr.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'ecr\\' } }\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=t},56440:function(e){var t=\"app/portainer/components/forms/registry-form-azure/registry-form-azure.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" name=\"$ctrl.registryFormAzure\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"col-sm-12 form-section-title\"> Azure registry details </div>\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_name\" name=\"registry_name\" ng-model=\"$ctrl.model.Name\" placeholder=\"my-azure-registry\" required auto-focus />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormAzure.registry_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormAzure.registry_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        <p ng-message=\"used\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A registry with the same name already exists.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n  \\x3c!-- url-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Registry URL\\n      <portainer-tooltip position=\"bottom\" message=\"URL of an Azure Container Registry. Any protocol will be stripped.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_url\" name=\"registry_url\" ng-model=\"$ctrl.model.URL\" placeholder=\"myproject.azurecr.io\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormAzure.registry_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormAzure.registry_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- url-input --\\x3e\\n  \\x3c!-- credentials-user --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">Username</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_username\" name=\"registry_username\" ng-model=\"$ctrl.model.Username\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormAzure.registry_username.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormAzure.registry_username.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-user --\\x3e\\n  \\x3c!-- credentials-password --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">Password</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"password\" class=\"form-control\" id=\"registry_password\" name=\"registry_password\" ng-model=\"$ctrl.model.Password\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormAzure.registry_password.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormAzure.registry_password.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-password --\\x3e\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !$ctrl.registryFormAzure.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'azure\\' } }\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=t},35778:function(e){var t=\"app/portainer/components/forms/registry-form-custom/registry-form-custom.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" name=\"$ctrl.registryFormCustom\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"col-sm-12 form-section-title\"> Important notice </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\">\\n      Docker requires you to connect to a <a href=\"https://docs.docker.com/registry/deploying/#running-a-domain-registry\" target=\"_blank\">secure registry</a>. You can find more\\n      information about how to connect to an insecure registry <a href=\"https://docs.docker.com/registry/insecure/\" target=\"_blank\">in the Docker documentation</a>.\\n    </span>\\n  </div>\\n  <div class=\"col-sm-12 form-section-title\"> Custom registry details </div>\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_name\" name=\"registry_name\" ng-model=\"$ctrl.model.Name\" placeholder=\"my-custom-registry\" required auto-focus />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormCustom.registry_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormCustom.registry_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        <p ng-message=\"used\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A registry with the same name already exists.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n  \\x3c!-- url-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Registry URL\\n      <portainer-tooltip position=\"bottom\" message=\"URL or IP address of a Docker registry. Any protocol and trailing slash will be stripped if present.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_url\" name=\"registry_url\" ng-model=\"$ctrl.model.URL\" placeholder=\"10.0.0.10:5000 or myregistry.domain.tld\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormCustom.registry_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormCustom.registry_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- url-input --\\x3e\\n  \\x3c!-- authentication-checkbox --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <label for=\"registry_auth\" class=\"control-label text-left\">\\n        Authentication\\n        <portainer-tooltip position=\"bottom\" message=\"Enable this option if you need to specify credentials to connect to this registry.\"></portainer-tooltip>\\n      </label>\\n      <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"$ctrl.model.Authentication\" /><i></i> </label>\\n    </div>\\n  </div>\\n  \\x3c!-- !authentication-checkbox --\\x3e\\n  <div ng-if=\"$ctrl.model.Authentication\">\\n    \\x3c!-- credentials-user --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">Username</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"text\" class=\"form-control\" id=\"registry_username\" name=\"registry_username\" ng-model=\"$ctrl.model.Username\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"$ctrl.registryFormCustom.registry_username.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"$ctrl.registryFormCustom.registry_username.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !credentials-user --\\x3e\\n    \\x3c!-- credentials-password --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">Password</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"password\" class=\"form-control\" id=\"registry_password\" name=\"registry_password\" ng-model=\"$ctrl.model.Password\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"$ctrl.registryFormCustom.registry_password.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"$ctrl.registryFormCustom.registry_password.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !credentials-password --\\x3e\\n  </div>\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !$ctrl.registryFormCustom.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'custom\\' }}\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=t},85683:function(e){var t=\"app/portainer/components/forms/registry-form-dockerhub/registry-form-dockerhub.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" name=\"$ctrl.registryFormDockerhub\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"col-sm-12 form-section-title\"> Important notice </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\">\\n      <p>\\n        For information on how to generate a DockerHub Access Token, follow the\\n        <a href=\"https://docs.docker.com/docker-hub/access-tokens/\" target=\"_blank\">dockerhub guide</a>.\\n      </p>\\n    </span>\\n  </div>\\n  <div class=\"col-sm-12 form-section-title\"> DockerHub account details </div>\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_name\" name=\"registry_name\" ng-model=\"$ctrl.model.Name\" placeholder=\"dockerhub-prod-us\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormDockerhub.registry_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormDockerhub.registry_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        <p ng-message=\"used\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A registry with the same name already exists.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n  \\x3c!-- credentials-user --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">DockerHub username</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_username\" name=\"registry_username\" ng-model=\"$ctrl.model.Username\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormDockerhub.registry_username.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormDockerhub.registry_username.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-user --\\x3e\\n  \\x3c!-- credentials-password --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">DockerHub access token</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"password\" class=\"form-control\" id=\"registry_password\" name=\"registry_password\" ng-model=\"$ctrl.model.Password\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormDockerhub.registry_password.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormDockerhub.registry_password.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-password --\\x3e\\n\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !$ctrl.registryFormDockerhub.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'dockerhub\\' } }\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=t},51338:function(e){var t=\"app/portainer/components/forms/registry-form-gitlab/gitlab-projects-datatable/gitlabProjectsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input type=\"text\" class=\"searchInput\" ng-model=\"$ctrl.state.textFilter\" ng-change=\"$ctrl.onTextFilterChange()\" placeholder=\"Search...\" auto-focus />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Namespace\\')\">\\n                  Namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PathWithNamespace\\')\">\\n                  Path with namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PathWithNamespace\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PathWithNamespace\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Description</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"$ctrl.disableSelection(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                {{ item.Namespace }}\\n              </td>\\n              <td>\\n                {{ item.Name }}\\n              </td>\\n              <td>\\n                {{ item.PathWithNamespace }}\\n              </td>\\n              <td>\\n                {{ item.Description }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No projects available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},62796:function(e){var t=\"app/portainer/components/forms/registry-form-gitlab/registry-form-gitlab.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" name=\"registryFormGitlab\" ng-submit=\"$ctrl.retrieveRegistries()\">\\n  <div class=\"col-sm-12 form-section-title\"> Important notice </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\">\\n      <p>\\n        For information on how to generate a Gitlab Personal Access Token, follow the\\n        <a href=\"https://gitlab.com/help/user/profile/personal_access_tokens.md\" target=\"_blank\">gitlab guide</a>.\\n      </p>\\n    </span>\\n  </div>\\n  <div class=\"col-sm-12 form-section-title\"> Gitlab registry connection details </div>\\n  \\x3c!-- credentials-user --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">Username</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_username\" name=\"registry_username\" ng-model=\"$ctrl.model.Username\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormGitlab.registry_username.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormGitlab.registry_username.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-user --\\x3e\\n  \\x3c!-- credentials-pat --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_perso_acc_token\" class=\"col-sm-3 col-lg-2 control-label text-left\">Personal Access Token </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"password\" class=\"form-control\" id=\"registry_perso_acc_token\" name=\"registry_perso_acc_token\" ng-model=\"$ctrl.model.Token\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormGitlab.registry_perso_acc_token.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormGitlab.registry_perso_acc_token.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-pat --\\x3e\\n\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <a class=\"small interactive\" ng-if=\"!$ctrl.state.overrideConfiguration\" ng-click=\"$ctrl.state.overrideConfiguration = true;\">\\n        <i class=\"fa fa-wrench space-right\" aria-hidden=\"true\"></i> Override default configuration\\n      </a>\\n      <a class=\"small interactive\" ng-if=\"$ctrl.state.overrideConfiguration\" ng-click=\"$ctrl.state.overrideConfiguration = false; $ctrl.resetDefaults()\">\\n        <i class=\"fa fa-cogs space-right\" aria-hidden=\"true\"></i> Use default configuration\\n      </a>\\n    </div>\\n  </div>\\n\\n  \\x3c!-- url-input --\\x3e\\n  <div class=\"form-group\" ng-if=\"$ctrl.state.overrideConfiguration\">\\n    <label for=\"instance_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Instance URL\\n      <portainer-tooltip position=\"bottom\" message=\"URL of Gitlab instance.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"instance_url\" name=\"instance_url\" ng-model=\"$ctrl.model.Gitlab.InstanceURL\" placeholder=\"https://gitlab.com\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormGitlab.instance_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormGitlab.instance_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !url-input --\\x3e\\n  \\x3c!-- url-input --\\x3e\\n  <div class=\"form-group\" ng-if=\"$ctrl.state.overrideConfiguration\">\\n    <label for=\"registry_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Registry URL\\n      <portainer-tooltip position=\"bottom\" message=\"URL of Gitlab registry instance.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_url\" name=\"registry_url\" ng-model=\"$ctrl.model.URL\" placeholder=\"https://registry.gitlab.com\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormGitlab.registry_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormGitlab.registry_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !url-input --\\x3e\\n\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button type=\"submit\" class=\"btn btn-primary btn-sm\" ng-disabled=\"$ctrl.actionInProgress || !registryFormGitlab.$valid\" button-spinner=\"$ctrl.actionInProgress\">\\n        <span ng-hide=\"$ctrl.actionInProgress\">Retrieve projects</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n</form>\\n<div class=\"form-horizontal\" ng-if=\"$ctrl.projects\">\\n  <div class=\"col-sm-12 form-section-title\"> Gitlab projects </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\"> Select the project\\'s registries you want to manage. Portainer will create one registry for each selected project. </span>\\n    <span class=\"col-sm-12 text-muted small\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      If you can\\'t select a project, make sure that registry feature is activated on it.\\n    </span>\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <gitlab-projects-datatable\\n        title-text=\"Gitlab projects\"\\n        title-icon=\"fa-project-diagram\"\\n        dataset=\"$ctrl.projects\"\\n        table-key=\"gitlab_projects\"\\n        state=\"$ctrl.state.gitlab\"\\n        order-by=\"Name\"\\n      ></gitlab-projects-datatable>\\n    </div>\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        ng-click=\"$ctrl.createRegistries()\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !$ctrl.state.gitlab.selectedItemCount\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'gitlab\\' } }\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">Create registries</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</div>\\n')}]),e.exports=t},64837:function(e){var t=\"app/portainer/components/forms/registry-form-proget/registry-form-proget.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" name=\"$ctrl.registryFormProGet\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"col-sm-12 form-section-title\"> Important notice </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12 text-muted small\">\\n      Any Portainer user that has access to this registry will be able to use the Registry Manager features against the content of any Feed in the ProGet registry that the ProGet\\n      user has access to.\\n    </div>\\n  </div>\\n  <div class=\"col-sm-12 form-section-title\"> ProGet registry details </div>\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_name\" name=\"registry_name\" ng-model=\"$ctrl.model.Name\" placeholder=\"proget-registry\" required auto-focus />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormProGet.registry_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormProGet.registry_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>This field is required.</p>\\n        <p ng-message=\"used\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A registry with the same name already exists.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n  \\x3c!-- url-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Registry URL\\n      <portainer-tooltip position=\"bottom\" message=\"The URL of the ProGet registry including the Feed name\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_url\" name=\"registry_url\" ng-model=\"$ctrl.model.URL\" placeholder=\"proget.example.com/example-registry\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormProGet.registry_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormProGet.registry_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- url-input --\\x3e\\n  \\x3c!-- base-url-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_base_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Base URL\\n      <portainer-tooltip position=\"bottom\" message=\"The base URL of the ProGet registry\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_base_url\" name=\"registry_base_url\" ng-model=\"$ctrl.model.BaseURL\" placeholder=\"proget.example.com\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"$ctrl.registryFormProGet.registry_base_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.registryFormProGet.registry_base_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !base-url-input --\\x3e\\n  <div>\\n    \\x3c!-- credentials-user --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">Username</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"text\" class=\"form-control\" id=\"registry_username\" name=\"registry_username\" ng-model=\"$ctrl.model.Username\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"$ctrl.registryFormProGet.registry_username.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"$ctrl.registryFormProGet.registry_username.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !credentials-user --\\x3e\\n    \\x3c!-- credentials-password --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">Password</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"password\" class=\"form-control\" id=\"registry_password\" name=\"registry_password\" ng-model=\"$ctrl.model.Password\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"$ctrl.registryFormProGet.registry_password.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"$ctrl.registryFormProGet.registry_password.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !credentials-password --\\x3e\\n  </div>\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !$ctrl.registryFormProGet.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'proget\\' } }\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=t},26548:function(e){var t=\"app/portainer/components/forms/registry-form-quay/registry-form-quay.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form class=\"form-horizontal\" name=\"registryFormQuay\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"col-sm-12 form-section-title\"> Quay account details </div>\\n  \\x3c!-- credentials-user --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">Username</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_username\" name=\"registry_username\" ng-model=\"$ctrl.model.Username\" required auto-focus />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormQuay.registry_username.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormQuay.registry_username.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-user --\\x3e\\n  \\x3c!-- credentials-password --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">Password</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"password\" class=\"form-control\" id=\"registry_password\" name=\"registry_password\" ng-model=\"$ctrl.model.Password\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormQuay.registry_password.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormQuay.registry_password.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-password --\\x3e\\n\\n  \\x3c!-- organisation-checkbox --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <label class=\"control-label text-left\"> Use organisation registry </label>\\n      <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"$ctrl.model.Quay.useOrganisation\" /><i></i> </label>\\n    </div>\\n  </div>\\n  \\x3c!-- !organisation-checkbox --\\x3e\\n  <div ng-if=\"$ctrl.model.Quay.useOrganisation\">\\n    \\x3c!-- organisation_name --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"organisation_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Organisation name</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"text\" class=\"form-control\" id=\"organisation_name\" name=\"organisation_name\" ng-model=\"$ctrl.model.Quay.organisationName\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"registryFormQuay.organisation_name.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"registryFormQuay.organisation_name.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !organisation_name --\\x3e\\n  </div>\\n\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !registryFormQuay.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'quay\\' } }\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=t},11361:function(e){var t=\"app/portainer/components/forms/stack-from-template-form/stackFromTemplateForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12\">\\n  <rd-widget>\\n    <rd-widget-custom-header icon=\"$ctrl.template.Logo\" title-text=\"$ctrl.template.Title\"></rd-widget-custom-header>\\n    <rd-widget-body classes=\"padding\">\\n      <form class=\"form-horizontal\" name=\"stackTemplateForm\">\\n        \\x3c!-- description --\\x3e\\n        <div ng-if=\"$ctrl.template.Note\">\\n          <div class=\"col-sm-12 form-section-title\"> Information </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <div class=\"template-note\" ng-bind-html=\"$ctrl.template.Note\"></div>\\n            </div>\\n          </div>\\n        </div>\\n        \\x3c!-- !description --\\x3e\\n        <div class=\"col-sm-12 form-section-title\"> Configuration </div>\\n        \\x3c!-- name-input --\\x3e\\n        <div class=\"form-group\">\\n          <label for=\"template_name\" class=\"col-sm-2 control-label text-left\">Name</label>\\n          <div class=\"col-sm-10\">\\n            <input type=\"text\" name=\"template_name\" class=\"form-control\" ng-model=\"$ctrl.formValues.name\" ng-pattern=\"$ctrl.nameRegex\" placeholder=\"e.g. myStack\" required />\\n          </div>\\n        </div>\\n        <div class=\"form-group\" ng-show=\"stackTemplateForm.template_name.$invalid\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div ng-messages=\"stackTemplateForm.template_name.$error\">\\n              <p ng-message=\"pattern\">\\n                <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                <span>This field must consist of lower case alphanumeric characters, \\'_\\' or \\'-\\' (e.g. \\'my-name\\', or \\'abc-123\\').</span>\\n              </p>\\n            </div>\\n          </div>\\n        </div>\\n        \\x3c!-- !name-input --\\x3e\\n        \\x3c!-- env --\\x3e\\n        <div ng-repeat=\"var in $ctrl.template.Env\" ng-if=\"!var.preset || var.select\" class=\"form-group\">\\n          <label for=\"field_{{ $index }}\" class=\"col-sm-2 control-label text-left\">\\n            {{ var.label }}\\n            <portainer-tooltip ng-if=\"var.description\" position=\"bottom\" message=\"{{ var.description }}\"></portainer-tooltip>\\n          </label>\\n          <div class=\"col-sm-10\">\\n            <input type=\"text\" class=\"form-control\" ng-if=\"!var.select\" ng-model=\"var.value\" id=\"field_{{ $index }}\" />\\n            <select class=\"form-control\" ng-if=\"var.select\" ng-model=\"var.value\" id=\"field_{{ $index }}\">\\n              <option selected disabled hidden value=\"\">Select value</option>\\n              <option ng-repeat=\"choice in var.select\" value=\"{{ choice.value }}\">{{ choice.text }}</option>\\n            </select>\\n          </div>\\n        </div>\\n        \\x3c!-- !env --\\x3e\\n        <ng-transclude ng-transclude-slot=\"advanced\"></ng-transclude>\\n\\n        \\x3c!-- access-control --\\x3e\\n        <por-access-control-form form-data=\"$ctrl.formValues.AccessControlData\"></por-access-control-form>\\n        \\x3c!-- !access-control --\\x3e\\n        \\x3c!-- actions --\\x3e\\n        <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n        <div class=\"form-group\">\\n          <div class=\"col-sm-12\">\\n            <button\\n              type=\"button\"\\n              class=\"btn btn-primary btn-sm\"\\n              ng-disabled=\"$ctrl.state.actionInProgress || !$ctrl.formValues.name || !$ctrl.state.deployable || stackTemplateForm.$invalid\"\\n              ng-click=\"$ctrl.createTemplate()\"\\n              button-spinner=\"$ctrl.state.actionInProgress\"\\n            >\\n              <span ng-hide=\"$ctrl.state.actionInProgress\">Deploy the stack</span>\\n              <span ng-show=\"$ctrl.state.actionInProgress\">Deployment in progress...</span>\\n            </button>\\n            <button type=\"button\" class=\"btn btn-sm btn-default\" ng-click=\"$ctrl.unselectTemplate($ctrl.template)\">Hide</button>\\n            <div class=\"cols-sm-12 small text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px; margin-top: 5px\">{{ $ctrl.state.formValidationError }}</div>\\n            <div class=\"cols-sm-12 small text-danger\" ng-if=\"!$ctrl.state.deployable\" style=\"margin-left: 5px; margin-top: 5px\"\\n              >This template type cannot be deployed on this environment.</div\\n            >\\n          </div>\\n        </div>\\n        \\x3c!-- !actions --\\x3e\\n      </form>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},8849:function(e){var t=\"app/portainer/components/forms/stack-redeploy-git-form/stack-redeploy-git-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<form name=\"$ctrl.redeployGitForm\" class=\"form-horizontal my-8\">\\n  <div class=\"col-sm-12 form-section-title\"> Redeploy from git repository </div>\\n  <git-form-info-panel\\n    class-name=\"text-muted small\"\\n    url=\"$ctrl.model.URL\"\\n    type=\"stack\"\\n    config-file-path=\"$ctrl.model.ConfigFilePath\"\\n    additional-files=\"$ctrl.stack.AdditionalFiles\"\\n  ></git-form-info-panel>\\n\\n  <git-form-auto-update-fieldset\\n    model=\"$ctrl.formValues.AutoUpdate\"\\n    on-change=\"($ctrl.onChangeAutoUpdate)\"\\n    show-force-pull-image=\"$ctrl.stack.Type !== 3\"\\n  ></git-form-auto-update-fieldset>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <p>\\n        <a class=\"small interactive\" ng-click=\"$ctrl.state.showConfig = !$ctrl.state.showConfig\">\\n          <i ng-class=\"{ \\'fa fa-minus space-right\\': $ctrl.state.showConfig, \\'fa fa-plus space-right\\': !$ctrl.state.showConfig }\" aria-hidden=\"true\"></i>\\n          {{ $ctrl.state.showConfig ? \\'Hide\\' : \\'Advanced\\' }} configuration\\n        </a>\\n      </p>\\n    </div>\\n  </div>\\n  <git-form-ref-field ng-if=\"$ctrl.state.showConfig\" value=\"$ctrl.formValues.RefName\" on-change=\"($ctrl.onChangeRef)\"></git-form-ref-field>\\n  <git-form-auth-fieldset\\n    ng-if=\"$ctrl.state.showConfig\"\\n    is-edit=\"$ctrl.state.isEdit\"\\n    model=\"$ctrl.formValues\"\\n    on-change=\"($ctrl.onChange)\"\\n    show-auth-explanation=\"true\"\\n  ></git-form-auth-fieldset>\\n  <environment-variables-panel\\n    ng-model=\"$ctrl.formValues.Env\"\\n    explanation=\"These values will be used as substitutions in the stack file\"\\n    on-change=\"($ctrl.onChangeEnvVar)\"\\n  ></environment-variables-panel>\\n\\n  <button\\n    class=\"btn btn-sm btn-primary\"\\n    ng-click=\"$ctrl.submit()\"\\n    ng-disabled=\"$ctrl.isSubmitButtonDisabled() || $ctrl.state.hasUnsavedChanges || !$ctrl.redeployGitForm.$valid\"\\n    style=\"margin-top: 7px; margin-left: 0\"\\n    button-spinner=\"$ctrl.state.redeployInProgress\"\\n    analytics-on\\n    analytics-event=\"docker-stack-pull-redeploy\"\\n    analytics-category=\"docker\"\\n  >\\n    <span ng-hide=\"$ctrl.state.redeployInProgress\"> <i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i> Pull and redeploy </span>\\n    <span ng-show=\"$ctrl.state.redeployInProgress\">In progress...</span>\\n  </button>\\n\\n  <button\\n    class=\"btn btn-sm btn-primary\"\\n    ng-click=\"$ctrl.saveGitSettings()\"\\n    ng-disabled=\"$ctrl.isSubmitButtonDisabled() || !$ctrl.state.hasUnsavedChanges || !$ctrl.redeployGitForm.$valid\"\\n    style=\"margin-top: 7px; margin-left: 0\"\\n    button-spinner=\"$ctrl.state.inProgress\"\\n    analytics-on\\n    analytics-event=\"docker-stack-update-git-settings\"\\n    analytics-category=\"docker\"\\n    analytics-properties=\"$ctrl.buildAnalyticsProperties()\"\\n  >\\n    <span ng-hide=\"$ctrl.state.inProgress\"> Save settings </span>\\n    <span ng-show=\"$ctrl.state.inProgress\">In progress...</span>\\n  </button>\\n</form>\\n')}]),e.exports=t},17775:function(e){var t=\"app/portainer/components/group-association-table/groupAssociationTable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <table class=\"table table-hover\" data-cy=\"{{ $ctrl.cyValue }}\">\\n    <div class=\"col-sm-12\">\\n      <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n      <input\\n        type=\"text\"\\n        class=\"searchInput\"\\n        ng-model=\"$ctrl.paginationState.filter\"\\n        ng-change=\"$ctrl.onTextFilterChange()\"\\n        ng-model-options=\"{ debounce: 300 }\"\\n        placeholder=\"Search...\"\\n      />\\n    </div>\\n    <thead>\\n      <tr>\\n        <th> Name </th>\\n        <th ng-if=\"$ctrl.showGroups\"> Group </th>\\n        <th ng-if=\"$ctrl.showTags\"> Tags </th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr\\n        ng-if=\"!$ctrl.hasBackendPagination\"\\n        ng-click=\"$ctrl.entryClick(item)\"\\n        class=\"interactive\"\\n        dir-paginate=\"item in $ctrl.dataset | filter:$ctrl.paginationState.filter | itemsPerPage: $ctrl.paginationState.limit\"\\n        pagination-id=\"$ctrl.tableType\"\\n      >\\n        <td>\\n          {{ item.Name | truncate: 64 }}\\n        </td>\\n        <td ng-if=\"$ctrl.showGroups\">\\n          {{ $ctrl.groupIdToGroupName(item.GroupId) | truncate: 64 }}\\n        </td>\\n        <td ng-if=\"$ctrl.showTags\">\\n          {{ $ctrl.tagIdsToTagNames(item.TagIds) | arraytostr | truncate: 64 }}\\n        </td>\\n      </tr>\\n      <tr\\n        ng-if=\"$ctrl.hasBackendPagination\"\\n        ng-click=\"$ctrl.entryClick(item)\"\\n        class=\"interactive\"\\n        dir-paginate=\"item in $ctrl.dataset | itemsPerPage: $ctrl.paginationState.limit\"\\n        pagination-id=\"$ctrl.tableType\"\\n        total-items=\"$ctrl.paginationState.totalCount\"\\n      >\\n        <td>\\n          {{ item.Name | truncate: 64 }}\\n        </td>\\n        <td ng-if=\"$ctrl.showGroups\">\\n          {{ $ctrl.groupIdToGroupName(item.GroupId) | truncate: 64 }}\\n        </td>\\n        <td ng-if=\"$ctrl.showTags\">\\n          {{ $ctrl.tagIdsToTagNames(item.TagIds) | truncate: 64 }}\\n        </td>\\n      </tr>\\n\\n      <tr ng-if=\"!$ctrl.dataset\">\\n        <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n      </tr>\\n      <tr ng-if=\"$ctrl.dataset.length === 0\">\\n        <td colspan=\"3\" class=\"text-center text-muted\">{{ $ctrl.emptyDatasetMessage }}</td>\\n      </tr>\\n    </tbody>\\n  </table>\\n  <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n    <div class=\"paginationControls\">\\n      <form class=\"form-inline\">\\n        <span class=\"limitSelector\">\\n          <span style=\"margin-right: 5px\"> Items per page </span>\\n          <select ng-model=\"$ctrl.paginationState.limit\" ng-change=\"$ctrl.onPaginationLimitChanged()\">\\n            <option value=\"10\">10</option>\\n            <option value=\"25\">25</option>\\n            <option value=\"50\">50</option>\\n            <option value=\"100\">100</option>\\n          </select>\\n        </span>\\n        <dir-pagination-controls pagination-id=\"$ctrl.tableType\" max-size=\"5\" on-page-change=\"$ctrl.onPageChanged(newPageNumber, oldPageNumber)\"></dir-pagination-controls>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},94081:function(e){var t=\"app/portainer/components/information-panel-offline/informationPanelOffline.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<information-panel title-text=\"Offline mode\" cant-dismiss=\"true\">\\n  <span class=\"small\">\\n    <p class=\"text-muted\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      This environment is currently offline (read-only). Data shown is based on the latest available snapshot.\\n    </p>\\n    <p class=\"text-muted\">\\n      <i class=\"fa fa-clock\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      Last snapshot: {{ $ctrl.snapshotTime | getisodatefromtimestamp }}\\n    </p>\\n    <button type=\"button\" class=\"btn btn-xs btn-primary\" ng-click=\"$ctrl.triggerSnapshot()\" ng-if=\"$ctrl.showRefreshButton\">\\n      <i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i>Refresh\\n    </button>\\n  </span>\\n</information-panel>\\n')}]),e.exports=t},52273:function(e,t,n){var a='\\x3c!-- extension --\\x3e\\n<div class=\"blocklist-item\" ng-click=\"$ctrl.goTo($ctrl.model)\">\\n  <div class=\"blocklist-item-box\">\\n    \\x3c!-- extension-image --\\x3e\\n    <span class=\"blocklist-item-logo\">\\n      <img class=\"blocklist-item-logo\" ng-if=\"$ctrl.model.Id == 1 || $ctrl.model.Id == 2 || $ctrl.model.Id == 3\" src=\"'+n(21306)+'\" />\\n      <img class=\"blocklist-item-logo\" ng-if=\"$ctrl.model.Id == 4 || $ctrl.model.Id == 5\" src=\"'+n(6186)+'\" />\\n    </span>\\n    \\x3c!-- !extension-image --\\x3e\\n    \\x3c!-- extension-details --\\x3e\\n    <span class=\"col-sm-12\">\\n      \\x3c!-- blocklist-item-line1 --\\x3e\\n      <div class=\"blocklist-item-line\">\\n        <span>\\n          <span class=\"blocklist-item-title\">\\n            {{ $ctrl.model.Name }}\\n          </span>\\n        </span>\\n      </div>\\n      \\x3c!-- !blocklist-item-line1 --\\x3e\\n      \\x3c!-- blocklist-item-line2 --\\x3e\\n      <div class=\"blocklist-item-line\">\\n        <span>\\n          <span class=\"blocklist-item-desc\">\\n            {{ $ctrl.model.ShortDescription }}\\n          </span>\\n        </span>\\n      </div>\\n      \\x3c!-- !blocklist-item-line2 --\\x3e\\n    </span>\\n    \\x3c!-- !extension-details --\\x3e\\n  </div>\\n  \\x3c!-- !extension --\\x3e\\n</div>\\n',r=\"app/portainer/components/product-list/product-item/productItem.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(r,a)}]),e.exports=r},2050:function(e){var t=\"app/portainer/components/product-list/productList.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa fa-bolt\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n\\n      <div class=\"blocklist\">\\n        <product-item ng-repeat=\"product in $ctrl.products\" model=\"product\" go-to=\"$ctrl.goTo\"></product-item>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},22746:function(e){var t=\"app/portainer/components/registry-details/registry-details.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"row\" ng-if=\"$ctrl.registry\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-plug\" title-text=\"Registry\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>\\n                {{ $ctrl.registry.Name }}\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>URL</td>\\n              <td>\\n                {{ $ctrl.registry.URL }}\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},63010:function(e){var t=\"app/portainer/components/sensitive-details/sensitive-details.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"sensitive-details-container\">\\n  <div class=\"text-wrap\">{{ $ctrl.key }}</div>\\n  <show-hide class=\"show-hide-container\" value=\"$ctrl.value\" use-asterisk=\"true\"></show-hide>\\n  <copy-button value=\"$ctrl.value\"></copy-button>\\n</div>\\n')}]),e.exports=t},39773:function(e){var t=\"app/portainer/components/show-hide/show-hide.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"small text-muted text-wrap\">\\n  <span ng-if=\"!$ctrl.show && $ctrl.useAsterisk\">********</span>\\n  <span ng-if=\"$ctrl.show\">{{ $ctrl.value }}</span>\\n</div>\\n\\n<button type=\"button\" class=\"btn btn-link nopadding\" ng-click=\"$ctrl.show = !$ctrl.show\" title=\"Show/Hide value\">\\n  <div ng-if=\"!$ctrl.show\"> <i class=\"fa fa-eye-slash\"></i> Show</div>\\n  <div ng-if=\"$ctrl.show\"> <i class=\"fa fa-eye\"></i> Hide</div>\\n</button>\\n')}]),e.exports=t},77728:function(e){var t=\"app/portainer/components/sidebar/sidebar-menu-item/sidebar-menu-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<li class=\"sidebar-menu-item\" ng-class=\"$ctrl.className\">\\n  <a ui-state=\"$ctrl.path\" ui-state-params=\"$ctrl.pathParams\" ui-sref-active=\"active\">\\n    <ng-transclude></ng-transclude>\\n    <span ng-if=\"$ctrl.iconClass\" class=\"menu-icon fa\" ng-class=\"$ctrl.iconClass\"></span>\\n  </a>\\n</li>\\n')}]),e.exports=t},81740:function(e){var t=\"app/portainer/components/sidebar/sidebar-menu/sidebar-menu.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<li class=\"sidebar-list sidebar-menu\">\\n  <sidebar-menu-item\\n    path=\"{{::$ctrl.path }}\"\\n    path-params=\"$ctrl.pathParams\"\\n    icon-class=\"{{::$ctrl.iconClass}}\"\\n    data-cy=\"portainerSidebar-{{ ::$ctrl.label }}\"\\n    title=\"{{ ::$ctrl.label }}\"\\n  >\\n    <div class=\"sidebar-menu-head\">\\n      <button ng-click=\"$ctrl.onClickArrow($event)\" class=\"small sidebar-menu-indicator\">\\n        <i class=\"fas\" ng-class=\"$ctrl.isOpen() ? \\'fa-chevron-down\\' : \\'fa-chevron-right\\'\"></i>\\n      </button>\\n      {{ ::$ctrl.label }}\\n    </div>\\n  </sidebar-menu-item>\\n\\n  <div class=\"sidebar-list-items\" ng-if=\"$ctrl.isOpen()\">\\n    <ng-transclude></ng-transclude>\\n  </div>\\n</li>\\n')}]),e.exports=t},39835:function(e){var t=\"app/portainer/components/sidebar/sidebar-section/sidebar-section.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"sidebar-section\">\\n  <li class=\"sidebar-title\">\\n    <span>{{ ::$ctrl.title }}</span>\\n  </li>\\n\\n  <div class=\"sidebar-section-items\" ng-transclude> </div>\\n</div>\\n')}]),e.exports=t},55419:function(e){var t=\"app/portainer/components/slider/slider.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div>\\n  <rzslider rz-slider-options=\"$ctrl.options\" rz-slider-model=\"$ctrl.model\"></rzslider>\\n</div>\\n')}]),e.exports=t},78196:function(e){var t=\"app/portainer/components/stack-duplication-form/stack-duplication-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div authorization=\"PortainerStackMigrate\">\\n  <div class=\"col-sm-12 form-section-title\"> Stack duplication / migration </div>\\n  <rd-widget>\\n    <rd-widget-body>\\n      <form class=\"form-horizontal\" name=\"dupStackForm\">\\n        <div class=\"form-group\">\\n          <span class=\"small\" style=\"margin-top: 10px\">\\n            <p class=\"text-muted\"> This feature allows you to duplicate or migrate this stack. </p>\\n          </span>\\n        </div>\\n\\n        <div class=\"form-group\">\\n          <input\\n            class=\"form-control\"\\n            placeholder=\"Stack name (optional for migration)\"\\n            aria-placeholder=\"Stack name\"\\n            name=\"new_stack_name\"\\n            ng-pattern=\"$ctrl.STACK_NAME_VALIDATION_REGEX\"\\n            ng-model=\"$ctrl.formValues.newName\"\\n          />\\n        </div>\\n        <div class=\"form-group\" ng-show=\"dupStackForm.new_stack_name.$invalid\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div ng-messages=\"dupStackForm.new_stack_name.$error\">\\n              <p ng-message=\"pattern\">\\n                <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                <span>This field must consist of lower case alphanumeric characters, \\'_\\' or \\'-\\' (e.g. \\'my-name\\', or \\'abc-123\\').</span>\\n              </p>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\"form-group\">\\n          <endpoint-selector ng-if=\"$ctrl.endpoints && $ctrl.groups\" model=\"$ctrl.formValues.endpoint\" endpoints=\"$ctrl.endpoints\" groups=\"$ctrl.groups\"></endpoint-selector>\\n        </div>\\n\\n        <div class=\"form-group\">\\n          <button\\n            class=\"btn btn-sm btn-primary\"\\n            ng-click=\"$ctrl.migrateStack()\"\\n            ng-disabled=\"$ctrl.isMigrationButtonDisabled()\"\\n            style=\"margin-top: 7px; margin-left: 0\"\\n            button-spinner=\"$ctrl.state.migrationInProgress\"\\n          >\\n            <span ng-hide=\"$ctrl.state.migrationInProgress\"> <i class=\"fa fa-long-arrow-alt-right space-right\" aria-hidden=\"true\"></i> Migrate </span>\\n            <span ng-show=\"$ctrl.state.migrationInProgress\">Migration in progress...</span>\\n          </button>\\n          <button\\n            class=\"btn btn-sm btn-primary\"\\n            ng-click=\"$ctrl.duplicateStack()\"\\n            ng-disabled=\"!$ctrl.isFormValidForDuplication() || $ctrl.state.duplicationInProgress || $ctrl.state.migrationInProgress\"\\n            style=\"margin-top: 7px; margin-left: 0\"\\n            button-spinner=\"$ctrl.state.duplicationInProgress\"\\n          >\\n            <span ng-hide=\"$ctrl.state.duplicationInProgress\"> <i class=\"fa fa-clone space-right\" aria-hidden=\"true\"></i> Duplicate </span>\\n            <span ng-show=\"$ctrl.state.duplicationInProgress\">Duplication in progress...</span>\\n          </button>\\n        </div>\\n\\n        <div class=\"form-group\">\\n          <div ng-if=\"$ctrl.yamlError && $ctrl.isEndpointSelected()\">\\n            <span class=\"text-danger small\">{{ $ctrl.yamlError }}</span>\\n          </div>\\n        </div>\\n      </form>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},80240:function(e){var t=\"app/portainer/components/status-indicator/status-indicator.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<i aria-hidden=\"true\" ng-class=\"[\\'status-indicator\\', { ok: $ctrl.ok }]\"></i>\\n')}]),e.exports=t},76339:function(e){var t=\"app/portainer/components/template-list/template-item/templateItem.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'\\x3c!-- template --\\x3e\\n<div ng-class=\"{ \\'blocklist-item--selected\\': $ctrl.model.Selected }\" class=\"blocklist-item template-item\" ng-click=\"$ctrl.onSelect($ctrl.model)\">\\n  <div class=\"blocklist-item-box\">\\n    \\x3c!-- template-image --\\x3e\\n    <span ng-if=\"$ctrl.model.Logo\">\\n      <img class=\"blocklist-item-logo\" ng-src=\"{{ $ctrl.model.Logo }}\" />\\n    </span>\\n    <span class=\"blocklist-item-logo\" ng-if=\"!$ctrl.model.Logo\">\\n      <i class=\"fa fa-rocket fa-4x blue-icon\" aria-hidden=\"true\"></i>\\n    </span>\\n    \\x3c!-- !template-image --\\x3e\\n    \\x3c!-- template-details --\\x3e\\n    <div class=\"col-sm-12 template-item-details\">\\n      \\x3c!-- blocklist-item-line1 --\\x3e\\n      <div class=\"blocklist-item-line\">\\n        <span>\\n          <span class=\"blocklist-item-title\">\\n            {{ $ctrl.model.Title }}\\n          </span>\\n          <span class=\"space-left blocklist-item-subtitle\">\\n            <span ng-if=\"$ctrl.model.Type != 3\">\\n              <i class=\"fab fa-linux\" aria-hidden=\"true\" ng-if=\"$ctrl.model.Platform === 1 || $ctrl.model.Platform === \\'linux\\' || !$ctrl.model.Platform\"></i>\\n              <span ng-if=\"!$ctrl.model.Platform\"> &amp; </span>\\n              <i class=\"fab fa-windows\" aria-hidden=\"true\" ng-if=\"$ctrl.model.Platform === 2 || $ctrl.model.Platform === \\'windows\\' || !$ctrl.model.Platform\"></i>\\n            </span>\\n            <span ng-if=\"$ctrl.model.Type === 3\">\\n              <i class=\"fa fa-dharmachakra\" aria-hidden=\"true\"></i>\\n            </span>\\n            <span>\\n              {{ $ctrl.typeLabel }}\\n            </span>\\n          </span>\\n        </span>\\n      </div>\\n      \\x3c!-- !blocklist-item-line1 --\\x3e\\n      <span class=\"blocklist-item-actions\" ng-transclude=\"actions\"></span>\\n      \\x3c!-- blocklist-item-line2 --\\x3e\\n      <div class=\"blocklist-item-line template-item-details-sub\">\\n        <span class=\"blocklist-item-desc\">\\n          {{ $ctrl.model.Description }}\\n        </span>\\n        <span class=\"small text-muted\" ng-if=\"$ctrl.model.Categories.length > 0\">\\n          {{ $ctrl.model.Categories.join(\\', \\') }}\\n        </span>\\n      </div>\\n      \\x3c!-- !blocklist-item-line2 --\\x3e\\n    </div>\\n    \\x3c!-- !template-details --\\x3e\\n  </div>\\n  \\x3c!-- !template --\\x3e\\n</div>\\n')}]),e.exports=t},14309:function(e){var t=\"app/portainer/components/template-list/templateList.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n\\n      <div class=\"actionBar\">\\n        <div>\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.templates.new\" ng-if=\"$ctrl.showAddAction\">\\n            <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add template\\n          </button>\\n          <span ng-class=\"{ \\'pull-right\\': $ctrl.showAddAction }\" style=\"width: 25%\">\\n            <ui-select ng-model=\"$ctrl.state.selectedCategory\">\\n              <ui-select-match placeholder=\"Select a category\" allow-clear=\"true\">\\n                <span>{{ $select.selected }}</span>\\n              </ui-select-match>\\n              <ui-select-choices repeat=\"category in ($ctrl.state.categories | filter: $select.search)\">\\n                <span>{{ category }}</span>\\n              </ui-select-choices>\\n            </ui-select>\\n          </span>\\n        </div>\\n\\n        <div class=\"small text-muted\" style=\"margin: 15px 0 0 5px\">\\n          <label for=\"show_stacks\" class=\"control-label text-left\"> Show container templates </label>\\n          <label class=\"switch\" style=\"margin-left: 20px\">\\n            <input type=\"checkbox\" name=\"show_stacks\" ng-model=\"$ctrl.state.showContainerTemplates\" ng-change=\"$ctrl.updateCategories()\" /><i></i>\\n          </label>\\n        </div>\\n      </div>\\n\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n\\n      <div class=\"blocklist\">\\n        <template-item\\n          ng-repeat=\"template in $ctrl.templates | filter: $ctrl.filterByTemplateType | filter:$ctrl.filterByCategory | filter:$ctrl.state.textFilter\"\\n          model=\"template\"\\n          type-label=\"{{ template.Type === 1 ? \\'container\\' : \\'stack\\' }}\"\\n          on-select=\"($ctrl.selectAction)\"\\n        >\\n          <template-item-actions ng-if=\"template.Type === 2 || template.Type === 3\">\\n            <button ng-click=\"$event.stopPropagation(); $ctrl.duplicateTemplate(template)\" class=\"btn btn-primary btn-xs\"> Copy as Custom </button>\\n          </template-item-actions>\\n        </template-item>\\n        <div ng-if=\"!$ctrl.templates\" class=\"text-center text-muted\"> Loading... </div>\\n        <div\\n          ng-if=\"($ctrl.templates | filter: $ctrl.filterByTemplateType | filter: $ctrl.filterByCategory | filter: $ctrl.state.textFilter).length === 0\"\\n          class=\"text-center text-muted\"\\n        >\\n          No templates available.\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},42662:function(e){var t=\"app/portainer/components/theme/theme-settings.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<information-panel class=\"theme-information\" title-text=\"Information\">\\n  <span class=\"small text-muted\">\\n    <p>\\n      <i class=\"fa fa-flask orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      Dark and High-contrast theme are experimental. Some UI components might not display properly.\\n    </p>\\n  </span>\\n</information-panel>\\n<rd-widget>\\n  <rd-widget-header icon=\"fa-palette\" title-text=\"Change user theme\"></rd-widget-header>\\n  <rd-widget-body>\\n    <form class=\"theme-panel\">\\n      \\x3c!-- Theme Selector--\\x3e\\n      <box-selector radio-name=\"\\'theme\\'\" value=\"$ctrl.state.userTheme\" options=\"$ctrl.state.availableThemes\" on-change=\"($ctrl.setTheme)\"></box-selector>\\n      \\x3c!-- !Theme --\\x3e\\n    </form>\\n  </rd-widget-body>\\n</rd-widget>\\n')}]),e.exports=t},59154:function(e){var t=\"app/portainer/oauth/components/oauth-providers-selector/oauth-providers-selector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\"> Provider </div>\\n\\n<box-selector value=\"$ctrl.value\" options=\"$ctrl.options\" on-change=\"($ctrl.onChange)\" radio-name=\"\\'oauth_provider\\'\"></box-selector>\\n')}]),e.exports=t},11318:function(e){var t=\"app/portainer/oauth/components/oauth-settings/oauth-settings.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form name=\"oauthSettingsForm\">\\n  <div class=\"col-sm-12 form-section-title\"> Single Sign-On </div>\\n\\n  \\x3c!-- SSO --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <por-switch-field\\n        label=\"\\'Use SSO\\'\"\\n        tooltip=\"\\'When using SSO the OAuth provider is not forced to prompt for credentials.\\'\"\\n        name=\"\\'use-sso\\'\"\\n        checked=\"$ctrl.settings.SSO\"\\n        on-change=\"($ctrl.updateSSO)\"\\n      ></por-switch-field>\\n    </div>\\n  </div>\\n  \\x3c!-- !SSO --\\x3e\\n\\n  \\x3c!-- HideInternalAuth --\\x3e\\n  <div class=\"form-group\" ng-if=\"$ctrl.settings.SSO\">\\n    <div class=\"col-sm-12\">\\n      <por-switch-field\\n        label=\"\\'Hide internal authentication prompt\\'\"\\n        name=\"\\'hide-internal-auth\\'\"\\n        feature-id=\"$ctrl.limitedFeature\"\\n        checked=\"$ctrl.settings.HideInternalAuth\"\\n        on-change=\"($ctrl.onChangeHideInternalAuth)\"\\n      ></por-switch-field>\\n    </div>\\n  </div>\\n  \\x3c!-- !HideInternalAuth --\\x3e\\n\\n  <auto-user-provision-toggle ng-model=\"$ctrl.settings.OAuthAutoCreateUsers\">\\n    <field-description>\\n      With automatic user provisioning enabled, Portainer will create user(s) automatically with the standard user role. If disabled, users must be created beforehand in Portainer\\n      in order to login.\\n    </field-description>\\n  </auto-user-provision-toggle>\\n\\n  <div ng-if=\"$ctrl.settings.OAuthAutoCreateUsers\">\\n    <div class=\"form-group\">\\n      <span class=\"col-sm-12 text-muted small\">\\n        <p>The users created by the automatic provisioning feature can be added to a default team on creation.</p>\\n        <p>\\n          By assigning newly created users to a team, they will be able to access the environments associated to that team. This setting is optional and if not set, newly created\\n          users won\\'t be able to access any environments.\\n        </p>\\n      </span>\\n    </div>\\n    <div class=\"form-group\">\\n      <label class=\"col-sm-3 col-lg-2 control-label text-left\">Default team</label>\\n      <span class=\"small text-muted\" style=\"margin-left: 20px\" ng-if=\"$ctrl.teams.length === 0\">\\n        You have not yet created any teams. Head over to the <a ui-sref=\"portainer.teams\">Teams view</a> to manage teams.\\n      </span>\\n\\n      <div class=\"col-sm-9\" ng-if=\"$ctrl.teams.length > 0\">\\n        <div class=\"col-sm-12 small text-muted\">\\n          <p>\\n            <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            The default team option will be disabled when automatic team membership is enabled\\n          </p>\\n        </div>\\n        <div class=\"col-xs-11\">\\n          <select\\n            class=\"form-control\"\\n            ng-disabled=\"$ctrl.settings.OAuthAutoMapTeamMemberships\"\\n            ng-model=\"$ctrl.settings.DefaultTeamID\"\\n            ng-options=\"team.Id as team.Name for team in $ctrl.teams\"\\n          >\\n            <option value=\"\">No team</option>\\n          </select>\\n        </div>\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-click=\"$ctrl.settings.DefaultTeamID = null\"\\n          ng-disabled=\"!$ctrl.settings.DefaultTeamID || $ctrl.settings.OAuthAutoMapTeamMemberships\"\\n          ng-if=\"$ctrl.teams.length > 0\"\\n        >\\n          <i class=\"fa fa-times\" aria-hidden=\"true\"> </i\\n        ></button>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"col-sm-12 form-section-title\"> Team membership </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12 text-muted small\"> Automatic team membership synchronizes the team membership based on a custom claim in the token from the OAuth provider. </div>\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <por-switch-field\\n        label=\"\\'Automatic team membership\\'\"\\n        name=\"\\'tls\\'\"\\n        feature-id=\"$ctrl.limitedFeature\"\\n        checked=\"$ctrl.settings.OAuthAutoMapTeamMemberships\"\\n        on-change=\"($ctrl.onToggleAutoTeamMembership)\"\\n      ></por-switch-field>\\n    </div>\\n  </div>\\n\\n  <div ng-if=\"$ctrl.settings.OAuthAutoMapTeamMemberships\">\\n    <div class=\"form-group\">\\n      <label class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Claim name\\n        <portainer-tooltip position=\"bottom\" message=\"The OpenID Connect UserInfo Claim name that contains the team identifier the user belongs to.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <div class=\"col-xs-11 col-lg-10\">\\n          <input type=\"text\" class=\"form-control\" id=\"oauth_token_claim_name\" ng-model=\"$ctrl.settings.TeamMemberships.OAuthClaimName\" placeholder=\"groups\" />\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label class=\"col-sm-3 col-lg-2 control-label text-left\"> Statically assigned teams </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <span class=\"label label-default interactive\" style=\"margin-left: 1.4em\" ng-click=\"$ctrl.addTeamMembershipMapping()\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add team mapping\\n        </span>\\n\\n        <div class=\"col-sm-12 form-inline\" ng-repeat=\"mapping in $ctrl.settings.TeamMemberships.OAuthClaimMappings\" style=\"margin-top: 0.75em\">\\n          <div class=\"input-group input-group-sm col-sm-5\">\\n            <span class=\"input-group-addon\">claim value regex</span>\\n            <input type=\"text\" class=\"form-control\" ng-model=\"mapping.ClaimValRegex\" />\\n          </div>\\n          <span style=\"margin: 0px 0.5em\">maps to</span>\\n          <div class=\"input-group input-group-sm col-sm-3 col-lg-4\">\\n            <span class=\"input-group-addon\">team</span>\\n            <select\\n              class=\"form-control\"\\n              ng-init=\"mapping.Team = mapping.Team || $ctrl.settings.DefaultTeamID\"\\n              ng-model=\"mapping.Team\"\\n              ng-options=\"team.Id as team.Name for team in $ctrl.teams\"\\n            >\\n              <option selected value=\"\">Select a team</option>\\n            </select>\\n          </div>\\n          <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-click=\"$ctrl.removeTeamMembership($index)\"> <i class=\"fa fa-trash\" aria-hidden=\"true\"> </i></button>\\n\\n          <div class=\"small text-warning\" ng-show=\"!mapping.ClaimValRegex\" style=\"margin-top: 0.4em\">\\n            <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Claim value regex is required.\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12 text-muted small\" style=\"margin-bottom: 0.5em\"> The default team will be assigned when the user does not belong to any other team </div>\\n      <label class=\"col-sm-3 col-lg-2 control-label text-left\">Default team</label>\\n      <span class=\"small text-muted\" style=\"margin-left: 20px\" ng-if=\"$ctrl.teams.length === 0\">\\n        You have not yet created any teams. Head over to the <a ui-sref=\"portainer.teams\">Teams view</a> to manage teams.\\n      </span>\\n\\n      <div class=\"col-sm-9\" ng-if=\"$ctrl.teams.length > 0\">\\n        <div class=\"col-xs-11\">\\n          <select class=\"form-control\" ng-model=\"$ctrl.settings.DefaultTeamID\" ng-options=\"team.Id as team.Name for team in $ctrl.teams\">\\n            <option value=\"\">No team</option>\\n          </select>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <oauth-providers-selector on-change=\"($ctrl.onSelectProvider)\" value=\"$ctrl.state.provider\"></oauth-providers-selector>\\n\\n  <div class=\"col-sm-12 form-section-title\">OAuth Configuration</div>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.state.provider == \\'microsoft\\'\">\\n    <label for=\"oauth_microsoft_tenant_id\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Tenant ID\\n      <portainer-tooltip position=\"bottom\" message=\"ID of the Azure Directory you wish to authenticate against. Also known as the Directory ID\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        id=\"oauth_microsoft_tenant_id\"\\n        placeholder=\"xxxxxxxxxxxxxxxxxxxx\"\\n        ng-model=\"$ctrl.state.microsoftTenantID\"\\n        ng-change=\"$ctrl.onMicrosoftTenantIDChange()\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeature}}\"\\n        limited-feature-class=\"limited-be\"\\n        limited-feature-disabled\\n        limited-feature-tabindex=\"-1\"\\n        required\\n      />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"oauth_client_id\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      {{ $ctrl.state.provider == \\'microsoft\\' ? \\'Application ID\\' : \\'Client ID\\' }}\\n      <portainer-tooltip position=\"bottom\" message=\"Public identifier of the OAuth application\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input\\n        type=\"text\"\\n        id=\"oauth_client_id\"\\n        ng-model=\"$ctrl.settings.ClientID\"\\n        placeholder=\"xxxxxxxxxxxxxxxxxxxx\"\\n        ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n        ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        tabindex=\"{{ $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' ? -1 : 0 }}\"\\n      />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"oauth_client_secret\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      {{ $ctrl.state.provider == \\'microsoft\\' ? \\'Application key\\' : \\'Client secret\\' }}\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input\\n        type=\"password\"\\n        class=\"form-control\"\\n        id=\"oauth_client_secret\"\\n        ng-model=\"$ctrl.settings.ClientSecret\"\\n        placeholder=\"xxxxxxxxxxxxxxxxxxxx\"\\n        autocomplete=\"new-password\"\\n        ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n        ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        tabindex=\"{{ $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' ? -1 : 0 }}\"\\n      />\\n    </div>\\n  </div>\\n\\n  <div ng-if=\"$ctrl.state.provider == \\'custom\\' || $ctrl.state.overrideConfiguration\">\\n    <div class=\"form-group\">\\n      <label for=\"oauth_authorization_uri\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Authorization URL\\n        <portainer-tooltip\\n          position=\"bottom\"\\n          message=\"URL used to authenticate against the OAuth provider. Will redirect the user to the OAuth provider login view\"\\n        ></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_authorization_uri\"\\n          ng-model=\"$ctrl.settings.AuthorizationURI\"\\n          placeholder=\"https://example.com/oauth/authorize\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"oauth_access_token_uri\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Access token URL\\n        <portainer-tooltip position=\"bottom\" message=\"URL used by Portainer to exchange a valid OAuth authentication code for an access token\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_access_token_uri\"\\n          ng-model=\"$ctrl.settings.AccessTokenURI\"\\n          placeholder=\"https://example.com/oauth/token\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"oauth_resource_uri\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Resource URL\\n        <portainer-tooltip position=\"bottom\" message=\"URL used by Portainer to retrieve information about the authenticated user\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_resource_uri\"\\n          ng-model=\"$ctrl.settings.ResourceURI\"\\n          placeholder=\"https://example.com/user\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"oauth_redirect_uri\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Redirect URL\\n        <portainer-tooltip\\n          position=\"bottom\"\\n          message=\"URL used by the OAuth provider to redirect the user after successful authentication. Should be set to your Portainer instance URL\"\\n        ></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_redirect_uri\"\\n          ng-model=\"$ctrl.settings.RedirectURI\"\\n          placeholder=\"http://yourportainer.com/\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"oauth_logout_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Logout URL\\n        <portainer-tooltip\\n          position=\"bottom\"\\n          message=\"URL used by Portainer to redirect the user to the OAuth provider in order to log the user out of the identity provider session.\"\\n        ></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_logout_url\"\\n          ng-model=\"$ctrl.settings.LogoutURI\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"oauth_user_identifier\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        User identifier\\n        <portainer-tooltip\\n          position=\"bottom\"\\n          message=\"Identifier that will be used by Portainer to create an account for the authenticated user. Retrieved from the resource server specified via the Resource URL field\"\\n        ></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_user_identifier\"\\n          ng-model=\"$ctrl.settings.UserIdentifier\"\\n          placeholder=\"id\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"oauth_scopes\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Scopes\\n        <portainer-tooltip\\n          position=\"bottom\"\\n          message=\"Scopes required by the OAuth provider to retrieve information about the authenticated user. Refer to your OAuth provider documentation for more information about this\"\\n        ></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_scopes\"\\n          ng-model=\"$ctrl.settings.Scopes\"\\n          placeholder=\"id,email,name\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.state.provider != \\'custom\\'\">\\n    <div class=\"col-sm-12\">\\n      <a class=\"small interactive\" ng-if=\"!$ctrl.state.overrideConfiguration\" ng-click=\"$ctrl.state.overrideConfiguration = true;\">\\n        <i class=\"fa fa-wrench space-right\" aria-hidden=\"true\"></i> Override default configuration\\n      </a>\\n      <a class=\"small interactive\" ng-if=\"$ctrl.state.overrideConfiguration\" ng-click=\"$ctrl.useDefaultProviderConfiguration($ctrl.state.provider)\">\\n        <i class=\"fa fa-cogs space-right\" aria-hidden=\"true\"></i> Use default configuration\\n      </a>\\n    </div>\\n  </div>\\n  <save-auth-settings-button\\n    on-save-settings=\"($ctrl.onSaveSettings)\"\\n    save-button-state=\"($ctrl.saveButtonState)\"\\n    save-button-disabled=\"!$ctrl.isOAuthTeamMembershipFormValid() || oauthSettingsForm.$invalid\"\\n    limited-feature-id=\"$ctrl.limitedFeature\"\\n    limited-feature-class=\"$ctrl.limitedFeatureClass\"\\n    class-name=\"\\'oauth-save-settings-button\\'\"\\n  ></save-auth-settings-button>\\n</ng-form>\\n')}]),e.exports=t},27707:function(e){var t=\"app/portainer/rbac/components/access-viewer/access-viewer-datatable/access-viewer-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <div class=\"searchBar\">\\n    <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n    <input type=\"text\" class=\"searchInput\" ng-model=\"$ctrl.state.textFilter\" ng-change=\"$ctrl.onTextFilterChange()\" placeholder=\"Search...\" ng-model-options=\"{ debounce: 300 }\" />\\n  </div>\\n  <div class=\"table-responsive\">\\n    <table class=\"table table-hover nowrap-cells\">\\n      <thead>\\n        <tr>\\n          <th>\\n            <a ng-click=\"$ctrl.changeOrderBy(\\'EndpointName\\')\">\\n              Environment\\n              <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'EndpointName\\' && !$ctrl.state.reverseOrder\"></i>\\n              <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'EndpointName\\' && $ctrl.state.reverseOrder\"></i>\\n            </a>\\n          </th>\\n          <th>\\n            <a ng-click=\"$ctrl.changeOrderBy(\\'RoleName\\')\">\\n              Role\\n              <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'RoleName\\' && !$ctrl.state.reverseOrder\"></i>\\n              <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'RoleName\\' && $ctrl.state.reverseOrder\"></i>\\n            </a>\\n          </th>\\n          <th>Access origin</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <tr\\n          dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index\"\\n        >\\n          <td>{{ item.EndpointName }}</td>\\n          <td>{{ item.RoleName }}</td>\\n          <td\\n            >{{ item.TeamName ? \\'Team\\' : \\'User\\' }} <code ng-if=\"item.TeamName\">{{ item.TeamName }}</code> access defined on {{ item.AccessLocation }}\\n            <code ng-if=\"item.GroupName\">{{ item.GroupName }}</code>\\n            <a ng-if=\"!item.GroupName && $ctrl.isAdmin\" ui-sref=\"portainer.endpoints.endpoint.access({id: item.EndpointId})\"\\n              ><i style=\"margin-left: 5px\" class=\"fa fa-users\" aria-hidden=\"true\"></i> Manage access\\n            </a>\\n            <a ng-if=\"item.GroupName && $ctrl.isAdmin\" ui-sref=\"portainer.groups.group.access({id: item.GroupId})\"\\n              ><i style=\"margin-left: 5px\" class=\"fa fa-users\" aria-hidden=\"true\"></i> Manage access\\n            </a>\\n          </td>\\n        </tr>\\n        <tr ng-if=\"!$ctrl.dataset\">\\n          <td colspan=\"3\" class=\"text-center text-muted\">Select a user to show associated access and role</td>\\n        </tr>\\n        <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n          <td colspan=\"3\" class=\"text-center text-muted\">The selected user does not have access to any environment(s)</td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </div>\\n  <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n    <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n    <div class=\"paginationControls\">\\n      <form class=\"form-inline\">\\n        <span class=\"limitSelector\">\\n          <span style=\"margin-right: 5px\"> Items per page </span>\\n          <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\">\\n            <option value=\"0\">All</option>\\n            <option value=\"10\">10</option>\\n            <option value=\"25\">25</option>\\n            <option value=\"50\">50</option>\\n            <option value=\"100\">100</option>\\n          </select>\\n        </span>\\n        <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},98538:function(e){var t=\"app/portainer/rbac/components/access-viewer/access-viewer.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12\" style=\"margin-bottom: 0px\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-user-lock\">\\n      <header-title>\\n        Effective access viewer\\n        <be-feature-indicator feature=\"$ctrl.limitedFeature\" class=\"space-left\"></be-feature-indicator>\\n      </header-title>\\n    </rd-widget-header>\\n    <rd-widget-body>\\n      <form class=\"form-horizontal\">\\n        <div class=\"col-sm-12 form-section-title\"> User </div>\\n        <div class=\"form-group\">\\n          <div class=\"col-sm-12\">\\n            <span class=\"small text-muted\" ng-if=\"$ctrl.users.length === 0\"> No user available </span>\\n            <ui-select ng-if=\"$ctrl.users.length > 0\" ng-model=\"$ctrl.selectedUser\" ng-change=\"$ctrl.onUserSelect()\">\\n              <ui-select-match placeholder=\"Select a user\">\\n                <span>{{ $select.selected.Username }}</span>\\n              </ui-select-match>\\n              <ui-select-choices repeat=\"item in ($ctrl.users | filter: $select.search)\">\\n                <span>{{ item.Username }}</span>\\n              </ui-select-choices>\\n            </ui-select>\\n          </div>\\n        </div>\\n\\n        <div class=\"col-sm-12 form-section-title\"> Access </div>\\n        <div>\\n          <div class=\"small text-muted\" style=\"margin-bottom: 15px\">\\n            <i class=\"fa fa-info-circle blue-icon space-right\" aria-hidden=\"true\"></i>\\n            Effective role for each environment will be displayed for the selected user\\n          </div>\\n        </div>\\n        <access-viewer-datatable table-key=\"access_viewer\" dataset=\"$ctrl.userRoles\" order-by=\"EndpointName\" is-admin=\"$ctrl.isAdmin\"> </access-viewer-datatable>\\n      </form>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},71450:function(e){var t=\"app/portainer/rbac/components/roles-datatable/roles-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Description\\')\">\\n                  Description\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Description\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Description\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th class=\"be-visual-indicator-col\"></th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>{{ item.Name }}</td>\\n              <td>{{ item.Description }}</td>\\n              <td class=\"be-visual-indicator-col\" ng-switch on=\"$ctrl.isDefaultItem(item)\">\\n                <span ng-switch-when=\"false\">\\n                  <be-feature-indicator feature=\"$ctrl.limitedFeature\"></be-feature-indicator>\\n                </span>\\n                <b ng-switch-when=\"true\">Default</b>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No role available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},49458:function(e){var t=\"app/portainer/rbac/views/roles/roles.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Roles\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.roles\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Role management</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <roles-datatable title-text=\"Roles\" title-icon=\"fa-file-code\" dataset=\"$ctrl.roles\" table-key=\"roles\"></roles-datatable>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <access-viewer> </access-viewer>\\n</div>\\n')}]),e.exports=t},50551:function(e){var t=\"app/portainer/settings/authentication/auto-user-provision-toggle/auto-user-provision-toggle.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\"> Automatic user provisioning </div>\\n<div class=\"form-group\">\\n  <span class=\"col-sm-12 text-muted small\" ng-transclude=\"description\"> </span>\\n</div>\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <label for=\"tls\" class=\"control-label text-left\"> Automatic user provisioning </label>\\n    <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"$ctrl.ngModel\" /><i></i> </label>\\n  </div>\\n</div>\\n')}]),e.exports=t},22555:function(e){var t=\"app/portainer/settings/authentication/ldap/ad-settings/ad-settings.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form class=\"ad-settings\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-class=\"limited-be\">\\n  <be-feature-indicator feature=\"$ctrl.limitedFeatureId\" class=\"my-8 block\"></be-feature-indicator>\\n\\n  <auto-user-provision-toggle ng-model=\"$ctrl.settings.AutoCreateUsers\">\\n    <field-description>\\n      With automatic user provisioning enabled, Portainer will create user(s) automatically with standard user role and assign them to team(s) which matches to LDAP group name(s).\\n      If disabled, users must be created in Portainer beforehand.\\n    </field-description>\\n  </auto-user-provision-toggle>\\n\\n  <div>\\n    <div class=\"col-sm-12 form-section-title\"> Information </div>\\n    <div class=\"form-group col-sm-12 text-muted small\">\\n      When using Microsoft AD authentication, Portainer will delegate user authentication to the Domain Controller(s) configured below; if there is no connectivity, Portainer will\\n      fallback to internal authentication.\\n    </div>\\n  </div>\\n\\n  <div class=\"col-sm-12 form-section-title\"> AD configuration </div>\\n\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12 small text-muted\">\\n      <p>\\n        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n        You can configure multiple AD Controllers for authentication fallback. Make sure all servers are using the same configuration (i.e. if TLS is enabled, they should all use\\n        the same certificates).\\n      </p>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"ldap_url\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"display: flex; flex-wrap: wrap\">\\n      AD Controller\\n      <button\\n        type=\"button\"\\n        class=\"label label-default interactive\"\\n        style=\"border: 0\"\\n        ng-click=\"$ctrl.addLDAPUrl()\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      >\\n        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Add additional server\\n      </button>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <div ng-repeat=\"url in $ctrl.settings.URLs track by $index\" style=\"display: flex; margin-bottom: 10px\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"ldap_url\"\\n          ng-model=\"$ctrl.settings.URLs[$index]\"\\n          placeholder=\"e.g. 10.0.0.10:389 or myldap.domain.tld:389\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n        <button\\n          ng-if=\"$index > 0\"\\n          class=\"btn btn-sm btn-danger\"\\n          type=\"button\"\\n          ng-click=\"$ctrl.removeLDAPUrl($index)\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        >\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"ldap_username\" class=\"col-sm-3 control-label text-left\">\\n      Service Account\\n      <portainer-tooltip position=\"bottom\" message=\"Account that will be used to search for users.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        id=\"ldap_username\"\\n        ng-model=\"$ctrl.settings.ReaderDN\"\\n        placeholder=\"reader@domain.tld\"\\n        ng-change=\"$ctrl.onAccountChange($ctrl.settings.ReaderDN)\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"ldap_password\" class=\"col-sm-3 control-label text-left\">\\n      Service Account Password\\n      <portainer-tooltip position=\"bottom\" message=\"If you do not enter a password, Portainer will leave the current password unchanged.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9\">\\n      <input\\n        type=\"password\"\\n        class=\"form-control\"\\n        id=\"ldap_password\"\\n        ng-model=\"$ctrl.settings.Password\"\\n        placeholder=\"password\"\\n        autocomplete=\"new-password\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      />\\n    </div>\\n  </div>\\n\\n  <ldap-connectivity-check\\n    ng-if=\"!$ctrl.settings.TLSConfig.TLS && !$ctrl.settings.StartTLS\"\\n    settings=\"$ctrl.settings\"\\n    state=\"$ctrl.state\"\\n    connectivity-check=\"$ctrl.connectivityCheck\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-connectivity-check>\\n\\n  <ldap-settings-security\\n    title=\"AD Connectivity Security\"\\n    settings=\"$ctrl.settings\"\\n    tlsca-cert=\"$ctrl.tlscaCert\"\\n    upload-in-progress=\"$ctrl.state.uploadInProgress\"\\n    on-tlsca-cert-change=\"($ctrl.onTlscaCertChange)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-settings-security>\\n\\n  <ldap-connectivity-check\\n    ng-if=\"$ctrl.settings.TLSConfig.TLS || $ctrl.settings.StartTLS\"\\n    settings=\"$ctrl.settings\"\\n    state=\"$ctrl.state\"\\n    connectivity-check=\"$ctrl.connectivityCheck\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-connectivity-check>\\n\\n  <ldap-user-search\\n    style=\"margin-top: 5px\"\\n    show-username-format=\"true\"\\n    settings=\"$ctrl.settings.SearchSettings\"\\n    domain-suffix=\"{{ $ctrl.domainSuffix }}\"\\n    base-filter=\"(objectClass=user)\"\\n    on-search-click=\"($ctrl.searchUsers)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-user-search>\\n\\n  <ldap-group-search\\n    style=\"margin-top: 5px\"\\n    settings=\"$ctrl.settings.GroupSearchSettings\"\\n    domain-suffix=\"{{ $ctrl.domainSuffix }}\"\\n    base-filter=\"(objectClass=group)\"\\n    on-search-click=\"($ctrl.searchGroups)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-group-search>\\n\\n  <ldap-custom-admin-group\\n    style=\"margin-top: 5px\"\\n    settings=\"$ctrl.settings\"\\n    on-search-click=\"($ctrl.onSearchAdminGroupsClick)\"\\n    selected-admin-groups=\"$ctrl.selectedAdminGroups\"\\n    default-admin-group-search-filter=\"\\'(objectClass=groupOfNames)\\'\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n    is-limited-feature-self-contained=\"false\"\\n  ></ldap-custom-admin-group>\\n\\n  <ldap-settings-test-login settings=\"$ctrl.settings\" limited-feature-id=\"$ctrl.limitedFeatureId\" is-limited-feature-self-contained=\"false\"></ldap-settings-test-login>\\n  <save-auth-settings-button\\n    on-save-settings=\"($ctrl.onSaveSettings)\"\\n    save-button-state=\"($ctrl.saveButtonState)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n    save-button-disabled=\"($ctrl.isSaveSettingButtonDisabled())\"\\n  ></save-auth-settings-button>\\n</ng-form>\\n')}]),e.exports=t},10386:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-connectivity-check/ldap-connectivity-check.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"form-group\">\\n  <label for=\"ldap_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n    Connectivity check\\n    <i class=\"fa fa-check green-icon ml-2\" ng-if=\"$ctrl.state.successfulConnectivityCheck\"></i>\\n    <i class=\"fa fa-times red-icon ml-2\" ng-if=\"$ctrl.state.failedConnectivityCheck\"></i>\\n  </label>\\n  <div class=\"col-sm-9 col-lg-10\">\\n    <button\\n      type=\"button\"\\n      class=\"btn btn-primary btn-sm\"\\n      ng-disabled=\"($ctrl.state.connectivityCheckInProgress) || (!$ctrl.settings.URLs.length) || ((!$ctrl.settings.ReaderDN || !$ctrl.settings.Password) && !$ctrl.settings.AnonymousMode)\"\\n      ng-click=\"$ctrl.connectivityCheck()\"\\n      button-spinner=\"$ctrl.state.connectivityCheckInProgress\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      <span ng-hide=\"$ctrl.state.connectivityCheckInProgress\">Test connectivity</span>\\n      <span ng-show=\"$ctrl.state.connectivityCheckInProgress\">Testing connectivity...</span>\\n    </button>\\n  </div>\\n</div>\\n')}]),e.exports=t},57498:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-custom-admin-group/ldap-custom-admin-group.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title ldap-custom-admin-group-title\" ng-style=\"$ctrl.isLimitedFeatureSelfContained && { \\'padding-bottom\\': \\'15px\\' }\">\\n  Auto-populate team admins <be-feature-indicator feature=\"$ctrl.limitedFeatureId\" class=\"space-left\" ng-if=\"$ctrl.isLimitedFeatureSelfContained\"></be-feature-indicator>\\n</div>\\n\\n<rd-widget ng-repeat=\"config in $ctrl.settings.AdminGroupSearchSettings | limitTo: (1 - $ctrl.settings.AdminGroupSearchSettings)\">\\n  <rd-widget-body>\\n    <div class=\"form-group mb-3\" ng-if=\"$index > 0\">\\n      <span class=\"col-sm-12 text-muted small\"> Extra search configuration </span>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"ldap_admin_group_basedn_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Base DN\\n        <portainer-tooltip position=\"bottom\" message=\"The distinguished name of the element from which the LDAP server will search for groups.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-8 col-md-4\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"ldap_admin_group_basedn_{{ $index }}\"\\n          ng-model=\"config.GroupBaseDN\"\\n          placeholder=\"dc=ldap,dc=domain,dc=tld\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n          ng-disabled=\"{{ $ctrl.isLimitedFeatureSelfContained }}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n      </div>\\n\\n      <label for=\"ldap_admin_group_att_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Membership Attribute\\n        <portainer-tooltip position=\"bottom\" message=\"LDAP attribute which denotes the group membership.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-8 col-md-4\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"ldap_admin_group_att_{{ $index }}\"\\n          ng-model=\"config.GroupAttribute\"\\n          placeholder=\"member\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n          ng-disabled=\"{{ $ctrl.isLimitedFeatureSelfContained }}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n      </div>\\n    </div>\\n    <div class=\"form-group\">\\n      <label for=\"ldap_admin_group_filter_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Filter\\n        <portainer-tooltip position=\"bottom\" message=\"The LDAP search filter used to select group elements, optional.\"></portainer-tooltip>\\n      </label>\\n      <div ng-class=\"{ \\'col-sm-7 col-md-9\\': $index, \\'col-sm-8 col-md-10\\': !$index }\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"ldap_admin_group_filter_{{ $index }}\"\\n          ng-model=\"config.GroupFilter\"\\n          placeholder=\"(objectClass=groupOfNames)\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n          ng-disabled=\"{{ $ctrl.isLimitedFeatureSelfContained }}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n      </div>\\n      <div class=\"col-sm-1\" ng-if=\"$index > 0\">\\n        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.onRemoveClick($index)\">\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </rd-widget-body>\\n</rd-widget>\\n\\n<div class=\"form-group mt-3\">\\n  <div class=\"col-sm-12\">\\n    <button\\n      class=\"label label-default interactive no-border\"\\n      ng-click=\"$ctrl.onAddClick()\"\\n      limited-feature-dir=\"{{ $ctrl.limitedFeatureId }}\"\\n      limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n      limited-feature-disabled\\n    >\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add group search configuration\\n    </button>\\n  </div>\\n  <div class=\"col-sm-12 mt-3\">\\n    <button\\n      class=\"btn btm-sm btn-primary\"\\n      type=\"button\"\\n      ng-click=\"$ctrl.search()\"\\n      limited-feature-dir=\"{{ $ctrl.limitedFeatureId }}\"\\n      limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n      ng-disabled=\"{{ $ctrl.isLimitedFeatureSelfContained }}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      Fetch Admin Group(s)\\n    </button>\\n    <span ng-if=\"$ctrl.groups && $ctrl.groups.length === 0\" class=\"ml-5\"> <i class=\"fa fa-exclamation-triangle text-warning\" aria-hidden=\"true\"></i> No groups found</span>\\n  </div>\\n</div>\\n\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <label for=\"admin-auto-populate\" class=\"control-label text-left text-muted\" ng-class=\"{ \\'text-muted\\': !$ctrl.enableAssignAdminGroup }\"> Assign admin rights to group(s) </label>\\n    <label class=\"switch ml-7\" ng-class=\"{ \\'business limited\\': $ctrl.isLimitedFeatureSelfContained }\">\\n      <input id=\"admin-auto-populate\" ng-disabled=\"!$ctrl.enableAssignAdminGroup\" name=\"admin-auto-populate\" type=\"checkbox\" ng-model=\"$ctrl.settings.AdminAutoPopulate\" /><i></i>\\n    </label>\\n  </div>\\n</div>\\n\\n<div class=\"form-group\" ng-if=\"$ctrl.settings.AdminAutoPopulate\">\\n  <div class=\"col-sm-12\">\\n    <label for=\"group-access\" class=\"control-label text-left\"> Select Group(s) </label>\\n    <span\\n      class=\"ml-7\"\\n      isteven-multi-select\\n      ng-if=\"$ctrl.enableAssignAdminGroup\"\\n      input-model=\"$ctrl.groups\"\\n      output-model=\"$ctrl.selectedAdminGroups\"\\n      button-label=\"name\"\\n      item-label=\"name\"\\n      tick-property=\"selected\"\\n      helper-elements=\"filter\"\\n      search-property=\"name\"\\n      translation=\"{nothingSelected: \\'Select one or more groups\\', search: \\'Search...\\'}\"\\n    >\\n    </span>\\n  </div>\\n</div>\\n')}]),e.exports=t},64042:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-custom-group-search/ldap-custom-group-search.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\" style=\"float: initial\"> Group search configurations </div>\\n\\n<rd-widget ng-repeat=\"config in $ctrl.settings | limitTo: (1 - $ctrl.settings)\" style=\"display: block; margin-bottom: 10px\">\\n  <rd-widget-body>\\n    <div class=\"form-group\" ng-if=\"$index > 0\" style=\"margin-bottom: 10px\">\\n      <span class=\"col-sm-12 text-muted small\"> Extra search configuration </span>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"ldap_group_basedn_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Base DN\\n        <portainer-tooltip position=\"bottom\" message=\"The distinguished name of the element from which the LDAP server will search for groups.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-8 col-md-4\">\\n        <input type=\"text\" class=\"form-control\" id=\"ldap_group_basedn_{{ $index }}\" ng-model=\"config.GroupBaseDN\" placeholder=\"dc=ldap,dc=domain,dc=tld\" />\\n      </div>\\n\\n      <label for=\"ldap_group_att_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Membership Attribute\\n        <portainer-tooltip position=\"bottom\" message=\"LDAP attribute which denotes the group membership.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-8 col-md-4\">\\n        <input type=\"text\" class=\"form-control\" id=\"ldap_group_att_{{ $index }}\" ng-model=\"config.GroupAttribute\" placeholder=\"member\" />\\n      </div>\\n    </div>\\n    <div class=\"form-group\">\\n      <label for=\"ldap_group_filter_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Filter\\n        <portainer-tooltip position=\"bottom\" message=\"The LDAP search filter used to select group elements, optional.\"></portainer-tooltip>\\n      </label>\\n      <div ng-class=\"{ \\'col-sm-7 col-md-9\\': $index, \\'col-sm-8 col-md-10\\': !$index }\">\\n        <input type=\"text\" class=\"form-control\" id=\"ldap_group_filter_{{ $index }}\" ng-model=\"config.GroupFilter\" placeholder=\"(objectClass=account)\" />\\n      </div>\\n      <div class=\"col-sm-1\" ng-if=\"$index > 0\">\\n        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.onRemoveClick($index)\">\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </rd-widget-body>\\n</rd-widget>\\n\\n<div class=\"form-group\" style=\"margin-top: 10px\">\\n  <div class=\"col-sm-12\">\\n    <button class=\"label label-default interactive\" style=\"border: 0\" ng-click=\"$ctrl.onAddClick()\">\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add group search configuration\\n    </button>\\n  </div>\\n  <div class=\"col-sm-12\" style=\"margin-top: 10px\">\\n    <button\\n      class=\"btn btm-sm btn-primary\"\\n      type=\"button\"\\n      ng-click=\"$ctrl.search()\"\\n      limited-feature-dir=\"{{ $ctrl.limitedFeatureId }}\"\\n      limited-feature-tabindex=\"-1\"\\n      limited-feature-disabled\\n      limited-feature-class=\"limited-be\"\\n    >\\n      Display User/Group matching\\n    </button>\\n    <be-feature-indicator feature=\"$ctrl.limitedFeatureId\" class=\"space-left\"></be-feature-indicator>\\n  </div>\\n</div>\\n\\n<div ng-if=\"$ctrl.showTable\">\\n  <div class=\"form-group\">\\n    <ldap-groups-datatable dataset=\"$ctrl.groups\" title-text=\"Groups\" title-icon=\"fa-users\" table-key=\"ldapGroups\"></ldap-groups-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},65048:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-custom-user-search/ldap-custom-user-search.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\" style=\"float: initial\"> User search configurations </div>\\n\\n<rd-widget ng-repeat=\"config in $ctrl.settings | limitTo: (1 - $ctrl.settings)\" style=\"display: block; margin-bottom: 10px\">\\n  <rd-widget-body>\\n    <div class=\"form-group\" ng-if=\"$index > 0\" style=\"margin-bottom: 10px\">\\n      <span class=\"col-sm-12 text-muted small\"> Extra search configuration </span>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"ldap_basedn_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Base DN\\n        <portainer-tooltip position=\"bottom\" message=\"The distinguished name of the element from which the LDAP server will search for users.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-8 col-md-4\">\\n        <input type=\"text\" class=\"form-control\" id=\"ldap_basedn_{{ $index }}\" ng-model=\"config.BaseDN\" placeholder=\"dc=ldap,dc=domain,dc=tld\" />\\n      </div>\\n\\n      <label for=\"ldap_username_att_{{ $index }}\" class=\"col-sm-4 col-md-3 col-lg-2 control-label text-left\">\\n        Username attribute\\n        <portainer-tooltip position=\"bottom\" message=\"LDAP attribute which denotes the username.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-8 col-md-3 col-lg-4\">\\n        <input type=\"text\" class=\"form-control\" id=\"ldap_username_att_{{ $index }}\" ng-model=\"config.UserNameAttribute\" placeholder=\"uid\" />\\n      </div>\\n    </div>\\n    <div class=\"form-group\">\\n      <label for=\"ldap_filter_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Filter\\n        <portainer-tooltip position=\"bottom\" message=\"The LDAP search filter used to select user elements, optional.\"></portainer-tooltip>\\n      </label>\\n      <div ng-class=\"{ \\'col-sm-7 col-md-9\\': $index, \\'col-sm-8 col-md-10\\': !$index }\">\\n        <input type=\"text\" class=\"form-control\" id=\"ldap_filter_{{ $index }}\" ng-model=\"config.Filter\" placeholder=\"(objectClass=account)\" />\\n      </div>\\n      <div class=\"col-sm-1\" ng-if=\"$index > 0\">\\n        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.onRemoveClick($index)\">\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </rd-widget-body>\\n</rd-widget>\\n\\n<div class=\"form-group\" style=\"margin-top: 10px\">\\n  <div class=\"col-sm-12\">\\n    <button class=\"label label-default interactive\" style=\"border: 0\" ng-click=\"$ctrl.onAddClick()\">\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add user search configuration\\n    </button>\\n  </div>\\n  <div class=\"col-sm-12\" style=\"margin-top: 10px\">\\n    <button\\n      class=\"btn btm-sm btn-primary\"\\n      type=\"button\"\\n      ng-click=\"$ctrl.search()\"\\n      limited-feature-dir=\"{{ $ctrl.limitedFeatureId }}\"\\n      limited-feature-disabled\\n      limited-feature-class=\"limited-be\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      Display Users\\n    </button>\\n    <be-feature-indicator feature=\"$ctrl.limitedFeatureId\" class=\"space-left\"></be-feature-indicator>\\n  </div>\\n</div>\\n\\n<div ng-if=\"$ctrl.showTable\">\\n  <div class=\"form-group\">\\n    <ldap-users-datatable dataset=\"$ctrl.users\" title-text=\"Users\" title-icon=\"fa-users\" table-key=\"ldapUsers\" order-by=\"\" reverse-order=\"\"></ldap-users-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},79557:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-group-search-item/ldap-group-search-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-widget>\\n  <rd-widget-body>\\n    <div ng-if=\"$ctrl.index > 0\" style=\"margin-bottom: 10px\">\\n      <span class=\"text-muted small\"> Extra search configuration </span>\\n      <button\\n        class=\"btn btn-sm btn-danger\"\\n        type=\"button\"\\n        ng-click=\"$ctrl.onRemoveClick($ctrl.index)\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      >\\n        <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n      </button>\\n    </div>\\n\\n    <ldap-settings-dn-builder\\n      label=\"Group Search Path (optional)\"\\n      suffix=\"{{ $ctrl.domainSuffix }}\"\\n      ng-model=\"$ctrl.config.GroupBaseDN\"\\n      on-change=\"($ctrl.onChangeBaseDN)\"\\n      limited-feature-id=\"$ctrl.limitedFeatureId\"\\n    ></ldap-settings-dn-builder>\\n\\n    <div class=\"form-group\">\\n      <label class=\"col-sm-4 col-md-2 control-label text-left\"> Group Base DN </label>\\n      <div class=\"col-sm-8 col-md-10\">\\n        {{ $ctrl.config.GroupBaseDN }}\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12\" style=\"margin-bottom: 5px\">\\n        <label class=\"control-label text-left\">Groups</label>\\n        <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"$ctrl.addGroup()\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add another group\\n        </span>\\n      </div>\\n      <div class=\"col-sm-12\" ng-if=\"$ctrl.groups.length\">\\n        <rd-widget>\\n          <rd-widget-body>\\n            <div class=\"form-group no-margin-last-child\" ng-repeat=\"entry in $ctrl.groups\">\\n              <div class=\"col-sm-4\">\\n                <select\\n                  class=\"form-control\"\\n                  ng-model=\"entry.type\"\\n                  ng-change=\"$ctrl.onGroupsChange()\"\\n                  limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n                  limited-feature-tabindex=\"-1\"\\n                >\\n                  <option value=\"ou\">OU Name</option>\\n                  <option value=\"cn\">Folder Name</option>\\n                </select>\\n              </div>\\n              <div class=\"col-sm-5\">\\n                <input\\n                  class=\"form-control\"\\n                  ng-model=\"entry.value\"\\n                  ng-change=\"$ctrl.onGroupsChange()\"\\n                  limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n                  limited-feature-tabindex=\"-1\"\\n                />\\n              </div>\\n              <div class=\"col-sm-3 text-right\">\\n                <button\\n                  class=\"btn btn-sm btn-danger\"\\n                  type=\"button\"\\n                  ng-click=\"$ctrl.removeGroup($index)\"\\n                  limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n                  limited-feature-tabindex=\"-1\"\\n                >\\n                  <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n          </rd-widget-body>\\n        </rd-widget>\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group no-margin-last-child\">\\n      <label class=\"col-sm-4 col-md-2 control-label text-left\"> Group Filter </label>\\n      <div class=\"col-sm-8 col-md-10\">\\n        {{ $ctrl.config.GroupFilter }}\\n      </div>\\n    </div>\\n  </rd-widget-body>\\n</rd-widget>\\n')}]),e.exports=t},3057:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-group-search/ldap-group-search.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\" style=\"float: initial\"> Group search configurations </div>\\n\\n<div style=\"margin-top: 10px\" ng-repeat=\"config in $ctrl.settings | limitTo: (1 - $ctrl.settings)\">\\n  <ldap-group-search-item\\n    config=\"config\"\\n    domain-suffix=\"{{ $ctrl.domainSuffix }}\"\\n    index=\"$index\"\\n    base-filter=\"{{ $ctrl.baseFilter }}\"\\n    on-remove-click=\"($ctrl.onRemoveClick)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-group-search-item>\\n</div>\\n\\n<div class=\"form-group\" style=\"margin-top: 10px\">\\n  <div class=\"col-sm-12\">\\n    <button\\n      class=\"label label-default interactive\"\\n      style=\"border: 0\"\\n      ng-click=\"$ctrl.onAddClick()\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add group search configuration\\n    </button>\\n  </div>\\n  <div class=\"col-sm-12\" style=\"margin-top: 10px\">\\n    <button class=\"btn btm-sm btn-primary\" type=\"button\" ng-click=\"$ctrl.search()\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\">\\n      Display User/Group matching\\n    </button>\\n  </div>\\n</div>\\n\\n<div ng-if=\"$ctrl.showTable\">\\n  <div class=\"form-group\">\\n    <ldap-groups-datatable dataset=\"$ctrl.groups\" title-text=\"Groups\" title-icon=\"fa-users\" table-key=\"ldapGroups\"></ldap-groups-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},30629:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-groups-datatable/ldap-groups-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  User Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th> Groups </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                {{ item.Name }}\\n              </td>\\n              <td>\\n                <p ng-repeat=\"group in item.Groups\" style=\"margin: 0\">{{ group }}</p>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No groups found.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},15933:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-settings-custom/ldap-settings-custom.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div>\\n  <div class=\"col-sm-12 form-section-title\"> Information </div>\\n  <div class=\"form-group col-sm-12 text-muted small\">\\n    When using LDAP authentication, Portainer will delegate user authentication to a LDAP server and fallback to internal authentication if LDAP authentication fails.\\n  </div>\\n</div>\\n\\n<div class=\"col-sm-12 form-section-title\"> LDAP configuration </div>\\n\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12 small text-muted\">\\n    <p>\\n      <i class=\"fa fa-info-circle blue-icon mr-1\" aria-hidden=\"true\"></i>\\n      You can configure multiple LDAP Servers for authentication fallback. Make sure all servers are using the same configuration (i.e. if TLS is enabled, they should all use the\\n      same certificates).\\n    </p>\\n  </div>\\n</div>\\n\\n<div class=\"form-group\">\\n  <label for=\"ldap_url\" class=\"col-sm-3 col-lg-2 control-label text-left flex flex-wrap\">\\n    LDAP Server\\n    <button\\n      type=\"button\"\\n      class=\"label label-default interactive no-border\"\\n      ng-click=\"$ctrl.addLDAPUrl()\"\\n      limited-feature-dir=\"{{ $ctrl.limitedFeatureId }}\"\\n      limited-feature-disabled\\n      limited-feature-class=\"limited-be\"\\n    >\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Add additional server\\n    </button>\\n  </label>\\n  <div class=\"col-sm-9 col-lg-10\">\\n    <div class=\"mb-3 flex\" ng-repeat=\"url in $ctrl.settings.URLs track by $index\">\\n      <input type=\"text\" class=\"form-control\" id=\"ldap_url\" ng-model=\"$ctrl.settings.URLs[$index]\" placeholder=\"e.g. 10.0.0.10:389 or myldap.domain.tld:389\" required />\\n      <button ng-if=\"$index > 0\" class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.removeLDAPUrl($index)\">\\n        <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\"form-group\">\\n  <label for=\"anonymous_mode\" class=\"control-label text-left col-sm-3 col-lg-2\">\\n    Anonymous mode\\n    <portainer-tooltip position=\"bottom\" message=\"Enable this option if the server is configured for Anonymous access.\"></portainer-tooltip>\\n  </label>\\n  <div class=\"col-sm-9 col-lg-10\">\\n    <label class=\"switch\">\\n      <input type=\"checkbox\" id=\"anonymous_mode\" ng-model=\"$ctrl.settings.AnonymousMode\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\" /><i></i>\\n    </label>\\n  </div>\\n</div>\\n\\x3c!-- !Anonymous mode--\\x3e\\n\\n<div ng-if=\"!$ctrl.settings.AnonymousMode\">\\n  <div class=\"form-group\">\\n    <label for=\"ldap_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Reader DN\\n      <portainer-tooltip position=\"bottom\" message=\"Account that will be used to search for users.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"ldap_username\" ng-model=\"$ctrl.settings.ReaderDN\" placeholder=\"{{ $ctrl.clickToSetValues.readerDNPlaceholder }}\" />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"ldap_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Password\\n      <portainer-tooltip position=\"bottom\" message=\"If you do not enter a password, Portainer will leave the current password unchanged.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"password\" class=\"form-control\" id=\"ldap_password\" ng-model=\"$ctrl.settings.Password\" placeholder=\"password\" autocomplete=\"new-password\" />\\n    </div>\\n  </div>\\n</div>\\n\\n<ldap-connectivity-check\\n  ng-if=\"!$ctrl.settings.TLSConfig.TLS && !$ctrl.settings.StartTLS\"\\n  settings=\"$ctrl.settings\"\\n  state=\"$ctrl.state\"\\n  connectivity-check=\"$ctrl.connectivityCheck\"\\n></ldap-connectivity-check>\\n\\n<ldap-settings-security\\n  settings=\"$ctrl.settings\"\\n  tlsca-cert=\"$ctrl.tlscaCert\"\\n  upload-in-progress=\"$ctrl.state.uploadInProgress\"\\n  on-tlsca-cert-change=\"($ctrl.onTlscaCertChange)\"\\n></ldap-settings-security>\\n\\n<ldap-connectivity-check\\n  ng-if=\"$ctrl.settings.TLSConfig.TLS || $ctrl.settings.StartTLS\"\\n  settings=\"$ctrl.settings\"\\n  state=\"$ctrl.state\"\\n  connectivity-check=\"$ctrl.connectivityCheck\"\\n></ldap-connectivity-check>\\n\\n<div class=\"space-y-10\">\\n  <ldap-custom-user-search\\n    class=\"block\"\\n    settings=\"$ctrl.settings.SearchSettings\"\\n    on-search-click=\"($ctrl.onSearchUsersClick)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-custom-user-search>\\n\\n  <ldap-custom-group-search\\n    class=\"block\"\\n    settings=\"$ctrl.settings.GroupSearchSettings\"\\n    on-search-click=\"($ctrl.onSearchGroupsClick)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-custom-group-search>\\n\\n  <ldap-custom-admin-group\\n    class=\"block\"\\n    settings=\"$ctrl.settings\"\\n    on-search-click=\"($ctrl.onSearchAdminGroupsClick)\"\\n    selected-admin-groups=\"$ctrl.selectedAdminGroups\"\\n    default-admin-group-search-filter=\"\\'(objectClass=groupOfNames)\\'\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n    is-limited-feature-self-contained=\"true\"\\n  ></ldap-custom-admin-group>\\n\\n  <ldap-settings-test-login\\n    class=\"block\"\\n    settings=\"$ctrl.settings\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n    show-be-indicator-if-needed=\"true\"\\n    is-limited-feature-self-contained=\"true\"\\n  ></ldap-settings-test-login>\\n</div>\\n\\n<save-auth-settings-button\\n  on-save-settings=\"($ctrl.onSaveSettings)\"\\n  save-button-state=\"($ctrl.saveButtonState)\"\\n  save-button-disabled=\"!$ctrl.saveButtonDisabled()\"\\n  limited-feature-dir=\"{{ $ctrl.limitedFeatureId }}\"\\n></save-auth-settings-button>\\n')}]),e.exports=t},34778:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-settings-dn-builder/ldap-settings-dn-builder.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"form-group ldap-dn-builder\">\\n  <div class=\"col-sm-12\" style=\"margin-bottom: 5px\">\\n    <label class=\"control-label text-left\">{{ $ctrl.label || \\'DN entries\\' }}</label>\\n    <button\\n      type=\"button\"\\n      class=\"label label-default interactive\"\\n      style=\"margin-left: 10px; border: 0\"\\n      ng-click=\"$ctrl.addEntry()\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add another entry\\n    </button>\\n  </div>\\n  <div class=\"col-sm-12\" ng-if=\"$ctrl.entries.length\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <div class=\"form-group no-margin-last-child\" ng-repeat=\"entry in $ctrl.entries\">\\n          <div class=\"col-sm-4\">\\n            <select class=\"form-control\" ng-model=\"entry.type\" ng-change=\"$ctrl.onEntriesChange()\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\">\\n              <option value=\"ou\">OU Name</option>\\n              <option value=\"cn\">Folder Name</option>\\n            </select>\\n          </div>\\n          <div class=\"col-sm-5\">\\n            <input\\n              class=\"form-control\"\\n              ng-model=\"entry.value\"\\n              ng-change=\"$ctrl.onEntriesChange()\"\\n              limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n              limited-feature-tabindex=\"-1\"\\n            />\\n          </div>\\n          <div class=\"col-sm-3 text-right\">\\n            <button\\n              class=\"btn btn-sm btn-primary\"\\n              type=\"button\"\\n              ng-disabled=\"$first\"\\n              ng-click=\"$ctrl.moveUp($index)\"\\n              limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n              limited-feature-tabindex=\"-1\"\\n            >\\n              <i class=\"fa fa-arrow-up\" aria-hidden=\"true\"></i>\\n            </button>\\n            <button\\n              class=\"btn btn-sm btn-primary\"\\n              type=\"button\"\\n              ng-disabled=\"$last\"\\n              ng-click=\"$ctrl.moveDown($index)\"\\n              limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n              limited-feature-tabindex=\"-1\"\\n            >\\n              <i class=\"fa fa-arrow-down\" aria-hidden=\"true\"></i>\\n            </button>\\n            <button\\n              class=\"btn btn-sm btn-danger\"\\n              type=\"button\"\\n              ng-click=\"$ctrl.removeEntry($index)\"\\n              limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n              limited-feature-tabindex=\"-1\"\\n            >\\n              <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n            </button>\\n          </div>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},88006:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-settings-group-dn-builder/ldap-settings-group-dn-builder.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"form-group\">\\n  <label for=\"group-name-input\" class=\"col-sm-4 control-label text-left\"> Group Name </label>\\n  <div class=\"col-sm-7\" style=\"padding-left: 0\">\\n    <input\\n      type=\"text\"\\n      class=\"form-control\"\\n      id=\"group-name-input\"\\n      ng-model=\"$ctrl.groupName\"\\n      ng-change=\"$ctrl.onGroupNameChange()\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    />\\n  </div>\\n  <div class=\"col-sm-1\">\\n    <button\\n      type=\"button\"\\n      class=\"btn btn-danger btn-sm\"\\n      ng-if=\"$ctrl.onRemoveClick\"\\n      ng-click=\"$ctrl.onRemoveClick()\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n    </button>\\n  </div>\\n</div>\\n\\n<ldap-settings-dn-builder\\n  ng-model=\"$ctrl.entries\"\\n  label=\"Path to group\"\\n  suffix=\"{{ $ctrl.suffix }}\"\\n  on-change=\"($ctrl.onEntriesChange)\"\\n  on-remove-click=\"($ctrl.removeGroup)\"\\n  limited-feature-id=\"$ctrl.limitedFeatureId\"\\n></ldap-settings-dn-builder>\\n')}]),e.exports=t},69939:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-settings-openldap/ldap-settings-openldap.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<ng-form limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-class=\"limited-be\" class=\"ldap-settings-openldap\">\\n  <be-feature-indicator feature=\"$ctrl.limitedFeatureId\" class=\"my-8 block\"></be-feature-indicator>\\n\\n  <div>\\n    <div class=\"col-sm-12 form-section-title\"> Information </div>\\n    <div class=\"form-group col-sm-12 text-muted small\">\\n      When using LDAP authentication, Portainer will delegate user authentication to a LDAP server and fallback to internal authentication if LDAP authentication fails.\\n    </div>\\n  </div>\\n\\n  <div class=\"col-sm-12 form-section-title\"> LDAP configuration </div>\\n\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12 small text-muted\">\\n      <p>\\n        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n        You can configure multiple LDAP Servers for authentication fallback. Make sure all servers are using the same configuration (i.e. if TLS is enabled, they should all use the\\n        same certificates).\\n      </p>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"ldap_url\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"display: flex; flex-wrap: wrap\">\\n      LDAP Server\\n      <button\\n        type=\"button\"\\n        class=\"label label-default interactive\"\\n        style=\"border: 0\"\\n        ng-click=\"$ctrl.addLDAPUrl()\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      >\\n        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Add additional server\\n      </button>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <div ng-repeat=\"url in $ctrl.settings.URLs track by $index\" style=\"display: flex; margin-bottom: 10px\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"ldap_url\"\\n          ng-model=\"$ctrl.settings.URLs[$index]\"\\n          placeholder=\"e.g. 10.0.0.10:389 or myldap.domain.tld:389\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n        <button\\n          ng-if=\"$index > 0\"\\n          class=\"btn btn-sm btn-danger\"\\n          type=\"button\"\\n          ng-click=\"$ctrl.removeLDAPUrl($index)\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        >\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n\\n  \\x3c!-- Anonymous mode--\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"anonymous_mode\" class=\"control-label text-left col-sm-3\" style=\"padding-top: 0\">\\n      Anonymous mode\\n      <portainer-tooltip position=\"bottom\" message=\"Enable this option if the server is configured for Anonymous access.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9\">\\n      <label class=\"switch\">\\n        <input\\n          type=\"checkbox\"\\n          id=\"anonymous_mode\"\\n          ng-model=\"$ctrl.settings.AnonymousMode\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        /><i></i>\\n      </label>\\n    </div>\\n  </div>\\n  \\x3c!-- !Anonymous mode--\\x3e\\n\\n  <div ng-if=\"!$ctrl.settings.AnonymousMode\">\\n    <div class=\"form-group\">\\n      <label for=\"ldap_username\" class=\"col-sm-3 control-label text-left\">\\n        Reader DN\\n        <portainer-tooltip position=\"bottom\" message=\"Account that will be used to search for users.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"ldap_username\"\\n          ng-model=\"$ctrl.settings.ReaderDN\"\\n          placeholder=\"cn=user,dc=domain,dc=tld\"\\n          ng-change=\"$ctrl.onAccountChange($ctrl.settings.ReaderDN)\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"ldap_password\" class=\"col-sm-3 control-label text-left\">\\n        Password\\n        <portainer-tooltip position=\"bottom\" message=\"If you do not enter a password, Portainer will leave the current password unchanged.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9\">\\n        <input\\n          type=\"password\"\\n          class=\"form-control\"\\n          id=\"ldap_password\"\\n          ng-model=\"$ctrl.settings.Password\"\\n          placeholder=\"password\"\\n          autocomplete=\"new-password\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.settings.AnonymousMode\">\\n    <label for=\"ldap_domain_root\" class=\"col-sm-3 control-label text-left\"> Domain root </label>\\n    <div class=\"col-sm-9\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        id=\"ldap_domain_root\"\\n        ng-model=\"$ctrl.domainSuffix\"\\n        placeholder=\"dc=domain,dc=tld\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      />\\n    </div>\\n  </div>\\n\\n  <ldap-connectivity-check\\n    ng-if=\"!$ctrl.settings.TLSConfig.TLS && !$ctrl.settings.StartTLS\"\\n    settings=\"$ctrl.settings\"\\n    state=\"$ctrl.state\"\\n    connectivity-check=\"$ctrl.connectivityCheck\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-connectivity-check>\\n\\n  <ldap-settings-security\\n    title=\"Connectivity Security\"\\n    settings=\"$ctrl.settings\"\\n    tlsca-cert=\"$ctrl.tlscaCert\"\\n    upload-in-progress=\"$ctrl.state.uploadInProgress\"\\n    on-tlsca-cert-change=\"($ctrl.onTlscaCertChange)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-settings-security>\\n\\n  <ldap-connectivity-check\\n    ng-if=\"$ctrl.settings.TLSConfig.TLS || $ctrl.settings.StartTLS\"\\n    settings=\"$ctrl.settings\"\\n    state=\"$ctrl.state\"\\n    connectivity-check=\"$ctrl.connectivityCheck\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-connectivity-check>\\n\\n  <ldap-user-search\\n    style=\"margin-top: 5px\"\\n    settings=\"$ctrl.settings.SearchSettings\"\\n    domain-suffix=\"{{ $ctrl.domainSuffix }}\"\\n    base-filter=\"(objectClass=inetOrgPerson)\"\\n    on-search-click=\"($ctrl.onSearchUsersClick)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-user-search>\\n\\n  <ldap-group-search\\n    style=\"margin-top: 5px\"\\n    settings=\"$ctrl.settings.GroupSearchSettings\"\\n    domain-suffix=\"{{ $ctrl.domainSuffix }}\"\\n    base-filter=\"(objectClass=groupOfNames)\"\\n    on-search-click=\"($ctrl.onSearchGroupsClick)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-group-search>\\n\\n  <ldap-settings-test-login settings=\"$ctrl.settings\" limited-feature-id=\"$ctrl.limitedFeatureId\"></ldap-settings-test-login>\\n  <save-auth-settings-button\\n    on-save-settings=\"($ctrl.onSaveSettings)\"\\n    save-button-state=\"($ctrl.saveButtonState)\"\\n    save-button-disabled=\"!$ctrl.saveButtonDisabled()\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></save-auth-settings-button>\\n</ng-form>\\n')}]),e.exports=t},39720:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-settings-security/ldap-settings-security.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\">\\n  {{ $ctrl.title || \\'LDAP security\\' }}\\n</div>\\n\\n\\x3c!-- starttls --\\x3e\\n<div class=\"form-group\" ng-if=\"!$ctrl.settings.TLSConfig.TLS\">\\n  <label for=\"tls\" class=\"control-label col-sm-3 text-left\" style=\"padding-top: 0\">\\n    Use StartTLS\\n    <portainer-tooltip\\n      position=\"bottom\"\\n      message=\"Enable this option if want to use StartTLS to secure the connection to the server. Ignored if Use TLS is selected.\"\\n    ></portainer-tooltip>\\n  </label>\\n  <div class=\"col-sm-9\">\\n    <label class=\"switch\">\\n      <input type=\"checkbox\" ng-model=\"$ctrl.settings.StartTLS\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\" /><i></i>\\n    </label>\\n  </div>\\n</div>\\n\\x3c!-- !starttls --\\x3e\\n\\n\\x3c!-- tls-checkbox --\\x3e\\n<div class=\"form-group\" ng-if=\"!$ctrl.settings.StartTLS\">\\n  <label for=\"tls\" class=\"control-label col-sm-3 text-left\" style=\"padding-top: 0\">\\n    Use TLS\\n    <portainer-tooltip position=\"bottom\" message=\"Enable this option if you need to specify TLS certificates to connect to the LDAP server.\"></portainer-tooltip>\\n  </label>\\n  <div class=\"col-sm-9\">\\n    <label class=\"switch\">\\n      <input type=\"checkbox\" ng-model=\"$ctrl.settings.TLSConfig.TLS\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\" /><i></i>\\n    </label>\\n  </div>\\n</div>\\n\\x3c!-- !tls-checkbox --\\x3e\\n\\n\\x3c!-- tls-skip-verify --\\x3e\\n<div class=\"form-group\">\\n  <label for=\"tls\" class=\"control-label col-sm-3 text-left\" style=\"padding-top: 0\">\\n    Skip verification of server certificate\\n    <portainer-tooltip position=\"bottom\" message=\"Skip the verification of the server TLS certificate. Not recommended on unsecured networks.\"></portainer-tooltip>\\n  </label>\\n  <div class=\"col-sm-9\">\\n    <label class=\"switch\">\\n      <input type=\"checkbox\" ng-model=\"$ctrl.settings.TLSConfig.TLSSkipVerify\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\" /><i></i>\\n    </label>\\n  </div>\\n</div>\\n\\x3c!-- !tls-skip-verify --\\x3e\\n\\n\\x3c!-- ca-input --\\x3e\\n<div class=\"form-group\" ng-if=\"$ctrl.settings.TLSConfig.TLS || ($ctrl.settings.StartTLS && !$ctrl.settings.TLSConfig.TLSSkipVerify)\">\\n  <label class=\"col-sm-3 control-label text-left\">TLS CA certificate</label>\\n  <div class=\"col-sm-9\">\\n    <button\\n      type=\"button\"\\n      class=\"btn btn-sm btn-primary\"\\n      ngf-select=\"$ctrl.onTlscaCertChange($file)\"\\n      ng-model=\"$ctrl.tlscaCert\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      Select file\\n    </button>\\n    <span style=\"margin-left: 5px\">\\n      {{ $ctrl.tlscaCert.name }}\\n      <i class=\"fa fa-check green-icon\" ng-if=\"$ctrl.tlscaCert && $ctrl.tlscaCert === $ctrl.settings.TLSConfig.TLSCACert\" aria-hidden=\"true\"></i>\\n      <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.tlscaCert\" aria-hidden=\"true\"></i>\\n      <i class=\"fa fa-circle-notch fa-spin\" ng-if=\"$ctrl.uploadInProgress\"></i>\\n    </span>\\n  </div>\\n</div>\\n\\x3c!-- !ca-input --\\x3e\\n')}]),e.exports=t},25649:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-settings-test-login/ldap-settings-test-login.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\" ng-style=\"$ctrl.isLimitedFeatureSelfContained && { \\'padding-bottom\\': \\'15px\\' }\">\\n  Test login\\n  <be-feature-indicator\\n    ng-if=\"$ctrl.showBeIndicatorIfNeeded\"\\n    feature=\"$ctrl.limitedFeatureId\"\\n    class=\"space-left\"\\n    ng-if=\"$ctrl.isLimitedFeatureSelfContained\"\\n  ></be-feature-indicator>\\n</div>\\n<div class=\"form-inline\">\\n  <div class=\"form-group\" style=\"margin: 0\">\\n    <label for=\"ldap_test_username\" style=\"font-size: 0.9em; margin-right: 5px\"> Username </label>\\n    <input\\n      type=\"text\"\\n      class=\"form-control\"\\n      id=\"ldap_test_username\"\\n      ng-model=\"$ctrl.username\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n      ng-disabled=\"{{ $ctrl.isLimitedFeatureSelfContained }}\"\\n      limited-feature-tabindex=\"-1\"\\n    />\\n  </div>\\n\\n  <div class=\"form-group no-margin\">\\n    <label for=\"ldap_test_password\"> Password </label>\\n    <input\\n      type=\"password\"\\n      class=\"form-control\"\\n      id=\"ldap_test_password\"\\n      ng-model=\"$ctrl.password\"\\n      autocomplete=\"new-password\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n      ng-disabled=\"{{ $ctrl.isLimitedFeatureSelfContained }}\"\\n      limited-feature-tabindex=\"-1\"\\n    />\\n  </div>\\n\\n  <div class=\"form-group no-margin\">\\n    <button\\n      type=\"submit\"\\n      class=\"btn btn-primary\"\\n      ng-disabled=\"$ctrl.state.testStatus === $ctrl.TEST_STATUS.LOADING || !$ctrl.username || !$ctrl.password\"\\n      ng-click=\"$ctrl.testLogin($ctrl.username, $ctrl.password)\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      <span ng-if=\"$ctrl.state.testStatus !== $ctrl.TEST_STATUS.LOADING\">Test</span>\\n      <span ng-if=\"$ctrl.state.testStatus === $ctrl.TEST_STATUS.LOADING\">Testing...</span>\\n    </button>\\n    <i ng-if=\"$ctrl.state.testStatus === $ctrl.TEST_STATUS.SUCCESS\" class=\"fa fa-check green-icon\"></i>\\n    <i ng-if=\"$ctrl.state.testStatus === $ctrl.TEST_STATUS.FAILURE\" class=\"fa fa-times red-icon\"></i>\\n  </div>\\n</div>\\n')}]),e.exports=t},75634:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-settings/ldap-settings.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div>\\n  <auto-user-provision-toggle ng-model=\"$ctrl.settings.AutoCreateUsers\">\\n    <field-description>\\n      With automatic user provisioning enabled, Portainer will create user(s) automatically with standard user role and assign them to team(s) which matches to LDAP group name(s).\\n      If disabled, users must be created in Portainer beforehand.\\n    </field-description>\\n  </auto-user-provision-toggle>\\n\\n  <div class=\"col-sm-12 form-section-title\"> Server Type </div>\\n\\n  <box-selector\\n    style=\"margin-bottom: 0\"\\n    radio-name=\"\\'ldap-server-type-selector\\'\"\\n    value=\"$ctrl.settings.ServerType\"\\n    options=\"$ctrl.boxSelectorOptions\"\\n    on-change=\"($ctrl.onChangeServerType)\"\\n  ></box-selector>\\n\\n  <ldap-settings-custom\\n    ng-if=\"$ctrl.settings.ServerType === $ctrl.SERVER_TYPES.CUSTOM\"\\n    settings=\"$ctrl.settings\"\\n    tlsca-cert=\"$ctrl.tlscaCert\"\\n    state=\"$ctrl.state\"\\n    on-tlsca-cert-change=\"($ctrl.onTlscaCertChange)\"\\n    connectivity-check=\"$ctrl.connectivityCheck\"\\n    on-search-users-click=\"($ctrl.searchUsers)\"\\n    on-search-groups-click=\"($ctrl.searchGroups)\"\\n    on-save-settings=\"($ctrl.onSaveSettings)\"\\n    save-button-state=\"($ctrl.saveButtonState)\"\\n    save-button-disabled=\"$ctrl.isLdapFormValid\"\\n  ></ldap-settings-custom>\\n  <ldap-settings-open-ldap\\n    ng-if=\"$ctrl.settings.ServerType === $ctrl.SERVER_TYPES.OPEN_LDAP\"\\n    settings=\"$ctrl.settings\"\\n    tlsca-cert=\"$ctrl.tlscaCert\"\\n    state=\"$ctrl.state\"\\n    on-tlsca-cert-change=\"($ctrl.onTlscaCertChange)\"\\n    connectivity-check=\"$ctrl.connectivityCheck\"\\n    on-search-users-click=\"($ctrl.searchUsers)\"\\n    on-search-groups-click=\"($ctrl.searchGroups)\"\\n    on-save-settings=\"($ctrl.onSaveSettings)\"\\n    save-button-state=\"($ctrl.saveButtonState)\"\\n    save-button-disabled=\"$ctrl.isLdapFormValid\"\\n  ></ldap-settings-open-ldap>\\n</div>\\n')}]),e.exports=t},25972:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-user-search-item/ldap-user-search-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-widget>\\n  <rd-widget-body>\\n    <div ng-if=\"$ctrl.index > 0\" style=\"margin-bottom: 10px\">\\n      <span class=\"text-muted small\"> Extra search configuration </span>\\n      <button\\n        ng-if=\"$ctrl.index > 0\"\\n        class=\"btn btn-sm btn-danger\"\\n        type=\"button\"\\n        ng-click=\"$ctrl.onRemoveClick($ctrl.index)\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      >\\n        <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n      </button>\\n    </div>\\n\\n    <div class=\"form-group\" ng-if=\"$ctrl.showUsernameFormat\">\\n      <div class=\"col-sm-4\" style=\"margin-bottom: 5px\">\\n        <label class=\"control-label text-left\">Username Format</label>\\n      </div>\\n      <div class=\"col-sm-8\">\\n        <div class=\"input-group\">\\n          <div class=\"input-group-btn\">\\n            <button\\n              class=\"btn btn-primary\"\\n              ng-model=\"$ctrl.config.UserNameAttribute\"\\n              uib-btn-radio=\"\\'sAMAccountName\\'\"\\n              style=\"margin-left: 0px\"\\n              limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n              limited-feature-tabindex=\"-1\"\\n              >username</button\\n            >\\n            <button\\n              class=\"btn btn-primary\"\\n              ng-model=\"$ctrl.config.UserNameAttribute\"\\n              uib-btn-radio=\"\\'userPrincipalName\\'\"\\n              limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n              limited-feature-tabindex=\"-1\"\\n              >user@domainname</button\\n            >\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label class=\"col-sm-4 control-label text-left\"> Root Domain </label>\\n      <div class=\"col-sm-8\">\\n        {{ $ctrl.config.BaseDN }}\\n      </div>\\n    </div>\\n\\n    <ldap-settings-dn-builder\\n      ng-model=\"$ctrl.config.BaseDN\"\\n      label=\"User Search Path (optional)\"\\n      suffix=\"{{ $ctrl.domainSuffix }}\"\\n      on-change=\"($ctrl.onBaseDNChange)\"\\n      limited-feature-id=\"$ctrl.limitedFeatureId\"\\n    ></ldap-settings-dn-builder>\\n\\n    <div class=\"form-group no-margin-last-child\">\\n      <div class=\"col-sm-12\" style=\"margin-bottom: 5px\">\\n        <label class=\"control-label text-left\">Allowed Groups (optional)</label>\\n        <button\\n          type=\"button\"\\n          class=\"label label-default interactive\"\\n          style=\"margin-left: 10px; border: 0\"\\n          ng-click=\"$ctrl.addGroup()\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        >\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add another group\\n        </button>\\n      </div>\\n      <div class=\"col-sm-12\">\\n        <div ng-repeat=\"group in $ctrl.groups track by $index\" style=\"margin-bottom: 10px\">\\n          <rd-widget>\\n            <rd-widget-body>\\n              <ldap-settings-group-dn-builder\\n                ng-model=\"group\"\\n                index=\"$index\"\\n                suffix=\"{{ $ctrl.domainSuffix }}\"\\n                on-change=\"($ctrl.onGroupChange)\"\\n                on-remove-click=\"($ctrl.removeGroup)\"\\n                limited-feature-id=\"$ctrl.limitedFeatureId\"\\n              ></ldap-settings-group-dn-builder>\\n            </rd-widget-body>\\n          </rd-widget>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label class=\"col-sm-4 control-label text-left\"> User Filter </label>\\n      <div class=\"col-sm-8\">\\n        {{ $ctrl.config.Filter }}\\n      </div>\\n    </div>\\n  </rd-widget-body>\\n</rd-widget>\\n')}]),e.exports=t},36452:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-user-search/ldap-user-search.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\" style=\"float: initial\"> User search configurations </div>\\n\\n<div style=\"margin-top: 10px\" ng-repeat=\"config in $ctrl.settings | limitTo: (1 - $ctrl.settings)\">\\n  <ldap-user-search-item\\n    index=\"$index\"\\n    config=\"config\"\\n    domain-suffix=\"{{ $ctrl.domainSuffix }}\"\\n    show-username-format=\"$ctrl.showUsernameFormat\"\\n    base-filter=\"{{ $ctrl.baseFilter }}\"\\n    on-remove-click=\"($ctrl.onRemoveClick)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-user-search-item>\\n</div>\\n\\n<div class=\"form-group\" style=\"margin-top: 10px\">\\n  <div class=\"col-sm-12\">\\n    <button\\n      class=\"label label-default interactive\"\\n      style=\"border: 0\"\\n      ng-click=\"$ctrl.onAddClick()\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add user search configuration\\n    </button>\\n  </div>\\n  <div class=\"col-sm-12\" style=\"margin-top: 10px\">\\n    <button class=\"btn btm-sm btn-primary\" type=\"button\" ng-click=\"$ctrl.search()\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\">\\n      Display Users\\n    </button>\\n  </div>\\n</div>\\n\\n<div ng-if=\"$ctrl.showTable\">\\n  <div class=\"form-group\">\\n    <ldap-users-datatable dataset=\"$ctrl.users\" title-text=\"Users\" title-icon=\"fa-users\" table-key=\"ldapUsers\" order-by=\"\" reverse-order=\"\"></ldap-users-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},30235:function(e){var t=\"app/portainer/settings/authentication/ldap/ldap-users-datatable/ldap-users-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <a ui-sref=\"portainer.groups.group({id: item.Id})\">{{ item }}</a>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No users found.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px\"> Items per page </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},83133:function(e){var t=\"app/portainer/settings/authentication/save-auth-settings-button/save-auth-settings-button.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\"> Actions </div>\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <button\\n      type=\"button\"\\n      ng-class=\"[$ctrl.className, \\'btn btn-primary btn-sm\\']\"\\n      ng-click=\"$ctrl.onSaveSettings()\"\\n      ng-disabled=\"$ctrl.saveButtonDisabled || $ctrl.saveButtonState\"\\n      button-spinner=\"$ctrl.saveButtonState\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-class=\"{{::$ctrl.limitedFeatureClass}}\"\\n    >\\n      <span ng-hide=\"$ctrl.saveButtonState\">Save settings</span>\\n      <span ng-show=\"$ctrl.saveButtonState\">Saving...</span>\\n    </button>\\n  </div>\\n</div>\\n')}]),e.exports=t},83791:function(e){var t=\"app/portainer/settings/general/ssl-certificate/ssl-certificate.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-key\" title-text=\"SSL certificate\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"$ctrl.sslForm\">\\n          <span class=\"small\">\\n            <p class=\"text-muted\">\\n              <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              Forcing HTTPs only will cause Portainer to stop listening on the HTTP port. Any edge agent environment that is using HTTP will no longer be available.\\n            </p>\\n          </span>\\n\\n          <por-switch-field checked=\"$ctrl.formValues.forceHTTPS\" label=\"\\'Force HTTPS only\\'\" on-change=\"($ctrl.onChangeForceHTTPS)\"></por-switch-field>\\n\\n          <hr />\\n\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12\"> Provide a new SSL Certificate to replace the existing one that is used for HTTPS connections. </span>\\n          </div>\\n\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12\"> Upload a X.509 certificate, commonly a crt, a cer, or a pem file. </span>\\n          </div>\\n\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.formValues.certFile\" ngf-pattern=\"$ctrl.certFilePattern\" name=\"certFile\"> Select file </button>\\n              <span style=\"margin-left: 5px\">\\n                {{ $ctrl.formValues.certFile.name }}\\n                <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formValues.certFile\" aria-hidden=\"true\"></i>\\n              </span>\\n            </div>\\n          </div>\\n          <div class=\"form-group col-md-12\" ng-show=\"$ctrl.sslForm.certFile.$invalid\">\\n            <div class=\"small text-warning\">\\n              <div ng-messages=\"$ctrl.sslForm.certFile.$error\">\\n                <p ng-message=\"pattern\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> File type is invalid.</p>\\n              </div>\\n            </div>\\n          </div>\\n\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12\"> Upload a private key, commonly a key, or a pem file. </span>\\n          </div>\\n\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.formValues.keyFile\" ngf-pattern=\"$ctrl.keyFilePattern\" name=\"keyFile\"> Select file </button>\\n              <span style=\"margin-left: 5px\">\\n                {{ $ctrl.formValues.keyFile.name }}\\n                <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formValues.keyFile\" aria-hidden=\"true\"></i>\\n              </span>\\n            </div>\\n          </div>\\n          <div class=\"form-group col-md-12\" ng-show=\"$ctrl.sslForm.keyFile.$invalid\">\\n            <div class=\"small text-warning\">\\n              <div ng-messages=\"$ctrl.sslForm.keyFile.$error\">\\n                <p ng-message=\"pattern\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> File type is invalid.</p>\\n              </div>\\n            </div>\\n          </div>\\n\\n          <hr />\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.state.actionInProgress || !$ctrl.isFormChanged()\"\\n                ng-click=\"$ctrl.save()\"\\n                button-spinner=\"$ctrl.state.actionInProgress\"\\n                analytics-on\\n                analytics-if=\"$ctrl.wasHTTPsChanged()\"\\n                analytics-category=\"portainer\"\\n                analytics-event=\"portainer-settings-edit\"\\n                analytics-properties=\"{ metadata: { forceHTTPS: $ctrl.formValues.forceHTTPS } }\"\\n              >\\n                <span ng-hide=\"$ctrl.state.actionInProgress || $ctrl.state.reloadingPage\">Apply Changes</span>\\n                <span ng-show=\"$ctrl.state.actionInProgress\">Saving in progress...</span>\\n                <span ng-show=\"$ctrl.state.reloadingPage\">Reloading Page...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},79765:function(e){var t=\"app/portainer/user-activity/activity-logs-view/activity-logs-datatable/activity-logs-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable datatable-empty\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <datatable-titlebar title=\"Activity Logs\" icon=\"fa-history\" feature=\"{{::$ctrl.feature}}\"></datatable-titlebar>\\n      <datatable-searchbar on-change=\"($ctrl.onChangeKeyword)\" ng-model=\"$ctrl.keyword\"></datatable-searchbar>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover\">\\n          <thead>\\n            <tr>\\n              <th class=\"small-column\">\\n                <a ng-click=\"$ctrl.changeSort(\\'Timestamp\\')\">\\n                  Time\\n                  <datatable-sort-icon key=\"Timestamp\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n              </th>\\n              <th class=\"small-column\">\\n                <a ng-click=\"$ctrl.changeSort(\\'Username\\')\">\\n                  User\\n                  <datatable-sort-icon key=\"Username\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n              </th>\\n              <th class=\"small-column\">\\n                <a ng-click=\"$ctrl.changeSort(\\'Context\\')\">\\n                  Environment\\n                  <datatable-sort-icon key=\"Context\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n              </th>\\n\\n              <th> Action </th>\\n              <th> Payload </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr dir-paginate-start=\"item in $ctrl.logs | itemsPerPage: $ctrl.limit\" total-items=\"$ctrl.totalItems\" current-page=\"$ctrl.currentPage\">\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n            </tr>\\n            <tr dir-paginate-end ng-show=\"item.Expanded\">\\n              <td colspan=\"5\">\\n                <json-tree object=\"item.payload\" root-name=\"containerInfo.Id\" start-expanded=\"true\"></json-tree>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.logs\">\\n              <td class=\"text-center text-muted\" colspan=\"5\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.logs.length === 0\">\\n              <td class=\"text-center text-muted\" colspan=\"8\"> No logs available. </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.logs\">\\n        <datatable-pagination limit=\"$ctrl.limit\" on-change-limit=\"($ctrl.handleChangeLimit)\" on-change-page=\"($ctrl.onChangePage)\"></datatable-pagination>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},28459:function(e){var t=\"app/portainer/user-activity/activity-logs-view/activity-logs-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"User Activity\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\".\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Activity Logs</rd-header-content>\\n</rd-header>\\n\\n<div class=\"be-indicator-container\">\\n  <rd-widget>\\n    <rd-widget-body>\\n      <div class=\"form-horizontal\">\\n        <div class=\"form-group\">\\n          <label for=\"dateRangeInput\" class=\"col-sm-2 control-label text-left\">Date Range</label>\\n          <div class=\"col-sm-6\">\\n            <input type=\"text\" class=\"form-control\" disabled />\\n          </div>\\n        </div>\\n      </div>\\n\\n      <p class=\"text-muted small\">\\n        <i class=\"fa fa-info-circle blue-icon space-right\" aria-hidden=\"true\"></i>\\n        Portainer user activity logs have a maximum retention of 7 days.\\n      </p>\\n\\n      <div>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" limited-feature-dir=\"{{::$ctrl.limitedFeature}}\" limited-feature-class=\"limited-be\" limited-feature-disabled>\\n          <i class=\"fa fa-download space-right\" aria-hidden=\"true\"></i>Export as CSV\\n        </button>\\n        <be-feature-indicator feature=\"$ctrl.limitedFeature\"></be-feature-indicator>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n\\n  <activity-logs-datatable\\n    logs=\"$ctrl.state.logs\"\\n    keyword=\"$ctrl.state.keyword\"\\n    sort=\"$ctrl.state.sort\"\\n    limit=\"$ctrl.state.limit\"\\n    context-filter=\"$ctrl.state.contextFilter\"\\n    total-items=\"$ctrl.state.totalItems\"\\n    current-page=\"$ctrl.state.currentPage\"\\n    feature=\"{{:: $ctrl.limitedFeature}}\"\\n    on-change-keyword=\"($ctrl.onChangeKeyword)\"\\n    on-change-sort=\"($ctrl.onChangeSort)\"\\n    on-change-limit=\"($ctrl.onChangeLimit)\"\\n    on-change-page=\"($ctrl.onChangePage)\"\\n  ></activity-logs-datatable>\\n</div>\\n')}]),e.exports=t},28572:function(e){var t=\"app/portainer/user-activity/auth-logs-view/auth-logs-datatable/auth-logs-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"datatable datatable-empty\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <datatable-titlebar title=\"Authentication Events\" icon=\"fa-history\" feature=\"{{::$ctrl.feature}}\"></datatable-titlebar>\\n      <datatable-searchbar on-change=\"($ctrl.onChangeKeyword)\" ng-model=\"$ctrl.keyword\"></datatable-searchbar>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a>\\n                  Time\\n                  <datatable-sort-icon key=\"Timestamp\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n              </th>\\n              <th>\\n                <a>\\n                  Origin\\n                  <datatable-sort-icon key=\"Origin\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n              </th>\\n              <th>\\n                <a>\\n                  Context\\n                  <datatable-sort-icon key=\"Context\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n                <datatable-filter labels=\"$ctrl.contextFilterLabels\" filter-key=\"context\" state=\"$ctrl.contextFilter\" on-change=\"($ctrl.onChangeContextFilter)\"> </datatable-filter>\\n              </th>\\n              <th>\\n                <a>\\n                  User\\n                  <datatable-sort-icon key=\"Username\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n              </th>\\n              <th> Result </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr dir-paginate=\"item in $ctrl.logs | itemsPerPage: $ctrl.limit\" total-items=\"$ctrl.totalItems\" current-page=\"$ctrl.currentPage\">\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.logs\">\\n              <td class=\"text-center text-muted\" colspan=\"5\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.logs.length === 0\">\\n              <td class=\"text-center text-muted\" colspan=\"8\"> No logs available. </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.logs\">\\n        <datatable-pagination limit=\"$ctrl.limit\" on-change-limit=\"($ctrl.handleChangeLimit)\" on-change-page=\"($ctrl.onChangePage)\"></datatable-pagination>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=t},22261:function(e){var t=\"app/portainer/user-activity/auth-logs-view/auth-logs-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"User Activity\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.authLogs\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>User authentication activity</rd-header-content>\\n</rd-header>\\n\\n<div class=\"be-indicator-container\">\\n  <rd-widget>\\n    <rd-widget-body>\\n      <div class=\"form-horizontal\">\\n        <div class=\"form-group\">\\n          <label for=\"dateRangeInput\" class=\"col-sm-2 control-label text-left\">Date Range</label>\\n          <div class=\"col-sm-6\">\\n            <input type=\"text\" class=\"form-control\" disabled />\\n          </div>\\n        </div>\\n      </div>\\n\\n      <p class=\"text-muted small\">\\n        <i class=\"fa fa-info-circle blue-icon space-right\" aria-hidden=\"true\"></i>\\n        Portainer user authentication activity logs have a maximum retention of 7 days.\\n      </p>\\n\\n      <div>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" limited-feature-dir=\"{{::$ctrl.limitedFeature}}\" limited-feature-class=\"limited-be\" limited-feature-disabled\\n          ><i class=\"fa fa-download space-right\" aria-hidden=\"true\"></i>Export as CSV\\n        </button>\\n        <be-feature-indicator feature=\"$ctrl.limitedFeature\"></be-feature-indicator>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n\\n  <auth-logs-datatable\\n    logs=\"$ctrl.state.logs\"\\n    keyword=\"$ctrl.state.keyword\"\\n    sort=\"$ctrl.state.sort\"\\n    limit=\"$ctrl.state.limit\"\\n    context-filter=\"$ctrl.state.contextFilter\"\\n    type-filter=\"$ctrl.state.typeFilter\"\\n    total-items=\"$ctrl.state.totalItems\"\\n    current-page=\"$ctrl.state.currentPage\"\\n    feature=\"{{:: $ctrl.limitedFeature}}\"\\n    on-change-context-filter=\"($ctrl.onChangeContextFilter)\"\\n    on-change-type-filter=\"($ctrl.onChangeTypeFilter)\"\\n    on-change-keyword=\"($ctrl.onChangeKeyword)\"\\n    on-change-sort=\"($ctrl.onChangeSort)\"\\n    on-change-limit=\"($ctrl.onChangeLimit)\"\\n    on-change-page=\"($ctrl.onChangePage)\"\\n  ></auth-logs-datatable>\\n</div>\\n')}]),e.exports=t},27452:function(e){var t=\"app/portainer/views/account/account.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"User settings\"></rd-header-title>\\n  <rd-header-content>User settings</rd-header-content>\\n</rd-header>\\n\\n<demo-feature-indicator ng-if=\"isDemoUser\" content=\"\\'You cannot change the password of this account in the demo version of Portainer.\\'\"> </demo-feature-indicator>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-lock\" title-text=\"Change user password\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form name=\"form\" class=\"form-horizontal\" style=\"margin-top: 15px\">\\n          \\x3c!-- current-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"current_password\" class=\"col-sm-2 control-label text-left\">Current password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.currentPassword\" id=\"current_password\" />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !current-password-input --\\x3e\\n          \\x3c!-- new-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"new_password\" class=\"col-sm-2 control-label text-left\">New password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.newPassword\" ng-minlength=\"requiredPasswordLength\" id=\"new_password\" name=\"new_password\" />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !new-password-input --\\x3e\\n\\n          \\x3c!-- confirm-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"confirm_password\" class=\"col-sm-2 control-label text-left\">Confirm password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.confirmPassword\" id=\"confirm_password\" />\\n                <span class=\"input-group-addon\"\\n                  ><i\\n                    ng-class=\"\\n                      { true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[\\n                        form.new_password.$viewValue !== \\'\\' && form.new_password.$viewValue === formValues.confirmPassword\\n                      ]\\n                    \"\\n                    aria-hidden=\"true\"\\n                  ></i\\n                ></span>\\n              </div>\\n            </div>\\n          </div>\\n          <password-check-hint password-valid=\"form.new_password.$valid && formValues.newPassword\" force-change-password=\"forceChangePassword\"></password-check-hint>\\n          <div ng-if=\"userRole === 1\">\\n            <p class=\"text-muted\">\\n              <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\"></i>\\n              Minimum password length is set <a ui-sref=\"portainer.settings.authentication\">here.</a>\\n            </p>\\n          </div>\\n          \\x3c!-- !confirm-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"isDemoUser || (AuthenticationMethod !== 1 && !initialUser) || !formValues.currentPassword || !formValues.newPassword || !formValues.confirmPassword || form.$invalid || form.new_password.$viewValue !== formValues.confirmPassword\"\\n                ng-click=\"updatePassword()\"\\n              >\\n                Update password\\n              </button>\\n              <button type=\"submit\" class=\"btn btn-primary btn-sm\" ng-click=\"skipPasswordChange()\" ng-if=\"forceChangePassword && timesPasswordChangeSkipped < 2\"\\n                >Remind me later</button\\n              >\\n              <span class=\"text-muted small\" style=\"margin-left: 5px\" ng-if=\"AuthenticationMethod === 2 && !initialUser\">\\n                <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                You cannot change your password when using LDAP authentication.\\n              </span>\\n              <span class=\"text-muted small\" style=\"margin-left: 5px\" ng-if=\"AuthenticationMethod === 3 && !initialUser\">\\n                <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                You cannot change your password when using OAuth authentication.\\n              </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n    <access-tokens-datatable\\n      title-text=\"Access tokens\"\\n      title-icon=\"fa-key\"\\n      dataset=\"tokens\"\\n      table-key=\"tokens\"\\n      order-by=\"Description\"\\n      remove-action=\"removeAction\"\\n      ui-can-exit=\"uiCanExit\"\\n    ></access-tokens-datatable>\\n    <theme-settings></theme-settings>\\n  </div>\\n</div>\\n')}]),e.exports=t},48675:function(e){var t=\"app/portainer/views/account/create-user-access-token/create-user-access-token.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create access token\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.account\">User settings</a> &gt; Add access token </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    \\x3c!-- mount react feature/view --\\x3e\\n    <create-access-token user-id=\"$ctrl.state.userId\" on-submit=\"($ctrl.onSubmit)\" on-success=\"($ctrl.onSuccess)\" on-error=\"($ctrl.onError)\"></create-access-token>\\n  </div>\\n</div>\\n')}]),e.exports=t},6167:function(e,t,n){var a='<div class=\"page-wrapper\">\\n  \\x3c!-- login box --\\x3e\\n  <div class=\"container simple-box\">\\n    <div class=\"col-sm-6 col-sm-offset-3\">\\n      \\x3c!-- login box logo --\\x3e\\n      <div class=\"row\">\\n        <img ng-if=\"!ctrl.logo\" src=\"'+n(21985)+'\" class=\"simple-box-logo\" alt=\"Portainer\" />\\n        <img ng-if=\"ctrl.logo\" ng-src=\"{{ ctrl.logo }}\" class=\"simple-box-logo\" />\\n      </div>\\n      \\x3c!-- !login box logo --\\x3e\\n\\n      \\x3c!-- login panel --\\x3e\\n      <div class=\"panel panel-default\" ng-if=\"!ctrl.state.loginInProgress\">\\n        <div class=\"panel-body\">\\n          \\x3c!-- login form --\\x3e\\n          <form class=\"simple-box-form form-horizontal\">\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\" style=\"display: flex; justify-content: center\" ng-if=\"ctrl.state.showOAuthLogin\">\\n                <a ng-href=\"{{ ctrl.OAuthLoginURI }}\">\\n                  <div class=\"btn btn-primary pull-left\" style=\"font-size: 120%; margin-left: 2px\" ng-if=\"ctrl.state.OAuthProvider === \\'Microsoft\\'\">\\n                    <i class=\"fab fa-microsoft\" aria-hidden=\"true\"></i> Login with Microsoft\\n                  </div>\\n                  <div class=\"btn btn-primary pull-left\" style=\"font-size: 120%; margin-left: 2px\" ng-if=\"ctrl.state.OAuthProvider === \\'Google\\'\">\\n                    <i class=\"fab fa-google\" aria-hidden=\"true\"></i> Login with Google\\n                  </div>\\n                  <div class=\"btn btn-primary pull-left\" style=\"font-size: 120%; margin-left: 2px\" ng-if=\"ctrl.state.OAuthProvider === \\'Github\\'\">\\n                    <i class=\"fab fa-github\" aria-hidden=\"true\"></i> Login with Github\\n                  </div>\\n                  <div class=\"btn btn-primary pull-left\" style=\"font-size: 120%; margin-left: 2px\" ng-if=\"ctrl.state.OAuthProvider === \\'OAuth\\'\">\\n                    <i class=\"fa fa-sign-in-alt\" aria-hidden=\"true\"></i> Login with OAuth\\n                  </div>\\n                </a>\\n              </div>\\n            </div>\\n\\n            \\x3c!-- divider --\\x3e\\n            <div class=\"form-group\" ng-if=\"ctrl.state.showOAuthLogin\">\\n              <div class=\"col-sm-12\" style=\"display: flex; align-items: center; justify-content: center\">\\n                <div class=\"striketext small text-muted\" style=\"display: flex; align-items: center; justify-content: center; width: 90%\">or</div>\\n              </div>\\n            </div>\\n\\n            \\x3c!-- use internal auth button --\\x3e\\n            <div class=\"form-group\" ng-if=\"ctrl.state.showOAuthLogin && !ctrl.state.showStandardLogin\">\\n              <div class=\"col-sm-12\" style=\"display: flex; justify-content: center\">\\n                <div class=\"btn btn-sm btn-primary pull-left\" style=\"margin-left: 2px\" ng-click=\"ctrl.toggleStandardLogin()\"> Use internal authentication </div>\\n              </div>\\n            </div>\\n\\n            \\x3c!-- !username input --\\x3e\\n            <div class=\"input-group\" ng-if=\"ctrl.state.showStandardLogin\">\\n              <span class=\"input-group-addon\"><i class=\"fa fa-user\" aria-hidden=\"true\"></i></span>\\n              <input id=\"username\" type=\"text\" class=\"form-control\" name=\"username\" ng-model=\"ctrl.formValues.Username\" auto-focus data-cy=\"auth-usernameInput\" />\\n            </div>\\n\\n            \\x3c!-- password input --\\x3e\\n            <div class=\"input-group\" ng-if=\"ctrl.state.showStandardLogin\">\\n              <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n              <input id=\"password\" type=\"password\" class=\"form-control\" name=\"password\" ng-model=\"ctrl.formValues.Password\" data-cy=\"auth-passwordInput\" />\\n            </div>\\n\\n            <div class=\"form-group\" ng-if=\"ctrl.state.showStandardLogin\">\\n              \\x3c!-- login button --\\x3e\\n              <div class=\"col-sm-12\" style=\"display: flex; align-items: center; justify-content: center\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm pull-right\"\\n                  ng-click=\"ctrl.authenticateUser()\"\\n                  button-spinner=\"ctrl.state.loginInProgress\"\\n                  ng-disabled=\"ctrl.state.loginInProgress\"\\n                  data-cy=\"auth-loginButton\"\\n                >\\n                  <span ng-hide=\"ctrl.state.loginInProgress\"><i class=\"fa fa-sign-in-alt\" aria-hidden=\"true\"></i> Login</span>\\n                  <span ng-show=\"ctrl.state.loginInProgress\">Login in progress...</span>\\n                </button>\\n              </div>\\n            </div>\\n          </form>\\n          \\x3c!-- !login form --\\x3e\\n\\n          \\x3c!-- error message --\\x3e\\n          <div class=\"pull-right\" ng-if=\"ctrl.state.AuthenticationError\">\\n            <i class=\"fa fa-exclamation-triangle red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n            <span class=\"small text-danger\">{{ ctrl.state.AuthenticationError }}</span>\\n          </div>\\n        </div>\\n      </div>\\n\\n      \\x3c!-- !login panel --\\x3e\\n      <div class=\"panel panel-default\" ng-show=\"ctrl.state.loginInProgress\">\\n        <div class=\"panel-body\">\\n          <div class=\"form-group text-center\">\\n            <span class=\"small text-muted\">Authentication in progress... <span button-spinner=\"true\"></span></span>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !login box --\\x3e\\n</div>\\n',r=\"app/portainer/views/auth/auth.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(r,a)}]),e.exports=r},53068:function(e){var t=\"app/portainer/views/custom-templates/create-custom-template-view/createCustomTemplateView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create Custom template\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.templates.custom\">Custom Templates</a> &gt; Create Custom template </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"!$ctrl.state.loading\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"customTemplateForm\">\\n          <custom-template-common-fields\\n            form-values=\"$ctrl.formValues\"\\n            show-platform-field=\"true\"\\n            show-type-field=\"true\"\\n            name-regex=\"$ctrl.state.templateNameRegex\"\\n          ></custom-template-common-fields>\\n\\n          \\x3c!-- build-method --\\x3e\\n          <div ng-if=\"!$ctrl.state.fromStack\">\\n            <div class=\"col-sm-12 form-section-title\"> Build method </div>\\n            <div class=\"form-group\"></div>\\n            <div class=\"form-group\" style=\"margin-bottom: 0\">\\n              <div class=\"boxselector_wrapper\">\\n                <div>\\n                  <input type=\"radio\" id=\"method_editor\" ng-model=\"$ctrl.state.Method\" value=\"editor\" ng-change=\"$ctrl.onChangeMethod()\" />\\n                  <label for=\"method_editor\">\\n                    <div class=\"boxselector_header\">\\n                      <i class=\"fa fa-edit\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      Web editor\\n                    </div>\\n                    <p>Use our Web editor</p>\\n                  </label>\\n                </div>\\n                <div>\\n                  <input type=\"radio\" id=\"method_upload\" ng-model=\"$ctrl.state.Method\" value=\"upload\" ng-change=\"$ctrl.onChangeMethod()\" />\\n                  <label for=\"method_upload\">\\n                    <div class=\"boxselector_header\">\\n                      <i class=\"fa fa-upload\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      Upload\\n                    </div>\\n                    <p>Upload from your computer</p>\\n                  </label>\\n                </div>\\n                <div>\\n                  <input type=\"radio\" id=\"method_repository\" ng-model=\"$ctrl.state.Method\" value=\"repository\" ng-change=\"$ctrl.onChangeMethod()\" />\\n                  <label for=\"method_repository\">\\n                    <div class=\"boxselector_header\">\\n                      <i class=\"fab fa-git\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      Repository\\n                    </div>\\n                    <p>Use a git repository</p>\\n                  </label>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !build-method --\\x3e\\n          \\x3c!-- web-editor --\\x3e\\n          <div ng-show=\"$ctrl.state.Method === \\'editor\\'\">\\n            <div class=\"col-sm-12 form-section-title\"> Web editor </div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                You can get more information about Compose file format in the\\n                <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\"> official documentation </a>\\n                .\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <code-editor\\n                  identifier=\"custom-template-creation-editor\"\\n                  placeholder=\"# Define or paste the content of your docker-compose file here\"\\n                  yml=\"true\"\\n                  value=\"$ctrl.formValues.FileContent\"\\n                  on-change=\"($ctrl.editorUpdate)\"\\n                ></code-editor>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !web-editor --\\x3e\\n          \\x3c!-- upload --\\x3e\\n          <div ng-show=\"$ctrl.state.Method === \\'upload\\'\">\\n            <div class=\"col-sm-12 form-section-title\"> Upload </div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\"> You can upload a Compose file from your computer. </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.formValues.File\"> Select file </button>\\n                <span style=\"margin-left: 5px\">\\n                  {{ $ctrl.formValues.File.name }}\\n                  <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formValues.File\" aria-hidden=\"true\"></i>\\n                </span>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !upload --\\x3e\\n          \\x3c!-- repository --\\x3e\\n          <git-form ng-if=\"$ctrl.state.Method === \\'repository\\'\" model=\"$ctrl.formValues\" on-change=\"($ctrl.handleChange)\"></git-form>\\n\\n          <div class=\"form-group\" ng-if=\"!$ctrl.state.isTemplateValid\">\\n            <div class=\"col-sm-12\">\\n              <div class=\"small text-warning\">\\n                <i class=\"fa fa-exclamation-triangle space-right\" aria-hidden=\"true\"></i>\\n                Template is invalid.\\n              </div>\\n            </div>\\n          </div>\\n\\n          <custom-templates-variables-definition-field\\n            ng-if=\"$ctrl.isTemplateVariablesEnabled\"\\n            value=\"$ctrl.formValues.Variables\"\\n            on-change=\"($ctrl.onVariablesChange)\"\\n            is-variables-names-from-parent=\"$ctrl.state.Method === \\'editor\\'\"\\n          ></custom-templates-variables-definition-field>\\n\\n          \\x3c!-- !repository --\\x3e\\n          <por-access-control-form form-data=\"$ctrl.formValues.AccessControlData\"></por-access-control-form>\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.state.actionInProgress || customTemplateForm.$invalid\\n              || ($ctrl.state.Method === \\'editor\\' && !$ctrl.formValues.FileContent)\\n              || ($ctrl.state.Method === \\'upload\\' && !$ctrl.formValues.File)\\n              || ($ctrl.state.Method === \\'repository\\' && ((!$ctrl.formValues.RepositoryURL || !$ctrl.formValues.ComposeFilePathInRepository) || ($ctrl.formValues.RepositoryAuthentication && (!$ctrl.formValues.RepositoryUsername || !$ctrl.formValues.RepositoryPassword))))\\n              || !$ctrl.formValues.Title\\n              || !$ctrl.state.isTemplateValid\"\\n                ng-click=\"$ctrl.createCustomTemplate()\"\\n                button-spinner=\"$ctrl.state.actionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.state.actionInProgress\">Create custom template</span>\\n                <span ng-show=\"$ctrl.state.actionInProgress\">Creation in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px\">\\n                {{ $ctrl.state.formValidationError }}\\n              </span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},4662:function(e){var t=\"app/portainer/views/custom-templates/custom-templates-view/customTemplatesView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header id=\"view-top\">\\n  <rd-header-title title-text=\"Custom Templates\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.templates.custom\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Custom Templates</rd-header-content>\\n</rd-header>\\n<div class=\"row\">\\n  <stack-from-template-form\\n    ng-if=\"$ctrl.state.selectedTemplate\"\\n    template=\"$ctrl.state.selectedTemplate\"\\n    form-values=\"$ctrl.formValues\"\\n    name-regex=\"$ctrl.state.templateNameRegex\"\\n    state=\"$ctrl.state\"\\n    create-template=\"$ctrl.createStack\"\\n    unselect-template=\"$ctrl.unselectTemplate\"\\n  >\\n    <advanced-form>\\n      <custom-templates-variables-field\\n        ng-if=\"$ctrl.isTemplateVariablesEnabled\"\\n        definitions=\"$ctrl.state.selectedTemplate.Variables\"\\n        value=\"$ctrl.formValues.variables\"\\n        on-change=\"($ctrl.onChangeTemplateVariables)\"\\n      ></custom-templates-variables-field>\\n\\n      <div class=\"form-group\">\\n        <div class=\"col-sm-12\">\\n          <a class=\"small interactive\" ng-show=\"!$ctrl.state.showAdvancedOptions\" ng-click=\"$ctrl.state.showAdvancedOptions = true;\">\\n            <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i> Customize stack\\n          </a>\\n          <a class=\"small interactive\" ng-show=\"$ctrl.state.showAdvancedOptions\" ng-click=\"$ctrl.state.showAdvancedOptions = false;\">\\n            <i class=\"fa fa-minus space-right\" aria-hidden=\"true\"></i> Hide custom stack\\n          </a>\\n        </div>\\n      </div>\\n      <div ng-if=\"$ctrl.state.showAdvancedOptions\">\\n        \\x3c!-- web-editor --\\x3e\\n        <div class=\"col-sm-12 form-section-title\"> Web editor </div>\\n        <div class=\"form-group\">\\n          <span class=\"col-sm-12 text-muted small\">\\n            You can get more information about Compose file format in the\\n            <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\"> official documentation </a>\\n            .\\n          </span>\\n        </div>\\n        <div class=\"form-group\">\\n          <div class=\"col-sm-12\">\\n            <code-editor\\n              identifier=\"custom-template-creation-editor\"\\n              placeholder=\"# Define or paste the content of your docker-compose file here\"\\n              yml=\"true\"\\n              value=\"$ctrl.formValues.fileContent\"\\n              on-change=\"($ctrl.editorUpdate)\"\\n            ></code-editor>\\n          </div>\\n        </div>\\n        \\x3c!-- !web-editor --\\x3e\\n      </div>\\n    </advanced-form>\\n  </stack-from-template-form>\\n</div>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <custom-templates-list\\n      ng-if=\"$ctrl.templates\"\\n      title-text=\"Templates\"\\n      title-icon=\"fa-rocket\"\\n      templates=\"$ctrl.templates\"\\n      table-key=\"customTemplates\"\\n      create-path=\"docker.templates.custom.new\"\\n      edit-path=\"docker.templates.custom.edit\"\\n      is-edit-allowed=\"$ctrl.isEditAllowed\"\\n      on-select-click=\"($ctrl.selectTemplate)\"\\n      on-delete-click=\"($ctrl.confirmDelete)\"\\n    ></custom-templates-list>\\n  </div>\\n</div>\\n')}]),e.exports=t},63928:function(e){var t=\"app/portainer/views/custom-templates/edit-custom-template-view/editCustomTemplateView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Edit Custom Template\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.templates.custom.edit({id:$ctrl.formValues.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.templates.custom\">Custom templates</a> &gt; {{ $ctrl.formValues.Title }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"$ctrl.formValues\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"customTemplateForm\">\\n          <custom-template-common-fields form-values=\"$ctrl.formValues\" show-platform-field=\"true\" show-type-field=\"true\"></custom-template-common-fields>\\n\\n          \\x3c!-- web-editor --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Web editor </div>\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12 text-muted small\">\\n              You can get more information about Compose file format in the\\n              <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\"> official documentation </a>\\n              .\\n            </span>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <code-editor\\n                identifier=\"custom-template-creation-editor\"\\n                placeholder=\"# Define or paste the content of your docker-compose file here\"\\n                yml=\"true\"\\n                value=\"$ctrl.formValues.FileContent\"\\n                on-change=\"($ctrl.editorUpdate)\"\\n              ></code-editor>\\n            </div>\\n          </div>\\n          \\x3c!-- !web-editor --\\x3e\\n\\n          <div class=\"form-group\" ng-if=\"!$ctrl.state.isTemplateValid\">\\n            <div class=\"col-sm-12\">\\n              <div class=\"small text-warning\">\\n                <i class=\"fa fa-exclamation-triangle space-right\" aria-hidden=\"true\"></i>\\n                Template is invalid.\\n              </div>\\n            </div>\\n          </div>\\n\\n          <custom-templates-variables-definition-field\\n            ng-if=\"$ctrl.isTemplateVariablesEnabled\"\\n            value=\"$ctrl.formValues.Variables\"\\n            on-change=\"($ctrl.onVariablesChange)\"\\n            is-variables-names-from-parent=\"true\"\\n          ></custom-templates-variables-definition-field>\\n\\n          <por-access-control-form form-data=\"$ctrl.formValues.AccessControlData\" resource-control=\"$ctrl.formValues.ResourceControl\"></por-access-control-form>\\n\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.actionInProgress || customTemplateForm.$invalid\\n                  || !$ctrl.formValues.Title\\n                  || !$ctrl.formValues.FileContent\\n                  || !$ctrl.state.isTemplateValid\\n                  \"\\n                ng-click=\"$ctrl.submitAction()\"\\n                button-spinner=\"$ctrl.actionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.actionInProgress\">Update the template</span>\\n                <span ng-show=\"$ctrl.actionInProgress\">Update in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px\">\\n                {{ $ctrl.state.formValidationError }}\\n              </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},62833:function(e){var t=\"app/portainer/views/devices/import/importDevice.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"FDO Device Configuration\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.endpoints\">Environments</a> &gt; Import FDO Device </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-magic\" title-text=\"Import Device Set up\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"fdoForm\">\\n          \\x3c!-- info --\\x3e\\n          <span class=\"small\">\\n            <p class=\"text-muted\" style=\"margin-top: 10px\">\\n              <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              You are setting up a Portainer Edge Agent that will initiate the communications with the Portainer instance and your FDO Devices.\\n            </p>\\n          </span>\\n          \\x3c!-- !info --\\x3e\\n          \\x3c!-- import voucher --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Import Voucher </div>\\n          <div>\\n            <div class=\"form-group\" ng-show=\"!state.vouchersUploaded\">\\n              <span class=\"small col-sm-12\">\\n                <p class=\"text-muted\" style=\"margin-top: 10px\">\\n                  <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  Import one or more Manufacturer\\'s Ownership Vouchers to initiate device attestation\\n                </p>\\n              </span>\\n              <div class=\"col-sm-8\">\\n                <button\\n                  style=\"margin-left: 0px !important\"\\n                  class=\"btn btn-sm btn-primary\"\\n                  ngf-select=\"onVoucherFilesChange()\"\\n                  ng-model=\"formValues.VoucherFiles\"\\n                  name=\"VoucherFiles\"\\n                  ng-disabled=\"state.vouchersUploading\"\\n                  button-spinner=\"state.vouchersUploading\"\\n                  multiple\\n                >\\n                  <span ng-hide=\"state.vouchersUploading\">Upload <i class=\"fa fa-upload\" aria-hidden=\"true\" style=\"margin-left: 5px\"></i></span>\\n                  <span ng-show=\"state.vouchersUploading\">Uploading Voucher...</span>\\n                </button>\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"state.vouchersUploading\">\\n              <div class=\"col-sm-12 small text-success\">\\n                <p>Connecting to the Owner service...</p>\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"state.vouchersUploaded\">\\n              <div class=\"col-sm-12\">\\n                <p>Ownership Voucher Uploaded <i class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 5px\"></i></p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !import voucher --\\x3e\\n          \\x3c!-- device details --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Device details </div>\\n          <div>\\n            <span class=\"small\">\\n              <p class=\"text-muted\" style=\"margin-top: 10px\">\\n                <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                Device name will serve as your reference name in Portainer\\n              </p>\\n            </span>\\n            \\x3c!-- device name input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"device_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Device Name</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"device_name\"\\n                  placeholder=\"e.g. FDO-Test01\"\\n                  ng-model=\"formValues.DeviceName\"\\n                  ng-required=\"state.vouchersUploaded\"\\n                  ng-disabled=\"!state.vouchersUploaded\"\\n                  auto-focus\\n                  data-cy=\"deviceImport-deviceNameInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"fdoForm.device_name.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"fdoForm.device_name.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !device name input --\\x3e\\n            \\x3c!-- suffix input --\\x3e\\n            <span class=\"small\">\\n              <p class=\"text-muted\" style=\"margin-top: 10px\">\\n                <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                Suffix starting number will be appended to the end of the Device name, if initiating multiple devices this will be incrementally increased\\n              </p>\\n            </span>\\n            <div class=\"form-group\">\\n              <label for=\"suffix\" class=\"col-sm-3 col-lg-2 control-label text-left\"> Suffix starting number </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"suffix\"\\n                  ng-model=\"formValues.Suffix\"\\n                  ng-required=\"state.vouchersUploaded\"\\n                  ng-disabled=\"!state.vouchersUploaded\"\\n                  ng-pattern=\"/^[0-9]+$/\"\\n                  placeholder=\"1\"\\n                  required\\n                  data-cy=\"deviceImport-suffixInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"fdoForm.suffix.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"fdoForm.suffix.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                  <p ng-message=\"pattern\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field needs to be a positive integer number.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !suffix input --\\x3e\\n            \\x3c!-- portainer-instance-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"endpoint_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                Portainer server URL\\n                <portainer-tooltip position=\"bottom\" message=\"URL of the Portainer instance that the agent will use to initiate the communications.\"></portainer-tooltip>\\n              </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"endpoint_url\"\\n                  ng-model=\"formValues.PortainerURL\"\\n                  ng-required=\"state.vouchersUploaded\"\\n                  ng-disabled=\"!state.vouchersUploaded\"\\n                  placeholder=\"e.g. https://10.0.0.10:9443\"\\n                  required\\n                  data-cy=\"deviceImport-portainerServerUrlInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"fdoForm.endpoint_url.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"fdoForm.endpoint_url.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !portainer-instance-input --\\x3e\\n          </div>\\n          \\x3c!-- device profile input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"device_profile\" class=\"col-sm-3 col-lg-2 control-label text-left\">Device Profile</label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <select id=\"device_profile\" ng-model=\"formValues.DeviceProfile\" class=\"form-control\" ng-required=\"state.vouchersUploaded\" ng-disabled=\"!state.vouchersUploaded\">\\n                <option selected disabled hidden value=\"\">Select a profile for your device</option>\\n                <option ng-repeat=\"profile in profiles | orderBy: \\'name\\'\" ng-value=\"profile.id\">{{ profile.name }}</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !device profile input --\\x3e\\n          \\x3c!-- !device details --\\x3e\\n          \\x3c!-- tags --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Set up Tags </div>\\n          <div>\\n            <span class=\"small\">\\n              <p class=\"text-muted\" style=\"margin-top: 10px\">\\n                <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                This is just an option if your device is under a certain group\\n              </p>\\n            </span>\\n            \\x3c!-- group --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"device_group\" class=\"col-sm-3 col-lg-2 control-label text-left\"> Group </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <select\\n                  class=\"form-control\"\\n                  ng-options=\"group.Id as group.Name for group in groups\"\\n                  ng-model=\"formValues.GroupId\"\\n                  id=\"device_group\"\\n                  ng-required=\"state.vouchersUploaded\"\\n                  ng-disabled=\"!state.vouchersUploaded\"\\n                  data-cy=\"deviceImport-deviceGroup\"\\n                ></select>\\n              </div>\\n            </div>\\n            \\x3c!-- !group --\\x3e\\n\\n            <tag-selector ng-if=\"formValues\" value=\"formValues.TagIds\" allow-create=\"state.allowCreateTag\" on-change=\"(onChangeTags)\"> </tag-selector>\\n\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-click=\"createEndpointAndConfigureDevice()\"\\n                  ng-disabled=\"state.actionInProgress || !state.vouchersUploaded || !fdoForm.$valid\"\\n                  button-spinner=\"state.actionInProgress\"\\n                  data-cy=\"deviceImport-saveDeviceButton\"\\n                >\\n                  <span ng-hide=\"state.actionInProgress\">Save Configuration</span>\\n                  <span ng-show=\"state.actionInProgress\">Saving...</span>\\n                </button>\\n                <a type=\"button\" class=\"btn btn-default btn-sm\" ui-sref=\"portainer.endpoints\">Cancel</a>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},64306:function(e){var t=\"app/portainer/views/devices/profiles/add/addProfile.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create profile\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.settings\">Settings</a> &gt; Edge Compute </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"createProfileForm\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">Device Profile Details </div>\\n          <div class=\"form-group\">\\n            <label for=\"stack_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"formValues.name\" id=\"profile_name\" name=\"profile_name\" placeholder=\"e.g. myprofile\" auto-focus />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- build-method --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Profile configuration </div>\\n          <div class=\"form-group\"></div>\\n          <div class=\"form-group\" style=\"margin-bottom: 0\">\\n            <div class=\"boxselector_wrapper\">\\n              <div>\\n                <input type=\"radio\" id=\"method_editor\" ng-model=\"state.method\" value=\"editor\" />\\n                <label for=\"method_editor\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-edit\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Web editor\\n                  </div>\\n                  <p>Use our Web editor</p>\\n                </label>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !build-method --\\x3e\\n\\n          <web-editor-form\\n            ng-if=\"state.method === \\'editor\\'\"\\n            identifier=\"profile-creation-editor\"\\n            value=\"formValues.profileFileContent\"\\n            on-change=\"(onChangeFileContent)\"\\n            ng-required=\"true\"\\n            placeholder=\"#\"\\n          >\\n          </web-editor-form>\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <a type=\"button\" class=\"btn btn-default btn-sm\" ui-sref=\"portainer.settings.edgeCompute\">Cancel</a>\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress\\n              || !createProfileForm.$valid\\n              || !formValues.profileFileContent\\n              || !formValues.name\"\\n                ng-click=\"createProfileAsync()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Save Profile</span>\\n                <span ng-show=\"state.actionInProgress\">Saving...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},71149:function(e){var t=\"app/portainer/views/devices/profiles/edit/editProfile.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Edit profile\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.settings\">Settings</a> &gt; Edge Compute </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"editProfileForm\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">Device Profile Details </div>\\n          <div class=\"form-group\">\\n            <label for=\"stack_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"formValues.name\" id=\"profile_name\" name=\"profile_name\" placeholder=\"e.g. myprofile\" auto-focus />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- build-method --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Profile configuration </div>\\n          <div class=\"form-group\"></div>\\n          <div class=\"form-group\" style=\"margin-bottom: 0\">\\n            <div class=\"boxselector_wrapper\">\\n              <div>\\n                <input type=\"radio\" id=\"method_editor\" ng-model=\"state.method\" value=\"editor\" />\\n                <label for=\"method_editor\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-edit\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Web editor\\n                  </div>\\n                  <p>Use our Web editor</p>\\n                </label>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !build-method --\\x3e\\n\\n          <web-editor-form\\n            ng-if=\"state.method === \\'editor\\'\"\\n            identifier=\"profile-creation-editor\"\\n            value=\"formValues.profileFileContent\"\\n            on-change=\"(onChangeFileContent)\"\\n            ng-required=\"true\"\\n            placeholder=\"#\"\\n          >\\n          </web-editor-form>\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <a type=\"button\" class=\"btn btn-default btn-sm\" ui-sref=\"portainer.settings.edgeCompute\">Cancel</a>\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress\\n              || !editProfileForm.$valid\\n              || !formValues.profileFileContent\\n              || !formValues.name\"\\n                ng-click=\"updateProfileAsync()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Update Profile</span>\\n                <span ng-show=\"state.actionInProgress\">Saving...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},56058:function(e){var t=\"app/portainer/views/endpoint-registries/registries.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Environment registries\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.registries\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Registry management</rd-header-content>\\n</rd-header>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <registries-datatable\\n      title-text=\"Registries\"\\n      title-icon=\"fa-database\"\\n      dataset=\"$ctrl.registries\"\\n      table-key=\"endpointRegistries\"\\n      order-by=\"Name\"\\n      endpoint-type=\"$ctrl.endpointType\"\\n      can-manage-access=\"$ctrl.canManageAccess\"\\n      can-browse=\"$ctrl.canBrowse\"\\n    ></registries-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},11813:function(e){var t=\"app/portainer/views/endpoints/access/endpointAccess.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Environment access\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"portainer.endpoints\">Environments</a> &gt; <a ui-sref=\"portainer.endpoints.endpoint({id: ctrl.endpoint.Id})\">{{ ctrl.endpoint.Name }}</a> &gt; Access management\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"ctrl.endpoint\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-plug\" title-text=\"Environment\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>\\n                {{ ctrl.endpoint.Name }}\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>URL</td>\\n              <td>\\n                {{ ctrl.endpoint.URL | stripprotocol }}\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Group</td>\\n              <td>\\n                <a ui-sref=\"portainer.groups.group({ id: ctrl.group.Id })\">{{ ctrl.group.Name }}</a>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<por-access-management\\n  ng-if=\"ctrl.endpoint && ctrl.group\"\\n  access-controlled-entity=\"ctrl.endpoint\"\\n  action-in-progress=\"ctrl.state.actionInProgress\"\\n  entity-type=\"endpoint\"\\n  inherit-from=\"ctrl.group\"\\n  update-access=\"ctrl.updateAccess\"\\n  limited-feature=\"ctrl.limitedFeature\"\\n>\\n</por-access-management>\\n')}]),e.exports=t},81541:function(e){var t=\"app/portainer/views/endpoints/create/createendpoint.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create environment\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.endpoints\">Environments</a> &gt; Add environment </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"endpointCreationForm\">\\n          <div class=\"col-sm-12 form-section-title\"> Environment type </div>\\n          <div class=\"form-group\"></div>\\n          <div class=\"form-group\" style=\"margin-bottom: 0\">\\n            <div class=\"boxselector_wrapper\">\\n              <div ng-show=\"!state.isEdgeDevice\" ng-click=\"resetEndpointURL()\">\\n                <input type=\"radio\" id=\"agent_endpoint\" ng-model=\"state.EnvironmentType\" value=\"agent\" />\\n                <label for=\"agent_endpoint\" data-cy=\"endpointCreate-agentSelectButton\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-bolt\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Agent\\n                  </div>\\n                  <p>Portainer agent</p>\\n                </label>\\n              </div>\\n              <div ng-click=\"setDefaultPortainerInstanceURL()\">\\n                <input type=\"radio\" id=\"edge_agent_endpoint\" ng-model=\"state.EnvironmentType\" value=\"edge_agent\" />\\n                <label for=\"edge_agent_endpoint\" data-cy=\"endpointCreate-edgeAgentSelectButton\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-cloud\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Edge Agent\\n                  </div>\\n                  <p>Portainer Edge agent</p>\\n                </label>\\n              </div>\\n              <div ng-show=\"!state.isEdgeDevice\" ng-click=\"resetEndpointURL()\">\\n                <input type=\"radio\" id=\"docker_endpoint\" ng-model=\"state.EnvironmentType\" value=\"docker\" />\\n                <label for=\"docker_endpoint\" data-cy=\"endpointCreate-dockerSelectButton\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fab fa-docker\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Docker\\n                  </div>\\n                  <p>Directly connect to the Docker API</p>\\n                </label>\\n              </div>\\n              <div ng-show=\"!state.isEdgeDevice\" ng-click=\"resetEndpointURL()\">\\n                <input type=\"radio\" id=\"kubernetes_endpoint\" ng-model=\"state.EnvironmentType\" value=\"kubernetes\" />\\n                <label for=\"kubernetes_endpoint\" data-cy=\"endpointCreate-kubeSelectButton\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fas fa-dharmachakra\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Kubernetes\\n                  </div>\\n                  <p>Local Kubernetes environment</p>\\n                </label>\\n              </div>\\n              <div ng-show=\"!state.isEdgeDevice\">\\n                <input type=\"radio\" id=\"azure_endpoint\" ng-model=\"state.EnvironmentType\" value=\"azure\" />\\n                <label for=\"azure_endpoint\" data-cy=\"endpointCreate-azureSelectButton\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fab fa-microsoft\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Azure\\n                  </div>\\n                  <p>Connect to Microsoft Azure ACI</p>\\n                </label>\\n              </div>\\n            </div>\\n          </div>\\n          <div ng-if=\"state.EnvironmentType === \\'docker\\'\">\\n            <div class=\"col-sm-12 form-section-title\"> Important notice </div>\\n            <div class=\"form-group\">\\n              <p class=\"col-sm-12 text-muted small\">\\n                You can connect Portainer to a Docker environment via socket or via TCP. You can find more information about how to expose the Docker API over TCP\\n                <a href=\"https://docs.docker.com/engine/security/https/\"> in the Docker documentation</a>.\\n              </p>\\n\\n              <p class=\"col-sm-12 text-muted small\">\\n                When using the socket, ensure that you have started the Portainer container with the following Docker flag\\n                <code> -v \"/var/run/docker.sock:/var/run/docker.sock\" </code>\\n                (on Linux) or\\n                <code> -v \\\\.\\\\pipe\\\\docker_engine:\\\\.\\\\pipe\\\\docker_engine </code>\\n                (on Windows).\\n              </p>\\n            </div>\\n          </div>\\n          <div ng-if=\"state.EnvironmentType === \\'agent\\'\">\\n            <div class=\"col-sm-12 form-section-title\"> Information </div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                Ensure that you have deployed the Portainer agent in your cluster first. Refer to the platform related command below to deploy it.\\n                <div class=\"input-group input-group-sm\" style=\"margin-top: 10px; margin-bottom: 10px\">\\n                  <div class=\"btn-group btn-group-sm\">\\n                    <label class=\"btn btn-primary\" ng-model=\"state.PlatformType\" uib-btn-radio=\"\\'linux\\'\"><i class=\"fab fa-linux\" style=\"margin-right: 2px\"></i> Linux</label>\\n                    <label class=\"btn btn-primary\" ng-model=\"state.PlatformType\" uib-btn-radio=\"\\'windows\\'\"><i class=\"fab fa-windows\" style=\"margin-right: 2px\"></i> Windows</label>\\n                  </div>\\n                </div>\\n                <div style=\"margin-top: 10px\">\\n                  <uib-tabset active=\"state.deploymentTab\">\\n                    <uib-tab index=\"0\" ng-if=\"state.PlatformType === \\'linux\\'\" heading=\"Kubernetes via load balancer\">\\n                      <p ng-if=\"agentSecret != \\'\\'\" style=\"margin-top: 16px; margin-bottom: 16px\">\\n                        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                        Note that the environment variable AGENT_SECRET will need to be set to <code>{{ agentSecret }}</code\\n                        >. Please update the manifest that will be downloaded from the following script.\\n                      </p>\\n                      <code style=\"display: block; padding: 16px 45px\">{{ deployCommands.kubeLoadBalancer }}</code>\\n                    </uib-tab>\\n\\n                    <uib-tab index=\"1\" ng-if=\"state.PlatformType === \\'linux\\'\" heading=\"Kubernetes via node port\">\\n                      <p ng-if=\"agentSecret != \\'\\'\" style=\"margin-top: 16px; margin-bottom: 16px\">\\n                        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                        Note that the environment variable AGENT_SECRET will need to be set to <code>{{ agentSecret }}</code\\n                        >. Please update the manifest that will be downloaded from the following script.\\n                      </p>\\n                      <code style=\"display: block; padding: 16px 45px\">{{ deployCommands.kubeNodePort }}</code>\\n                    </uib-tab>\\n\\n                    <uib-tab index=\"2\" heading=\"Docker Swarm\">\\n                      <code ng-if=\"state.PlatformType === \\'linux\\'\" style=\"display: block; white-space: pre-wrap; padding: 16px 45px\">{{\\n                        deployCommands.agentLinux(agentSecret)\\n                      }}</code>\\n                      <code ng-if=\"state.PlatformType === \\'windows\\'\" style=\"display: block; white-space: pre-wrap; padding: 16px 45px\">{{\\n                        deployCommands.agentWindows(agentSecret)\\n                      }}</code>\\n                    </uib-tab>\\n                  </uib-tabset>\\n                  <div style=\"margin-top: 10px\">\\n                    <span class=\"btn btn-primary btn-sm space-left\" ng-click=\"copyAgentCommand()\"><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy command</span>\\n                    <span>\\n                      <i id=\"copyNotification\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none\"></i>\\n                    </span>\\n                  </div>\\n                </div>\\n              </span>\\n            </div>\\n          </div>\\n          <div ng-if=\"state.EnvironmentType === \\'edge_agent\\'\">\\n            <div class=\"col-sm-12 form-section-title\"> Information </div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                <p>\\n                  Allows you to create an environment that can be registered with an Edge agent. The Edge agent will initiate the communications with the Portainer instance. All\\n                  the required information on how to connect an Edge agent to this environment will be available after environment creation.\\n                </p>\\n                <p> You can read more about the Edge agent in the userguide available <a href=\"https://downloads.portainer.io/edge_agent_guide.pdf\">here.</a> </p>\\n              </span>\\n            </div>\\n          </div>\\n          <div ng-if=\"state.EnvironmentType === \\'kubernetes\\'\">\\n            <div class=\"col-sm-12 form-section-title\"> Important notice </div>\\n            <div class=\"form-group\">\\n              <p class=\"col-sm-12 text-muted small\"> This will allow you to manage the Kubernetes environment where Portainer is running. </p>\\n\\n              <p class=\"col-sm-12 text-muted small\">\\n                <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                In order to manage a remote Kubernetes environment, please use the Agent or Edge agent options.\\n              </p>\\n            </div>\\n          </div>\\n          <div ng-if=\"state.EnvironmentType === \\'azure\\'\">\\n            <div class=\"col-sm-12 form-section-title\"> Information </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small\">\\n                  <p class=\"text-muted\"> <i class=\"fa fa-flask orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i> This feature is experimental. </p>\\n                  <p class=\"text-primary\"> Connect to Microsoft Azure to manage Azure Container Instances (ACI). </p>\\n                  <p class=\"text-muted\">\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Have a look at\\n                    <a href=\"https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal\" target=\"_blank\"\\n                      >the Azure documentation</a\\n                    >\\n                    to retrieve the credentials required below.\\n                  </p>\\n                </span>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\"col-sm-12 form-section-title\"> Environment details </div>\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                name=\"container_name\"\\n                ng-model=\"formValues.Name\"\\n                placeholder=\"e.g. docker-prod01 / kubernetes-cluster01\"\\n                required\\n                auto-focus\\n                data-cy=\"endpointCreate-nameInput\"\\n              />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"endpointCreationForm.container_name.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"endpointCreationForm.container_name.$error\">\\n                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- connect-via-socket-input --\\x3e\\n          <div ng-if=\"state.EnvironmentType === \\'docker\\'\">\\n            <div class=\"form-group\" style=\"padding-left: 15px\">\\n              <label for=\"connect_socket\" class=\"col-sm_12 control-label text-left\"> Connect via socket </label>\\n              <label class=\"switch\" style=\"margin-left: 20px\">\\n                <input type=\"checkbox\" ng-model=\"formValues.ConnectSocket\" /><i data-cy=\"endpointCreate-connectSocketSwitch\"></i>\\n              </label>\\n            </div>\\n          </div>\\n\\n          <div ng-if=\"state.EnvironmentType === \\'docker\\' && formValues.ConnectSocket\">\\n            <div class=\"form-group\" style=\"padding-left: 15px\">\\n              <label for=\"override_socket\" class=\"col-sm_12 control-label text-left\"> Override default socket path </label>\\n              <label class=\"switch\" style=\"margin-left: 20px\">\\n                <input type=\"checkbox\" ng-model=\"formValues.OverrideSocket\" /><i data-cy=\"endpointCreate-overrideSocketSwitch\"></i>\\n              </label>\\n            </div>\\n\\n            <div ng-if=\"formValues.OverrideSocket\">\\n              <div class=\"form-group\">\\n                <label for=\"socket_path\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                  Socket path\\n                  <portainer-tooltip position=\"bottom\" message=\"Path to the Docker socket. Remember to bind-mount the socket, see the important notice above for more information.\">\\n                  </portainer-tooltip>\\n                </label>\\n                <div class=\"col-sm-9 col-lg-10\">\\n                  <input\\n                    type=\"text\"\\n                    class=\"form-control\"\\n                    name=\"socket_path\"\\n                    ng-model=\"formValues.SocketPath\"\\n                    placeholder=\"e.g. /var/run/docker.sock (on Linux) or //./pipe/docker_engine (on Windows)\"\\n                    required\\n                    data-cy=\"endpointCreate-socketPathInput\"\\n                  />\\n                </div>\\n              </div>\\n              <div class=\"form-group\" ng-show=\"endpointCreationForm.socket_path.$invalid\">\\n                <div class=\"col-sm-12 small text-warning\">\\n                  <div ng-messages=\"endpointCreationForm.socket_path.$error\">\\n                    <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !connect-via-socket-input --\\x3e\\n          \\x3c!-- endpoint-url-input --\\x3e\\n          <div ng-if=\"(state.EnvironmentType === \\'docker\\' && !formValues.ConnectSocket) || state.EnvironmentType === \\'agent\\'\">\\n            <div class=\"form-group\">\\n              <label for=\"endpoint_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                Environment URL\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"URL or IP address of a Docker host. The Docker API must be exposed over a TCP port. Please refer to the Docker documentation to configure it.\"\\n                >\\n                </portainer-tooltip>\\n              </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  ng-if=\"state.EnvironmentType === \\'docker\\'\"\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"endpoint_url\"\\n                  ng-model=\"formValues.URL\"\\n                  placeholder=\"e.g. 10.0.0.10:2375 or mydocker.mydomain.com:2375\"\\n                  required\\n                  data-cy=\"endpointCreate-endpointUrlDockerInput\"\\n                />\\n                <input\\n                  ng-if=\"state.EnvironmentType === \\'agent\\'\"\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"endpoint_url\"\\n                  ng-model=\"formValues.URL\"\\n                  placeholder=\"e.g. 10.0.0.10:9001 or tasks.portainer_agent:9001\"\\n                  required\\n                  data-cy=\"endpointCreate-endpointUrlAgentInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"endpointCreationForm.endpoint_url.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"endpointCreationForm.endpoint_url.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !endpoint-url-input --\\x3e\\n          \\x3c!-- portainer-instance-input --\\x3e\\n          <div ng-if=\"state.EnvironmentType === \\'edge_agent\\'\">\\n            <div class=\"form-group\">\\n              <label for=\"endpoint_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                Portainer server URL\\n                <portainer-tooltip position=\"bottom\" message=\"URL of the Portainer instance that the agent will use to initiate the communications.\"></portainer-tooltip>\\n              </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"endpoint_url\"\\n                  ng-model=\"formValues.URL\"\\n                  placeholder=\"e.g. 10.0.0.10:9443 or portainer.mydomain.com\"\\n                  required\\n                  data-cy=\"endpointCreate-portainerServerUrlInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"endpointCreationForm.endpoint_url.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"endpointCreationForm.endpoint_url.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !portainer-instance-input --\\x3e\\n\\n            <div>\\n              <div class=\"col-sm-12 form-section-title\"> Check-in Intervals </div>\\n              <edge-checkin-interval-field value=\"formValues.EdgeCheckinInterval\" on-change=\"(onChangeCheckInInterval)\"></edge-checkin-interval-field>\\n            </div>\\n          </div>\\n          \\x3c!-- endpoint-public-url-input --\\x3e\\n          <div ng-if=\"state.EnvironmentType === \\'docker\\' || state.EnvironmentType === \\'agent\\'\">\\n            <div class=\"form-group\">\\n              <label for=\"endpoint_public_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                Public IP\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"URL or IP address where exposed containers will be reachable. This field is optional and will default to the environment URL.\"\\n                >\\n                </portainer-tooltip>\\n              </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  id=\"endpoint_public_url\"\\n                  ng-model=\"formValues.PublicURL\"\\n                  placeholder=\"e.g. 10.0.0.10 or mydocker.mydomain.com\"\\n                  data-cy=\"endpointCreate-publicIpInput\"\\n                />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !endpoint-public-url-input --\\x3e\\n          \\x3c!-- azure-details --\\x3e\\n          <div ng-if=\"state.EnvironmentType === \\'azure\\'\">\\n            \\x3c!-- applicationId-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"azure_credential_appid\" class=\"col-sm-3 col-lg-2 control-label text-left\">Application ID</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"azure_credential_appid\"\\n                  ng-model=\"formValues.AzureApplicationId\"\\n                  placeholder=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\\n                  required\\n                  data-cy=\"endpointCreate-azureAppIdInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"endpointCreationForm.azure_credential_appid.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"endpointCreationForm.azure_credential_appid.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !applicationId-input --\\x3e\\n            \\x3c!-- tenantId-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"azure_credential_tenantid\" class=\"col-sm-3 col-lg-2 control-label text-left\">Tenant ID</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"azure_credential_tenantid\"\\n                  ng-model=\"formValues.AzureTenantId\"\\n                  placeholder=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\\n                  required\\n                  data-cy=\"endpointCreate-azureTenantIdInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"endpointCreationForm.azure_credential_tenantid.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"endpointCreationForm.azure_credential_tenantid.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !tenantId-input --\\x3e\\n            \\x3c!-- authenticationkey-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"azure_credential_authkey\" class=\"col-sm-3 col-lg-2 control-label text-left\">Authentication key</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"azure_credential_authkey\"\\n                  ng-model=\"formValues.AzureAuthenticationKey\"\\n                  placeholder=\"cOrXoK/1D35w8YQ8nH1/8ZGwzz45JIYD5jxHKXEQknk=\"\\n                  required\\n                  data-cy=\"endpointCreate-azureAuthKeyInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"endpointCreationForm.azure_credential_authkey.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"endpointCreationForm.azure_credential_authkey.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !authenticationkey-input --\\x3e\\n          </div>\\n          \\x3c!-- !azure-details --\\x3e\\n          \\x3c!-- endpoint-security --\\x3e\\n          <por-endpoint-security ng-if=\"state.EnvironmentType === \\'docker\\' && !formValues.ConnectSocket\" form-data=\"formValues.SecurityFormData\"></por-endpoint-security>\\n          \\x3c!-- !endpoint-security --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Metadata </div>\\n          \\x3c!-- group --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"endpoint_group\" class=\"col-sm-3 col-lg-2 control-label text-left\"> Group </label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <select\\n                ng-options=\"group.Id as group.Name for group in groups\"\\n                ng-model=\"formValues.GroupId\"\\n                id=\"endpoint_group\"\\n                class=\"form-control\"\\n                data-cy=\"endpointCreate-endpointGroup\"\\n              ></select>\\n            </div>\\n          </div>\\n          \\x3c!-- !group --\\x3e\\n\\n          <tag-selector ng-if=\"formValues\" value=\"formValues.TagIds\" allow-create=\"state.allowCreateTag\" on-change=\"(onChangeTags)\"> </tag-selector>\\n\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                ng-if=\"state.EnvironmentType === \\'docker\\'\"\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !endpointCreationForm.$valid || (formValues.TLS && ((formValues.TLSVerify && !formValues.TLSCACert) || (formValues.TLSClientCert && (!formValues.TLSCert || !formValues.TLSKey))))\"\\n                ng-click=\"addDockerEndpoint()\"\\n                button-spinner=\"state.actionInProgress\"\\n                data-cy=\"endpointCreate-createDockerEndpoint\"\\n                analytics-on\\n                analytics-category=\"portainer\"\\n                analytics-event=\"portainer-endpoint-creation\"\\n                analytics-properties=\"{ metadata: { type: \\'docker-api\\' } }\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Add environment</span>\\n                <span ng-show=\"state.actionInProgress\">Creating environment...</span>\\n              </button>\\n              <button\\n                ng-if=\"state.EnvironmentType === \\'agent\\'\"\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !endpointCreationForm.$valid\"\\n                ng-click=\"addAgentEndpoint()\"\\n                button-spinner=\"state.actionInProgress\"\\n                data-cy=\"endpointCreate-createAgentEndpoint\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Add environment</span>\\n                <span ng-show=\"state.actionInProgress\">Creating environment...</span>\\n              </button>\\n              <button\\n                ng-if=\"state.EnvironmentType === \\'edge_agent\\'\"\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !endpointCreationForm.$valid\"\\n                ng-click=\"addEdgeAgentEndpoint()\"\\n                button-spinner=\"state.actionInProgress\"\\n                data-cy=\"endpointCreate-createEdgeAgentEndpoint\"\\n                analytics-on\\n                analytics-category=\"portainer\"\\n                analytics-event=\"portainer-endpoint-creation\"\\n                analytics-properties=\"{ metadata: { type: \\'edge-agent\\' } }\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Add environment</span>\\n                <span ng-show=\"state.actionInProgress\">Creating environment...</span>\\n              </button>\\n              <button\\n                ng-if=\"state.EnvironmentType === \\'kubernetes\\'\"\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !endpointCreationForm.$valid\"\\n                ng-click=\"addKubernetesEndpoint()\"\\n                button-spinner=\"state.actionInProgress\"\\n                analytics-on\\n                analytics-category=\"portainer\"\\n                analytics-event=\"portainer-endpoint-creation\"\\n                analytics-properties=\"{ metadata: { type: \\'kubernetes-api\\' } }\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Add environment</span>\\n                <span ng-show=\"state.actionInProgress\">Creating environment...</span>\\n              </button>\\n              <button\\n                ng-if=\"state.EnvironmentType === \\'azure\\'\"\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !endpointCreationForm.$valid\"\\n                ng-click=\"addAzureEndpoint()\"\\n                button-spinner=\"state.actionInProgress\"\\n                data-cy=\"endpointCreate-createAzureEndpoint\"\\n                analytics-on\\n                analytics-category=\"portainer\"\\n                analytics-event=\"portainer-endpoint-creation\"\\n                analytics-properties=\"{ metadata: { type: \\'azure-api\\' } }\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Add environment</span>\\n                <span ng-show=\"state.actionInProgress\">Creating environment...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},32072:function(e){var t=\"app/portainer/views/endpoints/edit/endpoint.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Environment details\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.endpoints.endpoint({id: endpoint.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"portainer.endpoints\">Environments</a> &gt; <a ui-sref=\"portainer.endpoints.endpoint({id: endpoint.Id})\">{{ endpoint.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div ng-if=\"state.edgeEndpoint\">\\n    <information-panel ng-if=\"state.edgeAssociated\" title-text=\"Edge information\">\\n      <span class=\"small text-muted\">\\n        <p>\\n          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n          This Edge environment is associated to an Edge environment {{ state.kubernetesEndpoint ? \\'(Kubernetes)\\' : \\'(Docker)\\' }}.\\n        </p>\\n        <p>\\n          Edge key: <code>{{ endpoint.EdgeKey }}</code>\\n        </p>\\n        <p>\\n          Edge identifier: <code>{{ endpoint.EdgeID }}</code>\\n        </p>\\n        <p>\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-primary btn-sm\"\\n            ng-disabled=\"state.actionInProgress\"\\n            ng-click=\"onDisassociateEndpoint()\"\\n            button-spinner=\"state.actionInProgress\"\\n            analytics-on\\n            analytics-event=\"edge-endpoint-disassociate\"\\n            analytics-category=\"edge\"\\n          >\\n            <span ng-hide=\"state.actionInProgress\">Disassociate</span>\\n          </button>\\n        </p>\\n      </span>\\n    </information-panel>\\n\\n    <div class=\"col-sm-12\" ng-if=\"!state.edgeAssociated\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"col-sm-12 form-section-title\">Deploy an agent</div>\\n          <span class=\"small text-muted\">\\n            <p>\\n              <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              Refer to the platform related command below to deploy the Edge agent in your remote cluster.\\n            </p>\\n            <p>\\n              The agent will communicate with Portainer via <u>{{ edgeKeyDetails.instanceURL }}</u> and <u>tcp://{{ edgeKeyDetails.tunnelServerAddr }}</u>\\n            </p>\\n          </span>\\n\\n          <div class=\"col-sm-12 form-section-title\"> Edge agent deployment script </div>\\n          <edge-script-form\\n            edge-info=\"{ key: endpoint.EdgeKey, id: endpoint.EdgeID }\"\\n            commands=\"state.edgeScriptCommands\"\\n            is-nomad-token-visible=\"state.showNomad\"\\n            hide-async-mode=\"!endpoint.IsEdgeDevice\"\\n          ></edge-script-form>\\n\\n          <span class=\"small text-muted\">\\n            <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 25px\"> Join token </div>\\n            <p>\\n              <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              For those pre-staging the edge agent, use the following join token to associate the Edge agent with this environment.\\n            </p>\\n            <p> You can read more about pre-staging in the userguide available <a href=\"https://downloads.portainer.io/edge_agent_guide.pdf\">here.</a> </p>\\n            <div style=\"margin-top: 10px; overflow-wrap: break-word\">\\n              <code>\\n                {{ endpoint.EdgeKey }}\\n              </code>\\n              <div style=\"margin-top: 10px\">\\n                <span class=\"btn btn-primary btn-sm\" ng-click=\"copyEdgeAgentKey()\"><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy token</span>\\n                <span id=\"copyNotificationEdgeKey\" style=\"margin-left: 7px; display: none; color: #23ae89\"> <i class=\"fa fa-check\" aria-hidden=\"true\"></i> copied </span>\\n              </div>\\n            </div>\\n          </span>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <information-panel ng-if=\"state.kubernetesEndpoint && (!state.edgeEndpoint || state.edgeAssociated)\" title-text=\"Kubernetes features configuration\">\\n    <span class=\"small text-muted\">\\n      <i class=\"fa fa-tools blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n      You should configure the features available in this Kubernetes environment in the\\n      <a ui-sref=\"portainer.k8sendpoint.kubernetesConfig({id: endpoint.Id})\">Kubernetes configuration</a> view.\\n    </span>\\n  </information-panel>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"col-sm-12 form-section-title\"> Configuration </div>\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <input type=\"text\" class=\"form-control\" id=\"container_name\" ng-model=\"endpoint.Name\" placeholder=\"e.g. kubernetes-cluster01 / docker-prod01\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- endpoint-url-input --\\x3e\\n          <div class=\"form-group\" ng-if=\"!state.edgeEndpoint\">\\n            <label for=\"endpoint_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n              Environment URL\\n              <portainer-tooltip\\n                position=\"bottom\"\\n                message=\"URL or IP address of a Docker host. The Docker API must be exposed over a TCP port. Please refer to the Docker documentation to configure it.\"\\n              >\\n              </portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <input\\n                ng-disabled=\"endpointType === \\'local\\' || state.azureEndpoint\"\\n                type=\"text\"\\n                class=\"form-control\"\\n                id=\"endpoint_url\"\\n                ng-model=\"endpoint.URL\"\\n                placeholder=\"e.g. 10.0.0.10:2375 or mydocker.mydomain.com:2375\"\\n              />\\n            </div>\\n          </div>\\n          \\x3c!-- !endpoint-url-input --\\x3e\\n          \\x3c!-- endpoint-public-url-input --\\x3e\\n          <div class=\"form-group\" ng-if=\"!state.azureEndpoint\">\\n            <label for=\"endpoint_public_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n              Public IP\\n              <portainer-tooltip\\n                position=\"bottom\"\\n                message=\"URL or IP address where exposed containers will be reachable. This field is optional and will default to the environment URL.\"\\n              >\\n              </portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <input type=\"text\" class=\"form-control\" id=\"endpoint_public_url\" ng-model=\"endpoint.PublicURL\" placeholder=\"e.g. 10.0.0.10 or mydocker.mydomain.com\" />\\n            </div>\\n          </div>\\n\\n          <div ng-if=\"endpoint && state.edgeEndpoint\">\\n            <div class=\"col-sm-12 form-section-title\"> Check-in Intervals </div>\\n            <edge-checkin-interval-field value=\"endpoint.EdgeCheckinInterval\" on-change=\"(onChangeCheckInInterval)\"></edge-checkin-interval-field>\\n          </div>\\n\\n          \\x3c!-- !endpoint-public-url-input --\\x3e\\n          <azure-endpoint-config\\n            ng-if=\"state.azureEndpoint\"\\n            application-id=\"endpoint.AzureCredentials.ApplicationID\"\\n            tenant-id=\"endpoint.AzureCredentials.TenantID\"\\n            authentication-key=\"endpoint.AzureCredentials.AuthenticationKey\"\\n          ></azure-endpoint-config>\\n          <div class=\"col-sm-12 form-section-title\"> Metadata </div>\\n          \\x3c!-- group --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"endpoint_group\" class=\"col-sm-3 col-lg-2 control-label text-left\"> Group </label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <select ng-options=\"group.Id as group.Name for group in groups\" ng-model=\"endpoint.GroupId\" id=\"endpoint_group\" class=\"form-control\"></select>\\n            </div>\\n          </div>\\n          \\x3c!-- !group --\\x3e\\n\\n          <tag-selector ng-if=\"endpoint\" value=\"endpoint.TagIds\" allow-create=\"state.allowCreate\" on-change=\"(onChangeTags)\"></tag-selector>\\n\\n          \\x3c!-- endpoint-security --\\x3e\\n          <div ng-if=\"endpointType === \\'remote\\' && !state.azureEndpoint && !state.kubernetesEndpoint && !state.edgeEndpoint && endpoint.Type !== 6\">\\n            <div class=\"col-sm-12 form-section-title\"> Security </div>\\n            <por-endpoint-security form-data=\"formValues.SecurityFormData\" endpoint=\"endpoint\"></por-endpoint-security>\\n          </div>\\n          \\x3c!-- !endpoint-security --\\x3e\\n          \\x3c!-- open-amt info --\\x3e\\n          <div ng-if=\"state.showAMTInfo\">\\n            <div class=\"col-sm-12 form-section-title\"> Open Active Management Technology </div>\\n\\n            <div class=\"form-group\">\\n              <label for=\"endpoint_managementinfoVersion\" class=\"col-sm-3 col-lg-2 control-label text-left\"> AMT Version </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input type=\"text\" ng-disabled=\"true\" class=\"form-control\" id=\"endpoint_managementinfoVersion\" ng-model=\"endpoint.ManagementInfo[\\'AMT\\']\" placeholder=\"Loading...\" />\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <label for=\"endpoint_managementinfoUUID\" class=\"col-sm-3 col-lg-2 control-label text-left\"> UUID </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input type=\"text\" ng-disabled=\"true\" class=\"form-control\" id=\"endpoint_managementinfoUUID\" ng-model=\"endpoint.ManagementInfo[\\'UUID\\']\" placeholder=\"Loading...\" />\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <label for=\"endpoint_managementinfoBuildNumber\" class=\"col-sm-3 col-lg-2 control-label text-left\"> Build Number </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  ng-disabled=\"true\"\\n                  class=\"form-control\"\\n                  id=\"endpoint_managementinfoBuildNumber\"\\n                  ng-model=\"endpoint.ManagementInfo[\\'Build Number\\']\"\\n                  placeholder=\"Loading...\"\\n                />\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <label for=\"endpoint_managementinfoControlMode\" class=\"col-sm-3 col-lg-2 control-label text-left\"> Control Mode </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  ng-disabled=\"true\"\\n                  class=\"form-control\"\\n                  id=\"endpoint_managementinfoControlMode\"\\n                  ng-model=\"endpoint.ManagementInfo[\\'Control Mode\\']\"\\n                  placeholder=\"Loading...\"\\n                />\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <label for=\"endpoint_managementinfoDNSSuffix\" class=\"col-sm-3 col-lg-2 control-label text-left\"> DNS Suffix </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  ng-disabled=\"true\"\\n                  class=\"form-control\"\\n                  id=\"endpoint_managementinfoDNSSuffix\"\\n                  ng-model=\"endpoint.ManagementInfo[\\'DNS Suffix\\']\"\\n                  placeholder=\"Loading...\"\\n                />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !open-amt info --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !endpoint.Name || !endpoint.URL || (endpoint.TLS && ((endpoint.TLSVerify && !formValues.TLSCACert) || (endpoint.TLSClientCert && (!formValues.TLSCert || !formValues.TLSKey))))\"\\n                ng-click=\"updateEndpoint()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Update environment</span>\\n                <span ng-show=\"state.actionInProgress\">Updating environment...</span>\\n              </button>\\n              <a type=\"button\" class=\"btn btn-default btn-sm\" ui-sref=\"portainer.endpoints\">Cancel</a>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},77697:function(e){var t=\"app/portainer/views/endpoints/endpoints.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Environments\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.endpoints\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Environment management</rd-header-content>\\n</rd-header>\\n\\n<view-loading ng-if=\"state.loadingMessage\" message=\"state.loadingMessage\"></view-loading>\\n\\n<div class=\"row\" ng-if=\"!state.loadingMessage\">\\n  <div class=\"col-sm-12\">\\n    <endpoints-datatable\\n      title-text=\"Environments\"\\n      title-icon=\"fa-plug\"\\n      table-key=\"endpoints\"\\n      order-by=\"Name\"\\n      remove-action=\"removeAction\"\\n      retrieve-page=\"getPaginatedEndpoints\"\\n      set-loading-message=\"setLoadingMessage\"\\n    ></endpoints-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},54658:function(e){var t=\"app/portainer/views/endpoints/kvm/endpointKVM.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"KVM Control\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"portainer.endpoints\">Environments</a> &gt; <a ui-sref=\"portainer.endpoints.endpoint({id: $state.endpoint.Id})\">{{ $state.endpoint.Name }}</a> &gt;\\n    {{ $state.deviceName }} > KVM Control\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <div class=\"datatable\" ng-class=\"{ \\'kvm-maximized\\': $state.maximized }\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <div class=\"toolBar\">\\n            <div class=\"toolBarTitle\">KVM Control</div>\\n            <i class=\"interactive fa fa-times fa-lg pull-right\" aria-hidden=\"true\" ui-sref=\"edge.devices\"></i>\\n            <i ng-click=\"maximize()\" title=\"Maximize\" class=\"interactive fa fa-window-maximize fa-lg pull-right\" style=\"margin-right: 10px\" aria-hidden=\"true\"></i>\\n            <i ng-click=\"minimize()\" title=\"Minimize\" class=\"interactive fa fa-window-minimize fa-lg pull-right\" style=\"margin-right: 10px\" aria-hidden=\"true\"></i>\\n          </div>\\n          <div class=\"actionBar\">\\n            <kvm-control device-id=\"$state.deviceId\" server=\"$state.mpsServer\" token=\"$state.mpsToken\"> </kvm-control>\\n          </div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=t},83178:function(e){var t=\"app/portainer/views/groups/access/groupAccess.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Environment group access\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"portainer.groups\">Groups</a> &gt; <a ui-sref=\"portainer.groups.group({id: group.Id})\">{{ group.Name }}</a> &gt; Access management\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"group\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-object-group\" title-text=\"Group\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>\\n                {{ group.Name }}\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<por-access-management\\n  ng-if=\"group\"\\n  access-controlled-entity=\"group\"\\n  entity-type=\"group\"\\n  action-in-progress=\"state.actionInProgress\"\\n  update-access=\"updateAccess\"\\n  limited-feature=\"limitedFeature\"\\n></por-access-management>\\n')}]),e.exports=t},48508:function(e){var t=\"app/portainer/views/groups/create/creategroup.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create environment group\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.groups\">Environment groups</a> &gt; Add group </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <group-form\\n          loaded=\"loaded\"\\n          page-type=\"create\"\\n          model=\"model\"\\n          available-endpoints=\"availableEndpoints\"\\n          associated-endpoints=\"associatedEndpoints\"\\n          add-label-action=\"addLabel\"\\n          remove-label-action=\"removeLabel\"\\n          form-action=\"create\"\\n          form-action-label=\"Create the group\"\\n          action-in-progress=\"state.actionInProgress\"\\n        ></group-form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},55150:function(e){var t=\"app/portainer/views/groups/edit/group.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Environment group details\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.groups\">Groups</a> &gt; {{ ::group.Name }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <group-form\\n          loaded=\"loaded\"\\n          page-type=\"edit\"\\n          model=\"group\"\\n          available-endpoints=\"availableEndpoints\"\\n          associated-endpoints=\"associatedEndpoints\"\\n          add-label-action=\"addLabel\"\\n          remove-label-action=\"removeLabel\"\\n          form-action=\"update\"\\n          form-action-label=\"Update the group\"\\n          action-in-progress=\"state.actionInProgress\"\\n        ></group-form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},9391:function(e){var t=\"app/portainer/views/groups/groups.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Environment groups\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.groups\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Environment group management</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <groups-datatable\\n      title-text=\"Environment groups\"\\n      title-icon=\"fa-object-group\"\\n      dataset=\"groups\"\\n      table-key=\"groups\"\\n      order-by=\"Name\"\\n      remove-action=\"removeAction\"\\n    ></groups-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},45564:function(e,t,n){var a='<div class=\"page-wrapper\">\\n  \\x3c!-- simple box --\\x3e\\n  <div class=\"container simple-box\">\\n    <div class=\"col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1\">\\n      \\x3c!-- simple box logo --\\x3e\\n      <div class=\"row\">\\n        <img ng-if=\"logo\" ng-src=\"{{ logo }}\" class=\"simple-box-logo\" />\\n        <img ng-if=\"!logo\" src=\"'+n(21985)+'\" class=\"simple-box-logo\" alt=\"Portainer\" />\\n      </div>\\n      \\x3c!-- !simple box logo --\\x3e\\n      \\x3c!-- init password panel --\\x3e\\n      <div class=\"panel panel-default\">\\n        <div class=\"panel-body\">\\n          \\x3c!-- toggle --\\x3e\\n          <div style=\"padding-bottom: 12px\">\\n            <a ng-click=\"togglePanel()\">\\n              <i ng-class=\"{ true: \\'glyphicon glyphicon-chevron-down\\', false: \\'glyphicon glyphicon-chevron-right\\' }[state.showInitPassword]\" aria-hidden=\"true\"></i\\n              ><span style=\"padding-left: 10px\">New Portainer installation</span>\\n            </a>\\n          </div>\\n          \\x3c!-- !toggle --\\x3e\\n\\n          \\x3c!-- init password form --\\x3e\\n          <form name=\"form\" class=\"simple-box-form form-horizontal\" style=\"padding-left: 30px\" ng-if=\"state.showInitPassword\">\\n            \\x3c!-- note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\"> Please create the initial administrator user. </span>\\n              </div>\\n            </div>\\n            \\x3c!-- !note --\\x3e\\n            \\x3c!-- username-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"username\" class=\"col-sm-4 control-label text-left\"> Username </label>\\n              <div class=\"col-sm-8\">\\n                <input type=\"text\" class=\"form-control\" id=\"username\" ng-model=\"formValues.Username\" placeholder=\"e.g. admin\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !username-input --\\x3e\\n            \\x3c!-- new-password-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"password\" class=\"col-sm-4 control-label text-left\">Password</label>\\n              <div class=\"col-sm-8\">\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.Password\" id=\"password\" name=\"password\" ng-minlength=\"requiredPasswordLength\" auto-focus />\\n              </div>\\n            </div>\\n            \\x3c!-- !new-password-input --\\x3e\\n            \\x3c!-- confirm-password-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"confirm_password\" class=\"col-sm-4 control-label text-left\">Confirm password</label>\\n              <div class=\"col-sm-8\">\\n                <div class=\"input-group\">\\n                  <input type=\"password\" class=\"form-control\" ng-model=\"formValues.ConfirmPassword\" id=\"confirm_password\" />\\n                  <span class=\"input-group-addon\"\\n                    ><i\\n                      ng-class=\"\\n                        { true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[\\n                          form.password.$viewValue !== \\'\\' && form.password.$viewValue === formValues.ConfirmPassword\\n                        ]\\n                      \"\\n                      aria-hidden=\"true\"\\n                    ></i\\n                  ></span>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !confirm-password-input --\\x3e\\n            \\x3c!-- note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12 text-muted\">\\n                <p>\\n                  <i class=\"fa fa-exclamation-triangle orange-icon space-right\" aria-hidden=\"true\"></i>\\n                  <span>The password must be at least {{ requiredPasswordLength }} characters long.</span>\\n                  <i class=\"fa fa-check green-icon space-left\" aria-hidden=\"true\" ng-if=\"form.password.$valid && formValues.Password\"></i>\\n                </p>\\n              </div>\\n            </div>\\n            \\x3c!-- !note --\\x3e\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"state.actionInProgress || form.$invalid || !formValues.Password || !formValues.ConfirmPassword ||  form.password.$viewValue !== formValues.ConfirmPassword\"\\n                  ng-click=\"createAdminUser()\"\\n                  button-spinner=\"state.actionInProgress\"\\n                >\\n                  <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-user-plus\" aria-hidden=\"true\"></i> Create user</span>\\n                  <span ng-show=\"state.actionInProgress\">Creating user...</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n            \\x3c!-- enableTelemetry--\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <input type=\"checkbox\" name=\"toggle_enableTelemetry\" ng-model=\"formValues.enableTelemetry\" />\\n                <span class=\"text-muted small\" style=\"margin-left: 2px\"\\n                  >Allow collection of anonymous statistics. You can find more information about this in our\\n                  <a href=\"https://www.portainer.io/documentation/in-app-analytics-and-privacy-policy/\" target=\"_blank\">privacy policy</a>.</span\\n                >\\n              </div>\\n            </div>\\n            \\x3c!-- !enableTelemetry--\\x3e\\n          </form>\\n          \\x3c!-- !init password form --\\x3e\\n        </div>\\n      </div>\\n      \\x3c!-- !init password panel --\\x3e\\n\\n      \\x3c!-- restore backup panel --\\x3e\\n      <div class=\"panel panel-default\">\\n        <div class=\"panel-body\">\\n          \\x3c!-- toggle --\\x3e\\n          <div style=\"padding-bottom: 12px\">\\n            <a ng-click=\"togglePanel()\" data-cy=\"init-installPortainerFromBackup\">\\n              <i ng-class=\"{ true: \\'glyphicon glyphicon-chevron-down\\', false: \\'glyphicon glyphicon-chevron-right\\' }[state.showRestorePortainer]\" aria-hidden=\"true\"></i\\n              ><span style=\"padding-left: 10px\">Restore Portainer from backup</span>\\n            </a>\\n          </div>\\n          \\x3c!-- !toggle --\\x3e\\n\\n          \\x3c!-- restore form --\\x3e\\n          <form class=\"simple-box-form form-horizontal\" style=\"padding-left: 30px\" ng-if=\"state.showRestorePortainer\">\\n            \\x3c!-- note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-9\">\\n                <span class=\"small text-muted\">\\n                  This will restore the Portainer metadata which contains information about the environments, stacks and applications, as well as the configured users.\\n                </span>\\n              </div>\\n            </div>\\n            \\x3c!-- !note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"boxselector_wrapper\">\\n                <div>\\n                  <input type=\"radio\" id=\"restore_file\" checked=\"checked\" />\\n                  <label for=\"restore_file\" style=\"padding-bottom: 20px\" data-cy=\"init-selectLocalFile\">\\n                    <div class=\"boxselector_header\">\\n                      <i class=\"fa fa-upload\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      Upload backup file\\n                    </div>\\n                    <p></p>\\n                  </label>\\n                </div>\\n                <div>\\n                  <input type=\"radio\" id=\"restore_s3\" disabled />\\n                  <label for=\"restore_s3\" class=\"boxselector_disabled\" style=\"background-color: #ffffff\">\\n                    <div class=\"boxselector_header\">\\n                      <i class=\"fa fa-download\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      Retrieve from S3\\n                    </div>\\n                    <p>This feature is available in <a href=\"https://www.portainer.io/business-upsell?from=restore-s3-form\" target=\"_blank\"> Portainer Business Edition</a></p>\\n                  </label>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\"> You can upload a backup file from your computer. </span>\\n              </div>\\n            </div>\\n            \\x3c!-- !note --\\x3e\\n            \\x3c!-- select-file-input --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  class=\"btn btn-sm btn-primary\"\\n                  ngf-select\\n                  accept=\".gz,.encrypted\"\\n                  ngf-accept=\"\\'application/x-tar,application/x-gzip\\'\"\\n                  ng-model=\"formValues.BackupFile\"\\n                  auto-focus\\n                  data-cy=\"init-selectBackupFileButton\"\\n                  >Select file</button\\n                >\\n                <span style=\"margin-left: 5px\">\\n                  {{ formValues.BackupFile.name }}\\n                  <i class=\"fa fa-times red-icon\" ng-if=\"!formValues.BackupFile\" aria-hidden=\"true\"></i>\\n                </span>\\n              </div>\\n            </div>\\n            \\x3c!-- !select-file-input --\\x3e\\n            \\x3c!-- password-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"password\" class=\"col-sm-3 control-label text-left\">\\n                Password\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"If the backup is password protected, provide the password in order to extract the backup file, otherwise this field can be left empty.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <div class=\"col-sm-4\">\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.Password\" id=\"password\" data-cy=\"init-backupPasswordInput\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !password-input --\\x3e\\n            \\x3c!-- note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\"> You are about to restore Portainer from this backup. </span>\\n              </div>\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\"> After restoring has completed, please log in as a user that was known by the Portainer that was restored. </span>\\n              </div>\\n            </div>\\n            \\x3c!-- !note --\\x3e\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"!formValues.BackupFile || state.backupInProgress\"\\n                  ng-click=\"uploadBackup()\"\\n                  button-spinner=\"state.backupInProgress\"\\n                  data-cy=\"init-restorePortainerButton\"\\n                >\\n                  <span ng-hide=\"state.backupInProgress\">Restore Portainer</span>\\n                  <span ng-show=\"state.backupInProgress\">Restoring Portainer...</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n          \\x3c!-- !restore backup form --\\x3e\\n        </div>\\n      </div>\\n      \\x3c!-- !restore backup panel --\\x3e\\n    </div>\\n  </div>\\n  \\x3c!-- !simple box --\\x3e\\n</div>\\n',r=\"app/portainer/views/init/admin/initAdmin.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(r,a)}]),e.exports=r},65535:function(e){var t=\"app/portainer/views/init/endpoint/includes/agent.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\"> Information </div>\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <span class=\"small\">\\n      <p class=\"text-primary\"> Connect directly to a Portainer agent running inside a Docker or Kubernetes environment. </p>\\n    </span>\\n  </div>\\n</div>\\n<div class=\"col-sm-12 form-section-title\"> Environment </div>\\n\\x3c!-- name-input --\\x3e\\n<div class=\"form-group\">\\n  <label for=\"endpoint_name\" class=\"col-sm-4 col-lg-3 control-label text-left\">Name</label>\\n  <div class=\"col-sm-8 col-lg-9\">\\n    <input type=\"text\" class=\"form-control\" id=\"endpoint_name\" ng-model=\"ctrl.formValues.Name\" placeholder=\"e.g. prod-cluster-01\" />\\n  </div>\\n</div>\\n\\x3c!-- !name-input --\\x3e\\n\\x3c!-- endpoint-url-input --\\x3e\\n<div class=\"form-group\">\\n  <label for=\"endpoint_url\" class=\"col-sm-4 col-lg-3 control-label text-left\">\\n    Agent URL\\n    <portainer-tooltip position=\"bottom\" message=\"URL or IP address of a Portainer agent.\"> </portainer-tooltip>\\n  </label>\\n  <div class=\"col-sm-8 col-lg-9\">\\n    <input type=\"text\" class=\"form-control\" id=\"endpoint_url\" ng-model=\"ctrl.formValues.URL\" placeholder=\"e.g. 10.0.0.10:9001\" />\\n  </div>\\n</div>\\n\\x3c!-- !endpoint-url-input --\\x3e\\n')}]),e.exports=t},31714:function(e){var t=\"app/portainer/views/init/endpoint/includes/localDocker.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\"> Information </div>\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <span class=\"small\">\\n      <p class=\"text-primary\"> Manage the Docker environment where Portainer is running. </p>\\n      <p class=\"text-muted\">\\n        <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n        Ensure that you have started the Portainer container with the following Docker flag:\\n      </p>\\n      <p class=\"text-muted\"> <code>-v \"/var/run/docker.sock:/var/run/docker.sock\"</code> (Linux). </p>\\n      <p class=\"text-muted\"> or </p>\\n      <p class=\"text-muted\"> <code>-v \\\\\\\\.\\\\pipe\\\\docker_engine:\\\\\\\\.\\\\pipe\\\\docker_engine</code> (Windows). </p>\\n    </span>\\n  </div>\\n</div>\\n')}]),e.exports=t},6367:function(e){var t=\"app/portainer/views/init/endpoint/includes/localKubernetes.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<div class=\"col-sm-12 form-section-title\"> Information </div>\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <span class=\"small\">\\n      <p class=\"text-primary\"> Manage the Kubernetes environment where Portainer is running. </p>\\n    </span>\\n  </div>\\n</div>\\n')}]),e.exports=t},86573:function(e,t,n){var a='<div class=\"page-wrapper\">\\n  \\x3c!-- simple box --\\x3e\\n  <div class=\"container simple-box\">\\n    <div class=\"col-sm-12\">\\n      \\x3c!-- simple box logo --\\x3e\\n      <div class=\"row\">\\n        <img ng-if=\"ctrl.logo\" ng-src=\"{{ ctrl.logo }}\" class=\"simple-box-logo\" />\\n        <img ng-if=\"!ctrl.logo\" src=\"'+n(21985)+'\" class=\"simple-box-logo\" alt=\"Portainer\" />\\n      </div>\\n      \\x3c!-- !simple box logo --\\x3e\\n      \\x3c!-- init-environment panel --\\x3e\\n      <div class=\"panel panel-default\">\\n        <div class=\"panel-body\">\\n          \\x3c!-- init-environment form --\\x3e\\n          <form class=\"simple-box-form form-horizontal\">\\n            \\x3c!-- note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\"> Connect Portainer to the container environment you want to manage. </span>\\n              </div>\\n            </div>\\n            \\x3c!-- !note --\\x3e\\n            \\x3c!-- environment-type --\\x3e\\n            <div class=\"form-group\" style=\"margin-bottom: 0\">\\n              <div class=\"boxselector_wrapper\">\\n                <div ng-repeat=\"type in ctrl.endpointSections\">\\n                  <input type=\"radio\" id=\"{{ type.Id }}\" ng-model=\"ctrl.formValues.ConnectionType\" ng-value=\"type.Value\" />\\n                  <label for=\"{{ type.Id }}\">\\n                    <div class=\"boxselector_header\">\\n                      <i ng-class=\"type.Classes\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      {{ type.Title }}\\n                    </div>\\n                    <p>{{ type.Description }}</p>\\n                  </label>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !environment-type  --\\x3e\\n            \\x3c!-- environment-type-details --\\x3e\\n            <div ng-if=\"ctrl.formValues.ConnectionType === ctrl.PortainerEndpointConnectionTypes.DOCKER_LOCAL\">\\n              <ng-include src=\"\\'app/portainer/views/init/endpoint/includes/localDocker.html\\'\"></ng-include>\\n            </div>\\n            <div ng-if=\"ctrl.formValues.ConnectionType === ctrl.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL\">\\n              <ng-include src=\"\\'app/portainer/views/init/endpoint/includes/localKubernetes.html\\'\"></ng-include>\\n            </div>\\n            <div ng-if=\"ctrl.formValues.ConnectionType === ctrl.PortainerEndpointConnectionTypes.AGENT\">\\n              <ng-include src=\"\\'app/portainer/views/init/endpoint/includes/agent.html\\'\"></ng-include>\\n            </div>\\n            \\x3c!-- !environment-type-details --\\x3e\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"ctrl.isConnectButtonDisabled()\"\\n                  ng-click=\"ctrl.createEndpoint()\"\\n                  button-spinner=\"ctrl.state.actionInProgress\"\\n                >\\n                  <span ng-hide=\"ctrl.state.actionInProgress\"><i class=\"fa fa-bolt\" aria-hidden=\"true\"></i> Connect</span>\\n                  <span ng-show=\"ctrl.state.actionInProgress\">Connecting...</span>\\n                </button>\\n                <button type=\"submit\" class=\"btn btn-sm btn-default\" ng-click=\"ctrl.skipEndpointCreation()\" button-spinner=\"ctrl.state.actionInProgress\">\\n                  <span ng-hide=\"ctrl.state.actionInProgress\"><i class=\"fa fa-share\" aria-hidden=\"true\"></i> Skip</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n          \\x3c!-- !init-environment form --\\x3e\\n        </div>\\n      </div>\\n      \\x3c!-- !init-environment panel --\\x3e\\n    </div>\\n  </div>\\n  \\x3c!-- !simple box --\\x3e\\n</div>\\n',r=\"app/portainer/views/init/endpoint/initEndpoint.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(r,a)}]),e.exports=r},94818:function(e,t,n){var a='<div class=\"page-wrapper\">\\n  \\x3c!-- login box --\\x3e\\n  <div class=\"container simple-box\">\\n    <div class=\"col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3\">\\n      \\x3c!-- login box logo --\\x3e\\n      <div class=\"row\">\\n        <img ng-if=\"!ctrl.logo\" src=\"'+n(21985)+'\" class=\"simple-box-logo\" alt=\"Portainer\" />\\n        <img ng-if=\"ctrl.logo\" ng-src=\"{{ ctrl.logo }}\" class=\"simple-box-logo\" />\\n      </div>\\n      <div class=\"row\" style=\"text-align: center\">\\n        Logout in progress...\\n        <i class=\"fa fa-cog fa-spin\" style=\"margin-left: 5px\"></i>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n',r=\"app/portainer/views/logout/logout.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(r,a)}]),e.exports=r},83827:function(e){var t=\"app/portainer/views/registries/create/createRegistry.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create registry\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.registries\">Registries</a> &gt; Add registry </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"col-sm-12 form-section-title\"> Registry provider </div>\\n\\n          <div class=\"form-group\"></div>\\n\\n          <div class=\"form-group\" style=\"margin-bottom: 0\">\\n            <div class=\"boxselector_wrapper\">\\n              <div>\\n                <input type=\"radio\" id=\"registry_dockerhub\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.DOCKERHUB\" />\\n                <label for=\"registry_dockerhub\" ng-click=\"$ctrl.selectDockerHub()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-database\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    DockerHub\\n                  </div>\\n                  <p>DockerHub authenticated account</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"registry_aws_ecr\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.ECR\" />\\n                <label for=\"registry_aws_ecr\" ng-click=\"$ctrl.selectEcr()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fab fa-aws\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    AWS ECR\\n                  </div>\\n                  <p>Amazon elastic container registry</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"registry_quay\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.QUAY\" />\\n                <label for=\"registry_quay\" ng-click=\"$ctrl.selectQuayRegistry()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-database\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Quay.io\\n                  </div>\\n                  <p>Quay container registry</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"registry_proget\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.PROGET\" />\\n                <label for=\"registry_proget\" ng-click=\"$ctrl.selectProGetRegistry()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-database\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    ProGet\\n                  </div>\\n                  <p>ProGet container registry</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"registry_azure\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.AZURE\" />\\n                <label for=\"registry_azure\" ng-click=\"$ctrl.selectAzureRegistry()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fab fa-microsoft\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Azure\\n                  </div>\\n                  <p>Azure container registry</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"registry_gitlab\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.GITLAB\" />\\n                <label for=\"registry_gitlab\" ng-click=\"$ctrl.selectGitlabRegistry()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fab fa-gitlab\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Gitlab\\n                  </div>\\n                  <p>Gitlab container registry</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"registry_custom\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.CUSTOM\" />\\n                <label for=\"registry_custom\" ng-click=\"$ctrl.selectCustomRegistry()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-database\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Custom registry\\n                  </div>\\n                  <p>Define your own registry</p>\\n                </label>\\n              </div>\\n            </div>\\n          </div>\\n\\n          <registry-form-quay\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.QUAY\"\\n            model=\"$ctrl.model\"\\n            form-action=\"$ctrl.createRegistry\"\\n            form-action-label=\"Add registry\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n          ></registry-form-quay>\\n\\n          <registry-form-azure\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.AZURE\"\\n            model=\"$ctrl.model\"\\n            form-action=\"$ctrl.createRegistry\"\\n            form-action-label=\"Add registry\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n            name-is-used=\"($ctrl.nameIsUsed)\"\\n          ></registry-form-azure>\\n\\n          <registry-form-custom\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.CUSTOM\"\\n            model=\"$ctrl.model\"\\n            form-action=\"$ctrl.createRegistry\"\\n            form-action-label=\"Add registry\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n            name-is-used=\"($ctrl.nameIsUsed)\"\\n          ></registry-form-custom>\\n\\n          <registry-form-ecr\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.ECR\"\\n            model=\"$ctrl.model\"\\n            form-action=\"$ctrl.createRegistry\"\\n            form-action-label=\"Add registry\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n            name-is-used=\"($ctrl.nameIsUsed)\"\\n          ></registry-form-ecr>\\n\\n          <registry-form-proget\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.PROGET\"\\n            model=\"$ctrl.model\"\\n            form-action=\"$ctrl.createRegistry\"\\n            form-action-label=\"Add registry\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n            name-is-used=\"($ctrl.nameIsUsed)\"\\n          ></registry-form-proget>\\n\\n          <registry-form-gitlab\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.GITLAB\"\\n            model=\"$ctrl.model\"\\n            retrieve-registries=\"$ctrl.retrieveGitlabRegistries\"\\n            create-registries=\"$ctrl.createGitlabRegistries\"\\n            projects=\"$ctrl.gitlabProjects\"\\n            state=\"$ctrl.state\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n            reset-defaults=\"$ctrl.useDefaultGitlabConfiguration\"\\n          ></registry-form-gitlab>\\n\\n          <registry-form-dockerhub\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.DOCKERHUB\"\\n            model=\"$ctrl.model\"\\n            form-action=\"$ctrl.createRegistry\"\\n            form-action-label=\"Add registry\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n            name-is-used=\"($ctrl.nameIsUsed)\"\\n          ></registry-form-dockerhub>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},2800:function(e){var t=\"app/portainer/views/registries/edit/registry.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Registry details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"portainer.registries\">Registries</a> &gt; <a ui-sref=\"portainer.registries.registry({id: $ctrl.registry.Id})\">{{ $ctrl.registry.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"!$ctrl.state.loading\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"registry_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <input type=\"text\" class=\"form-control\" id=\"registry_name\" ng-model=\"$ctrl.formValues.Name\" placeholder=\"e.g. my-registry\" ng-change=\"$ctrl.onChangeName()\" />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"$ctrl.state.nameAlreadyExists\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div>\\n                <p><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A registry with the same name already exists.</p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- registry-url-input --\\x3e\\n          <div class=\"form-group\" ng-if=\"registry.Type !== RegistryTypes.DOCKERHUB && registry.Type !== RegistryTypes.QUAY && registry.Type !== RegistryTypes.GITLAB\">\\n            <label for=\"registry_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n              Registry URL\\n              <portainer-tooltip position=\"bottom\" message=\"URL or IP address of a Docker registry. Any protocol or trailing slash will be stripped if present.\">\\n              </portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <input type=\"text\" class=\"form-control\" id=\"registry_url\" ng-model=\"$ctrl.registry.URL\" placeholder=\"e.g. 10.0.0.10:5000 or myregistry.domain.tld\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !registry-url-input --\\x3e\\n\\n          \\x3c!-- authentication-checkbox --\\x3e\\n          <div\\n            class=\"form-group\"\\n            ng-if=\"\\n              $ctrl.registry.Type !== $ctrl.RegistryTypes.DOCKERHUB &&\\n              $ctrl.registry.Type !== $ctrl.RegistryTypes.QUAY &&\\n              $ctrl.registry.Type !== $ctrl.RegistryTypes.PROGET &&\\n              $ctrl.registry.Type !== $ctrl.RegistryTypes.AZURE\\n            \"\\n          >\\n            <div class=\"col-sm-12\">\\n              <label for=\"registry_auth\" class=\"control-label text-left\">\\n                Authentication\\n                <portainer-tooltip position=\"bottom\" message=\"Enable this option if you need to specify credentials to connect to this registry.\"> </portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"$ctrl.registry.Authentication\" /><i></i> </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !authentication-checkbox --\\x3e\\n\\n          \\x3c!-- authentication-credentials --\\x3e\\n          <div ng-if=\"$ctrl.registry.Authentication\">\\n            \\x3c!-- credentials-user --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"credentials_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                {{ $ctrl.registry.Type === $ctrl.RegistryTypes.ECR ? \\'AWS Access Key\\' : \\'Username\\' }}\\n              </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input type=\"text\" class=\"form-control\" id=\"credentials_username\" ng-model=\"$ctrl.registry.Username\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !credentials-user --\\x3e\\n            \\x3c!-- credentials-password --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"credentials_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                {{ $ctrl.passwordLabel() }}\\n              </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input type=\"password\" class=\"form-control\" id=\"credentials_password\" ng-model=\"$ctrl.formValues.Password\" placeholder=\"*******\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !credentials-password --\\x3e\\n          </div>\\n          \\x3c!-- !authentication-credentials --\\x3e\\n\\n          <div ng-if=\"$ctrl.registry.Type == $ctrl.RegistryTypes.QUAY\">\\n            \\x3c!-- organisation-checkbox --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\"> Use organisation registry </label>\\n                <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"$ctrl.registry.Quay.UseOrganisation\" /><i></i> </label>\\n              </div>\\n            </div>\\n            \\x3c!-- !organisation-checkbox --\\x3e\\n            <div ng-if=\"$ctrl.registry.Quay.UseOrganisation\">\\n              \\x3c!-- organisation_name --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"organisation_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Organisation name</label>\\n                <div class=\"col-sm-9 col-lg-10\">\\n                  <input type=\"text\" class=\"form-control\" id=\"organisation_name\" name=\"organisation_name\" ng-model=\"$ctrl.registry.Quay.OrganisationName\" required />\\n                </div>\\n              </div>\\n              \\x3c!-- !organisation_name --\\x3e\\n            </div>\\n          </div>\\n\\n          <div ng-if=\"$ctrl.registry.Type == $ctrl.RegistryTypes.ECR\">\\n            \\x3c!-- region --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"registry_region\" class=\"col-sm-3 col-lg-2 control-label text-left\">Region</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input type=\"text\" class=\"form-control\" id=\"registry_region\" name=\"registry_region\" placeholder=\"us-west-1\" ng-model=\"$ctrl.registry.Ecr.Region\" required />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"registryFormEcr.registry_region.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"registryFormEcr.registry_region.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !region --\\x3e\\n          </div>\\n\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.isUpdateButtonDisabled()\"\\n                ng-click=\"$ctrl.updateRegistry()\"\\n                button-spinner=\"$ctrl.state.actionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.state.actionInProgress\">Update registry</span>\\n                <span ng-show=\"$ctrl.state.actionInProgress\">Updating registry...</span>\\n              </button>\\n              <a type=\"button\" class=\"btn btn-default btn-sm\" ui-sref=\"portainer.registries\">Cancel</a>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},68970:function(e){var t=\"app/portainer/views/registries/registries.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Registries\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.registries\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Registry management</rd-header-content>\\n</rd-header>\\n\\n<information-panel title-text=\"Information\">\\n  <span class=\"small text-muted\"> View registries via an environment to manage access for user(s) and/or team(s) </span>\\n</information-panel>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <registries-datatable\\n      title-text=\"Registries\"\\n      title-icon=\"fa-database\"\\n      dataset=\"registries\"\\n      table-key=\"registries\"\\n      order-by=\"Name\"\\n      remove-action=\"removeAction\"\\n      can-browse=\"canBrowse\"\\n    ></registries-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},61233:function(e){var t=\"app/portainer/views/settings/authentication/settingsAuthentication.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Authentication settings\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.settings\">Settings</a> &gt; Authentication </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-users\" title-text=\"Authentication\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"authSettingsForm\">\\n          <div class=\"col-sm-12 form-section-title\"> Configuration </div>\\n          <div class=\"form-group\">\\n            <label for=\"user_timeout\" class=\"col-sm-2 control-label text-left\">\\n              Session lifetime\\n              <portainer-tooltip message=\"Time before users are forced to relogin.\"></portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-10\">\\n              <select\\n                id=\"user_timeout\"\\n                class=\"form-control\"\\n                ng-model=\"settings.UserSessionTimeout\"\\n                ng-options=\"opt.value as opt.key for opt in state.availableUserSessionTimeoutOptions\"\\n              ></select>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12 text-muted small\"> Changing from default is only recommended if you have additional layers of authentication in front of Portainer. </span>\\n          </div>\\n\\n          <div class=\"col-sm-12 form-section-title\"> Authentication method </div>\\n          <box-selector radio-name=\"\\'authOptions\\'\" value=\"authMethod\" options=\"authOptions\" on-change=\"(onChangeAuthMethod)\"></box-selector>\\n\\n          <internal-auth\\n            ng-if=\"authenticationMethodSelected(1)\"\\n            on-save-settings=\"(saveSettings)\"\\n            is-loading=\"state.actionInProgress\"\\n            value=\"settings.InternalAuthSettings\"\\n            on-change=\"(onChangePasswordLength)\"\\n          ></internal-auth>\\n\\n          <ldap-settings\\n            ng-if=\"authenticationMethodSelected(2)\"\\n            settings=\"formValues.ldap.ldapSettings\"\\n            tlsca-cert=\"formValues.TLSCACert\"\\n            state=\"state\"\\n            connectivity-check=\"LDAPConnectivityCheck\"\\n            on-save-settings=\"(saveSettings)\"\\n            save-button-state=\"state.actionInProgress\"\\n            is-ldap-form-valid=\"isLDAPFormValid\"\\n          ></ldap-settings>\\n\\n          <ad-settings\\n            ng-if=\"authenticationMethodSelected(4)\"\\n            settings=\"formValues.ldap.adSettings\"\\n            tlsca-cert=\"formValues.TLSCACert\"\\n            state=\"state\"\\n            connectivity-check=\"LDAPConnectivityCheck\"\\n            on-save-settings=\"(saveSettings)\"\\n            save-button-state=\"state.actionInProgress\"\\n            is-ldap-form-valid=\"isLDAPFormValid()\"\\n          ></ad-settings>\\n\\n          <oauth-settings\\n            ng-if=\"authenticationMethodSelected(3)\"\\n            settings=\"OAuthSettings\"\\n            teams=\"teams\"\\n            on-save-settings=\"(saveSettings)\"\\n            save-button-state=\"state.actionInProgress\"\\n          ></oauth-settings>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},93149:function(e){var t=\"app/portainer/views/settings/edge-compute/settingsEdgeCompute.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Settings\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.settings\">Settings</a> &gt; Edge Compute </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\" ng-if=\"$ctrl.settings\">\\n    <settings-edge-compute on-submit=\"($ctrl.onSubmitEdgeCompute)\" settings=\"($ctrl.settings)\"></settings-edge-compute>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\" ng-if=\"$ctrl.settings\">\\n    <settings-open-amt on-submit=\"($ctrl.onSubmitOpenAMT)\" settings=\"($ctrl.settings)\"></settings-open-amt>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\" ng-if=\"$ctrl.settings\">\\n    <settings-fdo on-submit=\"($ctrl.onSubmitFDO)\" settings=\"($ctrl.settings)\"></settings-fdo>\\n  </div>\\n</div>\\n')}]),e.exports=t},12811:function(e){var t=\"app/portainer/views/settings/settings.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Settings\"></rd-header-title>\\n  <rd-header-content>Settings</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-cogs\" title-text=\"Application settings\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- snapshot-interval --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"snapshot_interval\" class=\"col-sm-2 control-label text-left\">Snapshot interval</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"settings.SnapshotInterval\" id=\"snapshot_interval\" placeholder=\"e.g. 15m\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !snapshot-interval --\\x3e\\n          \\x3c!-- logo --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                label=\"\\'Use custom logo\\'\"\\n                value=\"formValues.customLogo\"\\n                name=\"\\'toggle_logo\\'\"\\n                disabled=\"state.isDemo\"\\n                on-change=\"(onToggleCustomLogo)\"\\n              ></por-switch-field>\\n            </div>\\n            <div class=\"col-sm-12\" ng-if=\"state.isDemo\" style=\"margin-top: 10px\">\\n              <span class=\"small text-muted\">You cannot use this feature in the demo version of Portainer.</span>\\n            </div>\\n          </div>\\n\\n          <div ng-if=\"formValues.customLogo\">\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\"> You can specify the URL to your logo here. For an optimal display, logo dimensions should be 155px by 55px. </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <label for=\"logo_url\" class=\"col-sm-1 control-label text-left\"> URL </label>\\n              <div class=\"col-sm-11\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"settings.LogoURL\" id=\"logo_url\" placeholder=\"https://mycompany.com/logo.png\" />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !logo --\\x3e\\n\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                label=\"\\'Allow the collection of anonymous statistics\\'\"\\n                value=\"formValues.enableTelemetry\"\\n                name=\"\\'toggle_enableTelemetry\\'\"\\n                on-change=\"(onToggleEnableTelemetry)\"\\n                disabled=\"state.isDemo\"\\n              ></por-switch-field>\\n            </div>\\n            <div class=\"col-sm-12\" ng-if=\"state.isDemo\" style=\"margin-top: 10px\">\\n              <span class=\"small text-muted\">You cannot use this feature in the demo version of Portainer.</span>\\n            </div>\\n            <div class=\"col-sm-12 text-muted small\" style=\"margin-top: 10px\">\\n              You can find more information about this in our\\n              <a href=\"https://www.portainer.io/documentation/in-app-analytics-and-privacy-policy/\" target=\"_blank\">privacy policy</a>.\\n            </div>\\n          </div>\\n          \\x3c!-- templates --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> App Templates </div>\\n          <div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                You can specify the URL to your own template definitions file here. See\\n                <a href=\"https://documentation.portainer.io/v2.0/settings/apps/#build-and-host-your-own-templates\" target=\"_blank\">Portainer documentation</a> for more details.\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <label for=\"templates_url\" class=\"col-sm-1 control-label text-left\"> URL </label>\\n              <div class=\"col-sm-11\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"settings.TemplatesURL\"\\n                  id=\"templates_url\"\\n                  placeholder=\"https://myserver.mydomain/templates.json\"\\n                  required\\n                  data-cy=\"settings-templateUrl\"\\n                />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !templates --\\x3e\\n          \\x3c!-- helm charts --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Helm Repository </div>\\n          <div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                You can specify the URL to your own helm repository here. See the\\n                <a href=\"https://helm.sh/docs/topics/chart_repository/\" target=\"_blank\">official documentation</a> for more details.\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <label for=\"helmrepository_url\" class=\"col-sm-1 control-label text-left\"> URL </label>\\n              <div class=\"col-sm-11\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"settings.HelmRepositoryURL\" id=\"helmrepository_url\" placeholder=\"https://charts.bitnami.com/bitnami\" />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !helm charts --\\x3e\\n          \\x3c!-- host-filesystem --\\x3e\\n          \\x3c!-- kube --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Kubernetes </div>\\n          <div class=\"form-group\">\\n            <label for=\"kubeconfig_expiry\" class=\"col-sm-2 control-label text-left\"> Kubeconfig expiry </label>\\n            <div class=\"col-sm-10\">\\n              <select\\n                id=\"kubeconfig_expiry\"\\n                class=\"form-control\"\\n                ng-model=\"settings.KubeconfigExpiry\"\\n                ng-options=\"opt.value as opt.key for opt in state.availableKubeconfigExpiryOptions\"\\n              ></select>\\n            </div>\\n          </div>\\n          \\x3c!-- ! kube  --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-click=\"saveApplicationSettings()\"\\n                ng-disabled=\"state.actionInProgress || !settings.TemplatesURL\"\\n                button-spinner=\"state.actionInProgress\"\\n                data-cy=\"settings-saveSettingsButton\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Save settings</span>\\n                <span ng-show=\"state.actionInProgress\">Saving...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<ssl-certificate-settings ng-show=\"state.showHTTPS\"></ssl-certificate-settings>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-tags\" title-text=\"Hidden containers\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" ng-submit=\"addFilteredContainerLabel()\" name=\"addTagForm\">\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12 text-muted small\"> You can hide containers with specific labels from Portainer UI. You need to specify the label name and value. </span>\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"header_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11 col-md-4\">\\n              <input type=\"text\" required class=\"form-control\" id=\"header_name\" name=\"label_name\" ng-model=\"formValues.labelName\" placeholder=\"e.g. com.example.foo\" />\\n            </div>\\n            <label for=\"header_value\" class=\"col-sm-1 margin-sm-top control-label text-left\">Value</label>\\n            <div class=\"col-sm-11 col-md-4 margin-sm-top\">\\n              <input type=\"text\" class=\"form-control\" id=\"header_value\" ng-model=\"formValues.labelValue\" placeholder=\"e.g. bar\" />\\n            </div>\\n            <div class=\"col-sm-12 col-md-2 margin-sm-top\">\\n              <button type=\"submit\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!formValues.labelName\"> <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add filter</button>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12 table-responsive\">\\n              <table class=\"table table-hover\">\\n                <thead>\\n                  <tr>\\n                    <th>Name</th>\\n                    <th>Value</th>\\n                    <th></th>\\n                  </tr>\\n                </thead>\\n                <tbody>\\n                  <tr ng-repeat=\"label in settings.BlackListedLabels\">\\n                    <td>{{ label.name }}</td>\\n                    <td>{{ label.value }}</td>\\n                    <td>\\n                      <button type=\"button\" class=\"btn btn-danger btn-xs\" ng-click=\"removeFilteredContainerLabel($index)\">\\n                        <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove</button\\n                      >\\n                    </td>\\n                  </tr>\\n                  <tr ng-if=\"settings.BlackListedLabels.length === 0\">\\n                    <td colspan=\"3\" class=\"text-center text-muted\">No filter available.</td>\\n                  </tr>\\n                  <tr ng-if=\"!settings.BlackListedLabels\">\\n                    <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n                  </tr>\\n                </tbody>\\n              </table>\\n            </div>\\n          </div>\\n          \\x3c!-- !filtered-labels --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-download\" title-text=\"Backup Portainer\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" ng-submit=\"backupPortainer()\" name=\"backupPortainerForm\">\\n          <div class=\"col-sm-12 form-section-title\"> Backup configuration </div>\\n          <box-selector options=\"backupOptions\" value=\"formValues.backupFormType\" on-change=\"(onBackupOptionsChange)\" radio-name=\"\\'backupOptions\\'\"></box-selector>\\n          <div ng-if=\"formValues.backupFormType === BACKUP_FORM_TYPES.S3\">\\n            \\x3c!-- Schedule automatic backups --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <por-switch-field\\n                  label=\"\\'Schedule automatic backups\\'\"\\n                  name=\"\\'s3-backup-setting\\'\"\\n                  feature-id=\"s3BackupFeatureId\"\\n                  checked=\"formValues.scheduleAutomaticBackups\"\\n                  label-class=\"\\'col-sm-2\\'\"\\n                  on-change=\"(onToggleAutoBackups)\"\\n                ></por-switch-field>\\n              </div>\\n            </div>\\n            \\x3c!-- !Schedule automatic backups --\\x3e\\n            \\x3c!-- Cron rule  --\\x3e\\n            <div class=\"form-group\" ng-if=\"formValues.scheduleAutomaticBackups\">\\n              <label for=\"cron_rule\" class=\"col-sm-2 col-lg-2 control-label text-left\">Cron rule</label>\\n              <div class=\"col-sm-10 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  placeholder=\"0 2 * * *\"\\n                  id=\"cron_rule\"\\n                  name=\"cron_rule\"\\n                  ng-model=\"formValues.cronRule\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                  required\\n                  cronRule\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !Cron rule  --\\x3e\\n            \\x3c!-- Access key id  --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"access_key_id\" class=\"col-sm-2 col-lg-2 control-label text-left\">Access Key ID</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  id=\"access_key_id\"\\n                  name=\"access_key_id\"\\n                  ng-model=\"formValues.accessKeyId\"\\n                  ng-required=\"formValues.scheduleAutomaticBackups\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !Access key id  --\\x3e\\n            \\x3c!-- Secret access key --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"secret_access_key\" class=\"col-sm-3 col-lg-2 control-label text-left\">Secret Access Key</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"password\"\\n                  class=\"form-control\"\\n                  id=\"secret_access_key\"\\n                  name=\"secret_access_key\"\\n                  ng-model=\"formValues.secretAccessKey\"\\n                  ng-required=\"formValues.scheduleAutomaticBackups\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !Secret access key --\\x3e\\n            \\x3c!-- Region --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"region\" class=\"col-sm-3 col-lg-2 control-label text-left\">Region</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  placeholder=\"us-west-1\"\\n                  id=\"region\"\\n                  name=\"region\"\\n                  ng-model=\"formValues.region\"\\n                  ng-required=\"formValues.scheduleAutomaticBackups\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !Region --\\x3e\\n            \\x3c!-- Bucket name --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"bucket_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Bucket name</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  id=\"bucket_name\"\\n                  name=\"bucket_name\"\\n                  ng-model=\"formValues.bucketName\"\\n                  ng-required=\"formValues.scheduleAutomaticBackups\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !Bucket name --\\x3e\\n            <div class=\"col-sm-12 form-section-title\"> Security settings </div>\\n            \\x3c!-- Password protect S3 --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"password_protect\" class=\"col-sm-1 control-label text-left\">Password protect</label>\\n              <div class=\"col-sm-1\">\\n                <label class=\"switch\" data-cy=\"settings-s3PasswordToggle\">\\n                  <input type=\"checkbox\" id=\"password_protect_s3\" name=\"password_protect_s3\" ng-model=\"formValues.passwordProtectS3\" disabled />\\n                  <i></i>\\n                </label>\\n              </div>\\n            </div>\\n            \\x3c!-- !Password protect S3 --\\x3e\\n            \\x3c!-- Password S3 --\\x3e\\n            <div class=\"form-group\" ng-if=\"formValues.passwordProtectS3\">\\n              <label for=\"password\" class=\"col-sm-1 control-label text-left\">Password</label>\\n              <div class=\"col-sm-3\">\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.passwordS3\" id=\"password_S3\" name=\"password_S3\" required data-cy=\"settings-backups3pw\" />\\n              </div>\\n            </div>\\n            <div class=\"form-group col-md-12\" ng-show=\"backupPortainerForm.password_S3.$invalid\">\\n              <div class=\"small text-warning\">\\n                <div ng-messages=\"backupPortainerForm.password_S3.$error\">\\n                  <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !Password S3 --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"backupPortainerForm.$invalid\"\\n                  ng-click=\"exportBackup()\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                >\\n                  <span> <i class=\"fa fa-upload\" aria-hidden=\"true\"></i> Export backup</span>\\n                </button>\\n              </div>\\n            </div>\\n            <div class=\"form-group\">\\n              <hr />\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"backupPortainerForm.$invalid ||state.backupInProgress\"\\n                  ng-click=\"saveS3BackupSettings()\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                >\\n                  <span>Save backup settings</span>\\n                </button>\\n              </div>\\n            </div>\\n          </div>\\n          <div ng-if=\"formValues.backupFormType === BACKUP_FORM_TYPES.FILE\">\\n            <div class=\"col-sm-12 form-section-title\"> Security settings </div>\\n            \\x3c!-- Password protect --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"password_protect\" class=\"col-sm-1 control-label text-left\">Password protect</label>\\n              <div class=\"col-sm-1\">\\n                <label class=\"switch\" data-cy=\"settings-passwordProtectLocal\">\\n                  <input type=\"checkbox\" id=\"password_protect\" name=\"password_protect\" ng-model=\"formValues.passwordProtect\" />\\n                  <i></i>\\n                </label>\\n              </div>\\n            </div>\\n            \\x3c!-- !Password protect --\\x3e\\n\\n            \\x3c!-- Password --\\x3e\\n            <div class=\"form-group\" ng-if=\"formValues.passwordProtect\">\\n              <label for=\"password\" class=\"col-sm-1 control-label text-left\">Password</label>\\n              <div class=\"col-sm-3\">\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.password\" id=\"password\" name=\"password\" required data-cy=\"settings-backupLocalPassword\" />\\n              </div>\\n            </div>\\n            <div class=\"form-group col-md-12\" ng-show=\"backupPortainerForm.password.$invalid\">\\n              <div class=\"small text-warning\">\\n                <div ng-messages=\"backupPortainerForm.password.$error\">\\n                  <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !Password --\\x3e\\n\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-click=\"downloadBackup()\"\\n                  ng-disabled=\"backupPortainerForm.$invalid || state.backupInProgress || state.featureLimited\"\\n                  button-spinner=\"state.backupInProgress\"\\n                  data-cy=\"settings-downloadLocalBackup\"\\n                >\\n                  <span ng-hide=\"state.backupInProgress\">Download backup</span>\\n                  <span ng-show=\"state.backupInProgress\">Downloading backup</span>\\n                </button>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},2080:function(e,t,n){var a='\\x3c!-- Sidebar --\\x3e\\n<div id=\"sidebar-wrapper\">\\n  <div class=\"sidebar-header\">\\n    <a ui-sref=\"portainer.home\" data-cy=\"portainerSidebar-homeImage\">\\n      <img ng-if=\"logo\" ng-src=\"{{ logo }}\" class=\"img-responsive logo\" />\\n      <img ng-if=\"!logo\" src=\"'+n(87935)+'\" class=\"img-responsive logo\" alt=\"Portainer\" />\\n    </a>\\n    <a ng-click=\"toggleSidebar()\"><span class=\"menu-icon glyphicon glyphicon-transfer\"></span></a>\\n  </div>\\n  <div class=\"sidebar-content\">\\n    <ul class=\"sidebar\">\\n      <sidebar-menu-item path=\"portainer.home\" icon-class=\"fa-home fa-fw\" class-name=\"sidebar-list\" data-cy=\"portainerSidebar-home\" title=\"Home\">Home</sidebar-menu-item>\\n\\n      <li class=\"sidebar-title endpoint-name\" ng-if=\"applicationState.endpoint.name\">\\n        <span class=\"fa fa-plug space-right\"></span>{{ applicationState.endpoint.name }}\\n        <kubectl-shell ng-if=\"applicationState.endpoint.mode && applicationState.endpoint.mode.provider === \\'KUBERNETES\\'\" class=\"kubectl-shell\"></kubectl-shell>\\n      </li>\\n      <div ng-if=\"applicationState.endpoint.mode\">\\n        <kubernetes-sidebar\\n          ng-if=\"applicationState.endpoint.mode.provider === \\'KUBERNETES\\'\"\\n          is-sidebar-open=\"toggle\"\\n          endpoint-id=\"endpointId\"\\n          admin-access=\"isAdmin\"\\n        ></kubernetes-sidebar>\\n\\n        <azure-sidebar ng-if=\"applicationState.endpoint.mode.provider === \\'AZURE\\'\" environment-id=\"endpointId\"> </azure-sidebar>\\n\\n        <docker-sidebar\\n          ng-if=\"applicationState.endpoint.mode.provider !== \\'AZURE\\' && applicationState.endpoint.mode.provider !== \\'KUBERNETES\\'\"\\n          current-route-name=\"$state.current.name\"\\n          is-sidebar-open=\"toggle\"\\n          show-stacks=\"showStacks\"\\n          endpoint-api-version=\"applicationState.endpoint.apiVersion\"\\n          swarm-management=\"applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\' && applicationState.endpoint.mode.role === \\'MANAGER\\'\"\\n          standalone-management=\"applicationState.endpoint.mode.provider === \\'DOCKER_STANDALONE\\'\"\\n          admin-access=\"isAdmin || isEndpointAdmin\"\\n          offline-mode=\"endpointState.OfflineMode\"\\n          endpoint-id=\"endpointId\"\\n        ></docker-sidebar>\\n      </div>\\n\\n      <sidebar-section title=\"Edge compute\" ng-if=\"isAdmin && applicationState.application.enableEdgeComputeFeatures\">\\n        <sidebar-menu-item path=\"edge.devices\" icon-class=\"fas fa-laptop-code fa-fw\" class-name=\"sidebar-list\" data-cy=\"portainerSidebar-edgeDevices\" title=\"Edge Devices\"\\n          >Edge Devices</sidebar-menu-item\\n        >\\n        <sidebar-menu-item path=\"edge.groups\" icon-class=\"fa-object-group fa-fw\" class-name=\"sidebar-list\" data-cy=\"portainerSidebar-edgeGroups\" title=\"Edge Groups\"\\n          >Edge Groups</sidebar-menu-item\\n        >\\n        <sidebar-menu-item path=\"edge.stacks\" icon-class=\"fa-layer-group fa-fw\" class-name=\"sidebar-list\" data-cy=\"portainerSidebar-edgeStacks\" title=\"Edge Stacks\"\\n          >Edge Stacks</sidebar-menu-item\\n        >\\n        <sidebar-menu-item path=\"edge.jobs\" icon-class=\"fa-clock fa-fw\" class-name=\"sidebar-list\" data-cy=\"portainerSidebar-edgeJobs\" title=\"Edge Jobs\"\\n          >Edge Jobs</sidebar-menu-item\\n        >\\n      </sidebar-section>\\n\\n      <sidebar-section ng-if=\"showUsersSection\" title=\"Settings\">\\n        <sidebar-menu\\n          ng-show=\"display\"\\n          icon-class=\"fa-users fa-fw\"\\n          label=\"Users\"\\n          path=\"portainer.users\"\\n          is-sidebar-open=\"toggle\"\\n          children-paths=\"[\\'portainer.users.user\\' ,\\'portainer.teams\\' ,\\'portainer.teams.team\\' ,\\'portainer.roles\\' ,\\'portainer.roles.role\\' ,\\'portainer.roles.new\\']\"\\n        >\\n          <sidebar-menu-item path=\"portainer.teams\" class-name=\"sidebar-sublist\" data-cy=\"portainerSidebar-teams\" title=\"Teams\">Teams</sidebar-menu-item>\\n          <sidebar-menu-item path=\"portainer.roles\" class-name=\"sidebar-sublist\" data-cy=\"portainerSidebar-roles\" title=\"Roles\">Roles</sidebar-menu-item>\\n        </sidebar-menu>\\n\\n        <div ng-if=\"isAdmin\">\\n          <sidebar-menu\\n            icon-class=\"fa-plug fa-fw\"\\n            label=\"Environments\"\\n            path=\"portainer.endpoints\"\\n            is-sidebar-open=\"toggle\"\\n            children-paths=\"[\\'portainer.endpoints.endpoint\\', \\'portainer.wizard\\', \\'portainer.endpoints.endpoint.access\\', \\'portainer.groups\\', \\'portainer.groups.group\\', \\'portainer.groups.group.access\\', \\'portainer.groups.new\\', \\'portainer.tags\\']\"\\n          >\\n            <sidebar-menu-item path=\"portainer.groups\" class-name=\"sidebar-sublist\" data-cy=\"portainerSidebar-endpointGroups\" title=\"Groups\">Groups</sidebar-menu-item>\\n            <sidebar-menu-item path=\"portainer.tags\" class-name=\"sidebar-sublist\" data-cy=\"portainerSidebar-endpointTags\" title=\"Tags\">Tags</sidebar-menu-item>\\n          </sidebar-menu>\\n\\n          <sidebar-menu-item path=\"portainer.registries\" icon-class=\"fa-database fa-fw\" class-name=\"sidebar-list\" data-cy=\"portainerSidebar-registries\" title=\"Registries\"\\n            >Registries</sidebar-menu-item\\n          >\\n\\n          <sidebar-menu label=\"Authentication logs\" icon-class=\"fa-history fa-fw\" path=\"portainer.authLogs\" is-sidebar-open=\"toggle\" children-paths=\"[\\'portainer.activityLogs\\']\">\\n            <sidebar-menu-item path=\"portainer.activityLogs\" class-name=\"sidebar-sublist\" data-cy=\"portainerSidebar-activityLogs\" title=\"Activity Logs\"\\n              >Activity Logs</sidebar-menu-item\\n            >\\n          </sidebar-menu>\\n\\n          <sidebar-menu\\n            label=\"Settings\"\\n            icon-class=\"fa-cogs fa-fw\"\\n            path=\"portainer.settings\"\\n            is-sidebar-open=\"toggle\"\\n            children-paths=\"[\\'portainer.settings.authentication\\', \\'portainer.settings.edgeCompute\\']\"\\n          >\\n            <sidebar-menu-item\\n              path=\"portainer.settings.authentication\"\\n              class-name=\"sidebar-sublist\"\\n              data-cy=\"portainerSidebar-authentication\"\\n              title=\"Authentication\"\\n              ng-show=\"display\"\\n              >Authentication</sidebar-menu-item\\n            >\\n            <sidebar-menu-item path=\"portainer.settings.edgeCompute\" class-name=\"sidebar-sublist\" data-cy=\"portainerSidebar-edge-compute\" title=\"Edge Compute\"\\n              >Edge Compute</sidebar-menu-item\\n            >\\n\\n            <div class=\"sidebar-sublist\">\\n              <a href=\"https://www.portainer.io/community_help\" target=\"_blank\" data-cy=\"portainerSidebar-help\" title=\"Help / About\">Help / About</a>\\n            </div>\\n          </sidebar-menu>\\n        </div>\\n      </sidebar-section>\\n    </ul>\\n    <div class=\"sidebar-footer-content\">\\n      <div class=\"update-notification\" ng-if=\"applicationState.application.versionStatus.UpdateAvailable\">\\n        <a target=\"_blank\" href=\"https://github.com/portainer/portainer/releases/tag/{{ applicationState.application.versionStatus.LatestVersion }}\" style=\"color: #091e5d\">\\n          <i class=\"fa-lg fas fa-cloud-download-alt\" style=\"margin-right: 2px\"></i> A new version is available\\n        </a>\\n      </div>\\n      <div>\\n        <img src=\"'+n(76609)+'\" class=\"img-responsive logo\" alt=\"Portainer\" />\\n        <span class=\"version\" data-cy=\"portainerSidebar-versionNumber\">{{ uiVersion }}</span>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\x3c!-- End Sidebar --\\x3e\\n',r=\"app/portainer/views/sidebar/sidebar.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(r,a)}]),e.exports=r},24021:function(e){var t=\"app/portainer/views/stacks/create/createstack.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Create stack\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.stacks\">Stacks</a> &gt; Add stack </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"createStackForm\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"stack_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                ng-model=\"formValues.Name\"\\n                id=\"stack_name\"\\n                name=\"stack_name\"\\n                placeholder=\"e.g. mystack\"\\n                auto-focus\\n                ng-pattern=\"STACK_NAME_VALIDATION_REGEX\"\\n              />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"createStackForm.stack_name.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"createStackForm.stack_name.$error\">\\n                <p ng-message=\"pattern\">\\n                  <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                  <span>This field must consist of lower case alphanumeric characters, \\'_\\' or \\'-\\' (e.g. \\'my-name\\', or \\'abc-123\\').</span>\\n                </p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12 text-muted small\" ng-if=\"state.StackType === 1\">\\n              This stack will be deployed using the equivalent of the <code>docker stack deploy</code> command.\\n            </span>\\n            <div class=\"col-sm-12 text-muted small\" ng-if=\"state.StackType === 2 && composeSyntaxMaxVersion == 2\">\\n              <div style=\"margin-bottom: 7px\">\\n                This stack will be deployed using the equivalent of <code>docker-compose</code>. Only Compose file format version <b>2</b> is supported at the moment.\\n              </div>\\n              <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n              Note: Due to a limitation of libcompose, the name of the stack will be standardized to remove all special characters and uppercase letters.\\n            </div>\\n            <span class=\"col-sm-12 text-muted small\" ng-if=\"state.StackType === 2 && composeSyntaxMaxVersion > 2\">\\n              This stack will be deployed using <code>docker-compose</code>.\\n            </span>\\n          </div>\\n          \\x3c!-- build-method --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Build method </div>\\n          <div class=\"form-group\"></div>\\n          <div class=\"form-group\" style=\"margin-bottom: 0\">\\n            <div class=\"boxselector_wrapper\">\\n              <div>\\n                <input type=\"radio\" id=\"method_editor\" ng-model=\"state.Method\" value=\"editor\" />\\n                <label for=\"method_editor\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-edit\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Web editor\\n                  </div>\\n                  <p>Use our Web editor</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"method_upload\" ng-model=\"state.Method\" value=\"upload\" />\\n                <label for=\"method_upload\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-upload\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Upload\\n                  </div>\\n                  <p>Upload from your computer</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"method_repository\" ng-model=\"state.Method\" value=\"repository\" />\\n                <label for=\"method_repository\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fab fa-git\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Repository\\n                  </div>\\n                  <p>Use a git repository</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"method_template\" ng-model=\"state.Method\" value=\"template\" />\\n                <label for=\"method_template\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-rocket\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                    Custom template\\n                  </div>\\n                  <p>Use a custom template</p>\\n                </label>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !build-method --\\x3e\\n\\n          \\x3c!-- upload --\\x3e\\n          <div ng-show=\"state.Method === \\'upload\\'\">\\n            <div class=\"col-sm-12 form-section-title\"> Upload </div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\"> You can upload a Compose file from your computer. </span>\\n              <div class=\"col-sm-12\" ng-if=\"state.uploadYamlValidationError\"\\n                ><span class=\"text-danger small\">{{ state.uploadYamlValidationError }}</span></div\\n              >\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select=\"uploadFile($file)\">Select file</button>\\n                <span style=\"margin-left: 5px\">\\n                  {{ formValues.StackFile.name }}\\n                  <i class=\"fa fa-times red-icon\" ng-if=\"!formValues.StackFile\" aria-hidden=\"true\"></i>\\n                </span>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !upload --\\x3e\\n          <git-form\\n            ng-if=\"state.Method === \\'repository\\'\"\\n            model=\"formValues\"\\n            on-change=\"(onChangeFormValues)\"\\n            additional-file=\"true\"\\n            auto-update=\"true\"\\n            show-force-pull-image=\"true\"\\n            show-auth-explanation=\"true\"\\n            path-text-title=\"Compose path\"\\n            path-placeholder=\"docker-compose.yml\"\\n          ></git-form>\\n\\n          <custom-template-selector\\n            ng-show=\"state.Method === \\'template\\'\"\\n            new-template-path=\"docker.templates.custom.new\"\\n            stack-type=\"state.StackType\"\\n            on-change=\"(onChangeTemplateId)\"\\n            value=\"state.selectedTemplateId\"\\n          ></custom-template-selector>\\n\\n          <web-editor-form\\n            ng-if=\"state.Method === \\'editor\\' || (state.Method === \\'template\\' && state.selectedTemplateId)\"\\n            identifier=\"stack-creation-editor\"\\n            value=\"formValues.StackFileContent\"\\n            on-change=\"(onChangeFileContent)\"\\n            ng-required=\"true\"\\n            yml=\"true\"\\n            placeholder=\"# Define or paste the content of your docker-compose file here\"\\n          >\\n            <editor-description>\\n              <span class=\"col-sm-12 text-muted small\">\\n                You can get more information about Compose file format in the <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\">official documentation</a>.\\n              </span>\\n              <div class=\"col-sm-12\" ng-if=\"state.editorYamlValidationError\">\\n                <span class=\"text-danger small\">{{ state.editorYamlValidationError }}</span>\\n              </div>\\n            </editor-description>\\n          </web-editor-form>\\n\\n          <div ng-if=\"state.Method !== \\'repository\\' && isAdmin && applicationState.endpoint.type !== 4\">\\n            <div class=\"col-sm-12 form-section-title\"> Webhooks </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">\\n                  Create a Stack webhook\\n                  <portainer-tooltip\\n                    position=\"top\"\\n                    message=\"Create a webhook (or callback URI) to automate the update of this stack. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this stack.\"\\n                  ></portainer-tooltip>\\n                </label>\\n                <label class=\"switch box-selector-item limited business\" style=\"margin-left: 20px\">\\n                  <input type=\"checkbox\" ng-model=\"formValues.EnableWebhook\" disabled=\"disabled\" ng-checked=\"true\" /><i></i>\\n                </label>\\n                <be-feature-indicator feature=\"stackWebhookFeature\"></be-feature-indicator>\\n              </div>\\n            </div>\\n          </div>\\n\\n          \\x3c!-- environment-variables --\\x3e\\n          <environment-variables-panel ng-model=\"formValues.Env\" explanation=\"These values will be used as substitutions in the stack file\" on-change=\"(handleEnvVarChange)\">\\n          </environment-variables-panel>\\n          \\x3c!-- !environment-variables --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress\\n              || !createStackForm.$valid\\n              || ((state.Method === \\'editor\\' || state.Method === \\'template\\') && (!formValues.StackFileContent || state.editorYamlValidationError))\\n              || (state.Method === \\'upload\\' && (!formValues.StackFile || state.uploadYamlValidationError))\\n              || (state.Method === \\'repository\\' && ((!formValues.RepositoryURL || !formValues.ComposeFilePathInRepository) || (formValues.RepositoryAuthentication && !formValues.RepositoryPassword)))\\n              || !formValues.Name\"\\n                ng-click=\"deployStack()\"\\n                button-spinner=\"state.actionInProgress\"\\n                analytics-on\\n                analytics-category=\"docker\"\\n                analytics-event=\"docker-stack-create\"\\n                analytics-properties=\"buildAnalyticsProperties()\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Deploy the stack</span>\\n                <span ng-show=\"state.actionInProgress\">Deployment in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},68156:function(e){var t=\"app/portainer/views/stacks/edit/stack.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Stack details\">\\n    <a data-toggle=\"tooltip\" title-text=\"Refresh\" ui-sref=\"docker.stacks.stack({id: stack.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.stacks\">Stacks</a> &gt; {{ stackName }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <uib-tabset active=\"state.activeTab\">\\n          \\x3c!-- tab-info --\\x3e\\n          <uib-tab index=\"0\">\\n            <uib-tab-heading> <i class=\"fa fa-th-list\" aria-hidden=\"true\"></i> Stack </uib-tab-heading>\\n            <div style=\"margin-top: 10px\">\\n              \\x3c!-- stack-information --\\x3e\\n              <div ng-if=\"external || orphaned\">\\n                <div class=\"col-sm-12 form-section-title\"> Information </div>\\n                <div class=\"form-group\">\\n                  <span class=\"small\">\\n                    <p class=\"text-muted\">\\n                      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                      <span ng-if=\"external\">This stack was created outside of Portainer. Control over this stack is limited.</span>\\n                      <span ng-if=\"orphaned\">This stack is orphaned. You can reassociate it with the current environment using the \"Associate to this environment\" feature.</span>\\n                    </p>\\n                  </span>\\n                </div>\\n              </div>\\n              \\x3c!-- !stack-information --\\x3e\\n              \\x3c!-- stack-details --\\x3e\\n              <div>\\n                <div class=\"col-sm-12 form-section-title\"> Stack details </div>\\n                <div class=\"form-group\">\\n                  {{ stackName }}\\n\\n                  <button\\n                    authorization=\"PortainerStackUpdate\"\\n                    ng-if=\"regular && stack.Status === 2\"\\n                    ng-disabled=\"state.actionInProgress\"\\n                    class=\"btn btn-xs btn-success\"\\n                    ng-click=\"startStack()\"\\n                  >\\n                    <i class=\"fa fa-play space-right\" aria-hidden=\"true\"></i>\\n                    Start this stack\\n                  </button>\\n\\n                  <button\\n                    ng-if=\"regular && stack.Status === 1\"\\n                    authorization=\"PortainerStackUpdate\"\\n                    ng-disabled=\"state.actionInProgress\"\\n                    class=\"btn btn-xs btn-danger\"\\n                    ng-click=\"stopStack()\"\\n                  >\\n                    <i class=\"fa fa-stop space-right\" aria-hidden=\"true\"></i>\\n                    Stop this stack\\n                  </button>\\n\\n                  <button authorization=\"PortainerStackDelete\" class=\"btn btn-xs btn-danger\" ng-click=\"removeStack()\" ng-if=\"!external || stack.Type == 1\">\\n                    <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>\\n                    Delete this stack\\n                  </button>\\n\\n                  <button\\n                    ng-if=\"regular && stackFileContent\"\\n                    class=\"btn btn-primary btn-xs\"\\n                    ui-sref=\"docker.templates.custom.new({fileContent: stackFileContent, type: stack.Type})\"\\n                  >\\n                    <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>\\n                    Create template from stack\\n                  </button>\\n                  <button\\n                    authorization=\"PortainerStackUpdate\"\\n                    ng-if=\"regular && stackFileContent && !stack.FromAppTemplate && stack.GitConfig\"\\n                    ng-disabled=\"state.actionInProgress\"\\n                    ng-click=\"detachStackFromGit()\"\\n                    button-spinner=\"state.actionInProgress\"\\n                    class=\"btn btn-primary btn-xs\"\\n                  >\\n                    <i class=\"fa fa-arrow-right space-right\" aria-hidden=\"true\"></i>\\n                    <span ng-hide=\"state.actionInProgress\">Detach from Git</span>\\n                    <span ng-show=\"state.actionInProgress\">Detachment in progress...</span>\\n                  </button>\\n                </div>\\n              </div>\\n              \\x3c!-- !stack-details --\\x3e\\n\\n              \\x3c!-- associate --\\x3e\\n              <div ng-if=\"orphaned\">\\n                <div class=\"col-sm-12 form-section-title\"> Associate to this environment </div>\\n                <p class=\"small text-muted\"> This feature allows you to reassociate this stack to the current environment. </p>\\n                <form class=\"form-horizontal\">\\n                  <por-access-control-form form-data=\"formValues.AccessControlData\" hide-title=\"true\"></por-access-control-form>\\n                  <div class=\"form-group\">\\n                    <div class=\"col-sm-12\">\\n                      <button\\n                        type=\"button\"\\n                        class=\"btn btn-primary btn-sm\"\\n                        ng-disabled=\"state.actionInProgress\"\\n                        ng-click=\"associateStack()\"\\n                        button-spinner=\"state.actionInProgress\"\\n                        style=\"margin-left: -5px\"\\n                      >\\n                        <i class=\"fa fa-sync\" aria-hidden=\"true\" style=\"margin-right: 3px\"></i>\\n                        <span ng-hide=\"state.actionInProgress\">Associate</span>\\n                        <span ng-show=\"state.actionInProgress\">Association in progress...</span>\\n                      </button>\\n                      <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px\">{{ state.formValidationError }}</span>\\n                    </div>\\n                  </div>\\n                </form>\\n              </div>\\n              \\x3c!-- !associate --\\x3e\\n              <stack-redeploy-git-form\\n                ng-if=\"stack.GitConfig && !stack.FromAppTemplate && !state.actionInProgress\"\\n                model=\"stack.GitConfig\"\\n                stack=\"stack\"\\n                authorization=\"PortainerStackUpdate\"\\n              >\\n              </stack-redeploy-git-form>\\n              <stack-duplication-form\\n                ng-if=\"regular && endpoints.length > 0\"\\n                endpoints=\"endpoints\"\\n                groups=\"groups\"\\n                current-endpoint-id=\"endpoint.Id\"\\n                on-duplicate=\"duplicateStack(name, endpointId)\"\\n                on-migrate=\"migrateStack(name, endpointId)\"\\n                yaml-error=\"state.yamlError\"\\n              >\\n              </stack-duplication-form>\\n            </div>\\n          </uib-tab>\\n          \\x3c!-- !tab-info --\\x3e\\n          \\x3c!-- tab-file --\\x3e\\n          <uib-tab index=\"1\" select=\"showEditor()\" ng-if=\"!external && (!stack.GitConfig || stack.FromAppTemplate)\">\\n            <uib-tab-heading> <i class=\"fa fa-pencil-alt space-right\" aria-hidden=\"true\"></i> Editor </uib-tab-heading>\\n            <form class=\"form-horizontal\" ng-if=\"state.showEditorTab\" style=\"margin-top: 10px\" name=\"stackUpdateForm\">\\n              <div class=\"form-group\">\\n                <span class=\"col-sm-12 text-muted small\" style=\"margin-bottom: 7px\" ng-if=\"stackType == 2 && composeSyntaxMaxVersion == 2\">\\n                  This stack will be deployed using the equivalent of <code>docker-compose</code>. Only Compose file format version <b>2</b> is supported at the moment.\\n                </span>\\n                <span class=\"col-sm-12 text-muted small\" style=\"margin-bottom: 7px\" ng-if=\"stackType == 2 && composeSyntaxMaxVersion > 2\">\\n                  This stack will be deployed using <code>docker-compose</code>.\\n                </span>\\n                <span class=\"col-sm-12 text-muted small\">\\n                  You can get more information about Compose file format in the <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\">official documentation</a>.\\n                </span>\\n              </div>\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\">\\n                  <code-editor\\n                    read-only=\"orphaned\"\\n                    identifier=\"stack-editor\"\\n                    placeholder=\"# Define or paste the content of your docker-compose file here\"\\n                    yml=\"true\"\\n                    on-change=\"(editorUpdate)\"\\n                    value=\"stackFileContent\"\\n                  ></code-editor>\\n                </div>\\n              </div>\\n\\n              <div ng-if=\"isAdmin && applicationState.endpoint.type !== 4\">\\n                <div class=\"col-sm-12 form-section-title\"> Webhooks </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <label class=\"control-label text-left\">\\n                      Create a Stack webhook\\n                      <portainer-tooltip\\n                        position=\"top\"\\n                        message=\"Create a webhook (or callback URI) to automate the update of this stack. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this stack.\"\\n                      ></portainer-tooltip>\\n                    </label>\\n                    <label class=\"switch box-selector-item limited business\" style=\"margin-left: 20px\">\\n                      <input type=\"checkbox\" ng-model=\"formValues.EnableWebhook\" disabled=\"disabled\" ng-checked=\"true\" /><i></i>\\n                    </label>\\n                    <be-feature-indicator feature=\"stackWebhookFeature\"></be-feature-indicator>\\n                  </div>\\n                </div>\\n              </div>\\n\\n              \\x3c!-- environment-variables --\\x3e\\n              <div ng-if=\"stack\">\\n                <environment-variables-panel\\n                  ng-model=\"formValues.Env\"\\n                  explanation=\"These values will be used as substitutions in the stack file\"\\n                  on-change=\"(handleEnvVarChange)\"\\n                ></environment-variables-panel>\\n              </div>\\n              \\x3c!-- !environment-variables --\\x3e\\n              \\x3c!-- options --\\x3e\\n              <div ng-if=\"stack.Type === 1 && applicationState.endpoint.apiVersion >= 1.27\" authorization=\"PortainerStackUpdate\">\\n                <div class=\"col-sm-12 form-section-title\"> Options </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <label for=\"prune\" class=\"control-label text-left\">\\n                      Prune services\\n                      <portainer-tooltip position=\"bottom\" message=\"Prune services that are no longer referenced.\"></portainer-tooltip>\\n                    </label>\\n                    <label class=\"switch\" style=\"margin-left: 20px\"> <input name=\"prune\" type=\"checkbox\" ng-model=\"formValues.Prune\" /><i></i> </label>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !options --\\x3e\\n              <div authorization=\"PortainerStackUpdate\">\\n                <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <button\\n                      type=\"button\"\\n                      class=\"btn btn-sm btn-primary\"\\n                      ng-disabled=\"state.actionInProgress || !stackUpdateForm.$valid || !stackFileContent || orphaned\"\\n                      ng-click=\"deployStack()\"\\n                      button-spinner=\"state.actionInProgress\"\\n                    >\\n                      <span ng-hide=\"state.actionInProgress\">Update the stack</span>\\n                      <span ng-show=\"state.actionInProgress\">Deployment in progress...</span>\\n                    </button>\\n                  </div>\\n                </div>\\n              </div>\\n            </form>\\n          </uib-tab>\\n          \\x3c!-- !tab-file --\\x3e\\n        </uib-tabset>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"containers && (!orphaned || orphanedRunning)\">\\n  <div class=\"col-sm-12\">\\n    <containers-datatable dataset=\"containers\" endpoint=\"endpoint\" table-key=\"stack-containers\"></containers-datatable>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"services && (!orphaned || orphanedRunning)\">\\n  <div class=\"col-sm-12\">\\n    <services-datatable\\n      title-text=\"Services\"\\n      title-icon=\"fa-list-alt\"\\n      dataset=\"services\"\\n      table-key=\"stack-services\"\\n      order-by=\"Name\"\\n      nodes=\"nodes\"\\n      agent-proxy=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\"\\n      show-ownership-column=\"false\"\\n      show-update-action=\"applicationState.endpoint.apiVersion >= 1.25\"\\n      show-task-logs-button=\"applicationState.endpoint.apiVersion >= 1.30\"\\n      show-add-action=\"false\"\\n      show-stack-column=\"false\"\\n      not-auto-focus=\"true\"\\n      endpoint-public-url=\"endpoint.PublicURL\"\\n      endpoint-id=\"endpoint.Id\"\\n    ></services-datatable>\\n  </div>\\n</div>\\n\\n\\x3c!-- access-control-panel --\\x3e\\n<access-control-panel\\n  ng-if=\"stack && !orphaned\"\\n  resource-id=\"stack.EndpointId + \\'_\\' + stack.Name\"\\n  resource-control=\"stack.ResourceControl\"\\n  resource-type=\"resourceType\"\\n  on-update-success=\"(onUpdateResourceControlSuccess)\"\\n>\\n</access-control-panel>\\n\\x3c!-- !access-control-panel --\\x3e\\n')}]),e.exports=t},25872:function(e){var t=\"app/portainer/views/stacks/stacks.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Stacks list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.stacks\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Stacks</rd-header-content>\\n</rd-header>\\n<information-panel-offline ng-if=\"offlineMode\"></information-panel-offline>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <stacks-datatable\\n      title-text=\"Stacks\"\\n      title-icon=\"fa-th-list\"\\n      dataset=\"stacks\"\\n      table-key=\"stacks\"\\n      order-by=\"Name\"\\n      remove-action=\"removeAction\"\\n      offline-mode=\"offlineMode\"\\n      refresh-callback=\"getStacks\"\\n      create-enabled=\"createEnabled\"\\n    ></stacks-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},57642:function(e){var t=\"app/portainer/views/tags/tags.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Tags\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.tags\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Tag management</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-plus\" title-text=\"Add a new tag\"> </rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"tagCreationForm\" ng-submit=\"createTag()\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"name\" class=\"col-sm-2 control-label text-left\"> Name </label>\\n            <div class=\"col-sm-10\">\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                name=\"name\"\\n                ng-model=\"formValues.Name\"\\n                ng-change=\"checkNameValidity(tagCreationForm)\"\\n                placeholder=\"org/acme\"\\n                required\\n                auto-focus\\n              />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"tagCreationForm.name.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"tagCreationForm.name.$error\">\\n                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                <p ng-message=\"validName\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This tag already exists.</p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !tagCreationForm.$valid\"\\n                ng-click=\"createTag()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Create tag</span>\\n                <span ng-show=\"state.actionInProgress\">Creating tag...</span>\\n              </button>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <tags-datatable title-text=\"Tags\" title-icon=\"fa-tags\" dataset=\"tags\" table-key=\"tags\" order-by=\"Name\" remove-action=\"removeAction\"></tags-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},2538:function(e){var t=\"app/portainer/views/teams/edit/team.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Team details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"portainer.teams\">Teams</a> &gt; <a ui-sref=\"portainer.teams.team({id: team.Id})\">{{ team.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-users\" title-text=\"Team details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>\\n                <span ng-if=\"!settings.TeamSync\">{{ team.Name }}</span>\\n                <button class=\"btn btn-xs btn-danger\" ng-if=\"isAdmin\" ng-click=\"deleteTeam()\"\\n                  ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Delete this team</button\\n                >\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Leaders</td>\\n              <td>\\n                <span ng-if=\"!settings.TeamSync\">{{ leaderCount }}</span>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Total users in team</td>\\n              <td>{{ teamMembers.length }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"team && settings.TeamSync\">\\n  <div class=\"col-sm-12 text-muted\">\\n    <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n    The team leader feature is disabled as external authentication is currently enabled with team sync.\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"team\">\\n  <div class=\"col-sm-6\">\\n    <rd-widget>\\n      <rd-widget-header classes=\"col-sm-12 col-md-6 nopadding\" icon=\"fa-users\" title-text=\"Users\">\\n        <div class=\"pull-md-right pull-lg-right\">\\n          Items per page:\\n          <select ng-model=\"state.pagination_count_users\" ng-change=\"changePaginationCountUsers()\">\\n            <option value=\"0\">All</option>\\n            <option value=\"10\">10</option>\\n            <option value=\"25\">25</option>\\n            <option value=\"50\">50</option>\\n            <option value=\"100\">100</option>\\n          </select>\\n        </div>\\n      </rd-widget-header>\\n      <rd-widget-taskbar classes=\"col-sm-12 nopadding\">\\n        <div class=\"col-sm-12 col-md-6 nopadding\">\\n          <button class=\"btn btn-primary btn-sm\" ng-click=\"addAllUsers()\" ng-if=\"isAdmin\" ng-disabled=\"users.length ===  0 || filteredUsers.length === 0 || settings.TeamSync\"\\n            ><i class=\"fa fa-user-plus space-right\" aria-hidden=\"true\"></i>Add all users</button\\n          >\\n        </div>\\n        <div class=\"col-sm-12 col-md-6 nopadding\">\\n          <input type=\"text\" id=\"filter-users\" ng-model=\"state.filterUsers\" placeholder=\"Filter...\" class=\"form-control input-sm\" />\\n        </div>\\n      </rd-widget-taskbar>\\n      <rd-widget-body classes=\"no-padding\">\\n        <div class=\"table-responsive\">\\n          <table class=\"table table-hover\">\\n            <thead>\\n              <tr>\\n                <th>\\n                  <a ng-click=\"orderUsers(\\'Username\\')\">\\n                    Name\\n                    <span ng-show=\"sortTypeUsers == \\'Username\\' && !sortReverseUsers\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                    <span ng-show=\"sortTypeUsers == \\'Username\\' && sortReverseUsers\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n                  </a>\\n                </th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr\\n                pagination-id=\"table1\"\\n                dir-paginate=\"user in users | filter:state.filterUsers | orderBy:sortTypeUsers:sortReverseUsers | itemsPerPage: state.pagination_count_users\"\\n              >\\n                <td>\\n                  {{ user.Username }}\\n                  <span style=\"margin-left: 5px\">\\n                    <a ng-click=\"addUser(user)\" ng-class=\"{ \\'btn disabled py-0\\': settings.TeamSync }\"> <i class=\"fa fa-plus-circle space-right\" aria-hidden=\"true\"></i>Add </a>\\n                  </span>\\n                </td>\\n              </tr>\\n              <tr ng-if=\"!users\">\\n                <td colspan=\"2\" class=\"text-center text-muted\">Loading...</td>\\n              </tr>\\n              <tr ng-if=\"users.length === 0 || (users | filter: state.filterUsers).length === 0\">\\n                <td colspan=\"2\" class=\"text-center text-muted\">No users.</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n          <div ng-if=\"users\" class=\"pull-left pagination-controls\">\\n            <dir-pagination-controls pagination-id=\"table1\"></dir-pagination-controls>\\n          </div>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n  <div class=\"col-sm-6\">\\n    <rd-widget>\\n      <rd-widget-header classes=\"col-sm-12 col-md-6 nopadding\" icon=\"fa-users\" title-text=\"Team members\">\\n        <div class=\"pull-md-right pull-lg-right\">\\n          Items per page:\\n          <select ng-model=\"state.pagination_count_members\" ng-change=\"changePaginationCountGroupMembers()\">\\n            <option value=\"0\">All</option>\\n            <option value=\"10\">10</option>\\n            <option value=\"25\">25</option>\\n            <option value=\"50\">50</option>\\n            <option value=\"100\">100</option>\\n          </select>\\n        </div>\\n      </rd-widget-header>\\n      <rd-widget-taskbar classes=\"col-sm-12 nopadding\">\\n        <div class=\"col-sm-12 col-md-6 nopadding\">\\n          <button\\n            class=\"btn btn-primary btn-sm\"\\n            ng-click=\"removeAllUsers()\"\\n            ng-if=\"isAdmin\"\\n            ng-disabled=\"teamMembers.length ===  0 || filteredGroupMembers.length === 0 || settings.TeamSync\"\\n            ><i class=\"fa fa-user-times space-right\" aria-hidden=\"true\"></i>Remove all users</button\\n          >\\n        </div>\\n        <div class=\"col-sm-12 col-md-6 nopadding\">\\n          <input type=\"text\" id=\"filter-group\" ng-model=\"state.filterGroupMembers\" placeholder=\"Filter...\" class=\"form-control input-sm\" />\\n        </div>\\n      </rd-widget-taskbar>\\n      <rd-widget-body classes=\"no-padding\">\\n        <div class=\"table-responsive\">\\n          <table class=\"table table-hover\">\\n            <thead>\\n              <tr>\\n                <th>\\n                  <a ng-click=\"orderGroupMembers(\\'Username\\')\">\\n                    Name\\n                    <span ng-show=\"sortTypeGroupMembers == \\'Username\\' && !sortReverseGroupMembers\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                    <span ng-show=\"sortTypeGroupMembers == \\'Username\\' && sortReverseGroupMembers\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n                  </a>\\n                </th>\\n                <th>\\n                  <a ng-click=\"orderGroupMembers(\\'TeamRole\\')\">\\n                    Team Role\\n                    <span ng-show=\"sortTypeGroupMembers == \\'TeamRole\\' && !sortReverseGroupMembers\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                    <span ng-show=\"sortTypeGroupMembers == \\'TeamRole\\' && sortReverseGroupMembers\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n                  </a>\\n                </th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr\\n                pagination-id=\"table2\"\\n                dir-paginate=\"user in teamMembers | filter:state.filterGroupMembers | orderBy:sortTypeGroupMembers:sortReverseGroupMembers | itemsPerPage: state.pagination_count_groupMembers\"\\n              >\\n                <td>\\n                  {{ user.Username }}\\n                  <span style=\"margin-left: 5px\" ng-if=\"isAdmin || user.TeamRole === \\'Member\\'\">\\n                    <a ng-click=\"removeUser(user)\" ng-class=\"{ \\'btn disabled py-0\\': settings.TeamSync }\">\\n                      <i class=\"fa fa-minus-circle space-right\" aria-hidden=\"true\"></i>Remove\\n                    </a>\\n                  </span>\\n                </td>\\n                <td>\\n                  <i ng-if=\"user.TeamRole === \\'Leader\\'\" class=\"fa fa-user-plus\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  <i ng-if=\"user.TeamRole === \\'Member\\'\" class=\"fa fa-user\" aria-hidden=\"true\" style=\"margin-right: 2px\"></i>\\n                  {{ user.TeamRole }}\\n                  <span style=\"margin-left: 5px\">\\n                    <a style=\"margin-left: 5px\" ng-click=\"promoteToLeader(user)\" ng-if=\"user.TeamRole === \\'Member\\'\" ng-class=\"{ \\'btn disabled py-0\\': settings.TeamSync }\"\\n                      ><i class=\"fa fa-user-plus space-right\" aria-hidden=\"true\"></i>Leader</a\\n                    >\\n                    <a style=\"margin-left: 5px\" ng-click=\"demoteToMember(user)\" ng-if=\"isAdmin && user.TeamRole === \\'Leader\\'\" ng-class=\"{ \\'btn disabled py-0\\': settings.TeamSync }\"\\n                      ><i class=\"fa fa-user-times space-right\" aria-hidden=\"true\"></i>Member</a\\n                    >\\n                  </span>\\n                </td>\\n              </tr>\\n              <tr ng-if=\"!teamMembers\">\\n                <td colspan=\"2\" class=\"text-center text-muted\">Loading...</td>\\n              </tr>\\n              <tr ng-if=\"teamMembers.length === 0 || (teamMembers | filter: state.filterGroupMembers).length === 0\">\\n                <td colspan=\"2\" class=\"text-center text-muted\">No team members.</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n          <div ng-if=\"teamMembers\" class=\"pull-left pagination-controls\">\\n            <dir-pagination-controls pagination-id=\"table2\"></dir-pagination-controls>\\n          </div>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},93772:function(e){var t=\"app/portainer/views/teams/teams.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Teams\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.teams\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Teams management</rd-header-content>\\n</rd-header>\\n\\n<create-team-form ng-if=\"isAdmin && users\" users=\"users\" action-in-progress=\"state.actionInProgress\" teams=\"teams\" on-submit=\"(addTeam)\"></create-team-form>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <teams-datatable title-text=\"Teams\" title-icon=\"fa-users\" dataset=\"teams\" table-key=\"teams\" order-by=\"Name\" remove-action=\"removeAction\" is-admin=\"isAdmin\"></teams-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},61242:function(e){var t=\"app/portainer/views/templates/templates.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header id=\"view-top\">\\n  <rd-header-title title-text=\"Application templates list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.templates\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Templates</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  \\x3c!-- stack-form --\\x3e\\n  <stack-from-template-form\\n    ng-if=\"state.selectedTemplate && (state.selectedTemplate.Type === 2 || state.selectedTemplate.Type === 3)\"\\n    template=\"state.selectedTemplate\"\\n    form-values=\"formValues\"\\n    state=\"state\"\\n    create-template=\"createTemplate\"\\n    unselect-template=\"unselectTemplate\"\\n  >\\n  </stack-from-template-form>\\n  \\x3c!-- !stack-form --\\x3e\\n  \\x3c!-- container-form --\\x3e\\n  <div class=\"col-sm-12\" ng-if=\"state.selectedTemplate && state.selectedTemplate.Type === 1\">\\n    <rd-widget>\\n      <rd-widget-custom-header icon=\"state.selectedTemplate.Logo\" title-text=\"state.selectedTemplate.Image\"></rd-widget-custom-header>\\n      <rd-widget-body classes=\"padding\">\\n        <form class=\"form-horizontal\" name=\"selectedTemplateType1\">\\n          \\x3c!-- description --\\x3e\\n          <div ng-if=\"state.selectedTemplate.Note\">\\n            <div class=\"col-sm-12 form-section-title\"> Information </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <div class=\"template-note\" ng-if=\"state.selectedTemplate.Note\" ng-bind-html=\"state.selectedTemplate.Note\"></div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !description --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Configuration </div>\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_name\" class=\"col-sm-2 control-label text-left\">Name</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" name=\"container_name\" class=\"form-control\" ng-model=\"formValues.name\" placeholder=\"e.g. web (optional)\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- network-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_network\" class=\"col-sm-2 control-label text-left\">Network</label>\\n            <div class=\"col-sm-10\">\\n              <select class=\"form-control\" ng-options=\"net.Name for net in availableNetworks | orderBy: \\'Name\\'\" ng-model=\"formValues.network\">\\n                <option disabled hidden value=\"\">Select a network</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !network-input --\\x3e\\n          \\x3c!-- env --\\x3e\\n          <div ng-repeat=\"var in state.selectedTemplate.Env\" ng-if=\"!var.preset || var.select\" class=\"form-group\">\\n            <label for=\"field_{{ $index }}\" class=\"col-sm-2 control-label text-left\">\\n              {{ var.label }}\\n              <portainer-tooltip ng-if=\"var.description\" position=\"bottom\" message=\"{{ var.description }}\"></portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-if=\"!var.select\" ng-model=\"var.value\" id=\"field_{{ $index }}\" />\\n              <select class=\"form-control\" ng-if=\"var.select\" ng-model=\"var.value\" id=\"field_{{ $index }}\">\\n                <option selected disabled hidden value=\"\">Select value</option>\\n                <option ng-repeat=\"choice in var.select\" value=\"{{ choice.value }}\">{{ choice.text }}</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !env --\\x3e\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <a class=\"small interactive\" ng-if=\"!state.showAdvancedOptions\" ng-click=\"state.showAdvancedOptions = true;\">\\n                <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i> Show advanced options\\n              </a>\\n              <a class=\"small interactive\" ng-if=\"state.showAdvancedOptions\" ng-click=\"state.showAdvancedOptions = false;\">\\n                <i class=\"fa fa-minus space-right\" aria-hidden=\"true\"></i> Hide advanced options\\n              </a>\\n            </div>\\n          </div>\\n          <div ng-if=\"state.showAdvancedOptions\">\\n            \\x3c!-- port-mapping --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                <label class=\"control-label text-left\">Port mapping</label>\\n                <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addPortBinding()\">\\n                  <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> map additional port\\n                </span>\\n              </div>\\n              <div class=\"col-sm-12\" style=\"margin-top: 10px\" ng-if=\"state.selectedTemplate.Ports.length > 0\">\\n                <span class=\"small text-muted\">Portainer will automatically assign a port if you leave the host port empty.</span>\\n              </div>\\n              \\x3c!-- !port-mapping --\\x3e\\n              \\x3c!-- port-mapping-input-list --\\x3e\\n              <div class=\"col-sm-12\">\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"portBinding in state.selectedTemplate.Ports\" style=\"margin-top: 2px\">\\n                    \\x3c!-- host-port --\\x3e\\n                    <div class=\"input-group col-sm-4 input-group-sm\">\\n                      <span class=\"input-group-addon\">host</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"portBinding.hostPort\" placeholder=\"e.g. 80 or 1.2.3.4:80 (optional)\" />\\n                    </div>\\n                    \\x3c!-- !host-port --\\x3e\\n                    <span style=\"margin: 0 10px 0 10px\">\\n                      <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                    </span>\\n                    \\x3c!-- container-port --\\x3e\\n                    <div class=\"input-group col-sm-4 input-group-sm\">\\n                      <span class=\"input-group-addon\">container</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"portBinding.containerPort\" placeholder=\"e.g. 80\" />\\n                    </div>\\n                    \\x3c!-- !container-port --\\x3e\\n                    \\x3c!-- protocol-actions --\\x3e\\n                    <div class=\"input-group col-sm-3 input-group-sm\">\\n                      <div class=\"btn-group btn-group-sm\">\\n                        <label class=\"btn btn-primary\" ng-model=\"portBinding.protocol\" uib-btn-radio=\"\\'tcp\\'\">TCP</label>\\n                        <label class=\"btn btn-primary\" ng-model=\"portBinding.protocol\" uib-btn-radio=\"\\'udp\\'\">UDP</label>\\n                      </div>\\n                      <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePortBinding($index)\">\\n                        <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                      </button>\\n                    </div>\\n                    \\x3c!-- !protocol-actions --\\x3e\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !port-mapping-input-list --\\x3e\\n            \\x3c!-- volume-mapping --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                <label class=\"control-label text-left\">Volume mapping</label>\\n                <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addVolume()\">\\n                  <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> map additional volume\\n                </span>\\n              </div>\\n              <div class=\"col-sm-12\" style=\"margin-top: 10px\" ng-if=\"state.selectedTemplate.Volumes.length > 0\">\\n                <span class=\"small text-muted\">Portainer will automatically create and map a local volume when using the <b>auto</b> option.</span>\\n              </div>\\n              <div ng-repeat=\"volume in state.selectedTemplate.Volumes\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 10px\">\\n                  \\x3c!-- volume-line1 --\\x3e\\n                  <div class=\"col-sm-12 form-inline\">\\n                    \\x3c!-- container-path --\\x3e\\n                    <div class=\"input-group input-group-sm col-sm-6\">\\n                      <span class=\"input-group-addon\">container</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"volume.container\" placeholder=\"e.g. /path/in/container\" />\\n                    </div>\\n                    \\x3c!-- !container-path --\\x3e\\n                    \\x3c!-- volume-type --\\x3e\\n                    <div class=\"input-group col-sm-5\" style=\"margin-left: 5px\">\\n                      <div class=\"btn-group btn-group-sm\">\\n                        <label class=\"btn btn-primary\" ng-model=\"volume.type\" uib-btn-radio=\"\\'auto\\'\" ng-click=\"volume.bind = \\'\\'\">Auto</label>\\n                        <label class=\"btn btn-primary\" ng-model=\"volume.type\" uib-btn-radio=\"\\'volume\\'\" ng-click=\"volume.bind = \\'\\'\">Volume</label>\\n                        <label class=\"btn btn-primary\" ng-model=\"volume.type\" uib-btn-radio=\"\\'bind\\'\" ng-click=\"volume.bind = \\'\\'\" ng-if=\"isAdmin || allowBindMounts\">Bind</label>\\n                      </div>\\n                      <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeVolume($index)\">\\n                        <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                      </button>\\n                    </div>\\n                    \\x3c!-- !volume-type --\\x3e\\n                  </div>\\n                  \\x3c!-- !volume-line1 --\\x3e\\n                  \\x3c!-- volume-line2 --\\x3e\\n                  <div class=\"col-sm-12 form-inline\" style=\"margin-top: 5px\" ng-if=\"volume.type !== \\'auto\\'\">\\n                    <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                    \\x3c!-- volume --\\x3e\\n                    <div class=\"input-group input-group-sm col-sm-6\" ng-if=\"volume.type === \\'volume\\'\">\\n                      <div class=\"col-sm-12 input-group\">\\n                        <span class=\"input-group-addon\">volume</span>\\n                        <div class=\"col-sm-12 input-group\">\\n                          <select class=\"form-control\" ng-model=\"volume.bind\" ng-options=\"vol.Name as vol.Name for vol in availableVolumes\">\\n                            <option value=\"\" disabled selected>Select a volume</option>\\n                          </select>\\n                        </div>\\n                      </div>\\n                    </div>\\n                    \\x3c!-- !volume --\\x3e\\n                    \\x3c!-- bind --\\x3e\\n                    <div class=\"input-group input-group-sm col-sm-6\" ng-if=\"volume.type === \\'bind\\'\">\\n                      <span class=\"input-group-addon\">host</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"volume.bind\" placeholder=\"e.g. /path/on/host\" />\\n                    </div>\\n                    \\x3c!-- !bind --\\x3e\\n                    \\x3c!-- read-only --\\x3e\\n                    <div class=\"input-group input-group-sm col-sm-5\" style=\"margin-left: 5px\">\\n                      <div class=\"btn-group btn-group-sm\">\\n                        <label class=\"btn btn-primary\" ng-model=\"volume.readonly\" uib-btn-radio=\"false\">Writable</label>\\n                        <label class=\"btn btn-primary\" ng-model=\"volume.readonly\" uib-btn-radio=\"true\">Read-only</label>\\n                      </div>\\n                    </div>\\n                    \\x3c!-- !read-only --\\x3e\\n                  </div>\\n                  \\x3c!-- !volume-line2 --\\x3e\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !volume-mapping --\\x3e\\n            \\x3c!-- extra-host --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                <label class=\"control-label text-left\">Hosts file entries</label>\\n                <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addExtraHost()\">\\n                  <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add additional entry\\n                </span>\\n              </div>\\n              \\x3c!-- extra-host-input-list --\\x3e\\n              <div class=\"col-sm-12\">\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"(idx, host) in state.selectedTemplate.Hosts track by $index\" style=\"margin-top: 2px\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"state.selectedTemplate.Hosts[idx]\" placeholder=\"e.g. host:IP\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeExtraHost($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !extra-host --\\x3e\\n            \\x3c!-- labels --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\" style=\"margin-top: 5px\">\\n                <label class=\"control-label text-left\">Labels</label>\\n                <span class=\"label label-default interactive\" style=\"margin-left: 10px\" ng-click=\"addLabel()\">\\n                  <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label\\n                </span>\\n              </div>\\n              \\x3c!-- labels-input-list --\\x3e\\n              <div class=\"col-sm-12\">\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px\">\\n                  <div ng-repeat=\"label in state.selectedTemplate.Labels\" style=\"margin-top: 2px\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">name</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.name\" placeholder=\"e.g. com.example.foo\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !labels-input-list --\\x3e\\n            </div>\\n            \\x3c!-- !labels --\\x3e\\n            \\x3c!-- hostname --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"container_hostname\" class=\"col-sm-2 control-label text-left\">Hostname</label>\\n              <div class=\"col-sm-10\">\\n                <input type=\"text\" name=\"container_hostname\" class=\"form-control\" ng-model=\"state.selectedTemplate.Hostname\" placeholder=\"leave empty to use docker default\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !hostname --\\x3e\\n          </div>\\n          \\x3c!-- !advanced-options --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\"> Actions </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !formValues.network\"\\n                ng-click=\"createTemplate()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Deploy the container</span>\\n                <span ng-show=\"state.actionInProgress\">Deployment in progress...</span>\\n              </button>\\n              <button type=\"button\" class=\"btn btn-sm btn-default\" ng-click=\"unselectTemplate(state.selectedTemplate)\">Hide</button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n  \\x3c!-- container-form --\\x3e\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <template-list\\n      ng-if=\"templates\"\\n      title-text=\"Templates\"\\n      title-icon=\"fa-rocket\"\\n      templates=\"templates\"\\n      table-key=\"templates\"\\n      select-action=\"selectTemplate\"\\n      show-swarm-stacks=\"applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\' && applicationState.endpoint.mode.role === \\'MANAGER\\' && applicationState.endpoint.apiVersion >= 1.25\"\\n    ></template-list>\\n  </div>\\n</div>\\n')}]),e.exports=t},98864:function(e){var t=\"app/portainer/views/users/edit/user.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"User details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"portainer.users\">Users</a> &gt; <a ui-sref=\"portainer.users.user({id: user.Id})\">{{ formValues.username }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-user\" title-text=\"User details\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" style=\"margin-top: 15px\">\\n          <div class=\"form-group\">\\n            <label for=\"username_field\" class=\"col-sm-2 control-label text-left\">Username</label>\\n            <div class=\"col-sm-8\">\\n              <input class=\"form-control\" ng-model=\"formValues.username\" id=\"username_field\" />\\n            </div>\\n          </div>\\n\\n          <div class=\"form-group\" ng-if=\"isAdmin\">\\n            <div class=\"col-sm-4\">\\n              <label for=\"permissions\" class=\"control-label text-left\">\\n                Administrator\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"Administrators have access to Portainer settings management as well as full control over all defined environments and their resources.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"formValues.Administrator\" /><i></i> </label>\\n            </div>\\n          </div>\\n\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-4\">\\n              <button class=\"btn btn-primary btn-sm\" ng-disabled=\"!isSubmitEnabled()\" ng-click=\"updateUser()\">Save</button>\\n              <button class=\"btn btn-danger btn-sm\" ng-disabled=\"isDeleteDisabled()\" ng-click=\"deleteUser()\"\\n                ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Delete this user</button\\n              >\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"AuthenticationMethod === 1\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-lock\" title-text=\"Change user password\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form name=\"form\" class=\"form-horizontal\" style=\"margin-top: 15px\">\\n          \\x3c!-- new-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"new_password\" class=\"col-sm-2 control-label text-left\">New password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.newPassword\" id=\"new_password\" name=\"new_password\" ng-minlength=\"requiredPasswordLength\" />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !new-password-input --\\x3e\\n          \\x3c!-- confirm-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"confirm_password\" class=\"col-sm-2 control-label text-left\">Confirm password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.confirmPassword\" id=\"confirm_password\" />\\n                <span class=\"input-group-addon\"\\n                  ><i\\n                    ng-class=\"\\n                      { true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[\\n                        form.new_password.$viewValue !== \\'\\' && form.new_password.$viewValue === formValues.confirmPassword\\n                      ]\\n                    \"\\n                    aria-hidden=\"true\"\\n                  ></i\\n                ></span>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !confirm-password-input --\\x3e\\n          <password-check-hint password-valid=\"form.new_password.$valid && formValues.newPassword\"></password-check-hint>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-2\">\\n              <button\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"form.new_password.$viewValue === \\'\\' || form.$invalid || !formValues.newPassword || !formValues.confirmPassword || form.new_password.$viewValue !== formValues.confirmPassword\"\\n                ng-click=\"updatePassword()\"\\n                >Update password</button\\n              >\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=t},3799:function(e){var t=\"app/portainer/views/users/users.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(t,'<rd-header>\\n  <rd-header-title title-text=\"Users\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.users\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>User management</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"isAdmin\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-plus\" title-text=\"Add a new user\"> </rd-widget-header>\\n      <rd-widget-body>\\n        <form name=\"form\" class=\"form-horizontal\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"username\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n              Username\\n              <portainer-tooltip\\n                ng-if=\"AuthenticationMethod === 2\"\\n                position=\"bottom\"\\n                message=\"Username must exactly match username defined in external LDAP source.\"\\n              ></portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  id=\"username\"\\n                  ng-model=\"formValues.Username\"\\n                  ng-change=\"checkUsernameValidity()\"\\n                  placeholder=\"e.g. jdoe\"\\n                  auto-focus\\n                  data-cy=\"user-usernameInput\"\\n                />\\n                <span class=\"input-group-addon\"><i ng-class=\"{ true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[state.validUsername]\" aria-hidden=\"true\"></i></span>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- new-password-input --\\x3e\\n          <div class=\"form-group\" ng-if=\"AuthenticationMethod === 1\">\\n            <label for=\"password\" class=\"col-sm-3 col-lg-2 control-label text-left\">Password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input\\n                  type=\"password\"\\n                  class=\"form-control\"\\n                  ng-model=\"formValues.Password\"\\n                  id=\"password\"\\n                  name=\"password\"\\n                  ng-minlength=\"requiredPasswordLength\"\\n                  data-cy=\"user-passwordInput\"\\n                />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !new-password-input --\\x3e\\n          \\x3c!-- confirm-password-input --\\x3e\\n          <div class=\"form-group\" ng-if=\"AuthenticationMethod === 1\">\\n            <label for=\"confirm_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">Confirm password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.ConfirmPassword\" id=\"confirm_password\" data-cy=\"user-passwordConfirmInput\" />\\n                <span class=\"input-group-addon\"\\n                  ><i\\n                    ng-class=\"\\n                      { true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[form.password.$viewValue !== \\'\\' && form.password.$viewValue === formValues.ConfirmPassword]\\n                    \"\\n                    aria-hidden=\"true\"\\n                  ></i\\n                ></span>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !confirm-password-input --\\x3e\\n\\n          \\x3c!-- password-check-hint --\\x3e\\n          <div class=\"form-group\" ng-if=\"AuthenticationMethod === 1\">\\n            <div class=\"col-sm-3 col-lg-2\"></div>\\n            <div class=\"col-sm-8\">\\n              <password-check-hint password-valid=\"form.password.$valid && formValues.Password\"></password-check-hint>\\n            </div>\\n          </div>\\n          \\x3c!-- ! password-check-hint  --\\x3e\\n\\n          \\x3c!-- admin-checkbox --\\x3e\\n          <div class=\"form-group\" ng-if=\"isAdmin\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"permissions\" class=\"control-label text-left\">\\n                Administrator\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"Administrators have access to Portainer settings management as well as full control over all defined environments and their resources.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px\"> <input type=\"checkbox\" ng-model=\"formValues.Administrator\" data-cy=\"user-adminCheckbox\" /><i></i> </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !admin-checkbox --\\x3e\\n          \\x3c!-- teams --\\x3e\\n          <div class=\"form-group\" ng-if=\"!formValues.Administrator\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\"> Add to team(s) </label>\\n              <span class=\"small text-muted\" style=\"margin-left: 20px\" ng-if=\"teams.length === 0\">\\n                You don\\'t seem to have any teams to add users into. Head over to the <a ui-sref=\"portainer.teams\">Teams view</a> to create some.\\n              </span>\\n              <span\\n                isteven-multi-select\\n                ng-if=\"teams.length > 0\"\\n                input-model=\"teams\"\\n                output-model=\"formValues.Teams\"\\n                button-label=\"Name\"\\n                item-label=\"Name\"\\n                tick-property=\"ticked\"\\n                helper-elements=\"filter\"\\n                search-property=\"Name\"\\n                translation=\"{nothingSelected: \\'Select one or more teams\\', search: \\'Search...\\'}\"\\n                style=\"margin-left: 20px\"\\n                data-cy=\"user-teamSelect\"\\n              >\\n              </span>\\n            </div>\\n          </div>\\n          \\x3c!-- !teams --\\x3e\\n          <div class=\"form-group\" ng-if=\"isAdmin && !formValues.Administrator && formValues.Teams.length === 0\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\">\\n                Note: non-administrator users who aren\\'t in a team don\\'t have access to any environments by default. Head over to the\\n                <a ui-sref=\"portainer.endpoints\">Environments view</a> to manage their accesses.\\n              </span>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !state.validUsername || formValues.Username === \\'\\' || !formValues.Password || !formValues.ConfirmPassword || (AuthenticationMethod === 1 && form.$invalid) || (AuthenticationMethod === 1 && form.password.$viewValue !== formValues.ConfirmPassword)\"\\n                ng-click=\"addUser()\"\\n                button-spinner=\"state.actionInProgress\"\\n                data-cy=\"user-createUserButton\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Create user</span>\\n                <span ng-show=\"state.actionInProgress\">Creating user...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.userCreationError\" style=\"margin: 5px\">\\n                <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i> {{ state.userCreationError }}\\n              </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <users-datatable\\n      title-text=\"Users\"\\n      title-icon=\"fa-user\"\\n      dataset=\"users\"\\n      table-key=\"users\"\\n      order-by=\"Username\"\\n      authentication-method=\"AuthenticationMethod\"\\n      remove-action=\"removeAction\"\\n      is-admin=\"isAdmin\"\\n    ></users-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=t},69962:function(e,t,n){\"use strict\";e.exports=n.p+\"d3a18c5002453f58c8b9.png\"},94233:function(e,t,n){\"use strict\";e.exports=n.p+\"51906a7e4bd0e1d9e771.png\"},51070:function(e,t,n){\"use strict\";e.exports=n.p+\"19c2b168a8d85994e14e.png\"},87935:function(e,t,n){\"use strict\";e.exports=n.p+\"347aea0738ab6bb73a56.png\"},21985:function(e,t,n){\"use strict\";e.exports=n.p+\"29d4ee6d4a5c786588a7.svg\"},76609:function(e,t,n){\"use strict\";e.exports=n.p+\"47026671f2ebb0d50945.png\"},21306:function(e,t,n){\"use strict\";e.exports=n.p+\"9d07a3ace464cfd6e27c.png\"},6186:function(e,t,n){\"use strict\";e.exports=n.p+\"c2c179f41199d25e0055.png\"},75347:function(){},31777:function(){},34017:function(){},59905:function(){},64604:function(){}},function(e){e.O(0,[736],(function(){return 88304,e(e.s=88304)})),e.O()}]);\n//# sourceMappingURL=main.74c9f75de4c0de51a152.js.map"
            }
          ]
        }
      }
    },
    {
      "URI": "/api/status",
      "Methods": {
        "GET": {
          "Criteria": {
            "Superset": [
              {
                "ID": "GET1",
                "URL_Parameters": "",
                "Headers": {
                  "pragma": "no-cache",
                  "cache-control": "no-cache",
                  "user-agent": "Mozilla/5.0 [en] (X11, U; OpenVAS-VT 21.4.5~dev1)",
                  "accept": "image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */*",
                  "accept-language": "en",
                  "accept-charset": "iso-8859-1,*,utf-8"
                },
                "Body": {},
                "Responses": [
                  0
                ]
              }
            ],
            "Subset": []
          },
          "Responses": [
            {
              "Status": "200",
              "Headers": {
                "Content-Type": "application/json",
                "X-Content-Type-Options": "nosniff",
                "X-Xss-Protection": "1; mode=block"
              },
              "Body": "{\"Version\":\"2.14.0\",\"InstanceID\":\"9f06992b-4424-4ebe-aa80-65a6646a6b1c\",\"DemoEnvironment\":{\"enabled\":false,\"users\":null,\"environments\":null}}\n"
            }
          ]
        }
      }
    }
  ]
}