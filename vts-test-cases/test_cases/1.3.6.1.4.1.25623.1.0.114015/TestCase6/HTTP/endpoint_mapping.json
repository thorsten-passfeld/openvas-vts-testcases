{
  "Endpoints": [
    {
      "URI": "/",
      "Methods": {
        "GET": {
          "Criteria": {
            "Superset": [
              {
                "ID": "GET1",
                "URL_Parameters": "",
                "Headers": {
                  "user-agent": "Mozilla/5.0 [en] (X11, U; OpenVAS-VT 21.4.5)"
                },
                "Body": {},
                "Responses": [
                  0,
                  0
                ]
              },
              {
                "ID": "GET2",
                "URL_Parameters": "",
                "Headers": {
                  "cache-control": "no-cache",
                  "user-agent": "Mozilla/5.0 [en] (X11, U; OpenVAS-VT 21.4.5~dev1)",
                  "accept": "image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */*",
                  "accept-language": "en",
                  "accept-charset": "iso-8859-1,*,utf-8"
                },
                "Body": {},
                "Responses": [
                  0
                ]
              }
            ],
            "Subset": []
          },
          "Responses": [
            {
              "Status": "200",
              "Headers": {
                "Accept-Ranges": "bytes",
                "Cache-Control": "max-age=31536000",
                "Content-Type": "text/html; charset=utf-8",
                "Last-Modified": "Tue, 07 Dec 2021 05:41:58 GMT",
                "X-Content-Type-Options": "nosniff",
                "X-Xss-Protection": "1; mode=block"
              },
              "Body": "<!DOCTYPE html\n><html lang=\"en\" ng-app=\"portainer\" ng-strict-di>\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>Portainer</title>\n    <meta name=\"description\" content=\"\" />\n    <meta name=\"author\" content=\"Portainer.io\" />\n\n    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->\n    <!--[if lt IE 9]>\n      <script src=\"//html5shim.googlecode.com/svn/trunk/html5.js\"></script>\n    <![endif]-->\n\n    <!-- Fav and touch icons -->\n    <link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"e382c76d251bddc0bbac1fa38543294d.png\" />\n    <link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"8ee23a41a3989849a4cb88cebda86c6c.png\" />\n    <link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"021f6dbc7ac7f56e1f42a793fc35b100.png\" />\n    <link rel=\"mask-icon\" href=\"07745d55b001c85826eedd479285cdbb.svg\" color=\"#5bbad5\" />\n    <link rel=\"shortcut icon\" href=\"data:image/vnd.microsoft.icon;base64,AAABAAIAJTAAAAEAIADIBQAAJgAAACUwAgABAAEAMAMAAO4FAACJUE5HDQoaCgAAAA1JSERSAAAAJQAAADAIBgAAAJaFsysAAAWPSURBVFiF7ZhrbFRFFMd/Z3e7u8VCa28JCiJqfKCg+AiPWBFZqgatH9CIRlGCJj4wBCQYE5WEh4ZHQAJofCRETRWi0fggxAftLYoxGuODArYkSmJ8BMvetpTa9u527/hh7rbbfbV3u37jn0wyM/fOuf+ZOfM/Zy6cwfAgxTJkmDZAGOizIqG+kdjyFYXRAL4HHhypkWKSCgIGUOGuWsEY8fYZZq+AzAVeBKYBPcB2YJOjVEf7vLBnmwWvlNFoY5j2hSDvAp8BxwELOAAsAZp8IosM0w7876RK1+/DaLDLUKwBDgGXAbUJxV1AN7AXmAJ8AOwCTMO0Z1Q2Dn9Lh01KplRjmLZvVHXN3QhNwBPAalFMtyKhL/yCSr5rRUIWyJPAdPR2fi2K1w3THn92fW9xSI1tjFO505wG7AfqgHpgKrA9Oi8UyzbGigRpe/T6JmA+cC8QAY74fLLcaLTDbPgk9wKkNgzTDqNPUSrKgGeBh4FmYBX66GezdRTYit62dIwGlgMrgGOunW8BROiMzg31r3Q/qSozhkJtAx5PM+YHks46lGMEgYRbciHg2uy3J3BuNBJqT32hn52CV4F9Q3x4OlACfAM8BLwPdLrPdgN7gMtdk5uGsJVEVzprAE5GgqCX9Vi+0YZph4CgFQnVG6Z9M/ClFQlZrmD2Ai1ABeATpD4aSfeGoVG4To1QtfOhEFI+YCPaSe8p0EZeZKht1YE+SCSCDByCBAOOmRSjS91mD+AUm1TmLB0HJRxUQqtbnlfCiWQbqCk2iXTkiktlwBi3HnbryQmcAN506zGGlolB8FUvQP12BGP3UaKRIL75iwnNqiUwbiLh62aS6IrlJJUPTYJsSDa8ni7/pMmMWbcH8QcYteVzwtfMRkR7R19rG77SMskg5frMPuBnt+tHtPaIW04r1JXuM8cw7RYrEsonlpkQIRHrofTam3B6u+k9dJD4r4dQsRjlS57LJOWK6G3AFW7XSXTsSm5fG7DUrXcDk9Apizde/gBOZzunXn4KZ39df79Vt97JdZwlpaS3U0vBcuAfG+T0e5sHEUoil1GVo7/Q99JGOSROxilfvDbr44ztc1B+0aerzO36C1jHwKr9DawdeN07p45tK6hYuUMoKck6OptP3QJsZrj5u+CrbIyvQQ1fQ8uXbgRASfaNytZ7x7AJadwpHggBSHgUEgoqAWTq7PykKnWQnerpCzAJpNTjGJQdQwIlVO40kavmgAj4SzBMe/D2iaPAJ4U5r0ck2v6h9IaJxH5xqNp1gFhLCwRKAAbrlFUTxjDtJuDGLHYUOtf6Dh2ILwFmAa3g9Hi9QjqdbcSbxwGI0xVXgfEXkLSRLcx8jL6ppH7lFDpNPgUsBC5G5+svA6Nd2QqA2gEcRl9KzxqKWHRuKDlZfDWLQCmchndUNlIm+nI5Pzkp4H7gduCxFLI1wCNoedgKqhYduJuBN4DWoUilwql/u7+ecfqsSMhB596HgT6X4HlphJIIAi8AK9E51jnAXOAtYGZcvIXEnKQAOnauOiFQjfat14BlWQjlgwCrA8o3o2ikKpZtOV/pa/dBtI9NKcB2AFhY1TA43VKJOMruRcVzp2EZszdMuxydf08ugEg6PkKxwJoX8jQobaUEtPMWgxDA74XE7EGkqrSi31okQgBXIzkCXB4MHiBKAM8hIw/moH8VecIgUu5Phh+KxcjFRV4HZFvaV4B/R86lH1GvAzJIdXf80Qw8AHQUgdBxUfzkdVBWQRzbEMMRNQG4jwGlrvVo2wYWiOLTqEdJGFKl3R8ZIeBDBuJhKvaihfZptFM76EziGRznK6vG+7kZZugQ9y+fWoYOzhOAP4E6QV7q62qP+csqBMQAFQfptCLBgvMyT0mQ0WgjCp/SgTgGOFbE29acQTHxHxn/rPaMFerCAAAAAElFTkSuQmCCKAAAACUAAABgAAAAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" />\n    <meta name=\"msapplication-config\" content=\"4806ce9049e1e082dd3da4063ceb0eea.xml\" />\n    <meta name=\"theme-color\" content=\"#ffffff\" />\n  <link href=\"vendor.1.css\" rel=\"stylesheet\"><link href=\"main.d0be16110b99647a33e0.css\" rel=\"stylesheet\"></head>\n\n  <body ng-controller=\"MainController\">\n    <div\n      id=\"page-wrapper\"\n      ng-class=\"{\n        open: toggle && ['portainer.auth', 'portainer.init.admin', 'portainer.init.endpoint'].indexOf($state.current.name) === -1,\n        nopadding: ['portainer.auth', 'portainer.init.admin', 'portainer.init.endpoint', 'portainer.logout'].indexOf($state.current.name) > -1 || applicationState.loading\n      }\"\n      ng-cloak\n    >\n      <div id=\"sideview\" ui-view=\"sidebar\" ng-if=\"!applicationState.loading\"></div>\n\n      <div id=\"content-wrapper\">\n        <div class=\"page-content\">\n          <div class=\"page-wrapper\" ng-if=\"applicationState.loading\">\n            <!-- loading box -->\n            <div class=\"container simple-box\">\n              <div class=\"col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3\">\n                <!-- loading box logo -->\n                <div class=\"row\">\n                  <img ng-if=\"logo\" ng-src=\"{{ logo }}\" class=\"simple-box-logo\" />\n                  <img ng-if=\"!logo\" src=\"e8d61d0972528623bc610d87590bc20d.svg\" class=\"simple-box-logo\" alt=\"Portainer\" />\n                </div>\n                <!-- !loading box logo -->\n                <!-- panel -->\n                <div class=\"row\" style=\"text-align: center;\">\n                  Loading Portainer...\n                  <i class=\"fa fa-cog fa-spin\" style=\"margin-left: 5px;\"></i>\n                </div>\n                <!-- !panel -->\n              </div>\n            </div>\n            <!-- !loading box -->\n          </div>\n\n          <!-- Main Content -->\n          <div id=\"view\" ui-view=\"content\" ng-if=\"!applicationState.loading\"></div> </div\n        ><!-- End Page Content --> </div\n      ><!-- End Content Wrapper --> </div\n    ><!-- End Page Wrapper -->\n  <script type=\"text/javascript\" src=\"vendor.d0be16110b99647a33e0.js\"></script><script type=\"text/javascript\" src=\"main.d0be16110b99647a33e0.js\"></script></body></html\n>\n"
            }
          ]
        }
      }
    },
    {
      "URI": "/main.d0be16110b99647a33e0.js",
      "Methods": {
        "GET": {
          "Criteria": {
            "Superset": [
              {
                "ID": "GET1",
                "URL_Parameters": "",
                "Headers": {
                  "pragma": "no-cache",
                  "cache-control": "no-cache",
                  "user-agent": "Mozilla/5.0 [en] (X11, U; OpenVAS-VT 21.4.5~dev1)",
                  "accept": "image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */*",
                  "accept-language": "en",
                  "accept-charset": "iso-8859-1,*,utf-8"
                },
                "Body": {},
                "Responses": [
                  0
                ]
              }
            ],
            "Subset": []
          },
          "Responses": [
            {
              "Status": "200",
              "Headers": {
                "Accept-Ranges": "bytes",
                "Cache-Control": "max-age=31536000",
                "Content-Type": "text/javascript; charset=utf-8",
                "Last-Modified": "Tue, 07 Dec 2021 05:41:58 GMT",
                "X-Content-Type-Options": "nosniff",
                "X-Xss-Protection": "1; mode=block"
              },
              "Body": "!function(e){function t(t){for(var a,r,o=t[0],l=t[1],c=t[2],u=0,p=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(d&&d(t);p.length;)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==i[l]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={0:0},s=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;s.push([689,1]),n()}([,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesApplication\",(function(){return s})),n.d(t,\"HelmApplication\",(function(){return r})),n.d(t,\"KubernetesApplicationPersistedFolder\",(function(){return l})),n.d(t,\"KubernetesApplicationConfigurationVolume\",(function(){return d})),n.d(t,\"KubernetesApplicationPort\",(function(){return p})),n.d(t,\"KubernetesDeploymentTypes\",(function(){return m}));var a=n(451);n.d(t,\"KubernetesApplicationDeploymentTypes\",(function(){return a.KubernetesApplicationDeploymentTypes})),n.d(t,\"KubernetesApplicationDataAccessPolicies\",(function(){return a.KubernetesApplicationDataAccessPolicies})),n.d(t,\"KubernetesApplicationTypes\",(function(){return a.KubernetesApplicationTypes})),n.d(t,\"KubernetesApplicationTypeStrings\",(function(){return a.KubernetesApplicationTypeStrings})),n.d(t,\"KubernetesApplicationPublishingTypes\",(function(){return a.KubernetesApplicationPublishingTypes})),n.d(t,\"KubernetesApplicationPlacementTypes\",(function(){return a.KubernetesApplicationPlacementTypes})),n.d(t,\"KubernetesApplicationQuotaDefaults\",(function(){return a.KubernetesApplicationQuotaDefaults})),n.d(t,\"KubernetesPortainerApplicationStackNameLabel\",(function(){return a.KubernetesPortainerApplicationStackNameLabel})),n.d(t,\"KubernetesPortainerApplicationStackIdLabel\",(function(){return a.KubernetesPortainerApplicationStackIdLabel})),n.d(t,\"KubernetesPortainerApplicationKindLabel\",(function(){return a.KubernetesPortainerApplicationKindLabel})),n.d(t,\"KubernetesPortainerApplicationNameLabel\",(function(){return a.KubernetesPortainerApplicationNameLabel})),n.d(t,\"KubernetesPortainerApplicationOwnerLabel\",(function(){return a.KubernetesPortainerApplicationOwnerLabel})),n.d(t,\"KubernetesPortainerApplicationNote\",(function(){return a.KubernetesPortainerApplicationNote}));const i=Object.freeze({Id:\"\",Name:\"\",StackName:\"\",StackId:\"\",ApplicationKind:\"\",ApplicationOwner:\"\",ApplicationName:\"\",ResourcePool:\"\",Image:\"\",CreationDate:0,Pods:[],Containers:[],Metadata:{},Limits:{},ServiceType:\"\",ServiceId:\"\",ServiceName:\"\",HeadlessServiceName:void 0,LoadBalancerIPAddress:void 0,PublishedPorts:[],Volumes:[],Env:[],PersistedFolders:[],ConfigurationVolumes:[],DeploymentType:\"Unknown\",DataAccessPolicy:\"Unknown\",ApplicationType:\"Unknown\",RunningPodsCount:0,TotalPodsCount:0,Yaml:\"\",Note:\"\",Revisions:void 0,CurrentRevision:void 0,Raw:void 0,AutoScaler:void 0});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}class r{constructor(){this.Id=\"\",this.Name=\"\",this.KubernetesApplications=[],this.ApplicationOwner=\"\",this.CreationDate=0,this.ApplicationType=\"Unknown\",this.Status=\"\",this.StackName=\"-\",this.ResourcePool=\"-\",this.Image=\"-\",this.PublishedPorts=[]}}const o=Object.freeze({MountPath:\"\",PersistentVolumeClaimName:\"\",HostPath:\"\"});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}const c=Object.freeze({fileMountPath:\"\",rootMountPath:\"\",configurationKey:\"\",configurationName:\"\"});class d{constructor(){Object.assign(this,JSON.parse(JSON.stringify(c)))}}const u=Object.freeze({IngressRules:[],NodePort:0,TargetPort:0,Port:0,Protocol:\"\"});class p{constructor(){Object.assign(this,JSON.parse(JSON.stringify(u)))}}const m=Object.freeze({GIT:\"git\",CONTENT:\"content\",APPLICATION_FORM:\"application form\",URL:\"url\"})},,,,,,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e,t){this.msg=e,this.err=t}}},,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"PortainerEndpointTypes\",(function(){return a})),n.d(t,\"PortainerEndpointCreationTypes\",(function(){return i})),n.d(t,\"PortainerEndpointConnectionTypes\",(function(){return s}));const a=Object.freeze({DockerEnvironment:1,AgentOnDockerEnvironment:2,AzureEnvironment:3,EdgeAgentOnDockerEnvironment:4,KubernetesLocalEnvironment:5,AgentOnKubernetesEnvironment:6,EdgeAgentOnKubernetesEnvironment:7}),i=Object.freeze({LocalDockerEnvironment:1,AgentEnvironment:2,AzureEnvironment:3,EdgeAgentEnvironment:4,LocalKubernetesEnvironment:5}),s=Object.freeze({DOCKER_LOCAL:1,KUBERNETES_LOCAL:2,REMOTE:3,AZURE:4,AGENT:5,EDGE:6})},,,function(e,t,n){\"use strict\";function a(){return{id:\"\"}}n.r(t),n.d(t,\"KubernetesCommonParams\",(function(){return a}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"K8S_RESOURCE_POOL_LB_QUOTA\",(function(){return a})),n.d(t,\"K8S_RESOURCE_POOL_STORAGE_QUOTA\",(function(){return i})),n.d(t,\"RBAC_ROLES\",(function(){return s})),n.d(t,\"REGISTRY_MANAGEMENT\",(function(){return r})),n.d(t,\"K8S_SETUP_DEFAULT\",(function(){return o})),n.d(t,\"S3_BACKUP_SETTING\",(function(){return l})),n.d(t,\"HIDE_INTERNAL_AUTHENTICATION_PROMPT\",(function(){return c})),n.d(t,\"TEAM_MEMBERSHIP\",(function(){return d})),n.d(t,\"HIDE_INTERNAL_AUTH\",(function(){return u})),n.d(t,\"EXTERNAL_AUTH_LDAP\",(function(){return p})),n.d(t,\"ACTIVITY_AUDIT\",(function(){return m})),n.d(t,\"HIDE_AUTO_UPDATE_WINDOW\",(function(){return g})),n.d(t,\"FORCE_REDEPLOYMENT\",(function(){return h}));const a=\"k8s-resourcepool-Ibquota\",i=\"k8s-resourcepool-storagequota\",s=\"rbac-roles\",r=\"registry-management\",o=\"k8s-setup-default\",l=\"s3-backup-setting\",c=\"hide-internal-authentication-prompt\",d=\"team-membership\",u=\"hide-internal-auth\",p=\"external-auth-ldap\",m=\"activity-audit\",g=\"hide-auto-update-window\",h=\"force-redeployment\"},function(e,t,n){\"use strict\";n.r(t);var a=n(684),i=n(32),s=n(34),r=n(56),o=n.n(r),l=n(137);class c{static computeResourceReservation(e){const t=Object(s.a)(e,(e,t)=>Object(i.a)(e,t.Containers),[]);return Object(s.a)(t,(e,t)=>(t.Requests&&(t.Requests.memory&&(e.Memory+=o()(t.Requests.memory,{base:10})),t.Requests.cpu&&(e.CPU+=c.parseCPU(t.Requests.cpu))),e),new l.KubernetesResourceReservation)}static parseCPU(e){let t=parseInt(e,10);return Object(a.a)(e,\"m\")?t/=1e3:Object(a.a)(e,\"n\")&&(t/=1e9),t}static megaBytesValue(e){return Math.floor(o()(e)/1e3/1e3)}static bytesValue(e){return 1e3*o()(e)*1e3}}t.default=c},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesDeployManifestTypes\",(function(){return a})),n.d(t,\"KubernetesDeployBuildMethods\",(function(){return i})),n.d(t,\"KubernetesDeployRequestMethods\",(function(){return s})),n.d(t,\"RepositoryMechanismTypes\",(function(){return r}));const a=Object.freeze({KUBERNETES:1,COMPOSE:2}),i=Object.freeze({GIT:1,WEB_EDITOR:2,CUSTOM_TEMPLATE:3,URL:4}),s=Object.freeze({REPOSITORY:\"repository\",STRING:\"string\",URL:\"url\"}),r=Object.freeze({WEBHOOK:\"Webhook\",INTERVAL:\"Interval\"})},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"PodKubernetesInstanceLabel\",(function(){return P})),n.d(t,\"PodManagedByLabel\",(function(){return I}));var a=n(149),i=n(85),s=n(5),r=n(122),o=n(683),l=n(32),c=n(63),d=n(33),u=n(34),p=n(41),m=n(16),g=n(2),h=n(28),f=n(7),v=n(6),b=n(389),y=n(42),w=n(25),x=n(24),$=n(114),C=n(99),S=n(3),k=n(49),A=n(234);const P=\"app.kubernetes.io/instance\",I=\"app.kubernetes.io/managed-by\";class T{static isExternalApplication(e){return!e.ApplicationOwner}static associatePodsAndApplication(e,t){return Object(v.a)(e,[\"metadata.labels\",t.matchLabels])}static associateContainerPersistedFoldersAndConfigurations(e,t){Object(f.a)(t,t=>{t.PersistedFolders=Object(h.a)(Object(g.a)(e.PersistedFolders,e=>{if(e.MountPath&&Object(m.a)(Object(g.a)(t.VolumeMounts,\"mountPath\"),e.MountPath))return e}),void 0),t.ConfigurationVolumes=Object(h.a)(Object(g.a)(e.ConfigurationVolumes,e=>{if(e.rootMountPath&&Object(m.a)(Object(g.a)(t.VolumeMounts,\"mountPath\"),e.rootMountPath))return e}),void 0)})}static associateContainersAndApplication(e){if(!e.Pods||0===e.Pods.length)return[];const t=e.Pods[0].Containers;return T.associateContainerPersistedFoldersAndConfigurations(e,t),t}static associateAllContainersAndApplication(e){const t=Object(p.a)(Object(g.a)(e.Pods,\"Containers\"));return T.associateContainerPersistedFoldersAndConfigurations(e,t),t}static portMappingsFromApplications(e){return Object(u.a)(e,(e,t)=>{if(t.PublishedPorts.length>0){const n=new b.KubernetesPortMapping;n.Name=t.Name,n.ResourcePool=t.ResourcePool,n.ServiceType=t.ServiceType,n.LoadBalancerIPAddress=t.LoadBalancerIPAddress,n.ApplicationOwner=t.ApplicationOwner,n.Ports=Object(g.a)(t.PublishedPorts,e=>{const t=new b.KubernetesPortMappingPort;return t.Port=n.ServiceType===y.KubernetesServiceTypes.NODE_PORT?e.NodePort:e.Port,t.TargetPort=e.TargetPort,t.Protocol=e.Protocol,t.IngressRules=e.IngressRules,t}),e.push(n)}return e},[])}static generateEnvFromEnvVariables(e){Object(d.a)(e,e=>e.NeedsDeletion);return Object(g.a)(e,e=>{const t=new $.KubernetesApplicationEnvPayload;return t.name=e.Name,void 0===e.Value?delete t.value:t.value=e.Value,t})}static generateEnvVariablesFromEnv(e){const t=Object(g.a)(e,e=>{if(e.valueFrom)return;const t=new x.KubernetesApplicationEnvironmentVariableFormValue;return t.Name=e.name,t.Value=e.value,t.IsNew=!1,t.NameIndex=e.name,t});return Object(h.a)(t,void 0)}static generateConfigurationFormValuesFromEnvAndVolumes(e,t,n){const a=Object(p.a)(n,n=>{const a=n.Type===w.KubernetesConfigurationTypes.CONFIGMAP?\"valueFrom.configMapKeyRef.name\":\"valueFrom.secretKeyRef.name\",i=Object(v.a)(e,[a,n.Name]),s=Object(v.a)(t,{configurationName:n.Name});if(!i.length&&!s.length)return;const r=Object(u.a)(Object(c.a)(n.Data),(e,t)=>{const n=Object(v.a)(i,{name:t}),a=Object(v.a)(s,{configurationKey:t}),r={Key:t,Count:n.length+a.length,Sum:Object(l.a)(n,a),EnvCount:n.length,VolCount:a.length};return e.push(r),e},[]),d=Object(o.a)(Object(g.a)(r,\"Count\")),p=d-Object(o.a)(Object(g.a)(r,\"VolCount\")),m=Object(g.a)(new Array(d),()=>new x.KubernetesApplicationConfigurationFormValue);return Object(f.a)(m,(e,t)=>{e.SelectedConfiguration=n;t>=p&&(e.Overriden=!0,e.OverridenKeys=Object(g.a)(r,e=>{const n=new x.KubernetesApplicationConfigurationFormValueOverridenKey;return n.Key=e.Key,e.Count?t<e.EnvCount?n.Type=x.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.ENVIRONMENT:(n.Type=x.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM,n.Path=e.Sum[t].rootMountPath):n.Type=x.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.NONE,n}))}),m});return Object(h.a)(a,void 0)}static generateEnvOrVolumesFromConfigurations(e,t){let n=[],a=[],i=[];return Object(f.a)(t,t=>{const s=t.SelectedConfiguration.Type===w.KubernetesConfigurationTypes.CONFIGMAP;if(t.Overriden){const o=Object(v.a)(t.OverridenKeys,e=>e.Type===x.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.ENVIRONMENT);Object(f.a)(o,e=>{const a=s?new $.KubernetesApplicationEnvConfigMapPayload:new $.KubernetesApplicationEnvSecretPayload;a.name=e.Key,s?(a.valueFrom.configMapKeyRef.name=t.SelectedConfiguration.Name,a.valueFrom.configMapKeyRef.key=e.Key):(a.valueFrom.secretKeyRef.name=t.SelectedConfiguration.Name,a.valueFrom.secretKeyRef.key=e.Key),n.push(a)});const l=Object(v.a)(t.OverridenKeys,e=>e.Type===x.KubernetesApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM),c=Object(r.a)(l,\"Path\");Object(f.a)(c,(n,r)=>{const o=C.default.generatedApplicationConfigVolumeName(e.Name),l=t.SelectedConfiguration.Name,c=Object(g.a)(n,e=>{const t=new $.KubernetesApplicationVolumeEntryPayload;return t.key=e.Key,t.path=e.Key,t}),d=s?new $.KubernetesApplicationVolumeMountPayload:new $.KubernetesApplicationVolumeMountPayload(!0),u=s?new $.KubernetesApplicationVolumeConfigMapPayload:new $.KubernetesApplicationVolumeSecretPayload;d.name=o,d.mountPath=r,u.name=o,s?(u.configMap.name=l,u.configMap.items=c):(u.secret.secretName=l,u.secret.items=c),i.push(d),a.push(u)})}else{const e=Object(c.a)(t.SelectedConfiguration.Data);Object(f.a)(e,e=>{const a=s?new $.KubernetesApplicationEnvConfigMapPayload:new $.KubernetesApplicationEnvSecretPayload;a.name=e,s?(a.valueFrom.configMapKeyRef.name=t.SelectedConfiguration.Name,a.valueFrom.configMapKeyRef.key=e):(a.valueFrom.secretKeyRef.name=t.SelectedConfiguration.Name,a.valueFrom.secretKeyRef.key=e),n.push(a)})}}),e.Env=Object(l.a)(e.Env,n),e.Volumes=Object(l.a)(e.Volumes,a),e.VolumeMounts=Object(l.a)(e.VolumeMounts,i),e}static generatePublishedPortsFormValuesFromPublishedPorts(e,t,n){const a=(t,a)=>{const i=new x.KubernetesApplicationPublishedPortFormValue;return i.IsNew=!1,a&&(i.IngressName=a.IngressName,i.IngressRoute=a.Path,i.IngressHost=a.Host,i.IngressHosts=n&&n.find(e=>e.Name===a.IngressName).Hosts),i.Protocol=t.Protocol,i.ContainerPort=t.TargetPort,e===y.KubernetesServiceTypes.LOAD_BALANCER?(i.LoadBalancerPort=t.Port,i.LoadBalancerNodePort=t.NodePort):e===y.KubernetesServiceTypes.NODE_PORT&&(i.NodePort=t.NodePort),i};return Object(p.a)(t,e=>e.IngressRules.length?Object(g.a)(e.IngressRules,t=>a(e,t)):a(e))}static generateAutoScalerFormValueFromHorizontalPodAutoScaler(e,t){const n=new x.KubernetesApplicationAutoScalerFormValue;return e?(n.IsUsed=!0,n.MinReplicas=e.MinReplicas,n.MaxReplicas=e.MaxReplicas,n.TargetCPUUtilization=e.TargetCPUUtilization,n.ApiVersion=e.ApiVersion):(n.ApiVersion=\"apps/v1\",n.MinReplicas=t,n.MaxReplicas=t),n}static generatePersistedFoldersFormValuesFromPersistedFolders(e,t){return Object(g.a)(e,e=>{const n=Object(s.a)(t,t=>Object(i.a)(t.Name,e.PersistentVolumeClaimName)),a=new x.KubernetesApplicationPersistedFolderFormValue(n.StorageClass);return a.PersistentVolumeClaimName=e.PersistentVolumeClaimName,a.Size=parseInt(n.Storage,10),a.SizeUnit=n.Storage.slice(-2),a.ContainerPath=e.MountPath,a})}static generateVolumesFromPersistentVolumClaims(e,t){e.VolumeMounts=[],e.Volumes=[],Object(f.a)(t,t=>{const n=new $.KubernetesApplicationVolumeMountPayload,a=t.Name;n.name=a,n.mountPath=t.MountPath,e.VolumeMounts.push(n);const i=new $.KubernetesApplicationVolumePersistentPayload;i.name=a,i.persistentVolumeClaim.claimName=a,e.Volumes.push(i)})}static hasRWOOnly(e){return Object(s.a)(e.PersistedFolders,e=>e.StorageClass&&Object(a.a)(e.StorageClass.AccessModes,[\"RWO\"]))}static hasRWX(e){return void 0!==Object(s.a)(e,e=>e.StorageClass&&Object(m.a)(e.StorageClass.AccessModes,\"RWX\"))}static generatePlacementsFormValuesFromAffinity(e,t,n){let a=e.Placements,i=e.PlacementType;const r=t.nodeAffinity;r&&r.requiredDuringSchedulingIgnoredDuringExecution?(i=S.KubernetesApplicationPlacementTypes.MANDATORY,Object(f.a)(r.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms,e=>{Object(f.a)(e.matchExpressions,e=>{const t=new x.KubernetesApplicationPlacementFormValue,i=Object(s.a)(n,{Key:e.key});t.Label=i,t.Value=e.values[0],t.IsNew=!1,a.push(t)})})):r&&r.preferredDuringSchedulingIgnoredDuringExecution&&(i=S.KubernetesApplicationPlacementTypes.PREFERRED,Object(f.a)(r.preferredDuringSchedulingIgnoredDuringExecution,e=>{Object(f.a)(e.preference.matchExpressions,e=>{const t=new x.KubernetesApplicationPlacementFormValue,i=Object(s.a)(n,{Key:e.key});t.Label=i,t.Value=e.values[0],t.IsNew=!1,a.push(t)})})),e.Placements=a,e.PlacementType=i}static generateAffinityFromPlacements(e,t){if(t.DeploymentType===S.KubernetesApplicationDeploymentTypes.REPLICATED){const n=t.Placements,a=new A.KubernetesPodNodeAffinityPayload;let i=Object(g.a)(n,e=>{if(!e.NeedsDeletion){const t=new A.KubernetesNodeSelectorRequirementPayload;return t.key=e.Label.Key,e.Value?(t.operator=k.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.IN,t.values=[e.Value]):(t.operator=k.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.EXISTS,delete t.values),t}});if(i=Object(h.a)(i,void 0),i.length){if(t.PlacementType===S.KubernetesApplicationPlacementTypes.MANDATORY){const e=new A.KubernetesNodeSelectorTermPayload;e.matchExpressions=i,a.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.push(e),delete a.preferredDuringSchedulingIgnoredDuringExecution}else if(t.PlacementType===S.KubernetesApplicationPlacementTypes.PREFERRED){const e=new A.KubernetesPreferredSchedulingTermPayload;e.preference=new A.KubernetesNodeSelectorTermPayload,e.preference.matchExpressions=i,a.preferredDuringSchedulingIgnoredDuringExecution.push(e),delete a.requiredDuringSchedulingIgnoredDuringExecution}e.Affinity=new k.KubernetesPodAffinity,e.Affinity.nodeAffinity=a}}}static getHelmApplications(e){const t=e.filter(e=>e.Metadata.labels&&e.Metadata.labels[P]&&\"Helm\"===e.Metadata.labels[I]),n={};t.forEach(e=>{const t=e.ResourcePool,a=e.Metadata.labels[P];n[t]?n[t][a]=[...n[t][a]||[],e]:n[t]={[a]:[e]}});return Object.values(n).flatMap(e=>Object.entries(e)).map(([e,t])=>{const n=new S.HelmApplication;n.Name=e,n.ApplicationType=S.KubernetesApplicationTypes.HELM,n.ApplicationOwner=t[0].ApplicationOwner,n.KubernetesApplications=t;const a=t.some(e=>e.RunningPodsCount<e.TotalPodsCount);return n.Status=a?\"Not ready\":\"Ready\",n.CreationDate=t.map(e=>e.CreationDate).sort((e,t)=>new Date(e)-new Date(t))[0],n.ResourcePool=t[0].ResourcePool,n.Id=n.ResourcePool+\"-\"+n.Name.toLowerCase().replaceAll(\" \",\"-\"),n})}static getNestedApplications(e){const t=T.getHelmApplications(e),n=[...new Set(t.map(e=>e.Name))];return{helmApplications:t,nonHelmApplications:e.filter(e=>!e.Metadata.labels||!n.includes(e.Metadata.labels[P]))}}}t.default=T},,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesApplicationFormValues\",(function(){return s})),n.d(t,\"KubernetesApplicationConfigurationFormValueOverridenKeyTypes\",(function(){return r})),n.d(t,\"KubernetesApplicationConfigurationFormValueOverridenKey\",(function(){return l})),n.d(t,\"KubernetesApplicationConfigurationFormValue\",(function(){return d})),n.d(t,\"KubernetesApplicationEnvironmentVariableFormValue\",(function(){return p})),n.d(t,\"KubernetesApplicationPersistedFolderFormValue\",(function(){return g})),n.d(t,\"KubernetesApplicationPublishedPortFormValue\",(function(){return h})),n.d(t,\"KubernetesApplicationPlacementFormValue\",(function(){return f})),n.d(t,\"KubernetesApplicationAutoScalerFormValue\",(function(){return b})),n.d(t,\"KubernetesFormValidationReferences\",(function(){return y}));var a=n(74),i=n(3);function s(){this.ApplicationType=void 0,this.ResourcePool={},this.Name=\"\",this.StackName=\"\",this.ApplicationOwner=\"\",this.ImageModel=new a.PorImageRegistryModel,this.Note=\"\",this.MemoryLimit=0,this.CpuLimit=0,this.DeploymentType=i.KubernetesApplicationDeploymentTypes.REPLICATED,this.ReplicaCount=1,this.AutoScaler={},this.Containers=[],this.EnvironmentVariables=[],this.DataAccessPolicy=i.KubernetesApplicationDataAccessPolicies.ISOLATED,this.PersistedFolders=[],this.Configurations=[],this.PublishingType=i.KubernetesApplicationPublishingTypes.CLUSTER_IP,this.PublishedPorts=[],this.PlacementType=i.KubernetesApplicationPlacementTypes.PREFERRED,this.Placements=[],this.OriginalIngresses=void 0,this.IsPublishingService=!1}const r=Object.freeze({NONE:0,ENVIRONMENT:1,FILESYSTEM:2}),o=Object.freeze({Key:\"\",Path:\"\",Type:r.ENVIRONMENT});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}const c=Object.freeze({SelectedConfiguration:void 0,Overriden:!1,OverridenKeys:[]});class d{constructor(){Object.assign(this,JSON.parse(JSON.stringify(c)))}}const u=Object.freeze({Name:\"\",Value:\"\",IsSecret:!1,NeedsDeletion:!1,IsNew:!0,NameIndex:\"\"});class p{constructor(){Object.assign(this,JSON.parse(JSON.stringify(u)))}}const m=Object.freeze({PersistentVolumeClaimName:\"\",NeedsDeletion:!1,ContainerPath:\"\",Size:\"\",SizeUnit:\"GB\",StorageClass:{},ExistingVolume:null,UseNewVolume:!0});class g{constructor(e){Object.assign(this,JSON.parse(JSON.stringify(m))),this.StorageClass=e}}function h(){return{NeedsDeletion:!1,IsNew:!0,ContainerPort:\"\",NodePort:\"\",LoadBalancerPort:\"\",LoadBalancerNodePort:void 0,Protocol:\"TCP\",IngressName:void 0,IngressRoute:void 0,IngressHost:void 0,IngressHosts:[]}}function f(){return{Label:{},Value:\"\",NeedsDeletion:!1,IsNew:!0}}const v=Object.freeze({MinReplicas:0,MaxReplicas:0,TargetCPUUtilization:50,ApiVersion:\"\",IsUsed:!1});class b{constructor(){Object.assign(this,JSON.parse(JSON.stringify(v)))}}function y(){return{refs:{},hasRefs:!1}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesPortainerConfigurationOwnerLabel\",(function(){return a})),n.d(t,\"KubernetesPortainerConfigurationDataAnnotation\",(function(){return i})),n.d(t,\"KubernetesConfiguration\",(function(){return r})),n.d(t,\"KubernetesConfigurationTypes\",(function(){return o}));const a=\"io.portainer.kubernetes.configuration.owner\",i=\"io.portainer.kubernetes.configuration.data\",s=Object.freeze({Id:0,Name:\"\",Type:\"\",Namespace:\"\",CreationDate:\"\",ConfigurationOwner:\"\",Used:!1,Applications:[],Data:{}});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}const o=Object.freeze({CONFIGMAP:1,SECRET:2})},,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return r}));var a=n(16),i=n(195),s=n(252);class r{static isSystemNamespace(e){return Object(s.isSystem)(e)}static isDefaultNamespace(e){return e===i.KUBERNETES_DEFAULT_NAMESPACE}static isDefaultSystemNamespace(e){return Object(a.a)(i.KUBERNETES_DEFAULT_SYSTEM_NAMESPACES,e)}}},,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ResourceControlOwnership\",(function(){return a}));const a=Object.freeze({PUBLIC:\"public\",PRIVATE:\"private\",RESTRICTED:\"restricted\",ADMINISTRATORS:\"administrators\"})},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"RegistryTypes\",(function(){return a}));const a=Object.freeze({ANONYMOUS:0,QUAY:1,AZURE:2,CUSTOM:3,GITLAB:4,PROGET:5,DOCKERHUB:6,ECR:7})},,,,,,function(e,t,n){\"use strict\";function a(e){return{data:e}}n.r(t),n.d(t,\"rawResponse\",(function(){return a}))},function(e,t,n){\"use strict\";function a(e){try{var t=JSON.parse(e);if(t&&\"object\"==typeof t)return t}catch(e){}return!1}function i(e){if(!e)return[];var t=\"[\"+e.replace(/\\n/g,\" \").replace(/\\}\\s*\\{/g,\"}, {\")+\"]\";return angular.fromJson(t)}function s(e){var t={};return e?(a(e)?t=angular.fromJson(e):t.message=e,t):t}function r(e){return{logs:e}}function o(e){var t,n=[];if(a(e))if(t=e,\"[object Array]\"!==Object.prototype.toString.call(t)){var i=angular.fromJson(e);n.push(i)}else n=angular.fromJson(e);else n.push({message:e});return n}n.r(t),n.d(t,\"jsonObjectsToArrayHandler\",(function(){return i})),n.d(t,\"genericHandler\",(function(){return s})),n.d(t,\"logsHandler\",(function(){return r})),n.d(t,\"deleteImageHandler\",(function(){return o}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesPortainerResourceQuotaPrefix\",(function(){return i})),n.d(t,\"KubernetesPortainerResourceQuotaCPULimit\",(function(){return s})),n.d(t,\"KubernetesPortainerResourceQuotaMemoryLimit\",(function(){return r})),n.d(t,\"KubernetesPortainerResourceQuotaCPURequest\",(function(){return o})),n.d(t,\"KubernetesPortainerResourceQuotaMemoryRequest\",(function(){return l})),n.d(t,\"KubernetesResourceQuotaDefaults\",(function(){return c})),n.d(t,\"KubernetesResourceQuota\",(function(){return d}));var a=n(150);const i=\"portainer-rq-\",s=\"limits.cpu\",r=\"limits.memory\",o=\"requests.cpu\",l=\"requests.memory\",c={CpuLimit:0,MemoryLimit:0};function d(e){return{Id:\"\",Namespace:e||\"\",Name:e?a.default.generateResourceQuotaName(e):\"\",CpuLimit:c.CpuLimit,MemoryLimit:c.MemoryLimit,CpuLimitUsed:c.CpuLimit,MemoryLimitUsed:c.MemoryLimit,Yaml:\"\",ResourcePoolName:\"\",ResourcePoolOwner:\"\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesResourceTypes\",(function(){return a})),n.d(t,\"KubernetesResourceActions\",(function(){return i}));const a=Object.freeze({NAMESPACE:\"Namespace\",RESOURCEQUOTA:\"ResourceQuota\",CONFIGMAP:\"ConfigMap\",SECRET:\"Secret\",DEPLOYMENT:\"Deployment\",STATEFULSET:\"StatefulSet\",DAEMONSET:\"Daemonset\",PERSISTENT_VOLUME_CLAIM:\"PersistentVolumeClaim\",SERVICE:\"Service\",INGRESS:\"Ingress\",HORIZONTAL_POD_AUTOSCALER:\"HorizontalPodAutoscaler\"}),i=Object.freeze({CREATE:\"Create\",UPDATE:\"Update\",DELETE:\"Delete\"})},,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesServiceHeadlessPrefix\",(function(){return a})),n.d(t,\"KubernetesServiceHeadlessClusterIP\",(function(){return i})),n.d(t,\"KubernetesServiceTypes\",(function(){return s})),n.d(t,\"KubernetesService\",(function(){return o})),n.d(t,\"KubernetesServicePort\",(function(){return c}));const a=\"headless-\",i=\"None\",s=Object.freeze({LOAD_BALANCER:\"LoadBalancer\",NODE_PORT:\"NodePort\",CLUSTER_IP:\"ClusterIP\"}),r=Object.freeze({Headless:!1,Namespace:\"\",Name:\"\",StackName:\"\",Ports:[],Type:\"\",ClusterIP:\"\",ApplicationName:\"\",ApplicationOwner:\"\",Note:\"\"});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}const l=Object.freeze({name:\"\",port:0,targetPort:0,protocol:\"\",nodePort:0});class c{constructor(){Object.assign(this,JSON.parse(JSON.stringify(l)))}}},,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"AccessControlFormData\",(function(){return i}));var a=n(29);function i(){this.AccessControlEnabled=!0,this.Ownership=a.ResourceControlOwnership.PRIVATE,this.AuthorizedUsers=[],this.AuthorizedTeams=[]}},,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"buildOption\",(function(){return o}));var a=n(1),i=n.n(a),s=n(596);const r=n(1524);function o(e,t,n,a,i,s){return{id:e,icon:t,label:n,description:a,value:i,feature:s}}i.a.module(\"portainer.app\").component(\"boxSelector\",{templateUrl:r,controller:s.default,bindings:{radioName:\"@\",ngModel:\"=\",options:\"<\",onChange:\"<\"}})},,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesPod\",(function(){return s})),n.d(t,\"KubernetesPodToleration\",(function(){return o})),n.d(t,\"KubernetesPodContainer\",(function(){return c})),n.d(t,\"KubernetesPodEviction\",(function(){return u})),n.d(t,\"KubernetesPodContainerTypes\",(function(){return p}));var a=n(452);n.d(t,\"KubernetesPodNodeAffinityNodeSelectorRequirementOperators\",(function(){return a.KubernetesPodNodeAffinityNodeSelectorRequirementOperators})),n.d(t,\"KubernetesPodAffinity\",(function(){return a.KubernetesPodAffinity}));const i=Object.freeze({Id:\"\",Name:\"\",Namespace:\"\",Images:[],Status:\"\",Restarts:0,Node:\"\",CreationDate:\"\",Containers:[],Labels:[],Affinity:{},Tolerations:[],NodeSelector:void 0});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}const r=Object.freeze({Key:\"\",Operator:\"\",Value:\"\",TolerationSeconds:0,Effect:\"\"});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}const l=Object.freeze({Type:0,PodName:\"\",Name:\"\",Image:\"\",ImagePullPolicy:\"\",Node:\"\",CreationDate:\"\",Status:\"\",Limits:{},Requests:{},VolumeMounts:{},ConfigurationVolumes:[],PersistedFolders:[],Env:[]});class c{constructor(){Object.assign(this,JSON.parse(JSON.stringify(l)))}}const d=Object.freeze({apiVersion:\"policy/v1beta1\",kind:\"Eviction\",metadata:{name:\"\",namespace:\"\"}});class u{constructor(){Object.assign(this,JSON.parse(JSON.stringify(d)))}}const p={INIT:1,APP:2}},,function(e,t,n){\"use strict\";n.r(t);var a=n(200),i=n(104),s=n(688),r=n(300);t.default=class{static assignOrDeleteIfEmpty(e,t,n){!n||n instanceof Array&&!n.length?Object(r.a)(e,t):Object(s.a)(e,t,n)}static ownerToLabel(e){let t=Object(i.a)(e,/[^-A-Za-z0-9_.]/g,\".\");return t=Object(a.a)(t,{length:63,omission:\"\"}),t=Object(i.a)(t,/^[-_.]*/g,\"\"),t=Object(i.a)(t,/[-_.]*$/g,\"\"),t}static assignOrDeleteIfEmptyOrZero(e,t,n){!n||0===n||n instanceof Array&&!n.length?Object(r.a)(e,t):Object(s.a)(e,t,n)}}},,,,,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesCommonMetadataPayload\",(function(){return i}));const a=Object.freeze({uid:\"\",name:\"\",namespace:\"\",labels:{},annotations:{}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesIngressConverter\",(function(){return S}));var a=n(32),i=n(122),s=n(28),r=n(269),o=n(2111),l=n(817),c=n(85),d=n(33),u=n(5),p=n(7),m=n(413),g=n(68),h=n(2),f=n(41),v=n(53),b=n(51),y=n(73),w=n(3),x=n(205),$=n(303),C=n(87);class S{static apiToModel(e){const t=Object(f.a)(e.spec.rules,t=>t.http?Object(h.a)(t.http.paths,n=>{const a=new x.KubernetesIngressRule;return a.IngressName=e.metadata.name,a.ServiceName=n.backend.service.name,a.Host=t.host||\"\",a.IP=e.status.loadBalancer.ingress?e.status.loadBalancer.ingress[0].ip:void 0,a.Port=n.backend.service.port.number,a.Path=n.path,a}):[]),n=new x.KubernetesIngress;n.Name=e.metadata.name,n.Namespace=e.metadata.namespace,n.Annotations=e.metadata.annotations||{},n.IngressClassName=e.metadata.annotations&&e.metadata.annotations[C.KubernetesIngressClassAnnotation]?e.metadata.annotations[C.KubernetesIngressClassAnnotation]:e.spec.ingressClassName,n.Paths=t,n.Hosts=Object(g.a)(Object(h.a)(e.spec.rules,\"host\"));const a=Object(m.a)(n.Hosts,e=>void 0===e);return a>=0&&n.Hosts.splice(a,1,\"\"),n}static applicationFormValuesToIngresses(e,t){const n=e.PublishingType===w.KubernetesApplicationPublishingTypes.INGRESS,a=angular.copy(e.OriginalIngresses);return Object(p.a)(e.PublishedPorts,e=>{const i=Object(u.a)(a,{Name:e.IngressName});if(i)if(e.NeedsDeletion)Object(d.a)(i.Paths,n=>n.Port===e.ContainerPort&&n.ServiceName===t&&n.Path===e.IngressRoute);else if(n&&e.IsNew){const n=new x.KubernetesIngressRule;n.IngressName=i.Name,n.ServiceName=t,n.Port=e.ContainerPort,e.IngressRoute&&(n.Path=Object(c.a)(e.IngressRoute,\"/\")?e.IngressRoute:\"/\"+e.IngressRoute),n.Host=e.IngressHost,i.Paths.push(n)}}),a}static resourcePoolIngressClassFormValueToIngress(e){const t=new x.KubernetesIngress;t.Name=e.IngressClass.Name,t.Namespace=e.Namespace;const n=Object(h.a)(e.Annotations,e=>[e.Key,e.Value]);return t.Annotations=Object(l.a)(n),e.RewriteTarget&&Object(o.a)(t.Annotations,C.KubernetesIngressClassRewriteTargetAnnotations[e.IngressClass.Type]),t.Annotations[C.KubernetesIngressClassAnnotation]=e.IngressClass.Name,t.Hosts=e.Hosts,t.Paths=e.Paths,t}static ingressClassesToFormValues(e,t){return Object(h.a)(e,e=>{const n=new y.KubernetesResourcePoolIngressClassFormValue(e),a=Object(u.a)(t,{Name:e.Name});if(a){n.Selected=!0,n.WasSelected=!0,n.Hosts=Object(h.a)(a.Hosts,e=>{const t=new y.KubernetesResourcePoolIngressClassHostFormValue;return t.Host=e,t.PreviousHost=e,t.IsNew=!1,t});const[[t]]=Object(r.a)(C.KubernetesIngressClassRewriteTargetAnnotations[e.Type]),i=Object(h.a)(Object(r.a)(a.Annotations),([e,a])=>{if(e===t)n.RewriteTarget=!0;else if(e!==C.KubernetesIngressClassAnnotation){const t=new y.KubernetesResourcePoolIngressClassAnnotationFormValue;return t.Key=e,t.Value=a,t}});n.Annotations=Object(s.a)(i,void 0),n.AdvancedConfig=n.Annotations.length>0,n.Paths=a.Paths}return n})}static createPayload(e){const t=new $.KubernetesIngressCreatePayload;if(t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.annotations=e.Annotations,e.Paths&&e.Paths.length){Object(p.a)(e.Paths,e=>{\"undefined\"!==e.Host&&void 0!==e.Host||(e.Host=\"\")});const n=[],r=Object(i.a)(e.Paths,\"Host\");let o=Object(h.a)(r,(t,a)=>{const i=Object(u.a)(e.Hosts,e=>e===a||e.PreviousHost===a);if(a=i.Host||i,i.NeedsDeletion)return;const s=new $.KubernetesIngressRuleCreatePayload;return b.default.assignOrDeleteIfEmpty(s,\"host\",a),s.http.paths=Object(h.a)(t,e=>{const t=new $.KubernetesIngressRulePathCreatePayload;return t.path=e.Path,t.backend.service.name=e.ServiceName,t.backend.service.port.number=e.Port,t}),n.push(a),s});o=Object(s.a)(o,void 0);const l=Object(s.a)(Object(h.a)(e.Hosts,e=>e.NeedsDeletion?void 0:e.Host||e),void 0),c=Object(s.a)(l,...n),d=Object(h.a)(c,e=>({host:e}));o=Object(a.a)(o,d),b.default.assignOrDeleteIfEmpty(t,\"spec.rules\",o)}else e.Hosts?(t.spec.rules=[],Object(p.a)(e.Hosts,e=>{e.NeedsDeletion||t.spec.rules.push({host:e.Host||e})})):delete t.spec.rules;return t}static patchPayload(e,t){const n=S.createPayload(e),a=S.createPayload(t);return v.a(n,a)}}},,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EDITIONS\",(function(){return a})),n.d(t,\"STATES\",(function(){return i}));const a={CE:0,BE:1},i={HIDDEN:0,VISIBLE:1,LIMITED_BE:2}},,,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ResourceControlViewModel\",(function(){return i}));var a=n(29);function i(e){var t;this.Id=e.Id,this.Type=e.Type,this.ResourceId=e.ResourceId,this.UserAccesses=e.UserAccesses,this.TeamAccesses=e.TeamAccesses,this.Public=e.Public,this.System=e.System,this.Ownership=(t=this).Public?a.ResourceControlOwnership.PUBLIC:1===t.UserAccesses.length&&0===t.TeamAccesses.length?a.ResourceControlOwnership.PRIVATE:t.UserAccesses.length>1||t.TeamAccesses.length>0?a.ResourceControlOwnership.RESTRICTED:a.ResourceControlOwnership.ADMINISTRATORS}},function(e,t,n){\"use strict\";n.r(t);var a=n(122),i=n(7);t.default=class{static getInvalidKeys(e){const t={};return Object(i.a)(e,(e,n)=>{/^[-._a-zA-Z0-9]+$/.test(e)||(t[n]=!0)}),t}static getDuplicates(e){const t=Object(a.a)(e),n={};return Object(i.a)(e,(e,a)=>{e&&t[e].length>1&&(n[a]=e)}),n}}},,function(e,t,n){\"use strict\";function a(e){this.Name=\"\",this.MemoryLimit=e.MemoryLimit,this.CpuLimit=e.CpuLimit,this.HasQuota=!1,this.IngressClasses=[],this.Registries=[],this.EndpointId=0,this.IsSystem=!1}function i(e){return{Namespace:void 0,IngressClass:e,RewriteTarget:!1,Annotations:[],Hosts:[],Selected:!1,WasSelected:!1,AdvancedConfig:!1,Paths:[]}}function s(){return{Key:\"\",Value:\"\"}}function r(){return{Host:\"\",PreviousHost:\"\",NeedsDeletion:!1,IsNew:!0}}n.r(t),n.d(t,\"KubernetesResourcePoolFormValues\",(function(){return a})),n.d(t,\"KubernetesResourcePoolIngressClassFormValue\",(function(){return i})),n.d(t,\"KubernetesResourcePoolIngressClassAnnotationFormValue\",(function(){return s})),n.d(t,\"KubernetesResourcePoolIngressClassHostFormValue\",(function(){return r}))},function(e,t,n){\"use strict\";function a(){this.UseRegistry=!0,this.Registry={},this.Image=\"\"}n.r(t),n.d(t,\"PorImageRegistryModel\",(function(){return a}))},,,,,,function(e,t,n){\"use strict\";n.r(t);var a=n(34),i=n(2),s=n(7),r=n(16),o=n(85),l=n(5),c=n(6),d=n(267),u=n.n(d),p=n(25),m=n(86);class g{static getUsingApplications(e,t){return Object(c.a)(t,t=>{let n,a;return e.Type===p.KubernetesConfigurationTypes.CONFIGMAP?(n=Object(l.a)(t.Env,{valueFrom:{configMapKeyRef:{name:e.Name}}}),a=Object(l.a)(t.Volumes,{configMap:{name:e.Name}})):(n=Object(l.a)(t.Env,{valueFrom:{secretKeyRef:{name:e.Name}}}),a=Object(l.a)(t.Volumes,{secret:{secretName:e.Name}})),n||a})}static isSystemToken(e){return Object(o.a)(e.Name,\"default-token-\")}static isBinary(e){return\"\"!==e&&!Object(r.a)(e,\"ISO\")&&!Object(r.a)(e,\"UTF\")}static setConfigurationUsed(e){e.Used=e.Applications&&0!==e.Applications.length}static setConfigurationsUsed(e,t){Object(s.a)(e,e=>{e.Applications=g.getUsingApplications(e,t),g.setConfigurationUsed(e)})}static getApplicationConfigurations(e,t){const n=t.filter(t=>0!==g.getUsingApplications(t,e).length);return e.map(e=>{const t=n.filter(t=>e.ApplicationName===t.Name&&e.ResourcePool===t.Namespace),a=n.filter(t=>e.ConfigurationVolumes.some(e=>e.configurationName===t.Name)).filter(e=>!t.some(t=>t.Name===e.Name));return e.Configurations=[...t,...a],e})}static parseYaml(e){u.a.defaultOptions.customTags=[\"binary\"];return Object(i.a)(u.a.parse(e.DataYaml),(t,n)=>{const a=new m.KubernetesConfigurationFormValuesEntry;a.Key=n,a.Value=t;const i=Object(l.a)(e.Data,{Key:a.Key});return a.IsBinary=!!i&&i.IsBinary,a})}static parseData(e){if(!e.Data.length)return\"\";const t=Object(a.a)(e.Data,(e,t)=>(e[t.Key]=t.Value,e),{});return u.a.stringify(t)}static isExternalConfiguration(e){return!e.ConfigurationOwner}}t.default=g},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesPortainerConfigMapNamespace\",(function(){return a})),n.d(t,\"KubernetesPortainerConfigMapConfigName\",(function(){return i})),n.d(t,\"KubernetesPortainerConfigMapAccessKey\",(function(){return s})),n.d(t,\"KubernetesPortainerAccessConfigMap\",(function(){return r})),n.d(t,\"KubernetesConfigMap\",(function(){return l}));const a=\"portainer\",i=\"portainer-config\",s=\"NamespaceAccessPolicies\";function r(){return{Id:0,Name:i,Namespace:a,Data:{}}}const o=Object.freeze({Id:0,Name:\"\",Namespace:\"\",Yaml:\"\",ConfigurationOwner:\"\",Data:[]});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}},function(e,t,n){\"use strict\";n.r(t);var a=n(68),i=n(6),s=n(34),r=n(41),o=n(32),l=n(28),c=n(5),d=n(7),u=n(2),p=n(56),m=n.n(p),g=n(3),h=n(42),f=n(20),v=n(24),b=n(22),y=n(253),w=n(254),x=n(255),$=n(169),C=n(126),S=n(11),k=n(607),A=n(51);class P{static applicationCommon(e,t,n,p,v){const y=t.spec.template?Object(l.a)(Object(o.a)(t.spec.template.spec.containers,t.spec.template.spec.initContainers),void 0):t.spec.containers;if(e.Id=t.metadata.uid,e.Name=t.metadata.name,e.Metadata=t.metadata,t.metadata.labels){const{labels:n}=t.metadata;e.StackId=n[g.KubernetesPortainerApplicationStackIdLabel]?parseInt(n[g.KubernetesPortainerApplicationStackIdLabel],10):null,e.StackName=n[g.KubernetesPortainerApplicationStackNameLabel]||\"\",e.ApplicationKind=n[g.KubernetesPortainerApplicationKindLabel]||\"\",e.ApplicationOwner=n[g.KubernetesPortainerApplicationOwnerLabel]||\"\",e.ApplicationName=n[g.KubernetesPortainerApplicationNameLabel]||e.Name}e.Note=t.metadata.annotations&&t.metadata.annotations[g.KubernetesPortainerApplicationNote]||\"\",e.ResourcePool=t.metadata.namespace,y.length&&(e.Image=y[0].image),t.spec.template&&t.spec.template.spec&&t.spec.template.spec.imagePullSecrets&&t.spec.template.spec.imagePullSecrets.length&&(e.RegistryId=parseInt(t.spec.template.spec.imagePullSecrets[0].name.replace(\"registry-\",\"\"),10)),e.CreationDate=t.metadata.creationTimestamp,e.Env=Object(l.a)(Object(r.a)(Object(u.a)(y,\"env\")),void 0),e.Pods=t.spec.selector?b.default.associatePodsAndApplication(n,t.spec.selector):[t];e.Limits=Object(s.a)(y,(e,t)=>(t.resources.limits&&t.resources.limits.cpu&&(e.Cpu+=f.default.parseCPU(t.resources.limits.cpu)),t.resources.limits&&t.resources.limits.memory&&(e.Memory+=m()(t.resources.limits.memory,{base:10})),e),{Cpu:0,Memory:0});if(e.Requests=Object(s.a)(y,(e,t)=>(t.resources.requests&&t.resources.requests.cpu&&(e.Cpu+=f.default.parseCPU(t.resources.requests.cpu)),t.resources.requests&&t.resources.requests.memory&&(e.Memory+=m()(t.resources.requests.memory,{base:10})),e),{Cpu:0,Memory:0}),p){const t=p.spec.type;e.ServiceType=t,e.ServiceId=p.metadata.uid,e.ServiceName=p.metadata.name,t===h.KubernetesServiceTypes.LOAD_BALANCER&&p.status.loadBalancer.ingress&&p.status.loadBalancer.ingress.length>0&&(e.LoadBalancerIPAddress=p.status.loadBalancer.ingress[0].ip||p.status.loadBalancer.ingress[0].hostname);const n=Object(o.a)(...Object(u.a)(y,e=>e.ports)),a=function(e,t){const n=Object(u.a)(e,e=>{const t=new g.KubernetesApplicationPort;return t.Port=e.port,t.TargetPort=e.targetPort,t.NodePort=e.nodePort,t.Protocol=e.protocol,t});return Object(d.a)(n,e=>{if(isNaN(e.TargetPort)){const n=Object(c.a)(t,{name:e.TargetPort});n&&(e.TargetPort=n.containerPort)}}),n}(p.spec.ports,n),s=k.KubernetesIngressHelper.findSBoundServiceIngressesRules(v,p.metadata.name);Object(d.a)(a,e=>e.IngressRules=Object(i.a)(s,t=>t.Port===e.Port)),e.PublishedPorts=a}if(t.spec.template?e.Volumes=t.spec.template.spec.volumes?t.spec.template.spec.volumes:[]:e.Volumes=t.spec.volumes,t.spec.volumeClaimTemplates){const n=Object(u.a)(t.spec.volumeClaimTemplates,e=>({name:e.metadata.name,persistentVolumeClaim:{claimName:e.metadata.name}})),a=Object(i.a)(n,t=>!Object(c.a)(e.Volumes,{persistentVolumeClaim:{claimName:t.persistentVolumeClaim.claimName}}));e.Volumes=Object(o.a)(e.Volumes,a)}const w=Object(i.a)(e.Volumes,e=>e.persistentVolumeClaim||e.hostPath);e.PersistedFolders=Object(u.a)(w,e=>{const t=Object(a.a)(Object(r.a)(Object(u.a)(y,\"volumeMounts\")),\"name\"),n=Object(c.a)(t,{name:e.name});if(n){const t=new g.KubernetesApplicationPersistedFolder;return t.MountPath=n.mountPath,e.persistentVolumeClaim?t.PersistentVolumeClaimName=e.persistentVolumeClaim.claimName:t.HostPath=e.hostPath.path,t}}),e.PersistedFolders=Object(l.a)(e.PersistedFolders,void 0),e.ConfigurationVolumes=Object(s.a)(e.Volumes,(e,t)=>{if(t.configMap||t.secret){const n=Object(c.a)(Object(r.a)(Object(u.a)(y,\"volumeMounts\")),{name:t.name});if(n){let a=[],i=\"\";if(t.configMap?(a=t.configMap.items,i=t.configMap.name):(a=t.secret.items,i=t.secret.secretName),a)Object(d.a)(a,t=>{const a=new g.KubernetesApplicationConfigurationVolume;a.fileMountPath=n.mountPath+\"/\"+t.path,a.rootMountPath=n.mountPath,a.configurationKey=t.key,a.configurationName=i,e.push(a)});else{const t=new g.KubernetesApplicationConfigurationVolume;t.fileMountPath=n.mountPath,t.rootMountPath=n.mountPath,t.configurationName=i,e.push(t)}}}return e},[])}static apiPodToApplication(e,t,n,a){const i=new g.KubernetesApplication;return P.applicationCommon(i,e,t,n,a),i.ApplicationType=g.KubernetesApplicationTypes.POD,i}static apiDeploymentToApplication(e,t,n,a){const i=new g.KubernetesApplication;return P.applicationCommon(i,e,t,n,a),i.ApplicationType=g.KubernetesApplicationTypes.DEPLOYMENT,i.DeploymentType=g.KubernetesApplicationDeploymentTypes.REPLICATED,i.DataAccessPolicy=g.KubernetesApplicationDataAccessPolicies.SHARED,i.RunningPodsCount=e.status.availableReplicas||e.status.replicas-e.status.unavailableReplicas||0,i.TotalPodsCount=e.spec.replicas,i}static apiDaemonSetToApplication(e,t,n,a){const i=new g.KubernetesApplication;return P.applicationCommon(i,e,t,n,a),i.ApplicationType=g.KubernetesApplicationTypes.DAEMONSET,i.DeploymentType=g.KubernetesApplicationDeploymentTypes.GLOBAL,i.DataAccessPolicy=g.KubernetesApplicationDataAccessPolicies.SHARED,i.RunningPodsCount=e.status.numberAvailable||e.status.desiredNumberScheduled-e.status.numberUnavailable||0,i.TotalPodsCount=e.status.desiredNumberScheduled,i}static apiStatefulSetToapplication(e,t,n,a){const i=new g.KubernetesApplication;return P.applicationCommon(i,e,t,n,a),i.ApplicationType=g.KubernetesApplicationTypes.STATEFULSET,i.DeploymentType=g.KubernetesApplicationDeploymentTypes.REPLICATED,i.DataAccessPolicy=g.KubernetesApplicationDataAccessPolicies.ISOLATED,i.RunningPodsCount=e.status.readyReplicas||0,i.TotalPodsCount=e.spec.replicas,i.HeadlessServiceName=e.spec.serviceName,i}static applicationToFormValues(e,t,n,a,s,r){const o=new v.KubernetesApplicationFormValues;o.ApplicationType=e.ApplicationType,o.ResourcePool=Object(c.a)(t,[\"Namespace.Name\",e.ResourcePool]),o.Name=e.Name,o.StackName=e.StackName,o.ApplicationOwner=e.ApplicationOwner,o.ImageModel.Image=e.Image,o.ImageModel.Registry.Id=e.RegistryId,o.ReplicaCount=e.TotalPodsCount,o.MemoryLimit=f.default.megaBytesValue(e.Limits.Memory),o.CpuLimit=e.Limits.Cpu,o.DeploymentType=e.DeploymentType,o.DataAccessPolicy=e.DataAccessPolicy,o.EnvironmentVariables=b.default.generateEnvVariablesFromEnv(e.Env),o.PersistedFolders=b.default.generatePersistedFoldersFormValuesFromPersistedFolders(e.PersistedFolders,a),o.Configurations=b.default.generateConfigurationFormValuesFromEnvAndVolumes(e.Env,e.ConfigurationVolumes,n),o.AutoScaler=b.default.generateAutoScalerFormValueFromHorizontalPodAutoScaler(e.AutoScaler,o.ReplicaCount),o.PublishedPorts=b.default.generatePublishedPortsFormValuesFromPublishedPorts(e.ServiceType,e.PublishedPorts,r),o.Containers=e.Containers;const l=Object(i.a)(o.PublishedPorts,e=>e.IngressName).length;return e.ServiceType===h.KubernetesServiceTypes.LOAD_BALANCER?o.PublishingType=g.KubernetesApplicationPublishingTypes.LOAD_BALANCER:e.ServiceType===h.KubernetesServiceTypes.NODE_PORT?o.PublishingType=g.KubernetesApplicationPublishingTypes.NODE_PORT:e.ServiceType===h.KubernetesServiceTypes.CLUSTER_IP&&l?o.PublishingType=g.KubernetesApplicationPublishingTypes.INGRESS:o.PublishingType=g.KubernetesApplicationPublishingTypes.CLUSTER_IP,e.Pods&&e.Pods.length&&b.default.generatePlacementsFormValuesFromAffinity(o,e.Pods[0].Affinity,s),o}static applicationFormValuesToApplication(e){e.ApplicationOwner=A.default.ownerToLabel(e.ApplicationOwner);const t=C.default.applicationFormValuesToVolumeClaims(e),n=b.default.hasRWX(t),a=e.DeploymentType===g.KubernetesApplicationDeploymentTypes.REPLICATED&&(0===t.length||t.length>0&&e.DataAccessPolicy===g.KubernetesApplicationDataAccessPolicies.SHARED)||e.ApplicationType===g.KubernetesApplicationTypes.DEPLOYMENT,i=e.DeploymentType===g.KubernetesApplicationDeploymentTypes.REPLICATED&&t.length>0&&e.DataAccessPolicy===g.KubernetesApplicationDataAccessPolicies.ISOLATED||e.ApplicationType===g.KubernetesApplicationTypes.STATEFULSET,s=e.DeploymentType===g.KubernetesApplicationDeploymentTypes.GLOBAL&&(0===t.length||t.length>0&&e.DataAccessPolicy===g.KubernetesApplicationDataAccessPolicies.SHARED&&n)||e.ApplicationType===g.KubernetesApplicationTypes.DAEMONSET;let r,o;if(a)r=y.default.applicationFormValuesToDeployment(e,t);else if(i)r=x.default.applicationFormValuesToStatefulSet(e,t);else{if(!s)throw new S.default(\"Unable to determine which association to use to convert form\");r=w.default.applicationFormValuesToDaemonSet(e,t)}i&&(o=$.default.applicationFormValuesToHeadlessService(e));let l=$.default.applicationFormValuesToService(e);return l.Ports.length||(l=void 0),[r,o,l,t]}}t.default=P},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesPortainerNodeDrainLabel\",(function(){return a})),n.d(t,\"KubernetesNode\",(function(){return s})),n.d(t,\"KubernetesNodeDetails\",(function(){return o})),n.d(t,\"KubernetesNodeTaint\",(function(){return c})),n.d(t,\"KubernetesNodeAvailabilities\",(function(){return d})),n.d(t,\"KubernetesNodeTaintEffects\",(function(){return u}));const a=\"io.portainer/node-status-drain\",i=Object.freeze({Id:\"\",Name:\"\",Labels:{},Role:\"\",Status:\"\",CPU:0,Memory:\"\",Version:\"\",IPAddress:\"\",Api:!1,Taints:[],Port:0,Availability:\"\"});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}const r=Object.freeze({CreationDate:\"\",OS:{Architecture:\"\",Platform:\"\",Image:\"\"},Conditions:[],Yaml:\"\"});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i))),Object.assign(this,JSON.parse(JSON.stringify(r)))}}const l=Object.freeze({Key:\"\",Value:\"\",Effect:\"\"});class c{constructor(){Object.assign(this,JSON.parse(JSON.stringify(l)))}}const d=Object.freeze({ACTIVE:\"Active\",PAUSE:\"Pause\",DRAIN:\"Drain\"}),u=Object.freeze({NOSCHEDULE:\"NoSchedule\",PREFERNOSCHEDULE:\"PreferNoSchedule\",NOEXECUTE:\"NoExecute\"})},,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesConfigurationFormValues\",(function(){return s})),n.d(t,\"KubernetesConfigurationFormValuesEntry\",(function(){return o}));var a=n(25);const i=Object.freeze({Id:\"\",ResourcePool:\"\",Name:\"\",ConfigurationOwner:\"\",Type:a.KubernetesConfigurationTypes.CONFIGMAP,Data:[],DataYaml:\"\",IsSimple:!0});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}const r=Object.freeze({Key:\"\",Value:\"\",IsBinary:!1});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesIngressClassAnnotation\",(function(){return a})),n.d(t,\"KubernetesIngressClassRewriteTargetAnnotations\",(function(){return i})),n.d(t,\"KubernetesIngressClassTypes\",(function(){return s}));const a=\"kubernetes.io/ingress.class\",i=Object.freeze({nginx:{\"nginx.ingress.kubernetes.io/rewrite-target\":\"/\"},traefik:{\"traefik.ingress.kubernetes.io/rewrite-target\":\"/\"}}),s=Object.freeze({NGINX:\"nginx\",TRAEFIK:\"traefik\"})},function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(200),s=n(2),r=n(32),o=n(300),l=n(81),c=n(301),d=n(25),u=n(86);class p{static apiToPortainerAccessConfigMap(e){const t=new l.KubernetesPortainerAccessConfigMap;return t.Id=e.metadata.uid,t.Data=e.data,t}static createAccessPayload(e){const t=new c.KubernetesConfigMapCreatePayload;return Object(o.a)(t,\"binaryData\"),t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.data=e.Data,t}static updateAccessPayload(e){const t=p.createAccessPayload(e);return t.metadata.uid=e.Id,t}static apiToConfigMap(e,t){const n=new l.KubernetesConfigMap;return n.Id=e.metadata.uid,n.Name=e.metadata.name,n.Namespace=e.metadata.namespace,n.ConfigurationOwner=e.metadata.labels?e.metadata.labels[d.KubernetesPortainerConfigurationOwnerLabel]:\"\",n.CreationDate=e.metadata.creationTimestamp,n.Yaml=t?t.data:\"\",n.Data=Object(r.a)(Object(s.a)(e.data,(e,t)=>{const n=new u.KubernetesConfigurationFormValuesEntry;return n.Key=t,n.Value=e,n}),Object(s.a)(e.binaryData,(e,t)=>{const n=new u.KubernetesConfigurationFormValuesEntry;return n.Key=t,n.Value=e,n.IsBinary=!0,n})),n}static defaultConfigMap(e,t){const n=new l.KubernetesConfigMap;return n.Name=t,n.Namespace=e,n}static createPayload(e){const t=new c.KubernetesConfigMapCreatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace;const n=Object(i.a)(e.ConfigurationOwner,{length:63,omission:\"\"});return t.metadata.labels[d.KubernetesPortainerConfigurationOwnerLabel]=n,Object(a.a)(e.Data,e=>{e.IsBinary?t.binaryData[e.Key]=e.Value:t.data[e.Key]=e.Value}),t}static updatePayload(e){const t=new c.KubernetesConfigMapUpdatePayload;return t.metadata.uid=e.Id,t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[d.KubernetesPortainerConfigurationOwnerLabel]=e.ConfigurationOwner,Object(a.a)(e.Data,e=>{e.IsBinary?t.binaryData[e.Key]=e.Value:t.data[e.Key]=e.Value}),t}static configurationFormValuesToConfigMap(e){const t=new l.KubernetesConfigMap;return t.Id=e.Id,t.Name=e.Name,t.Namespace=e.ResourcePool.Namespace.Name,t.ConfigurationOwner=e.ConfigurationOwner,t.Data=e.Data,t}}t.default=p},,,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"truncateLeftRight\",(function(){return c})),n.d(t,\"stripProtocol\",(function(){return d})),n.d(t,\"humanize\",(function(){return u})),n.d(t,\"isoDateFromTimestamp\",(function(){return p})),n.d(t,\"isoDate\",(function(){return m})),n.d(t,\"getPairKey\",(function(){return g})),n.d(t,\"getPairValue\",(function(){return h})),n.d(t,\"ipAddress\",(function(){return f})),n.d(t,\"arrayToStr\",(function(){return v})),n.d(t,\"labelsToStr\",(function(){return b})),n.d(t,\"endpointTypeName\",(function(){return y})),n.d(t,\"endpointTypeIcon\",(function(){return w})),n.d(t,\"ownershipIcon\",(function(){return x})),n.d(t,\"truncate\",(function(){return $})),n.d(t,\"endpointStatusBadge\",(function(){return C}));var a=n(117),i=n(17),s=n.n(i),r=n(172),o=n.n(r),l=n(29);function c(e,t,n,a){return t=isNaN(t)?50:t,n=isNaN(n)?25:n,a=isNaN(a)?25:a,e.length<=t?e:e.substring(0,n)+\"[...]\"+e.substring(e.length-a,e.length)}function d(e){return e.replace(/.*?:\\/\\//g,\"\")}function u(e,t,n){if(t||(t=1),n||(n=10),e||0===e)return o()(e,{base:n,round:t})}function p(e){return s.a.unix(e).format(\"YYYY-MM-DD HH:mm:ss\")}function m(e){return s()(e).format(\"YYYY-MM-DD HH:mm:ss\")}function g(e,t){return e.includes(t)?e.slice(0,e.indexOf(t)):e}function h(e,t){return e.includes(t)?e.slice(e.indexOf(t)+1):\"\"}function f(e){return e.slice(0,e.indexOf(\"/\"))}function v(e,t){return e?Object(a.a)(e,t):\"\"}function b(e,t){return e?Object(a.a)(e.map(e=>e.key+\":\"+e.value),t):\"\"}function y(e){return 1===e?\"Docker\":2===e||6===e?\"Agent\":3===e?\"Azure ACI\":5===e?\"Kubernetes\":4===e||7===e?\"Edge Agent\":\"\"}function w(e){return 3===e?\"fab fa-microsoft\":4===e?\"fa fa-cloud\":5===e||6===e||7===e?\"fas fa-dharmachakra\":\"fab fa-docker\"}function x(e){switch(e){case l.ResourceControlOwnership.PRIVATE:case l.ResourceControlOwnership.ADMINISTRATORS:return\"fa fa-eye-slash\";case l.ResourceControlOwnership.RESTRICTED:return\"fa fa-users\";default:return\"fa fa-eye\"}}function $(e,t,n){return isNaN(t)&&(t=10),void 0===n&&(n=\"...\"),e.length<=t||e.length-n.length<=t?e:String(e).substring(0,t-n.length)+n}function C(e){return 2===e?\"danger\":\"success\"}},,,,,,function(e,t,n){\"use strict\";n.r(t);var a=n(16),i=n(85),s=n(2),r=n(28),o=n(6),l=n(95),c=n.n(l),d=n(3);t.default=class{static getUsingApplications(e,t){return Object(o.a)(t,t=>{const n=Object(r.a)(Object(s.a)(t.Volumes,\"persistentVolumeClaim.claimName\"),void 0),l=Object(o.a)(n,t=>Object(i.a)(e.PersistentVolumeClaim.Name,t));return e.ResourcePool.Namespace.Name===t.ResourcePool&&l.length&&(t.ApplicationType!==d.KubernetesApplicationTypes.STATEFULSET||Object(a.a)(e.PersistentVolumeClaim.Name,t.Name))})}static isUsed(e){return 0!==e.Applications.length}static generatedApplicationConfigVolumeName(e){return\"config-\"+e+\"-\"+c()()}static isExternalVolume(e){return!e.PersistentVolumeClaim.ApplicationOwner}}},,function(e,t,n){\"use strict\";function a(e,t,n,a){this.ID=e,this.Name=t,this.Description=n,this.Authorizations=a}n.r(t),n.d(t,\"RoleViewModel\",(function(){return a})),n.d(t,\"RoleTypes\",(function(){return i}));const i=Object.freeze({ENDPOINT_ADMIN:1,HELPDESK:2,STANDARD:3,READ_ONLY:4,OPERATOR:5})},,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"PORTAINER_FADEOUT\",(function(){return a})),n.d(t,\"STACK_NAME_VALIDATION_REGEX\",(function(){return i})),n.d(t,\"TEMPLATE_NAME_VALIDATION_REGEX\",(function(){return s})),n.d(t,\"BROWSER_OS_PLATFORM\",(function(){return r})),n.d(t,\"NEW_LINE_BREAKER\",(function(){return o})),angular.module(\"portainer\").constant(\"API_ENDPOINT_AUTH\",\"api/auth\").constant(\"API_ENDPOINT_KUBERNETES\",\"api/kubernetes\").constant(\"API_ENDPOINT_CUSTOM_TEMPLATES\",\"api/custom_templates\").constant(\"API_ENDPOINT_EDGE_GROUPS\",\"api/edge_groups\").constant(\"API_ENDPOINT_EDGE_JOBS\",\"api/edge_jobs\").constant(\"API_ENDPOINT_EDGE_STACKS\",\"api/edge_stacks\").constant(\"API_ENDPOINT_EDGE_TEMPLATES\",\"api/edge_templates\").constant(\"API_ENDPOINT_ENDPOINTS\",\"api/endpoints\").constant(\"API_ENDPOINT_ENDPOINT_GROUPS\",\"api/endpoint_groups\").constant(\"API_ENDPOINT_MOTD\",\"api/motd\").constant(\"API_ENDPOINT_REGISTRIES\",\"api/registries\").constant(\"API_ENDPOINT_RESOURCE_CONTROLS\",\"api/resource_controls\").constant(\"API_ENDPOINT_SETTINGS\",\"api/settings\").constant(\"API_ENDPOINT_STACKS\",\"api/stacks\").constant(\"API_ENDPOINT_STATUS\",\"api/status\").constant(\"API_ENDPOINT_SUPPORT\",\"api/support\").constant(\"API_ENDPOINT_USERS\",\"api/users\").constant(\"API_ENDPOINT_TAGS\",\"api/tags\").constant(\"API_ENDPOINT_TEAMS\",\"api/teams\").constant(\"API_ENDPOINT_TEAM_MEMBERSHIPS\",\"api/team_memberships\").constant(\"API_ENDPOINT_TEMPLATES\",\"api/templates\").constant(\"API_ENDPOINT_WEBHOOKS\",\"api/webhooks\").constant(\"API_ENDPOINT_BACKUP\",\"api/backup\").constant(\"DEFAULT_TEMPLATES_URL\",\"https://raw.githubusercontent.com/portainer/templates/master/templates.json\").constant(\"PAGINATION_MAX_ITEMS\",10).constant(\"APPLICATION_CACHE_VALIDITY\",3600).constant(\"CONSOLE_COMMANDS_LABEL_PREFIX\",\"io.portainer.commands.\").constant(\"PREDEFINED_NETWORKS\",[\"host\",\"bridge\",\"none\"]);const a=1500,i=\"^[-_a-z0-9]+$\",s=\"^[-_a-z0-9]+$\",r=navigator.userAgent.indexOf(\"Windows NT\")>-1?\"win\":\"lin\",o=\"win\"===r?\"\\r\\n\":\"\\n\"},,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesHorizontalPodAutoScalerConverter\",(function(){return r}));var a=n(53),i=n(399),s=n(617);class r{static apiToModel(e,t){const n=new i.KubernetesHorizontalPodAutoScaler;return n.Id=e.metadata.uid,n.Namespace=e.metadata.namespace,n.Name=e.metadata.name,n.MinReplicas=e.spec.minReplicas,n.MaxReplicas=e.spec.maxReplicas,n.TargetCPUUtilization=e.spec.targetCPUUtilizationPercentage,e.spec.scaleTargetRef&&(n.TargetEntity.ApiVersion=e.spec.scaleTargetRef.apiVersion,n.TargetEntity.Kind=e.spec.scaleTargetRef.kind,n.TargetEntity.Name=e.spec.scaleTargetRef.name),n.Yaml=t?t.data:\"\",n}static createPayload(e){const t=new s.KubernetesHorizontalPodAutoScalerCreatePayload;return t.metadata.namespace=e.Namespace,t.metadata.name=e.TargetEntity.Name,t.spec.minReplicas=e.MinReplicas,t.spec.maxReplicas=e.MaxReplicas,t.spec.targetCPUUtilizationPercentage=e.TargetCPUUtilization,t.spec.scaleTargetRef.apiVersion=e.TargetEntity.ApiVersion,t.spec.scaleTargetRef.kind=e.TargetEntity.Kind,t.spec.scaleTargetRef.name=e.TargetEntity.Name,t}static patchPayload(e,t){const n=r.createPayload(e),i=r.createPayload(t);return a.a(n,i)}static applicationFormValuesToModel(e,t){const n=new i.KubernetesHorizontalPodAutoScaler;return n.Name=e.Name,n.Namespace=e.ResourcePool.Namespace.Name,n.MinReplicas=e.AutoScaler.MinReplicas,n.MaxReplicas=e.AutoScaler.MaxReplicas,n.TargetCPUUtilization=e.AutoScaler.TargetCPUUtilization,n.TargetEntity.Name=e.Name,n.TargetEntity.Kind=t,n.TargetEntity.ApiVersion=e.AutoScaler.ApiVersion,n}}},,,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KEY_REGEX\",(function(){return i})),n.d(t,\"VALUE_REGEX\",(function(){return s})),n.d(t,\"parseDotEnvFile\",(function(){return l})),n.d(t,\"parseArrayOfStrings\",(function(){return c})),n.d(t,\"convertToArrayOfStrings\",(function(){return d}));var a=n(166);const i=/(.+?)/.source,s=/(.*)?/.source,r=new RegExp(`^(${i})\\\\s*=(${s})$`),o=/\\n|\\r|\\r\\n/;function l(e){return c(Object(a.a)(e.split(o)).map(e=>e.trim()).filter(e=>!e.startsWith(\"#\")&&\"\"!==e))}function c(e){return e?Object(a.a)(e.map(e=>{if(!e.includes(\"=\"))return{name:e};const t=e.trim().match(r);return null!=t&&t.length>4?{name:t[1].trim(),value:t[3].trim()||\"\"}:void 0})):[]}function d(e){return e?e.filter(e=>e.name).map(({name:e,value:t})=>t||\"\"===t?`${e}=${t}`:e):[]}},function(e,t,n){\"use strict\";function a(e){this.Id=e.Id,this.Name=e.Username,this.Type=\"user\",this.Inherited=!1,this.Override=!1,this.Role={Id:0,Name:\"-\"},this.icon='<i class=\"fa fa-user\" aria-hidden=\"true\"></i>'}function i(e){this.Id=e.Id,this.Name=e.Name,this.Type=\"team\",this.Inherited=!1,this.Override=!1,this.Role={Id:0,Name:\"-\"},this.icon='<i class=\"fa fa-users\" aria-hidden=\"true\"></i>'}n.r(t),n.d(t,\"UserAccessViewModel\",(function(){return a})),n.d(t,\"TeamAccessViewModel\",(function(){return i}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesStatefulSet\",(function(){return i}));const a=Object.freeze({Namespace:\"\",Name:\"\",StackName:\"\",ReplicaCount:0,ImageModel:null,Env:[],CpuLimit:\"\",MemoryLimit:\"\",VolumeMounts:[],Volumes:[],Secret:void 0,VolumeClaims:[],ServiceName:\"\",ApplicationName:\"\",ApplicationOwner:\"\",Note:\"\",Affinity:void 0});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesPortainerResourcePoolNameLabel\",(function(){return a})),n.d(t,\"KubernetesPortainerResourcePoolOwnerLabel\",(function(){return i})),n.d(t,\"KubernetesPortainerNamespaceSystemLabel\",(function(){return s})),n.d(t,\"KubernetesResourcePool\",(function(){return r}));const a=\"io.portainer.kubernetes.resourcepool.name\",i=\"io.portainer.kubernetes.resourcepool.owner\",s=\"io.portainer.kubernetes.namespace.system\";function r(){return{Namespace:{},Quota:void 0,Ingresses:[],Yaml:\"\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesApplicationVolumeMountPayload\",(function(){return i})),n.d(t,\"KubernetesApplicationVolumePersistentPayload\",(function(){return r})),n.d(t,\"KubernetesApplicationVolumeConfigMapPayload\",(function(){return l})),n.d(t,\"KubernetesApplicationVolumeSecretPayload\",(function(){return d})),n.d(t,\"KubernetesApplicationVolumeEntryPayload\",(function(){return p})),n.d(t,\"KubernetesApplicationEnvPayload\",(function(){return g})),n.d(t,\"KubernetesApplicationEnvConfigMapPayload\",(function(){return f})),n.d(t,\"KubernetesApplicationEnvSecretPayload\",(function(){return b}));const a=Object.freeze({name:\"\",mountPath:\"\",readOnly:!1});class i{constructor(e){Object.assign(this,JSON.parse(JSON.stringify(a))),e?this.readOnly=!0:delete this.readOnly}}const s=Object.freeze({name:\"\",persistentVolumeClaim:{claimName:\"\"}});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}const o=Object.freeze({name:\"\",configMap:{name:\"\",items:[]}});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}const c=Object.freeze({name:\"\",secret:{secretName:\"\",items:[]}});class d{constructor(){Object.assign(this,JSON.parse(JSON.stringify(c)))}}const u=Object.freeze({key:\"\",path:\"\"});class p{constructor(){Object.assign(this,JSON.parse(JSON.stringify(u)))}}const m=Object.freeze({name:\"\",value:\"\"});class g{constructor(){Object.assign(this,JSON.parse(JSON.stringify(m)))}}const h=Object.freeze({name:\"\",valueFrom:{configMapKeyRef:{name:\"\",key:\"\"}}});class f{constructor(){Object.assign(this,JSON.parse(JSON.stringify(h)))}}const v=Object.freeze({name:\"\",valueFrom:{secretKeyRef:{name:\"\",key:\"\"}}});class b{constructor(){Object.assign(this,JSON.parse(JSON.stringify(v)))}}},,,,,,,,,,,,function(e,t,n){\"use strict\";n.r(t);var a=n(69),i=n(2),s=n(33),r=n(5),o=n(53),l=n(256),c=n(605),d=n(3);class u{static apiToPersistentVolumeClaim(e,t,n){const a=new l.KubernetesPersistentVolumeClaim;return a.Id=e.metadata.uid,a.Name=e.metadata.name,a.Namespace=e.metadata.namespace,a.CreationDate=e.metadata.creationTimestamp,a.Storage=e.spec.resources.requests.storage+\"B\",a.StorageClass=Object(r.a)(t,{Name:e.spec.storageClassName}),a.Yaml=n?n.data:\"\",a.ApplicationOwner=e.metadata.labels?e.metadata.labels[d.KubernetesPortainerApplicationOwnerLabel]:\"\",a.ApplicationName=e.metadata.labels?e.metadata.labels[d.KubernetesPortainerApplicationNameLabel]:\"\",a}static applicationFormValuesToVolumeClaims(e){Object(s.a)(e.PersistedFolders,e=>e.NeedsDeletion);return Object(i.a)(e.PersistedFolders,t=>{const n=new l.KubernetesPersistentVolumeClaim;if(Object(a.a)(t.ExistingVolume))t.PersistentVolumeClaimName?(n.Name=t.PersistentVolumeClaimName,n.PreviousName=t.PersistentVolumeClaimName):n.Name=e.Name+\"-\"+n.Name,n.Storage=\"\"+t.Size+t.SizeUnit.charAt(0),n.StorageClass=t.StorageClass;else{const e=t.ExistingVolume.PersistentVolumeClaim;n.Name=e.Name,t.PersistentVolumeClaimName&&(n.PreviousName=t.PersistentVolumeClaimName),n.StorageClass=e.StorageClass,n.Storage=e.Storage.charAt(0),n.CreationDate=e.CreationDate,n.Id=e.Id}return n.MountPath=t.ContainerPath,n.Namespace=e.ResourcePool.Namespace.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n})}static createPayload(e){const t=new c.KubernetesPersistentVolumClaimCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.spec.resources.requests.storage=e.Storage,t.spec.storageClassName=e.StorageClass?e.StorageClass.Name:\"\",t.metadata.labels.app=e.ApplicationName,t.metadata.labels[d.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.labels[d.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t}static patchPayload(e,t){const n=u.createPayload(e),a=u.createPayload(t);return o.a(n,a)}}t.default=u},,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesNodeConditionTypes\",(function(){return g}));var a=n(34),i=n(6),s=n(2),r=n(270),o=n(5),l=n(53),c=n(83),d=n(20),u=n(206),p=n(400);class m{static apiToNode(e,t){t||(t=new c.KubernetesNode),t.Id=e.metadata.uid;const n=Object(o.a)(e.status.addresses,{type:\"Hostname\"});t.Name=n?n.address:e.metadata.Name,t.Labels=e.metadata.labels,t.Role=Object(r.a)(e.metadata.labels,\"node-role.kubernetes.io/master\")?\"Master\":\"Worker\";const a=Object(o.a)(e.status.conditions,{type:g.READY}),i=Object(o.a)(e.status.conditions,{type:g.MEMORY_PRESSURE}),l=Object(o.a)(e.status.conditions,{type:g.PID_PRESSURE}),u=Object(o.a)(e.status.conditions,{type:g.DISK_PRESSURE}),p=Object(o.a)(e.status.conditions,{type:g.NETWORK_UNAVAILABLE});t.Conditions={MemoryPressure:i&&\"True\"===i.status,PIDPressure:l&&\"True\"===l.status,DiskPressure:u&&\"True\"===u.status,NetworkUnavailable:p&&\"True\"===p.status},t.Availability=c.KubernetesNodeAvailabilities.ACTIVE,!0===e.spec.unschedulable&&(t.Availability=Object(r.a)(e.metadata.labels,c.KubernetesPortainerNodeDrainLabel)?c.KubernetesNodeAvailabilities.DRAIN:c.KubernetesNodeAvailabilities.PAUSE),\"False\"===a.status?t.Status=\"Unhealthy\":\"Unknown\"===a.status||t.Conditions.MemoryPressure||t.Conditions.PIDPressure||t.Conditions.DiskPressure||t.Conditions.NetworkUnavailable?t.Status=\"Warning\":t.Status=\"Ready\",t.CPU=d.default.parseCPU(e.status.allocatable.cpu),t.Memory=e.status.allocatable.memory,t.Version=e.status.nodeInfo.kubeletVersion;const m=Object(o.a)(e.status.addresses,{type:\"InternalIP\"});return t.IPAddress=m?m.address:\"-\",t.Taints=Object(s.a)(e.spec.taints,e=>{const t=new c.KubernetesNodeTaint;return t.Key=e.key,t.Value=e.value,t.Effect=e.effect,t}),t}static apiToNodeDetails(e,t){let n=new c.KubernetesNodeDetails;return n=m.apiToNode(e,n),n.CreationDate=e.metadata.creationTimestamp,n.OS.Architecture=e.status.nodeInfo.architecture,n.OS.Platform=e.status.nodeInfo.operatingSystem,n.OS.Image=e.status.nodeInfo.osImage,n.Yaml=t?t.data:\"\",n}static nodeToFormValues(e){const t=new u.KubernetesNodeFormValues;return t.Availability=e.Availability,t.Taints=Object(s.a)(e.Taints,e=>{const t=new u.KubernetesNodeTaintFormValues;return t.Key=e.Key,t.Value=e.Value,t.Effect=e.Effect,t.NeedsDeletion=!1,t.IsNew=!1,t}),t.Labels=Object(s.a)(e.Labels,(e,t)=>{const n=new u.KubernetesNodeLabelFormValues;return n.Key=t,n.Value=e,n.NeedsDeletion=!1,n.IsNew=!1,n}),t}static formValuesToNode(e,t){const n=angular.copy(e);n.Availability=t.Availability;const r=Object(i.a)(t.Taints,e=>!e.NeedsDeletion);n.Taints=Object(s.a)(r,e=>{const t=new c.KubernetesNodeTaint;return t.Key=e.Key,t.Value=e.Value,t.Effect=e.Effect,t});const o=Object(i.a)(t.Labels,e=>!e.NeedsDeletion);return n.Labels=Object(a.a)(o,(e,t)=>(e[t.Key]=t.Value?t.Value:\"\",e),{}),n}static createPayload(e){const t=new p.KubernetesNodeCreatePayload;t.metadata.name=e.Name;const n=Object(s.a)(e.Taints,e=>{const t=new p.KubernetesNodeTaintPayload;return t.key=e.Key,t.value=e.Value,t.effect=e.Effect,t});return t.spec.taints=n.length?n:void 0,t.metadata.labels=e.Labels,e.Availability!==c.KubernetesNodeAvailabilities.ACTIVE&&(t.spec.unschedulable=!0,e.Availability===c.KubernetesNodeAvailabilities.DRAIN?t.metadata.labels[c.KubernetesPortainerNodeDrainLabel]=\"\":delete t.metadata.labels[c.KubernetesPortainerNodeDrainLabel]),t}static patchPayload(e,t){const n=m.createPayload(e),a=m.createPayload(t);return l.a(n,a)}}const g=Object.freeze({READY:\"Ready\",MEMORY_PRESSURE:\"MemoryPressure\",PID_PRESSURE:\"PIDPressure\",DISK_PRESSURE:\"DiskPressure\",NETWORK_UNAVAILABLE:\"NetworkUnavailable\"});t.default=m},,,,function(e,t,n){\"use strict\";n.r(t);var a=n(6);t.default=class{static warningCount(e){return Object(a.a)(e,e=>\"Warning\"===e.Type).length}}},,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesResourceReservation\",(function(){return i}));const a=Object.freeze({Memory:0,CPU:0});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},,function(e,t,n){\"use strict\";n.r(t);var a=n(53),i=n(56),s=n.n(i),r=n(38),o=n(611),l=n(150),c=n(113),d=n(20),u=n(51),p=n(73);class m{static apiToResourceQuota(e,t){const n=new r.KubernetesResourceQuota;return n.Id=e.metadata.uid,n.Namespace=e.metadata.namespace,n.Name=e.metadata.name,n.CpuLimit=0,n.MemoryLimit=0,e.spec.hard&&e.spec.hard[r.KubernetesPortainerResourceQuotaCPULimit]&&(n.CpuLimit=d.default.parseCPU(e.spec.hard[r.KubernetesPortainerResourceQuotaCPULimit])),e.spec.hard&&e.spec.hard[r.KubernetesPortainerResourceQuotaMemoryLimit]&&(n.MemoryLimit=s()(e.spec.hard[r.KubernetesPortainerResourceQuotaMemoryLimit],{base:10})),n.MemoryLimitUsed=0,e.status.used&&e.status.used[r.KubernetesPortainerResourceQuotaMemoryLimit]&&(n.MemoryLimitUsed=s()(e.status.used[r.KubernetesPortainerResourceQuotaMemoryLimit],{base:10})),n.CpuLimitUsed=0,e.status.used&&e.status.used[r.KubernetesPortainerResourceQuotaCPULimit]&&(n.CpuLimitUsed=d.default.parseCPU(e.status.used[r.KubernetesPortainerResourceQuotaCPULimit])),n.Yaml=t?t.data:\"\",n.ResourcePoolName=e.metadata.labels?e.metadata.labels[c.KubernetesPortainerResourcePoolNameLabel]:\"\",n.ResourcePoolOwner=e.metadata.labels?e.metadata.labels[c.KubernetesPortainerResourcePoolOwnerLabel]:\"\",n}static createPayload(e){const t=new o.KubernetesResourceQuotaCreatePayload;return t.metadata.name=l.default.generateResourceQuotaName(e.Namespace),t.metadata.namespace=e.Namespace,u.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${r.KubernetesPortainerResourceQuotaCPURequest}']`,e.CpuLimit),u.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${r.KubernetesPortainerResourceQuotaMemoryRequest}']`,e.MemoryLimit),u.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${r.KubernetesPortainerResourceQuotaCPULimit}']`,e.CpuLimit),u.default.assignOrDeleteIfEmptyOrZero(t,`spec.hard['${r.KubernetesPortainerResourceQuotaMemoryLimit}']`,e.MemoryLimit),t.metadata.labels[c.KubernetesPortainerResourcePoolNameLabel]=e.ResourcePoolName,e.ResourcePoolOwner&&(t.metadata.labels[c.KubernetesPortainerResourcePoolOwnerLabel]=e.ResourcePoolOwner),t}static updatePayload(e){const t=m.createPayload(e);return t.metadata.uid=e.Id,t}static patchPayload(e,t){const n=m.createPayload(e),i=m.createPayload(t);return a.a(n,i)}static quotaToResourcePoolFormValues(e){const t=new p.KubernetesResourcePoolFormValues(r.KubernetesResourceQuotaDefaults);return t.Name=e.Namespace,t.CpuLimit=e.CpuLimit,t.MemoryLimit=d.default.megaBytesValue(e.MemoryLimit),(t.CpuLimit||t.MemoryLimit)&&(t.HasQuota=!0),t.StorageClasses=e.StorageRequests,t}static resourcePoolFormValuesToResourceQuota(e){if(e.HasQuota){const t=new r.KubernetesResourceQuota(e.Name);return e.HasQuota&&(t.CpuLimit=e.CpuLimit,t.MemoryLimit=d.default.bytesValue(e.MemoryLimit)),t.ResourcePoolName=e.Name,t.ResourcePoolOwner=e.Owner,t}}}t.default=m},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesHorizontalPodAutoScalerHelper\",(function(){return c}));var a=n(5),i=n(11),s=n(3),r=n(161),o=n(112),l=n(162);class c{static findApplicationBoundScaler(e,t){const n=c.getApplicationTypeString(t);return Object(a.a)(e,e=>e.TargetEntity.Kind===n&&e.TargetEntity.Name===t.Name)}static getApplicationTypeString(e){if(e instanceof s.KubernetesApplication&&e.ApplicationType===s.KubernetesApplicationTypes.DEPLOYMENT||e instanceof r.KubernetesDeployment)return s.KubernetesApplicationTypeStrings.DEPLOYMENT;if(e instanceof s.KubernetesApplication&&e.ApplicationType===s.KubernetesApplicationTypes.DAEMONSET||e instanceof l.KubernetesDaemonSet)return s.KubernetesApplicationTypeStrings.DAEMONSET;if(e instanceof s.KubernetesApplication&&e.ApplicationType===s.KubernetesApplicationTypes.STATEFULSET||e instanceof o.KubernetesStatefulSet)return s.KubernetesApplicationTypeStrings.STATEFULSET;if(e instanceof s.KubernetesApplication&&e.ApplicationType===s.KubernetesApplicationTypes.POD)return s.KubernetesApplicationTypeStrings.POD;throw new i.default(\"Unable to determine application type\")}}},,,,,,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return r}));var a=n(5),i=n(15);function s(e,t){return Object(a.a)(t,(function(t){return t.Id===e.GroupId}))}class r{static isLocalEndpoint(e){return e.URL.includes(\"unix://\")||e.URL.includes(\"npipe://\")||e.Type===i.PortainerEndpointTypes.KubernetesLocalEnvironment}static isAgentEndpoint(e){return[i.PortainerEndpointTypes.AgentOnDockerEnvironment,i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment,i.PortainerEndpointTypes.AgentOnKubernetesEnvironment,i.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment].includes(e.Type)}static isEdgeEndpoint(e){return[i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment,i.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment].includes(e.Type)}static mapGroupNameToEndpoint(e,t){for(var n=0;n<e.length;n++){var a=e[n],i=s(a,t);i&&(a.GroupName=i.Name)}}}},,function(e,t,n){\"use strict\";n.r(t);var a=n(38);t.default=class{static generateResourceQuotaName(e){return a.KubernetesPortainerResourceQuotaPrefix+e}static formatBytes(e,t=0,n=!0){if(0===e)return{Size:0,SizeUnit:\"B\"};const a=n?1e3:1024,i=t<0?0:t,s=Math.floor(Math.log(e)/Math.log(a));return{Size:parseFloat((e/Math.pow(a,s)).toFixed(i)),SizeUnit:[\"B\",\"KB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"][s]}}}},,function(e,t,n){\"use strict\";function a(){this.Directory=\"/cio/\",this.Capacity=20,this.Redundancy=2,this.Provisioning=\"thin\",this.Type=\"ssd\",this.MinIOPS=100,this.MaxIOPS=2e3,this.MinBandwidth=1,this.MaxBandwidth=100,this.Filesystem=\"btrfs\",this.SnapshotEnabled=!1,this.SnapshotInterval=1440,this.SnapshotMax=1,this.EncryptionEnabled=!1,this.InterfaceType=\"\",this.InterfaceDriver=\"\",this.InterfaceNetwork=\"\",this.InterfaceConf=\"\",this.Labels=[]}function i(e){this.Name=e,this.Checked=!1}function s(e,t){this.Name=e,this.Directory=t.directory,this.Capacity=t.capacity,this.Provisioning=t.provision,this.Type=t.type,this.Redundancy=t.level,t.iops&&(this.MinIOPS=t.iops.min,this.MaxIOPS=t.iops.max),t.bandwidth&&(this.MinBandwidth=t.bandwidth.min,this.MaxBandwidth=t.bandwidth.max),t.filesystem&&(this.Filesystem=t.filesystem.type);var n=t.service;n.snapshot?(this.SnapshotEnabled=n.snapshot.enabled,this.SnapshotInterval=n.snapshot.interval,this.SnapshotMax=n.snapshot.max):this.SnapshotEnabled=!1,n.encryption?this.EncryptionEnabled=n.encryption.enabled:this.EncryptionEnabled=!1,t.interface&&(this.InterfaceType=t.interface.type,this.InterfaceDriver=t.interface.driver,this.InterfaceNetwork=t.interface.network,this.InterfaceConf=t.interface.conf),t.label?this.Labels=t.label:this.Labels=[]}function r(e){this.name=e.Name,this.capacity=e.Capacity,this.directory=e.Directory,this.provision=e.Provisioning,this.type=e.Type,this.level=e.Redundancy,e.MinIOPS&&e.MaxIOPS&&(this.iops={min:e.MinIOPS,max:e.MaxIOPS}),e.MinBandwidth&&e.MaxBandwidth&&(this.bandwidth={min:e.MinBandwidth,max:e.MaxBandwidth}),this.filesystem={type:e.Filesystem};var t={};t.snapshot={enabled:e.SnapshotEnabled},e.SnapshotEnabled&&(t.snapshot.interval=e.SnapshotInterval,t.snapshot.max=e.SnapshotMax),t.encryption={enabled:e.EncryptionEnabled},this.service=t,this.interface={driver:e.InterfaceDriver,network:e.InterfaceNetwork,conf:e.InterfaceConf},e.InterfaceType&&(this.interface.type=e.InterfaceType),this.label=e.Labels}n.r(t),n.d(t,\"StoridgeProfileDefaultModel\",(function(){return a})),n.d(t,\"StoridgeProfileListModel\",(function(){return i})),n.d(t,\"StoridgeProfileModel\",(function(){return s})),n.d(t,\"StoridgeCreateProfileRequest\",(function(){return r}))},function(e,t,n){\"use strict\";n.r(t);var a=n(16),i=n(28),s=n(2),r=n(113),o=n(195),l=n(62),c=n(139);t.default=class{static apiToResourcePool(e){const t=new r.KubernetesResourcePool;return t.Namespace=e,t.Yaml=e.Yaml,t}static formValuesToResourcePool(e){const t=new o.KubernetesNamespace;t.Name=e.Name,t.ResourcePoolName=e.Name,t.ResourcePoolOwner=e.Owner,t.IsSystem=e.IsSystem;const n=c.default.resourcePoolFormValuesToResourceQuota(e),r=Object(s.a)(e.IngressClasses,e=>{if(e.Selected)return e.Namespace=t.Name,l.KubernetesIngressConverter.resourcePoolIngressClassFormValueToIngress(e)}),d=Object(i.a)(r,void 0),u=Object(s.a)(e.Registries,t=>(t.RegistryAccesses[e.EndpointId]||(t.RegistryAccesses[e.EndpointId]={Namespaces:[]}),Object(a.a)(t.RegistryAccesses[e.EndpointId].Namespaces,e.Name)||(t.RegistryAccesses[e.EndpointId].Namespaces=[...t.RegistryAccesses[e.EndpointId].Namespaces,e.Name]),t));return[t,n,d,u]}}},function(e,t,n){\"use strict\";n.r(t);var a=n(16),i=n(2),s=n(7),r=n(200),o=n(393),l=n(394),c=n(25),d=n(86);t.default=class{static createPayload(e){const t=new o.KubernetesSecretCreatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace;const n=Object(r.a)(e.ConfigurationOwner,{length:63,omission:\"\"});t.metadata.labels[c.KubernetesPortainerConfigurationOwnerLabel]=n;let a=\"\";return Object(s.a)(e.Data,e=>{e.IsBinary?(t.data[e.Key]=e.Value,a+=\"\"!==a?\"|\"+e.Key:e.Key):t.stringData[e.Key]=e.Value}),\"\"!==a&&(t.metadata.annotations[c.KubernetesPortainerConfigurationDataAnnotation]=a),t}static updatePayload(e){const t=new o.KubernetesSecretUpdatePayload;t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[c.KubernetesPortainerConfigurationOwnerLabel]=e.ConfigurationOwner;let n=\"\";return Object(s.a)(e.Data,e=>{e.IsBinary?(t.data[e.Key]=e.Value,n+=\"\"!==n?\"|\"+e.Key:e.Key):t.stringData[e.Key]=e.Value}),\"\"!==n&&(t.metadata.annotations[c.KubernetesPortainerConfigurationDataAnnotation]=n),t}static apiToSecret(e,t){const n=new l.KubernetesApplicationSecret;return n.Id=e.metadata.uid,n.Name=e.metadata.name,n.Namespace=e.metadata.namespace,n.ConfigurationOwner=e.metadata.labels?e.metadata.labels[c.KubernetesPortainerConfigurationOwnerLabel]:\"\",n.CreationDate=e.metadata.creationTimestamp,n.IsRegistrySecret=e.metadata.annotations&&!!e.metadata.annotations[\"portainer.io/registry.id\"],n.Yaml=t?t.data:\"\",n.Data=Object(i.a)(e.data,(t,n)=>{const i=e.metadata.annotations?e.metadata.annotations[c.KubernetesPortainerConfigurationDataAnnotation]:\"\",s=new d.KubernetesConfigurationFormValuesEntry;return s.Key=n,s.IsBinary=Object(a.a)(i,s.Key),s.IsBinary?s.Value=t:s.Value=atob(t),s}),n}static configurationFormValuesToSecret(e){const t=new l.KubernetesApplicationSecret;return t.Name=e.Name,t.Namespace=e.ResourcePool.Namespace.Name,t.ConfigurationOwner=e.ConfigurationOwner,t.Data=e.Data,t}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesSystem_DefaultDeploymentUniqueLabelKey\",(function(){return a})),n.d(t,\"KubernetesSystem_RevisionAnnotation\",(function(){return i})),n.d(t,\"KubernetesSystem_RevisionHistoryAnnotation\",(function(){return s})),n.d(t,\"KubernetesSystem_ChangeCauseAnnotation\",(function(){return r})),n.d(t,\"KubernetesSystem_DesiredReplicasAnnotation\",(function(){return o})),n.d(t,\"KubernetesSystem_MaxReplicasAnnotation\",(function(){return l})),n.d(t,\"KubernetesSystem_AnnotationsToSkip\",(function(){return c}));const a=\"pod-template-hash\",i=\"deployment.kubernetes.io/revision\",s=\"deployment.kubernetes.io/revision-history\",r=\"kubernetes.io/change-cause\",o=\"deployment.kubernetes.io/desired-replicas\",l=\"deployment.kubernetes.io/max-replicas\",c={\"kubectl.kubernetes.io/last-applied-configuration\":!0,[i]:!0,[s]:!0,[o]:!0,[l]:!0,\"deprecated.deployment.rollback.to\":!0}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ResourceControlTypeString\",(function(){return a})),n.d(t,\"ResourceControlTypeInt\",(function(){return i}));const a=Object.freeze({CONFIG:\"config\",CONTAINER:\"container\",NETWORK:\"network\",SECRET:\"secret\",SERVICE:\"service\",STACK:\"stack\",VOLUME:\"volume\",CUSTOM_TEMPLATE:\"custom-template\",CONTAINER_GROUP:\"container-group\"}),i=Object.freeze({CONTAINER:1,SERVICE:2,VOLUME:3,NETWORK:4,SECRET:5,STACK:6,CONFIG:7,CUSTOM_TEMPLATE:8,CONTAINER_GROUP:9})},,,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesDeployment\",(function(){return i}));const a=Object.freeze({Namespace:\"\",Name:\"\",StackName:\"\",ReplicaCount:0,ImageModel:null,Env:[],CpuLimit:0,MemoryLimit:0,VolumeMounts:[],Volumes:[],Secret:void 0,ApplicationName:\"\",ApplicationOwner:\"\",Note:\"\",Affinity:void 0});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesDaemonSet\",(function(){return i}));const a=Object.freeze({Namespace:\"\",Name:\"\",StackName:\"\",ImageModel:null,Env:[],CpuLimit:0,MemoryLimit:0,VoluemMounts:[],Volumes:[],Secret:void 0,ApplicationName:\"\",ApplicationOwner:\"\",Note:\"\",Affinity:void 0});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},function(e,t,n){\"use strict\";function a(e){const t=e.split(\".\");return t[0]+t[1]}n.r(t),n.d(t,\"getAgentShortVersion\",(function(){return a}))},,,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"DockerHubViewModel\",(function(){return i}));var a=n(30);function i(){this.Id=0,this.Type=a.RegistryTypes.ANONYMOUS,this.Name=\"DockerHub (anonymous)\",this.URL=\"docker.io\"}},function(e,t,n){\"use strict\";n.r(t);var a=n(28),i=n(94),s=n(2),r=n(46),o=n(53),l=n(606),c=n(3),d=n(42),u=n(257);class p{static applicationFormValuesToService(e){const t=new d.KubernetesService;t.Namespace=e.ResourcePool.Namespace.Name,t.Name=e.Name,t.StackName=e.StackName?e.StackName:e.Name,t.ApplicationOwner=e.ApplicationOwner,t.ApplicationName=e.Name,e.PublishingType===c.KubernetesApplicationPublishingTypes.NODE_PORT?t.Type=d.KubernetesServiceTypes.NODE_PORT:e.PublishingType===c.KubernetesApplicationPublishingTypes.LOAD_BALANCER&&(t.Type=d.KubernetesServiceTypes.LOAD_BALANCER);const n=Object(s.a)(e.PublishedPorts,n=>function(e,t,n){if(t.IsNew||!t.NeedsDeletion){const a=e.Name,i=new d.KubernetesServicePort;return i.name=Object(r.a)(a+\"-\"+t.ContainerPort+\"-\"+t.Protocol),i.port=n===d.KubernetesServiceTypes.LOAD_BALANCER?t.LoadBalancerPort:t.ContainerPort,i.targetPort=t.ContainerPort,i.protocol=t.Protocol,n===d.KubernetesServiceTypes.NODE_PORT&&t.NodePort?i.nodePort=t.NodePort:n===d.KubernetesServiceTypes.LOAD_BALANCER&&t.LoadBalancerNodePort?i.nodePort=t.LoadBalancerNodePort:delete i.nodePort,i}}(e,n,t.Type));return t.Ports=Object(i.a)(Object(a.a)(n,void 0),e=>e.targetPort+e.protocol),t}static applicationFormValuesToHeadlessService(e){const t=p.applicationFormValuesToService(e);return t.Name=u.default.generateHeadlessServiceName(e.Name),t.Headless=!0,t}static createPayload(e){const t=new l.KubernetesServiceCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[c.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[c.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[c.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.spec.ports=e.Ports,t.spec.selector.app=e.ApplicationName,e.Headless?(t.spec.clusterIP=d.KubernetesServiceHeadlessClusterIP,delete t.spec.ports):e.Type&&(t.spec.type=e.Type),t}static patchPayload(e,t){const n=p.createPayload(e),a=p.createPayload(t);return o.a(n,a)}}t.default=p},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return g}));var a=n(415),i=n(32),s=n(5),r=n(6),o=n(2),l=n(53),c=n(51),d=n(3),u=n(49),p=n(619);function m(e,t){const n=Object(s.a)(e,{name:t});if(!n)return\"Terminated\";const a=n.state;return a.waiting?\"Waiting\":a.running?\"Running\":\"Terminated\"}class g{static apiToModel(e){const t=new u.KubernetesPod;var n;return t.Id=e.metadata.uid,t.Name=e.metadata.name,t.Namespace=e.metadata.namespace,t.Images=Object(o.a)(e.spec.containers,\"image\"),t.Status=function(e){const t=Object(o.a)(e,\"state\"),n=Object(r.a)(t,e=>e.running).length;return Object(r.a)(t,e=>e.waiting).length?\"Waiting\":n?\"Running\":\"Terminated\"}(e.status.containerStatuses),t.Restarts=Object(a.a)(e.status.containerStatuses,\"restartCount\"),t.Node=e.spec.nodeName,t.CreationDate=e.status.startTime,t.Containers=function(e){const t=e.spec.containers,n=e.spec.initContainers;return Object(i.a)(Object(o.a)(t,t=>{const n=new u.KubernetesPodContainer;return n.Type=u.KubernetesPodContainerTypes.APP,n.PodName=e.metadata.name,n.PodIP=e.status.podIP,n.Name=t.name,n.Image=t.image,n.ImagePullPolicy=t.imagePullPolicy,n.Node=e.spec.nodeName,n.CreationDate=e.status.startTime,n.Status=m(e.status.containerStatuses,t.name),n.Limits=t.resources.limits,n.Requests=t.resources.requests,n.VolumeMounts=t.volumeMounts,n.Env=t.env,n}),Object(o.a)(n,t=>{const n=new u.KubernetesPodContainer;return n.Type=u.KubernetesPodContainerTypes.INIT,n.PodName=e.metadata.name,n.Name=t.name,n.Image=t.image,n.Node=e.spec.nodeName,n.CreationDate=e.status.startTime,n.Status=m(e.status.containerStatuses,t.name),n.Limits=t.resources.limits,n.Requests=t.resources.requests,n.VolumeMounts=t.volumeMounts,n.Env=t.env,n}))}(e),t.Labels=e.metadata.labels,t.Affinity=function(e){const t=new u.KubernetesPodAffinity;return e&&(t.nodeAffinity=e.nodeAffinity||{}),t}(e.spec.affinity),t.NodeSelector=e.spec.nodeSelector,t.Tolerations=(n=e.spec.tolerations,Object(o.a)(n,e=>{const t=new u.KubernetesPodToleration;return t.Key=e.key,t.Operator=e.operator,t.Value=e.value,t.TolerationSeconds=e.tolerationSeconds,t.Effect=e.effect,t})),t}static evictionPayload(e){const t=new u.KubernetesPodEviction;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t}static patchPayload(e,t){const n=h(e),a=h(t);return l.a(n,a)}}function h(e){const t=Object(p.createPayloadFactory)();return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[d.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[d.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[d.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,e.Note?t.metadata.annotations[d.KubernetesPortainerApplicationNote]=e.Note:t.metadata.annotations=void 0,t.spec.replicas=e.ReplicaCount,t.spec.selector.matchLabels.app=e.Name,t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[d.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,t.spec.template.spec.containers[0].image=e.Image,t.spec.template.spec.affinity=e.Affinity,c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].env\",e.Env),c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].volumeMounts\",e.VolumeMounts),c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.volumes\",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}},,,function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(25);t.default=class{static secretToConfiguration(e){const t=new i.KubernetesConfiguration;return t.Type=i.KubernetesConfigurationTypes.SECRET,t.Id=e.Id,t.Name=e.Name,t.Namespace=e.Namespace,t.CreationDate=e.CreationDate,t.Yaml=e.Yaml,Object(a.a)(e.Data,e=>{t.Data[e.Key]=e.Value}),t.ConfigurationOwner=e.ConfigurationOwner,t.IsRegistrySecret=e.IsRegistrySecret,t}static configMapToConfiguration(e){const t=new i.KubernetesConfiguration;return t.Type=i.KubernetesConfigurationTypes.CONFIGMAP,t.Id=e.Id,t.Name=e.Name,t.Namespace=e.Namespace,t.CreationDate=e.CreationDate,t.Yaml=e.Yaml,Object(a.a)(e.Data,e=>{t.Data[e.Key]=e.Value}),t.ConfigurationOwner=e.ConfigurationOwner,t}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"StackViewModel\",(function(){return i})),n.d(t,\"ExternalStackViewModel\",(function(){return s})),n.d(t,\"OrphanedStackViewModel\",(function(){return r}));var a=n(70);function i(e){this.Id=e.Id,this.Type=e.Type,this.Name=e.Name,this.EndpointId=e.EndpointId,this.SwarmId=e.SwarmId,this.Env=e.Env?e.Env:[],this.IsComposeFormat=e.IsComposeFormat,e.ResourceControl&&0!==e.ResourceControl.Id&&(this.ResourceControl=new a.ResourceControlViewModel(e.ResourceControl)),this.Status=e.Status,this.CreationDate=e.CreationDate,this.CreatedBy=e.CreatedBy,this.UpdateDate=e.UpdateDate,this.UpdatedBy=e.UpdatedBy,this.Regular=!0,this.External=!1,this.Orphaned=!1,this.Checked=!1,this.GitConfig=e.GitConfig,this.AdditionalFiles=e.AdditionalFiles,this.AutoUpdate=e.AutoUpdate}function s(e,t,n){this.Name=e,this.Type=t,this.CreationDate=n,this.Regular=!1,this.External=!0,this.Orphaned=!1,this.Checked=!1}function r(e){this.Id=e.Id,this.Type=e.Type,this.Name=e.Name,this.EndpointId=e.EndpointId,this.SwarmId=e.SwarmId,this.Env=e.Env?e.Env:[],e.ResourceControl&&0!==e.ResourceControl.Id&&(this.ResourceControl=new a.ResourceControlViewModel(e.ResourceControl)),this.Status=e.Status,this.CreationDate=e.CreationDate,this.CreatedBy=e.CreatedBy,this.UpdateDate=e.UpdateDate,this.UpdatedBy=e.UpdatedBy,this.Regular=!1,this.External=!1,this.Orphaned=!0,this.OrphanedRunning=!1,this.Checked=!1}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesNamespace\",(function(){return a})),n.d(t,\"KUBERNETES_DEFAULT_SYSTEM_NAMESPACES\",(function(){return i})),n.d(t,\"KUBERNETES_DEFAULT_NAMESPACE\",(function(){return s}));class a{constructor(){this.Id=\"\",this.Name=\"\",this.CreationDate=\"\",this.Status=\"\",this.Yaml=\"\",this.ResourcePoolName=\"\",this.ResourcePoolOwner=\"\",this.IsSystem=!1}}const i=[\"kube-system\",\"kube-public\",\"kube-node-lease\",\"portainer\"],s=\"default\"},,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesStorageClassAccessPolicies\",(function(){return i})),n.d(t,\"KubernetesStorageClass\",(function(){return r}));const a=Object.freeze([{Name:\"RWO\",Description:\"Allow read-write from a single pod only (RWO)\",selected:!0},{Name:\"RWX\",Description:\"Allow read-write access from one or more pods concurrently (RWX)\",selected:!1}]);function i(){return JSON.parse(JSON.stringify(a))}const s=Object.freeze({Name:\"\",AccessModes:[],Provisioner:\"\",AllowVolumeExpansion:!1});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},function(e,t,n){\"use strict\";function a(){this.TLS=!1,this.TLSMode=\"tls_client_ca\",this.TLSCACert=null,this.TLSCert=null,this.TLSKey=null}n.r(t),n.d(t,\"EndpointSecurityFormData\",(function(){return a}))},,,,,,function(e,t,n){\"use strict\";function a(){return{Name:\"\",Namespace:\"\",Annotations:{},Hosts:[],Paths:[],IngressClassName:\"\"}}function i(){return{IngressName:\"\",ServiceName:\"\",Host:\"\",IP:\"\",Port:\"\",Path:\"\"}}function s(){return{Name:\"\",Type:void 0,NeedsDeletion:!1,IsNew:!0}}n.r(t),n.d(t,\"KubernetesIngress\",(function(){return a})),n.d(t,\"KubernetesIngressRule\",(function(){return i})),n.d(t,\"KubernetesIngressClass\",(function(){return s}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesNodeFormValues\",(function(){return i})),n.d(t,\"KubernetesNodeTaintFormValues\",(function(){return r})),n.d(t,\"KubernetesNodeLabelFormValues\",(function(){return l}));const a=Object.freeze({Taints:[],Labels:[],Availability:\"\"});class i{constructor(){Object.assign(JSON.parse(JSON.stringify(a)))}}const s=Object.freeze({Key:\"\",Values:\"\",Effect:\"\",NeedsDeletion:!1,IsNew:!1,IsChanged:!1});class r{constructor(){Object.assign(JSON.parse(JSON.stringify(s)))}}const o=Object.freeze({Key:\"\",Values:\"\",NeedsDeletion:!1,IsNew:!1,IsUsed:!1,IsChanged:!1});class l{constructor(){Object.assign(JSON.parse(JSON.stringify(o)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"RegistryViewModel\",(function(){return s})),n.d(t,\"RegistryManagementConfigurationDefaultModel\",(function(){return r})),n.d(t,\"RegistryCreateFormValues\",(function(){return o})),n.d(t,\"RegistryCreateRequest\",(function(){return l}));var a=n(104),i=n(30);function s(e){this.Id=e.Id,this.Type=e.Type,this.Name=e.Name,this.URL=e.URL,this.BaseURL=e.BaseURL,this.Authentication=e.Authentication,this.Username=e.Username,this.Password=e.Password,this.RegistryAccesses=e.RegistryAccesses,this.Checked=!1,this.Gitlab=e.Gitlab,this.Quay=e.Quay,this.Ecr=e.Ecr}function r(e){this.Authentication=!1,this.Password=\"\",this.TLS=!1,this.TLSSkipVerify=!1,this.TLSCACertFile=null,this.TLSCertFile=null,this.TLSKeyFile=null,e.Type===i.RegistryTypes.ECR&&(this.Region=e.Ecr.Region,this.TLSSkipVerify=!0),e.Type!==i.RegistryTypes.QUAY&&e.Type!==i.RegistryTypes.AZURE&&e.Type!==i.RegistryTypes.ECR||(this.Authentication=!0,this.Username=e.Username,this.TLS=!0),e.Type!==i.RegistryTypes.CUSTOM&&e.Type!==i.RegistryTypes.PROGET||!e.Authentication||(this.Authentication=!0,this.Username=e.Username)}function o(){this.Type=i.RegistryTypes.CUSTOM,this.URL=\"\",this.Name=\"\",this.Authentication=!1,this.Username=\"\",this.Password=\"\"}function l(e){this.Name=e.Name,this.Type=e.Type,this.URL=Object(a.a)(e.URL,/^https?\\:\\/\\//i,\"\"),this.URL=Object(a.a)(this.URL,/\\/$/,\"\"),this.Authentication=e.Authentication,e.Authentication&&(this.Username=e.Username,this.Password=e.Password),e.Type===i.RegistryTypes.GITLAB&&(this.Gitlab={ProjectId:e.Gitlab.ProjectId,InstanceURL:e.Gitlab.InstanceURL,ProjectPath:e.Gitlab.ProjectPath}),e.Type===i.RegistryTypes.ECR&&(this.Ecr=e.Ecr),e.Type===i.RegistryTypes.QUAY&&(this.Quay={useOrganisation:e.Quay.useOrganisation,organisationName:e.Quay.organisationName}),e.Type===i.RegistryTypes.PROGET&&(this.BaseURL=Object(a.a)(e.BaseURL,/^https?\\:\\/\\//i,\"\"),this.BaseURL=Object(a.a)(this.BaseURL,/\\/$/,\"\"))}},,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"authenticationActivityTypesMap\",(function(){return a})),n.d(t,\"authenticationActivityTypesLabels\",(function(){return i}));const a={AuthSuccess:1,AuthFailure:2,Logout:3},i={[a.AuthSuccess]:\"Authentication success\",[a.AuthFailure]:\"Authentication failure\",[a.Logout]:\"Logout\"}},,,,,,,,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"buildImageFullURI\",(function(){return r}));var a=n(16),i=n(59),s=n(30);function r(e){if(!e.UseRegistry)return t(e.Image);return t(function(e){switch(e.Registry.Type){case s.RegistryTypes.GITLAB:return function(e){const t=e.Image.startsWith(\":\")?\"\":\"/\";return`${e.Registry.URL}/${e.Registry.Gitlab.ProjectPath}${t}${e.Image}`}(e);case s.RegistryTypes.QUAY:return function(e){const t=e.Registry.Quay.UseOrganisation?e.Registry.Quay.OrganisationName:e.Registry.Username;return`${e.Registry.URL?e.Registry.URL+\"/\":\"\"}${t}/${e.Image}`}(e);case s.RegistryTypes.ANONYMOUS:return e.Image;default:return function(e){return(e.Registry.URL?e.Registry.URL+\"/\":\"\")+e.Image}(e)}}(e));function t(e,t=\"latest\"){return e.includes(\":\")?e:`${e}:${t}`}}angular.module(\"portainer.docker\").factory(\"ImageHelper\",(function(){return{isValidTag:function(e){return e.match(/^(?![\\.\\-])([a-zA-Z0-9\\_\\.\\-])+$/g)},createImageConfigForContainer:function(e){return{fromImage:r(e)}},getImagesNamesForDownload:function(e){return{names:e.map((function(e){return\"<none>:<none>\"!==e.RepoTags[0]?e.RepoTags[0]:e.Id}))}},removeDigestFromRepository:function(e){return e.split(\"@sha\")[0]},imageContainsURL:function(e){const t=Object(i.a)(e,\"/\"),n=t[0];if(t.length>1)return Object(a.a)(n,\".\")||Object(a.a)(n,\":\");return!1}}}))},function(e,t,n){\"use strict\";function a(e){this.Id=e.Id,this.UserId=e.UserID,this.TeamId=e.TeamID,this.Role=e.Role}n.r(t),n.d(t,\"TeamMembershipModel\",(function(){return a}))},,,,,function(e,t,n){\"use strict\";function a(){return{AnonymousMode:!0,ReaderDN:\"\",URLs:[\"\"],ServerType:0,TLSConfig:{TLS:!1,TLSSkipVerify:!1},StartTLS:!1,SearchSettings:[{BaseDN:\"\",Filter:\"\",UserNameAttribute:\"\"}],GroupSearchSettings:[{GroupBaseDN:\"\",GroupFilter:\"\",GroupAttribute:\"\"}],AdminGroupSearchSettings:[{GroupBaseDN:\"\",GroupFilter:\"\",GroupAttribute:\"\"}],AutoCreateUsers:!0}}function i(){const e={AnonymousMode:!0,ReaderDN:\"\",URLs:[\"\"],ServerType:0,TLSConfig:{TLS:!1,TLSSkipVerify:!1},StartTLS:!1,SearchSettings:[{BaseDN:\"\",Filter:\"\",UserNameAttribute:\"\"}],GroupSearchSettings:[{GroupBaseDN:\"\",GroupFilter:\"\",GroupAttribute:\"\"}],AdminGroupSearchSettings:[{GroupBaseDN:\"\",GroupFilter:\"\",GroupAttribute:\"\"}],AutoCreateUsers:!0};return e.ServerType=2,e.AnonymousMode=!1,e.SearchSettings[0].UserNameAttribute=\"sAMAccountName\",e.SearchSettings[0].Filter=\"(objectClass=user)\",e.GroupSearchSettings[0].GroupAttribute=\"member\",e.GroupSearchSettings[0].GroupFilter=\"(objectClass=group)\",e}function s(){const e={AnonymousMode:!0,ReaderDN:\"\",URLs:[\"\"],ServerType:0,TLSConfig:{TLS:!1,TLSSkipVerify:!1},StartTLS:!1,SearchSettings:[{BaseDN:\"\",Filter:\"\",UserNameAttribute:\"\"}],GroupSearchSettings:[{GroupBaseDN:\"\",GroupFilter:\"\",GroupAttribute:\"\"}],AdminGroupSearchSettings:[{GroupBaseDN:\"\",GroupFilter:\"\",GroupAttribute:\"\"}],AutoCreateUsers:!0};return e.ServerType=1,e.AnonymousMode=!1,e.SearchSettings[0].UserNameAttribute=\"uid\",e.SearchSettings[0].Filter=\"(objectClass=inetOrgPerson)\",e.GroupSearchSettings[0].GroupAttribute=\"member\",e.GroupSearchSettings[0].GroupFilter=\"(objectClass=groupOfNames)\",e}n.r(t),n.d(t,\"buildLdapSettingsModel\",(function(){return a})),n.d(t,\"buildAdSettingsModel\",(function(){return i})),n.d(t,\"buildOpenLDAPSettingsModel\",(function(){return s}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ContainerGroupDefaultModel\",(function(){return s})),n.d(t,\"ContainerGroupViewModel\",(function(){return r})),n.d(t,\"CreateContainerGroupRequest\",(function(){return o}));var a=n(45),i=n(70);function s(){this.Location=\"\",this.OSType=\"Linux\",this.Name=\"\",this.Image=\"\",this.AllocatePublicIP=!0,this.Ports=[{container:80,host:80,protocol:\"TCP\"}],this.CPU=1,this.Memory=1,this.AccessControlData=new a.AccessControlFormData}function r(e){const t=e.properties.ipAddress?e.properties.ipAddress.ports:[],n=e.properties.containers.length?e.properties.containers[0]:{},a=n?n.properties.ports:[];this.Id=e.id,this.Name=e.name,this.Location=e.location,this.IPAddress=e.properties.ipAddress?e.properties.ipAddress.ip:\"\",this.Ports=t.length?t.map((e,t)=>({container:a[t]&&a[t].port||void 0,host:e.port,protocol:e.protocol})):[],this.Image=n.properties.image||\"\",this.OSType=e.properties.osType,this.AllocatePublicIP=e.properties.ipAddress&&\"Public\"===e.properties.ipAddress.type,this.CPU=n.properties.resources.requests.cpu,this.Memory=n.properties.resources.requests.memoryInGB,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new i.ResourceControlViewModel(e.Portainer.ResourceControl))}function o(e){this.location=e.Location;for(var t=[],n=[],a=0;a<e.Ports.length;a++){var i=e.Ports[a];i.container&&i.host&&(t.push({port:i.container}),n.push({port:i.host,protocol:i.protocol}))}this.properties={osType:e.OSType,containers:[{name:e.Name,properties:{image:e.Image,ports:t,resources:{requests:{cpu:e.CPU,memoryInGB:e.Memory}}}}],ipAddress:{type:e.AllocatePublicIP?\"Public\":\"Private\",ports:n}}}},function(e,t,n){\"use strict\";n.r(t);var a=n(28),i=n(6);class s{static getIPV4Configs(e){return Object(i.a)(e,e=>/^([0-9]{1,3}\\.){3}[0-9]{1,3}(\\/([0-9]|[1-2][0-9]|3[0-2]))?$/.test(e.Subnet))}static getIPV6Configs(e){return Object(a.a)(e,...s.getIPV4Configs(e))}}t.default=s},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"createStatus\",(function(){return o})),n.d(t,\"ContainerViewModel\",(function(){return l})),n.d(t,\"ContainerStatsViewModel\",(function(){return c})),n.d(t,\"ContainerDetailsViewModel\",(function(){return d}));var a=n(151),i=n(69),s=n(46),r=n(70);function o(e){var t=Object(s.a)(e);return t.indexOf(\"paused\")>-1?\"paused\":t.indexOf(\"dead\")>-1?\"dead\":t.indexOf(\"created\")>-1?\"created\":t.indexOf(\"exited\")>-1?\"stopped\":t.indexOf(\"(healthy)\")>-1?\"healthy\":t.indexOf(\"(unhealthy)\")>-1?\"unhealthy\":t.indexOf(\"(health: starting)\")>-1?\"starting\":\"running\"}function l(e){if(this.Id=e.Id,this.Status=o(e.Status),this.State=e.State,this.Created=e.Created,this.Names=e.Names,e.NetworkSettings&&!Object(i.a)(e.NetworkSettings.Networks)&&(this.IP=e.NetworkSettings.Networks[Object.keys(e.NetworkSettings.Networks)[0]].IPAddress),this.NetworkSettings=e.NetworkSettings,this.Image=e.Image,this.ImageID=e.ImageID,this.Command=e.Command,this.Checked=!1,this.Labels=e.Labels,this.Labels&&this.Labels[\"com.docker.compose.project\"]?this.StackName=this.Labels[\"com.docker.compose.project\"]:this.Labels&&this.Labels[\"com.docker.stack.namespace\"]&&(this.StackName=this.Labels[\"com.docker.stack.namespace\"]),this.Mounts=e.Mounts,this.Ports=[],e.Ports)for(var t=0;t<e.Ports.length;++t){var n=e.Ports[t];n.PublicPort&&this.Ports.push({host:n.IP,private:n.PrivatePort,public:n.PublicPort})}e.Portainer&&(e.Portainer.ResourceControl&&(this.ResourceControl=new r.ResourceControlViewModel(e.Portainer.ResourceControl)),e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName))}function c(e){if(this.read=e.read,this.preread=e.preread,void 0!==e.memory_stats.privateworkingset?(this.MemoryUsage=e.memory_stats.privateworkingset,this.MemoryCache=0,this.NumProcs=e.num_procs,this.isWindows=!0):void 0===e.memory_stats.stats||void 0===e.memory_stats.usage?this.MemoryUsage=this.MemoryCache=0:(this.MemoryCache=0,void 0!==e.memory_stats.stats.cache&&(this.MemoryCache=e.memory_stats.stats.cache),this.MemoryUsage=e.memory_stats.usage-this.MemoryCache),this.PreviousCPUTotalUsage=e.precpu_stats.cpu_usage.total_usage,this.PreviousCPUSystemUsage=e.precpu_stats.system_cpu_usage,this.CurrentCPUTotalUsage=e.cpu_stats.cpu_usage.total_usage,this.CurrentCPUSystemUsage=e.cpu_stats.system_cpu_usage,this.CPUCores=1,e.cpu_stats.cpu_usage.percpu_usage?this.CPUCores=e.cpu_stats.cpu_usage.percpu_usage.length:void 0!==e.cpu_stats.online_cpus&&(this.CPUCores=e.cpu_stats.online_cpus),this.Networks=Object(a.a)(e.networks),void 0!==e.blkio_stats&&null!==e.blkio_stats.io_service_bytes_recursive){var t=e.blkio_stats.io_service_bytes_recursive.find(e=>\"Read\"===e.op);void 0===t&&(t=e.blkio_stats.io_service_bytes_recursive.find(e=>\"read\"===e.op)),void 0!==t&&(this.BytesRead=t.value);var n=e.blkio_stats.io_service_bytes_recursive.find(e=>\"Write\"===e.op);void 0===n&&(n=e.blkio_stats.io_service_bytes_recursive.find(e=>\"write\"===e.op)),void 0!==n&&(this.BytesWrite=n.value)}else this.noIOdata=!0}function d(e){this.Model=e,this.Id=e.Id,this.State=e.State,this.Created=e.Created,this.Name=e.Name,this.NetworkSettings=e.NetworkSettings,this.Args=e.Args,this.Image=e.Image,this.Config=e.Config,this.HostConfig=e.HostConfig,this.Mounts=e.Mounts,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new r.ResourceControlViewModel(e.Portainer.ResourceControl))}},function(e,t,n){\"use strict\";function a(e){if(this.Id=e.Id,this.Tag=e.Tag,this.Repository=e.Repository,this.Created=e.Created,this.Checked=!1,this.RepoTags=e.RepoTags,!this.RepoTags&&e.RepoDigests){this.RepoTags=[];for(var t=0;t<e.RepoDigests.length;t++){var n=e.RepoDigests[t],a=n.substring(0,n.indexOf(\"@\"));this.RepoTags.push(a+\":<none>\")}}this.VirtualSize=e.VirtualSize,this.ContainerCount=e.ContainerCount,e.Portainer&&e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName),this.Labels=e.Labels}function i(e){this.hasError=!1;for(var t=[],n=0;n<e.length;n++){var a=e[n];a.stream&&(a=a.stream.replace(/[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,\"\"),t.push(a)),a.errorDetail&&(t.push(a.errorDetail.message),this.hasError=!0)}this.buildLogs=t}n.r(t),n.d(t,\"ImageViewModel\",(function(){return a})),n.d(t,\"ImageBuildModel\",(function(){return i}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesNodeHelper\",(function(){return p}));var a=n(122),i=n(269),s=n(41),r=n(5),o=n(68),l=n(2),c=n(75),d=n(67),u=n(85);class p{static isSystemLabel(e){return!e.IsNew&&(Object(u.a)(e.Key,\"beta.kubernetes.io\")||Object(u.a)(e.Key,\"kubernetes.io\")||\"node-role.kubernetes.io/master\"===e.Key)}static reorderLabels(e){return Object(d.a)(e,e=>!p.isSystemLabel(e))}static computeUsedLabels(e,t){const n=Object(c.a)(Object(l.a)(e,\"Pods\")),a=Object(o.a)(Object(c.a)(Object(l.a)(n,\"NodeSelector\")));return Object(l.a)(t,e=>(e.IsUsed=!!Object(r.a)(a,t=>t&&t[e.Key]===e.Value),e))}static generateNodeLabelsFromNodes(e){const t=Object(s.a)(e,e=>Object(l.a)(Object(i.a)(e.Labels),([e,t])=>({key:e,value:t})));return Object(l.a)(Object(a.a)(t,\"key\"),(e,t)=>({Key:t,Values:Object(o.a)(Object(l.a)(e,\"value\"))}))}}},function(e,t,n){\"use strict\";function a(){this.Name=\"\",this.Description=\"\",this.TagIds=[]}function i(e){this.Id=e.Id,this.Name=e.Name,this.Description=e.Description,this.TagIds=e.TagIds,this.AuthorizedUsers=e.AuthorizedUsers,this.AuthorizedTeams=e.AuthorizedTeams,this.UserAccessPolicies=e.UserAccessPolicies,this.TeamAccessPolicies=e.TeamAccessPolicies}function s(e,t){this.Name=e.Name,this.Description=e.Description,this.TagIds=e.TagIds,this.AssociatedEndpoints=t}function r(e,t){this.id=e.Id,this.Name=e.Name,this.Description=e.Description,this.TagIds=e.TagIds,this.AssociatedEndpoints=t,this.UserAccessPolicies=e.UserAccessPolicies,this.TeamAccessPolicies=e.TeamAccessPolicies}n.r(t),n.d(t,\"EndpointGroupDefaultModel\",(function(){return a})),n.d(t,\"EndpointGroupModel\",(function(){return i})),n.d(t,\"EndpointGroupCreateRequest\",(function(){return s})),n.d(t,\"EndpointGroupUpdateRequest\",(function(){return r}))},,function(e,t,n){\"use strict\";function a(){return{requiredDuringSchedulingIgnoredDuringExecution:{nodeSelectorTerms:[]},preferredDuringSchedulingIgnoredDuringExecution:[]}}function i(){return{weight:1,preference:{}}}function s(){return{matchExpressions:[]}}function r(){return{key:\"\",operator:\"\",values:[]}}n.r(t),n.d(t,\"KubernetesPodNodeAffinityPayload\",(function(){return a})),n.d(t,\"KubernetesPreferredSchedulingTermPayload\",(function(){return i})),n.d(t,\"KubernetesNodeSelectorTermPayload\",(function(){return s})),n.d(t,\"KubernetesNodeSelectorRequirementPayload\",(function(){return r}))},,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"isSystem\",(function(){return i})),n.d(t,\"updateNamespaces\",(function(){return s}));const a={};function i(e){return a[e]&&a[e].IsSystem}function s(e){e.forEach(e=>a[e.Name]=e)}},function(e,t,n){\"use strict\";n.r(t);var a=n(53),i=n(161),s=n(602),r=n(3),o=n(22),l=n(20),c=n(51),d=n(220);class u{static applicationFormValuesToDeployment(e,t){const n=new i.KubernetesDeployment;return n.Namespace=e.ResourcePool.Namespace.Name,n.Name=e.Name,n.StackName=e.StackName?e.StackName:e.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n.ReplicaCount=e.ReplicaCount,n.ImageModel=e.ImageModel,n.CpuLimit=e.CpuLimit,n.MemoryLimit=l.default.bytesValue(e.MemoryLimit),n.Env=o.default.generateEnvFromEnvVariables(e.EnvironmentVariables),n.Containers=e.Containers,o.default.generateVolumesFromPersistentVolumClaims(n,t),o.default.generateEnvOrVolumesFromConfigurations(n,e.Configurations),o.default.generateAffinityFromPlacements(n,e),n}static createPayload(e){const t=new s.KubernetesDeploymentCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[r.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[r.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[r.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.annotations[r.KubernetesPortainerApplicationNote]=e.Note,t.spec.replicas=e.ReplicaCount,t.spec.selector.matchLabels.app=e.Name,t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[r.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,e.ImageModel&&(t.spec.template.spec.containers[0].image=Object(d.buildImageFullURI)(e.ImageModel),e.ImageModel.Registry&&e.ImageModel.Registry.Authentication&&(t.spec.template.spec.imagePullSecrets=[{name:\"registry-\"+e.ImageModel.Registry.Id}])),t.spec.template.spec.affinity=e.Affinity,c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].env\",e.Env),c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].volumeMounts\",e.VolumeMounts),c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.volumes\",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}static patchPayload(e,t){const n=u.createPayload(e),i=u.createPayload(t);return a.a(n,i)}}t.default=u},function(e,t,n){\"use strict\";n.r(t);var a=n(53),i=n(162),s=n(603),r=n(3),o=n(22),l=n(20),c=n(51),d=n(220);class u{static applicationFormValuesToDaemonSet(e,t){const n=new i.KubernetesDaemonSet;return n.Namespace=e.ResourcePool.Namespace.Name,n.Name=e.Name,n.StackName=e.StackName?e.StackName:e.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n.ImageModel=e.ImageModel,n.CpuLimit=e.CpuLimit,n.MemoryLimit=l.default.bytesValue(e.MemoryLimit),n.Env=o.default.generateEnvFromEnvVariables(e.EnvironmentVariables),o.default.generateVolumesFromPersistentVolumClaims(n,t),o.default.generateEnvOrVolumesFromConfigurations(n,e.Configurations),o.default.generateAffinityFromPlacements(n,e),n}static createPayload(e){const t=new s.KubernetesDaemonSetCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[r.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[r.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[r.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.annotations[r.KubernetesPortainerApplicationNote]=e.Note,t.spec.replicas=e.ReplicaCount,t.spec.selector.matchLabels.app=e.Name,t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[r.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,t.spec.template.spec.containers[0].image=Object(d.buildImageFullURI)(e.ImageModel),e.ImageModel.Registry&&e.ImageModel.Registry.Authentication&&(t.spec.template.spec.imagePullSecrets=[{name:\"registry-\"+e.ImageModel.Registry.Id}]),t.spec.template.spec.affinity=e.Affinity,c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].env\",e.Env),c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].volumeMounts\",e.VolumeMounts),c.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.volumes\",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}static patchPayload(e,t){const n=u.createPayload(e),i=u.createPayload(t);return a.a(n,i)}}t.default=u},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(53),s=n(112),r=n(604),o=n(3),l=n(22),c=n(20),d=n(51),u=n(220),p=n(126);class m{static applicationFormValuesToStatefulSet(e,t){const n=new s.KubernetesStatefulSet;return n.Namespace=e.ResourcePool.Namespace.Name,n.Name=e.Name,n.StackName=e.StackName?e.StackName:e.Name,n.ApplicationOwner=e.ApplicationOwner,n.ApplicationName=e.Name,n.ReplicaCount=e.ReplicaCount,n.ImageModel=e.ImageModel,n.CpuLimit=e.CpuLimit,n.MemoryLimit=c.default.bytesValue(e.MemoryLimit),n.Env=l.default.generateEnvFromEnvVariables(e.EnvironmentVariables),l.default.generateVolumesFromPersistentVolumClaims(n,t),l.default.generateEnvOrVolumesFromConfigurations(n,e.Configurations),l.default.generateAffinityFromPlacements(n,e),n}static createPayload(e){const t=new r.KubernetesStatefulSetCreatePayload;return t.metadata.name=e.Name,t.metadata.namespace=e.Namespace,t.metadata.labels[o.KubernetesPortainerApplicationStackNameLabel]=e.StackName,t.metadata.labels[o.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.metadata.labels[o.KubernetesPortainerApplicationOwnerLabel]=e.ApplicationOwner,t.metadata.annotations[o.KubernetesPortainerApplicationNote]=e.Note,t.spec.replicas=e.ReplicaCount,t.spec.serviceName=e.ServiceName,t.spec.selector.matchLabels.app=e.Name,t.spec.volumeClaimTemplates=Object(a.a)(e.VolumeClaims,e=>p.default.createPayload(e)),t.spec.template.metadata.labels.app=e.Name,t.spec.template.metadata.labels[o.KubernetesPortainerApplicationNameLabel]=e.ApplicationName,t.spec.template.spec.containers[0].name=e.Name,e.ImageModel.Image&&(t.spec.template.spec.containers[0].image=Object(u.buildImageFullURI)(e.ImageModel),e.ImageModel.Registry&&e.ImageModel.Registry.Authentication&&(t.spec.template.spec.imagePullSecrets=[{name:\"registry-\"+e.ImageModel.Registry.Id}])),t.spec.template.spec.affinity=e.Affinity,d.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].env\",e.Env),d.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.containers[0].volumeMounts\",e.VolumeMounts),d.default.assignOrDeleteIfEmpty(t,\"spec.template.spec.volumes\",e.Volumes),e.MemoryLimit&&(t.spec.template.spec.containers[0].resources.limits.memory=e.MemoryLimit,t.spec.template.spec.containers[0].resources.requests.memory=e.MemoryLimit),e.CpuLimit&&(t.spec.template.spec.containers[0].resources.limits.cpu=e.CpuLimit,t.spec.template.spec.containers[0].resources.requests.cpu=e.CpuLimit),e.CpuLimit||e.MemoryLimit||delete t.spec.template.spec.containers[0].resources,t}static patchPayload(e,t){const n=m.createPayload(e),a=m.createPayload(t);return i.a(n,a)}}t.default=m},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesPersistentVolumeClaim\",(function(){return r})),n.d(t,\"KubernetesVolume\",(function(){return l}));var a=n(95),i=n.n(a);const s=Object.freeze({Id:\"\",Name:\"\",PreviousName:\"\",Namespace:\"\",Storage:0,StorageClass:{},CreationDate:\"\",ApplicationOwner:\"\",ApplicationName:\"\",MountPath:\"\",Yaml:\"\"});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s))),this.Name=i()()}}const o=Object.freeze({ResourcePool:{},PersistentVolumeClaim:{},Applications:[]});class l{constructor(){Object.assign(this,JSON.parse(JSON.stringify(o)))}}},function(e,t,n){\"use strict\";n.r(t);var a=n(816),i=n(5),s=n(42);t.default=class{static generateHeadlessServiceName(e){return s.KubernetesServiceHeadlessPrefix+e}static findApplicationBoundService(e,t){if(t.spec.template)return Object(i.a)(e,e=>e.spec.selector&&Object(a.a)(t.spec.template.metadata.labels,e.spec.selector))}}},,,function(e,t,n){\"use strict\";function a(){sessionStorage.clear()}function i(e,t){sessionStorage.setItem(e,JSON.stringify(t))}function s(e){try{const t=sessionStorage.getItem(e);return JSON.parse(t)}catch(e){return}}n.r(t),n.d(t,\"clear\",(function(){return a})),n.d(t,\"save\",(function(){return i})),n.d(t,\"get\",(function(){return s}))},,function(e,t,n){\"use strict\";function a(e,t,n,a,i){this.EndpointId=t.Id,this.EndpointName=t.Name,this.RoleId=e.RoleId,this.RoleName=n[e.RoleId].Name,this.RolePriority=n[e.RoleId].Priority,a&&(this.GroupId=a.Id,this.GroupName=a.Name),i&&(this.TeamId=i.Id,this.TeamName=i.Name),this.AccessLocation=a?\"environment group\":\"environment\"}n.r(t),n.d(t,\"default\",(function(){return a}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"authenticationMethodTypesMap\",(function(){return a})),n.d(t,\"authenticationMethodTypesLabels\",(function(){return i}));const a={INTERNAL:1,LDAP:2,OAUTH:3},i={[a.INTERNAL]:\"Internal\",[a.LDAP]:\"LDAP\",[a.OAUTH]:\"OAuth\"}},,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ContainerCapabilities\",(function(){return i})),n.d(t,\"ContainerCapability\",(function(){return s}));var a={SETPCAP:\"Modify process capabilities.\",MKNOD:\"Create special files using mknod(2).\",AUDIT_WRITE:\"Write records to kernel auditing log.\",CHOWN:\"Make arbitrary changes to file UIDs and GIDs (see chown(2)).\",NET_RAW:\"Use RAW and PACKET sockets.\",DAC_OVERRIDE:\"Bypass file read, write, and execute permission checks.\",FOWNER:\"Bypass permission checks on operations that normally require the file system UID of the process to match the UID of the file.\",FSETID:\"Don\u2019t clear set-user-ID and set-group-ID permission bits when a file is modified.\",KILL:\"Bypass permission checks for sending signals.\",SETGID:\"Make arbitrary manipulations of process GIDs and supplementary GID list.\",SETUID:\"Make arbitrary manipulations of process UIDs.\",NET_BIND_SERVICE:\"Bind a socket to internet domain privileged ports (port numbers less than 1024).\",SYS_CHROOT:\"Use chroot(2), change root directory.\",SETFCAP:\"Set file capabilities.\",SYS_MODULE:\"Load and unload kernel modules.\",SYS_RAWIO:\"Perform I/O port operations (iopl(2) and ioperm(2)).\",SYS_PACCT:\"Use acct(2), switch process accounting on or off.\",SYS_ADMIN:\"Perform a range of system administration operations.\",SYS_NICE:\"Raise process nice value (nice(2), setpriority(2)) and change the nice value for arbitrary processes.\",SYS_RESOURCE:\"Override resource Limits.\",SYS_TIME:\"Set system clock (settimeofday(2), stime(2), adjtimex(2)); set real-time (hardware) clock.\",SYS_TTY_CONFIG:\"Use vhangup(2); employ various privileged ioctl(2) operations on virtual terminals.\",AUDIT_CONTROL:\"Enable and disable kernel auditing; change auditing filter rules; retrieve auditing status and filtering rules.\",MAC_ADMIN:\"Allow MAC configuration or state changes. Implemented for the Smack LSM.\",MAC_OVERRIDE:\"Override Mandatory Access Control (MAC). Implemented for the Smack Linux Security Module (LSM).\",NET_ADMIN:\"Perform various network-related operations.\",SYSLOG:\"Perform privileged syslog(2) operations.\",DAC_READ_SEARCH:\"Bypass file read permission checks and directory read and execute permission checks.\",LINUX_IMMUTABLE:\"Set the FS_APPEND_FL and FS_IMMUTABLE_FL i-node flags.\",NET_BROADCAST:\"Make socket broadcasts, and listen to multicasts.\",IPC_LOCK:\"Lock memory (mlock(2), mlockall(2), mmap(2), shmctl(2)).\",IPC_OWNER:\"Bypass permission checks for operations on System V IPC objects.\",SYS_PTRACE:\"Trace arbitrary processes using ptrace(2).\",SYS_BOOT:\"Use reboot(2) and kexec_load(2), reboot and load a new kernel for later execution.\",LEASE:\"Establish leases on arbitrary files (see fcntl(2)).\",WAKE_ALARM:\"Trigger something that will wake up the system.\",BLOCK_SUSPEND:\"Employ features that can block system suspend.\"};function i(){return[new s(\"SETPCAP\",!0),new s(\"MKNOD\",!0),new s(\"AUDIT_WRITE\",!0),new s(\"CHOWN\",!0),new s(\"NET_RAW\",!0),new s(\"DAC_OVERRIDE\",!0),new s(\"FOWNER\",!0),new s(\"FSETID\",!0),new s(\"KILL\",!0),new s(\"SETGID\",!0),new s(\"SETUID\",!0),new s(\"NET_BIND_SERVICE\",!0),new s(\"SYS_CHROOT\",!0),new s(\"SETFCAP\",!0),new s(\"SYS_MODULE\",!1),new s(\"SYS_RAWIO\",!1),new s(\"SYS_PACCT\",!1),new s(\"SYS_ADMIN\",!1),new s(\"SYS_NICE\",!1),new s(\"SYS_RESOURCE\",!1),new s(\"SYS_TIME\",!1),new s(\"SYS_TTY_CONFIG\",!1),new s(\"AUDIT_CONTROL\",!1),new s(\"MAC_ADMIN\",!1),new s(\"MAC_OVERRIDE\",!1),new s(\"NET_ADMIN\",!1),new s(\"SYSLOG\",!1),new s(\"DAC_READ_SEARCH\",!1),new s(\"LINUX_IMMUTABLE\",!1),new s(\"NET_BROADCAST\",!1),new s(\"IPC_LOCK\",!1),new s(\"IPC_OWNER\",!1),new s(\"SYS_PTRACE\",!1),new s(\"SYS_BOOT\",!1),new s(\"LEASE\",!1),new s(\"WAKE_ALARM\",!1),new s(\"BLOCK_SUSPEND\",!1)].sort((function(e,t){return e.capability<t.capability?-1:1}))}function s(e,t){this.capability=e,this.allowed=t,this.description=a[e]}},,function(e,t,n){\"use strict\";function a(e=!1,t=!1,n=[],a=[],i=[]){this.AdministratorsOnly=e,this.Public=t,this.Users=n,this.Teams=a,this.SubResourceIDs=i}n.r(t),n.d(t,\"ResourceControlOwnershipParameters\",(function(){return a}))},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";function a(e){const t={};return t.file=e,t}n.r(t),n.d(t,\"browseGetResponse\",(function(){return a}))},function(e,t,n){\"use strict\";n.r(t);var a=n(5),i=n(34),s=n(616);t.default=class{static stacksFromApplications(e){return Object(i.a)(e,(e,t)=>{if(t.StackName){let n=Object(a.a)(e,{Name:t.StackName,ResourcePool:t.ResourcePool});n||(n=new s.KubernetesStack,n.Name=t.StackName,n.ResourcePool=t.ResourcePool,e.push(n)),n.Applications.push(t)}return e},[])}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(34);async function i(e){const t={fulfilled:[],rejected:[]},n=await Promise.allSettled(e);return t.fulfilled=Object(a.a)(n,(e,t)=>(\"fulfilled\"===t.status&&e.push(t.value),e),[]),t.rejected=Object(a.a)(n,(e,t)=>(\"rejected\"===t.status&&e.push(t.reason),e),[]),t}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return c}));var a=n(383),i=n.n(a),s=n(823),r=n.n(s),o=n(384),l=n.n(o);class c{static idsToTagNames(e,t){const n=l()(e,e=>r()(t,e.Id));return i()(n,\"Name\")}}},,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"VolumeViewModel\",(function(){return i}));var a=n(70);function i(e){this.Id=e.Name,this.CreatedAt=e.CreatedAt,this.Driver=e.Driver,this.Options=e.Options,this.Labels=e.Labels,this.Labels&&this.Labels[\"com.docker.compose.project\"]?this.StackName=this.Labels[\"com.docker.compose.project\"]:this.Labels&&this.Labels[\"com.docker.stack.namespace\"]&&(this.StackName=this.Labels[\"com.docker.stack.namespace\"]),this.Mountpoint=e.Mountpoint,this.ResourceId=e.ResourceID,e.Portainer&&(e.Portainer.ResourceControl&&(this.ResourceControl=new a.ResourceControlViewModel(e.Portainer.ResourceControl)),e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName))}},function(e,t,n){\"use strict\";function a(e){this.Name=e.Name,this.Recurring=e.Recurring,this.CronExpression=e.CronExpression,this.Endpoints=e.Endpoints,this.FileContent=e.FileContent,this.File=e.File}function i(e){this.id=e.Id,this.Name=e.Name,this.Recurring=e.Recurring,this.CronExpression=e.CronExpression,this.Endpoints=e.Endpoints,this.FileContent=e.FileContent}n.r(t),n.d(t,\"ScheduleCreateRequest\",(function(){return a})),n.d(t,\"ScheduleUpdateRequest\",(function(){return i}))},,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesConfigMapCreatePayload\",(function(){return s})),n.d(t,\"KubernetesConfigMapUpdatePayload\",(function(){return o}));var a=n(58);const i=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,data:{},binaryData:{}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}const r=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,data:{},binaryData:{}});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return c}));var a=n(200),i=n(69),s=n(195),r=n(610),o=n(113),l=n(27);class c{static apiToNamespace(e,t){const n=new s.KubernetesNamespace;if(n.Id=e.metadata.uid,n.Name=e.metadata.name,n.CreationDate=e.metadata.creationTimestamp,n.Status=e.status.phase,n.Yaml=t?t.data:\"\",n.ResourcePoolName=e.metadata.labels?e.metadata.labels[o.KubernetesPortainerResourcePoolNameLabel]:\"\",n.ResourcePoolOwner=e.metadata.labels?e.metadata.labels[o.KubernetesPortainerResourcePoolOwnerLabel]:\"\",n.IsSystem=l.default.isDefaultSystemNamespace(e.metadata.name),e.metadata.labels){const t=e.metadata.labels[o.KubernetesPortainerNamespaceSystemLabel];Object(i.a)(t)||(n.IsSystem=\"true\"===t)}return n}static createPayload(e){const t=new r.KubernetesNamespaceCreatePayload;if(t.metadata.name=e.Name,t.metadata.labels[o.KubernetesPortainerResourcePoolNameLabel]=e.ResourcePoolName,e.ResourcePoolOwner){const n=Object(a.a)(e.ResourcePoolOwner,{length:63,omission:\"\"});t.metadata.labels[o.KubernetesPortainerResourcePoolOwnerLabel]=n}return t}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesIngressCreatePayload\",(function(){return i})),n.d(t,\"KubernetesIngressRuleCreatePayload\",(function(){return s})),n.d(t,\"KubernetesIngressRulePathCreatePayload\",(function(){return r}));var a=n(58);function i(){return{metadata:new a.KubernetesCommonMetadataPayload,spec:{rules:[]}}}function s(){return{host:\"\",http:{paths:[]}}}function r(){return{path:\"\",pathType:\"ImplementationSpecific\",backend:{service:{name:\"\",port:{number:0}}}}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesEndpointAnnotationLeader\",(function(){return a})),n.d(t,\"KubernetesEndpoint\",(function(){return s})),n.d(t,\"KubernetesEndpointSubset\",(function(){return o}));const a=\"control-plane.alpha.kubernetes.io/leader\",i=Object.freeze({Id:\"\",Name:\"\",Namespace:\"\",HolderIdentity:\"\",Subsets:[]});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}const r=Object.freeze({Ips:[],Port:0});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(306),s=n(81),r=n(111);t.default=class{static parseJSONData(e){return Object(i.a)(e.Data,(t,n)=>{try{e.Data[n]=JSON.parse(t)}catch(a){e.Data[n]=t}}),e}static modifiyNamespaceAccesses(e,t,n){return e.Data[s.KubernetesPortainerConfigMapAccessKey][t]={UserAccessPolicies:{},TeamAccessPolicies:{}},Object(a.a)(n,n=>{n instanceof r.UserAccessViewModel?e.Data[s.KubernetesPortainerConfigMapAccessKey][t].UserAccessPolicies[n.Id]={RoleId:0}:n instanceof r.TeamAccessViewModel&&(e.Data[s.KubernetesPortainerConfigMapAccessKey][t].TeamAccessPolicies[n.Id]={RoleId:0})}),Object(i.a)(e.Data,(t,n)=>{e.Data[n]=JSON.stringify(t)}),e}}},,function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(149),s=n(67),r=n(6),o=n(5),l=n(1),c=n.n(l),d=n(155);class u{static _isControlledBy(e){return t=>void 0!==Object(o.a)(t.metadata.ownerReferences,{uid:e.metadata.uid})}static filterOwnedRevisions(e,t){const n=Object(r.a)(e,[\"spec.selector\",t.spec.selector]),a=Object(r.a)(n,u._isControlledBy(t));return Object(s.a)(a,[\"metadata.creationTimestamp\",\"metadata.name\"])}static getCurrentRevision(e,t){const n=c.a.copy(e),a=Object(o.a)(n,e=>(delete e.spec.template.metadata.labels[d.KubernetesSystem_DefaultDeploymentUniqueLabelKey],Object(i.a)(t.spec.template,e.spec.template)));return a.revision=a.metadata.annotations[d.KubernetesSystem_RevisionAnnotation],a}static filterVersionedRevisions(e){const t=Object(r.a)(e,e=>void 0!==e.metadata.annotations[d.KubernetesSystem_RevisionAnnotation]);return Object(a.a)(t,e=>(e.revision=e.metadata.annotations[d.KubernetesSystem_RevisionAnnotation],e))}}t.default=u},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"getResourcesSummary\",(function(){return m}));var a=n(16),i=n(6),s=n(822),r=n(686),o=n(53),l=n(39);function c(e,t){return Object(r.a)(e,t,\"Name\")}function d(e,t){return Object(r.a)(t,e,\"Name\")}function u(e,t){return Object(s.a)(e,t,(e,t)=>e.Name==t.Name&&!function(e,t){let n=o.a(e,t);return n=Object(i.a)(n,e=>!Object(a.a)(e.path,\"$$hashKey\")&&!Object(a.a)(e.path,\"Duplicate\")),!n.length}(e,t))}function p(e,t,n,a,i){return i(e,t).map(e=>({name:e.Name,action:a,kind:n}))}function m(e,t,n){Array.isArray(e)||(e=e?[e]:[],t=t?[t]:[]);return[...p(e,t,n,l.KubernetesResourceActions.CREATE,c),...p(e,t,n,l.KubernetesResourceActions.UPDATE,u),...p(e,t,n,l.KubernetesResourceActions.DELETE,d)]}},function(e,t,n){\"use strict\";function a(e){this.Id=e.Id,this.Username=e.Username,this.Role=e.Role,this.UserTheme=e.UserTheme,1===e.Role?this.RoleName=\"administrator\":this.RoleName=\"user\",this.AuthenticationMethod=e.AuthenticationMethod,this.Checked=!1}function i(e){this.id=e.id,this.userId=e.userId,this.description=e.description,this.prefix=e.prefix,this.dateCreated=e.dateCreated,this.lastUsed=e.lastUsed}n.r(t),n.d(t,\"UserViewModel\",(function(){return a})),n.d(t,\"UserTokenModel\",(function(){return i}))},,,,,,,,,function(e,t,n){e.exports=n.p+\"e8d61d0972528623bc610d87590bc20d.svg\"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";function a(e,t){this.Id=e.id,this.SubscriptionId=t,this.Name=e.name,this.Location=e.location}n.r(t),n.d(t,\"ResourceGroupViewModel\",(function(){return a}))},function(e,t,n){\"use strict\";function a(e){this.Id=e.subscriptionId,this.Name=e.displayName}n.r(t),n.d(t,\"SubscriptionViewModel\",(function(){return a}))},,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ConfigViewModel\",(function(){return i}));var a=n(70);function i(e){this.Id=e.ID,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Version=e.Version.Index,this.Name=e.Spec.Name,this.Labels=e.Spec.Labels,this.Data=function(e){try{return decodeURIComponent(atob(e).split(\"\").map((function(e){return\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2)})).join(\"\"))}catch(t){return atob(e)}}(e.Spec.Data),e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new a.ResourceControlViewModel(e.Portainer.ResourceControl))}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"NetworkViewModel\",(function(){return i}));var a=n(70);function i(e){this.Id=e.Id,this.Name=e.Name,this.Scope=e.Scope,this.Driver=e.Driver,this.Attachable=e.Attachable,this.Internal=e.Internal,this.IPAM=e.IPAM,this.Containers=e.Containers,this.Options=e.Options,this.Ingress=e.Ingress,this.Labels=e.Labels,this.Labels&&this.Labels[\"com.docker.compose.project\"]?this.StackName=this.Labels[\"com.docker.compose.project\"]:this.Labels&&this.Labels[\"com.docker.stack.namespace\"]&&(this.StackName=this.Labels[\"com.docker.stack.namespace\"]),e.Portainer&&(e.Portainer.ResourceControl&&(this.ResourceControl=new a.ResourceControlViewModel(e.Portainer.ResourceControl)),e.Portainer.Agent&&e.Portainer.Agent.NodeName&&(this.NodeName=e.Portainer.Agent.NodeName)),this.ConfigFrom=e.ConfigFrom,this.ConfigOnly=e.ConfigOnly}},function(e,t,n){\"use strict\";function a(e){this.Model=e,this.Id=e.ID,this.Version=e.Version.Index,this.Name=e.Spec.Name,this.Role=e.Spec.Role,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Availability=e.Spec.Availability;var t=e.Spec.Labels;this.Labels=t?Object.keys(t).map((function(e){return{key:e,value:t[e],originalKey:e,originalValue:t[e],added:!0}})):[];var n=e.Description.Engine.Labels;this.EngineLabels=n?Object.keys(n).map((function(e){return{key:e,value:n[e]}})):[],this.Hostname=e.Description.Hostname,this.PlatformArchitecture=e.Description.Platform.Architecture,this.PlatformOS=e.Description.Platform.OS,this.CPUs=e.Description.Resources.NanoCPUs,this.Memory=e.Description.Resources.MemoryBytes,this.EngineVersion=e.Description.Engine.EngineVersion,this.Plugins=e.Description.Engine.Plugins,this.Status=e.Status.State,e.Status.Addr&&(this.Addr=e.Status.Addr),e.ManagerStatus&&(this.Leader=e.ManagerStatus.Leader,this.Reachability=e.ManagerStatus.Reachability,this.ManagerAddr=e.ManagerStatus.Addr)}n.r(t),n.d(t,\"NodeViewModel\",(function(){return a}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"SecretViewModel\",(function(){return i}));var a=n(70);function i(e){this.Id=e.ID,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Version=e.Version.Index,this.Name=e.Spec.Name,this.Labels=e.Spec.Labels,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new a.ResourceControlViewModel(e.Portainer.ResourceControl))}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ServiceViewModel\",(function(){return i}));var a=n(70);function i(e,t,n){this.Model=e,this.Id=e.ID,this.Tasks=[],this.Name=e.Spec.Name,this.CreatedAt=e.CreatedAt,this.UpdatedAt=e.UpdatedAt,this.Image=e.Spec.TaskTemplate.ContainerSpec.Image,this.Version=e.Version.Index,e.Spec.Mode.Replicated?(this.Mode=\"replicated\",this.Replicas=e.Spec.Mode.Replicated.Replicas):(this.Mode=\"global\",n&&(this.Replicas=n.length)),t&&(this.Running=t.length),e.Spec.TaskTemplate.Resources&&(e.Spec.TaskTemplate.Resources.Limits&&(this.LimitNanoCPUs=e.Spec.TaskTemplate.Resources.Limits.NanoCPUs,this.LimitMemoryBytes=e.Spec.TaskTemplate.Resources.Limits.MemoryBytes),e.Spec.TaskTemplate.Resources.Reservations&&(this.ReservationNanoCPUs=e.Spec.TaskTemplate.Resources.Reservations.NanoCPUs,this.ReservationMemoryBytes=e.Spec.TaskTemplate.Resources.Reservations.MemoryBytes)),e.Spec.TaskTemplate.RestartPolicy?(this.RestartCondition=e.Spec.TaskTemplate.RestartPolicy.Condition||\"any\",this.RestartDelay=e.Spec.TaskTemplate.RestartPolicy.Delay||5e9,this.RestartMaxAttempts=e.Spec.TaskTemplate.RestartPolicy.MaxAttempts||0,this.RestartWindow=e.Spec.TaskTemplate.RestartPolicy.Window||0):(this.RestartCondition=\"any\",this.RestartDelay=5e9,this.RestartMaxAttempts=0,this.RestartWindow=0),e.Spec.TaskTemplate.LogDriver?(this.LogDriverName=e.Spec.TaskTemplate.LogDriver.Name||\"\",this.LogDriverOpts=e.Spec.TaskTemplate.LogDriver.Options||[]):(this.LogDriverName=\"\",this.LogDriverOpts=[]),this.Constraints=e.Spec.TaskTemplate.Placement&&e.Spec.TaskTemplate.Placement.Constraints||[],this.Preferences=e.Spec.TaskTemplate.Placement&&e.Spec.TaskTemplate.Placement.Preferences||[],this.Platforms=e.Spec.TaskTemplate.Placement&&e.Spec.TaskTemplate.Placement.Platforms||[],this.Labels=e.Spec.Labels,this.Labels&&this.Labels[\"com.docker.stack.namespace\"]&&(this.StackName=this.Labels[\"com.docker.stack.namespace\"]);var i=e.Spec.TaskTemplate.ContainerSpec;i&&(this.ContainerLabels=i.Labels,this.Command=i.Command,this.Arguments=i.Args,this.Hostname=i.Hostname,this.Env=i.Env,this.Dir=i.Dir,this.User=i.User,this.Groups=i.Groups,this.TTY=i.TTY,this.OpenStdin=i.OpenStdin,this.ReadOnly=i.ReadOnly,this.Mounts=i.Mounts||[],this.StopSignal=i.StopSignal,this.StopGracePeriod=i.StopGracePeriod,this.HealthCheck=i.HealthCheck||{},this.Hosts=i.Hosts,this.DNSConfig=i.DNSConfig,this.Secrets=i.Secrets,this.Configs=i.Configs),e.Endpoint&&(this.Ports=e.Endpoint.Ports),this.LogDriver=e.Spec.TaskTemplate.LogDriver,this.Runtime=e.Spec.TaskTemplate.Runtime,this.VirtualIPs=e.Endpoint?e.Endpoint.VirtualIPs:[],e.Spec.UpdateConfig?(this.UpdateParallelism=void 0!==typeof e.Spec.UpdateConfig.Parallelism?e.Spec.UpdateConfig.Parallelism||0:1,this.UpdateDelay=e.Spec.UpdateConfig.Delay||0,this.UpdateFailureAction=e.Spec.UpdateConfig.FailureAction||\"pause\",this.UpdateOrder=e.Spec.UpdateConfig.Order||\"stop-first\"):(this.UpdateParallelism=1,this.UpdateDelay=0,this.UpdateFailureAction=\"pause\",this.UpdateOrder=\"stop-first\"),this.RollbackConfig=e.Spec.RollbackConfig,this.Checked=!1,this.Scale=!1,this.EditName=!1,e.Portainer&&e.Portainer.ResourceControl&&(this.ResourceControl=new a.ResourceControlViewModel(e.Portainer.ResourceControl))}},function(e,t,n){\"use strict\";function a(e){this.Id=e.ID,this.Created=e.CreatedAt,this.Updated=e.UpdatedAt,this.Slot=e.Slot,this.Spec=e.Spec,this.Status=e.Status,this.DesiredState=e.DesiredState,this.ServiceId=e.ServiceID,this.NodeId=e.NodeID,e.Status&&e.Status.ContainerStatus&&e.Status.ContainerStatus.ContainerID&&(this.ContainerId=e.Status.ContainerStatus.ContainerID)}n.r(t),n.d(t,\"TaskViewModel\",(function(){return a}))},,,,,function(e,t,n){\"use strict\";function a(e){this.Id=e.driveid,this.Node=e.node,this.Use=e.use,this.Status=e.drivestatus.toLowerCase(),this.Size=e.size,this.Type=e.type,this.Device=e.device}n.r(t),n.d(t,\"StoridgeDriveModel\",(function(){return a}))},function(e,t,n){\"use strict\";function a(e,t){this.Name=e,this.IP=t.ip,this.Role=t.role,this.Status=t.status}function i(e,t){this.Name=e,this.Condition=t.condition,this.Domain=t.domain,this.DomainID=t.domainID,this.FreeBandwidth=t.freeBandwidth,this.FreeCapacity=t.freeCapacity,this.FreeIOPS=t.freeIOPS,this.Hdds=t.hdds,this.MetadataVersion=t.metadataVersion,this.Nodes=t.nodes,this.ProvisionedBandwidth=t.provisionedBandwidth,this.ProvisionedCapacity=t.provisionedCapacity,this.ProvisionedIOPS=t.provisionedIOPS,this.Ssds=t.ssds,this.Status=t.status,this.TotalBandwidth=t.totalBandwidth,this.TotalCapacity=t.totalCapacity,this.TotalIOPS=t.totalIOPS,this.UsedBandwidth=t.usedBandwidth,this.UsedCapacity=t.usedCapacity,this.UsedIOPS=t.usedIOPS,this.Vdisks=t.vdisks}n.r(t),n.d(t,\"StoridgeNodeModel\",(function(){return a})),n.d(t,\"StoridgeNodeDetailedModel\",(function(){return i}))},function(e,t,n){\"use strict\";function a(e){this.Id=e.identifier,this.Date=e.date,this.Description=e.description,this.SourceID=e.sourceid,this.Type=e.type,this.Directory=e.directory,this.Source=e.source}n.r(t),n.d(t,\"StoridgeSnapshotModel\",(function(){return a}))},function(e,t,n){\"use strict\";function a(e){this.Allocated=e.allocated,this.Capacity=e.capacity,this.Directory=e.directory,this.IOPSMax=e.maximumIOPS,this.IOPSMin=e.minimumIOPS,this.BandwidthMin=e.minimumBandwidth,this.BandwidthMax=e.maximumBandwidth,this.LocalDriveOnly=e.localDriveOnly,this.Name=e.name,this.Node=e.node,this.NodeID=e.nodeid,this.Provisioning=e.provisioning,this.Redundancy=e.redundancy,this.Uuid=e.uuid,this.Vdisk=e.vdisk,this.Labels=e.labels,this.IP=e.ipaddr,this.DriveType=e.driveType,this.Encryption=e.encryption,this.SnapshotEnabled=e.snapshot,this.SnapshotInterval=e.snapInterval,this.SnapshotMax=e.maximumSnapshots,this.Filesystem=e.filesystem}function i(e){this.name=e.Name,this.opts={node:e.Node,nodeid:e.NodeID,capacity:e.Capacity,iopsmin:e.IOPSMin,iopsmax:e.IOPSMax,bandwidthmin:e.BandwidthMin,bandwidthmax:e.BandwidthMax},this.labels=e.Labels}n.r(t),n.d(t,\"StoridgeVolumeModel\",(function(){return a})),n.d(t,\"StoridgeVolumeUpdateModel\",(function(){return i}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesPortMappingPort\",(function(){return i})),n.d(t,\"KubernetesPortMapping\",(function(){return r}));const a=Object.freeze({Port:0,TargetPort:0,Protocol:\"\",IngressRules:[]});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}const s=Object.freeze({Expanded:!1,Highlighted:!1,ResourcePool:\"\",ServiceType:\"\",ApplicationOwner:\"\",LoadBalancerIPAddress:\"\",Ports:[]});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesSecretCreatePayload\",(function(){return s})),n.d(t,\"KubernetesSecretUpdatePayload\",(function(){return o}));var a=n(58);const i=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,type:\"Opaque\",data:{},stringData:{}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}const r=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,type:\"Opaque\",data:{},stringData:{}});class o{constructor(){Object.assign(this,JSON.parse(JSON.stringify(r)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesApplicationSecret\",(function(){return i}));const a=Object.freeze({Id:0,Name:\"\",Namespace:\"\",CreationDate:\"\",ConfigurationOwner:\"\",Yaml:\"\",Data:[]});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},function(e,t,n){\"use strict\";n.r(t);var a=n(53),i=n(198),s=n(612);class r{static apiToStorageClass(e){const t=new i.KubernetesStorageClass;return t.Name=e.metadata.name,t.Provisioner=e.provisioner,t.AllowVolumeExpansion=e.allowVolumeExpansion,t}static createPayload(e){const t=new s.KubernetesStorageClassCreatePayload;return t.metadata.name=e.Name,t.provisioner=e.Provisioner,t.allowVolumeExpansion=e.AllowVolumeExpansion,t}static patchPayload(e,t){const n=r.createPayload(e),i=r.createPayload(t);return a.a(n,i)}}t.default=r},function(e,t,n){\"use strict\";n.r(t);var a=n(256);t.default=class{static pvcToVolume(e,t){const n=new a.KubernetesVolume;return n.PersistentVolumeClaim=e,n.ResourcePool=t,n}}},function(e,t,n){\"use strict\";n.r(t);var a=n(90),i=n(67),s=n(6),r=n(5);class o{static _isControlledBy(e){return t=>void 0!==Object(r.a)(t.metadata.ownerReferences,{uid:e.metadata.uid})}static filterOwnedRevisions(e,t){const n=Object(s.a)(e,[\"metadata.labels\",t.spec.selector.matchLabels]),a=Object(s.a)(n,o._isControlledBy(t));return Object(i.a)(a,[\"revision\",\"metadata.creationTimestamp\"])}static getCurrentRevision(e){return Object(a.a)(e)}}t.default=o},function(e,t,n){\"use strict\";n.r(t);var a=n(90),i=n(67),s=n(6),r=n(5);class o{static _isControlledBy(e){return t=>void 0!==Object(r.a)(t.metadata.ownerReferences,{uid:e.metadata.uid})}static filterOwnedRevisions(e,t){const n=Object(s.a)(e,[\"metadata.labels\",t.spec.selector.matchLabels]),a=Object(s.a)(n,o._isControlledBy(t));return Object(i.a)(a,[\"revision\",\"metadata.creationTimestamp\"])}static getCurrentRevision(e){return Object(a.a)(e)}}t.default=o},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesHorizontalPodAutoScaler\",(function(){return i}));const a=Object.freeze({Id:\"\",Namespace:\"\",Name:\"\",MinReplicas:1,MaxReplicas:1,TargetCPUUtilization:0,TargetEntity:{ApiVersion:\"\",Kind:\"\",Name:\"\"},Yaml:\"\"});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesNodeCreatePayload\",(function(){return i})),n.d(t,\"KubernetesNodeTaintPayload\",(function(){return r}));const a=Object.freeze({metadata:{name:\"\",labels:{}},spec:{taints:void 0}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}const s=Object.freeze({key:\"\",value:\"\",effect:\"\"});class r{constructor(){Object.assign(this,JSON.parse(JSON.stringify(s)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"PortainerEndpointInitFormValues\",(function(){return i})),n.d(t,\"PortainerEndpointInitFormValueEndpointSections\",(function(){return r}));var a=n(15);class i{constructor(){this.ConnectionType=a.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL,this.Name=\"\",this.URL=\"\",this.TLS=!1,this.TLSSkipVerify=!1,this.TLSSKipClientVerify=!1,this.TLSCACert=null,this.TLSCert=null,this.TLSKey=null,this.AzureApplicationId=\"\",this.AzureTenantId=\"\",this.AzureAuthenticationKey=\"\"}}class s{constructor(e,t,n,a){this.Id=e,this.Value=e,this.Title=t,this.Classes=n,this.Description=a}}const r=Object.freeze([new s(a.PortainerEndpointConnectionTypes.DOCKER_LOCAL,\"Docker\",\"fab fa-docker\",\"Manage the local Docker environment\"),new s(a.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL,\"Kubernetes\",\"fas fa-dharmachakra\",\"Manage the local Kubernetes environment\"),new s(a.PortainerEndpointConnectionTypes.AGENT,\"Agent\",\"fa fa-bolt\",\"Connect to a Portainer agent\")])},function(e,t,n){\"use strict\";function a(e){this.LogoURL=e.LogoURL,this.BlackListedLabels=e.BlackListedLabels,this.AuthenticationMethod=e.AuthenticationMethod,this.LDAPSettings=e.LDAPSettings,this.OAuthSettings=new l(e.OAuthSettings),this.SnapshotInterval=e.SnapshotInterval,this.TemplatesURL=e.TemplatesURL,this.EdgeAgentCheckinInterval=e.EdgeAgentCheckinInterval,this.EnableEdgeComputeFeatures=e.EnableEdgeComputeFeatures,this.FeatureFlagSettings=e.FeatureFlagSettings,this.UserSessionTimeout=e.UserSessionTimeout,this.EnableTelemetry=e.EnableTelemetry,this.KubeconfigExpiry=e.KubeconfigExpiry,this.HelmRepositoryURL=e.HelmRepositoryURL}function i(e){this.AuthenticationMethod=e.AuthenticationMethod,this.EnableEdgeComputeFeatures=e.EnableEdgeComputeFeatures,this.FeatureFlagSettings=e.FeatureFlagSettings,this.LogoURL=e.LogoURL,this.OAuthLoginURI=e.OAuthLoginURI,this.EnableTelemetry=e.EnableTelemetry,this.OAuthLogoutURI=e.OAuthLogoutURI,this.KubeconfigExpiry=e.KubeconfigExpiry}function s(e){this.ReaderDN=e.ReaderDN,this.Password=e.Password,this.URL=e.URL,this.SearchSettings=e.SearchSettings,this.GroupSearchSettings=e.GroupSearchSettings,this.AutoCreateUsers=e.AutoCreateUsers}function r(e,t,n){this.BaseDN=e,this.UsernameAttribute=t,this.Filter=n}function o(e,t,n){this.GroupBaseDN=e,this.GroupAttribute=t,this.GroupFilter=n}function l(e){this.ClientID=e.ClientID,this.ClientSecret=e.ClientSecret,this.AccessTokenURI=e.AccessTokenURI,this.AuthorizationURI=e.AuthorizationURI,this.ResourceURI=e.ResourceURI,this.RedirectURI=e.RedirectURI,this.UserIdentifier=e.UserIdentifier,this.Scopes=e.Scopes,this.OAuthAutoCreateUsers=e.OAuthAutoCreateUsers,this.DefaultTeamID=e.DefaultTeamID,this.SSO=e.SSO,this.LogoutURI=e.LogoutURI}n.r(t),n.d(t,\"SettingsViewModel\",(function(){return a})),n.d(t,\"PublicSettingsViewModel\",(function(){return i})),n.d(t,\"LDAPSettingsViewModel\",(function(){return s})),n.d(t,\"LDAPSearchSettings\",(function(){return r})),n.d(t,\"LDAPGroupSearchSettings\",(function(){return o})),n.d(t,\"OAuthSettingsViewModel\",(function(){return l}))},function(e,t,n){\"use strict\";function a(e){this.Authentication=e.Authentication,this.Snapshot=e.Snapshot,this.Version=e.Version,this.Edition=e.Edition,this.InstanceID=e.InstanceID}function i(e){this.UpdateAvailable=e.UpdateAvailable,this.LatestVersion=e.LatestVersion}n.r(t),n.d(t,\"StatusViewModel\",(function(){return a})),n.d(t,\"StatusVersionViewModel\",(function(){return i}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"TagViewModel\",(function(){return i}));var a=n(209);function i(e){this.Id=e.ID,this.Name=Object(a.a)(e.Name)}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"TeamViewModel\",(function(){return i}));var a=n(209);function i(e){this.Id=e.Id,this.Name=Object(a.a)(e.Name),this.Checked=!1}},function(e,t,n){\"use strict\";function a(e=\"\"){return e.includes(\"login.microsoftonline.com\")?\"microsoft\":e.includes(\"accounts.google.com\")?\"google\":e.includes(\"github.com\")?\"github\":\"custom\"}n.r(t),n.d(t,\"getProviderByUrl\",(function(){return a})),t.default={microsoft:{authUrl:\"https://login.microsoftonline.com/TENANT_ID/oauth2/authorize\",accessTokenUrl:\"https://login.microsoftonline.com/TENANT_ID/oauth2/token\",resourceUrl:\"https://graph.windows.net/TENANT_ID/me?api-version=2013-11-08\",logoutUrl:`https://login.microsoftonline.com/common/oauth2/v2.0/logout?post_logout_redirect_uri=${window.location.origin}/#!/auth`,userIdentifier:\"userPrincipalName\",scopes:\"id,email,name\"},google:{authUrl:\"https://accounts.google.com/o/oauth2/auth\",accessTokenUrl:\"https://accounts.google.com/o/oauth2/token\",resourceUrl:\"https://www.googleapis.com/oauth2/v1/userinfo?alt=json\",logoutUrl:`https://www.google.com/accounts/Logout?continue=https://appengine.google.com/_ah/logout?continue=${window.location.origin}/#!/auth`,userIdentifier:\"email\",scopes:\"profile email\"},github:{authUrl:\"https://github.com/login/oauth/authorize\",accessTokenUrl:\"https://github.com/login/oauth/access_token\",resourceUrl:\"https://api.github.com/user\",logoutUrl:\"https://github.com/logout\",userIdentifier:\"login\",scopes:\"id email name\"},custom:{authUrl:\"\",accessTokenUrl:\"\",resourceUrl:\"\",logoutUrl:\"\",userIdentifier:\"\",scopes:\"\"}}},function(e,t,n){\"use strict\";function a(e,t){let n={};try{n.data=angular.fromJson(e),n.next=t(\"X-Next-Page\")}catch(t){n=e}return n}n.r(t),n.d(t,\"default\",(function(){return a}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesApplicationDeploymentTypes\",(function(){return a})),n.d(t,\"KubernetesApplicationDataAccessPolicies\",(function(){return i})),n.d(t,\"KubernetesApplicationTypes\",(function(){return s})),n.d(t,\"KubernetesApplicationTypeStrings\",(function(){return r})),n.d(t,\"KubernetesApplicationPublishingTypes\",(function(){return o})),n.d(t,\"KubernetesApplicationPlacementTypes\",(function(){return l})),n.d(t,\"KubernetesApplicationQuotaDefaults\",(function(){return c})),n.d(t,\"KubernetesPortainerApplicationStackNameLabel\",(function(){return d})),n.d(t,\"KubernetesPortainerApplicationStackIdLabel\",(function(){return u})),n.d(t,\"KubernetesPortainerApplicationKindLabel\",(function(){return p})),n.d(t,\"KubernetesPortainerApplicationNameLabel\",(function(){return m})),n.d(t,\"KubernetesPortainerApplicationOwnerLabel\",(function(){return g})),n.d(t,\"KubernetesPortainerApplicationNote\",(function(){return h}));const a=Object.freeze({REPLICATED:1,GLOBAL:2}),i=Object.freeze({SHARED:1,ISOLATED:2}),s=Object.freeze({DEPLOYMENT:1,DAEMONSET:2,STATEFULSET:3,POD:4,HELM:5}),r=Object.freeze({HELM:\"Helm\",DEPLOYMENT:\"Deployment\",DAEMONSET:\"DaemonSet\",STATEFULSET:\"StatefulSet\",POD:\"Pod\"}),o=Object.freeze({CLUSTER_IP:1,NODE_PORT:2,LOAD_BALANCER:3,INGRESS:4}),l=Object.freeze({PREFERRED:1,MANDATORY:2}),c={CpuLimit:.1,MemoryLimit:64},d=\"io.portainer.kubernetes.application.stack\",u=\"io.portainer.kubernetes.application.stackid\",p=\"io.portainer.kubernetes.application.kind\",m=\"io.portainer.kubernetes.application.name\",g=\"io.portainer.kubernetes.application.owner\",h=\"io.portainer.kubernetes.application.note\"},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesPodNodeAffinityNodeSelectorRequirementOperators\",(function(){return a})),n.d(t,\"KubernetesPodAffinity\",(function(){return i}));const a=Object.freeze({IN:\"In\",NOT_IN:\"NotIn\",EXISTS:\"Exists\",DOES_NOT_EXIST:\"DoesNotExist\",GREATER_THAN:\"Gt\",LOWER_THAN:\"Lt\"});function i(){return{nodeAffinity:{}}}},,function(e,t,n){\"use strict\";n.r(t);var a=n(410),i=n(1),s=n.n(i);u.$inject=[\"$analyticsProvider\",\"$windowProvider\"];const r=1,o=2,l=3,c=4,d=[\"docker\",\"kubernetes\",\"aci\",\"portainer\",\"edge\"];function u(e,t){const n=t.$get();function i(e){n._paq&&n._paq.push(e)}function u(e,t){i([\"setCustomDimension\",e,t])}function p(e){i([\"deleteCustomDimension\",e])}e.settings.pageTracking.trackRelativePath=!0,e.api.setPortainerStatus=function(e,t){u(o,e),u(r,t)},e.api.setUserRole=function(e){u(l,e)},e.api.clearUserRole=function(){p(l)},e.api.setUserEndpointRole=function(e){u(c,e)},e.api.clearUserEndpointRole=function(){p(c)},e.api.setCustomVariable=function(e,t,n,a=\"page\"){i([\"setCustomVariable\",e,t,n,a])},e.api.deleteCustomVariable=function(e,t=\"page\"){n._paq.push([\"deleteCustomVariable\",e,t])},e.api.trackSiteSearch=function(e,t,n){if(e){const a=[\"trackSiteSearch\",e,t||!1];s.a.isDefined(n)&&a.push(n),i(a)}},e.api.trackGoal=function(e,t){i([\"trackGoal\",e,t||0])},e.api.trackLink=function(e,t){i([\"trackLink\",e,t||\"link\"])},e.registerSetUsername((function(e){i([\"setUserId\",e])})),e.registerPageTrack((function(e){i([\"setDocumentTitle\",n.document.title]),i([\"setReferrerUrl\",\"\"]),i([\"setCustomUrl\",\"http://portainer-ce.app\"+e]),i([\"trackPageView\"])})),e.registerEventTrack((function(e,t={}){let{category:n,metadata:s,value:r,dimensions:o}=t;if(r){const e=parseInt(t.value,10);t.value=isNaN(e)?0:e}if(!n)throw new Error(\"missing category\");if(n=n.toLowerCase(),!d.includes(n))throw new Error(\"unsupported category\");e=e.toLowerCase();let l=\"\";if(s){const e=Object.fromEntries(Object.entries(s).map(([e,t])=>[Object(a.a)(e),t]));l=JSON.stringify(e).toLowerCase()}i([\"trackEvent\",n,e,l,r,o||{}])})),e.registerExceptionTrack((function(e){i([\"trackEvent\",\"Exceptions\",e.toString(),e.stack,0])}))}t.default=s.a.module(\"angulartics.matomo\",[\"angulartics\"]).config(u).name},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(456);t.default=i.a.module(\"portainer.edge.stacks\",[s.default]).name},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(457),r=n(459),o=n(461),l=n(463);t.default=i.a.module(\"portainer.edge.stacks.create\",[]).component(\"createEdgeStackView\",s.createEdgeStackView).component(\"edgeStacksDockerComposeForm\",r.edgeStacksDockerComposeForm).component(\"edgeStacksKubeManifestForm\",o.kubeManifestForm).component(\"kubeDeployDescription\",l.kubeDeployDescription).name},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"createEdgeStackView\",(function(){return i}));var a=n(458);const i={templateUrl:n(919),controller:a.default}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e,t,n,a,i,s,r,o,l){Object.assign(this,{$state:e,$window:t,ModalService:n,EdgeStackService:a,EdgeGroupService:i,EdgeTemplateService:s,Notifications:r,FormHelper:o,$async:l}),this.formValues={Name:\"\",StackFileContent:\"\",StackFile:null,RepositoryURL:\"\",RepositoryReferenceName:\"\",RepositoryAuthentication:!1,RepositoryUsername:\"\",RepositoryPassword:\"\",Env:[],ComposeFilePathInRepository:\"\",Groups:[],DeploymentType:0},this.state={Method:\"editor\",formValidationError:\"\",actionInProgress:!1,StackType:null,isEditorDirty:!1,hasKubeEndpoint:!1,endpointTypes:[]},this.edgeGroups=null,this.createStack=this.createStack.bind(this),this.validateForm=this.validateForm.bind(this),this.createStackByMethod=this.createStackByMethod.bind(this),this.createStackFromFileContent=this.createStackFromFileContent.bind(this),this.createStackFromFileUpload=this.createStackFromFileUpload.bind(this),this.createStackFromGitRepository=this.createStackFromGitRepository.bind(this),this.onChangeGroups=this.onChangeGroups.bind(this),this.hasDockerEndpoint=this.hasDockerEndpoint.bind(this),this.onChangeDeploymentType=this.onChangeDeploymentType.bind(this)}buildAnalyticsProperties(){const e={type:function(e){switch(e){case\"editor\":return\"web-editor\";case\"repository\":return\"git\";case\"upload\":return\"file-upload\";case\"template\":return\"template\"}}(this.state.Method),format:\"compose\"};return\"template\"===e.type&&(e.templateName=this.selectedTemplate.title),{metadata:e}}uiCanExit(){if(\"editor\"===this.state.Method&&this.formValues.StackFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){try{this.edgeGroups=await this.EdgeGroupService.groups(),this.noGroups=0===this.edgeGroups.length}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve Edge groups\")}this.$window.onbeforeunload=()=>{if(\"editor\"===this.state.Method&&this.formValues.StackFileContent&&this.state.isEditorDirty)return\"\"}}$onDestroy(){this.state.isEditorDirty=!1}createStack(){return this.$async(async()=>{const e=this.formValues.Name;let t=this.state.Method;if(\"template\"===t&&(t=\"editor\"),this.validateForm(t)){this.state.actionInProgress=!0;try{await this.createStackByMethod(e,t),this.Notifications.success(\"Stack successfully deployed\"),this.state.isEditorDirty=!1,this.$state.go(\"edge.stacks\")}catch(e){this.Notifications.error(\"Deployment error\",e,\"Unable to deploy stack\")}finally{this.state.actionInProgress=!1}}})}onChangeGroups(e){this.formValues.Groups=e,this.checkIfEndpointTypes(e)}checkIfEndpointTypes(e){const t=e.map(e=>this.edgeGroups.find(t=>t.Id===e));this.state.endpointTypes=t.flatMap(e=>e.EndpointTypes),this.hasDockerEndpoint()&&1==this.formValues.DeploymentType&&this.onChangeDeploymentType(0)}hasKubeEndpoint(){return this.state.endpointTypes.includes(7)}hasDockerEndpoint(){return this.state.endpointTypes.includes(4)}validateForm(e){if(this.state.formValidationError=\"\",\"editor\"!==e||\"\"!==this.formValues.StackFileContent)return!0;this.state.formValidationError=\"Stack file content must not be empty\"}createStackByMethod(e,t){switch(t){case\"editor\":return this.createStackFromFileContent(e);case\"upload\":return this.createStackFromFileUpload(e);case\"repository\":return this.createStackFromGitRepository(e)}}createStackFromFileContent(e){const{StackFileContent:t,Groups:n,DeploymentType:a}=this.formValues;return this.EdgeStackService.createStackFromFileContent({name:e,StackFileContent:t,EdgeGroups:n,DeploymentType:a})}createStackFromFileUpload(e){const{StackFile:t,Groups:n,DeploymentType:a}=this.formValues;return this.EdgeStackService.createStackFromFileUpload({Name:e,EdgeGroups:n,DeploymentType:a},t)}createStackFromGitRepository(e){const{Groups:t,DeploymentType:n}=this.formValues,a={RepositoryURL:this.formValues.RepositoryURL,RepositoryReferenceName:this.formValues.RepositoryReferenceName,FilePathInRepository:this.formValues.ComposeFilePathInRepository,RepositoryAuthentication:this.formValues.RepositoryAuthentication,RepositoryUsername:this.formValues.RepositoryUsername,RepositoryPassword:this.formValues.RepositoryPassword};return this.EdgeStackService.createStackFromGitRepository({name:e,EdgeGroups:t,DeploymentType:n},a)}onChangeDeploymentType(e){this.formValues.DeploymentType=e,this.state.Method=\"editor\",this.formValues.StackFileContent=\"\"}formIsInvalid(){return this.form.$invalid||!this.formValues.Groups.length||[\"template\",\"editor\"].includes(this.state.Method)&&!this.formValues.StackFileContent}}a.$inject=[\"$state\",\"$window\",\"ModalService\",\"EdgeStackService\",\"EdgeGroupService\",\"EdgeTemplateService\",\"Notifications\",\"FormHelper\",\"$async\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"edgeStacksDockerComposeForm\",(function(){return i}));var a=n(460);const i={templateUrl:n(920),controller:a.default,bindings:{formValues:\"=\",state:\"=\"}}},function(e,t,n){\"use strict\";n.r(t);class a{constructor(e,t,n){Object.assign(this,{$async:e,EdgeTemplateService:t,Notifications:n}),this.methodOptions=[{id:\"method_editor\",icon:\"fa fa-edit\",label:\"Web editor\",description:\"Use our Web editor\",value:\"editor\"},{id:\"method_upload\",icon:\"fa fa-upload\",label:\"Upload\",description:\"Upload from your computer\",value:\"upload\"},{id:\"method_repository\",icon:\"fab fa-github\",label:\"Repository\",description:\"Use a git repository\",value:\"repository\"},{id:\"method_template\",icon:\"fa fa-rocket\",label:\"Template\",description:\"Use an Edge stack template\",value:\"template\"}],this.selectedTemplate=null,this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeFile=this.onChangeFile.bind(this),this.onChangeTemplate=this.onChangeTemplate.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this)}onChangeFormValues(e){this.formValues=e}onChangeMethod(){this.formValues.StackFileContent=\"\",this.selectedTemplate=null}onChangeTemplate(e){return this.$async(async()=>{this.formValues.StackFileContent=\"\";try{const t=await this.EdgeTemplateService.edgeTemplate(e);this.formValues.StackFileContent=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve Template\")}})}onChangeFileContent(e){this.formValues.StackFileContent=e,this.state.isEditorDirty=!0}onChangeFile(e){this.formValues.StackFile=e}async $onInit(){return this.$async(async()=>{try{const e=await this.EdgeTemplateService.edgeTemplates();this.templates=e.map(e=>({...e,label:`${e.title} - ${e.description}`}))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve Templates\")}})}}a.$inject=[\"$async\",\"EdgeTemplateService\",\"Notifications\"],t.default=a},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"kubeManifestForm\",(function(){return i}));var a=n(462);const i={templateUrl:n(921),controller:a.default,bindings:{formValues:\"=\",state:\"=\"}}},function(e,t,n){\"use strict\";n.r(t);class a{constructor(){this.methodOptions=[{id:\"method_editor\",icon:\"fa fa-edit\",label:\"Web editor\",description:\"Use our Web editor\",value:\"editor\"},{id:\"method_upload\",icon:\"fa fa-upload\",label:\"Upload\",description:\"Upload from your computer\",value:\"upload\"},{id:\"method_repository\",icon:\"fab fa-github\",label:\"Repository\",description:\"Use a git repository\",value:\"repository\"}],this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this),this.onChangeFile=this.onChangeFile.bind(this)}onChangeFormValues(e){this.formValues=e}onChangeFileContent(e){this.state.isEditorDirty=!0,this.formValues.StackFileContent=e}onChangeFile(e){this.formValues.StackFile=e}}a.$inject=[],t.default=a},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"kubeDeployDescription\",(function(){return a}));const a={templateUrl:n(922)}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"rolesView\",(function(){return i}));var a=n(465);const i={templateUrl:n(950),controller:a.default}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(76);class i{constructor(e,t){this.Notifications=e,this.RoleService=t}async $onInit(){this.roles=[];try{this.roles=await this.RoleService.roles(),this.roles=Object(a.a)(this.roles,\"Priority\",\"asc\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve roles\")}}}i.$inject=[\"Notifications\",\"RoleService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"accessViewer\",(function(){return i}));var a=n(467);const i={templateUrl:n(951),controller:a.default}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return u}));var a=n(7),i=n(311),s=n(76),r=n(2110),o=n(151),l=n(269),c=n(6),d=n(262);class u{constructor(e,t,n,a,i,s,r,o){this.featureService=e,this.Notifications=t,this.RoleService=n,this.UserService=a,this.EndpointService=i,this.GroupService=s,this.TeamService=r,this.TeamMembershipService=o,this.limitedFeature=\"rbac-roles\",this.users=[]}onUserSelect(){this.userRoles=[];const e={},t=this.selectedUser,n=Object(c.a)(this.teamMemberships,{UserId:t.Id});for(const[,a]of Object(l.a)(this.endpoints)){let i=this.getRoleFromUserEndpointPolicy(t,a);i?e[a.Id]=i:(i=this.getRoleFromUserEndpointGroupPolicy(t,a),i?e[a.Id]=i:(i=this.getRoleFromTeamEndpointPolicies(n,a),i?e[a.Id]=i:(i=this.getRoleFromTeamEndpointGroupPolicies(n,a),i&&(e[a.Id]=i))))}this.userRoles=Object(o.a)(e)}findLowestRole(e){return Object(r.a)(Object(s.a)(e,\"RolePriority\",\"desc\"))}getRoleFromUserEndpointPolicy(e,t){const n=[],a=(t.UserAccessPolicies||{})[e.Id];if(a){const e=new d.default(a,t,this.roles,null,null);n.push(e)}return this.findLowestRole(n)}getRoleFromUserEndpointGroupPolicy(e,t){const n=[],a=this.groupUserAccessPolicies[t.GroupId][e.Id];if(a){const e=new d.default(a,t,this.roles,this.groups[t.GroupId],null);n.push(e)}return this.findLowestRole(n)}getRoleFromTeamEndpointPolicies(e,t){const n=[];for(const a of e){const e=(t.TeamAccessPolicies||{})[a.TeamId];if(e){const i=new d.default(e,t,this.roles,null,this.teams[a.TeamId]);n.push(i)}}return this.findLowestRole(n)}getRoleFromTeamEndpointGroupPolicies(e,t){const n=[];for(const a of e){const e=this.groupTeamAccessPolicies[t.GroupId][a.TeamId];if(e){const i=new d.default(e,t,this.roles,this.groups[t.GroupId],this.teams[a.TeamId]);n.push(i)}}return this.findLowestRole(n)}async $onInit(){try{if(this.featureService.isLimitedToBE(this.limitedFeature))return;this.users=await this.UserService.users(),this.endpoints=Object(i.a)((await this.EndpointService.endpoints()).value,\"Id\");const e=await this.GroupService.groups();this.groupUserAccessPolicies={},this.groupTeamAccessPolicies={},Object(a.a)(e,e=>{this.groupUserAccessPolicies[e.Id]=e.UserAccessPolicies,this.groupTeamAccessPolicies[e.Id]=e.TeamAccessPolicies}),this.groups=Object(i.a)(e,\"Id\"),this.roles=Object(i.a)(await this.RoleService.roles(),\"Id\"),this.teams=Object(i.a)(await this.TeamService.teams(),\"Id\"),this.teamMemberships=await this.TeamMembershipService.memberships()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve accesses\")}}}u.$inject=[\"featureService\",\"Notifications\",\"RoleService\",\"UserService\",\"EndpointService\",\"GroupService\",\"TeamService\",\"TeamMembershipService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"accessViewerDatatable\",(function(){return a}));const a={templateUrl:n(952),controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",tableKey:\"@\",orderBy:\"@\",dataset:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return r}));var a=n(1),i=n.n(a),s=n(101);class r{constructor(e,t){this.limitedFeature=\"rbac-roles\",i.a.extend(this,e(\"GenericDatatableController\",{$scope:t}))}isDefaultItem(e){return e.ID===s.RoleTypes.STANDARD}}r.$inject=[\"$controller\",\"$scope\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"RoleService\",(function(){return i}));var a=n(101);function i(){const e=[new a.RoleViewModel(a.RoleTypes.ENDPOINT_ADMIN,\"Environment administrator\",\"Full control of all resources in an environment\",[]),new a.RoleViewModel(a.RoleTypes.OPERATOR,\"Operator\",\"Operational Control of all existing resources in an environment\",[]),new a.RoleViewModel(a.RoleTypes.HELPDESK,\"Helpdesk\",\"Read-only access of all resources in an environment\",[]),new a.RoleViewModel(a.RoleTypes.READ_ONLY,\"Read-only user\",\"Read-only access of assigned resources in an environment\",[]),new a.RoleViewModel(a.RoleTypes.STANDARD,\"Standard user\",\"Full control of assigned resources in an environment\",[])];return{roles:function(){return e}}}},function(e,t,n){\"use strict\";function a(e,t){return e(t+\"/:id\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}n.r(t),n.d(t,\"RolesFactory\",(function(){return a})),a.$inject=[\"$resource\",\"API_ENDPOINT_ROLES\"]},function(e,t,n){\"use strict\";n.r(t);class a{constructor(e){this.$state=e,this.state={forceOpen:!1}}isOpen(){return!!this.isSidebarOpen&&(!!this.state.forceOpen||this.isOpenByPathState())}isOpenByPathState(){const e=this.$state.current.name;return e.startsWith(this.path)||this.childrenPaths.includes(e)}onClickArrow(e){e.stopPropagation(),e.preventDefault(),this.isOpenByPathState()||(this.state.forceOpen=!this.state.forceOpen)}$onInit(){this.childrenPaths=this.childrenPaths||[]}}a.$inject=[\"$state\"],t.default=a},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"sidebarSection\",(function(){return a}));const a={templateUrl:n(996),transclude:!0,bindings:{title:\"@\"}}},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(475),r=n(676),o=n(478),l=n(480),c=n(482),d=n(484),u=n(485),p=n(486),m=n(487);t.default=i.a.module(\"portainer.app.components.forms.git\",[]).component(\"gitFormComposePathField\",d.gitFormComposePathField).component(\"gitFormRefField\",u.gitFormRefField).component(\"gitForm\",s.gitForm).component(\"gitFormUrlField\",p.gitFormUrlField).component(\"gitFormInfoPanel\",m.gitFormInfoPanel).component(\"gitFormAdditionalFilesPanel\",o.gitFormAdditionalFilesPanel).component(\"gitFormAdditionalFileItem\",l.gitFormAdditionalFileItem).component(\"gitFormAutoUpdateFieldset\",c.gitFormAutoUpdateFieldset).component(\"gitFormAuthFieldset\",r.gitFormAuthFieldset).name},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"gitForm\",(function(){return i}));var a=n(476);const i={templateUrl:n(998),controller:a.default,bindings:{deployMethod:\"@\",model:\"<\",onChange:\"<\",additionalFile:\"<\",autoUpdate:\"<\",showAuthExplanation:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(){this.onChangeField=this.onChangeField.bind(this),this.onChangeURL=this.onChangeField(\"RepositoryURL\"),this.onChangeRefName=this.onChangeField(\"RepositoryReferenceName\"),this.onChangeComposePath=this.onChangeField(\"ComposeFilePathInRepository\")}onChangeField(e){return t=>{this.onChange({...this.model,[e]:t})}}$onInit(){this.deployMethod=this.deployMethod||\"compose\"}}a.$inject=[]},function(e,t,n){\"use strict\";n.r(t);class a{constructor(){this.authValues={username:\"\",password:\"\"},this.onChangeField=this.onChangeField.bind(this),this.onChangeAuth=this.onChangeAuth.bind(this),this.onChangeUsername=this.onChangeField(\"RepositoryUsername\"),this.onChangePassword=this.onChangeField(\"RepositoryPassword\")}onChangeField(e){return t=>{this.onChange({...this.model,[e]:t})}}onChangeAuth(e){e||(this.authValues.username=this.model.RepositoryUsername,this.authValues.password=this.model.RepositoryPassword),this.onChange({...this.model,RepositoryAuthentication:e,RepositoryUsername:e?this.authValues.username:\"\",RepositoryPassword:e?this.authValues.password:\"\"})}$onInit(){this.model.RepositoryAuthentication&&(this.authValues.username=this.model.RepositoryUsername,this.authValues.password=this.model.RepositoryPassword)}}a.$inject=[],t.default=a},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"gitFormAdditionalFilesPanel\",(function(){return i}));var a=n(479);const i={templateUrl:n(1e3),controller:a.default,bindings:{model:\"<\",onChange:\"<\"}}},function(e,t,n){\"use strict\";n.r(t);class a{constructor(){this.add=this.add.bind(this),this.onChangeVariable=this.onChangeVariable.bind(this)}add(){this.model.AdditionalFiles.push(\"\")}onChangeVariable(e,t){t?this.model.AdditionalFiles[e]=t.value:this.model.AdditionalFiles.splice(e,1),this.onChange({...this.model,AdditionalFiles:this.model.AdditionalFiles})}}a.$inject=[],t.default=a},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"gitFormAdditionalFileItem\",(function(){return i}));var a=n(481);const i={templateUrl:n(1001),controller:a.default,bindings:{variable:\"<\",index:\"<\",onChange:\"<\",onRemove:\"<\"}}},function(e,t,n){\"use strict\";n.r(t);t.default=class{onChangePath(e){void 0===e||this.onChange(this.index,{value:e})}removeValue(){this.onChange(this.index)}$onInit(){this.formName=\"variableForm\"+this.index}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"gitFormAutoUpdateFieldset\",(function(){return i}));var a=n(483);const i={templateUrl:n(1002),controller:a.default,bindings:{model:\"<\",onChange:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),function(e){var a=n(19);class i{constructor(e){this.onChangeAutoUpdate=this.onChangeField(\"RepositoryAutomaticUpdates\"),this.onChangeMechanism=this.onChangeField(\"RepositoryMechanism\"),this.onChangeInterval=this.onChangeField(\"RepositoryFetchInterval\"),this.clipboard=e,this.limitedFeature=a.FORCE_REDEPLOYMENT}copyWebhook(){this.clipboard.copyText(this.model.RepositoryWebhookURL),e(\"#copyNotification\").show(),e(\"#copyNotification\").fadeOut(2e3)}onChangeField(e){return t=>{this.onChange({...this.model,[e]:t})}}}i.$inject=[\"clipboard\"],t.default=i}.call(this,n(50))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"gitFormComposePathField\",(function(){return a}));const a={templateUrl:n(1003),bindings:{deployMethod:\"@\",value:\"<\",onChange:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"gitFormRefField\",(function(){return a}));const a={templateUrl:n(1004),bindings:{value:\"<\",onChange:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"gitFormUrlField\",(function(){return a}));const a={templateUrl:n(1005),bindings:{value:\"<\",onChange:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"gitFormInfoPanel\",(function(){return a}));const a={templateUrl:n(1006),bindings:{url:\"<\",configFilePath:\"<\",additionalFiles:\"<\",className:\"@\",type:\"@\"}}},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(489),r=n(490);t.default=i.a.module(\"portainer.app.component.access-management\",[]).component(\"porAccessManagement\",s.porAccessManagement).component(\"porAccessManagementUsersSelector\",r.porAccessManagementUsersSelector).name},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"porAccessManagement\",(function(){return a}));const a={templateUrl:n(1007),controller:\"porAccessManagementController\",controllerAs:\"ctrl\",bindings:{accessControlledEntity:\"<\",inheritFrom:\"<\",entityType:\"@\",updateAccess:\"<\",actionInProgress:\"<\",filterUsers:\"<\",limitedFeature:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"porAccessManagementUsersSelector\",(function(){return a}));const a={templateUrl:n(1008),bindings:{options:\"<\",value:\"=\"}}},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(492),r=n(494);t.default=i.a.module(\"portainer.app.components.form\",[]).component(\"webEditorForm\",s.webEditorForm).component(\"fileUploadForm\",r.fileUploadForm).name},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"webEditorForm\",(function(){return i}));var a=n(493);const i={templateUrl:n(1009),controller:a.default,bindings:{identifier:\"@\",placeholder:\"@\",yml:\"<\",value:\"<\",onChange:\"<\"},transclude:{description:\"?editorDescription\"}}},function(e,t,n){\"use strict\";n.r(t);class a{constructor(){this.editorUpdate=this.editorUpdate.bind(this)}editorUpdate(e){this.onChange(e.getValue())}}a.$inject=[],t.default=a},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"fileUploadForm\",(function(){return a}));const a={templateUrl:n(1010),bindings:{file:\"<\",ngRequired:\"<\",onChange:\"<\"},transclude:{description:\"?fileUploadDescription\"}}},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(496),r=n(532);t.default=i.a.module(\"portainer.settings\",[s.default,r.default]).name},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(497),r=n(529),o=n(530),l=n(531);t.default=i.a.module(\"portainer.settings.authentication\",[s.default]).component(\"internalAuth\",l.internalAuth).component(\"saveAuthSettingsButton\",o.saveAuthSettingsButton).component(\"autoUserProvisionToggle\",r.autoUserProvisionToggle).name},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(498),r=n(500),o=n(677),l=n(503),c=n(505),d=n(506),u=n(507),p=n(509),m=n(511),g=n(513),h=n(515),f=n(517),v=n(519),b=n(678),y=n(522),w=n(679),x=n(524),$=n(526),C=n(527),S=n(528);t.default=i.a.module(\"portainer.settings.authentication.ldap\",[]).service(\"LDAPService\",C.LDAPService).service(\"LDAP\",S.LDAP).component(\"ldapConnectivityCheck\",c.ldapConnectivityCheck).component(\"ldapGroupsDatatable\",d.ldapGroupsDatatable).component(\"ldapSettings\",r.ldapSettings).component(\"adSettings\",s.adSettings).component(\"ldapGroupSearch\",u.ldapGroupSearch).component(\"ldapGroupSearchItem\",p.ldapGroupSearchItem).component(\"ldapUserSearch\",m.ldapUserSearch).component(\"ldapUserSearchItem\",g.ldapUserSearchItem).component(\"ldapSettingsCustom\",o.ldapSettingsCustom).component(\"ldapSettingsDnBuilder\",h.ldapSettingsDnBuilder).component(\"ldapSettingsGroupDnBuilder\",f.ldapSettingsGroupDnBuilder).component(\"ldapCustomGroupSearch\",v.ldapCustomGroupSearch).component(\"ldapCustomAdminGroup\",b.ldapCustomAdminGroup).component(\"ldapSettingsOpenLdap\",l.ldapSettingsOpenLdap).component(\"ldapSettingsSecurity\",y.ldapSettingsSecurity).component(\"ldapSettingsTestLogin\",w.ldapSettingsTestLogin).component(\"ldapCustomUserSearch\",x.ldapCustomUserSearch).component(\"ldapUsersDatatable\",$.ldapUsersDatatable).name},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"adSettings\",(function(){return i}));var a=n(499);const i={templateUrl:n(1011),controller:a.default,bindings:{settings:\"=\",tlscaCert:\"=\",state:\"=\",connectivityCheck:\"<\",onSaveSettings:\"<\",saveButtonState:\"<\",isLdapFormValid:\"&?\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return s}));var a=n(166),i=n(19);class s{constructor(e,t){this.LDAPService=e,this.featureService=t,this.domainSuffix=\"\",this.limitedFeatureId=i.HIDE_INTERNAL_AUTH,this.onTlscaCertChange=this.onTlscaCertChange.bind(this),this.searchUsers=this.searchUsers.bind(this),this.searchGroups=this.searchGroups.bind(this),this.parseDomainName=this.parseDomainName.bind(this),this.onAccountChange=this.onAccountChange.bind(this)}parseDomainName(e){if(this.domainName=\"\",!e||!e.includes(\"@\"))return;const[,t]=e.split(\"@\");if(!t)return;const n=Object(a.a)(t.split(\".\"));this.domainSuffix=n.map(e=>\"dc=\"+e).join(\",\")}onAccountChange(e){this.parseDomainName(e)}searchUsers(){return this.LDAPService.users(this.settings)}searchGroups(){return this.LDAPService.groups(this.settings)}onTlscaCertChange(e){this.tlscaCert=e}addLDAPUrl(){this.settings.URLs.push(\"\")}removeLDAPUrl(e){this.settings.URLs.splice(e,1)}isSaveSettingButtonDisabled(){return this.featureService.isLimitedToBE(this.limitedFeatureId)||!this.isLdapFormValid()}$onInit(){this.tlscaCert=this.settings.TLSCACert,this.parseDomainName(this.settings.ReaderDN)}}s.$inject=[\"LDAPService\",\"featureService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapSettings\",(function(){return i}));var a=n(501);const i={templateUrl:n(1012),controller:a.default,bindings:{settings:\"=\",state:\"<\",connectivityCheck:\"<\",onSaveSettings:\"<\",saveButtonState:\"<\",isLdapFormValid:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return r}));var a=n(226),i=n(19);const s={CUSTOM:0,OPEN_LDAP:1,AD:2};class r{constructor(e){Object.assign(this,{LDAPService:e,SERVER_TYPES:s}),this.tlscaCert=null,this.settingsDrafts={},this.boxSelectorOptions=[{id:\"ldap_custom\",value:s.CUSTOM,label:\"Custom\",icon:\"fa fa-server\"},{id:\"ldap_openldap\",value:s.OPEN_LDAP,label:\"OpenLDAP\",icon:\"fa fa-server\",feature:i.EXTERNAL_AUTH_LDAP}],this.onTlscaCertChange=this.onTlscaCertChange.bind(this),this.searchUsers=this.searchUsers.bind(this),this.searchGroups=this.searchGroups.bind(this),this.onChangeServerType=this.onChangeServerType.bind(this)}onTlscaCertChange(e){this.tlscaCert=e}$onInit(){this.tlscaCert=this.settings.TLSCACert}onChangeServerType(e){if(this.settingsDrafts[this.settings.ServerType]=this.settings,this.settingsDrafts[e])this.settings=this.settingsDrafts[e];else switch(e){case s.OPEN_LDAP:this.settings=Object(a.buildOpenLDAPSettingsModel)();break;case s.CUSTOM:this.settings=Object(a.buildLdapSettingsModel)()}}searchUsers(){const e={...this.settings,SearchSettings:this.settings.SearchSettings.map(e=>({...e,Filter:e.Filter||\"(objectClass=inetOrgPerson)\"}))};return this.LDAPService.users(e)}searchGroups(){const e={...this.settings,GroupSearchSettings:this.settings.GroupSearchSettings.map(e=>({...e,GroupFilter:e.GroupFilter||\"(objectClass=groupOfNames)\"}))};return this.LDAPService.groups(e)}}r.$inject=[\"LDAPService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(19);class i{constructor(){this.limitedFeatureId=a.EXTERNAL_AUTH_LDAP}addLDAPUrl(){this.settings.URLs.push(\"\")}removeLDAPUrl(e){this.settings.URLs.splice(e,1)}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapSettingsOpenLdap\",(function(){return i}));var a=n(504);const i={templateUrl:n(1014),controller:a.default,bindings:{settings:\"=\",tlscaCert:\"=\",state:\"=\",connectivityCheck:\"<\",onTlscaCertChange:\"<\",onSearchUsersClick:\"<\",onSearchGroupsClick:\"<\",onSaveSettings:\"<\",saveButtonState:\"<\",saveButtonDisabled:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(19);class i{constructor(){this.domainSuffix=\"\",this.limitedFeatureId=a.EXTERNAL_AUTH_LDAP,this.findDomainSuffix=this.findDomainSuffix.bind(this),this.parseDomainSuffix=this.parseDomainSuffix.bind(this),this.onAccountChange=this.onAccountChange.bind(this)}findDomainSuffix(){const e=this.settings.ReaderDN;let t=this.parseDomainSuffix(e);if(!t&&this.settings.SearchSettings.length>0){const e=this.settings.SearchSettings[0];t=this.parseDomainSuffix(e.BaseDN)}this.domainSuffix=t}parseDomainSuffix(e=\"\"){const t=e.toLowerCase().indexOf(\"dc=\");return-1!==t?e.substring(t):\"\"}onAccountChange(e){this.domainSuffix=this.parseDomainSuffix(e)}addLDAPUrl(){this.settings.URLs.push(\"\")}removeLDAPUrl(e){this.settings.URLs.splice(e,1)}$onInit(){this.findDomainSuffix()}}i.$inject=[]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapConnectivityCheck\",(function(){return a}));const a={templateUrl:n(1015),bindings:{settings:\"<\",state:\"<\",connectivityCheck:\"<\",limitedFeatureId:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapGroupsDatatable\",(function(){return a}));const a={templateUrl:n(1016),controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapGroupSearch\",(function(){return i}));var a=n(508);const i={templateUrl:n(1017),controller:a.default,bindings:{settings:\"=\",domainSuffix:\"@\",baseFilter:\"@\",onSearchClick:\"<\",limitedFeatureId:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(90);class i{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.groups=null,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){const e=Object(a.a)(this.settings);this.settings.push({GroupBaseDN:this.domainSuffix,GroupAttribute:e.GroupAttribute,GroupFilter:this.baseFilter})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async(async()=>{try{this.groups=null,this.showTable=!0,this.groups=await this.onSearchClick()}catch(e){this.showTable=!1,this.Notifications.error(\"Failure\",e,\"Failed to search users\")}})}}i.$inject=[\"$async\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapGroupSearchItem\",(function(){return i}));var a=n(510);const i={templateUrl:n(1018),controller:a.default,bindings:{config:\"=\",index:\"<\",domainSuffix:\"@\",baseFilter:\"@\",onRemoveClick:\"<\",limitedFeatureId:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e){Object.assign(this,{Notifications:e}),this.groups=[],this.onChangeBaseDN=this.onChangeBaseDN.bind(this)}onChangeBaseDN(e){this.config.GroupBaseDN=e}addGroup(){this.groups.push({type:\"ou\",value:\"\"})}removeGroup(e){this.groups.splice(e,1),this.onGroupsChange()}onGroupsChange(){const e=this.groups.map(({type:e,value:t})=>`(${e}=${t})`).join(\"\");this.onFilterChange(e?`(&${this.baseFilter}(|${e}))`:\"\"+this.baseFilter)}onFilterChange(e){this.config.GroupFilter=e}parseGroupFilter(){const e=this.config.GroupFilter.match(/^\\(&\\(objectClass=(\\w+)\\)\\(\\|((\\(\\w+=.+\\))+)\\)\\)$/);if(!e)return;const[,,t=\"\"]=e;this.groups=t.slice(1,-1).split(\")(\").map(e=>e.split(\"=\")).map(([e,t])=>({type:e,value:t}))}$onInit(){this.parseGroupFilter()}}a.$inject=[\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapUserSearch\",(function(){return i}));var a=n(512);const i={templateUrl:n(1019),controller:a.default,bindings:{settings:\"=\",domainSuffix:\"@\",showUsernameFormat:\"<\",baseFilter:\"@\",limitedFeatureId:\"<\",onSearchClick:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return o}));var a=n(807),i=n.n(a),s=n(808),r=n.n(s);class o{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.users=null,this.showTable=!1,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){const e=r()(this.settings);this.settings.push({BaseDN:this.domainSuffix,UserNameAttribute:e.UserNameAttribute,Filter:this.baseFilter})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async(async()=>{try{this.users=null,this.showTable=!0;const e=await this.onSearchClick();this.users=i()(e)}catch(e){this.Notifications.error(\"Failure\",e,\"Failed to search users\"),this.showTable=!1}})}}o.$inject=[\"$async\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapUserSearchItem\",(function(){return i}));var a=n(514);const i={templateUrl:n(1020),controller:a.default,bindings:{config:\"=\",index:\"<\",showUsernameFormat:\"<\",domainSuffix:\"@\",baseFilter:\"@\",onRemoveClick:\"<\",limitedFeatureId:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(){this.groups=[],this.onBaseDNChange=this.onBaseDNChange.bind(this),this.onGroupChange=this.onGroupChange.bind(this),this.onGroupsChange=this.onGroupsChange.bind(this),this.removeGroup=this.removeGroup.bind(this)}onBaseDNChange(e){this.config.BaseDN=e}onGroupChange(e,t){this.groups[e]=t,this.onGroupsChange(this.groups)}onGroupsChange(e){this.config.Filter=this.generateUserFilter(e)}removeGroup(e){this.groups.splice(e,1),this.onGroupsChange(this.groups)}addGroup(){this.groups.push(this.domainSuffix?\"cn=,\"+this.domainSuffix:\"cn=\")}generateUserFilter(e){const t=e.filter(e=>e!==this.domainSuffix);if(!t.length)return this.baseFilter;const n=t.map(e=>`(memberOf=${e})`);return`(&${this.baseFilter}${n.length>1?`(|${n.join(\"\")})`:n[0]})`}parseFilter(){const e=this.config.Filter;if(e===this.baseFilter)return;if(!e.includes(\"|\")){const t=e.indexOf(\"memberOf=\");return void(t>-1&&(this.groups=[e.slice(t+9,-2)]))}const t=e.slice(e.indexOf(\"|\")+2,-3);this.groups=t.split(\")(\").map(e=>e.replace(\"memberOf=\",\"\"))}$onInit(){this.parseFilter()}}a.$inject=[]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapSettingsDnBuilder\",(function(){return i}));var a=n(516);const i={templateUrl:n(1021),controller:a.default,bindings:{ngModel:\"<\",onChange:\"<\",suffix:\"@\",label:\"@\",limitedFeatureId:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(){this.entries=[]}addEntry(){this.entries.push({type:\"ou\",value:\"\"})}removeEntry(e){this.entries.splice(e,1),this.onEntriesChange()}moveUp(e){e<=0||(i(this.entries,e,e-1),this.onEntriesChange())}moveDown(e){e>=this.entries.length-1||(i(this.entries,e,e+1),this.onEntriesChange())}onEntriesChange(){const e=this.entries.filter(({value:e})=>e).map(({type:e,value:t})=>`${e}=${t}`).concat(this.suffix).filter(e=>e).join(\",\");this.onChange(e)}getOUValues(e,t=\"\"){const n=/(\\w+)=(\\w*),?/;let a=[],i=e,s=i.match(n);for(;s&&i!==t;){const[,e,t]=s;a.push({type:e,value:t}),i=i.replace(n,\"\"),s=i.match(/(\\w+)=(\\w+),?/)}return a}parseBaseDN(){this.entries=this.getOUValues(this.ngModel,this.suffix)}$onChanges({suffix:e,ngModel:t}){!e&&!t||e&&e.isFirstChange()||this.onEntriesChange()}$onInit(){this.parseBaseDN()}}function i(e,t,n){if(!i(e,t)||!i(e,n))throw new Error(\"index is out of bounds\");const[a]=e.splice(t,1);function i(e,t){return t>=0&&t<=e.length}e.splice(n,0,a)}a.$inject=[]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapSettingsGroupDnBuilder\",(function(){return i}));var a=n(518);const i={templateUrl:n(1022),controller:a.default,bindings:{ngModel:\"<\",onChange:\"<\",suffix:\"@\",index:\"<\",onRemoveClick:\"<\",limitedFeatureId:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(){this.groupName=\"\",this.entries=\"\",this.onEntriesChange=this.onEntriesChange.bind(this),this.onGroupNameChange=this.onGroupNameChange.bind(this),this.onGroupChange=this.onGroupChange.bind(this),this.removeGroup=this.removeGroup.bind(this)}onEntriesChange(e){this.onGroupChange(this.groupName,e)}onGroupNameChange(){this.onGroupChange(this.groupName,this.entries)}onGroupChange(e,t){if(!e)return;const n=\"cn=\"+e;this.onChange(this.index,t||this.suffix?`${n},${t||this.suffix}`:n)}removeGroup(){this.onRemoveClick(this.index)}parseEntries(e,t){if(e===t)return this.groupName=\"\",void(this.entries=t);const[n,a]=this.ngModel.split(/,(.+)/);this.groupName=n.replace(\"cn=\",\"\"),this.entries=a||\"\"}$onChange({ngModel:e,suffix:t}){(t&&!t.isFirstChange()||e)&&this.parseEntries(e.value,t.value)}$onInit(){this.parseEntries(this.ngModel,this.suffix)}}a.$inject=[]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapCustomGroupSearch\",(function(){return i}));var a=n(520);const i={templateUrl:n(1023),controller:a.default,bindings:{settings:\"=\",onSearchClick:\"<\",limitedFeatureId:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.groups=null,this.showTable=!1,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){this.settings.push({GroupBaseDN:\"\",GroupAttribute:\"\",GroupFilter:\"\"})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async(async()=>{try{this.groups=null,this.showTable=!0,this.groups=await this.onSearchClick()}catch(e){this.showTable=!1,this.Notifications.error(\"Failure\",e,\"Failed to search users\")}})}}a.$inject=[\"$async\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e,t,n){Object.assign(this,{$async:e,Notifications:t,LDAPService:n}),this.groups=null,this.groupstest=null,this.enableAssignAdminGroup=!1,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){this.settings.AdminGroupSearchSettings.push({GroupBaseDN:\"\",GroupAttribute:\"\",GroupFilter:\"\"})}onRemoveClick(e){this.settings.AdminGroupSearchSettings.splice(e,1)}search(){return this.$async(async()=>{try{this.groups=null,this.groups=await this.onSearchClick(),this.enableAssignAdminGroup=this.groups&&this.groups.length>0}catch(e){this.Notifications.error(\"Failure\",e,\"Failed to search groups\")}})}async $onInit(){if(this.settings.AdminAutoPopulate&&this.settings.AdminGroups&&this.settings.AdminGroups.length>0){const e={...this.settings,AdminGroupSearchSettings:this.settings.AdminGroupSearchSettings.map(e=>({...e,GroupFilter:e.GroupFilter||this.defaultAdminGroupSearchFilter}))};this.groups=await this.LDAPService.adminGroups(e)}this.groups&&this.groups.length>0&&(this.enableAssignAdminGroup=!0)}}a.$inject=[\"$async\",\"Notifications\",\"LDAPService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapSettingsSecurity\",(function(){return a}));const a={templateUrl:n(1025),bindings:{settings:\"=\",tlscaCert:\"<\",onTlscaCertChange:\"<\",uploadInProgress:\"<\",title:\"@\",limitedFeatureId:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));const a={LOADING:\"LOADING\",SUCCESS:\"SUCCESS\",FAILURE:\"FAILURE\"};class i{constructor(e,t,n){Object.assign(this,{$async:e,LDAPService:t,Notifications:n}),this.TEST_STATUS=a,this.state={testStatus:\"\"}}async testLogin(e,t){return this.$async(async()=>{this.state.testStatus=a.LOADING;try{const n=await this.LDAPService.testLogin(this.settings,e,t);this.state.testStatus=n.valid?a.SUCCESS:a.FAILURE}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to test login\"),this.state.testStatus=a.FAILURE}})}}i.$inject=[\"$async\",\"LDAPService\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapCustomUserSearch\",(function(){return i}));var a=n(525);const i={templateUrl:n(1027),controller:a.default,bindings:{settings:\"=\",onSearchClick:\"<\",limitedFeatureId:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e,t){Object.assign(this,{$async:e,Notifications:t}),this.users=null,this.onRemoveClick=this.onRemoveClick.bind(this),this.onAddClick=this.onAddClick.bind(this),this.search=this.search.bind(this)}onAddClick(){this.settings.push({BaseDN:\"\",UserNameAttribute:\"\",Filter:\"\"})}onRemoveClick(e){this.settings.splice(e,1)}search(){return this.$async(async()=>{try{this.users=null,this.showTable=!0,this.users=await this.onSearchClick()}catch(e){this.showTable=!1,this.Notifications.error(\"Failure\",e,\"Failed to search users\")}})}}a.$inject=[\"$async\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapUsersDatatable\",(function(){return a}));const a={templateUrl:n(1028),controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}}},function(e,t,n){\"use strict\";function a(e){return{users:function(t){return e.users({ldapSettings:t}).$promise},groups:async function(t){return(await e.groups({ldapSettings:t}).$promise).map(({Name:e,Groups:t})=>{let n=e;if(e.includes(\",\")&&e.includes(\"=\")){const[t]=e.split(\",\");n=t.split(\"=\")[1]}return{Groups:t,Name:n}})},check:function(t){return e.check({ldapSettings:t}).$promise},testLogin:function(t,n,a){return e.testLogin({ldapSettings:t,username:n,password:a}).$promise}}}n.r(t),n.d(t,\"LDAPService\",(function(){return a})),a.$inject=[\"LDAP\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"LDAP\",(function(){return a})),a.$inject=[\"$resource\"];function a(e){return e(\"api/ldap/:action\",{},{check:{method:\"POST\",params:{action:\"check\"}},users:{method:\"POST\",isArray:!0,params:{action:\"users\"}},groups:{method:\"POST\",isArray:!0,params:{action:\"groups\"}},testLogin:{method:\"POST\",params:{action:\"test\"}}})}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"autoUserProvisionToggle\",(function(){return a}));const a={templateUrl:n(1029),transclude:{description:\"fieldDescription\"},bindings:{ngModel:\"=\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"saveAuthSettingsButton\",(function(){return a}));const a={templateUrl:n(1030),bindings:{onSaveSettings:\"<\",saveButtonDisabled:\"<\",saveButtonState:\"<\",limitedFeatureId:\"<\",limitedFeatureClass:\"<\",className:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"internalAuth\",(function(){return a}));const a={templateUrl:n(1031),bindings:{onSaveSettings:\"<\",saveButtonState:\"<\"}}},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(533);t.default=i.a.module(\"portainer.settings.general\",[]).component(\"sslCertificateSettings\",s.sslCertificate).name},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"sslCertificate\",(function(){return i}));var a=n(534);const i={templateUrl:n(1032),controller:a.default}},function(e,t,n){\"use strict\";n.r(t);class a{constructor(e,t,n,a){Object.assign(this,{$async:e,$state:t,SSLService:n,Notifications:a}),this.cert=null,this.originalValues={forceHTTPS:!1,certFile:null,keyFile:null},this.formValues={certFile:null,keyFile:null,forceHTTPS:!1},this.state={actionInProgress:!1,reloadingPage:!1};this.certFilePattern=\".pem,.crt,.cer,.cert\",this.keyFilePattern=\".pem,.key\",this.save=this.save.bind(this)}isFormChanged(){return Object.entries(this.originalValues).some(([e,t])=>t!=this.formValues[e])}async save(){return this.$async(async()=>{this.state.actionInProgress=!0;try{const e=this.formValues.certFile?await this.formValues.certFile.text():null,t=this.formValues.keyFile?await this.formValues.keyFile.text():null,n=!this.formValues.forceHTTPS;await this.SSLService.upload(n,e,t),await new Promise(e=>setTimeout(e,2e3)),location.reload(),this.state.reloadingPage=!0}catch(e){this.Notifications.error(\"Failure\",e,\"Failed applying changes\")}this.state.actionInProgress=!1})}wasHTTPsChanged(){return this.originalValues.forceHTTPS!==this.formValues.forceHTTPS}async $onInit(){return this.$async(async()=>{try{const e=await this.SSLService.get();this.formValues.forceHTTPS=!e.httpEnabled,this.originalValues.forceHTTPS=this.formValues.forceHTTPS}catch(e){this.Notifications.error(\"Failure\",e,\"Failed loading certificate info\")}})}}a.$inject=[\"$async\",\"$state\",\"SSLService\",\"Notifications\"],t.default=a},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"limitedFeatureDirective\",(function(){return s}));var a=n(410),i=n(65);s.$inject=[\"featureService\"];function s(e){return{restrict:\"A\",link:function(t,n,s){const{limitedFeatureDir:r}=s;if(!r)return;const o=Object.keys(s).filter(e=>e.startsWith(\"limitedFeature\")&&\"limitedFeatureDir\"!==e).map(e=>[Object(a.a)(e.replace(\"limitedFeature\",\"\")),s[e]]),l=e.selectShow(r);if(l===i.STATES.HIDDEN)return void n.hide();if(l===i.STATES.VISIBLE)return;o.forEach(([e,t=e])=>{const a=n.attr(e)||\"\";n.attr(e,`${a} ${t}`.trim())})}}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"featureService\",(function(){return s}));var a=n(65),i=n(19);function s(){const e={currentEdition:void 0,features:{}};return{selectShow:t,init:async function(){const t=a.EDITIONS.CE,n={[i.K8S_RESOURCE_POOL_LB_QUOTA]:a.EDITIONS.BE,[i.K8S_RESOURCE_POOL_STORAGE_QUOTA]:a.EDITIONS.BE,[i.ACTIVITY_AUDIT]:a.EDITIONS.BE,[i.EXTERNAL_AUTH_LDAP]:a.EDITIONS.BE,[i.HIDE_INTERNAL_AUTH]:a.EDITIONS.BE,[i.HIDE_INTERNAL_AUTHENTICATION_PROMPT]:a.EDITIONS.BE,[i.K8S_SETUP_DEFAULT]:a.EDITIONS.BE,[i.RBAC_ROLES]:a.EDITIONS.BE,[i.REGISTRY_MANAGEMENT]:a.EDITIONS.BE,[i.S3_BACKUP_SETTING]:a.EDITIONS.BE,[i.TEAM_MEMBERSHIP]:a.EDITIONS.BE,[i.HIDE_AUTO_UPDATE_WINDOW]:a.EDITIONS.BE,[i.FORCE_REDEPLOYMENT]:a.EDITIONS.BE};e.currentEdition=t,e.features=n},isLimitedToBE:function(e){return t(e)===a.STATES.LIMITED_BE}};function t(t){return e.features[t]?e.features[t]<=e.currentEdition?a.STATES.VISIBLE:e.features[t]===a.EDITIONS.BE?a.STATES.LIMITED_BE:a.STATES.HIDDEN:a.STATES.HIDDEN}}},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(538),r=n(543);function o(e){e.register({name:\"portainer.authLogs\",url:\"/auth-logs\",views:{\"content@\":{component:\"authLogsView\"}}}),e.register({name:\"portainer.activityLogs\",url:\"/activity-logs\",views:{\"content@\":{component:\"activityLogsView\"}}})}o.$inject=[\"$stateRegistryProvider\"],t.default=i.a.module(\"portainer.app.user-activity\",[s.default,r.default]).config(o).name},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(539),r=n(541);t.default=i.a.module(\"portainer.app.user-activity.auth-logs-view\",[]).component(\"authLogsView\",s.authLogsView).component(\"authLogsDatatable\",r.authLogsDatatable).name},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"authLogsView\",(function(){return i}));var a=n(540);const i={templateUrl:n(1033),controller:a.default}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return r}));var a=n(17),i=n.n(a),s=n(19);class r{constructor(e,t){this.$async=e,this.Notifications=t,this.limitedFeature=s.ACTIVITY_AUDIT,this.state={keyword:\"f\",date:{from:0,to:0},sort:{key:\"Timestamp\",desc:!0},contextFilter:[1,2,3],typeFilter:[1,2,3],page:1,limit:10,totalItems:0,logs:null},this.today=i()().endOf(\"day\"),this.minValidDate=i()().subtract(7,\"d\").startOf(\"day\"),this.onChangeDate=this.onChangeDate.bind(this),this.onChangeKeyword=this.onChangeKeyword.bind(this),this.onChangeSort=this.onChangeSort.bind(this),this.onChangeContextFilter=this.onChangeContextFilter.bind(this),this.onChangeTypeFilter=this.onChangeTypeFilter.bind(this),this.loadLogs=this.loadLogs.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeLimit=this.onChangeLimit.bind(this)}onChangePage(e){this.state.page=e,this.loadLogs()}onChangeLimit(e){this.state.page=1,this.state.limit=e,this.loadLogs()}onChangeSort(e){this.state.page=1,this.state.sort=e,this.loadLogs()}onChangeContextFilter(e,t){this.state.contextFilter=t,this.loadLogs()}onChangeTypeFilter(e,t){this.state.typeFilter=t,this.loadLogs()}onChangeKeyword(e){this.state.page=1,this.state.keyword=e,this.loadLogs()}onChangeDate({startDate:e,endDate:t}){this.state.page=1,this.state.date={to:t,from:e},this.loadLogs()}async loadLogs(){return this.$async(async()=>{this.state.logs=null;try{const{logs:e,totalCount:t}={logs:[{},{},{},{},{}],totalCount:5};this.state.logs=e,this.state.totalItems=t}catch(e){this.Notifications.error(\"Failure\",e,\"Failed loading auth activity logs\")}})}$onInit(){return this.$async(async()=>{this.loadLogs()})}}r.$inject=[\"$async\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"authLogsDatatable\",(function(){return i}));var a=n(542);const i={templateUrl:n(1034),controller:a.default,bindings:{logs:\"<\",keyword:\"<\",sort:\"<\",limit:\"<\",totalItems:\"<\",currentPage:\"<\",contextFilter:\"<\",typeFilter:\"<\",feature:\"@\",onChangeContextFilter:\"<\",onChangeTypeFilter:\"<\",onChangeKeyword:\"<\",onChangeSort:\"<\",onChangeLimit:\"<\",onChangePage:\"<\"}}},function(e,t,n){\"use strict\";n.r(t);var a=n(263),i=n(210);class s{constructor(e,t,n){this.PaginationService=n,this.tableKey=\"authLogs\",this.contextFilterLabels=Object.values(a.authenticationMethodTypesMap).map(e=>({value:e,label:a.authenticationMethodTypesLabels[e]})),this.typeFilterLabels=Object.values(i.authenticationActivityTypesMap).map(e=>({value:e,label:i.authenticationActivityTypesLabels[e]}));const s=this.$onInit;angular.extend(this,e(\"GenericDatatableController\",{$scope:t})),this.$onInit=s.bind(this),this.changeSort=this.changeSort.bind(this),this.handleChangeLimit=this.handleChangeLimit.bind(this)}changeSort(e){let t=!1;e===this.sort.key&&(t=!this.sort.desc),this.onChangeSort({key:e,desc:t})}contextType(e){return e in a.authenticationMethodTypesLabels?a.authenticationMethodTypesLabels[e]:\"\"}activityType(e){return e in i.authenticationActivityTypesLabels?i.authenticationActivityTypesLabels[e]:\"\"}isAuthSuccess(e){return e===i.authenticationActivityTypesMap.AuthSuccess}isAuthFailure(e){return e===i.authenticationActivityTypesMap.AuthFailure}handleChangeLimit(e){this.PaginationService.setPaginationLimit(this.tableKey,e),this.onChangeLimit(e)}$onInit(){this.$onInitGeneric();const e=this.PaginationService.getPaginationLimit(this.tableKey);e&&this.handleChangeLimit(+e)}}s.$inject=[\"$controller\",\"$scope\",\"PaginationService\"],t.default=s},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(544),r=n(681);t.default=i.a.module(\"portainer.app.user-activity.activity-logs-view\",[]).component(\"activityLogsDatatable\",r.activityLogsDatatable).component(\"activityLogsView\",s.activityLogsView).name},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"activityLogsView\",(function(){return i}));var a=n(545);const i={templateUrl:n(1035),controller:a.default}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return r}));var a=n(17),i=n.n(a),s=n(19);class r{constructor(e,t){this.$async=e,this.Notifications=t,this.limitedFeature=s.ACTIVITY_AUDIT,this.state={keyword:\"\",date:{from:0,to:0},sort:{key:\"Timestamp\",desc:!0},page:1,limit:10,totalItems:0,logs:null},this.today=i()().endOf(\"day\"),this.minValidDate=i()().subtract(7,\"d\").startOf(\"day\"),this.onChangeDate=this.onChangeDate.bind(this),this.onChangeKeyword=this.onChangeKeyword.bind(this),this.onChangeSort=this.onChangeSort.bind(this),this.loadLogs=this.loadLogs.bind(this),this.onChangePage=this.onChangePage.bind(this),this.onChangeLimit=this.onChangeLimit.bind(this)}onChangePage(e){this.state.page=e,this.loadLogs()}onChangeLimit(e){this.state.page=1,this.state.limit=e,this.loadLogs()}onChangeSort(e){this.state.page=1,this.state.sort=e,this.loadLogs()}onChangeKeyword(e){this.state.page=1,this.state.keyword=e,this.loadLogs()}onChangeDate({startDate:e,endDate:t}){this.state.page=1,this.state.date={to:t,from:e},this.loadLogs()}async export(){return this.$async(async()=>{try{await this.UserActivityService.saveLogsAsCSV(this.state.sort,this.state.keyword,this.state.date,this.state.contextFilter)}catch(e){this.Notifications.error(\"Failure\",e,\"Failed loading user activity logs csv\")}})}async loadLogs(){return this.$async(async()=>{this.state.logs=null;try{const{logs:e,totalCount:t}={logs:[{},{},{},{},{}],totalCount:5};this.state.logs=e,this.state.totalItems=t}catch(e){this.Notifications.error(\"Failure\",e,\"Failed loading user activity logs\")}})}$onInit(){return this.$async(async()=>{this.loadLogs()})}}r.$inject=[\"$async\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e,t,n){this.PaginationService=n,this.tableKey=\"authLogs\";const a=this.$onInit;angular.extend(this,e(\"GenericDatatableController\",{$scope:t})),this.changeSort=this.changeSort.bind(this),this.handleChangeLimit=this.handleChangeLimit.bind(this),this.$onInit=a.bind(this)}changeSort(e){let t=!1;e===this.sort.key&&(t=!this.sort.desc),this.onChangeSort({key:e,desc:t})}handleChangeLimit(e){this.PaginationService.setPaginationLimit(this.tableKey,e),this.onChangeLimit(e)}$onInit(){this.$onInitGeneric();const e=this.PaginationService.getPaginationLimit(this.tableKey);e&&this.onChangeLimit(+e)}}a.$inject=[\"$controller\",\"$scope\",\"PaginationService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"FileUploaderController\",(function(){return a}));class a{constructor(e){Object.assign(this,{$async:e}),this.state={uploadInProgress:!1},this.onFileSelected=this.onFileSelected.bind(this),this.onFileSelectedAsync=this.onFileSelectedAsync.bind(this)}onFileSelected(e){return this.$async(this.onFileSelectedAsync,e)}async onFileSelectedAsync(e){if(e){this.state.uploadInProgress=!0;try{await this.uploadFile(e)}finally{this.state.uploadInProgress=!1}}}}a.$inject=[\"$async\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"HostBrowserController\",(function(){return r}));var a=n(369),i=n(117),s=n(59);class r{constructor(e,t,n,a,i){Object.assign(this,{$async:e,HostBrowserService:t,Notifications:n,FileSaver:a,ModalService:i}),this.state={path:\"/host\"},this.goToParent=this.goToParent.bind(this),this.browse=this.browse.bind(this),this.confirmDeleteFile=this.confirmDeleteFile.bind(this),this.isRoot=this.isRoot.bind(this),this.getRelativePath=this.getRelativePath.bind(this),this.getFilesForPath=this.getFilesForPath.bind(this),this.getFilesForPathAsync=this.getFilesForPathAsync.bind(this),this.downloadFile=this.downloadFile.bind(this),this.downloadFileAsync=this.downloadFileAsync.bind(this),this.renameFile=this.renameFile.bind(this),this.renameFileAsync=this.renameFileAsync.bind(this),this.deleteFile=this.deleteFile.bind(this),this.deleteFileAsync=this.deleteFileAsync.bind(this),this.onFileSelectedForUpload=this.onFileSelectedForUpload.bind(this),this.onFileSelectedForUploadAsync=this.onFileSelectedForUploadAsync.bind(this)}getRelativePath(e){e=e||this.state.path;const t=new RegExp(\"^/host/?\");return e.replace(t,\"/\")}goToParent(){this.getFilesForPath(this.parentPath(this.state.path))}isRoot(){return\"/host\"===this.state.path}browse(e){this.getFilesForPath(this.buildPath(this.state.path,e))}getFilesForPath(e){return this.$async(this.getFilesForPathAsync,e)}async getFilesForPathAsync(e){try{const t=await this.HostBrowserService.ls(e);this.state.path=e,this.files=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to browse\")}}renameFile(e,t){return this.$async(this.renameFileAsync,e,t)}async renameFileAsync(e,t){const n=this.buildPath(this.state.path,e),a=this.buildPath(this.state.path,t);try{await this.HostBrowserService.rename(n,a),this.Notifications.success(\"File successfully renamed\",this.getRelativePath(a));const e=await this.HostBrowserService.ls(this.state.path);this.files=e}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to rename file\")}}downloadFile(e){return this.$async(this.downloadFileAsync,e)}async downloadFileAsync(e){const t=this.buildPath(this.state.path,e);try{const{file:n}=await this.HostBrowserService.get(t),a=new Blob([n],{type:\"text/plain;charset=utf-8\"});this.FileSaver.saveAs(a,e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to download file\")}}confirmDeleteFile(e){const t=this.buildPath(this.state.path,e);this.ModalService.confirmDeletion(`Are you sure that you want to delete ${this.getRelativePath(t)} ?`,e=>{if(e)return this.deleteFile(t)})}deleteFile(e){this.$async(this.deleteFileAsync,e)}async deleteFileAsync(e){try{await this.HostBrowserService.delete(e),this.Notifications.success(\"File successfully deleted\",this.getRelativePath(e));const t=await this.HostBrowserService.ls(this.state.path);this.files=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to delete file\")}}$onInit(){this.getFilesForPath(\"/host\")}parentPath(e){if(\"/host\"===e)return\"/host\";const t=Object(s.a)(e,\"/\");return Object(i.a)(Object(a.a)(t,0,t.length-1),\"/\")}buildPath(e,t){return e.lastIndexOf(\"/\")===e.length-1?e+t:e+\"/\"+t}onFileSelectedForUpload(e){return this.$async(this.onFileSelectedForUploadAsync,e)}async onFileSelectedForUploadAsync(e){try{await this.HostBrowserService.upload(this.state.path,e),this.onFileUploaded()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to upload file\")}}onFileUploaded(){this.refreshList()}refreshList(){this.getFilesForPath(this.state.path)}}r.$inject=[\"$async\",\"HostBrowserService\",\"Notifications\",\"FileSaver\",\"ModalService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"NodeSelectorController\",(function(){return a}));class a{constructor(e,t){Object.assign(this,{AgentService:e,Notifications:t})}async $onInit(){try{const e=await this.AgentService.agents();this.agents=e,this.model||(this.model=e[0].NodeName)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load agents\")}}}a.$inject=[\"AgentService\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"VolumeBrowserController\",(function(){return r}));var a=n(369),i=n(117),s=n(59);class r{constructor(e,t,n,a,i,s,r){Object.assign(this,{$async:e,HttpRequestHelper:t,VolumeBrowserService:n,FileSaver:a,Blob:i,ModalService:s,Notifications:r}),this.state={path:\"/\"},this.rename=this.rename.bind(this),this.renameAsync=this.renameAsync.bind(this),this.confirmDelete=this.confirmDelete.bind(this),this.download=this.download.bind(this),this.downloadAsync=this.downloadAsync.bind(this),this.up=this.up.bind(this),this.browse=this.browse.bind(this),this.deleteFile=this.deleteFile.bind(this),this.deleteFileAsync=this.deleteFileAsync.bind(this),this.getFilesForPath=this.getFilesForPath.bind(this),this.getFilesForPathAsync=this.getFilesForPathAsync.bind(this),this.onFileSelectedForUpload=this.onFileSelectedForUpload.bind(this),this.onFileSelectedForUploadAsync=this.onFileSelectedForUploadAsync.bind(this),this.parentPath=this.parentPath.bind(this),this.buildPath=this.buildPath.bind(this),this.$onInit=this.$onInit.bind(this),this.onFileUploaded=this.onFileUploaded.bind(this),this.refreshList=this.refreshList.bind(this)}rename(e,t){return this.$async(this.renameAsync,e,t)}async renameAsync(e,t){const n=\"/\"===this.state.path?e:`${this.state.path}/${e}`,a=\"/\"===this.state.path?t:`${this.state.path}/${t}`;try{await this.VolumeBrowserService.rename(this.volumeId,n,a),this.Notifications.success(\"File successfully renamed\",a),this.files=await this.VolumeBrowserService.ls(this.volumeId,this.state.path)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to rename file\")}}confirmDelete(e){const t=\"/\"===this.state.path?e:`${this.state.path}/${e}`;this.ModalService.confirmDeletion(`Are you sure that you want to delete ${t} ?`,e=>{e&&this.deleteFile(t)})}download(e){return this.$async(this.downloadAsync,e)}async downloadAsync(e){const t=\"/\"===this.state.path?e:`${this.state.path}/${e}`;try{const n=await this.VolumeBrowserService.get(this.volumeId,t),a=new Blob([n.file]);this.FileSaver.saveAs(a,e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to download file\")}}up(){const e=this.parentPath(this.state.path);this.getFilesForPath(e)}browse(e){const t=this.buildPath(this.state.path,e);this.getFilesForPath(t)}deleteFile(e){return this.$async(this.deleteFileAsync,e)}async deleteFileAsync(e){try{await this.VolumeBrowserService.delete(this.volumeId,e),this.Notifications.success(\"File successfully deleted\",e),this.files=await this.VolumeBrowserService.ls(this.volumeId,this.state.path)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to delete file\")}}getFilesForPath(e){return this.$async(this.getFilesForPathAsync,e)}async getFilesForPathAsync(e){try{const t=await this.VolumeBrowserService.ls(this.volumeId,e);this.state.path=e,this.files=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to browse volume\")}}onFileSelectedForUpload(e){return this.$async(this.onFileSelectedForUploadAsync,e)}async onFileSelectedForUploadAsync(e){try{await this.VolumeBrowserService.upload(this.state.path,e,this.volumeId),this.onFileUploaded()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to upload file\")}}parentPath(e){if(0===e.lastIndexOf(\"/\"))return\"/\";const t=Object(s.a)(e,\"/\");return Object(i.a)(Object(a.a)(t,0,t.length-1),\"/\")}buildPath(e,t){return\"/\"===e?e+t:`${e}/${t}`}onFileUploaded(){this.refreshList()}refreshList(){this.getFilesForPath(this.state.path)}async $onInit(){this.HttpRequestHelper.setPortainerAgentTargetHeader(this.nodeName);try{this.files=await this.VolumeBrowserService.ls(this.volumeId,this.state.path)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to browse volume\")}}}r.$inject=[\"$async\",\"HttpRequestHelper\",\"VolumeBrowserService\",\"FileSaver\",\"Blob\",\"ModalService\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"AgentViewModel\",(function(){return a}));class a{constructor(e){this.IPAddress=e.IPAddress,this.NodeName=e.NodeName,this.NodeRole=e.NodeRole}}},function(e,t,n){\"use strict\";function a(e){this.Id=e.id,this.SubscriptionId=e.subscriptionId,this.DisplayName=e.displayName,this.Name=e.name}n.r(t),n.d(t,\"LocationViewModel\",(function(){return a}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ContainerInstanceProviderViewModel\",(function(){return i}));var a=n(5);function i(e){this.Id=e.id,this.Namespace=e.namespace;var t=Object(a.a)(e.resourceTypes,{resourceType:\"containerGroups\"});this.Locations=t.locations}},function(e,t,n){\"use strict\";n.r(t);class a{constructor(e,t,n,a,i,s){Object.assign(this,{$state:e,AzureService:t,ContainerGroupService:n,Notifications:a,ResourceGroupService:i,SubscriptionService:s}),this.state={loading:!1},this.container=null,this.subscription=null,this.resourceGroup=null}async $onInit(){this.state.loading=!0;const{id:e}=this.$state.params,{subscriptionId:t,resourceGroupId:n,containerGroupId:a}=function(e){const[,t,n,,a]=e.match(/^\\/subscriptions\\/(.+)\\/resourceGroups\\/(.+)\\/providers\\/(.+)\\/containerGroups\\/(.+)$/);return{subscriptionId:t,resourceGroupId:n,containerGroupId:a}}(e);try{this.subscription=await this.SubscriptionService.subscription(t),this.container=await this.ContainerGroupService.containerGroup(t,n,a),this.resourceGroup=await this.ResourceGroupService.resourceGroup(t,n)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve container instance details\")}this.state.loading=!1}}a.$inject=[\"$state\",\"AzureService\",\"ContainerGroupService\",\"Notifications\",\"ResourceGroupService\",\"SubscriptionService\"],t.default=a},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(148);class i{constructor(e,t){this.DockerHubService=e,this.Notifications=t,this.pullRateLimits=null}$onChanges({registryId:e}){e&&this.fetchRateLimits()}$onInit(){this.setValidity=this.setValidity||(()=>{})}async fetchRateLimits(){if(this.pullRateLimits=null,a.default.isAgentEndpoint(this.endpoint)||a.default.isLocalEndpoint(this.endpoint))try{this.pullRateLimits=await this.DockerHubService.checkRateLimits(this.endpoint,this.registryId||0),this.setValidity(!this.pullRateLimits.limit||this.pullRateLimits.limit&&this.pullRateLimits.remaining>=0)}catch(e){console.error(\"Failed loading DockerHub pull rate limits\",e),this.setValidity(!0)}else this.setValidity(!0)}}i.$inject=[\"DockerHubService\",\"Notifications\"]},function(e,t,n){\"use strict\";function a(){this.Scope=\"local\",this.SelectedNetworkConfig=null,this.DatatableState={selectedItems:[]},this.ParentNetworkCard=\"\"}n.r(t),n.d(t,\"MacvlanFormData\",(function(){return a}))},function(e,t,n){\"use strict\";function a(){this.useCIFS=!1,this.serverAddress=\"\",this.share=\"\",this.version=\"CIFS v2.0 (Used by Windows Vista / Server 2008)\",this.versions=[\"CIFS v1.0 (Used by Windows XP / Server 2003 and earlier)\",\"CIFS v2.0 (Used by Windows Vista / Server 2008)\",\"CIFS v2.1 (Used by Windows 7 / Server 2008 R2)\",\"CIFS 3.0 (Used by Windows 8 / Server 2012 and newer)\"],this.versionsNumber=[\"1.0\",\"2.0\",\"2.1\",\"3.0\"],this.username=\"\",this.password=\"\"}n.r(t),n.d(t,\"VolumesCIFSFormData\",(function(){return a}))},function(e,t,n){\"use strict\";function a(){this.useNFS=!1,this.serverAddress=\"\",this.mountPoint=\"\",this.version=\"NFS4\",this.options=\"rw,noatime,rsize=8192,wsize=8192,tcp,timeo=14\",this.versions=[\"NFS4\",\"NFS\"]}n.r(t),n.d(t,\"VolumesNFSFormData\",(function(){return a}))},function(e,t,n){\"use strict\";function a(e){this.Time=e.time,e.Type?(this.Type=e.Type,this.Details=function(e){var t=e.Actor.Attributes,n=\"\",a=e.Action,i=\"\",s=a.indexOf(\":\");switch(-1!=s&&(i=a.substring(s),a=a.substring(0,s)),e.Type){case\"container\":switch(a){case\"stop\":n=\"Container \"+t.name+\" stopped\";break;case\"destroy\":n=\"Container \"+t.name+\" deleted\";break;case\"create\":n=\"Container \"+t.name+\" created\";break;case\"start\":n=\"Container \"+t.name+\" started\";break;case\"kill\":n=\"Container \"+t.name+\" killed\";break;case\"die\":n=\"Container \"+t.name+\" exited with status code \"+t.exitCode;break;case\"commit\":n=\"Container \"+t.name+\" committed\";break;case\"restart\":n=\"Container \"+t.name+\" restarted\";break;case\"pause\":n=\"Container \"+t.name+\" paused\";break;case\"unpause\":n=\"Container \"+t.name+\" unpaused\";break;case\"attach\":n=\"Container \"+t.name+\" attached\";break;case\"detach\":n=\"Container \"+t.name+\" detached\";break;case\"copy\":n=\"Container \"+t.name+\" copied\";break;case\"export\":n=\"Container \"+t.name+\" exported\";break;case\"health_status\":n=\"Container \"+t.name+\" executed health status\";break;case\"oom\":n=\"Container \"+t.name+\" goes in out of memory\";break;case\"rename\":n=\"Container \"+t.name+\" renamed\";break;case\"resize\":n=\"Container \"+t.name+\" resized\";break;case\"top\":n=\"Showed running processes for container \"+t.name;break;case\"update\":n=\"Container \"+t.name+\" updated\";break;case\"exec_create\":n=\"Exec instance created\";break;case\"exec_start\":n=\"Exec instance started\";break;case\"exec_die\":n=\"Exec instance exited\";break;default:n=\"Unsupported event\"}break;case\"image\":switch(a){case\"delete\":n=\"Image deleted\";break;case\"import\":n=\"Image \"+e.Actor.ID+\" imported\";break;case\"load\":n=\"Image \"+e.Actor.ID+\" loaded\";break;case\"tag\":n=\"New tag created for \"+t.name;break;case\"untag\":n=\"Image untagged\";break;case\"save\":n=\"Image \"+e.Actor.ID+\" saved\";break;case\"pull\":n=\"Image \"+e.Actor.ID+\" pulled\";break;case\"push\":n=\"Image \"+e.Actor.ID+\" pushed\";break;default:n=\"Unsupported event\"}break;case\"network\":switch(a){case\"create\":n=\"Network \"+t.name+\" created\";break;case\"destroy\":n=\"Network \"+t.name+\" deleted\";break;case\"remove\":n=\"Network \"+t.name+\" removed\";break;case\"connect\":n=\"Container connected to \"+t.name+\" network\";break;case\"disconnect\":n=\"Container disconnected from \"+t.name+\" network\";break;default:n=\"Unsupported event\"}break;case\"volume\":switch(a){case\"create\":n=\"Volume \"+e.Actor.ID+\" created\";break;case\"destroy\":n=\"Volume \"+e.Actor.ID+\" deleted\";break;case\"mount\":n=\"Volume \"+e.Actor.ID+\" mounted\";break;case\"unmount\":n=\"Volume \"+e.Actor.ID+\" unmounted\";break;default:n=\"Unsupported event\"}break;default:n=\"Unsupported event\"}return n+i}(e)):(this.Type=e.status,this.Details=e.from)}n.r(t),n.d(t,\"EventViewModel\",(function(){return a}))},function(e,t,n){\"use strict\";function a(e){this.Id=e.Id,this.Tag=e.Tag,this.Parent=e.Parent,this.Repository=e.Repository,this.Created=e.Created,this.Checked=!1,this.RepoTags=e.RepoTags,this.VirtualSize=e.VirtualSize,this.DockerVersion=e.DockerVersion,this.Os=e.Os,this.Architecture=e.Architecture,this.Author=e.Author,this.Command=e.Config.Cmd,this.Entrypoint=e.ContainerConfig.Entrypoint?e.ContainerConfig.Entrypoint:\"\",this.ExposedPorts=e.ContainerConfig.ExposedPorts?Object.keys(e.ContainerConfig.ExposedPorts):[],this.Volumes=e.ContainerConfig.Volumes?Object.keys(e.ContainerConfig.Volumes):[],this.Env=e.ContainerConfig.Env?e.ContainerConfig.Env:[],this.Labels=e.ContainerConfig.Labels}n.r(t),n.d(t,\"ImageDetailsViewModel\",(function(){return a}))},function(e,t,n){\"use strict\";function a(e,t){this.Order=e,this.Id=t.Id,this.Created=t.Created,this.CreatedBy=t.CreatedBy,this.Size=t.Size,this.Comment=t.Comment,this.Tags=t.Tags}n.r(t),n.d(t,\"ImageLayerViewModel\",(function(){return a}))},function(e,t,n){\"use strict\";function a(e){this.Id=e.Id,this.Name=e.Name,this.Enabled=e.Enabled,this.Config=e.Config}n.r(t),n.d(t,\"PluginViewModel\",(function(){return a}))},function(e,t,n){\"use strict\";function a(e){this.Id=e.ID}n.r(t),n.d(t,\"SwarmViewModel\",(function(){return a}))},function(e,t,n){\"use strict\";function a(e){var t={};return t.file=e,t}n.r(t),n.d(t,\"imageGetResponse\",(function(){return a}))},,function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(19);class i{constructor(e,t,n,i){this.$async=e,this.EndpointService=t,this.Notifications=n,this.StateManager=i,this.limitedFeature=a.HIDE_AUTO_UPDATE_WINDOW,this.formValues={enableHostManagementFeatures:!1,allowVolumeBrowserForRegularUsers:!1,disableBindMountsForRegularUsers:!1,disablePrivilegedModeForRegularUsers:!1,disableHostNamespaceForRegularUsers:!1,disableStackManagementForRegularUsers:!1,disableDeviceMappingForRegularUsers:!1,disableContainerCapabilitiesForRegularUsers:!1,disableSysctlSettingForRegularUsers:!1},this.isAgent=!1,this.state={actionInProgress:!1},this.save=this.save.bind(this)}isContainerEditDisabled(){const{disableBindMountsForRegularUsers:e,disableHostNamespaceForRegularUsers:t,disablePrivilegedModeForRegularUsers:n,disableDeviceMappingForRegularUsers:a,disableContainerCapabilitiesForRegularUsers:i,disableSysctlSettingForRegularUsers:s}=this.formValues;return e||t||n||a||i||s}async save(){return this.$async(async()=>{try{this.state.actionInProgress=!0;const e={enableHostManagementFeatures:this.formValues.enableHostManagementFeatures,allowBindMountsForRegularUsers:!this.formValues.disableBindMountsForRegularUsers,allowPrivilegedModeForRegularUsers:!this.formValues.disablePrivilegedModeForRegularUsers,allowVolumeBrowserForRegularUsers:this.formValues.allowVolumeBrowserForRegularUsers,allowHostNamespaceForRegularUsers:!this.formValues.disableHostNamespaceForRegularUsers,allowDeviceMappingForRegularUsers:!this.formValues.disableDeviceMappingForRegularUsers,allowStackManagementForRegularUsers:!this.formValues.disableStackManagementForRegularUsers,allowContainerCapabilitiesForRegularUsers:!this.formValues.disableContainerCapabilitiesForRegularUsers,allowSysctlSettingForRegularUsers:!this.formValues.disableSysctlSettingForRegularUsers};await this.EndpointService.updateSecuritySettings(this.endpoint.Id,e),this.endpoint.SecuritySettings=e,this.Notifications.success(\"Saved settings successfully\")}catch(e){this.Notifications.error(\"Failure\",e,\"Failed saving settings\")}this.state.actionInProgress=!1})}checkAgent(){return this.StateManager.getState().endpoint.mode.agentProxy}$onInit(){const e=this.endpoint.SecuritySettings,t=this.checkAgent();this.isAgent=t,this.formValues={enableHostManagementFeatures:t&&e.enableHostManagementFeatures,allowVolumeBrowserForRegularUsers:t&&e.allowVolumeBrowserForRegularUsers,disableBindMountsForRegularUsers:!e.allowBindMountsForRegularUsers,disablePrivilegedModeForRegularUsers:!e.allowPrivilegedModeForRegularUsers,disableHostNamespaceForRegularUsers:!e.allowHostNamespaceForRegularUsers,disableDeviceMappingForRegularUsers:!e.allowDeviceMappingForRegularUsers,disableStackManagementForRegularUsers:!e.allowStackManagementForRegularUsers,disableContainerCapabilitiesForRegularUsers:!e.allowContainerCapabilitiesForRegularUsers,disableSysctlSettingForRegularUsers:!e.allowSysctlSettingForRegularUsers}}}i.$inject=[\"$async\",\"EndpointService\",\"Notifications\",\"StateManager\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"AssociatedEndpointsDatatableController\",(function(){return s}));var a=n(1),i=n.n(a);class s{constructor(e,t,n,a){this.extendGenericController(t,e),this.DatatableService=n,this.PaginationService=a,this.state=Object.assign(this.state,{orderBy:this.orderBy,loading:!0,filteredDataSet:[],totalFilteredDataset:0,pageNumber:1}),this.onPageChange=this.onPageChange.bind(this),this.paginationChanged=this.paginationChanged.bind(this)}extendGenericController(e,t){const n=this.$onInit.bind(this),a=this.changePaginationLimit.bind(this),s=this.onTextFilterChange.bind(this);i.a.extend(this,e(\"GenericDatatableController\",{$scope:t})),this.$onInit=n,this.changePaginationLimit=a,this.onTextFilterChange=s}$onInit(){this.setDefaults(),this.prepareTableFromDataset();var e=this.DatatableService.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=this.DatatableService.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.paginationChanged()}$onChanges({updateKey:e}){e.currentValue&&!e.isFirstChange()&&this.paginationChanged()}onPageChange(e){this.state.pageNumber=e,this.paginationChanged()}changePaginationLimit(){this.PaginationService.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChanged()}onTextFilterChange(){var e=this.state.textFilter;this.DatatableService.setDataTableTextFilters(this.tableKey,e),this.paginationChanged()}paginationChanged(){this.state.loading=!0,this.state.filteredDataSet=[];const e=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1;this.retrievePage(e,this.state.paginatedItemLimit,this.state.textFilter).then(e=>{this.state.filteredDataSet=e.endpoints,this.state.totalFilteredDataSet=e.totalCount}).finally(()=>{this.state.loading=!1})}}s.$inject=[\"$scope\",\"$controller\",\"DatatableService\",\"PaginationService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EdgeJobFormController\",(function(){return o}));var a=n(6),i=n(16),s=n(17),r=n.n(s);class o{constructor(){this.state={formValidationError:\"\"},this.scheduleValues=[{displayed:\"Every hour\",cron:\"0 * * * *\"},{displayed:\"Every 2 hours\",cron:\"0 */2 * * *\"},{displayed:\"Every day\",cron:\"0 0 * * *\"}],this.formValues={datetime:r()(),scheduleValue:this.scheduleValues[0],cronMethod:\"basic\",method:\"editor\"},this.cronRegex=/(@(annually|yearly|monthly|weekly|daily|hourly|reboot))|(@every (\\d+(ns|us|\u00b5s|ms|s|m|h))+)|((((\\d+,)+\\d+|(\\d+(\\/|-)\\d+)|\\d+|\\*) ){4,6}((\\d+,)+\\d+|(\\d+(\\/|-)\\d+)|\\d+|\\*))/,this.action=this.action.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this)}onChangeModel(e){const t=r()().add(\"hours\",1);this.formValues={datetime:e.CronExpression?l(e.CronExpression,t):t,scheduleValue:this.formValues.scheduleValue,cronMethod:e.Recurring?\"advanced\":\"basic\",method:this.formValues.method}}action(){var e,t;(this.state.formValidationError=\"\",\"editor\"!==this.formValues.method||\"\"!==this.model.FileContent)?(\"basic\"===this.formValues.cronMethod?this.model.Recurring?this.model.CronExpression=this.formValues.scheduleValue.cron:this.model.CronExpression=(e=this.formValues.datetime,[(t=r()(e)).minutes(),t.hours(),t.date(),t.month()+1,\"*\"].join(\" \")):this.model.Recurring=!0,this.formAction(this.formValues.method)):this.state.formValidationError=\"Script file content must not be empty\"}editorUpdate(e){this.model.FileContent=e.getValue(),this.isEditorDirty=!0}associateEndpoint(e){Object(i.a)(this.model.Endpoints,e.Id)||(this.model.Endpoints=[...this.model.Endpoints,e.Id])}dissociateEndpoint(e){this.model.Endpoints=Object(a.a)(this.model.Endpoints,t=>t!==e.Id)}$onInit(){this.onChangeModel(this.model)}}function l(e,t=r()()){var n=e.split(\" \");return n.length>4?(n=n.slice(0,4),r()(e,\"m H D M\")):t}o.$inject=[]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EdgeJobResultsDatatableController\",(function(){return r}));var a=n(233),i=n(1),s=n.n(i);class r{constructor(e,t,n){this.$state=n,s.a.extend(this,e(\"GenericDatatableController\",{$scope:t}))}collectLogs(...e){this.settings.repeater.autoRefresh=!0,this.settings.repeater.refreshRate=\"5\",this.onSettingsRepeaterChange(),this.onCollectLogsClick(...e)}$onChanges({dataset:e}){e&&e.currentValue&&this.onDatasetChange(e.currentValue)}onDatasetChange(e){const t=Object(a.a)(e,e=>2===e.LogsStatus);this.settings.repeater.autoRefresh=t,this.settings.repeater.refreshRate=\"5\",this.onSettingsRepeaterChange()}}r.$inject=[\"$controller\",\"$scope\",\"$state\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(){this.deploymentOptions=[{id:\"deployment_compose\",icon:\"fab fa-docker\",label:\"Compose\",description:\"docker-compose format\",value:0},{id:\"deployment_kube\",icon:\"fa fa-cubes\",label:\"Kubernetes\",description:\"Kubernetes manifest format\",value:1,disabled:()=>this.hasDockerEndpoint(),tooltip:()=>this.hasDockerEndpoint()?\"Cannot use this option with Edge Docker endpoints\":\"\"}]}}a.$inject=[]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EdgeStackEndpointsDatatableController\",(function(){return s}));var a=n(1),i=n.n(a);class s{constructor(e,t,n,a,i,s){this.extendGenericController(n,t),this.DatatableService=a,this.PaginationService=i,this.Notifications=s,this.$async=e,this.state=Object.assign(this.state,{orderBy:this.orderBy,loading:!0,filteredDataSet:[],totalFilteredDataset:0,pageNumber:1}),this.onPageChange=this.onPageChange.bind(this),this.paginationChanged=this.paginationChanged.bind(this),this.paginationChangedAsync=this.paginationChangedAsync.bind(this),this.statusMap={1:\"OK\",2:\"Error\",3:\"Acknowledged\"}}extendGenericController(e,t){const n=this.$onInit.bind(this),a=this.changePaginationLimit.bind(this),s=this.onTextFilterChange.bind(this);i.a.extend(this,e(\"GenericDatatableController\",{$scope:t})),this.$onInit=n,this.changePaginationLimit=a,this.onTextFilterChange=s}$onInit(){this.setDefaults(),this.prepareTableFromDataset();var e=this.DatatableService.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=this.DatatableService.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.paginationChanged()}onPageChange(e){this.state.pageNumber=e,this.paginationChanged()}changePaginationLimit(){this.PaginationService.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChanged()}onTextFilterChange(){var e=this.state.textFilter;this.DatatableService.setDataTableTextFilters(this.tableKey,e),this.paginationChanged()}paginationChanged(){this.$async(this.paginationChangedAsync)}async paginationChangedAsync(){this.state.loading=!0,this.state.filteredDataSet=[];const e=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1;try{const{endpoints:t,totalCount:n}=await this.retrievePage(e,this.state.paginatedItemLimit,this.state.textFilter);this.state.filteredDataSet=t,this.state.totalFilteredDataSet=n}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environments\")}finally{this.state.loading=!1}}}s.$inject=[\"$async\",\"$scope\",\"$controller\",\"DatatableService\",\"PaginationService\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EdgeStackStatusController\",(function(){return i}));const a={1:\"ok\",2:\"error\",3:\"acknowledged\"};class i{$onChanges({stackStatus:e}){if(!e||!e.currentValue)return;const t={ok:0,error:0,acknowledged:0};for(let n in e.currentValue){const i=e.currentValue[n];t[a[i.Type]]++}this.status=t}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EditEdgeStackFormController\",(function(){return i}));var a=n(15);class i{constructor(){this.state={endpointTypes:[]},this.fileContents={0:\"\",1:\"\"},this.onChangeGroups=this.onChangeGroups.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeComposeConfig=this.onChangeComposeConfig.bind(this),this.onChangeKubeManifest=this.onChangeKubeManifest.bind(this),this.hasDockerEndpoint=this.hasDockerEndpoint.bind(this),this.hasKubeEndpoint=this.hasKubeEndpoint.bind(this),this.onChangeDeploymentType=this.onChangeDeploymentType.bind(this),this.removeLineBreaks=this.removeLineBreaks.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this)}hasKubeEndpoint(){return this.state.endpointTypes.includes(a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment)}hasDockerEndpoint(){return this.state.endpointTypes.includes(a.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment)}onChangeGroups(e){this.model.EdgeGroups=e,this.checkEndpointTypes(e)}isFormValid(){return this.model.EdgeGroups.length&&this.model.StackFileContent&&this.validateEndpointsForDeployment()}checkEndpointTypes(e){const t=e.map(e=>this.edgeGroups.find(t=>t.Id===e));this.state.endpointTypes=t.flatMap(e=>e.EndpointTypes)}removeLineBreaks(e){return e.replace(/(\\r\\n|\\n|\\r)/gm,\"\")}onChangeFileContent(e,t){const n=this.fileContents[e];this.removeLineBreaks(n)!==this.removeLineBreaks(t)&&(this.model.StackFileContent=t,this.fileContents[e]=t,this.isEditorDirty=!0)}onChangeKubeManifest(e){this.onChangeFileContent(1,e)}onChangeComposeConfig(e){this.onChangeFileContent(0,e)}onChangeDeploymentType(e){this.model.DeploymentType=e,this.model.StackFileContent=this.fileContents[e]}validateEndpointsForDeployment(){return 0==this.model.DeploymentType||!this.hasDockerEndpoint()}$onInit(){this.checkEndpointTypes(this.model.EdgeGroups)}}i.$inject=[]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EdgeGroupFormController\",(function(){return s}));var a=n(6),i=n(16);class s{constructor(e,t,n){this.EndpointService=e,this.$async=t,this.endpoints={state:{limit:\"10\",filter:\"\",pageNumber:1,totalCount:0},value:null},this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this),this.getDynamicEndpointsAsync=this.getDynamicEndpointsAsync.bind(this),this.getDynamicEndpoints=this.getDynamicEndpoints.bind(this),n.$watch(()=>this.model,()=>{this.model.Dynamic&&this.getDynamicEndpoints()},!0)}associateEndpoint(e){Object(i.a)(this.model.Endpoints,e.Id)||(this.model.Endpoints=[...this.model.Endpoints,e.Id])}dissociateEndpoint(e){this.model.Endpoints=Object(a.a)(this.model.Endpoints,t=>t!==e.Id)}getDynamicEndpoints(){return this.$async(this.getDynamicEndpointsAsync)}async getDynamicEndpointsAsync(){const{pageNumber:e,limit:t,search:n}=this.endpoints.state,a=(e-1)*t+1,i={search:n,types:[4,7],tagIds:this.model.TagIds,tagsPartialMatch:this.model.PartialMatch},s=await this.EndpointService.endpoints(a,t,i),r=parseInt(s.totalCount,10);this.endpoints.value=s.value,this.endpoints.state.totalCount=r}}s.$inject=[\"EndpointService\",\"$async\",\"$scope\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EdgeGroupsDatatableController\",(function(){return s}));var a=n(1),i=n.n(a);class s{constructor(e,t){const n=this.allowSelection;i.a.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.allowSelection=n.bind(this)}allowSelection(e){return!e.HasEdgeStack}}s.$inject=[\"$scope\",\"$controller\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"CreateEdgeGroupController\",(function(){return a}));class a{constructor(e,t,n,a,i,s){this.EdgeGroupService=e,this.GroupService=t,this.TagService=n,this.Notifications=a,this.$state=i,this.$async=s,this.state={actionInProgress:!1,loaded:!1},this.model={Name:\"\",Endpoints:[],Dynamic:!1,TagIds:[],PartialMatch:!1},this.createGroup=this.createGroup.bind(this),this.createGroupAsync=this.createGroupAsync.bind(this)}async $onInit(){const[e,t]=await Promise.all([this.TagService.tags(),this.GroupService.groups()]);this.tags=e,this.endpointGroups=t,this.state.loaded=!0}createGroup(){return this.$async(this.createGroupAsync)}async createGroupAsync(){this.state.actionInProgress=!0;try{await this.EdgeGroupService.create(this.model),this.Notifications.success(\"Edge group successfully created\"),this.$state.go(\"edge.groups\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create edge group\")}finally{this.state.actionInProgress=!1}}}a.$inject=[\"EdgeGroupService\",\"GroupService\",\"TagService\",\"Notifications\",\"$state\",\"$async\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EdgeGroupsController\",(function(){return i}));var a=n(33);class i{constructor(e,t,n,a){this.$async=e,this.$state=t,this.EdgeGroupService=n,this.Notifications=a,this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}async $onInit(){try{this.items=await this.EdgeGroupService.groups()}catch(e){this.items=[],this.Notifications.error(\"Failure\",e,\"Unable to retrieve Edge groups\")}}removeAction(e){return this.$async(this.removeActionAsync,e)}async removeActionAsync(e){for(let t of e)try{await this.EdgeGroupService.remove(t.Id),this.Notifications.success(\"Edge Group successfully removed\",t.Name),Object(a.a)(this.items,t)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove Edge Group\")}this.$state.reload()}}i.$inject=[\"$async\",\"$state\",\"EdgeGroupService\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EditEdgeGroupController\",(function(){return a}));class a{constructor(e,t,n,a,i,s){this.EdgeGroupService=e,this.GroupService=t,this.TagService=n,this.Notifications=a,this.$state=i,this.$async=s,this.state={actionInProgress:!1,loaded:!1},this.updateGroup=this.updateGroup.bind(this),this.updateGroupAsync=this.updateGroupAsync.bind(this)}async $onInit(){const[e,t,n]=await Promise.all([this.TagService.tags(),this.GroupService.groups(),this.EdgeGroupService.group(this.$state.params.groupId)]);n||(this.Notifications.error(\"Failed to find edge group\",{}),this.$state.go(\"edge.groups\")),this.tags=e,this.endpointGroups=t,this.model=n,this.state.loaded=!0}updateGroup(){return this.$async(this.updateGroupAsync)}async updateGroupAsync(){this.state.actionInProgress=!0;try{await this.EdgeGroupService.update(this.model),this.Notifications.success(\"Edge group successfully updated\"),this.$state.go(\"edge.groups\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update edge group\")}finally{this.state.actionInProgress=!1}}}a.$inject=[\"EdgeGroupService\",\"GroupService\",\"TagService\",\"Notifications\",\"$state\",\"$async\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"CreateEdgeJobViewController\",(function(){return a}));class a{constructor(e,t,n,a,i,s,r,o,l){this.state={actionInProgress:!1,isEditorDirty:!1},this.model={Name:\"\",Recurring:!1,CronExpression:\"\",Endpoints:[],FileContent:\"\",File:null},this.$async=e,this.$q=t,this.$state=n,this.$window=a,this.ModalService=i,this.Notifications=o,this.GroupService=r,this.EdgeJobService=s,this.TagService=l,this.create=this.create.bind(this),this.createEdgeJob=this.createEdgeJob.bind(this),this.createAsync=this.createAsync.bind(this)}create(e){return this.$async(this.createAsync,e)}async createAsync(e){this.state.actionInProgress=!0;try{await this.createEdgeJob(e,this.model),this.Notifications.success(\"Edge job successfully created\"),this.state.isEditorDirty=!1,this.$state.go(\"edge.jobs\",{},{reload:!0})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create Edge job\")}this.state.actionInProgress=!1}createEdgeJob(e,t){return\"editor\"===e?this.EdgeJobService.createEdgeJobFromFileContent(t):this.EdgeJobService.createEdgeJobFromFileUpload(t)}async uiCanExit(){if(this.model.FileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){try{const[e,t]=await Promise.all([this.GroupService.groups(),this.TagService.tags()]);this.groups=e,this.tags=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve page data\")}this.$window.onbeforeunload=()=>{if(this.model.FileContent&&this.state.isEditorDirty)return\"\"}}$onDestroy(){this.state.isEditorDirty=!1}}a.$inject=[\"$async\",\"$q\",\"$state\",\"$window\",\"ModalService\",\"EdgeJobService\",\"GroupService\",\"Notifications\",\"TagService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EdgeJobController\",(function(){return s}));var a=n(5),i=n(2);class s{constructor(e,t,n,a,i,s,r,o,l,c,d,u){this.state={actionInProgress:!1,showEditorTab:!1,isEditorDirty:!1},this.$async=e,this.$q=t,this.$state=n,this.$window=a,this.ModalService=i,this.EdgeJobService=s,this.EndpointService=r,this.FileSaver=o,this.GroupService=l,this.HostBrowserService=c,this.Notifications=d,this.TagService=u,this.update=this.update.bind(this),this.updateAsync=this.updateAsync.bind(this),this.downloadLogs=this.downloadLogs.bind(this),this.downloadLogsAsync=this.downloadLogsAsync.bind(this),this.collectLogs=this.collectLogs.bind(this),this.collectLogsAsync=this.collectLogsAsync.bind(this),this.clearLogs=this.clearLogs.bind(this),this.clearLogsAsync=this.clearLogsAsync.bind(this),this.refresh=this.refresh.bind(this),this.refreshAsync=this.refreshAsync.bind(this),this.showEditor=this.showEditor.bind(this)}update(){return this.$async(this.updateAsync)}async updateAsync(){const e=this.edgeJob;this.state.actionInProgress=!0;try{await this.EdgeJobService.updateEdgeJob(e),this.Notifications.success(\"Edge job successfully updated\"),this.state.isEditorDirty=!1,this.$state.go(\"edge.jobs\",{},{reload:!0})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update Edge job\")}this.state.actionInProgress=!1}downloadLogs(e){return this.$async(this.downloadLogsAsync,e)}async downloadLogsAsync(e){try{const t=await this.EdgeJobService.logFile(this.edgeJob.Id,e),n=new Blob([t.FileContent],{type:\"text/plain;charset=utf-8\"}),a=`job_${this.edgeJob.Id}_task_${e}.log`;this.FileSaver.saveAs(n,a)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to download file\")}}associateEndpointsToResults(e,t){return Object(i.a)(e,e=>{const n=Object(a.a)(t,t=>t.Id===e.EndpointId);return e.Endpoint=n,e})}collectLogs(e){return this.$async(this.collectLogsAsync,e)}async collectLogsAsync(e){try{await this.EdgeJobService.collectLogs(this.edgeJob.Id,e);Object(a.a)(this.results,t=>t.EndpointId===e).LogsStatus=2}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to collect logs\")}}clearLogs(e){return this.$async(this.clearLogsAsync,e)}async clearLogsAsync(e){try{await this.EdgeJobService.clearLogs(this.edgeJob.Id,e);Object(a.a)(this.results,t=>t.EndpointId===e).LogsStatus=1}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to clear logs\")}}refresh(){return this.$async(this.refreshAsync)}async refreshAsync(){const{id:e}=this.$state.params,t=await this.EdgeJobService.jobResults(e);if(t.length>0){const e=Object(i.a)(t,e=>e.EndpointId),n=await this.EndpointService.endpoints(void 0,void 0,{endpointIds:e});this.results=this.associateEndpointsToResults(t,n.value)}else this.results=t}showEditor(){this.state.showEditorTab=!0}async uiCanExit(){if(this.edgeJob.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){const{id:e,tab:t}=this.$state.params;this.state.activeTab=t,t&&0!==t||(this.state.showEditorTab=!0);try{const[t,n,a,s,r]=await Promise.all([this.EdgeJobService.edgeJob(e),this.EdgeJobService.getScriptFile(e),this.EdgeJobService.jobResults(e),this.GroupService.groups(),this.TagService.tags()]);if(t.FileContent=n.FileContent,this.oldFileContent=t.FileContent,this.edgeJob=t,this.groups=s,this.tags=r,a.length>0){const e=Object(i.a)(a,e=>e.EndpointId),t=await this.EndpointService.endpoints(void 0,void 0,{endpointIds:e});this.results=this.associateEndpointsToResults(a,t.value)}else this.results=a}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environment list\")}this.$window.onbeforeunload=()=>{if(this.edgeJob.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return\"\"}}$onDestroy(){this.state.isEditorDirty=!1}}s.$inject=[\"$async\",\"$q\",\"$state\",\"$window\",\"ModalService\",\"EdgeJobService\",\"EndpointService\",\"FileSaver\",\"GroupService\",\"HostBrowserService\",\"Notifications\",\"TagService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EdgeJobsViewController\",(function(){return i}));var a=n(33);class i{constructor(e,t,n,a,i){this.$async=e,this.$state=t,this.EdgeJobService=n,this.ModalService=a,this.Notifications=i,this.removeAction=this.removeAction.bind(this),this.deleteJobsAsync=this.deleteJobsAsync.bind(this),this.deleteJobs=this.deleteJobs.bind(this)}removeAction(e){this.ModalService.confirmDeletion(\"Do you want to remove the selected edge job(s) ?\",t=>{t&&this.deleteJobs(e)})}deleteJobs(e){return this.$async(this.deleteJobsAsync,e)}async deleteJobsAsync(e){for(let t of e)try{await this.EdgeJobService.remove(t.Id),this.Notifications.success(\"Stack successfully removed\",t.Name),Object(a.a)(this.edgeJobs,t)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove Edge job \"+t.Name)}this.$state.reload()}async $onInit(){try{const e=await this.EdgeJobService.edgeJobs();this.edgeJobs=e}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve Edge jobs\"),this.edgeJobs=[]}}}i.$inject=[\"$async\",\"$state\",\"EdgeJobService\",\"ModalService\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EdgeStacksViewController\",(function(){return i}));var a=n(33);class i{constructor(e,t,n,a,i){this.$state=e,this.Notifications=t,this.EdgeStackService=n,this.$scope=a,this.$async=i,this.stacks=void 0,this.getStacks=this.getStacks.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}$onInit(){this.getStacks()}removeAction(e){return this.$async(this.removeActionAsync,e)}async removeActionAsync(e){for(let t of e)try{await this.EdgeStackService.remove(t.Id),this.Notifications.success(\"Stack successfully removed\",t.Name),Object(a.a)(this.stacks,t)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove stack \"+t.Name)}this.$state.reload()}async getStacks(){try{this.stacks=await this.EdgeStackService.stacks()}catch(e){this.stacks=[],this.Notifications.error(\"Failure\",e,\"Unable to retrieve stacks\")}}}i.$inject=[\"$state\",\"Notifications\",\"EdgeStackService\",\"$scope\",\"$async\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EditEdgeStackViewController\",(function(){return r}));var a=n(5),i=n(2),s=n(75);class r{constructor(e,t,n,a,i,s,r,o){this.$async=e,this.$state=t,this.$window=n,this.ModalService=a,this.EdgeGroupService=i,this.EdgeStackService=s,this.EndpointService=r,this.Notifications=o,this.stack=null,this.edgeGroups=null,this.state={actionInProgress:!1,activeTab:0,isEditorDirty:!1},this.deployStack=this.deployStack.bind(this),this.deployStackAsync=this.deployStackAsync.bind(this),this.getPaginatedEndpoints=this.getPaginatedEndpoints.bind(this),this.getPaginatedEndpointsAsync=this.getPaginatedEndpointsAsync.bind(this)}async $onInit(){const{stackId:e,tab:t}=this.$state.params;this.state.activeTab=t;try{const[t,n,a]=await Promise.all([this.EdgeGroupService.groups(),this.EdgeStackService.stack(e),this.EdgeStackService.stackFile(e)]);this.edgeGroups=t,this.stack=n,this.stackEndpointIds=this.filterStackEndpoints(n.EdgeGroups,t),this.originalFileContent=a,this.formValues={StackFileContent:a,EdgeGroups:this.stack.EdgeGroups,DeploymentType:this.stack.DeploymentType},this.oldFileContent=this.formValues.StackFileContent}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve stack data\")}this.$window.onbeforeunload=()=>{if(this.formValues.StackFileContent!==this.oldFileContent&&this.state.isEditorDirty)return\"\"}}$onDestroy(){this.state.isEditorDirty=!1}async uiCanExit(){if(this.formValues.StackFileContent.replace(/(\\r\\n|\\n|\\r)/gm,\"\")!==this.oldFileContent.replace(/(\\r\\n|\\n|\\r)/gm,\"\")&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}filterStackEndpoints(e,t){return Object(s.a)(Object(i.a)(e,e=>Object(a.a)(t,{Id:e}).Endpoints))}deployStack(){return this.$async(this.deployStackAsync)}async deployStackAsync(){this.state.actionInProgress=!0;try{this.originalFileContent!=this.formValues.StackFileContent&&(this.formValues.Version=this.stack.Version+1),await this.EdgeStackService.updateStack(this.stack.Id,this.formValues),this.Notifications.success(\"Stack successfully deployed\"),this.state.isEditorDirty=!1,this.$state.go(\"edge.stacks\")}catch(e){this.Notifications.error(\"Deployment error\",e,\"Unable to deploy stack\")}finally{this.state.actionInProgress=!1}}getPaginatedEndpoints(...e){return this.$async(this.getPaginatedEndpointsAsync,...e)}async getPaginatedEndpointsAsync(e,t,n){try{const a={search:n,types:[4,7],endpointIds:this.stackEndpointIds},{value:s,totalCount:r}=await this.EndpointService.endpoints(e,t,a);return{endpoints:Object(i.a)(s,e=>{const t=this.stack.Status[e.Id];return e.Status=t,e}),totalCount:r}}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environment information\")}}}r.$inject=[\"$async\",\"$state\",\"$window\",\"ModalService\",\"EdgeGroupService\",\"EdgeStackService\",\"EndpointService\",\"Notifications\"]},function(e,t,n){\"use strict\";function a(e){this.Time=e.time,this.Category=e.category,this.Module=e.module,this.Content=e.content}n.r(t),n.d(t,\"StoridgeEventModel\",(function(){return a}))},function(e,t,n){\"use strict\";function a(e){this.Domain=e.domain,this.Nodes=e.nodes,this.Condition=e.condition,this.ProvisionedBandwidth=e.provisionedBandwidth,this.UsedBandwidth=e.usedBandwidth,this.FreeBandwidth=e.freeBandwidth,this.TotalBandwidth=e.totalBandwidth,this.ProvisionedIOPS=e.provisionedIOPS,this.UsedIOPS=e.usedIOPS,this.FreeIOPS=e.freeIOPS,this.TotalIOPS=e.totalIOPS,this.ProvisionedCapacity=e.provisionedCapacity,this.UsedCapacity=e.usedCapacity,this.FreeCapacity=e.freeCapacity,this.TotalCapacity=e.totalCapacity}n.r(t),n.d(t,\"StoridgeInfoModel\",(function(){return a}))},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(587);t.default=i.a.module(\"portainer.kubernetes.registries\",[]).component(\"kubernetesRegistryAccessView\",s.kubernetesRegistryAccessView).name},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"kubernetesRegistryAccessView\",(function(){return i}));var a=n(588);const i={templateUrl:n(1520),controller:a.default,bindings:{endpoint:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(27);class i{constructor(e,t,n,a,i,s){this.$async=e,this.$state=t,this.ModalService=n,this.Notifications=i,this.KubernetesResourcePoolService=s,this.EndpointService=a,this.state={actionInProgress:!1},this.selectedResourcePools=[],this.resourcePools=[],this.savedResourcePools=[],this.handleRemove=this.handleRemove.bind(this)}async submit(){return this.updateNamespaces([...this.savedResourcePools.map(({value:e})=>e),...this.selectedResourcePools.map(e=>e.name)])}handleRemove(e){const t=e.map(({value:e})=>e),n=this.savedResourcePools.map(({value:e})=>e).filter(e=>!t.includes(e));this.ModalService.confirmDeletion(\"This registry might be used by one or more applications inside this environment. Removing the registry access could lead to a service interruption for these applications.<br/><br/>Do you wish to continue?\",e=>{if(e)return this.updateNamespaces(n)})}updateNamespaces(e){return this.$async(async()=>{try{await this.EndpointService.updateRegistryAccess(this.endpoint.Id,this.registry.Id,{namespaces:e}),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Failed saving registry access\")}})}$onInit(){return this.$async(async()=>{try{this.state={registryId:this.$state.params.id},this.registry=await this.EndpointService.registry(this.endpoint.Id,this.state.registryId),this.registry.RegistryAccesses&&this.registry.RegistryAccesses[this.endpoint.Id]&&(this.savedResourcePools=this.registry.RegistryAccesses[this.endpoint.Id].Namespaces.map(e=>({value:e})))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registry details\")}try{const e=await this.KubernetesResourcePoolService.get();this.resourcePools=e.filter(e=>!a.default.isSystemNamespace(e.Namespace.Name)&&!this.savedResourcePools.find(({value:t})=>t===e.Namespace.Name)).map(e=>({name:e.Namespace.Name,id:e.Namespace.Id}))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve namespaces\")}})}}i.$inject=[\"$async\",\"$state\",\"ModalService\",\"EndpointService\",\"Notifications\",\"KubernetesResourcePoolService\"]},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(590),r=n(592),o=n(594);function l(e){e.register({name:\"kubernetes.templates\",url:\"/templates\",abstract:!0}),e.register({name:\"kubernetes.templates.custom\",url:\"/custom\",views:{\"content@\":{component:\"kubeCustomTemplatesView\"}}}),e.register({name:\"kubernetes.templates.custom.new\",url:\"/new?fileContent\",views:{\"content@\":{component:\"kubeCreateCustomTemplateView\"}},params:{fileContent:\"\"}}),e.register({name:\"kubernetes.templates.custom.edit\",url:\"/:id\",views:{\"content@\":{component:\"kubeEditCustomTemplateView\"}}})}l.$inject=[\"$stateRegistryProvider\"],t.default=i.a.module(\"portainer.kubernetes.custom-templates\",[]).config(l).component(\"kubeCustomTemplatesView\",s.kubeCustomTemplatesView).component(\"kubeEditCustomTemplateView\",r.kubeEditCustomTemplateView).component(\"kubeCreateCustomTemplateView\",o.kubeCreateCustomTemplateView).name},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"kubeCustomTemplatesView\",(function(){return i}));var a=n(591);const i={templateUrl:n(1521),controller:a.default}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(33);class i{constructor(e,t,n,a,i,s,r){Object.assign(this,{$async:e,$state:t,Authentication:n,CustomTemplateService:a,FormValidator:i,ModalService:s,Notifications:r}),this.state={selectedTemplate:null,formValidationError:\"\",actionInProgress:!1},this.currentUser={isAdmin:!1,id:null},this.isEditAllowed=this.isEditAllowed.bind(this),this.getTemplates=this.getTemplates.bind(this),this.validateForm=this.validateForm.bind(this),this.confirmDelete=this.confirmDelete.bind(this),this.selectTemplate=this.selectTemplate.bind(this)}selectTemplate(e){this.$state.go(\"kubernetes.deploy\",{templateId:e.Id})}isEditAllowed(e){return this.currentUser.isAdmin||this.currentUser.id===e.CreatedByUserId}getTemplates(){return this.$async(async()=>{try{this.templates=await this.CustomTemplateService.customTemplates(3)}catch(e){this.Notifications.error(\"Failed loading templates\",e,\"Unable to load custom templates\")}})}validateForm(e,t){this.state.formValidationError=\"\";const n=this.FormValidator.validateAccessControl(e,t);return!n||(this.state.formValidationError=n,!1)}confirmDelete(e){return this.$async(async()=>{if(await this.ModalService.confirmDeletionAsync(\"Are you sure that you want to delete this template?\"))try{await this.CustomTemplateService.remove(e),Object(a.a)(this.templates,{Id:e})}catch(e){this.Notifications.error(\"Failure\",e,\"Failed to delete template\")}})}$onInit(){this.getTemplates(),this.currentUser.isAdmin=this.Authentication.isAdmin();const e=this.Authentication.getUserDetails();this.currentUser.id=e.ID}}i.$inject=[\"$async\",\"$state\",\"Authentication\",\"CustomTemplateService\",\"FormValidator\",\"ModalService\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"kubeEditCustomTemplateView\",(function(){return i}));var a=n(593);const i={templateUrl:n(1522),controller:a.default}},function(e,t,n){\"use strict\";n.r(t);var a=n(45),i=n(70);class s{constructor(e,t,n,a,i,s,r,o){Object.assign(this,{$async:e,$state:t,ModalService:n,Authentication:a,CustomTemplateService:i,FormValidator:s,Notifications:r,ResourceControlService:o}),this.formValues=null,this.state={formValidationError:\"\",isEditorDirty:!1},this.templates=[],this.getTemplate=this.getTemplate.bind(this),this.submitAction=this.submitAction.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this)}getTemplate(){return this.$async(async()=>{try{const{id:e}=this.$state.params,[t,n]=await Promise.all([this.CustomTemplateService.customTemplate(e),this.CustomTemplateService.customTemplateFile(e)]);t.FileContent=n,this.formValues=t,this.oldFileContent=this.formValues.FileContent,this.formValues.ResourceControl=new i.ResourceControlViewModel(t.ResourceControl),this.formValues.AccessControlData=new a.AccessControlFormData}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve custom template data\")}})}validateForm(){if(this.state.formValidationError=\"\",!this.formValues.FileContent)return this.state.formValidationError=\"Template file content must not be empty\",!1;const e=this.formValues.Title,t=this.$state.params.id;if(this.templates.some(n=>n.Title===e&&n.Id!=t))return this.state.formValidationError=`A template with the name ${e} already exists`,!1;const n=this.Authentication.isAdmin(),a=this.formValues.AccessControlData,i=this.FormValidator.validateAccessControl(a,n);return!i||(this.state.formValidationError=i,!1)}submitAction(){return this.$async(async()=>{if(this.validateForm()){this.actionInProgress=!0;try{await this.CustomTemplateService.updateCustomTemplate(this.formValues.Id,this.formValues);const e=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(e,this.formValues.AccessControlData,this.formValues.ResourceControl),this.Notifications.success(\"Custom template successfully updated\"),this.state.isEditorDirty=!1,this.$state.go(\"kubernetes.templates.custom\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update custom template\")}finally{this.actionInProgress=!1}}})}onChangeFileContent(e){r(this.formValues.FileContent)!==r(e)&&(this.formValues.FileContent=e,this.state.isEditorDirty=!0)}async $onInit(){this.$async(async()=>{this.getTemplate();try{this.templates=await this.CustomTemplateService.customTemplates()}catch(e){this.Notifications.error(\"Failure loading\",e,\"Failed loading custom templates\")}window.addEventListener(\"beforeunload\",this.onBeforeUnload)})}isEditorDirty(){return this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty}uiCanExit(){if(this.isEditorDirty())return this.ModalService.confirmWebEditorDiscard()}onBeforeUnload(e){if(this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return e.preventDefault(),e.returnValue=\"\",\"\"}$onDestroy(){window.removeEventListener(\"beforeunload\",this.onBeforeUnload)}}function r(e=\"\"){return e.replace(/(\\r\\n|\\n|\\r)/gm,\"\")}s.$inject=[\"$async\",\"$state\",\"ModalService\",\"Authentication\",\"CustomTemplateService\",\"FormValidator\",\"Notifications\",\"ResourceControlService\"],t.default=s},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"kubeCreateCustomTemplateView\",(function(){return i}));var a=n(595);const i={templateUrl:n(1523),controller:a.default}},function(e,t,n){\"use strict\";n.r(t);var a=n(47),i=n(45);class s{constructor(e,t,n,s,r,o,l,c){Object.assign(this,{$async:e,$state:t,Authentication:n,CustomTemplateService:s,FormValidator:r,ModalService:o,Notifications:l,ResourceControlService:c}),this.methodOptions=[Object(a.buildOption)(\"method_editor\",\"fa fa-edit\",\"Web editor\",\"Use our Web editor\",\"editor\"),Object(a.buildOption)(\"method_upload\",\"fa fa-upload\",\"Upload\",\"Upload from your computer\",\"upload\")],this.templates=null,this.state={method:\"editor\",actionInProgress:!1,formValidationError:\"\",isEditorDirty:!1},this.formValues={FileContent:\"\",File:null,Title:\"\",Description:\"\",Note:\"\",Logo:\"\",AccessControlData:new i.AccessControlFormData},this.onChangeFile=this.onChangeFile.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onBeforeOnload=this.onBeforeOnload.bind(this)}onChangeMethod(e){this.state.method=e}onChangeFileContent(e){this.formValues.FileContent=e,this.state.isEditorDirty=!0}onChangeFile(e){this.formValues.File=e}async createCustomTemplate(){return this.$async(async()=>{const{method:e}=this.state;if(this.validateForm(e)){this.state.actionInProgress=!0;try{const t=await this.createCustomTemplateByMethod(e,this.formValues),n=this.formValues.AccessControlData,a=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(a,n,t.ResourceControl),this.Notifications.success(\"Custom template successfully created\"),this.state.isEditorDirty=!1,this.$state.go(\"kubernetes.templates.custom\")}catch(e){this.Notifications.error(\"Failure\",e,\"Failed creating custom template\")}finally{this.state.actionInProgress=!1}}})}createCustomTemplateByMethod(e,t){switch(t.Type=3,e){case\"editor\":return this.createCustomTemplateFromFileContent(t);case\"upload\":return this.createCustomTemplateFromFileUpload(t)}}createCustomTemplateFromFileContent(e){return this.CustomTemplateService.createCustomTemplateFromFileContent(e)}createCustomTemplateFromFileUpload(e){return this.CustomTemplateService.createCustomTemplateFromFileUpload(e)}validateForm(e){if(this.state.formValidationError=\"\",\"editor\"===e&&\"\"===this.formValues.FileContent)return this.state.formValidationError=\"Template file content must not be empty\",!1;const t=this.formValues.Title;if(this.templates.some(e=>e.Title===t))return this.state.formValidationError=\"A template with the same name already exists\",!1;const n=this.Authentication.isAdmin(),a=this.formValues.AccessControlData,i=this.FormValidator.validateAccessControl(a,n);return!i||(this.state.formValidationError=i,!1)}async $onInit(){return this.$async(async()=>{const{fileContent:e,type:t}=this.$state.params;this.formValues.FileContent=e,t&&(this.formValues.Type=+t);try{this.templates=await this.CustomTemplateService.customTemplates(3)}catch(e){this.Notifications.error(\"Failure loading\",e,\"Failed loading custom templates\")}this.state.loading=!1,window.addEventListener(\"beforeunload\",this.onBeforeOnload)})}$onDestroy(){window.removeEventListener(\"beforeunload\",this.onBeforeOnload)}isEditorDirty(){return\"editor\"===this.state.method&&this.formValues.FileContent&&this.state.isEditorDirty}onBeforeOnload(e){this.isEditorDirty()&&(e.preventDefault(),e.returnValue=\"\")}uiCanExit(){if(this.isEditorDirty())return this.ModalService.confirmWebEditorDiscard()}}s.$inject=[\"$async\",\"$state\",\"Authentication\",\"CustomTemplateService\",\"FormValidator\",\"ModalService\",\"Notifications\",\"ResourceControlService\"],t.default=s},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(){this.isChecked=this.isChecked.bind(this),this.change=this.change.bind(this)}change(e,t){this.ngModel=e,this.onChange&&this.onChange(e,t)}isChecked(e){return this.ngModel===e}}},function(e,t,n){\"use strict\";n.r(t);var a=n(25);t.default=class{$onInit(){const e=(this.configurations||[]).filter(e=>e.Data&&e.Type===a.KubernetesConfigurationTypes.SECRET).flatMap(e=>Object.entries(e.Data)).map(([e,t])=>({key:e,value:t}));this.state={secrets:e}}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e,t,n,a,i){this.$state=e,this.$async=t,this.HelmService=n,this.Notifications=a,this.EndpointProvider=i}doesRepoExist(){return!!this.state.repository&&this.repos.includes(this.state.repository.toLowerCase().replace(/\\/$/,\"\"))}async addRepository(){this.state.isAddingRepo=!0;try{await this.HelmService.addHelmRepository(this.EndpointProvider.currentEndpoint().Id,{url:this.state.repository}),this.Notifications.success(\"Helm repository added successfully\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Installation error\",e)}finally{this.state.isAddingRepo=!1}}$onInit(){return this.$async(async()=>{this.state={isAddingRepo:!1,repository:\"\"}})}}a.$inject=[\"$state\",\"$async\",\"HelmService\",\"Notifications\",\"EndpointProvider\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e,t,n,a){this.$async=e,this.DatatableService=t,this.HelmService=n,this.Notifications=a,this.updateCategories=this.updateCategories.bind(this)}async updateCategories(){try{const e=this.charts.map(e=>e.annotations).filter(e=>e).map(e=>e.category),t=[...new Set(e)].sort();this.state.categories=t}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve helm charts categories\")}}onTextFilterChange(){this.DatatableService.setDataTableTextFilters(this.tableKey,this.state.textFilter)}clearCategory(){this.state.selectedCategory=\"\"}$onChanges(){this.charts.length>0&&this.updateCategories()}$onInit(){return this.$async(async()=>{this.state={textFilter:\"\",selectedCategory:\"\",categories:[]};const e=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==e&&(this.state.textFilter=e)})}}a.$inject=[\"$async\",\"DatatableService\",\"HelmService\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return s}));var a=n(67),i=n(27);class s{constructor(e,t,n,a,i,s,r,o,l,c){this.$analytics=e,this.$async=t,this.$window=a,this.$state=n,this.$anchorScroll=i,this.Authentication=s,this.HelmService=r,this.KubernetesResourcePoolService=o,this.Notifications=l,this.ModalService=c,this.editorUpdate=this.editorUpdate.bind(this),this.uiCanExit=this.uiCanExit.bind(this),this.installHelmchart=this.installHelmchart.bind(this),this.getHelmValues=this.getHelmValues.bind(this),this.selectHelmChart=this.selectHelmChart.bind(this),this.getHelmRepoURLs=this.getHelmRepoURLs.bind(this),this.getLatestCharts=this.getLatestCharts.bind(this),this.getResourcePools=this.getResourcePools.bind(this),a.onbeforeunload=()=>{if(this.state.isEditorDirty)return\"\"}}editorUpdate(e){const t=e.getValue();this.state.originalvalues===t?this.state.isEditorDirty=!1:(this.state.values=t,this.state.isEditorDirty=!0)}async uiCanExit(){if(this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async installHelmchart(){this.state.actionInProgress=!0;try{const e={Name:this.state.appName,Repo:this.state.chart.repo,Chart:this.state.chart.name,Values:this.state.values,Namespace:this.state.resourcePool.Namespace.Name};await this.HelmService.install(this.endpoint.Id,e),this.Notifications.success(\"Helm Chart successfully installed\"),this.$analytics.eventTrack(\"kubernetes-helm-install\",{category:\"kubernetes\",metadata:{\"chart-name\":this.state.chart.name}}),this.state.isEditorDirty=!1,this.$state.go(\"kubernetes.applications\")}catch(e){this.Notifications.error(\"Installation error\",e)}finally{this.state.actionInProgress=!1}}async getHelmValues(){this.state.loadingValues=!0;try{const{values:e}=await this.HelmService.values(this.state.chart.repo,this.state.chart.name);this.state.values=e,this.state.originalvalues=e}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve helm chart values.\")}finally{this.state.loadingValues=!1}}async selectHelmChart(e){this.$anchorScroll(\"view-top\"),this.state.showCustomValues=!1,this.state.chart=e,await this.getHelmValues()}async getHelmRepoURLs(){this.state.reposLoading=!0;try{const{GlobalRepository:e,UserRepositories:t}=await this.HelmService.getHelmRepositories(this.endpoint.Id);this.state.globalRepository=e;const n=t.map(e=>e.URL),a=[...new Set([e,...n])].map(e=>e.toLowerCase()).filter(e=>e);return this.state.repos=a,a}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve helm repo urls.\")}finally{this.state.reposLoading=!1}}async getLatestCharts(e){this.state.chartsLoading=!0;try{const t=e.map(e=>this.HelmService.search(e)),n=await Promise.allSettled(t),a=n.filter(e=>\"fulfilled\"===e.status).map(t=>({entries:t.value.entries,repo:e[n.indexOf(t)]})).flatMap(({entries:e,repo:t})=>Object.values(e).map(e=>({...e[0],repo:t})));this.state.charts=a}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve helm repo charts.\")}finally{this.state.chartsLoading=!1}}async getResourcePools(){this.state.resourcePoolsLoading=!0;try{const e=(await this.KubernetesResourcePoolService.get()).filter(e=>!i.default.isSystemNamespace(e.Namespace.Name));this.state.resourcePools=Object(a.a)(e,({Namespace:e})=>\"default\"===e.Name?0:1),this.state.resourcePool=this.state.resourcePools[0]}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve initial helm data.\")}finally{this.state.resourcePoolsLoading=!1}}$onInit(){return this.$async(async()=>{this.state={appName:\"\",chart:null,showCustomValues:!1,actionInProgress:!1,resourcePools:[],resourcePool:\"\",values:null,originalvalues:null,repos:[],charts:[],loadingValues:!1,isEditorDirty:!1,chartsLoading:!1,resourcePoolsLoading:!1,viewReady:!1,isAdmin:this.Authentication.isAdmin(),globalRepository:void 0};const e=await this.getHelmRepoURLs();await Promise.all([this.getLatestCharts(e),this.getResourcePools()]),this.state.viewReady=!0})}$onDestroy(){this.state.isEditorDirty=!1}}s.$inject=[\"$analytics\",\"$async\",\"$state\",\"$window\",\"$anchorScroll\",\"Authentication\",\"HelmService\",\"KubernetesResourcePoolService\",\"Notifications\",\"ModalService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return s}));var a=n(167),i=n(372);class s{constructor(e,t,n,a,i,s){this.$async=n,this.$window=t,this.TerminalWindow=e,this.EndpointProvider=a,this.LocalStorage=i,this.Notifications=s,t.onbeforeunload=()=>{if(this.state.shell.connected)return\"\"}}disconnect(){this.state.shell.connected&&(this.state.shell.connected=!1,this.state.icon=\"fas fa-window-minimize\",this.state.shell.socket.close(),this.state.shell.term.dispose(),this.TerminalWindow.terminalclose(),this.$window.onresize=null)}screenClear(){this.state.shell.term.clear()}miniRestore(){\"mini\"===this.state.css?(this.state.css=\"normal\",this.state.icon=\"fas fa-window-minimize\",this.TerminalWindow.terminalopen()):(this.state.css=\"mini\",this.state.icon=\"fas fa-window-restore\",this.TerminalWindow.terminalclose())}configureSocketAndTerminal(e,t){e.onopen=()=>{const e=document.getElementById(\"terminal-container\");t.open(e),t.setOption(\"cursorBlink\",!0),t.focus(),t.fit(),t.writeln(\"#Run kubectl commands inside here\"),t.writeln(\"#e.g. kubectl get all\"),t.writeln(\"\")},t.on(\"data\",t=>{e.send(t)}),e.onmessage=e=>{t.write(e.data)},e.onerror=e=>{this.disconnect(),e.target.readyState!==WebSocket.CLOSED&&this.Notifications.error(\"Failure\",e,\"Websocket connection error\")},this.$window.onresize=()=>{this.TerminalWindow.terminalresize()},e.onclose=this.disconnect.bind(this),this.state.shell.connected=!0}connectConsole(){this.TerminalWindow.terminalopen(),this.state.css=\"normal\";const e={token:this.LocalStorage.getJWT(),endpointId:this.EndpointProvider.endpointID()},t=\"https:\"===this.$window.location.protocol?\"wss://\":\"ws://\",n=Object.entries(e).map(([e,t])=>`${e}=${t}`).join(\"&\"),s=`${t}${window.location.host}/api/websocket/kubernetes-shell?${n}`;a.Terminal.applyAddon(i),this.state.shell.socket=new WebSocket(s),this.state.shell.term=new a.Terminal,this.configureSocketAndTerminal(this.state.shell.socket,this.state.shell.term)}$onInit(){return this.$async(async()=>{this.state={css:\"normal\",icon:\"fa-window-minimize\",shell:{connected:!1,socket:null,term:null}}})}$onDestroy(){this.state.shell.connected&&(this.disconnect(),this.$window.onresize=null)}}s.$inject=[\"TerminalWindow\",\"$window\",\"$async\",\"EndpointProvider\",\"LocalStorage\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesDeploymentCreatePayload\",(function(){return s}));var a=n(58);const i=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{replicas:0,selector:{matchLabels:{app:\"\"}},strategy:{type:\"RollingUpdate\",rollingUpdate:{maxSurge:0,maxUnavailable:\"100%\"}},template:{metadata:{labels:{app:\"\"}},spec:{affinity:{},containers:[{name:\"\",image:\"\",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesDaemonSetCreatePayload\",(function(){return s}));var a=n(58);const i=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{replicas:0,selector:{matchLabels:{app:\"\"}},updateStrategy:{type:\"RollingUpdate\",rollingUpdate:{maxUnavailable:1}},template:{metadata:{labels:{app:\"\"}},spec:{containers:[{name:\"\",image:\"\",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesStatefulSetCreatePayload\",(function(){return s}));var a=n(58);const i=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{replicas:0,serviceName:\"\",selector:{matchLabels:{app:\"\"}},volumeClaimTemplates:[],updateStrategy:{type:\"RollingUpdate\",rollingUpdate:{partition:0}},template:{metadata:{labels:{app:\"\"}},spec:{containers:[{name:\"\",image:\"\",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesPersistentVolumClaimCreatePayload\",(function(){return s}));var a=n(58);const i=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{accessModes:[\"ReadWriteOnce\"],resources:{requests:{storage:\"\"}},storageClassName:\"\"}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesServiceCreatePayload\",(function(){return s}));var a=n(58);const i=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,spec:{ports:[],selector:{app:\"\"},type:\"\",clusterIP:\"\"}});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesIngressHelper\",(function(){return s}));var a=n(6),i=n(41);class s{static findSBoundServiceIngressesRules(e,t){const n=Object(i.a)(e,\"Paths\");return Object(a.a)(n,{ServiceName:t})}}},function(e,t,n){\"use strict\";n.r(t);var a=n(609);t.default=class{static apiToEvent(e){const t=new a.KubernetesEvent;return t.Id=e.metadata.uid,t.Date=e.lastTimestamp||e.eventTime,t.Type=e.type,t.Message=e.message,t.Involved=e.involvedObject,t}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesEvent\",(function(){return i}));const a=Object.freeze({Id:\"\",Date:0,Type:\"\",Message:\"\",Involved:{}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesNamespaceCreatePayload\",(function(){return s}));var a=n(58);const i=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesResourceQuotaCreatePayload\",(function(){return s}));var a=n(58),i=n(38);function s(){return{metadata:new a.KubernetesCommonMetadataPayload,spec:{hard:{[i.KubernetesPortainerResourceQuotaCPURequest]:0,[i.KubernetesPortainerResourceQuotaMemoryRequest]:0,[i.KubernetesPortainerResourceQuotaCPULimit]:0,[i.KubernetesPortainerResourceQuotaMemoryLimit]:0}}}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesStorageClassCreatePayload\",(function(){return s}));var a=n(58);const i=Object.freeze({metadata:new a.KubernetesCommonMetadataPayload,provisioner:\"\",allowVolumeExpansion:!1});class s{constructor(){Object.assign(this,JSON.parse(JSON.stringify(i)))}}},function(e,t,n){\"use strict\";n.r(t);var a=n(5),i=n(2),s=n(59),r=n(304);t.default=class{static apiToEndpoint(e){const t=new r.KubernetesEndpoint;t.Id=e.metadata.uid,t.Name=e.metadata.name,t.Namespace=e.metadata.namespace;const n=e.metadata.annotations?e.metadata.annotations[r.KubernetesEndpointAnnotationLeader]:\"\";if(n){const e=JSON.parse(n),a=Object(s.a)(e.holderIdentity,\"_\");t.HolderIdentity=a[0]}return e.subsets&&(t.Subsets=Object(i.a)(e.subsets,e=>{const t=new r.KubernetesEndpointSubset;t.Ips=Object(i.a)(e.addresses,\"ip\");const n=Object(a.a)(e.ports,{name:\"https\"});return t.Port=n?n.port:void 0,t})),t}}},function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(1),s=n.n(i),r=n(11),o=n(3),l=n(155);class c{static getPatchPayload(e,t){let n;switch(e.ApplicationType){case o.KubernetesApplicationTypes.DEPLOYMENT:n=c._getDeploymentPayload(e,t);break;case o.KubernetesApplicationTypes.DAEMONSET:n=c._getDaemonSetPayload(e,t);break;case o.KubernetesApplicationTypes.STATEFULSET:n=c._getStatefulSetPayload(e,t);break;default:throw new r.default(\"Unable to determine which association to use to convert patch\")}return n}static _getDeploymentPayload(e,t){const n=s.a.copy(t),i=e.Raw;delete n.spec.template.metadata.labels[l.KubernetesSystem_DefaultDeploymentUniqueLabelKey];const r={};Object(a.a)(l.KubernetesSystem_AnnotationsToSkip,(e,t)=>{const n=i.metadata.annotations[t];n&&(r[t]=n)}),Object(a.a)(n.metadata.annotations,(e,t)=>{l.KubernetesSystem_AnnotationsToSkip[t]||(r[t]=e)});return[{op:\"replace\",path:\"/spec/template\",value:n.spec.template},{op:\"replace\",path:\"/metadata/annotations\",value:r}]}static _getDaemonSetPayload(e,t){return t.data}static _getStatefulSetPayload(e,t){return t.data}}t.default=c},function(e,t,n){\"use strict\";n.r(t);var a=n(67),i=n(11),s=n(307),r=n(397),o=n(398),l=n(3);class c{static getRevisions(e,t){let n,s;switch(t.ApplicationType){case l.KubernetesApplicationTypes.DEPLOYMENT:[n,s]=c._getDeploymentRevisions(e,t.Raw);break;case l.KubernetesApplicationTypes.DAEMONSET:[n,s]=c._getDaemonSetRevisions(e,t.Raw);break;case l.KubernetesApplicationTypes.STATEFULSET:[n,s]=c._getStatefulSetRevisions(e,t.Raw);break;default:throw new i.default(\"Unable to determine which association to use to get revisions\")}return s=Object(a.a)(s,\"revision\"),[n,s]}static _getDeploymentRevisions(e,t){const n=s.default.filterOwnedRevisions(e,t);return[s.default.getCurrentRevision(n,t),s.default.filterVersionedRevisions(n)]}static _getDaemonSetRevisions(e,t){const n=r.default.filterOwnedRevisions(e,t);return[r.default.getCurrentRevision(n,t),n]}static _getStatefulSetRevisions(e,t){const n=o.default.filterOwnedRevisions(e,t);return[o.default.getCurrentRevision(n,t),n]}}t.default=c},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesStack\",(function(){return i}));const a=Object.freeze({Name:\"\",ResourcePool:\"\",Applications:[]});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesHorizontalPodAutoScalerCreatePayload\",(function(){return i}));const a=Object.freeze({metadata:{namespace:\"\",name:\"\"},spec:{maxReplicas:0,minReplicas:0,targetCPUUtilizationPercentage:0,scaleTargetRef:{kind:\"\",name:\"\"}}});class i{constructor(){Object.assign(this,JSON.parse(JSON.stringify(a)))}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesNodesLimits\",(function(){return s}));var a=n(685),i=n(7);class s{constructor(e){this.MaxCPU=0,this.MaxMemory=0,this.nodesLimits=this.convertCPU(e),this.calculateMaxCPUMemory()}convertCPU(e){return Object(i.a)(e,e=>{e.CPU&&(e.CPU/=1e3)}),e}calculateMaxCPUMemory(){const e=Object.values(this.nodesLimits);this.MaxCPU=Object(a.a)(e,\"CPU\").CPU,this.MaxMemory=Object(a.a)(e,\"Memory\").Memory}overflowForReplica(e,t,n){return Object(i.a)(this.nodesLimits,a=>{n-=Math.min(Math.floor(a.CPU/e),Math.floor(a.Memory/t))}),n>0}overflowForGlobal(e,t){let n=!1;return Object(i.a)(this.nodesLimits,a=>{(e>a.CPU||t>a.Memory)&&(n=!0)}),n}excludesPods(e,t,n){const a=this.nodesLimits;Object(i.a)(e,e=>{const i=e.Node;i&&a[i]&&(a[i].CPU+=t,a[i].Memory+=n)}),this.calculateMaxCPUMemory()}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"createPayloadFactory\",(function(){return i}));var a=n(58);function i(){return{metadata:new a.KubernetesCommonMetadataPayload,spec:{replicas:0,selector:{matchLabels:{app:\"\"}},strategy:{type:\"RollingUpdate\",rollingUpdate:{maxSurge:0,maxUnavailable:\"100%\"}},template:{metadata:{labels:{app:\"\"}},spec:{affinity:{},containers:[{name:\"\",image:\"\",env:[],resources:{limits:{},requests:{}},volumeMounts:[]}],volumes:[]}}}}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(11);class i{constructor(e,t,n,a,i){this.$async=e,this.$state=t,this.Authentication=n,this.Notifications=a,this.HelmService=i}async getHelmApplication(){try{this.state.dataLoading=!0;const e=await this.HelmService.listReleases(this.endpoint.Id,{selector:\"name=\"+this.state.params.name,namespace:this.state.params.namespace});if(!(e.length>0))throw new a.default(`Release ${this.state.params.name} not found`);this.state.release=e[0]}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve helm application details\")}finally{this.state.dataLoading=!1}}$onInit(){return this.$async(async()=>{this.state={dataLoading:!0,viewReady:!1,params:{name:this.$state.params.name,namespace:this.$state.params.namespace},release:{name:void 0,chart:void 0,app_version:void 0}},await this.getHelmApplication(),this.state.viewReady=!0})}}i.$inject=[\"$async\",\"$state\",\"Authentication\",\"Notifications\",\"HelmService\"]},function(e,t,n){\"use strict\";n.r(t);var a=n(5),i=n(306),s=n(16),r=n(7),o=n(6),l=n(166),c=n(41),d=n(56),u=n.n(d),p=n(38),m=n(20),g=n(73),h=n(62),f=n(71),v=n(24),b=n(87),y=n(19);class w{constructor(e,t,n,a,i,s,r,o){Object.assign(this,{$async:e,$state:t,Notifications:n,KubernetesNodeService:a,KubernetesResourcePoolService:i,KubernetesIngressService:s,Authentication:r,EndpointService:o}),this.IngressClassTypes=b.KubernetesIngressClassTypes,this.LBQuotaFeatureId=y.K8S_RESOURCE_POOL_LB_QUOTA,this.StorageQuotaFeatureId=y.K8S_RESOURCE_POOL_STORAGE_QUOTA}onChangeIngressHostname(){const e=this.state.duplicates.ingressHosts,t=Object(c.a)(this.formValues.IngressClasses,\"Hosts\"),n=Object(l.a)(t.map(e=>e.Host)),a=Object(o.a)(n,e=>!e.NeedsDeletion),d=Object(c.a)(this.allIngresses,\"Hosts\"),u=f.default.getDuplicates(a);Object(r.a)(n,(e,t)=>{void 0!==e&&Object(s.a)(d,e)&&(u[t]=e)});const p={};let m=0;Object(r.a)(this.formValues.IngressClasses,e=>{p[e.IngressClass.Name]={},Object(r.a)(e.Hosts,(t,n)=>{t.Host===u[m]&&(p[e.IngressClass.Name][n]=t.Host),m++})}),e.refs=p,e.hasRefs=!1,Object(i.a)(p,t=>{Object.keys(t).length>0&&(e.hasRefs=!0)})}addHostname(e){e.Hosts.push(new g.KubernetesResourcePoolIngressClassHostFormValue)}removeHostname(e,t){e.Hosts.splice(t,1),this.onChangeIngressHostname()}addAnnotation(e){e.Annotations.push(new g.KubernetesResourcePoolIngressClassAnnotationFormValue)}removeAnnotation(e,t){e.Annotations.splice(t,1)}isCreateButtonDisabled(){return this.state.actionInProgress||this.formValues.HasQuota&&!this.isQuotaValid()||this.state.isAlreadyExist||this.state.duplicates.ingressHosts.hasRefs}onChangeName(){this.state.isAlreadyExist=void 0!==Object(a.a)(this.resourcePools,e=>e.Namespace.Name===this.formValues.Name)}isQuotaValid(){return!(this.state.sliderMaxCpu<this.formValues.CpuLimit||this.state.sliderMaxMemory<this.formValues.MemoryLimit||0===this.formValues.CpuLimit&&0===this.formValues.MemoryLimit)}checkDefaults(){this.formValues.CpuLimit<this.defaults.CpuLimit&&(this.formValues.CpuLimit=this.defaults.CpuLimit),this.formValues.MemoryLimit<m.default.megaBytesValue(this.defaults.MemoryLimit)&&(this.formValues.MemoryLimit=m.default.megaBytesValue(this.defaults.MemoryLimit))}createResourcePool(){return this.$async(async()=>{this.state.actionInProgress=!0;try{this.checkDefaults(),this.formValues.Owner=this.Authentication.getUserDetails().username,await this.KubernetesResourcePoolService.create(this.formValues),this.Notifications.success(\"Namespace successfully created\",this.formValues.Name),this.$state.go(\"kubernetes.resourcePools\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create namespace\")}finally{this.state.actionInProgress=!1}})}getIngresses(){return this.$async(async()=>{try{this.allIngresses=await this.KubernetesIngressService.get()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve ingresses.\")}})}getResourcePools(){return this.$async(async()=>{try{this.resourcePools=await this.KubernetesResourcePoolService.get()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve namespaces\")}})}getRegistries(){return this.$async(async()=>{try{this.registries=await this.EndpointService.registries(this.endpoint.Id)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registries\")}})}$onInit(){return this.$async(async()=>{try{const e=this.endpoint;this.defaults=p.KubernetesResourceQuotaDefaults,this.formValues=new g.KubernetesResourcePoolFormValues(this.defaults),this.formValues.EndpointId=this.endpoint.Id,this.formValues.HasQuota=!0,this.state={actionInProgress:!1,sliderMaxMemory:0,sliderMaxCpu:0,viewReady:!1,isAlreadyExist:!1,canUseIngress:e.Kubernetes.Configuration.IngressClasses.length,duplicates:{ingressHosts:new v.KubernetesFormValidationReferences},isAdmin:this.Authentication.isAdmin()};const t=await this.KubernetesNodeService.get();if(Object(r.a)(t,e=>{this.state.sliderMaxMemory+=u()(e.Memory),this.state.sliderMaxCpu+=e.CPU}),this.state.sliderMaxMemory=m.default.megaBytesValue(this.state.sliderMaxMemory),await this.getResourcePools(),this.state.canUseIngress){await this.getIngresses();const t=e.Kubernetes.Configuration.IngressClasses;this.formValues.IngressClasses=h.KubernetesIngressConverter.ingressClassesToFormValues(t)}Object(r.a)(this.formValues.IngressClasses,e=>{0===e.Hosts.length&&e.Hosts.push(new g.KubernetesResourcePoolIngressClassHostFormValue)}),await this.getRegistries()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load view data\")}finally{this.state.viewReady=!0}})}}w.$inject=[\"$async\",\"$state\",\"Notifications\",\"KubernetesNodeService\",\"KubernetesResourcePoolService\",\"KubernetesIngressService\",\"Authentication\",\"EndpointService\"],t.default=w},function(e,t,n){\"use strict\";n.r(t);var a=n(5),i=n(39),s=n(24),r=n(161),o=n(112),l=n(162),c=n(42),d=n(3),u=n(140),p=n(105),m=n(82),g=n(169),h=n(62),f=n(126);const{CREATE:v,UPDATE:b,DELETE:y}=i.KubernetesResourceActions;function w(e){const t=[];let[n,a,s,r]=m.default.applicationFormValuesToApplication(e);if(s&&(t.push({action:v,kind:i.KubernetesResourceTypes.SERVICE,name:s.Name,type:s.Type||c.KubernetesServiceTypes.CLUSTER_IP}),e.PublishingType===d.KubernetesApplicationPublishingTypes.INGRESS)){const n=h.KubernetesIngressConverter.applicationFormValuesToIngresses(e,s.Name);t.push(...$(e.OriginalIngresses,n))}if(n instanceof o.KubernetesStatefulSet)t.push({action:v,kind:i.KubernetesResourceTypes.SERVICE,name:a.Name,type:a.Type||c.KubernetesServiceTypes.CLUSTER_IP});else{const e=r.filter(e=>!e.PreviousName&&!e.Id).map(e=>({action:v,kind:i.KubernetesResourceTypes.PERSISTENT_VOLUME_CLAIM,name:e.Name}));t.push(...e)}if(e.AutoScaler.IsUsed&&e.DeploymentType!==d.KubernetesApplicationDeploymentTypes.GLOBAL){const a=u.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(n),s=p.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,a);t.push({action:v,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:s.Name})}const l=x(n);return null!==l&&t.push({action:v,kind:l,name:n.Name}),t}function x(e){return e instanceof r.KubernetesDeployment||e instanceof d.KubernetesApplication&&e.ApplicationType===d.KubernetesApplicationTypes.DEPLOYMENT?i.KubernetesResourceTypes.DEPLOYMENT:e instanceof l.KubernetesDaemonSet||e instanceof d.KubernetesApplication&&e.ApplicationType===d.KubernetesApplicationTypes.DAEMONSET?i.KubernetesResourceTypes.DAEMONSET:e instanceof o.KubernetesStatefulSet||e instanceof d.KubernetesApplication&&e.ApplicationType===d.KubernetesApplicationTypes.STATEFULSET?i.KubernetesResourceTypes.STATEFULSET:null}function $(e,t){return t.map(t=>function(e,t){if(h.KubernetesIngressConverter.patchPayload(e,t).length)return{action:b,kind:i.KubernetesResourceTypes.INGRESS,name:e.Name};return null}(Object(a.a)(e,{Name:t.Name}),t)).filter(e=>e)}function C(e,t){return g.default.patchPayload(e,t).length?{action:b,kind:i.KubernetesResourceTypes.SERVICE,name:e.Name,type:e.Type||c.KubernetesServiceTypes.CLUSTER_IP}:null}t.default=function(e,t={}){if(t instanceof s.KubernetesApplicationFormValues){return function(e,t){const n=[],[s,r,l,g]=m.default.applicationFormValuesToApplication(e),[S,k,A,P]=m.default.applicationFormValuesToApplication(t),I=x(s),T=x(S);if(I!==T){n.push({action:y,kind:I,name:s.Name}),l&&n.push({action:y,kind:i.KubernetesResourceTypes.SERVICE,name:l.Name,type:l.Type||c.KubernetesServiceTypes.CLUSTER_IP});const e=w(t);return n.push(...e),n}if(S instanceof o.KubernetesStatefulSet){const e=C(r,k);e&&n.push(e)}else{const e=P.map(e=>{if(!e.PreviousName&&!e.Id)return{action:v,kind:i.KubernetesResourceTypes.PERSISTENT_VOLUME_CLAIM,name:e.Name};if(!e.Id){return function(e,t){if(f.default.patchPayload(e,t).length)return{action:b,kind:i.KubernetesResourceTypes.PERSISTENT_VOLUME_CLAIM,name:e.Name};return null}(Object(a.a)(g,{Name:e.PreviousName}),e)}}).filter(e=>e);n.push(...e)}if(n.push({action:b,kind:I,name:s.Name}),l&&A){const a=C(l,A);if(a&&n.push(a),t.PublishingType===d.KubernetesApplicationPublishingTypes.INGRESS||e.PublishingType===d.KubernetesApplicationPublishingTypes.INGRESS){const a=h.KubernetesIngressConverter.applicationFormValuesToIngresses(e,l.Name),i=h.KubernetesIngressConverter.applicationFormValuesToIngresses(t,A.Name);n.push(...$(a,i))}}else if(!l&&A){if(n.push({action:v,kind:i.KubernetesResourceTypes.SERVICE,name:A.Name,type:A.Type||c.KubernetesServiceTypes.CLUSTER_IP}),t.PublishingType===d.KubernetesApplicationPublishingTypes.INGRESS){const e=h.KubernetesIngressConverter.applicationFormValuesToIngresses(t,A.Name);n.push(...$(t.OriginalIngresses,e))}}else if(l&&!A&&(n.push({action:y,kind:i.KubernetesResourceTypes.SERVICE,name:l.Name,type:l.Type||c.KubernetesServiceTypes.CLUSTER_IP}),e.PublishingType===d.KubernetesApplicationPublishingTypes.INGRESS)){const a=h.KubernetesIngressConverter.applicationFormValuesToIngresses(t,l.Name);n.push(...$(e.OriginalIngresses,a))}const N=u.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(S),E=p.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(t,N);if(e.AutoScaler.IsUsed){const a=u.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(s),r=p.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,a);if(t.AutoScaler.IsUsed){const e=function(e,t){if(p.KubernetesHorizontalPodAutoScalerConverter.patchPayload(e,t).length)return{action:b,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:e.Name};return null}(r,E);e&&n.push(e)}else n.push({action:y,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:r.Name})}else t.AutoScaler.IsUsed&&n.push({action:v,kind:i.KubernetesResourceTypes.HORIZONTAL_POD_AUTOSCALER,name:E.Name});return n}(t,e)}return w(e)}},function(e,t,n){\"use strict\";n.r(t);var a=n(39),i=n(25);const{CREATE:s,UPDATE:r}=a.KubernetesResourceActions;t.default=function(e){const t=e.Id?r:s;return e.Type===i.KubernetesConfigurationTypes.CONFIGMAP?[{action:t,kind:a.KubernetesResourceTypes.CONFIGMAP,name:e.Name}]:e.Type===i.KubernetesConfigurationTypes.SECRET?[{action:t,kind:a.KubernetesResourceTypes.SECRET,name:e.Name}]:void 0}},function(e,t,n){\"use strict\";n.r(t);var a=n(153),i=n(73),s=n(38),r=n(39),o=n(308);t.default=function(e,t){const[n,l,c]=a.default.formValuesToResourcePool(e);t instanceof i.KubernetesResourcePoolFormValues||(t=new i.KubernetesResourcePoolFormValues(s.KubernetesResourceQuotaDefaults));const[d,u,p]=a.default.formValuesToResourcePool(t);return[...Object(o.getResourcesSummary)(n,d,r.KubernetesResourceTypes.NAMESPACE),...Object(o.getResourcesSummary)(l,u,r.KubernetesResourceTypes.RESOURCEQUOTA),...Object(o.getResourcesSummary)(c,p,r.KubernetesResourceTypes.INGRESS)]}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"AccessControlPanelData\",(function(){return i}));var a=n(29);function i(){this.Ownership=a.ResourceControlOwnership.ADMINISTRATORS,this.Ownership_Users=[],this.Ownership_Teams=[]}},function(e,t,n){\"use strict\";n.r(t);var a=n(16),i=n(6),s=n(1),r=n.n(s);class o{constructor(e,t){this.$async=e,this.EndpointService=t,this.state={available:{limit:\"10\",filter:\"\",pageNumber:1,totalCount:0},associated:{limit:\"10\",filter:\"\",pageNumber:1,totalCount:0}},this.endpoints={associated:[],available:null},this.getEndpoints=this.getEndpoints.bind(this),this.getEndpointsAsync=this.getEndpointsAsync.bind(this),this.getAssociatedEndpoints=this.getAssociatedEndpoints.bind(this),this.getAssociatedEndpointsAsync=this.getAssociatedEndpointsAsync.bind(this),this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this)}$onInit(){this.loadData()}$onChanges({endpointIds:e}){e&&e.currentValue&&this.loadData()}loadData(){this.getAssociatedEndpoints(),this.getEndpoints()}getEndpoints(){return this.$async(this.getEndpointsAsync)}async getEndpointsAsync(){const{start:e,search:t,limit:n}=this.getPaginationData(\"available\"),s={search:t,types:[4,7]},r=await this.EndpointService.endpoints(e,n,s),o=Object(i.a)(r.value,e=>!Object(a.a)(this.endpointIds,e.Id));this.setTableData(\"available\",o,r.totalCount),this.noEndpoints=0===this.state.available.totalCount}getAssociatedEndpoints(){return this.$async(this.getAssociatedEndpointsAsync)}async getAssociatedEndpointsAsync(){let e={value:[],totalCount:0};if(this.endpointIds.length>0){const{start:t,search:n,limit:a}=this.getPaginationData(\"associated\"),i={search:n,types:[4,7],endpointIds:this.endpointIds};e=await this.EndpointService.endpoints(t,a,i)}this.setTableData(\"associated\",e.value,e.totalCount)}associateEndpoint(e){this.onAssociate(e)}dissociateEndpoint(e){this.onDissociate(e)}getPaginationData(e){const{pageNumber:t,limit:n,search:a}=this.state[e];return{start:(t-1)*n+1,search:a,limit:n}}setTableData(e,t,n){this.endpoints[e]=t,this.state[e].totalCount=parseInt(n,10)}}o.$inject=[\"$async\",\"EndpointService\"],r.a.module(\"portainer.app\").controller(\"AssoicatedEndpointsSelectorController\",o),t.default=o},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e){Object.assign(this,{featureService:e}),this.limitedToBE=!1}$onInit(){this.feature&&(this.url=\"https://www.portainer.io/business-upsell?from=\"+this.feature,this.limitedToBE=this.featureService.isLimitedToBE(this.feature))}}a.$inject=[\"featureService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e){Object.assign(this,{featureService:e}),this.limitedToBE=!1}handleChange(e){this.formCtrl.$setValidity(this.radioName,!this.limitedToBE,this.formCtrl),this.onChange(e)}$onInit(){this.option.feature&&(this.limitedToBE=this.featureService.isLimitedToBE(this.option.feature))}$onDestroy(){this.formCtrl.$setValidity(this.radioName,!0,this.formCtrl)}}a.$inject=[\"featureService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e){this.clipboard=e,this.state={isFading:!1}}copyValueText(){this.clipboard.copyText(this.value),this.state.isFading=!0,setTimeout(()=>this.state.isFading=!1,1e3)}}a.$inject=[\"clipboard\"]},function(e,t,n){\"use strict\";n.r(t);class a{constructor(){this.platformTypes=[{label:\"Linux\",value:1},{label:\"Windows\",value:2}],this.templateTypes=[{label:\"Swarm\",value:1},{label:\"Standalone\",value:2}]}}a.$inject=[],t.default=a},function(e,t,n){\"use strict\";n.r(t);class a{constructor(e,t,n){Object.assign(this,{$async:e,CustomTemplateService:t,Notifications:n}),this.selectedTemplate=null,this.templates=null}async handleChangeTemplate(e){this.selectedTemplate=this.templates.find(t=>t.Id===e),this.onChange(e,this.selectedTemplate)}$onChanges({value:e}){e&&e.currentValue&&this.templates&&this.handleChangeTemplate(e.currentValue)}$onInit(){return this.$async(async()=>{try{const e=await this.CustomTemplateService.customTemplates(this.stackType);this.templates=e.map(e=>({...e,label:`${e.Title} - ${e.Description}`})),this.value&&this.handleChangeTemplate(this.value)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve Custom Templates\")}})}}a.$inject=[\"$async\",\"CustomTemplateService\",\"Notifications\"],t.default=a},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset();const e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);const t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());const a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.onSettingsRepeaterChange()}}}a.$inject=[\"$scope\",\"$controller\",\"DatatableService\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(){this.state={isOpen:!1}}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{isEnabled(){return 0<this.state.length&&this.state.length<this.labels.length}onChangeItem(e){return this.isChecked(e)?this.onChange(this.filterKey,this.state.filter(t=>t!==e)):this.onChange(this.filterKey,[...this.state,e])}isChecked(e){return this.state.includes(e)}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"datatableFilter\",(function(){return s}));var a=n(634);const i=n(1770),s={bindings:{labels:\"<\",state:\"<\",filterKey:\"@\",onChange:\"<\"},controller:a.default,templateUrl:i,transclude:!0}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"datatableTitlebar\",(function(){return a}));const a={bindings:{icon:\"@\",title:\"@\",feature:\"@\"},templateUrl:n(1777)}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"datatableSearchbar\",(function(){return a}));const a={bindings:{onChange:\"<\",ngModel:\"<\"},templateUrl:n(1778)}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"datatableSortIcon\",(function(){return s}));var a=n(639);const i=n(1779),s={bindings:{key:\"@\",selectedSortKey:\"@\",reverseOrder:\"<\"},controller:a.default,templateUrl:i}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{isCurrentSortOrder(){return this.selectedSortKey===this.key}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"datatablePagination\",(function(){return a}));const a={bindings:{onChangeLimit:\"<\",limit:\"<\",enableNoLimit:\"<\",onChangePage:\"<\"},templateUrl:n(1780)}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e,t){const n=this.allowSelection;angular.extend(this,e(\"GenericDatatableController\",{$scope:t})),this.allowSelection=n.bind(this)}allowSelection(e){return 1!==e.Id}}a.$inject=[\"$controller\",\"$scope\"]},function(e,t,n){\"use strict\";n.r(t);var a=n(117),i=n(1),s=n.n(i),r=n(295);class o{constructor(){this.editEndpoint=this.editEndpoint.bind(this)}editEndpoint(e){e.stopPropagation(),this.onEdit(this.model.Id)}joinTags(){if(!this.tags)return\"Loading tags...\";if(!this.model.TagIds||!this.model.TagIds.length)return\"\";const e=r.default.idsToTagNames(this.tags,this.model.TagIds);return Object(a.a)(e,\",\")}isEdgeEndpoint(){return 4===this.model.Type||7===this.model.Type}calcIsCheckInValid(){if(!this.isEdgeEndpoint())return!1;const e=this.model.EdgeCheckinInterval;return this.endpointInitTime-this.model.LastCheckInDate<=2*e+20}$onInit(){this.endpointTags=this.joinTags(),this.isCheckInValid=this.calcIsCheckInValid()}$onChanges({tags:e,model:t}){(e||t)&&(e.currentValue||t.currentValue)&&(this.endpointTags=this.joinTags(),t&&(this.isCheckInValid=this.calcIsCheckInValid()))}}o.$inject=[],s.a.module(\"portainer.app\").controller(\"EndpointItemController\",o),t.default=o},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(110);class i{constructor(){this.mode=\"simple\",this.editorText=\"\",this.switchEnvMode=this.switchEnvMode.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.handleSimpleChange=this.handleSimpleChange.bind(this)}switchEnvMode(){if(\"simple\"===this.mode){const e=Object(a.convertToArrayOfStrings)(this.ngModel).join(\"\\n\");this.editorText=e,this.mode=\"advanced\"}else this.mode=\"simple\"}handleSimpleChange(e){this.onChange(e)}editorUpdate(e){this.editorText=e.getValue(),this.onChange(Object(a.parseDotEnvFile)(this.editorText))}}i.$inject=[]},function(e,t,n){\"use strict\";n.r(t);t.default=class{onChangeName(e){void 0===e||this.onChange(this.index,{...this.variable,name:e})}onChangeValue(e){void 0===e||this.onChange(this.index,{...this.variable,value:e})}hasValue(){return void 0!==this.variable.value}removeValue(){this.onChange(this.index,{name:this.variable.name})}$onInit(){this.formName=\"variableForm\"+this.index}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(110);class i{constructor(e){this.$async=e,this.onChangeVariable=this.onChangeVariable.bind(this),this.remove=this.remove.bind(this)}add(){this.onChange([...this.ngModel,{name:\"\",value:\"\"}])}remove(e){this.onChange(this.ngModel.filter((t,n)=>n!==e))}addFromFile(e){return this.$async(async()=>{if(!e)return;const t=await this.getTextFromFile(e),n=Object(a.parseDotEnvFile)(t);this.onChange(this.ngModel.concat(n))})}getTextFromFile(e){return new Promise((t,n)=>{const a=new FileReader;a.readAsText(e),a.onload=e=>t(e.target.result),a.onerror=e=>n(e)})}onChangeVariable(e,t){this.onChange(this.ngModel.map((n,a)=>a!==e?n:t))}}i.$inject=[\"$async\"]},function(e,t,n){\"use strict\";n.r(t);var a=n(33),i=n(16),s=n(1),r=n.n(s);class o{constructor(e,t,n,a,i){this.$q=e,this.EndpointService=t,this.GroupService=n,this.Notifications=a,this.Authentication=i,this.associateEndpoint=this.associateEndpoint.bind(this),this.dissociateEndpoint=this.dissociateEndpoint.bind(this),this.getPaginatedEndpointsByGroup=this.getPaginatedEndpointsByGroup.bind(this)}$onInit(){this.state={available:{limit:\"10\",filter:\"\",pageNumber:1,totalCount:0},associated:{limit:\"10\",filter:\"\",pageNumber:1,totalCount:0},allowCreateTag:this.Authentication.isAdmin()}}associateEndpoint(e){\"create\"!==this.pageType||Object(i.a)(this.associatedEndpoints,e)?\"edit\"===this.pageType&&this.GroupService.addEndpoint(this.model.Id,e).then(()=>{this.Notifications.success(\"Success\",\"Environment successfully added to group\"),this.reloadTablesContent()}).catch(e=>this.Notifications.error(\"Error\",e,\"Unable to add environment to group\")):this.associatedEndpoints.push(e)}dissociateEndpoint(e){\"create\"===this.pageType?Object(a.a)(this.associatedEndpoints,t=>t.Id===e.Id):\"edit\"===this.pageType&&this.GroupService.removeEndpoint(this.model.Id,e.Id).then(()=>{this.Notifications.success(\"Success\",\"Environment successfully removed from group\"),this.reloadTablesContent()}).catch(e=>this.Notifications.error(\"Error\",e,\"Unable to remove environment from group\"))}reloadTablesContent(){this.getPaginatedEndpointsByGroup(this.pageType,\"available\"),this.getPaginatedEndpointsByGroup(this.pageType,\"associated\"),this.GroupService.group(this.model.Id).then(e=>{this.model=e})}getPaginatedEndpointsByGroup(e,t){if(\"available\"===t){const e=this.state.available,t=(e.pageNumber-1)*e.limit+1;this.EndpointService.endpointsByGroup(t,e.limit,e.filter,1).then(e=>{this.availableEndpoints=e.value,this.state.available.totalCount=e.totalCount})}else if(\"associated\"===t&&\"edit\"===e){const e=this.model.Id?this.model.Id:1,t=this.state.associated,n=(t.pageNumber-1)*t.limit+1;this.EndpointService.endpointsByGroup(n,t.limit,t.filter,e).then(e=>{this.associatedEndpoints=e.value,this.state.associated.totalCount=e.totalCount})}}}o.$inject=[\"$q\",\"EndpointService\",\"GroupService\",\"Notifications\",\"Authentication\"],r.a.module(\"portainer.app\").controller(\"GroupFormController\",o),t.default=o},function(e,t,n){\"use strict\";n.r(t);class a{constructor(e,t,n,a,i){this.$async=e,this.$state=t,this.StackService=n,this.ModalService=a,this.Notifications=i,this.state={saveGitSettingsInProgress:!1,redeployInProgress:!1,showConfig:!0,isEdit:!1},this.formValues={RefName:\"\",RepositoryAuthentication:!1,RepositoryUsername:\"\",RepositoryPassword:\"\"},this.onChange=this.onChange.bind(this),this.onChangeRef=this.onChangeRef.bind(this)}onChangeRef(e){this.onChange({RefName:e})}onChange(e){this.formValues={...this.formValues,...e}}async pullAndRedeployApplication(){return this.$async(async()=>{try{if(!await this.ModalService.confirmAsync({title:\"Are you sure?\",message:\"Any changes to this application will be overriden by the definition in git and may cause a service interruption. Do you wish to continue?\",buttons:{confirm:{label:\"Update\",className:\"btn-warning\"}}}))return;this.state.redeployInProgress=!0,await this.StackService.updateKubeGit(this.stack.Id,this.stack.EndpointId,this.namespace,this.formValues),this.Notifications.success(\"Pulled and redeployed stack successfully\"),await this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Failed redeploying application\")}finally{this.state.redeployInProgress=!1}})}async saveGitSettings(){return this.$async(async()=>{try{this.state.saveGitSettingsInProgress=!0,await this.StackService.updateKubeStack({EndpointId:this.stack.EndpointId,Id:this.stack.Id},null,this.formValues),this.Notifications.success(\"Save stack settings successfully\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to save application settings\")}finally{this.state.saveGitSettingsInProgress=!1}})}isSubmitButtonDisabled(){return this.state.saveGitSettingsInProgress||this.state.redeployInProgress}$onInit(){this.formValues.RefName=this.stack.GitConfig.ReferenceName,this.stack.GitConfig&&this.stack.GitConfig.Authentication&&(this.formValues.RepositoryUsername=this.stack.GitConfig.Authentication.Username,this.formValues.RepositoryAuthentication=!0,this.state.isEdit=!0)}}a.$inject=[\"$async\",\"$state\",\"StackService\",\"ModalService\",\"Notifications\"],t.default=a},function(e,t,n){\"use strict\";n.r(t);var a=n(95),i=n.n(a),s=n(21);class r{constructor(e,t,n,a,i,r){this.$async=e,this.$state=t,this.StackService=n,this.ModalService=a,this.Notifications=i,this.WebhookHelper=r,this.state={saveGitSettingsInProgress:!1,redeployInProgress:!1,showConfig:!1,isEdit:!1,hasUnsavedChanges:!1},this.formValues={RefName:\"\",RepositoryAuthentication:!1,RepositoryUsername:\"\",RepositoryPassword:\"\",AutoUpdate:{RepositoryAutomaticUpdates:!1,RepositoryMechanism:s.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:\"5m\",RepositoryWebhookURL:\"\"}},this.onChange=this.onChange.bind(this),this.onChangeRef=this.onChangeRef.bind(this),this.onChangeAutoUpdate=this.onChangeAutoUpdate.bind(this)}onChangeRef(e){this.onChange({RefName:e})}onChange(e){this.formValues={...this.formValues,...e},this.state.hasUnsavedChanges=angular.toJson(this.savedFormValues)!==angular.toJson(this.formValues)}onChangeAutoUpdate(e){this.onChange({AutoUpdate:{...this.formValues.AutoUpdate,...e}})}buildAnalyticsProperties(){return{metadata:{\"automatic-updates\":function(e,t){switch(e&&t){case s.RepositoryMechanismTypes.INTERVAL:return\"polling\";case s.RepositoryMechanismTypes.WEBHOOK:return\"webhook\";default:return\"off\"}}(this.formValues.AutoUpdate.RepositoryAutomaticUpdates,this.formValues.AutoUpdate.RepositoryMechanism)}}}async pullAndRedeployApplication(){return this.$async(async()=>{try{if(!await this.ModalService.confirmAsync({title:\"Are you sure?\",message:\"Any changes to this application will be overriden by the definition in git and may cause a service interruption. Do you wish to continue?\",buttons:{confirm:{label:\"Update\",className:\"btn-warning\"}}}))return;this.state.redeployInProgress=!0,await this.StackService.updateKubeGit(this.stack.Id,this.stack.EndpointId,this.namespace,this.formValues),this.Notifications.success(\"Pulled and redeployed stack successfully\"),await this.$state.reload()}catch(e){this.Notifications.error(\"Failure\",e,\"Failed redeploying application\")}finally{this.state.redeployInProgress=!1}})}async saveGitSettings(){return this.$async(async()=>{try{this.state.saveGitSettingsInProgress=!0,await this.StackService.updateKubeStack({EndpointId:this.stack.EndpointId,Id:this.stack.Id},null,this.formValues),this.savedFormValues=angular.copy(this.formValues),this.state.hasUnsavedChanges=!1,this.Notifications.success(\"Save stack settings successfully\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to save application settings\")}finally{this.state.saveGitSettingsInProgress=!1}})}isSubmitButtonDisabled(){return this.state.saveGitSettingsInProgress||this.state.redeployInProgress}$onInit(){this.formValues.RefName=this.stack.GitConfig.ReferenceName,this.stack.AutoUpdate&&(this.stack.AutoUpdate.Interval||this.stack.AutoUpdate.Webhook)&&(this.formValues.AutoUpdate.RepositoryAutomaticUpdates=!0,this.stack.AutoUpdate.Interval?(this.formValues.AutoUpdate.RepositoryMechanism=s.RepositoryMechanismTypes.INTERVAL,this.formValues.AutoUpdate.RepositoryFetchInterval=this.stack.AutoUpdate.Interval):this.stack.AutoUpdate.Webhook&&(this.formValues.AutoUpdate.RepositoryMechanism=s.RepositoryMechanismTypes.WEBHOOK,this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(this.stack.AutoUpdate.Webhook))),this.formValues.AutoUpdate.RepositoryWebhookURL||(this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(i()())),this.stack.GitConfig&&this.stack.GitConfig.Authentication&&(this.formValues.RepositoryUsername=this.stack.GitConfig.Authentication.Username,this.formValues.RepositoryAuthentication=!0,this.state.isEdit=!0),this.savedFormValues=angular.copy(this.formValues)}}r.$inject=[\"$async\",\"$state\",\"StackService\",\"ModalService\",\"Notifications\",\"WebhookHelper\"],t.default=r},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e){Object.assign(this,{featureService:e}),this.limitedToBE=!1}$onInit(){this.feature&&(this.limitedToBE=this.featureService.isLimitedToBE(this.feature))}}a.$inject=[\"featureService\"]},function(e,t,n){\"use strict\";n.r(t);var a=n(95),i=n.n(a),s=n(21);class r{constructor(e,t,n,a,i,r,o){this.$async=e,this.$state=t,this.StackService=n,this.ModalService=a,this.Notifications=i,this.WebhookHelper=r,this.FormHelper=o,this.state={inProgress:!1,redeployInProgress:!1,showConfig:!1,isEdit:!1,hasUnsavedChanges:!1},this.formValues={RefName:\"\",RepositoryAuthentication:!1,RepositoryUsername:\"\",RepositoryPassword:\"\",Env:[],AutoUpdate:{RepositoryAutomaticUpdates:!1,RepositoryMechanism:s.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:\"5m\",RepositoryWebhookURL:\"\"}},this.onChange=this.onChange.bind(this),this.onChangeRef=this.onChangeRef.bind(this),this.onChangeAutoUpdate=this.onChangeAutoUpdate.bind(this),this.onChangeEnvVar=this.onChangeEnvVar.bind(this)}buildAnalyticsProperties(){const e={};return this.formValues.RepositoryAutomaticUpdates&&(e.automaticUpdates=function(e){switch(e){case s.RepositoryMechanismTypes.INTERVAL:return\"polling\";case s.RepositoryMechanismTypes.WEBHOOK:return\"webhook\"}return\"off\"}(this.formValues.RepositoryMechanism)),{metadata:e}}onChange(e){this.formValues={...this.formValues,...e},this.state.hasUnsavedChanges=angular.toJson(this.savedFormValues)!==angular.toJson(this.formValues)}onChangeRef(e){this.onChange({RefName:e})}onChangeAutoUpdate(e){this.onChange({AutoUpdate:{...this.formValues.AutoUpdate,...e}})}onChangeEnvVar(e){this.onChange({Env:e})}async submit(){return this.$async(async()=>{try{if(!await this.ModalService.confirmAsync({title:\"Are you sure?\",message:\"Any changes to this stack or application made locally in Portainer will be overridden, which may cause service interruption.\",buttons:{confirm:{label:\"Update\",className:\"btn-warning\"}}}))return;this.state.redeployInProgress=!0,await this.StackService.updateGit(this.stack.Id,this.stack.EndpointId,this.FormHelper.removeInvalidEnvVars(this.formValues.Env),!1,this.formValues),this.Notifications.success(\"Pulled and redeployed stack successfully\"),await this.$state.reload()}catch(e){this.Notifications.error(\"Failure\",e,\"Failed redeploying stack\")}finally{this.state.redeployInProgress=!1}})}async saveGitSettings(){return this.$async(async()=>{try{this.state.inProgress=!0;const e=await this.StackService.updateGitStackSettings(this.stack.Id,this.stack.EndpointId,this.FormHelper.removeInvalidEnvVars(this.formValues.Env),this.formValues);this.savedFormValues=angular.copy(this.formValues),this.state.hasUnsavedChanges=!1,this.Notifications.success(\"Save stack settings successfully\"),this.stack=e}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to save stack settings\")}finally{this.state.inProgress=!1}})}isSubmitButtonDisabled(){return this.state.inProgress||this.state.redeployInProgress}isAutoUpdateChanged(){const e=!(!this.stack.AutoUpdate||!this.stack.AutoUpdate.Interval&&!this.stack.AutoUpdate.Webhook);return this.formValues.AutoUpdate.RepositoryAutomaticUpdates!==e}$onInit(){this.formValues.RefName=this.model.ReferenceName,this.formValues.Env=this.stack.Env,this.stack.AutoUpdate&&(this.stack.AutoUpdate.Interval||this.stack.AutoUpdate.Webhook)&&(this.formValues.AutoUpdate.RepositoryAutomaticUpdates=!0,this.stack.AutoUpdate.Interval?(this.formValues.AutoUpdate.RepositoryMechanism=s.RepositoryMechanismTypes.INTERVAL,this.formValues.AutoUpdate.RepositoryFetchInterval=this.stack.AutoUpdate.Interval):this.stack.AutoUpdate.Webhook&&(this.formValues.AutoUpdate.RepositoryMechanism=s.RepositoryMechanismTypes.WEBHOOK,this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(this.stack.AutoUpdate.Webhook))),this.formValues.AutoUpdate.RepositoryWebhookURL||(this.formValues.AutoUpdate.RepositoryWebhookURL=this.WebhookHelper.returnStackWebhookUrl(i()())),this.stack.GitConfig&&this.stack.GitConfig.Authentication&&(this.formValues.RepositoryUsername=this.stack.GitConfig.Authentication.Username,this.formValues.RepositoryAuthentication=!0,this.state.isEdit=!0),this.savedFormValues=angular.copy(this.formValues)}}r.$inject=[\"$async\",\"$state\",\"StackService\",\"ModalService\",\"Notifications\",\"WebhookHelper\",\"FormHelper\"],t.default=r},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(47);class i{constructor(e,t,n,a,i,s){this.$async=e,this.Authentication=t,this.ThemeManager=n,this.StateManager=a,this.UserService=i,this.Notifications=s,this.setTheme=this.setTheme.bind(this)}async updateTheme(){try{await this.UserService.updateUserTheme(this.state.userId,this.state.userTheme),this.state.themeInProgress=!1,this.Notifications.success(\"Success\",\"User theme successfully updated\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update user theme\")}}setTheme(e){\"auto\"!==e&&e?this.ThemeManager.setTheme(e):this.ThemeManager.autoTheme(),this.state.themeInProgress=!0}$onInit(){return this.$async(async()=>{this.state={userId:null,userTheme:\"\",initTheme:\"\",defaultTheme:\"auto\",themeInProgress:!1},this.state.availableThemes=[Object(a.buildOption)(\"light\",\"fas fa-sun\",\"Light Theme\",\"Default color mode\",\"light\"),Object(a.buildOption)(\"dark\",\"fas fa-moon\",\"Dark Theme\",\"Dark color mode\",\"dark\"),Object(a.buildOption)(\"highcontrast\",\"fas fa-adjust\",\"High Contrast\",\"High contrast color mode\",\"highcontrast\"),Object(a.buildOption)(\"auto\",\"fas fa-sync-alt\",\"Auto\",\"Sync with system theme\",\"auto\")];try{this.state.userId=await this.Authentication.getUserDetails().ID;const e=await this.UserService.user(this.state.userId);this.state.userTheme=e.UserTheme||this.state.defaultTheme,this.state.initTheme=this.state.userTheme}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to get user details\")}})}$onDestroy(){this.state.themeInProgress&&this.ThemeManager.setTheme(this.state.initTheme)}}i.$inject=[\"$async\",\"Authentication\",\"ThemeManager\",\"StateManager\",\"UserService\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t);var a=n(7);class i{static findDeepAll(e,t,n=[]){return\"object\"==typeof e&&Object(a.a)(e,(e,a)=>{a===t&&n.push(e),\"object\"==typeof e&&i.findDeepAll(e,t,n)}),n}}t.default=i},function(e,t,n){\"use strict\";function a(e){this.Id=e.id,this.Description=e.description,this.Name=e.name,this.Namespace=e.namespace?e.namespace.name:\"\",this.PathWithNamespace=e.path_with_namespace,this.RegistryEnabled=e.container_registry_enabled}n.r(t),n.d(t,\"RegistryGitlabProject\",(function(){return a}))},function(e,t,n){\"use strict\";function a(e){this.Title=e.Title,this.Message=e.Message,this.Hash=e.Hash,this.Style=e.Style,this.ContentLayout=e.ContentLayout}n.r(t),n.d(t,\"MotdViewModel\",(function(){return a}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"RegistryRepositoryViewModel\",(function(){return i})),n.d(t,\"RegistryRepositoryGitlabViewModel\",(function(){return s}));var a=n(28);function i(e){e.name&&e.tags?(this.Name=e.name,this.TagsCount=Object(a.a)(e.tags,null).length):(this.Name=e,this.TagsCount=0)}function s(e){this.Name=e.path,this.TagsCount=e.tags.length}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"TemplateViewModel\",(function(){return s}));var a=n(59),i=n(74);class s{constructor(e,t){switch(t){case\"2\":this.setTemplatesV2(e);break;default:throw new Error(\"Unsupported template version\")}}setTemplatesV2(e){this.Id=e.Id,this.Title=e.title,this.Type=e.type,this.Description=e.description,this.AdministratorOnly=e.AdministratorOnly,this.Name=e.name,this.Note=e.note,this.Categories=e.categories?e.categories:[],this.Platform=e.platform?e.platform:\"\",this.Logo=e.logo,this.Repository=e.repository,this.Hostname=e.hostname,this.RegistryModel=new i.PorImageRegistryModel,this.RegistryModel.Image=e.image,this.RegistryModel.Registry.URL=e.registry||\"\",this.Command=e.command?e.command:\"\",this.Network=e.network?e.network:\"\",this.Privileged=!!e.privileged&&e.privileged,this.Interactive=!!e.interactive&&e.interactive,this.RestartPolicy=e.restart_policy?e.restart_policy:\"always\",this.Labels=e.labels?e.labels:[],this.Hosts=e.hosts?e.hosts:[],this.Env=function(e){var t=[];e.env&&(t=e.env.map((function(e){if(e.type=2,e.value=e.default?e.default:\"\",e.preset&&(e.type=1),e.select){e.type=3;for(var t=0;t<e.select.length;t++){var n=e.select[t];if(n.default){e.value=n.value;break}}}return e})));return t}(e),this.Volumes=function(e){var t=[];e.volumes&&(t=e.volumes.map((function(e){return{container:e.container,readonly:e.readonly||!1,type:e.bind?\"bind\":\"auto\",bind:e.bind?e.bind:null}})));return t}(e),this.Ports=function(e){var t=[];e.ports&&(t=e.ports.map((function(e){var t=Object(a.a)(e,\"/\"),n=Object(a.a)(t[0],\":\");return{hostPort:n.length>1?n[0]:void 0,containerPort:n.length>1?n[1]:n[0],protocol:t[1]}})));return t}(e)}}},function(e,t,n){\"use strict\";function a(e){this.Id=e.Id,this.Token=e.Token,this.ResourceId=e.ResourceID,this.EndpointId=e.EndpointID,this.WebhookType=e.WebhookType}n.r(t),n.d(t,\"WebhookViewModel\",(function(){return a}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return s}));var a=n(19),i=n(47);class s{constructor(){this.options=[Object(i.buildOption)(\"microsoft\",\"fab fa-microsoft\",\"Microsoft\",\"Microsoft OAuth provider\",\"microsoft\",a.HIDE_INTERNAL_AUTH),Object(i.buildOption)(\"google\",\"fab fa-google\",\"Google\",\"Google OAuth provider\",\"google\",a.HIDE_INTERNAL_AUTH),Object(i.buildOption)(\"github\",\"fab fa-github\",\"Github\",\"Github OAuth provider\",\"github\",a.HIDE_INTERNAL_AUTH),Object(i.buildOption)(\"custom\",\"fa fa-user-check\",\"Custom\",\"Custom OAuth provider\",\"custom\")]}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return s}));var a=n(19),i=n(406);class s{constructor(e){this.featureService=e,this.limitedFeature=a.HIDE_INTERNAL_AUTH,this.limitedFeatureClass=\"limited-be\",this.state={provider:\"custom\",overrideConfiguration:!1,microsoftTenantID:\"\"},this.$onInit=this.$onInit.bind(this),this.onSelectProvider=this.onSelectProvider.bind(this),this.onMicrosoftTenantIDChange=this.onMicrosoftTenantIDChange.bind(this),this.useDefaultProviderConfiguration=this.useDefaultProviderConfiguration.bind(this),this.updateSSO=this.updateSSO.bind(this),this.addTeamMembershipMapping=this.addTeamMembershipMapping.bind(this),this.removeTeamMembership=this.removeTeamMembership.bind(this)}onMicrosoftTenantIDChange(){const e=this.state.microsoftTenantID;this.settings.AuthorizationURI=`https://login.microsoftonline.com/${e}/oauth2/authorize`,this.settings.AccessTokenURI=`https://login.microsoftonline.com/${e}/oauth2/token`,this.settings.ResourceURI=`https://graph.windows.net/${e}/me?api-version=2013-11-08`}useDefaultProviderConfiguration(e){const t=i.default[e];this.state.overrideConfiguration=!1,this.isLimitedToBE&&\"custom\"!==e?(this.settings.ClientID=\"\",this.settings.ClientSecret=\"\"):(this.settings.AuthorizationURI=t.authUrl,this.settings.AccessTokenURI=t.accessTokenUrl,this.settings.ResourceURI=t.resourceUrl,this.settings.LogoutURI=t.logoutUrl,this.settings.UserIdentifier=t.userIdentifier,this.settings.Scopes=t.scopes,\"microsoft\"===e&&\"\"!==this.state.microsoftTenantID&&this.onMicrosoftTenantIDChange())}onSelectProvider(e){this.state.provider=e,this.useDefaultProviderConfiguration(e)}updateSSO(){this.settings.HideInternalAuth=!this.featureService.isLimitedToBE(this.limitedFeature)&&this.settings.SSO}addTeamMembershipMapping(){this.settings.TeamMemberships.OAuthClaimMappings.push({ClaimValRegex:\"\",Team:this.settings.DefaultTeamID})}removeTeamMembership(e){this.settings.TeamMemberships.OAuthClaimMappings.splice(e,1)}isOAuthTeamMembershipFormValid(){if(this.settings.OAuthAutoMapTeamMemberships&&this.settings.TeamMemberships){if(!this.settings.TeamMemberships.OAuthClaimName)return!1;if(this.settings.TeamMemberships.OAuthClaimMappings.some(e=>!(e.ClaimValRegex&&e.Team)))return!1}return!0}$onInit(){if(this.isLimitedToBE=this.featureService.isLimitedToBE(this.limitedFeature),!this.isLimitedToBE){if(\"\"===this.settings.RedirectURI&&(this.settings.RedirectURI=window.location.origin),this.settings.AuthorizationURI){const e=this.settings.AuthorizationURI;if(this.state.provider=Object(i.getProviderByUrl)(e),\"microsoft\"===this.state.provider){const t=e.match(/login.microsoftonline.com\\/(.*?)\\//)[1];this.state.microsoftTenantID=t,this.onMicrosoftTenantIDChange()}}0===this.settings.DefaultTeamID&&(this.settings.DefaultTeamID=null),null==this.settings.TeamMemberships&&(this.settings.TeamMemberships={}),null===this.settings.TeamMemberships.OAuthClaimMappings&&(this.settings.TeamMemberships.OAuthClaimMappings=[])}}}s.$inject=[\"featureService\"]},function(e,t,n){\"use strict\";function a(e,t){const n={};return n.value=angular.fromJson(e),n.totalCount=t(\"X-Total-Count\"),n}n.r(t),n.d(t,\"default\",(function(){return a}))},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e,t,n,a,i){this.$async=e,this.$analytics=t,this.Authentication=n,this.UserService=a,this.Notifications=i,this.onSubmit=this.onSubmit.bind(this),this.onError=this.onError.bind(this)}async onSubmit(e){const t=await this.UserService.createAccessToken(this.state.userId,e);return this.$analytics.eventTrack(\"portainer-account-access-token-create\",{category:\"portainer\"}),t}onError(e,t,n){this.Notifications.error(e,t,n)}$onInit(){return this.$async(async()=>{const e=this.Authentication.getUserDetails().ID;this.state={userId:e}})}}a.$inject=[\"$async\",\"$analytics\",\"Authentication\",\"UserService\",\"Notifications\"]},function(e,t,n){\"use strict\";n.r(t);var a=n(408),i=n.n(a),s=n(45),r=n(103);class o{constructor(e,t,n,a,i,o,l,c,d,u,p){Object.assign(this,{$async:e,$state:t,$window:n,Authentication:a,ModalService:i,CustomTemplateService:o,FormValidator:l,Notifications:c,ResourceControlService:d,StackService:u,StateManager:p}),this.formValues={Title:\"\",FileContent:\"\",File:null,RepositoryURL:\"\",RepositoryReferenceName:\"\",RepositoryAuthentication:!1,RepositoryUsername:\"\",RepositoryPassword:\"\",ComposeFilePathInRepository:\"docker-compose.yml\",Description:\"\",Note:\"\",Logo:\"\",Platform:1,Type:1,AccessControlData:new s.AccessControlFormData},this.state={Method:\"editor\",formValidationError:\"\",actionInProgress:!1,fromStack:!1,loading:!0,isEditorDirty:!1,templateNameRegex:r.TEMPLATE_NAME_VALIDATION_REGEX},this.templates=[],this.createCustomTemplate=this.createCustomTemplate.bind(this),this.createCustomTemplateAsync=this.createCustomTemplateAsync.bind(this),this.validateForm=this.validateForm.bind(this),this.createCustomTemplateByMethod=this.createCustomTemplateByMethod.bind(this),this.createCustomTemplateFromFileContent=this.createCustomTemplateFromFileContent.bind(this),this.createCustomTemplateFromFileUpload=this.createCustomTemplateFromFileUpload.bind(this),this.createCustomTemplateFromGitRepository=this.createCustomTemplateFromGitRepository.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.onChangeMethod=this.onChangeMethod.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this)}createCustomTemplate(){return this.$async(this.createCustomTemplateAsync)}onChangeMethod(){this.formValues.FileContent=\"\",this.selectedTemplate=null}async createCustomTemplateAsync(){let e=this.state.Method;if(\"template\"===e&&(e=\"editor\"),this.validateForm(e)){this.state.actionInProgress=!0;try{const t=await this.createCustomTemplateByMethod(e),n=this.formValues.AccessControlData,a=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(a,n,t.ResourceControl),this.Notifications.success(\"Custom template successfully created\"),this.state.isEditorDirty=!1,this.$state.go(\"docker.templates.custom\")}catch(e){this.Notifications.error(\"Failure\",e,\"A template with the same name already exists\")}finally{this.state.actionInProgress=!1}}}validateForm(e){if(this.state.formValidationError=\"\",\"editor\"===e&&\"\"===this.formValues.FileContent)return this.state.formValidationError=\"Template file content must not be empty\",!1;const t=this.formValues.Title;if(i()(this.templates,e=>e.Title===t))return this.state.formValidationError=\"A template with the same name already exists\",!1;const n=this.Authentication.isAdmin(),a=this.formValues.AccessControlData,s=this.FormValidator.validateAccessControl(a,n);return!s||(this.state.formValidationError=s,!1)}createCustomTemplateByMethod(e){switch(e){case\"editor\":return this.createCustomTemplateFromFileContent();case\"upload\":return this.createCustomTemplateFromFileUpload();case\"repository\":return this.createCustomTemplateFromGitRepository()}}createCustomTemplateFromFileContent(){return this.CustomTemplateService.createCustomTemplateFromFileContent(this.formValues)}createCustomTemplateFromFileUpload(){return this.CustomTemplateService.createCustomTemplateFromFileUpload(this.formValues)}createCustomTemplateFromGitRepository(){return this.CustomTemplateService.createCustomTemplateFromGitRepository(this.formValues)}editorUpdate(e){this.formValues.FileContent=e.getValue(),this.state.isEditorDirty=!0}onChangeFormValues(e){this.formValues=e}async $onInit(){const e=this.StateManager.getState();this.state.endpointMode=e.endpoint.mode;let t=0;\"DOCKER_STANDALONE\"===this.state.endpointMode.provider?t=2:\"DOCKER_SWARM_MODE\"===this.state.endpointMode.provider&&(t=1),this.formValues.Type=t;const{fileContent:n,type:a}=this.$state.params;this.formValues.FileContent=n,a&&(this.formValues.Type=+a);try{this.templates=await this.CustomTemplateService.customTemplates([1,2])}catch(e){this.Notifications.error(\"Failure loading\",e,\"Failed loading custom templates\")}this.state.loading=!1,this.$window.onbeforeunload=()=>{if(\"editor\"===this.state.Method&&this.formValues.FileContent&&this.state.isEditorDirty)return\"\"}}$onDestroy(){this.state.isEditorDirty=!1}async uiCanExit(){if(\"editor\"===this.state.Method&&this.formValues.FileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}}o.$inject=[\"$async\",\"$state\",\"$window\",\"Authentication\",\"ModalService\",\"CustomTemplateService\",\"FormValidator\",\"Notifications\",\"ResourceControlService\",\"StackService\",\"StateManager\"],t.default=o},function(e,t,n){\"use strict\";n.r(t);var a=n(5),i=n(33),s=n(45),r=n(103);class o{constructor(e,t,n,a,i,o,l,c,d,u,p,m,g,h){this.$anchorScroll=e,this.$async=t,this.$rootScope=n,this.$state=a,this.Authentication=i,this.CustomTemplateService=o,this.EndpointProvider=l,this.FormValidator=c,this.ModalService=d,this.NetworkService=u,this.Notifications=p,this.ResourceControlService=m,this.StateManager=h,this.StackService=g,this.DOCKER_STANDALONE=\"DOCKER_STANDALONE\",this.DOCKER_SWARM_MODE=\"DOCKER_SWARM_MODE\",this.state={selectedTemplate:null,showAdvancedOptions:!1,formValidationError:\"\",actionInProgress:!1,isEditorVisible:!1,deployable:!1,templateNameRegex:r.TEMPLATE_NAME_VALIDATION_REGEX},this.currentUser={isAdmin:!1,id:null},this.formValues={network:\"\",name:\"\",fileContent:\"\",AccessControlData:new s.AccessControlFormData},this.getTemplates=this.getTemplates.bind(this),this.getTemplatesAsync=this.getTemplatesAsync.bind(this),this.removeTemplates=this.removeTemplates.bind(this),this.removeTemplatesAsync=this.removeTemplatesAsync.bind(this),this.validateForm=this.validateForm.bind(this),this.createStack=this.createStack.bind(this),this.createStackAsync=this.createStackAsync.bind(this),this.selectTemplate=this.selectTemplate.bind(this),this.selectTemplateAsync=this.selectTemplateAsync.bind(this),this.unselectTemplate=this.unselectTemplate.bind(this),this.unselectTemplateAsync=this.unselectTemplateAsync.bind(this),this.getNetworks=this.getNetworks.bind(this),this.getNetworksAsync=this.getNetworksAsync.bind(this),this.confirmDelete=this.confirmDelete.bind(this),this.confirmDeleteAsync=this.confirmDeleteAsync.bind(this),this.editorUpdate=this.editorUpdate.bind(this),this.isEditAllowed=this.isEditAllowed.bind(this)}isEditAllowed(e){return this.currentUser.isAdmin||this.currentUser.id===e.CreatedByUserId}getTemplates(){return this.$async(this.getTemplatesAsync)}async getTemplatesAsync(){try{this.templates=await this.CustomTemplateService.customTemplates([1,2])}catch(e){this.Notifications.error(\"Failed loading templates\",e,\"Unable to load custom templates\")}}removeTemplates(e){return this.$async(this.removeTemplatesAsync,e)}async removeTemplatesAsync(e){for(let t of e)try{await this.CustomTemplateService.remove(t.id),this.Notifications.success(\"Removed template successfully\"),Object(i.a)(this.templates,t)}catch(e){this.Notifications.error(\"Failed removing template\",e,\"Unable to remove custom template\")}}validateForm(e,t){this.state.formValidationError=\"\";const n=this.FormValidator.validateAccessControl(e,t);return!n||(this.state.formValidationError=n,!1)}createStack(){return this.$async(this.createStackAsync)}async createStackAsync(){const e=this.currentUser.id,t=this.formValues.AccessControlData;if(!this.validateForm(t,this.currentUser.isAdmin))return;const n=this.formValues.name,a=this.EndpointProvider.endpointID();this.state.actionInProgress=!0;try{const i=this.formValues.fileContent,s=1===this.state.selectedTemplate.Type?this.StackService.createSwarmStackFromFileContent:this.StackService.createComposeStackFromFileContent,{ResourceControl:r}=await s(n,i,[],a);await this.ResourceControlService.applyResourceControl(e,t,r),this.Notifications.success(\"Stack successfully deployed\"),this.$state.go(\"docker.stacks\")}catch(e){this.Notifications.error(\"Deployment error\",e,\"Failed to deploy stack\")}finally{this.state.actionInProgress=!1}}unselectTemplate(e){return this.$async(this.unselectTemplateAsync,e)}async unselectTemplateAsync(e){e.Selected=!1,this.state.selectedTemplate=null,this.formValues={network:\"\",name:\"\",fileContent:\"\",AccessControlData:new s.AccessControlFormData}}selectTemplate(e){return this.$async(this.selectTemplateAsync,e)}async selectTemplateAsync(e){this.state.selectedTemplate&&await this.unselectTemplate(this.state.selectedTemplate),e.Selected=!0,this.formValues.network=Object(a.a)(this.availableNetworks,(function(e){return\"bridge\"===e.Name})),this.formValues.name=e.Title?e.Title:\"\",this.state.selectedTemplate=e,this.$anchorScroll(\"view-top\");const t=this.StateManager.getState();this.state.deployable=this.isDeployable(t.endpoint,e.Type);const n=await this.CustomTemplateService.customTemplateFile(e.Id);this.formValues.fileContent=n}getNetworks(e,t){return this.$async(this.getNetworksAsync,e,t)}async getNetworksAsync(e,t){try{const n=await this.NetworkService.networks(\"DOCKER_STANDALONE\"===e||\"DOCKER_SWARM_MODE\"===e,!1,\"DOCKER_SWARM_MODE\"===e&&t>=1.25);this.availableNetworks=n}catch(e){this.Notifications.error(\"Failure\",e,\"Failed to load networks.\")}}confirmDelete(e){return this.$async(this.confirmDeleteAsync,e)}async confirmDeleteAsync(e){if(await this.ModalService.confirmDeletionAsync(\"Are you sure that you want to delete this template?\"))try{await this.CustomTemplateService.remove(e),Object(i.a)(this.templates,{Id:e})}catch(e){this.Notifications.error(\"Failure\",e,\"Failed to delete template\")}}editorUpdate(e){this.formValues.fileContent=e.getValue()}isDeployable(e,t){let n=!1;switch(t){case 1:n=e.mode.provider===this.DOCKER_SWARM_MODE;break;case 2:n=e.mode.provider===this.DOCKER_STANDALONE}return n}$onInit(){const e=this.StateManager.getState(),{endpoint:{mode:t},apiVersion:n}=e;this.getTemplates(),this.getNetworks(t.provider,n),this.currentUser.isAdmin=this.Authentication.isAdmin();const a=this.Authentication.getUserDetails();this.currentUser.id=a.ID}}o.$inject=[\"$anchorScroll\",\"$async\",\"$rootScope\",\"$state\",\"Authentication\",\"CustomTemplateService\",\"EndpointProvider\",\"FormValidator\",\"ModalService\",\"NetworkService\",\"Notifications\",\"ResourceControlService\",\"StackService\",\"StateManager\"],t.default=o},function(e,t,n){\"use strict\";n.r(t);var a=n(408),i=n.n(a),s=n(45),r=n(70);class o{constructor(e,t,n,a,i,s,r,o,l){Object.assign(this,{$async:e,$state:t,$window:n,ModalService:a,Authentication:i,CustomTemplateService:s,FormValidator:r,Notifications:o,ResourceControlService:l}),this.formValues=null,this.state={formValidationError:\"\",isEditorDirty:!1},this.templates=[],this.getTemplate=this.getTemplate.bind(this),this.getTemplateAsync=this.getTemplateAsync.bind(this),this.submitAction=this.submitAction.bind(this),this.submitActionAsync=this.submitActionAsync.bind(this),this.editorUpdate=this.editorUpdate.bind(this)}getTemplate(){return this.$async(this.getTemplateAsync)}async getTemplateAsync(){try{const[e,t]=await Promise.all([this.CustomTemplateService.customTemplate(this.$state.params.id),this.CustomTemplateService.customTemplateFile(this.$state.params.id)]);e.FileContent=t,this.formValues=e,this.oldFileContent=this.formValues.FileContent,this.formValues.ResourceControl=new r.ResourceControlViewModel(e.ResourceControl),this.formValues.AccessControlData=new s.AccessControlFormData}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve custom template data\")}}validateForm(){if(this.state.formValidationError=\"\",!this.formValues.FileContent)return this.state.formValidationError=\"Template file content must not be empty\",!1;const e=this.formValues.Title,t=this.$state.params.id;if(i()(this.templates,n=>n.Title===e&&n.Id!=t))return this.state.formValidationError=`A template with the name ${e} already exists`,!1;const n=this.Authentication.isAdmin(),a=this.formValues.AccessControlData,s=this.FormValidator.validateAccessControl(a,n);return!s||(this.state.formValidationError=s,!1)}submitAction(){return this.$async(this.submitActionAsync)}async submitActionAsync(){if(this.validateForm()){this.actionInProgress=!0;try{await this.CustomTemplateService.updateCustomTemplate(this.formValues.Id,this.formValues);const e=this.Authentication.getUserDetails().ID;await this.ResourceControlService.applyResourceControl(e,this.formValues.AccessControlData,this.formValues.ResourceControl),this.Notifications.success(\"Custom template successfully updated\"),this.state.isEditorDirty=!1,this.$state.go(\"docker.templates.custom\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update custom template\")}finally{this.actionInProgress=!1}}}editorUpdate(e){this.formValues.FileContent.replace(/(\\r\\n|\\n|\\r)/gm,\"\")!==e.getValue().replace(/(\\r\\n|\\n|\\r)/gm,\"\")&&(this.formValues.FileContent=e.getValue(),this.state.isEditorDirty=!0)}async uiCanExit(){if(this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async $onInit(){this.getTemplate();try{this.templates=await this.CustomTemplateService.customTemplates([1,2])}catch(e){this.Notifications.error(\"Failure loading\",e,\"Failed loading custom templates\")}this.$window.onbeforeunload=()=>{if(this.formValues.FileContent!==this.oldFileContent&&this.state.isEditorDirty)return\"\"}}$onDestroy(){this.state.isEditorDirty=!1}}o.$inject=[\"$async\",\"$state\",\"$window\",\"ModalService\",\"Authentication\",\"CustomTemplateService\",\"FormValidator\",\"Notifications\",\"ResourceControlService\"],t.default=o},function(e,t,n){\"use strict\";n.r(t);var a=n(30),i=n(207);class s{constructor(e,t,n,i,s,r){Object.assign(this,{$async:e,$state:t,EndpointProvider:n,Notifications:i,RegistryService:s,RegistryGitlabService:r}),this.RegistryTypes=a.RegistryTypes,this.state={actionInProgress:!1,overrideConfiguration:!1,gitlab:{get selectedItemCount(){return this.selectedItems.length||0},selectedItems:[]},originViewReference:\"portainer.registries\"},this.createRegistry=this.createRegistry.bind(this),this.retrieveGitlabRegistries=this.retrieveGitlabRegistries.bind(this),this.createGitlabRegistries=this.createGitlabRegistries.bind(this)}useDefaultQuayConfiguration(){this.model.Quay.useOrganisation=!1,this.model.Quay.organisationName=\"\"}selectQuayRegistry(){this.model.Name=\"Quay\",this.model.URL=\"quay.io\",this.model.Authentication=!0,this.model.Quay={},this.useDefaultQuayConfiguration()}useDefaultGitlabConfiguration(){this.model.URL=\"https://registry.gitlab.com\",this.model.Gitlab.InstanceURL=\"https://gitlab.com\"}selectGitlabRegistry(){this.model.Name=\"\",this.model.Authentication=!0,this.model.Gitlab={},this.useDefaultGitlabConfiguration()}selectAzureRegistry(){this.model.Name=\"\",this.model.URL=\"\",this.model.Authentication=!0}selectProGetRegistry(){this.model.Name=\"\",this.model.URL=\"\",this.model.BaseURL=\"\",this.model.Authentication=!0}selectCustomRegistry(){this.model.Name=\"\",this.model.URL=\"\",this.model.Authentication=!1}selectDockerHub(){this.model.Name=\"\",this.model.URL=\"docker.io\",this.model.Authentication=!0}useDefaultEcrConfiguration(){this.model.Ecr.Region=\"\"}selectEcr(){this.model.Name=\"\",this.model.URL=\"\",this.model.Authentication=!1,this.model.Ecr={},this.useDefaultEcrConfiguration()}retrieveGitlabRegistries(){return this.$async(async()=>{this.state.actionInProgress=!0;try{this.gitlabProjects=await this.RegistryGitlabService.projects(this.model.Gitlab.InstanceURL,this.model.Token)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve projects\")}finally{this.state.actionInProgress=!1}})}createGitlabRegistries(){return this.$async(async()=>{try{this.state.actionInProgress=!0,await this.RegistryService.createGitlabRegistries(this.model,this.state.gitlab.selectedItems),this.Notifications.success(\"Registries successfully created\"),this.$state.go(this.state.originViewReference,{endpointId:this.EndpointProvider.endpointID()})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create registries\"),this.state.actionInProgress=!1}})}createRegistry(){return this.$async(async()=>{try{this.state.actionInProgress=!0,await this.RegistryService.createRegistry(this.model),this.Notifications.success(\"Registry successfully created\"),this.$state.go(this.state.originViewReference,{endpointId:this.EndpointProvider.endpointID()})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create registry\"),this.state.actionInProgress=!1}})}$onInit(){this.model=new i.RegistryCreateFormValues;const e=this.$transition$.originalTransition().from();e.name&&/^[a-z]+\\.registries$/.test(e.name)&&(this.state.originViewReference=e)}}s.$inject=[\"$async\",\"$state\",\"EndpointProvider\",\"Notifications\",\"RegistryService\",\"RegistryGitlabService\"],t.default=s},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(15);class i{constructor(e,t,n,a){this.$async=e,this.$state=t,this.EndpointService=n,this.$analytics=a}manageLocalEndpoint(){this.$state.go(\"portainer.home\")}addRemoteEndpoint(){this.$state.go(\"portainer.wizard.endpoints\")}async createLocalKubernetesEndpoint(){this.state.endpoint.loading=!0;try{await this.EndpointService.createLocalKubernetesEndpoint(),this.state.endpoint.loading=!1,this.state.endpoint.added=!0,this.state.endpoint.connected=\"kubernetes\",this.state.local.icon=\"fas fa-dharmachakra\"}catch(e){this.state.endpoint.kubernetesError=!0}}async createLocalDockerEndpoint(){try{await this.EndpointService.createLocalEndpoint(),this.state.endpoint.loading=!1,this.state.endpoint.added=!0,this.state.endpoint.connected=\"docker\",this.state.local.icon=\"fab fa-docker\"}finally{this.state.endpoint.loading=!1}}$onInit(){return this.$async(async()=>{this.state={local:{icon:\"\"},remote:{icon:\"fa fa-plug\"},endpoint:{kubernetesError:!1,connected:\"\",loading:!1,added:!1}};const e=await this.EndpointService.endpoints();if(\"0\"===e.totalCount)await this.createLocalKubernetesEndpoint(),this.state.endpoint.kubernetesError&&await this.createLocalDockerEndpoint();else{const t=e.value[0];t.Type===a.PortainerEndpointCreationTypes.LocalDockerEnvironment&&(this.state.endpoint.added=!0,this.state.endpoint.connected=\"docker\",this.state.local.icon=\"fab fa-docker\"),t.Type===a.PortainerEndpointCreationTypes.LocalKubernetesEnvironment&&(this.state.endpoint.added=!0,this.state.endpoint.connected=\"kubernetes\",this.state.local.icon=\"fas fa-dharmachakra\")}})}}i.$inject=[\"$async\",\"$state\",\"EndpointService\",\"$analytics\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));class a{constructor(e,t,n,a,i){this.$async=e,this.$scope=t,this.$state=n,this.EndpointService=a,this.$analytics=i,this.updateEndpoint=this.updateEndpoint.bind(this),this.addAnalytics=this.addAnalytics.bind(this)}async updateEndpoint(){const e=await this.EndpointService.endpoints();this.endpoints=e.value}startWizard(){const e=this.state.options;this.state.selections=e.filter(e=>!0===e.selected),this.state.maxStep=this.state.selections.length,0!==this.state.selections.length&&(this.state.section=this.state.selections[this.state.currentStep].endpoint,this.state.selections[this.state.currentStep].stage=\"active\"),this.state.currentStep===this.state.maxStep-1&&(this.state.nextStep=\"Finish\"),this.$analytics.eventTrack(\"endpoint-wizard-endpoint-select\",{category:\"portainer\",metadata:{environment:this.state.analytics.docker+this.state.analytics.kubernetes+this.state.analytics.aci}}),this.state.currentStep++}previousStep(){this.state.section=this.state.selections[this.state.currentStep-2].endpoint,this.state.selections[this.state.currentStep-2].stage=\"active\",this.state.selections[this.state.currentStep-1].stage=\"\",this.state.nextStep=\"Next Step\",this.state.currentStep--}async nextStep(){if(this.state.currentStep>=this.state.maxStep-1&&(this.state.nextStep=\"Finish\"),this.state.currentStep===this.state.maxStep){const e=(await this.EndpointService.endpoints()).value.filter(e=>1===e.Type||5===e.Type);this.state.counter.localEndpoint=e.length-this.state.counter.dockerApi,this.$analytics.eventTrack(\"endpoint-wizard-environment-add-finish\",{category:\"portainer\",metadata:{\"docker-agent\":this.state.counter.dockerAgent,\"docker-api\":this.state.counter.dockerApi,\"kubernetes-agent\":this.state.counter.kubernetesAgent,\"aci-api\":this.state.counter.aciApi,\"local-endpoint\":this.state.counter.localEndpoint}}),this.$state.go(\"portainer.home\")}else this.state.section=this.state.selections[this.state.currentStep].endpoint,this.state.selections[this.state.currentStep].stage=\"active\",this.state.selections[this.state.currentStep-1].stage=\"completed\",this.state.currentStep++}addAnalytics(e){switch(e){case\"docker-agent\":this.state.counter.dockerAgent++;break;case\"docker-api\":this.state.counter.dockerApi++;break;case\"kubernetes-agent\":this.state.counter.kubernetesAgent++;break;case\"aci-api\":this.state.counter.aciApi++}}endpointSelect(e){switch(e){case\"docker\":this.state.options[0].selected?(this.state.options[0].selected=!1,this.state.dockerActive=\"\",this.state.analytics.docker=\"\"):(this.state.options[0].selected=!0,this.state.dockerActive=\"wizard-active\",this.state.analytics.docker=\"Docker/\");break;case\"kubernetes\":this.state.options[1].selected?(this.state.options[1].selected=!1,this.state.kubernetesActive=\"\",this.state.analytics.kubernetes=\"\"):(this.state.options[1].selected=!0,this.state.kubernetesActive=\"wizard-active\",this.state.analytics.kubernetes=\"Kubernetes/\");break;case\"aci\":this.state.options[2].selected?(this.state.options[2].selected=!1,this.state.aciActive=\"\",this.state.analytics.aci=\"\"):(this.state.options[2].selected=!0,this.state.aciActive=\"wizard-active\",this.state.analytics.aci=\"ACI\")}const t=this.state.options;this.state.selections=t.filter(e=>!0===e.selected)}$onInit(){return this.$async(async()=>{this.state={currentStep:0,section:\"\",dockerActive:\"\",kubernetesActive:\"\",aciActive:\"\",maxStep:\"\",previousStep:\"Previous\",nextStep:\"Next Step\",selections:[],analytics:{docker:\"\",kubernetes:\"\",aci:\"\"},counter:{dockerAgent:0,dockerApi:0,kubernetesAgent:0,aciApi:0,localEndpoint:0},options:[{endpoint:\"docker\",selected:!1,stage:\"\",nameClass:\"docker\",icon:\"fab fa-docker\"},{endpoint:\"kubernetes\",selected:!1,stage:\"\",nameClass:\"kubernetes\",icon:\"fas fa-dharmachakra\"},{endpoint:\"aci\",selected:!1,stage:\"\",nameClass:\"aci\",icon:\"fab fa-microsoft\"}],selectOption:\"\"},this.endpoints=[];const e=await this.EndpointService.endpoints();this.endpoints=e.value})}}a.$inject=[\"$async\",\"$scope\",\"$state\",\"EndpointService\",\"$analytics\"]},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return i}));var a=n(47);class i{constructor(e,t,n,a){this.$async=e,this.EndpointService=t,this.Notifications=n,this.NameValidator=a}addAciEndpoint(){return this.$async(async()=>{const{name:e,azureApplicationId:t,azureTenantId:n,azureAuthenticationKey:a}=this.formValues,i=[];try{if(this.state.actionInProgress=!0,await this.NameValidator.validateEnvironmentName(e))return void this.Notifications.error(\"Failure\",null,\"This name is been used, please try another one\");await this.EndpointService.createAzureEndpoint(e,t,n,a,1,i),this.Notifications.success(\"Environment connected\",e),this.clearForm(),this.onUpdate(),this.onAnalytics(\"aci-api\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to connect your environment\")}finally{this.state.actionInProgress=!1}})}clearForm(){this.formValues={name:\"\",azureApplicationId:\"\",azureTenantId:\"\",azureAuthenticationKey:\"\"}}$onInit(){return this.$async(async()=>{this.state={actionInProgress:!1,endpointType:\"api\",availableOptions:[Object(a.buildOption)(\"API\",\"fa fa-bolt\",\"API\",\"\",\"api\")]},this.formValues={name:\"\",azureApplicationId:\"\",azureTenantId:\"\",azureAuthenticationKey:\"\"}})}}i.$inject=[\"$async\",\"EndpointService\",\"Notifications\",\"NameValidator\"]},function(e,t,n){\"use strict\";n.r(t),function(e){n.d(t,\"default\",(function(){return o}));var a=n(15),i=n(199),s=n(163),r=n(47);class o{constructor(e,t,n,a,i,s,r){this.$async=e,this.EndpointService=t,this.StateManager=n,this.Notifications=a,this.clipboard=i,this.$filter=s,this.NameValidator=r}copyLinuxCommand(){this.clipboard.copyText(this.command.linuxCommand),e(\"#linuxCommandNotification\").show().fadeOut(2500)}copyWinCommand(){this.clipboard.copyText(this.command.winCommand),e(\"#winCommandNotification\").show().fadeOut(2500)}copyLinuxSocket(){this.clipboard.copyText(this.command.linuxSocket),e(\"#linuxSocketNotification\").show().fadeOut(2500)}copyWinSocket(){this.clipboard.copyText(this.command.winSocket),e(\"#winSocketNotification\").show().fadeOut(2500)}onChangeFile(e){this.formValues.securityFormData=e}connectEnvironment(e){return this.$async(async()=>{const t=this.formValues.name,n=this.$filter(\"stripprotocol\")(this.formValues.url),i=n.split(\":\")[0],s=this.formValues.socketPath,r=this.formValues.groupId,o=this.formValues.tagIds,l=this.formValues.securityFormData,c=this.formValues.overrideSocket?s:n;var d=null;\"agent\"===e&&(d=a.PortainerEndpointCreationTypes.AgentEnvironment),\"api\"===e&&(d=a.PortainerEndpointCreationTypes.LocalDockerEnvironment);if(await this.NameValidator.validateEnvironmentName(t))this.Notifications.error(\"Failure\",null,\"This name is been used, please try another one\");else switch(e){case\"agent\":await this.addDockerAgentEndpoint(t,d,n,i,r,o);break;case\"api\":await this.addDockerApiEndpoint(t,d,n,i,r,o,l);break;case\"socket\":await this.addDockerLocalEndpoint(t,c,i,r,o)}})}async addDockerAgentEndpoint(e,t,n,a,i,s){await this.addRemoteEndpoint(e,t,n,a,i,s,!0,!0,!0,null,null,null)}async addDockerApiEndpoint(e,t,n,a,i,s,r){const o=this.formValues.tls,l=this.formValues.skipCertification,c=this.formValues.skipCertification,d=l?null:r.TLSCACert,u=c?null:r.TLSCert,p=c?null:r.TLSKey;await this.addRemoteEndpoint(e,t,n,a,i,s,o,l,c,d,u,p)}async addDockerLocalEndpoint(e,t,n,a,i){this.state.actionInProgress=!0;try{await this.EndpointService.createLocalEndpoint(e,t,n,a,i),this.Notifications.success(\"Environment connected\",e),this.clearForm(),this.onUpdate()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to connect your environment\")}finally{this.state.actionInProgress=!1}}async addRemoteEndpoint(e,t,n,i,s,r,o,l,c,d,u,p){this.state.actionInProgress=!0;try{await this.EndpointService.createRemoteEndpoint(e,t,n,i,s,r,o,l,c,d,u,p),this.Notifications.success(\"Environment connected\",e),this.clearForm(),this.onUpdate(),t===a.PortainerEndpointCreationTypes.AgentEnvironment&&this.onAnalytics(\"docker-agent\"),t===a.PortainerEndpointCreationTypes.LocalDockerEnvironment&&this.onAnalytics(\"docker-api\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to connect your environment\")}finally{this.state.actionInProgress=!1}}clearForm(){this.formValues={name:\"\",url:\"\",publicURL:\"\",groupId:1,tagIds:[],environmentUrl:\"\",dockerApiurl:\"\",socketPath:\"\",overrodeSocket:!1,skipCertification:!1,tls:!1,securityFormData:new i.EndpointSecurityFormData}}$onInit(){return this.$async(async()=>{this.state={endpointType:\"agent\",ConnectSocket:!1,actionInProgress:!1,endpoints:[],availableOptions:[Object(r.buildOption)(\"Agent\",\"fa fa-bolt\",\"Agent\",\"\",\"agent\"),Object(r.buildOption)(\"API\",\"fa fa-cloud\",\"API\",\"\",\"api\"),Object(r.buildOption)(\"Socket\",\"fab fa-docker\",\"Socket\",\"\",\"socket\")]},this.formValues={name:\"\",url:\"\",publicURL:\"\",groupId:1,tagIds:[],environmentUrl:\"\",dockerApiurl:\"\",socketPath:\"\",overrideSocket:!1,skipCertification:!1,tls:!1,securityFormData:new i.EndpointSecurityFormData};const e=this.StateManager.getState().application.version,t=Object(s.getAgentShortVersion)(e);this.command={linuxCommand:`curl -L https://downloads.portainer.io/agent-stack-ce${t}.yml -o agent-stack.yml && docker stack deploy --compose-file=agent-stack.yml portainer-agent `,winCommand:`curl -L https://downloads.portainer.io/agent-stack-ce${t}-windows.yml -o agent-stack-windows.yml && docker stack deploy --compose-file=agent-stack-windows.yml portainer-agent `,linuxSocket:'-v \"/var/run/docker.sock:/var/run/docker.sock\" ',winSocket:\"-v .pipedocker_engine:.pipedocker_engine \"}})}}o.$inject=[\"$async\",\"EndpointService\",\"StateManager\",\"Notifications\",\"clipboard\",\"$filter\",\"NameValidator\"]}.call(this,n(50))},function(e,t,n){\"use strict\";n.r(t),function(e){n.d(t,\"default\",(function(){return r}));var a=n(15),i=n(47),s=n(163);class r{constructor(e,t,n,a,i,s,r){this.$async=e,this.EndpointService=t,this.StateManager=n,this.Notifications=a,this.$filter=i,this.clipboard=s,this.NameValidator=r}addKubernetesAgent(){return this.$async(async()=>{const e=this.state.formValues.name,t=this.$filter(\"stripprotocol\")(this.state.formValues.url),n=t.split(\":\")[0],i=a.PortainerEndpointCreationTypes.AgentEnvironment;await this.NameValidator.validateEnvironmentName(e)?this.Notifications.error(\"Failure\",null,\"This name is been used, please try another one\"):await this.addRemoteEndpoint(e,i,t,n,1,[],!0,!0,!0,null,null,null)})}async addRemoteEndpoint(e,t,n,a,i,s,r,o,l,c,d,u){this.state.actionInProgress=!0;try{await this.EndpointService.createRemoteEndpoint(e,t,n,a,i,s,r,o,l,c,d,u),this.Notifications.success(\"Environment connected\",e),this.clearForm(),this.onUpdate(),this.onAnalytics(\"kubernetes-agent\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to conect your environment\")}finally{this.state.actionInProgress=!1}}copyLoadBalancer(){this.clipboard.copyText(this.command.loadBalancer),e(\"#loadBalancerNotification\").show().fadeOut(2500)}copyNodePort(){this.clipboard.copyText(this.command.nodePort),e(\"#nodePortNotification\").show().fadeOut(2500)}clearForm(){this.state.formValues={name:\"\",url:\"\"}}$onInit(){return this.$async(async()=>{this.state={endpointType:\"agent\",actionInProgress:!1,formValues:{name:\"\",url:\"\"},availableOptions:[Object(i.buildOption)(\"Agent\",\"fa fa-bolt\",\"Agent\",\"\",\"agent\")]};const e=this.StateManager.getState().application.version,t=Object(s.getAgentShortVersion)(e);this.command={loadBalancer:`curl -L https://downloads.portainer.io/portainer-agent-ce${t}-k8s-lb.yaml -o portainer-agent-k8s.yaml; kubectl apply -f portainer-agent-k8s.yaml `,nodePort:`curl -L https://downloads.portainer.io/portainer-agent-ce${t}-k8s-nodeport.yaml -o portainer-agent-k8s.yaml; kubectl apply -f portainer-agent-k8s.yaml `}})}}r.$inject=[\"$async\",\"EndpointService\",\"StateManager\",\"Notifications\",\"$filter\",\"clipboard\",\"NameValidator\"]}.call(this,n(50))},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=(n(954),n(755),n(980),n(981),n(204)),r=n.n(s),o=n(409),l=n(9),c=n(13);function d(e){var t=e.children;return Object(c.jsx)(l.StrictMode,{children:Object(c.jsx)(o.a,{children:t})})}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return n.$inject=[\"$element\",\"$q\"],{bindings:Object.fromEntries(t.map((function(e){return[e,\"<\"]}))),controller:n};function n(n,a){var i=this,s=n[0];this.$onChanges=function(){var n=function(e,t,n){return Object.fromEntries(e.map((function(e){var a=t[e];return\"function\"!=typeof a?[e,a]:[e,function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n((function(n){return n(t[e].apply(t,i))}))}]})))}(t,i,a);r.a.render(Object(c.jsx)(d,{children:Object(c.jsx)(e,p({},n))}),s)},this.$onDestroy=function(){return r.a.unmountComponentAtNode(s)}}}n(759),n(760);var h=n(79);n(988);function f(){return Object(c.jsxs)(\"div\",{className:\"loading\",children:[Object(c.jsx)(\"div\",{className:\"double-bounce1\"}),Object(c.jsx)(\"div\",{className:\"double-bounce2\"})]})}var v=g(f,[]),b=Object(l.createContext)(null);function y(){if(null==Object(l.useContext)(b))throw new Error(\"Should be inside a Widget component\")}function w(e){var t=e.children;return Object(c.jsx)(b.Provider,{value:!0,children:Object(c.jsx)(\"div\",{className:\"widget\",children:t})})}var x=n(61);function $(e){var t=e.loading,n=e.className,a=e.children;return y(),Object(c.jsx)(\"div\",{className:Object(x.a)(n,\"widget-body\"),children:t?Object(c.jsx)(f,{}):Object(c.jsx)(\"div\",{className:\"widget-content\",children:a})})}var C=i.a.module(\"portainer.shared.components.widget\",[]).component(\"rdLoading\",v).component(\"rdWidget\",{transclude:!0,template:'<div class=\"widget\" ng-transclude></div>'}).component(\"rdWidgetBody\",{requires:\"^rdWidget\",bindings:{loading:\"@?\",classes:\"@?\"},transclude:!0,template:'\\n    <div class=\"widget-body\" ng-class=\"$ctrl.classes\">\\n      <rd-loading ng-show=\"$ctrl.loading\"></rd-loading>\\n      <div ng-hide=\"$ctrl.loading\" class=\"widget-content\" ng-transclude></div>\\n    </div>\\n  '}).component(\"rdWidgetCustomHeader\",{requires:\"^rdWidget\",bindings:{titleText:\"=\",icon:\"=\"},transclude:!0,template:'\\n    <div class=\"widget-header\">\\n      <div class=\"row\">\\n        <span class=\"pull-left\">\\n          <img class=\"custom-header-ico space-right\" ng-src=\"{{$ctrl.icon}}\" ng-if=\"$ctrl.icon\" alt=\"header-icon\"></img>\\n          <i class=\"fa fa-rocket\" aria-hidden=\"true\" ng-if=\"!$ctrl.icon\"></i>\\n          <span class=\"text-muted\"> {{$ctrl.titleText}} </span>\\n        </span>\\n        <span class=\"pull-right col-xs-6 col-sm-4\" ng-transclude></span>\\n      </div>\\n    </div>\\n  '}).component(\"rdWidgetFooter\",{requires:\"^rdWidget\",transclude:!0,template:'\\n    <div class=\"widget-footer\" ng-transclude></div>\\n  '}).component(\"rdWidgetHeader\",{requires:\"^rdWidget\",bindings:{titleText:\"@\",icon:\"@\",classes:\"@?\"},transclude:{title:\"?headerTitle\"},template:'\\n    <div class=\"widget-header\">\\n      <div class=\"row\">\\n        <span ng-class=\"$ctrl.classes\" class=\"pull-left\">\\n          <i class=\"fa\" ng-class=\"$ctrl.icon\"></i>\\n          <span ng-transclude=\"title\">{{ $ctrl.titleText }}</span>\\n        </span>\\n        <span ng-class=\"$ctrl.classes\" class=\"pull-right\" ng-transclude></span>\\n      </div>\\n    </div>\\n'}).component(\"rdWidgetTaskbar\",{requires:\"^rdWidget\",bindings:{classes:\"@?\"},transclude:!0,template:'\\n    <div class=\"widget-header\">\\n      <div class=\"row\">\\n        <div ng-class=\"$ctrl.classes\" ng-transclude></div>\\n      </div>\\n    </div>\\n  '}).name,S=n(806),k=\"app-portainer-components-Tip-Tooltip-Tooltip-module__tooltip\",A=\"app-portainer-components-Tip-Tooltip-Tooltip-module__icon\";function P(e){var t=e.message,n=e.position,a=void 0===n?\"bottom\":n;return Object(c.jsxs)(\"span\",{className:\"interactive\",children:[Object(c.jsx)(\"i\",{className:Object(x.a)(\"fa fa-question-circle blue-icon\",A),\"aria-hidden\":\"true\",\"data-tip\":t}),Object(c.jsx)(S.a,{multiline:!0,type:\"info\",place:a,effect:\"solid\",className:k,arrowColor:\"transparent\"})]})}var I=\"app-portainer-components-form-components-FormControl-FormControl-module__container\";function T(e){var t=e.inputId,n=e.label,a=e.tooltip,i=void 0===a?\"\":a,s=e.children,r=e.errors;return Object(c.jsxs)(\"div\",{children:[Object(c.jsxs)(\"div\",{className:Object(x.a)(\"form-group\",I),children:[Object(c.jsxs)(\"label\",{htmlFor:t,className:\"col-sm-3 col-lg-2 control-label text-left\",children:[n,i&&Object(c.jsx)(P,{message:i})]}),Object(c.jsx)(\"div\",{className:\"col-sm-9 col-lg-10\",children:s})]}),r&&Object(c.jsx)(\"div\",{className:\"form-group col-md-12\",children:Object(c.jsxs)(\"div\",{className:\"small text-warning\",children:[Object(c.jsx)(\"i\",{className:\"fa fa-exclamation-triangle space-right\",\"aria-hidden\":\"true\"}),r]})})]})}n(761),n(762),n(990),n(764);function N(e){var t=e.component,n=void 0===t?\"input\":t,a=e.value,i=e.disabled,s=e.id,r=e.readonly,o=e.required,l=e.type,d=e.className,u=e.rows,p=e.onChange,m=n;return Object(c.jsx)(m,{value:a,disabled:i,id:s,readOnly:r,required:o,type:l,className:Object(x.a)(\"form-control\",d),onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return p(e.target.value)})),rows:u})}function E(e){var t=e.id,n=e.type,a=void 0===n?\"text\":n,i=e.value,s=e.className,r=e.onChange,o=e.disabled,l=e.readonly,d=e.required,u=e.placeholder;return Object(c.jsx)(N,{id:t,type:a,className:s,value:i,onChange:r,disabled:o,readonly:l,required:d,placeholder:u})}function R(e){var t=e.type,n=void 0===t?\"button\":t,a=e.color,i=void 0===a?\"primary\":a,s=e.size,r=void 0===s?\"small\":s,o=e.disabled,l=void 0!==o&&o,d=e.className,u=e.onClick,p=e.title,m=e.children;return Object(c.jsx)(\"button\",{type:n,disabled:l,className:Object(x.a)(\"btn\",\"btn-\".concat(i),D(r),d),onClick:u,title:p,children:m})}function D(e){switch(e){case\"large\":return\"btn-lg\";case\"medium\":return\"btn-md\";case\"xsmall\":return\"btn-xs\";default:return\"btn-sm\"}}function O(e){var t=e.children;return Object(c.jsx)(\"div\",{className:\"col-sm-12 form-section-title\",children:t})}var V=\"app-portainer-components-Tip-TextTip-TextTip-module__text-margin\";function U(e){var t=e.children;return Object(c.jsxs)(\"p\",{className:\"text-muted small\",children:[Object(c.jsx)(\"i\",{\"aria-hidden\":\"true\",className:Object(x.a)(\"fa fa-exclamation-circle\",\"orange-icon\",V)}),t]})}var L=\"app-portainer-components-Code-Code-module__code\";function F(e){var t=e.children;return Object(c.jsx)(\"code\",{className:L,children:t})}n(994);var _=\"app-portainer-components-Button-CopyButton-CopyButton-module__fadeout\",M=\"app-portainer-components-Button-CopyButton-CopyButton-module__container\",j=\"app-portainer-components-Button-CopyButton-CopyButton-module__display-text\";function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null==n)return;var a,i,s=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw i}}return s}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function z(e){var t=e.copyText,n=e.fadeDelay,a=void 0===n?1e3:n,i=e.displayText,s=void 0===i?\"copied\":i,r=e.className,o=e.children,d=B(Object(l.useState)(!1),2),u=d[0],p=d[1];return Object(l.useEffect)((function(){var e=setTimeout((function(){return p(!1)}),a);return function(){clearTimeout(e)}}),[u,a]),Object(c.jsxs)(\"div\",{className:M,children:[Object(c.jsxs)(R,{className:r,size:\"small\",onClick:function(){if(navigator.clipboard)navigator.clipboard.writeText(t);else{var e=document.createElement(\"input\");e.value=t,e.type=\"text\",document.body.appendChild(e),e.select(),document.execCommand(\"copy\"),e.type=\"hidden\",document.body.removeChild(e)}p(!0)},title:\"Copy Value\",type:\"button\",children:[Object(c.jsx)(\"i\",{className:\"fa fa-copy space-right\",\"aria-hidden\":\"true\"}),\" \",o]}),Object(c.jsxs)(\"span\",{className:Object(x.a)(u&&_,j),children:[Object(c.jsx)(\"i\",{className:\"fa fa-check\",\"aria-hidden\":\"true\"}),\" \",s]})]})}var G=\"app-portainer-views-account-CreateAccessToken-CreateAccessToken-module__add-button\",H=\"app-portainer-views-account-CreateAccessToken-CreateAccessToken-module__copy-button\";function q(e,t,n,a,i,s,r){try{var o=e[s](r),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,i)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var s=e.apply(t,n);function r(e){q(s,a,i,r,o,\"next\",e)}function o(e){q(s,a,i,r,o,\"throw\",e)}r(void 0)}))}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(null==n)return;var a,i,s=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==n.return||n.return()}finally{if(o)throw i}}return s}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Q=g((function(e){var t=e.onSubmit,n=e.onError,a=Object(h.useRouter)(),i=Y(Object(l.useState)(\"\"),2),s=i[0],r=i[1],o=Y(Object(l.useState)(\"\"),2),d=o[0],u=o[1],p=Y(Object(l.useState)(!1),2),m=p[0],g=p[1],f=Y(Object(l.useState)(\"\"),2),v=f[0],b=f[1];function y(){return(y=W(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=2;break}return e.abrupt(\"return\");case 2:return g(!0),e.prev=3,e.next=6,t(s);case 6:a=e.sent,b(a.rawAPIKey),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n(\"Failure\",e.t0,\"Failed to generate access token\");case 13:return e.prev=13,g(!1),e.finish(13);case 16:case\"end\":return e.stop()}}),e,null,[[3,10,13,16]])})))).apply(this,arguments)}return Object(l.useEffect)((function(){0===s.length?u(\"this field is required\"):u(\"\")}),[s]),Object(c.jsx)(w,{children:Object(c.jsxs)($,{children:[Object(c.jsxs)(\"div\",{children:[Object(c.jsx)(T,{inputId:\"input\",label:\"Description\",errors:d,children:Object(c.jsx)(E,{id:\"input\",onChange:function(e){return r(e)},type:\"text\",value:s})}),Object(c.jsx)(R,{disabled:!!d||!!v,onClick:function(){return y.apply(this,arguments)},className:G,children:\"Add access token\"})]}),v&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(O,{children:\"New access token\"}),Object(c.jsx)(U,{children:\"Please copy the new access token. You won't be able to view the token again.\"}),Object(c.jsx)(F,{children:v}),Object(c.jsx)(z,{copyText:v,className:H,displayText:\"\",children:\"Copy access token\"}),Object(c.jsx)(\"hr\",{}),Object(c.jsx)(R,{type:\"button\",onClick:function(){return a.stateService.go(\"portainer.account\")},children:\"Done\"})]})]})})}),[\"userId\",\"onSubmit\",\"onSuccess\",\"onError\"]),X=n(673),Z=n(474),ee=n(488),te=n(491),ne=[\"children\"];function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oe(e){var t=e.children,n=re(e,ne);return Object(c.jsx)(h.UISref,ie(ie({},n),{},{children:Object(c.jsx)(\"a\",{children:t})}))}var le=\"app-portainer-components-ReactExample-module__red-bg\";var ce=g((function(e){var t=e.text,n=\"portainer.registries\",a=Object(h.useSref)(n),i=a.onClick,s=a.href;return Object(c.jsxs)(\"div\",{className:le,children:[t,Object(c.jsx)(\"div\",{children:Object(c.jsx)(\"a\",{href:s,onClick:i,children:\"Registries useSref\"})}),Object(c.jsx)(\"div\",{children:Object(c.jsx)(oe,{to:n,children:\"Registries Link\"})})]})}),[\"text\"]);t.default=i.a.module(\"portainer.app.components\",[C,X.default,Z.default,ee.default,te.default]).component(\"portainerTooltip\",{bindings:{message:\"@\",position:\"@\"},template:'<span\\n    class=\"interactive\"\\n    tooltip-append-to-body=\"true\"\\n    tooltip-placement=\"{{$ctrl.position}}\"\\n    tooltip-class=\"portainer-tooltip\"\\n    uib-tooltip=\"{{$ctrl.message}}\"\\n  >\\n    <i\\n      class=\"fa fa-question-circle blue-icon tooltip-icon\"\\n      aria-hidden=\"true\"\\n    ></i>\\n  </span>'}).component(\"reactExample\",ce).component(\"createAccessToken\",Q).name},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"rolesDatatable\",(function(){return i}));var a=n(469);const i={templateUrl:n(953),controller:a.default,bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}}},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(674),r=n(473),o=n(675);t.default=i.a.module(\"portainer.app.components.sidebar\",[]).component(\"sidebarMenu\",s.sidebarMenu).component(\"sidebarMenuItem\",o.sidebarMenuItem).component(\"sidebarSection\",r.sidebarSection).name},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"sidebarMenu\",(function(){return i}));var a=n(472);const i={templateUrl:n(995),controller:a.default,bindings:{iconClass:\"@\",path:\"@\",pathParams:\"<\",childrenPaths:\"<\",label:\"@\",isSidebarOpen:\"<\",currentState:\"@\"},transclude:!0}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"sidebarMenuItem\",(function(){return a}));const a={templateUrl:n(997),bindings:{path:\"@\",pathParams:\"<\",iconClass:\"@\",className:\"@\"},transclude:!0}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"gitFormAuthFieldset\",(function(){return i}));var a=n(477);const i={templateUrl:n(999),controller:a.default,bindings:{model:\"<\",onChange:\"<\",showAuthExplanation:\"<\",isEdit:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapSettingsCustom\",(function(){return i}));var a=n(502);const i={templateUrl:n(1013),controller:a.default,bindings:{settings:\"=\",tlscaCert:\"=\",state:\"=\",onTlscaCertChange:\"<\",connectivityCheck:\"<\",onSearchUsersClick:\"<\",onSearchGroupsClick:\"<\",onSaveSettings:\"<\",saveButtonState:\"<\",saveButtonDisabled:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapCustomAdminGroup\",(function(){return i}));var a=n(521);const i={templateUrl:n(1024),controller:a.default,bindings:{settings:\"=\",selectedAdminGroups:\"=\",defaultAdminGroupSearchFilter:\"<\",onSearchClick:\"<\",limitedFeatureId:\"<\",isLimitedFeatureSelfContained:\"<\"}}},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"ldapSettingsTestLogin\",(function(){return i}));var a=n(523);const i={templateUrl:n(1026),controller:a.default,bindings:{settings:\"=\",limitedFeatureId:\"<\",showBeIndicatorIfNeeded:\"<\",isLimitedFeatureSelfContained:\"<\"}}},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(535),r=n(536);t.default=i.a.module(\"portainer.feature-flags\",[]).directive(\"limitedFeatureDir\",s.limitedFeatureDirective).factory(\"featureService\",r.featureService).name},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"activityLogsDatatable\",(function(){return i}));var a=n(546);const i={templateUrl:n(1036),controller:a.default,bindings:{logs:\"<\",keyword:\"<\",sort:\"<\",limit:\"<\",totalItems:\"<\",currentPage:\"<\",feature:\"@\",onChangeContextFilter:\"<\",onChangeKeyword:\"<\",onChangeSort:\"<\",onChangeLimit:\"<\",onChangePage:\"<\"}}},,,,,,,,function(e,t,n){\"use strict\";n.r(t);n(805);var a=n(1),i=n.n(a),s=n(409),r=(n(730),n(454));n(731),n(732),n(733),n(734),n(735);i.a.module(\"portainer\",[\"ui.bootstrap\",\"ui.router\",s.b,\"ui.select\",\"isteven-multi-select\",\"ngSanitize\",\"ngFileUpload\",\"ngMessages\",\"ngResource\",\"angularUtils.directives.dirPagination\",\"LocalStorageModule\",\"angular-jwt\",\"angular-json-tree\",\"angular-loading-bar\",\"angular-clipboard\",\"ngFileSaver\",\"luegg.directives\",\"portainer.app\",\"portainer.agent\",\"portainer.azure\",\"portainer.docker\",\"portainer.kubernetes\",\"portainer.edge\",\"portainer.integrations\",\"rzModule\",\"moment-picker\",\"angulartics\",r.default]);var o=n(1037);o.keys().filter(e=>!e.includes(\".test\")).forEach((function(e){o(e)}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){const n=window._paq=window._paq||[];n.push([\"enableLinkTracking\"]);n.push([\"setTrackerUrl\",\"https://portainer-ce.matomo.cloud/matomo.php\"]),n.push([\"setSiteId\",\"1\"]);var a=document,i=a.createElement(\"script\"),s=a.getElementsByTagName(\"script\")[0];i.type=\"text/javascript\",i.async=!0,i.src=\"//cdn.matomo.cloud/portainer-ce.matomo.cloud/matomo.js\",s.parentNode.insertBefore(i,s)},function(e,t,n){\"use strict\";n.r(t);var a=n(1);n.n(a).a.module(\"portainer.agent\",[])},function(e,t,n){const a=n(877),i=n(878),s=n(879);angular.module(\"portainer.azure\",[\"portainer.app\"]).config([\"$stateRegistryProvider\",function(e){\"use strict\";var t={name:\"azure.containerinstances\",url:\"/containerinstances\",views:{\"content@\":{templateUrl:a,controller:\"AzureContainerInstancesController\"}}},n={name:\"azure.containerinstances.new\",url:\"/new/\",views:{\"content@\":{templateUrl:i,controller:\"AzureCreateContainerInstanceController\"}}},r={name:\"azure.dashboard\",url:\"/dashboard\",views:{\"content@\":{templateUrl:s,controller:\"AzureDashboardController\"}}};e.register({name:\"azure\",url:\"/azure\",parent:\"endpoint\",abstract:!0,onEnter:[\"$async\",\"$state\",\"endpoint\",\"EndpointProvider\",\"Notifications\",\"StateManager\",function(e,t,n,a,i,s){return e(async()=>{if(3===n.Type)try{a.setEndpointID(n.Id),a.setEndpointPublicURL(n.PublicURL),a.setOfflineModeFromStatus(n.Status),await s.updateEndpointState(n,[])}catch(e){i.error(\"Failed loading environment\",e),t.go(\"portainer.home\",{},{reload:!0})}else t.go(\"portainer.home\")})}]}),e.register(t),e.register({name:\"azure.containerinstances.container\",url:\"/:id\",views:{\"content@\":{component:\"containerInstanceDetails\"}}}),e.register(n),e.register(r)}])},function(e,t,n){const a=n(880),i=n(881),s=n(882),r=n(883),o=n(884),l=n(885),c=n(886),d=n(887),u=n(888),p=n(889),m=n(890),g=n(891),h=n(892),f=n(893),v=n(894),b=n(895),y=n(896),w=n(897),x=n(898),$=n(899),C=n(900),S=n(901),k=n(902),A=n(903),P=n(904),I=n(905),T=n(906),N=n(907),E=n(908),R=n(909),D=n(910),O=n(911),V=n(912),U=n(913),L=n(914),F=n(915),_=n(916),M=n(917),j=n(918);angular.module(\"portainer.docker\",[\"portainer.app\"]).config([\"$stateRegistryProvider\",function(e){\"use strict\";var t={name:\"docker\",parent:\"endpoint\",url:\"/docker\",abstract:!0,onEnter:[\"endpoint\",\"$async\",\"$state\",\"EndpointService\",\"EndpointProvider\",\"LegacyExtensionManager\",\"Notifications\",\"StateManager\",\"SystemService\",function(e,t,n,a,i,s,r,o,l){return t(async()=>{if([1,2,4].includes(e.Type))try{const t=await async function(e){try{return await l.ping(e.Id),1}catch(e){return 2}}(e);if(4!==e.Type&&await async function(e,t){if(e.Status===t)return;await a.updateEndpoint(e.Id,{Status:t})}(e,t),e.Status=t,2===t){if(!e.Snapshots[0])throw new Error(\"Environment is unreachable and there is no snapshot available for offline browsing.\");if(e.Snapshots[0].Swarm)throw new Error(\"Environment is unreachable. Connect to another swarm manager.\")}i.setEndpointID(e.Id),i.setEndpointPublicURL(e.PublicURL),i.setOfflineModeFromStatus(e.Status);const n=await s.initEndpointExtensions(e);await o.updateEndpointState(e,n)}catch(e){r.error(\"Failed loading environment\",e),n.go(\"portainer.home\",{},{reload:!0})}else n.go(\"portainer.home\")})}]},n={name:\"docker.configs\",url:\"/configs\",views:{\"content@\":{templateUrl:a,controller:\"ConfigsController\",controllerAs:\"ctrl\"}}},B={name:\"docker.configs.config\",url:\"/:id\",views:{\"content@\":{templateUrl:i,controller:\"ConfigController\"}}},K={name:\"docker.configs.new\",url:\"/new?id\",views:{\"content@\":{templateUrl:s,controller:\"CreateConfigController\",controllerAs:\"ctrl\"}}},z={name:\"docker.containers\",url:\"/containers\",views:{\"content@\":{templateUrl:r,controller:\"ContainersController\"}}},G={name:\"docker.containers.container\",url:\"/:id?nodeName\",views:{\"content@\":{templateUrl:o,controller:\"ContainerController\"}}},H={name:\"docker.containers.container.attach\",url:\"/attach\",views:{\"content@\":{templateUrl:l,controller:\"ContainerConsoleController\"}}},q={name:\"docker.containers.container.exec\",url:\"/exec\",views:{\"content@\":{templateUrl:c,controller:\"ContainerConsoleController\"}}},W={name:\"docker.containers.new\",url:\"/new?nodeName&from\",views:{\"content@\":{templateUrl:d,controller:\"CreateContainerController\"}}},Y={name:\"docker.containers.container.inspect\",url:\"/inspect\",views:{\"content@\":{templateUrl:u,controller:\"ContainerInspectController\"}}},J={name:\"docker.containers.container.logs\",url:\"/logs\",views:{\"content@\":{templateUrl:p,controller:\"ContainerLogsController\"}}},Q={name:\"docker.containers.container.stats\",url:\"/stats\",views:{\"content@\":{templateUrl:m,controller:\"ContainerStatsController\"}}};var X={name:\"docker.dashboard\",url:\"/dashboard\",views:{\"content@\":{templateUrl:g,controller:\"DashboardController\"}}},Z={name:\"docker.events\",url:\"/events\",views:{\"content@\":{templateUrl:h,controller:\"EventsController\"}}},ee={name:\"docker.images\",url:\"/images\",views:{\"content@\":{templateUrl:f,controller:\"ImagesController\"}}},te={name:\"docker.images.image\",url:\"/:id?nodeName\",views:{\"content@\":{templateUrl:v,controller:\"ImageController\"}}},ne={name:\"docker.images.build\",url:\"/build\",views:{\"content@\":{templateUrl:b,controller:\"BuildImageController\"}}},ae={name:\"docker.images.import\",url:\"/import\",views:{\"content@\":{templateUrl:y,controller:\"ImportImageController\"}}},ie={name:\"docker.networks\",url:\"/networks\",views:{\"content@\":{templateUrl:w,controller:\"NetworksController\"}}},se={name:\"docker.networks.network\",url:\"/:id?nodeName\",views:{\"content@\":{templateUrl:x,controller:\"NetworkController\"}}},re={name:\"docker.networks.new\",url:\"/new\",views:{\"content@\":{templateUrl:$,controller:\"CreateNetworkController\"}}},oe={name:\"docker.secrets\",url:\"/secrets\",views:{\"content@\":{templateUrl:C,controller:\"SecretsController\"}}},le={name:\"docker.secrets.secret\",url:\"/:id\",views:{\"content@\":{templateUrl:S,controller:\"SecretController\"}}},ce={name:\"docker.secrets.new\",url:\"/new\",views:{\"content@\":{templateUrl:k,controller:\"CreateSecretController\"}}},de={name:\"docker.services\",url:\"/services\",views:{\"content@\":{templateUrl:A,controller:\"ServicesController\"}}},ue={name:\"docker.services.service\",url:\"/:id\",views:{\"content@\":{templateUrl:P,controller:\"ServiceController\"}}},pe={name:\"docker.services.new\",url:\"/new\",views:{\"content@\":{templateUrl:I,controller:\"CreateServiceController\"}}},me={name:\"docker.services.service.logs\",url:\"/logs\",views:{\"content@\":{templateUrl:T,controller:\"ServiceLogsController\"}}},ge={name:\"docker.stacks\",url:\"/stacks\",views:{\"content@\":{templateUrl:N,controller:\"StacksController\"}}},he={name:\"docker.stacks.stack\",url:\"/:name?id&type&regular&external&orphaned&orphanedRunning\",views:{\"content@\":{templateUrl:E,controller:\"StackController\"}}},fe={name:\"docker.stacks.newstack\",url:\"/newstack\",views:{\"content@\":{templateUrl:R,controller:\"CreateStackController\"}}},ve={name:\"docker.swarm\",url:\"/swarm\",views:{\"content@\":{templateUrl:D,controller:\"SwarmController\"}}},be={name:\"docker.swarm.visualizer\",url:\"/visualizer\",views:{\"content@\":{templateUrl:O,controller:\"SwarmVisualizerController\"}}},ye={name:\"docker.tasks.task\",url:\"/:id\",views:{\"content@\":{templateUrl:V,controller:\"TaskController\"}}},we={name:\"docker.tasks.task.logs\",url:\"/logs\",views:{\"content@\":{templateUrl:U,controller:\"TaskLogsController\"}}},xe={name:\"docker.templates\",url:\"/templates\",views:{\"content@\":{templateUrl:L,controller:\"TemplatesController\"}}},$e={name:\"docker.volumes\",url:\"/volumes\",views:{\"content@\":{templateUrl:F,controller:\"VolumesController\"}}},Ce={name:\"docker.volumes.volume\",url:\"/:id?nodeName\",views:{\"content@\":{templateUrl:_,controller:\"VolumeController\"}}},Se={name:\"docker.volumes.volume.browse\",url:\"/browse\",views:{\"content@\":{templateUrl:M,controller:\"BrowseVolumeController\"}}},ke={name:\"docker.volumes.new\",url:\"/new\",views:{\"content@\":{templateUrl:j,controller:\"CreateVolumeController\"}}};e.register(n),e.register(B),e.register(K),e.register(z),e.register(G),e.register(q),e.register(H),e.register(W),e.register(Y),e.register(J),e.register(Q),e.register({name:\"docker.templates.custom\",url:\"/custom\",views:{\"content@\":{component:\"customTemplatesView\"}}}),e.register({name:\"docker.templates.custom.new\",url:\"/new?fileContent&type\",views:{\"content@\":{component:\"createCustomTemplateView\"}},params:{fileContent:\"\",type:\"\"}}),e.register({name:\"docker.templates.custom.edit\",url:\"/:id\",views:{\"content@\":{component:\"editCustomTemplateView\"}}}),e.register(t),e.register(X),e.register({name:\"docker.host\",url:\"/host\",views:{\"content@\":{component:\"hostView\"}}}),e.register({name:\"docker.host.browser\",url:\"/browser\",views:{\"content@\":{component:\"hostBrowserView\"}}}),e.register(Z),e.register(ee),e.register(te),e.register(ne),e.register(ae),e.register(ie),e.register(se),e.register(re),e.register({name:\"docker.nodes\",url:\"/nodes\",abstract:!0}),e.register({name:\"docker.nodes.node\",url:\"/:id\",views:{\"content@\":{component:\"nodeDetailsView\"}}}),e.register({name:\"docker.nodes.node.browse\",url:\"/browse\",views:{\"content@\":{component:\"nodeBrowserView\"}}}),e.register(oe),e.register(le),e.register(ce),e.register(de),e.register(ue),e.register(pe),e.register(me),e.register(ge),e.register(he),e.register(fe),e.register(ve),e.register(be),e.register({name:\"docker.tasks\",url:\"/tasks\",abstract:!0}),e.register(ye),e.register(we),e.register(xe),e.register($e),e.register(Ce),e.register(Se),e.register(ke),e.register({name:\"docker.featuresConfiguration\",url:\"/feat-config\",views:{\"content@\":{component:\"dockerFeaturesConfigurationView\"}}}),e.register({name:\"docker.registries\",url:\"/registries\",views:{\"content@\":{component:\"endpointRegistriesView\"}}}),e.register({name:\"docker.registries.access\",url:\"/:id/access\",views:{\"content@\":{component:\"dockerRegistryAccessView\"}}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(455);i.a.module(\"portainer.edge\",[s.default]).config([\"$stateRegistryProvider\",function(e){e.register({name:\"edge\",url:\"/edge\",parent:\"root\",abstract:!0}),e.register({name:\"edge.groups\",url:\"/groups\",views:{\"content@\":{component:\"edgeGroupsView\"}}}),e.register({name:\"edge.groups.new\",url:\"/new\",views:{\"content@\":{component:\"createEdgeGroupView\"}}}),e.register({name:\"edge.groups.edit\",url:\"/:groupId\",views:{\"content@\":{component:\"editEdgeGroupView\"}}}),e.register({name:\"edge.stacks\",url:\"/stacks\",views:{\"content@\":{component:\"edgeStacksView\"}}}),e.register({name:\"edge.stacks.new\",url:\"/new\",views:{\"content@\":{component:\"createEdgeStackView\"}}}),e.register({name:\"edge.stacks.edit\",url:\"/:stackId\",views:{\"content@\":{component:\"editEdgeStackView\"}},params:{tab:0}}),e.register({name:\"edge.jobs\",url:\"/jobs\",views:{\"content@\":{component:\"edgeJobsView\"}}}),e.register({name:\"edge.jobs.job\",url:\"/:id\",views:{\"content@\":{component:\"edgeJobView\"}},params:{tab:0}}),e.register({name:\"edge.jobs.new\",url:\"/new\",views:{\"content@\":{component:\"createEdgeJobView\"}}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(16),i=(n(736),n(671)),s=n(495),r=n(680),o=n(537);const l=n(923),c=n(926),d=n(927),u=n(928),p=n(929),m=n(930),g=n(931),h=n(932),f=n(933),v=n(934),b=n(935),y=n(936),w=n(937),x=n(938),$=n(939),C=n(940),S=n(941),k=n(942),A=n(943),P=n(944),I=n(945),T=n(946),N=n(947),E=n(948),R=n(949);function D(e){if(!e)return!0;const t=e&&e.to(),n=t?t.name:\"\";return![\"portainer.logout\",\"portainer.auth\"].some(e=>n.startsWith(e))}angular.module(\"portainer.app\",[\"portainer.oauth\",\"portainer.rbac\",i.default,s.default,r.default,o.default,\"portainer.shared.datatable\"]).config([\"$stateRegistryProvider\",function(e){var t={name:\"root\",abstract:!0,onEnter:[\"$async\",\"StateManager\",\"Authentication\",\"Notifications\",\"authManager\",\"$rootScope\",\"$state\",function(e,t,n,i,s,r,o){return e(async()=>{if(t.getState().loading)try{const e=await async function(e,t,n,i){return e.checkAuthOnRefresh(),n.$on(\"unauthenticated\",(function(e,t){Object(a.a)(t.config.url,\"/v2/\")||Object(a.a)(t.config.url,\"/api/v4/\")||!D(i.transition)||i.go(\"portainer.logout\",{error:\"Your session has expired\"})})),await t.init()}(s,n,r,o);if(await t.initialize(),!e&&D(o.transition))return o.go(\"portainer.logout\"),Promise.reject(\"Unauthenticated\")}catch(e){throw i.error(\"Failure\",e,\"Unable to retrieve application settings\"),e}})}],views:{\"sidebar@\":{templateUrl:l,controller:\"SidebarController\"}},resolve:{featuresServiceInitialized:[\"$async\",\"featureService\",\"Notifications\",function(e,t,n){return e(async()=>{try{await t.init()}catch(e){throw n.error(\"Failed initializing features service\",e),e}})}]}},n={name:\"portainer.account\",url:\"/account\",views:{\"content@\":{templateUrl:c,controller:\"AccountController\"}}};var i={name:\"portainer.auth\",url:\"/auth\",params:{reload:!1},views:{\"content@\":{templateUrl:d,controller:\"AuthenticationController\",controllerAs:\"ctrl\"},\"sidebar@\":{}}};const s={name:\"portainer.logout\",url:\"/logout\",params:{error:\"\",performApiLogout:!1},views:{\"content@\":{templateUrl:u,controller:\"LogoutController\",controllerAs:\"ctrl\"},\"sidebar@\":{}}};var r={name:\"portainer.endpoints\",url:\"/endpoints\",views:{\"content@\":{templateUrl:p,controller:\"EndpointsController\"}}},o={name:\"portainer.endpoints.endpoint\",url:\"/:id\",views:{\"content@\":{templateUrl:m,controller:\"EndpointController\"}}};const O={name:\"portainer.k8sendpoint.kubernetesConfig\",url:\"/configure\",views:{\"content@\":{templateUrl:g,controller:\"KubernetesConfigureController\",controllerAs:\"ctrl\"}}};var V={name:\"portainer.endpoints.new\",url:\"/new\",views:{\"content@\":{templateUrl:h,controller:\"CreateEndpointController\"}}},U={name:\"portainer.endpoints.endpoint.access\",url:\"/access\",views:{\"content@\":{templateUrl:f,controller:\"EndpointAccessController\",controllerAs:\"ctrl\"}}},L={name:\"portainer.groups\",url:\"/groups\",views:{\"content@\":{templateUrl:v,controller:\"GroupsController\"}}},F={name:\"portainer.groups.group\",url:\"/:id\",views:{\"content@\":{templateUrl:b,controller:\"GroupController\"}}},_={name:\"portainer.groups.new\",url:\"/new\",views:{\"content@\":{templateUrl:y,controller:\"CreateGroupController\"}}},M={name:\"portainer.groups.group.access\",url:\"/access\",views:{\"content@\":{templateUrl:w,controller:\"GroupAccessController\"}}},j={name:\"portainer.home\",url:\"/home\",views:{\"content@\":{templateUrl:x,controller:\"HomeController\"}}};var B={name:\"portainer.init.endpoint\",url:\"/endpoint\",views:{\"content@\":{templateUrl:$,controller:\"InitEndpointController\",controllerAs:\"ctrl\"}}},K={name:\"portainer.init.admin\",url:\"/admin\",views:{\"content@\":{templateUrl:C,controller:\"InitAdminController\"}}},z={name:\"portainer.registries\",url:\"/registries\",views:{\"content@\":{templateUrl:S,controller:\"RegistriesController\"}}},G={name:\"portainer.registries.registry\",url:\"/:id\",views:{\"content@\":{templateUrl:k,controller:\"RegistryController\"}}};var H={name:\"portainer.settings\",url:\"/settings\",views:{\"content@\":{templateUrl:A,controller:\"SettingsController\"}}},q={name:\"portainer.settings.authentication\",url:\"/auth\",views:{\"content@\":{templateUrl:P,controller:\"SettingsAuthenticationController\"}}},W={name:\"portainer.tags\",url:\"/tags\",views:{\"content@\":{templateUrl:I,controller:\"TagsController\"}}},Y={name:\"portainer.users\",url:\"/users\",views:{\"content@\":{templateUrl:T,controller:\"UsersController\"}}},J={name:\"portainer.users.user\",url:\"/:id\",views:{\"content@\":{templateUrl:N,controller:\"UserController\"}}},Q={name:\"portainer.teams\",url:\"/teams\",views:{\"content@\":{templateUrl:E,controller:\"TeamsController\"}}},X={name:\"portainer.teams.team\",url:\"/:id\",views:{\"content@\":{templateUrl:R,controller:\"TeamController\"}}};e.register(t),e.register({name:\"endpoint\",url:\"/:endpointId\",parent:\"root\",abstract:!0,resolve:{endpoint:[\"$async\",\"$state\",\"$transition$\",\"EndpointService\",\"Notifications\",function(e,t,n,a,i){return e(async()=>{try{const e=+n.params().endpointId,i=await a.endpoint(e);return 4!==i.Type&&7!==i.Type||i.EdgeID?i:void t.go(\"portainer.endpoints.endpoint\",{id:i.Id})}catch(e){return i.error(\"Failed loading environment\",e),void t.go(\"portainer.home\",{},{reload:!0})}})}]}}),e.register({name:\"portainer\",parent:\"root\",abstract:!0}),e.register(n),e.register({name:\"portainer.account.new-access-token\",url:\"/tokens/new\",views:{\"content@\":{component:\"createUserAccessToken\"}}}),e.register(i),e.register(s),e.register(r),e.register(o),e.register({name:\"portainer.k8sendpoint\",url:\"/:id\"}),e.register(U),e.register(V),e.register(O),e.register(L),e.register(F),e.register(M),e.register(_),e.register(j),e.register({name:\"portainer.init\",abstract:!0,url:\"/init\",views:{\"sidebar@\":{}}}),e.register({name:\"portainer.wizard\",url:\"/wizard\",views:{\"content@\":{component:\"wizardView\"}}}),e.register({name:\"portainer.wizard.endpoints\",url:\"/endpoints\",views:{\"content@\":{component:\"wizardEndpoints\"}}}),e.register(B),e.register(K),e.register(z),e.register(G),e.register({name:\"portainer.registries.new\",url:\"/new\",views:{\"content@\":{component:\"createRegistry\"}}}),e.register(H),e.register(q),e.register(W),e.register(Y),e.register(J),e.register(Q),e.register(X)}])},function(e,t,n){\"use strict\";n.r(t);var a=n(464),i=n(466),s=n(468),r=n(672),o=n(470),l=n(471);function c(e){e.register({name:\"portainer.roles\",url:\"/roles\",views:{\"content@\":{component:\"rolesView\"}}})}c.$inject=[\"$stateRegistryProvider\"],angular.module(\"portainer.rbac\",[\"ngResource\"]).constant(\"API_ENDPOINT_ROLES\",\"api/roles\").component(\"accessViewer\",i.accessViewer).component(\"accessViewerDatatable\",s.accessViewerDatatable).component(\"rolesDatatable\",r.rolesDatatable).component(\"rolesView\",a.rolesView).factory(\"RoleService\",o.RoleService).factory(\"Roles\",l.RolesFactory).config(c)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";n.r(t);n(833),n(834),n(835),n(836),n(837),n(838),n(839),n(840),n(841),n(842),n(843),n(844),n(845),n(846),n(847)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){var n=\"app/azure/views/containerinstances/containerinstances.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Container list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"azure.containerinstances\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Container instances</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <containergroups-datatable\\n      title-text=\"Containers\"\\n      title-icon=\"fa-cubes\"\\n      dataset=\"containerGroups\"\\n      table-key=\"containergroups\"\\n      order-by=\"Name\"\\n      remove-action=\"deleteAction\"\\n    ></containergroups-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/azure/views/containerinstances/create/createcontainerinstance.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create container instance\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"azure.containerinstances\">Container instances</a> &gt; Add container </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" autocomplete=\"off\" name=\"aciForm\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Azure settings\\n          </div>\\n          \\x3c!-- subscription-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"azure_subscription\" class=\"col-sm-1 control-label text-left\">Subscription</label>\\n            <div class=\"col-sm-11\">\\n              <select\\n                class=\"form-control\"\\n                name=\"azure_subscription\"\\n                ng-model=\"state.selectedSubscription\"\\n                ng-options=\"subscription.Name for subscription in subscriptions\"\\n                ng-change=\"changeSubscription()\"\\n              ></select>\\n            </div>\\n          </div>\\n          \\x3c!-- !subscription-input --\\x3e\\n          \\x3c!-- resourcegroup-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"azure_resourcegroup\" class=\"col-sm-1 control-label text-left\">Resource group</label>\\n            <div class=\"col-sm-11\">\\n              <select\\n                class=\"form-control\"\\n                name=\"azure_resourcegroup\"\\n                ng-model=\"state.selectedResourceGroup\"\\n                ng-options=\"resourceGroup.Name for resourceGroup in resourceGroups\"\\n              ></select>\\n            </div>\\n          </div>\\n          \\x3c!-- !resourcegroup-input --\\x3e\\n          \\x3c!-- location-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"azure_location\" class=\"col-sm-1 control-label text-left\">Location</label>\\n            <div class=\"col-sm-11\">\\n              <select class=\"form-control\" name=\"azure_location\" ng-model=\"model.Location\" ng-options=\"location for location in locations\"></select>\\n            </div>\\n          </div>\\n          \\x3c!-- !location-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Container configuration\\n          </div>\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"model.Name\" name=\"container_name\" placeholder=\"e.g. myContainer\" required />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"aciForm.container_name.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"aciForm.container_name.$error\">\\n                <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Name is required. </p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- image-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"image_name\" class=\"col-sm-1 control-label text-left\">Image</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"model.Image\" name=\"image_name\" placeholder=\"e.g. nginx:alpine\" required />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"aciForm.image_name.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"aciForm.image_name.$error\">\\n                <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Image is required. </p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !image-input --\\x3e\\n          \\x3c!-- os-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_os\" class=\"col-sm-1 control-label text-left\">OS</label>\\n            <div class=\"col-sm-11\">\\n              <select class=\"form-control\" ng-model=\"model.OSType\" name=\"container_os\">\\n                <option value=\"Linux\">Linux</option>\\n                <option value=\"Windows\">Windows</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !os-input --\\x3e\\n          \\x3c!-- port-mapping --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\">Port mapping</label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addPortBinding()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> map additional port\\n              </span>\\n            </div>\\n            \\x3c!-- port-mapping-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n              <div ng-repeat=\"binding in model.Ports\" style=\"margin-top: 2px;\">\\n                \\x3c!-- host-port --\\x3e\\n                <div class=\"input-group col-sm-4 input-group-sm\">\\n                  <span class=\"input-group-addon\">host</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"binding.host\" placeholder=\"e.g. 80\" />\\n                </div>\\n                \\x3c!-- !host-port --\\x3e\\n                <span style=\"margin: 0 10px 0 10px;\">\\n                  <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                </span>\\n                \\x3c!-- container-port --\\x3e\\n                <div class=\"input-group col-sm-4 input-group-sm\">\\n                  <span class=\"input-group-addon\">container</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"binding.container\" placeholder=\"e.g. 80\" />\\n                </div>\\n                \\x3c!-- !container-port --\\x3e\\n                \\x3c!-- protocol-actions --\\x3e\\n                <div class=\"input-group col-sm-3 input-group-sm\">\\n                  <div class=\"btn-group btn-group-sm\">\\n                    <label class=\"btn btn-primary\" ng-model=\"binding.protocol\" uib-btn-radio=\"\\'TCP\\'\">TCP</label>\\n                    <label class=\"btn btn-primary\" ng-model=\"binding.protocol\" uib-btn-radio=\"\\'UDP\\'\">UDP</label>\\n                  </div>\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePortBinding($index)\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </div>\\n                \\x3c!-- !protocol-actions --\\x3e\\n              </div>\\n            </div>\\n            \\x3c!-- !port-mapping-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !port-mapping --\\x3e\\n          \\x3c!-- public-ip --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12 small text-muted\">This will automatically deploy a container with a public IP address</div>\\n          </div>\\n          \\x3c!-- public-ip --\\x3e\\n\\n          <div class=\"col-sm-12 form-section-title\">\\n            Container resources\\n          </div>\\n          \\x3c!-- cpu-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_cpu\" class=\"col-sm-1 control-label text-left\">CPU</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"number\" class=\"form-control\" ng-model=\"model.CPU\" name=\"container_cpu\" placeholder=\"1\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !cpu-input --\\x3e\\n          \\x3c!-- memory-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_memory\" class=\"col-sm-1 control-label text-left\">Memory</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"number\" class=\"form-control\" ng-model=\"model.Memory\" name=\"container_memory\" placeholder=\"1\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !memory-input --\\x3e\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"model.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"state.actionInProgress\" ng-click=\"create()\" button-spinner=\"state.actionInProgress\">\\n                <span ng-hide=\"state.actionInProgress\">Deploy the container</span>\\n                <span ng-show=\"state.actionInProgress\">Deployment in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px;\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/azure/views/dashboard/dashboard.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Home\"></rd-header-title>\\n  <rd-header-content>Dashboard</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"subscriptions\">\\n  <div class=\"col-sm-12 col-md-6\">\\n    <a ui-sref=\"azure.subscriptions\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-th-list\"></i>\\n          </div>\\n          <div class=\"title\">{{ subscriptions.length }}</div>\\n          <div class=\"comment\">Subscriptions</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n  <div class=\"col-sm-12 col-md-6\" ng-if=\"resourceGroups\">\\n    <a ui-sref=\"azure.resourceGroups\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-th-list\"></i>\\n          </div>\\n          <div class=\"title\">{{ resourceGroups.length }}</div>\\n          <div class=\"comment\">Resource groups</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/configs/configs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Configs list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.configs\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Configs</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <configs-datatable\\n      title-text=\"Configs\"\\n      title-icon=\"fa-file-code\"\\n      dataset=\"ctrl.configs\"\\n      table-key=\"configs\"\\n      order-by=\"Name\"\\n      remove-action=\"ctrl.removeAction\"\\n      refresh-callback=\"ctrl.getConfigs\"\\n    ></configs-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/configs/edit/config.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Config details\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.configs.config({id: config.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.configs\">Configs</a> &gt; <a ui-sref=\"docker.configs.config({id: config.Id})\">{{ config.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-file-code\" title-text=\"Config details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>{{ config.Name }}</td>\\n            </tr>\\n            <tr>\\n              <td>ID</td>\\n              <td>\\n                {{ config.Id }}\\n                <button authorization=\"DockerConfigDelete\" class=\"btn btn-xs btn-danger\" ng-click=\"removeConfig(config.Id)\"\\n                  ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Delete this config</button\\n                >\\n                <button authorization=\"DockerConfigCreate\" class=\"btn btn-xs btn-primary\" ui-sref=\"docker.configs.new({id: config.Id})\"\\n                  ><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Clone config</button\\n                >\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Created</td>\\n              <td>{{ config.CreatedAt | getisodate }}</td>\\n            </tr>\\n            <tr>\\n              <td>Last updated</td>\\n              <td>{{ config.UpdatedAt | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"!(config.Labels | emptyobject)\">\\n              <td>Labels</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"(k, v) in config.Labels\">\\n                    <td>{{ k }}</td>\\n                    <td>{{ v }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n\\x3c!-- access-control-panel --\\x3e\\n<por-access-control-panel ng-if=\"config\" resource-id=\"config.Id\" resource-control=\"config.ResourceControl\" resource-type=\"\\'config\\'\"> </por-access-control-panel>\\n\\x3c!-- !access-control-panel --\\x3e\\n\\n<div class=\"row\" ng-if=\"config\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-file-code\" title-text=\"Config content\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <code-editor identifier=\"config-editor\" yml=\"false\" read-only=\"true\" value=\"config.Data\"></code-editor>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/configs/create/createconfig.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create config\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.configs\">Configs</a> &gt; Add config </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"config_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"ctrl.formValues.Name\" id=\"config_name\" placeholder=\"e.g. myConfig\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- config-data --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" ng-if=\"ctrl.formValues.displayCodeEditor\">\\n              <code-editor\\n                identifier=\"config-creation-editor\"\\n                placeholder=\"Define or paste the content of your config here\"\\n                yml=\"false\"\\n                on-change=\"(ctrl.editorUpdate)\"\\n                value=\"ctrl.formValues.Data\"\\n              ></code-editor>\\n            </div>\\n          </div>\\n          \\x3c!-- !config-data --\\x3e\\n          \\x3c!-- labels --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n              <label class=\"control-label text-left\">Labels</label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"ctrl.addLabel()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label\\n              </span>\\n            </div>\\n            \\x3c!-- labels-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n              <div ng-repeat=\"label in ctrl.formValues.Labels\" style=\"margin-top: 2px;\">\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">name</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.name\" placeholder=\"e.g. com.example.foo\" />\\n                </div>\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">value</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                </div>\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"ctrl.removeLabel($index)\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !labels-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !labels--\\x3e\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"ctrl.formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!ctrl.formValues.Name\" ng-click=\"ctrl.create()\">Create config</button>\\n              <span class=\"text-danger\" ng-if=\"ctrl.state.formValidationError\" style=\"margin-left: 5px;\">{{ ctrl.state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/containers/containers.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Container list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.containers\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Containers</rd-header-content>\\n</rd-header>\\n<information-panel-offline ng-if=\"offlineMode\"></information-panel-offline>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\" ng-if=\"containers\">\\n    <containers-datatable\\n      title-text=\"Containers\"\\n      title-icon=\"fa-cubes\"\\n      dataset=\"containers\"\\n      table-key=\"containers\"\\n      order-by=\"Status\"\\n      show-host-column=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\"\\n      show-add-action=\"true\"\\n      offline-mode=\"offlineMode\"\\n      refresh-callback=\"getContainers\"\\n    ></containers-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/containers/edit/container.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Container details\"> </rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.containers\">Containers</a> &gt; <a ui-sref=\"docker.containers.container({id: container.Id})\">{{ container.Name | trimcontainername }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div\\n  class=\"row\"\\n  authorization=\"DockerContainerStart, DockerContainerStop, DockerContainerKill, DockerContainerRestart, DockerContainerPause, DockerContainerUnpause, DockerContainerDelete, DockerContainerCreate\"\\n>\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-cogs\" title-text=\"Actions\"></rd-widget-header>\\n      <rd-widget-body classes=\"padding\">\\n        <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n          <button authorization=\"DockerContainerStart\" class=\"btn btn-success btn-sm\" ng-click=\"start()\" ng-disabled=\"container.State.Running\"\\n            ><i class=\"fa fa-play space-right\" aria-hidden=\"true\"></i>Start</button\\n          >\\n          <button authorization=\"DockerContainerStop\" class=\"btn btn-danger btn-sm\" ng-click=\"stop()\" ng-disabled=\"!container.State.Running\"\\n            ><i class=\"fa fa-stop space-right\" aria-hidden=\"true\"></i>Stop</button\\n          >\\n          <button authorization=\"DockerContainerKill\" class=\"btn btn-danger btn-sm\" ng-click=\"kill()\" ng-disabled=\"!container.State.Running\"\\n            ><i class=\"fa fa-bomb space-right\" aria-hidden=\"true\"></i>Kill</button\\n          >\\n          <button authorization=\"DockerContainerRestart\" class=\"btn btn-primary btn-sm\" ng-click=\"restart()\" ng-disabled=\"!container.State.Running\"\\n            ><i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i>Restart</button\\n          >\\n          <button authorization=\"DockerContainerPause\" class=\"btn btn-primary btn-sm\" ng-click=\"pause()\" ng-disabled=\"!container.State.Running || container.State.Paused\"\\n            ><i class=\"fa fa-pause space-right\" aria-hidden=\"true\"></i>Pause</button\\n          >\\n          <button authorization=\"DockerContainerUnpause\" class=\"btn btn-primary btn-sm\" ng-click=\"unpause()\" ng-disabled=\"!container.State.Paused\"\\n            ><i class=\"fa fa-play space-right\" aria-hidden=\"true\"></i>Resume</button\\n          >\\n          <button authorization=\"DockerContainerDelete\" class=\"btn btn-danger btn-sm\" ng-click=\"confirmRemove()\"\\n            ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove</button\\n          >\\n        </div>\\n        <div class=\"btn-group\" role=\"group\" aria-label=\"...\" ng-if=\"displayRecreateButton\" authorization=\"DockerContainerCreate\">\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-danger btn-sm\"\\n            ng-disabled=\"state.recreateContainerInProgress\"\\n            ng-click=\"recreate()\"\\n            button-spinner=\"state.recreateContainerInProgress\"\\n          >\\n            <span ng-hide=\"state.recreateContainerInProgress\"><i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i>Recreate</span>\\n            <span ng-show=\"state.recreateContainerInProgress\">Recreation in progress...</span>\\n          </button>\\n          <a class=\"btn btn-primary btn-sm\" type=\"button\" ui-sref=\"docker.containers.new({ from: container.Id, nodeName: nodeName })\"\\n            ><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Duplicate/Edit</a\\n          >\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-server\" title-text=\"Container status\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>ID</td>\\n              <td>{{ container.Id }}</td>\\n            </tr>\\n            <tr>\\n              <td>Name</td>\\n              <td ng-if=\"!container.edit\">\\n                {{ container.Name | trimcontainername }}\\n                <a authorization=\"DockerContainerRename\" href=\"\" data-toggle=\"tooltip\" title=\"Edit container name\" ng-click=\"container.edit = true;\"><i class=\"fa fa-edit\"></i></a>\\n              </td>\\n              <td ng-if=\"container.edit\">\\n                <form ng-submit=\"renameContainer()\">\\n                  <input type=\"text\" class=\"containerNameInput\" ng-model=\"container.newContainerName\" />\\n                  <a href=\"\" ng-click=\"container.edit = false;\"><i class=\"fa fa-times\"></i></a>\\n                  <a href=\"\" ng-click=\"renameContainer()\"><i class=\"fa fa-check-square\"></i></a>\\n                </form>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"container.NetworkSettings.IPAddress\">\\n              <td>IP address</td>\\n              <td>{{ container.NetworkSettings.IPAddress }}</td>\\n            </tr>\\n            <tr>\\n              <td>Status</td>\\n              <td>\\n                <i class=\"fa fa-heartbeat space-right green-icon\" ng-if=\"container.State.Running\"></i>\\n                <i class=\"fa fa-heartbeat space-right red-icon\" ng-if=\"!container.State.Running && container.State.Status !== \\'created\\'\"></i>\\n                {{ container.State | getstatetext }} for {{ activityTime\\n                }}<span ng-if=\"!container.State.Running && container.State.Status !== \\'created\\'\"> with exit code {{ container.State.ExitCode }}</span>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Created</td>\\n              <td>{{ container.Created | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"container.State.Running\">\\n              <td>Start time</td>\\n              <td>{{ container.State.StartedAt | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"!container.State.Running && container.State.Status !== \\'created\\'\">\\n              <td>Finished</td>\\n              <td>{{ container.State.FinishedAt | getisodate }}</td>\\n            </tr>\\n            <tr authorization=\"DockerContainerLogs, DockerContainerInspect, DockerContainerStats, DockerExecStart\">\\n              <td colspan=\"2\">\\n                <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n                  <a authorization=\"DockerContainerLogs\" class=\"btn\" type=\"button\" ui-sref=\"docker.containers.container.logs({ id: container.Id })\"\\n                    ><i class=\"fa fa-file-alt space-right\" aria-hidden=\"true\"></i>Logs</a\\n                  >\\n                  <a authorization=\"DockerContainerInspect\" class=\"btn\" type=\"button\" ui-sref=\"docker.containers.container.inspect({ id: container.Id })\"\\n                    ><i class=\"fa fa-info-circle space-right\" aria-hidden=\"true\"></i>Inspect</a\\n                  >\\n                  <a authorization=\"DockerContainerStats\" class=\"btn\" type=\"button\" ui-sref=\"docker.containers.container.stats({ id: container.Id })\"\\n                    ><i class=\"fa fa-chart-area space-right\" aria-hidden=\"true\"></i>Stats</a\\n                  >\\n                  <a authorization=\"DockerExecStart\" class=\"btn\" type=\"button\" ui-sref=\"docker.containers.container.exec({ id: container.Id })\"\\n                    ><i class=\"fa fa-terminal space-right\" aria-hidden=\"true\"></i>Console</a\\n                  >\\n                  <a authorization=\"DockerContainerAttach\" class=\"btn\" type=\"button\" ui-sref=\"docker.containers.container.attach({ id: container.Id })\"\\n                    ><i class=\"fa fa-plug space-right\" aria-hidden=\"true\"></i>Attach</a\\n                  >\\n                </div>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n\\x3c!-- access-control-panel --\\x3e\\n<por-access-control-panel ng-if=\"container\" resource-id=\"container.Id\" resource-control=\"container.ResourceControl\" resource-type=\"\\'container\\'\"> </por-access-control-panel>\\n\\x3c!-- !access-control-panel --\\x3e\\n\\n<div ng-if=\"container.State.Health\" class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-server\" title-text=\"Container health\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Status</td>\\n              <td>\\n                <i\\n                  ng-class=\"\\n                    { healthy: \\'fa fa-heartbeat space-right green-icon\\', unhealthy: \\'fa fa-heartbeat space-right red-icon\\', starting: \\'fa fa-heartbeat space-right orange-icon\\' }[\\n                      container.State.Health.Status\\n                    ]\\n                  \"\\n                ></i>\\n                {{ container.State.Health.Status }}\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Failure count</td>\\n              <td>{{ container.State.Health.FailingStreak }}</td>\\n            </tr>\\n            <tr>\\n              <td>Last output</td>\\n              <td>{{ container.State.Health.Log[container.State.Health.Log.length - 1].Output }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" authorization=\"DockerImageCreate\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-clone\" title-text=\"Create image\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- tag-description --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\">\\n                You can create an image from this container, this allows you to backup important data or save helpful configurations. You\\'ll be able to spin up another container\\n                based on this image afterward.\\n              </span>\\n            </div>\\n          </div>\\n          \\x3c!-- !tag-description --\\x3e\\n          \\x3c!-- image-and-registry --\\x3e\\n          <por-image-registry\\n            model=\"config.RegistryModel\"\\n            auto-complete=\"true\"\\n            label-class=\"col-sm-1\"\\n            input-class=\"col-sm-11\"\\n            endpoint=\"endpoint\"\\n            is-admin=\"isAdmin\"\\n            set-validity=\"setPullImageValidity\"\\n            check-rate-limits=\"true\"\\n          ></por-image-registry>\\n          \\x3c!-- !image-and-registry --\\x3e\\n          \\x3c!-- tag-note --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\">Note: if you don\\'t specify the tag in the image name, <span class=\"label label-default\">latest</span> will be used.</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !tag-note --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"!state.pullImageValidity || !config.RegistryModel.Image || config.commitInProgress\"\\n                ng-click=\"commit()\"\\n              >\\n                Create\\n              </button>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-server\" title-text=\"Container details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table container-details-table\">\\n          <tbody>\\n            <tr>\\n              <td>Image</td>\\n              <td\\n                ><a ui-sref=\"docker.images.image({ id: container.Image, nodeName: nodeName })\">{{ container.Config.Image }}@{{ container.Image }}</a></td\\n              >\\n            </tr>\\n            <tr ng-if=\"portBindings.length > 0\">\\n              <td>Port configuration</td>\\n              <td>\\n                <div ng-repeat=\"portMapping in portBindings\"> {{ portMapping.host }} <i class=\"fa fa-long-arrow-alt-right\"></i> {{ portMapping.container }} </div>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>CMD</td>\\n              <td\\n                ><code>{{ container.Config.Cmd | command }}</code></td\\n              >\\n            </tr>\\n            <tr>\\n              <td>ENTRYPOINT</td>\\n              <td\\n                ><code>{{ container.Config.Entrypoint ? (container.Config.Entrypoint | command) : \\'null\\' }}</code></td\\n              >\\n            </tr>\\n            <tr>\\n              <td>ENV</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"var in container.Config.Env track by $index\">\\n                    <td>{{ var|key: \\'=\\' }}</td>\\n                    <td>{{ var|value: \\'=\\' }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!(container.Config.Labels | emptyobject)\">\\n              <td>Labels</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"(k, v) in container.Config.Labels\">\\n                    <td>{{ k }}</td>\\n                    <td>{{ v }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Restart policies</td>\\n              <td>\\n                <container-restart-policy\\n                  ng-if=\"container\"\\n                  name=\"container.HostConfig.RestartPolicy.Name\"\\n                  maximum-retry-count=\"container.HostConfig.RestartPolicy.MaximumRetryCount\"\\n                  update-restart-policy=\"updateRestartPolicy(name, maximumRetryCount)\"\\n                >\\n                </container-restart-policy>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!(container.HostConfig.Sysctls | emptyobject)\">\\n              <td>Sysctls</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"(k, v) in container.HostConfig.Sysctls\">\\n                    <td>{{ k }}</td>\\n                    <td>{{ v }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"container.Mounts.length > 0\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-hdd\" title-text=\"Volumes\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <thead>\\n            <tr>\\n              <th>Host/volume</th>\\n              <th>Path in container</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr ng-repeat=\"vol in container.Mounts\">\\n              <td ng-if=\"vol.Type === \\'bind\\'\">{{ vol.Source }}</td>\\n              <td ng-if=\"vol.Type === \\'volume\\'\"\\n                ><a ui-sref=\"docker.volumes.volume({ id: vol.Name, nodeName: nodeName })\">{{ vol.Name }}</a></td\\n              >\\n              <td>{{ vol.Destination }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <container-networks-datatable\\n      ng-if=\"container.NetworkSettings.Networks\"\\n      title-text=\"Connected networks\"\\n      title-icon=\"fa-sitemap\"\\n      dataset=\"container.NetworkSettings.Networks\"\\n      table-key=\"container-networks\"\\n      container=\"container\"\\n      available-networks=\"availableNetworks\"\\n      join-network-action=\"containerJoinNetwork\"\\n      join-network-action-in-progress=\"state.joinNetworkInProgress\"\\n      leave-network-action=\"containerLeaveNetwork\"\\n      leave-network-action-in-progress=\"state.leaveNetworkInProgress\"\\n      node-name=\"nodeName\"\\n    ></container-networks-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/containers/console/attach.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Container console\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.containers\">Containers</a> &gt; <a ui-sref=\"docker.containers.container({id: container.Id})\">{{ container.Name | trimcontainername }}</a> &gt; Console\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-init=\"autoconnectAttachView()\" ng-show=\"loaded\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-terminal\" title-text=\"Attach\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"small text-warning\" ng-if=\"!container.Config.OpenStdin\">\\n          <p>\\n            <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n            The interactive-flag is not set. You might not be able to use the console properly.\\n          </p>\\n        </div>\\n\\n        <div class=\"small text-warning\" ng-if=\"!container.Config.Tty\">\\n          <p>\\n            <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n            The TTY-flag is not set. You might not be able to use the console properly.\\n          </p>\\n        </div>\\n\\n        <div class=\"small text-danger\" ng-hide=\"container.State.Running\">\\n          <p>\\n            <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n            The container is not running.\\n          </p>\\n        </div>\\n\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-primary\"\\n          ng-disabled=\"state === states.connecting || !container.State.Running\"\\n          ng-click=\"state == states.disconnected ? connectAttach() : disconnect()\"\\n        >\\n          <span ng-show=\"state === states.disconnected\">Attach to Container</span>\\n          <span ng-show=\"state === states.connected\">Detach</span>\\n          <span ng-show=\"state === states.connecting\">Attaching...</span>\\n        </button>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <div id=\"terminal-container\" class=\"terminal-container\"></div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/containers/console/exec.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Container console\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.containers\">Containers</a> &gt; <a ui-sref=\"docker.containers.container({id: container.Id})\">{{ container.Name | trimcontainername }}</a> &gt; Console\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-init=\"initView()\" ng-show=\"loaded\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-terminal\" title-text=\"Execute\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div ng-if=\"state === states.disconnected\">\\n            \\x3c!-- command-list --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"command\" class=\"col-lg-1 text-left col-sm-2 control-label\">Command</label>\\n              <div class=\"col-lg-11 col-sm-10\">\\n                <div class=\"input-group\" ng-if=\"!formValues.isCustomCommand\">\\n                  <span class=\"input-group-addon\">\\n                    <i class=\"fab fa-linux\" aria-hidden=\"true\" ng-if=\"imageOS == \\'linux\\'\"></i>\\n                    <i class=\"fab fa-windows\" aria-hidden=\"true\" ng-if=\"imageOS == \\'windows\\'\"></i>\\n                  </span>\\n                  <select class=\"form-control\" ng-model=\"formValues.command\" id=\"command\">\\n                    <option value=\"ash\" ng-if=\"imageOS == \\'linux\\'\">/bin/ash</option>\\n                    <option value=\"bash\" ng-if=\"imageOS == \\'linux\\'\">/bin/bash</option>\\n                    <option value=\"sh\" ng-if=\"imageOS == \\'linux\\'\">/bin/sh</option>\\n                    <option value=\"powershell\" ng-if=\"imageOS == \\'windows\\'\">powershell</option>\\n                    <option value=\"cmd.exe\" ng-if=\"imageOS == \\'windows\\'\">cmd.exe</option>\\n                    <option ng-repeat=\"command in containerCommands\" value=\"{{ command.command }}\">{{ command.title }}: {{ command.command }}</option>\\n                  </select>\\n                </div>\\n                <input class=\"form-control\" ng-if=\"formValues.isCustomCommand\" type=\"text\" name=\"custom-command\" ng-model=\"formValues.customCommand\" placeholder=\"e.g. ps aux\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !command-list --\\x3e\\n            <div class=\"form-group col-lg-12\">\\n              <label for=\"command\" class=\"text-left control-label\">Use custom command</label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"formValues.isCustomCommand\" /><i></i> </label>\\n            </div>\\n            <div class=\"form-group\">\\n              <label for=\"username\" class=\"col-lg-1 text-left col-sm-2 control-label\">\\n                User\\n                <portainer-tooltip position=\"bottom\" message=\"Format is one of: user, user:group, uid or uid:gid\"></portainer-tooltip>\\n              </label>\\n              <div class=\"col-lg-11 col-sm-10\">\\n                <input class=\"form-control\" type=\"text\" name=\"username\" ng-model=\"formValues.user\" placeholder=\"root\" />\\n              </div>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button type=\"button\" class=\"btn btn-primary\" ng-disabled=\"!container.State.Running\" ng-click=\"connectExec()\">\\n                  <span>Connect</span>\\n                </button>\\n                <span class=\"small text-danger\" ng-hide=\"container.State.Running\">\\n                  <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                  The container is not running.\\n                </span>\\n              </div>\\n            </div>\\n          </div>\\n          <div ng-if=\"state !== states.disconnected\">\\n            <label\\n              >Exec into container as <code>{{ ::formValues.user || \\'default user\\' }}</code> using command\\n              <code>{{ formValues.isCustomCommand ? formValues.customCommand : formValues.command }}</code></label\\n            >\\n            <button type=\"button\" class=\"btn btn-primary\" ng-click=\"disconnect()\">\\n              <span ng-show=\"state === states.connected\">Disconnect</span>\\n              <span ng-show=\"state === states.connecting\">Connecting...</span>\\n            </button>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <div id=\"terminal-container\" class=\"terminal-container\"></div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/containers/create/createcontainer.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create container\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.containers\">Containers</a> &gt; Add container </rd-header-content>\\n</rd-header>\\n\\n<information-panel title-text=\"Caution\" ng-if=\"state.mode == \\'duplicate\\'\">\\n  <span class=\"small\">\\n    <p class=\"text-muted\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      The new container may fail to start if the image is changed, and settings from the previous container aren\\'t compatible. Common causes include entrypoint, cmd or\\n      <a href=\"http://portainer.readthedocs.io/en/stable/agent.html\" target=\"_blank\">other settings</a> set by an image.\\n    </p>\\n  </span>\\n</information-panel>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" autocomplete=\"off\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"config.name\" id=\"container_name\" placeholder=\"e.g. myContainer\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Image configuration\\n          </div>\\n          <div ng-if=\"!formValues.RegistryModel.Registry && fromContainer\">\\n            <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i>\\n            <span class=\"small text-danger\" style=\"margin-left: 5px;\">\\n              The Docker registry for the <code>{{ config.Image }}</code> image is not registered inside Portainer, you will not be able to create a container. Please register that\\n              registry first.\\n            </span>\\n          </div>\\n          <div ng-if=\"formValues.RegistryModel.Registry || !fromContainer\">\\n            \\x3c!-- image-and-registry --\\x3e\\n            <por-image-registry\\n              model=\"formValues.RegistryModel\"\\n              ng-if=\"formValues.RegistryModel.Registry\"\\n              auto-complete=\"true\"\\n              label-class=\"col-sm-1\"\\n              input-class=\"col-sm-11\"\\n              on-image-change=\"onImageNameChange()\"\\n              endpoint=\"endpoint\"\\n              is-admin=\"isAdmin\"\\n              check-rate-limits=\"formValues.alwaysPull\"\\n              set-validity=\"setPullImageValidity\"\\n            >\\n              \\x3c!-- always-pull --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\">\\n                  <label for=\"ownership\" class=\"control-label text-left\">\\n                    Always pull the image\\n                    <portainer-tooltip\\n                      position=\"bottom\"\\n                      message=\"When enabled, Portainer will automatically try to pull the specified image before creating the container.\"\\n                    ></portainer-tooltip>\\n                  </label>\\n                  <label class=\"switch\" style=\"margin-left: 20px;\">\\n                    <input type=\"checkbox\" ng-model=\"formValues.alwaysPull\" ng-disabled=\"!state.pullImageValidity\" /><i></i>\\n                  </label>\\n                </div>\\n              </div>\\n              \\x3c!-- !always-pull --\\x3e\\n            </por-image-registry>\\n            \\x3c!-- !image-and-registry --\\x3e\\n          </div>\\n          <div class=\"col-sm-12 form-section-title\">\\n            Network ports configuration\\n          </div>\\n          \\x3c!-- publish-exposed-ports --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\">\\n                Publish all exposed network ports to random host ports\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"When enabled, Portainer will let Docker automatically map a random port on the host to each one defined in the image Dockerfile.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"config.HostConfig.PublishAllPorts\" /><i></i> </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !publish-exposed-ports --\\x3e\\n          \\x3c!-- port-mapping --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\">\\n                Manual network port publishing\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"When a range of ports on the host and a single port on the container is specified, Docker will randomly choose a single available port in the defined range and forward that to the container port.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addPortBinding()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> publish a new network port\\n              </span>\\n            </div>\\n            \\x3c!-- port-mapping-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n              <div ng-repeat=\"portBinding in config.HostConfig.PortBindings\" style=\"margin-top: 2px;\">\\n                \\x3c!-- host-port --\\x3e\\n                <div class=\"input-group col-sm-4 input-group-sm\">\\n                  <span class=\"input-group-addon\">host</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"portBinding.hostPort\" placeholder=\"e.g. 80, 80-88, ip:80 or ip:80-88 (optional)\" />\\n                </div>\\n                \\x3c!-- !host-port --\\x3e\\n                <span style=\"margin: 0 10px 0 10px;\">\\n                  <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                </span>\\n                \\x3c!-- container-port --\\x3e\\n                <div class=\"input-group col-sm-4 input-group-sm\">\\n                  <span class=\"input-group-addon\">container</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"portBinding.containerPort\" placeholder=\"e.g. 80 or 80-88\" />\\n                </div>\\n                \\x3c!-- !container-port --\\x3e\\n                \\x3c!-- protocol-actions --\\x3e\\n                <div class=\"input-group col-sm-3 input-group-sm\">\\n                  <div class=\"btn-group btn-group-sm\">\\n                    <label class=\"btn btn-primary\" ng-model=\"portBinding.protocol\" uib-btn-radio=\"\\'tcp\\'\">TCP</label>\\n                    <label class=\"btn btn-primary\" ng-model=\"portBinding.protocol\" uib-btn-radio=\"\\'udp\\'\">UDP</label>\\n                  </div>\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePortBinding($index)\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </div>\\n                \\x3c!-- !protocol-actions --\\x3e\\n              </div>\\n            </div>\\n            \\x3c!-- !port-mapping-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !port-mapping --\\x3e\\n          <div ng-if=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Deployment\\n            </div>\\n            \\x3c!-- node-selection --\\x3e\\n            <node-selector model=\"formValues.NodeName\"> </node-selector>\\n            \\x3c!-- !node-selection --\\x3e\\n          </div>\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\" resource-control=\"fromContainer.ResourceControl\" ng-if=\"fromContainer\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          \\x3c!-- autoremove --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"ownership\" class=\"control-label text-left\">\\n                Auto remove\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"When enabled, Portainer will automatically remove the container when it exits. This is useful when you want to use the container only once.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"config.HostConfig.AutoRemove\" /><i></i> </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !autoremove --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !formValues.RegistryModel.Image || (!formValues.RegistryModel.Registry && fromContainer)\"\\n                ng-click=\"create()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Deploy the container</span>\\n                <span ng-show=\"state.actionInProgress\">Deployment in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px;\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-cog\" title-text=\"Advanced container settings\"></rd-widget-header>\\n      <rd-widget-body>\\n        <ul class=\"nav nav-pills nav-justified\">\\n          <li class=\"active interactive\"><a data-target=\"#command\" data-toggle=\"tab\">Command & logging</a></li>\\n          <li class=\"interactive\"><a data-target=\"#volumes\" data-toggle=\"tab\">Volumes</a></li>\\n          <li class=\"interactive\"><a data-target=\"#network\" data-toggle=\"tab\">Network</a></li>\\n          <li class=\"interactive\"><a data-target=\"#env\" data-toggle=\"tab\">Env</a></li>\\n          <li class=\"interactive\"><a data-target=\"#labels\" data-toggle=\"tab\">Labels</a></li>\\n          <li class=\"interactive\"><a data-target=\"#restart-policy\" data-toggle=\"tab\">Restart policy</a></li>\\n          <li class=\"interactive\"><a data-target=\"#runtime-resources\" ng-click=\"refreshSlider()\" data-toggle=\"tab\">Runtime & Resources</a></li>\\n          <li ng-if=\"areContainerCapabilitiesEnabled\" class=\"interactive\"><a data-target=\"#container-capabilities\" data-toggle=\"tab\">Capabilities</a></li>\\n        </ul>\\n        \\x3c!-- tab-content --\\x3e\\n        <div class=\"tab-content\">\\n          \\x3c!-- tab-command --\\x3e\\n          <div class=\"tab-pane active\" id=\"command\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n              \\x3c!-- command-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_command\" class=\"col-sm-2 col-lg-1 control-label text-left\">Command</label>\\n                <div class=\"col-sm-9\">\\n                  <div class=\"input-group\">\\n                    <div class=\"input-group-btn\">\\n                      <button class=\"btn btn-primary\" ng-model=\"formValues.CmdMode\" uib-btn-radio=\"\\'default\\'\" style=\"margin-left: 0px;\"> Default</button>\\n                      <button class=\"btn btn-primary\" ng-model=\"formValues.CmdMode\" uib-btn-radio=\"\\'override\\'\">Override</button>\\n                    </div>\\n                    <input\\n                      type=\"text\"\\n                      class=\"form-control\"\\n                      ng-model=\"config.Cmd\"\\n                      ng-disabled=\"formValues.CmdMode === \\'default\\'\"\\n                      id=\"container_command\"\\n                      placeholder=\"e.g. \\'-logtostderr\\' \\'--housekeeping_interval=5s\\' or /usr/bin/nginx -t -c /mynginx.conf\"\\n                    />\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !command-input --\\x3e\\n              \\x3c!-- entrypoint-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_entrypoint\" class=\"col-sm-2 col-lg-1 control-label text-left\">\\n                  Entrypoint\\n                  <portainer-tooltip\\n                    position=\"bottom\"\\n                    message=\"When container entrypoint is entered as part of the Command field, set Entrypoint to Override mode and leave blank, else it will revert to default.\"\\n                  ></portainer-tooltip>\\n                </label>\\n                <div class=\"col-sm-9\">\\n                  <div class=\"input-group\">\\n                    <div class=\"input-group-btn\">\\n                      <label class=\"btn btn-primary\" ng-model=\"formValues.EntrypointMode\" uib-btn-radio=\"\\'default\\'\" style=\"margin-left: 0px;\"> Default</label>\\n                      <label class=\"btn btn-primary\" ng-model=\"formValues.EntrypointMode\" uib-btn-radio=\"\\'override\\'\">Override</label>\\n                    </div>\\n                    <input\\n                      type=\"text\"\\n                      class=\"form-control\"\\n                      ng-model=\"config.Entrypoint\"\\n                      ng-disabled=\"formValues.EntrypointMode === \\'default\\'\"\\n                      id=\"container_entrypoint\"\\n                      placeholder=\"e.g. /bin/sh -c\"\\n                    />\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !entrypoint-input --\\x3e\\n              \\x3c!-- workdir-user-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_workingdir\" class=\"col-sm-2 col-lg-1 control-label text-left\">Working Dir</label>\\n                <div class=\"col-sm-4\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"config.WorkingDir\" id=\"container_workingdir\" placeholder=\"e.g. /myapp\" />\\n                </div>\\n                <label for=\"container_user\" class=\"col-sm-1 control-label text-left\">User</label>\\n                <div class=\"col-sm-4\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"config.User\" id=\"container_user\" placeholder=\"e.g. nginx\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !workdir-user-input --\\x3e\\n              \\x3c!-- console --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_console\" class=\"col-sm-2 col-lg-1 control-label text-left\">Console</label>\\n                <div class=\"col-sm-10 col-lg-11\">\\n                  <div class=\"col-sm-4\">\\n                    <label class=\"radio-inline\">\\n                      <input type=\"radio\" name=\"container_console\" ng-model=\"formValues.Console\" value=\"both\" />\\n                      Interactive & TTY <span class=\"small text-muted\">(-i -t)</span>\\n                    </label>\\n                  </div>\\n                  <div class=\"col-sm-4\">\\n                    <label class=\"radio-inline\">\\n                      <input type=\"radio\" name=\"container_console\" ng-model=\"formValues.Console\" value=\"interactive\" />\\n                      Interactive <span class=\"small text-muted\">(-i)</span>\\n                    </label>\\n                  </div>\\n                </div>\\n                <div class=\"col-sm-offset-2 col-sm-10 col-lg-offset-1 col-lg-11\">\\n                  <div class=\"col-sm-4\">\\n                    <label class=\"radio-inline\">\\n                      <input type=\"radio\" name=\"container_console\" ng-model=\"formValues.Console\" value=\"tty\" />\\n                      TTY <span class=\"small text-muted\">(-t)</span>\\n                    </label>\\n                  </div>\\n                  <div class=\"col-sm-4\">\\n                    <label class=\"radio-inline\">\\n                      <input type=\"radio\" name=\"container_console\" ng-model=\"formValues.Console\" value=\"none\" />\\n                      None\\n                    </label>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !console --\\x3e\\n\\n              <div class=\"col-sm-12 form-section-title\">\\n                Logging\\n              </div>\\n              \\x3c!-- logging-driver --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"log-driver\" class=\"col-sm-2 col-lg-1 control-label text-left\">Driver</label>\\n                <div class=\"col-sm-4\">\\n                  <select class=\"form-control\" ng-model=\"formValues.LogDriverName\" id=\"log-driver\">\\n                    <option selected value=\"\">Default logging driver</option>\\n                    <option ng-repeat=\"driver in availableLoggingDrivers\" ng-value=\"driver\">{{ driver }}</option>\\n                    <option value=\"none\">none</option>\\n                  </select>\\n                </div>\\n                <div class=\"col-sm-5\">\\n                  <p class=\"small text-muted\">\\n                    Logging driver that will override the default docker daemon driver. Select Default logging driver if you don\\'t want to override it. Supported logging drivers\\n                    can be found <a href=\"https://docs.docker.com/engine/admin/logging/overview/#supported-logging-drivers\" target=\"_blank\">in the Docker documentation</a>.\\n                  </p>\\n                </div>\\n              </div>\\n              \\x3c!-- !logging-driver --\\x3e\\n              \\x3c!-- logging-opts --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                  <label class=\"control-label text-left\">\\n                    Options\\n                    <portainer-tooltip\\n                      position=\"top\"\\n                      message=\"Add button is disabled unless a driver other than none or default is selected. Options are specific to the selected driver, refer to the driver documentation.\"\\n                    ></portainer-tooltip>\\n                  </label>\\n                  <span\\n                    class=\"label label-default interactive\"\\n                    style=\"margin-left: 10px;\"\\n                    ng-click=\"!formValues.LogDriverName || formValues.LogDriverName === \\'none\\' || addLogDriverOpt(formValues.LogDriverName)\"\\n                  >\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add logging driver option\\n                  </span>\\n                </div>\\n                \\x3c!-- logging-opts-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"opt in formValues.LogDriverOpts\" style=\"margin-top: 2px;\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">option</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"opt.name\" placeholder=\"e.g. FOO\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"opt.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLogDriverOpt($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- logging-opts-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !logging-opts --\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-command --\\x3e\\n          \\x3c!-- tab-volume --\\x3e\\n          <div class=\"tab-pane\" id=\"volumes\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n              \\x3c!-- volumes --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                  <label class=\"control-label text-left\">Volume mapping</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addVolume()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> map additional volume\\n                  </span>\\n                </div>\\n                \\x3c!-- volumes-input-list --\\x3e\\n                <div class=\"form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"volume in formValues.Volumes\">\\n                    \\x3c!-- volume-line1 --\\x3e\\n                    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                      \\x3c!-- container-path --\\x3e\\n                      <div class=\"input-group input-group-sm col-sm-6\">\\n                        <span class=\"input-group-addon\">container</span>\\n                        <input type=\"text\" class=\"form-control\" ng-model=\"volume.containerPath\" placeholder=\"e.g. /path/in/container\" />\\n                      </div>\\n                      \\x3c!-- !container-path --\\x3e\\n                      \\x3c!-- volume-type --\\x3e\\n                      <div class=\"input-group col-sm-5\" style=\"margin-left: 5px;\">\\n                        <div class=\"btn-group btn-group-sm\" ng-if=\"allowBindMounts\">\\n                          <label class=\"btn btn-primary\" ng-model=\"volume.type\" uib-btn-radio=\"\\'volume\\'\" ng-click=\"volume.name = \\'\\'\">Volume</label>\\n                          <label class=\"btn btn-primary\" ng-model=\"volume.type\" uib-btn-radio=\"\\'bind\\'\" ng-click=\"volume.name = \\'\\'\">Bind</label>\\n                        </div>\\n                        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeVolume($index)\">\\n                          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                        </button>\\n                      </div>\\n                      \\x3c!-- !volume-type --\\x3e\\n                    </div>\\n                    \\x3c!-- !volume-line1 --\\x3e\\n                    \\x3c!-- volume-line2 --\\x3e\\n                    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 5px;\">\\n                      <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                      \\x3c!-- volume --\\x3e\\n                      <div class=\"input-group input-group-sm col-sm-6\" ng-if=\"volume.type === \\'volume\\'\">\\n                        <span class=\"input-group-addon\">volume</span>\\n                        <select class=\"form-control\" ng-model=\"volume.name\">\\n                          <option selected disabled hidden value=\"\">Select a volume</option>\\n                          <option ng-repeat=\"vol in availableVolumes\" ng-value=\"vol.Name\">{{ vol.Name | truncate: 30 }} - {{ vol.Driver | truncate: 30 }}</option>\\n                        </select>\\n                      </div>\\n                      \\x3c!-- !volume --\\x3e\\n                      \\x3c!-- bind --\\x3e\\n                      <div class=\"input-group input-group-sm col-sm-6\" ng-if=\"volume.type === \\'bind\\'\">\\n                        <span class=\"input-group-addon\">host</span>\\n                        <input type=\"text\" class=\"form-control\" ng-model=\"volume.name\" placeholder=\"e.g. /path/on/host\" />\\n                      </div>\\n                      \\x3c!-- !bind --\\x3e\\n                      \\x3c!-- read-only --\\x3e\\n                      <div class=\"input-group input-group-sm col-sm-5\" style=\"margin-left: 5px;\">\\n                        <div class=\"btn-group btn-group-sm\">\\n                          <label class=\"btn btn-primary\" ng-model=\"volume.readOnly\" uib-btn-radio=\"false\">Writable</label>\\n                          <label class=\"btn btn-primary\" ng-model=\"volume.readOnly\" uib-btn-radio=\"true\">Read-only</label>\\n                        </div>\\n                      </div>\\n                      \\x3c!-- !read-only --\\x3e\\n                    </div>\\n                    \\x3c!-- !volume-line2 --\\x3e\\n                  </div>\\n                </div>\\n                \\x3c!-- !volumes-input-list --\\x3e\\n              </div>\\n            </form>\\n            \\x3c!-- !volumes --\\x3e\\n          </div>\\n          \\x3c!-- !tab-volume --\\x3e\\n          \\x3c!-- tab-network --\\x3e\\n          <div class=\"tab-pane\" id=\"network\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n              <div class=\"form-group\" ng-if=\"globalNetworkCount === 0 && applicationState.endpoint.mode.provider !== \\'DOCKER_SWARM_MODE\\'\">\\n                <div class=\"col-sm-12\">\\n                  <span class=\"small text-muted\">You don\\'t have any shared networks. Head over to the <a ui-sref=\"docker.networks\">networks view</a> to create one.</span>\\n                </div>\\n              </div>\\n              \\x3c!-- network-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_network\" class=\"col-sm-2 col-lg-1 control-label text-left\">Network</label>\\n                <div class=\"col-sm-9\">\\n                  <select\\n                    class=\"form-control\"\\n                    ng-options=\"net.Name as net.Name for net in availableNetworks\"\\n                    ng-model=\"config.HostConfig.NetworkMode\"\\n                    id=\"container_network\"\\n                    ng-change=\"resetNetworkConfig()\"\\n                  >\\n                    <option selected disabled hidden value=\"\">Select a network</option>\\n                  </select>\\n                </div>\\n              </div>\\n              \\x3c!-- !network-input --\\x3e\\n              \\x3c!-- container-name-input --\\x3e\\n              <div class=\"form-group\" ng-if=\"config.HostConfig.NetworkMode == \\'container\\'\">\\n                <label for=\"container_network_container\" class=\"col-sm-2 col-lg-1 control-label text-left\">Container</label>\\n                <div class=\"col-sm-9\">\\n                  <select ng-options=\"container|containername for container in runningContainers\" class=\"form-control\" ng-model=\"formValues.NetworkContainer\">\\n                    <option selected disabled hidden value=\"\">Select a container</option>\\n                  </select>\\n                </div>\\n              </div>\\n              \\x3c!-- !container-name-input --\\x3e\\n              \\x3c!-- hostname-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_hostname\" class=\"col-sm-2 col-lg-1 control-label text-left\">Hostname</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"config.Hostname\" id=\"container_hostname\" placeholder=\"e.g. web01\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !hostname-input --\\x3e\\n              \\x3c!-- domainname-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_domainname\" class=\"col-sm-2 col-lg-1 control-label text-left\">Domain Name</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"config.Domainname\" id=\"container_domainname\" placeholder=\"e.g. example.com\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !domainname --\\x3e\\n              \\x3c!-- mac-address-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_macaddress\" class=\"col-sm-2 col-lg-1 control-label text-left\">Mac Address</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.MacAddress\" id=\"container_macaddress\" placeholder=\"e.g. 12-34-56-78-9a-bc\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !mac-address-input --\\x3e\\n              \\x3c!-- ipv4-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_ipv4\" class=\"col-sm-2 col-lg-1 control-label text-left\">IPv4 Address</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPv4\" id=\"container_ipv4\" placeholder=\"e.g. 172.20.0.7\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !ipv4-input --\\x3e\\n              \\x3c!-- ipv6-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_ipv6\" class=\"col-sm-2 col-lg-1 control-label text-left\">IPv6 Address</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPv6\" id=\"container_ipv6\" placeholder=\"e.g. a:b:c:d::1234\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !ipv6-input --\\x3e\\n              \\x3c!-- dns-primary-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_dns_primary\" class=\"col-sm-2 col-lg-1 control-label text-left\">Primary DNS Server</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.DnsPrimary\" id=\"container_dns_primary\" placeholder=\"e.g. 1.1.1.1, 2606:4700:4700::1111\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !dns-primary-input --\\x3e\\n              \\x3c!-- dns-secondary-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_dns_secondary\" class=\"col-sm-2 col-lg-1 control-label text-left\">Secondary DNS Server</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.DnsSecondary\" id=\"container_dns_secondary\" placeholder=\"e.g. 1.0.0.1, 2606:4700:4700::1001\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !dns-secondary-input --\\x3e\\n              \\x3c!-- extra-hosts-variables --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                  <label class=\"control-label text-left\">Hosts file entries</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addExtraHost()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add additional entry\\n                  </span>\\n                </div>\\n                \\x3c!-- extra-hosts-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"variable in formValues.ExtraHosts\" style=\"margin-top: 2px;\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"variable.value\" placeholder=\"e.g. host:IP\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeExtraHost($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !extra-hosts-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !extra-hosts-variables --\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-network --\\x3e\\n          \\x3c!-- tab-labels --\\x3e\\n          <div class=\"tab-pane\" id=\"labels\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n              \\x3c!-- labels --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                  <label class=\"control-label text-left\">Labels</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addLabel()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label\\n                  </span>\\n                </div>\\n                \\x3c!-- labels-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"label in formValues.Labels\" style=\"margin-top: 2px;\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">name</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.name\" placeholder=\"e.g. com.example.foo\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !labels-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !labels--\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-labels --\\x3e\\n          \\x3c!-- tab-env --\\x3e\\n          <div class=\"tab-pane\" id=\"env\">\\n            <environment-variables-panel\\n              ng-model=\"formValues.Env\"\\n              explanation=\"These values will be applied to the container when deployed\"\\n              on-change=\"(handleEnvVarChange)\"\\n            ></environment-variables-panel>\\n          </div>\\n          \\x3c!-- !tab-env --\\x3e\\n          \\x3c!-- tab-restart-policy --\\x3e\\n          <div class=\"tab-pane\" id=\"restart-policy\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\">\\n                  <label class=\"control-label text-left\">\\n                    Restart policy\\n                  </label>\\n                  <div class=\"btn-group btn-group-sm\" style=\"margin-left: 20px;\">\\n                    <label class=\"btn btn-primary\" ng-model=\"config.HostConfig.RestartPolicy.Name\" uib-btn-radio=\"\\'no\\'\">\\n                      Never\\n                    </label>\\n                    <label class=\"btn btn-primary\" ng-model=\"config.HostConfig.RestartPolicy.Name\" uib-btn-radio=\"\\'always\\'\">\\n                      Always\\n                    </label>\\n                    <label class=\"btn btn-primary\" ng-model=\"config.HostConfig.RestartPolicy.Name\" uib-btn-radio=\"\\'on-failure\\'\">\\n                      On failure\\n                    </label>\\n                    <label class=\"btn btn-primary\" ng-model=\"config.HostConfig.RestartPolicy.Name\" uib-btn-radio=\"\\'unless-stopped\\'\">\\n                      Unless stopped\\n                    </label>\\n                  </div>\\n                </div>\\n              </div>\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-restart-policy --\\x3e\\n          \\x3c!-- tab-runtime-resources --\\x3e\\n          <div class=\"tab-pane\" id=\"runtime-resources\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n              <div class=\"col-sm-12 form-section-title\">\\n                Runtime\\n              </div>\\n              \\x3c!-- privileged-mode --\\x3e\\n              <div class=\"form-group\" ng-if=\"isAdmin || allowPrivilegedMode\">\\n                <div class=\"col-sm-12\">\\n                  <label for=\"privileged_mode\" class=\"control-label text-left\">\\n                    Privileged mode\\n                  </label>\\n                  <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" name=\"privileged_mode\" ng-model=\"config.HostConfig.Privileged\" /><i></i> </label>\\n                </div>\\n              </div>\\n              \\x3c!-- !privileged-mode --\\x3e\\n              \\x3c!-- init --\\x3e\\n              <div class=\"form-group\" ng-if=\"applicationState.endpoint.apiVersion >= 1.37\">\\n                <div class=\"col-sm-12\">\\n                  <label for=\"init\" class=\"control-label text-left\">\\n                    Init\\n                  </label>\\n                  <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" name=\"init\" ng-model=\"config.HostConfig.Init\" /><i></i> </label>\\n                </div>\\n              </div>\\n              \\x3c!-- !init --\\x3e\\n              \\x3c!-- runtimes --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_runtime\" class=\"col-sm-1 control-label text-left\">Runtime</label>\\n                <div class=\"col-sm-11\">\\n                  <select class=\"form-control\" ng-model=\"config.HostConfig.Runtime\" id=\"container_runtime\" ng-options=\"runtime for runtime in availableRuntimes\">\\n                    <option selected value=\"\">Default</option>\\n                  </select>\\n                </div>\\n              </div>\\n              \\x3c!-- !runtimes --\\x3e\\n            </form>\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n              \\x3c!-- devices --\\x3e\\n              <div ng-if=\"showDeviceMapping\" class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                  <label class=\"control-label text-left\">Devices</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addDevice()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add device\\n                  </span>\\n                </div>\\n                \\x3c!-- devices-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"device in config.HostConfig.Devices\" style=\"margin-top: 2px;\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">host</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"device.pathOnHost\" placeholder=\"e.g. /dev/tty0\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">container</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"device.pathInContainer\" placeholder=\"e.g. /dev/tty0\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeDevice($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !devices-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !devices--\\x3e\\n              \\x3c!-- sysctls --\\x3e\\n              <div ng-if=\"showSysctls\" class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                  <label class=\"control-label text-left\">Sysctls</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addSysctl()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add sysctl\\n                  </span>\\n                </div>\\n                \\x3c!-- sysctls-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"sysctl in formValues.Sysctls\" style=\"margin-top: 2px;\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">name</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"sysctl.name\" placeholder=\"e.g. FOO\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"sysctl.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeSysctl($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !sysctls-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !sysctls --\\x3e\\n              <div ng-class=\"{ \\'edit-resources\\': state.mode == \\'duplicate\\' }\">\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Resources\\n                </div>\\n                \\x3c!-- memory-reservation-input --\\x3e\\n                <div class=\"form-group\">\\n                  <label for=\"memory-reservation\" class=\"col-sm-3 col-lg-2 control-label text-left mt-20\">\\n                    Memory reservation\\n                  </label>\\n                  <div class=\"col-sm-3\">\\n                    <slider\\n                      on-change=\"(handleResourceChange)\"\\n                      model=\"formValues.MemoryReservation\"\\n                      floor=\"0\"\\n                      ceil=\"state.sliderMaxMemory\"\\n                      step=\"256\"\\n                      ng-if=\"state.sliderMaxMemory\"\\n                    ></slider>\\n                  </div>\\n                  <div class=\"col-sm-2\">\\n                    <input type=\"number\" min=\"0\" class=\"form-control\" ng-model=\"formValues.MemoryReservation\" id=\"memory-reservation\" />\\n                  </div>\\n                  <div class=\"col-sm-4\">\\n                    <p class=\"small text-muted mt-7\">\\n                      Memory soft limit (<b>MB</b>)\\n                    </p>\\n                  </div>\\n                </div>\\n                \\x3c!-- !memory-reservation-input --\\x3e\\n                \\x3c!-- memory-limit-input --\\x3e\\n                <div class=\"form-group\">\\n                  <label for=\"memory-limit\" class=\"col-sm-3 col-lg-2 control-label text-left mt-20\">\\n                    Memory limit\\n                  </label>\\n                  <div class=\"col-sm-3\">\\n                    <slider\\n                      on-change=\"(handleResourceChange)\"\\n                      model=\"formValues.MemoryLimit\"\\n                      floor=\"0\"\\n                      ceil=\"state.sliderMaxMemory\"\\n                      step=\"256\"\\n                      ng-if=\"state.sliderMaxMemory\"\\n                    ></slider>\\n                  </div>\\n                  <div class=\"col-sm-2\">\\n                    <input type=\"number\" min=\"0\" class=\"form-control\" ng-model=\"formValues.MemoryLimit\" id=\"memory-limit\" />\\n                  </div>\\n                  <div class=\"col-sm-4\">\\n                    <p class=\"small text-muted mt-7\">\\n                      Memory limit (<b>MB</b>)\\n                    </p>\\n                  </div>\\n                </div>\\n                \\x3c!-- !memory-limit-input --\\x3e\\n                \\x3c!-- cpu-limit-input --\\x3e\\n                <div class=\"form-group\">\\n                  <label for=\"cpu-limit\" class=\"col-sm-3 col-lg-2 control-label text-left mt-20\">\\n                    CPU limit\\n                  </label>\\n                  <div class=\"col-sm-5\">\\n                    <slider\\n                      on-change=\"(handleResourceChange)\"\\n                      model=\"formValues.CpuLimit\"\\n                      floor=\"0\"\\n                      ceil=\"state.sliderMaxCpu\"\\n                      step=\"0.25\"\\n                      precision=\"2\"\\n                      ng-if=\"state.sliderMaxCpu\"\\n                    ></slider>\\n                  </div>\\n                  <div class=\"col-sm-4 mt-20\">\\n                    <p class=\"small text-muted\">\\n                      Maximum CPU usage\\n                    </p>\\n                  </div>\\n                </div>\\n                \\x3c!-- !cpu-limit-input --\\x3e\\n\\n                \\x3c!-- update-limit-btn --\\x3e\\n                <div class=\"form-group\" ng-if=\"state.mode == \\'duplicate\\'\">\\n                  <div class=\"col-sm-12\">\\n                    <button\\n                      type=\"button\"\\n                      class=\"btn btn-primary btn-sm\"\\n                      ng-disabled=\"state.actionInProgress || !formValues.RegistryModel.Image || (!formValues.RegistryModel.Registry && fromContainer)\"\\n                      ng-click=\"update()\"\\n                      button-spinner=\"state.actionInProgress\"\\n                    >\\n                      <span ng-hide=\"state.actionInProgress\">Update Limits</span>\\n                      <span ng-show=\"state.actionInProgress\">Update in progress...</span>\\n                    </button>\\n                  </div>\\n                  <div class=\"col-sm-12\" ng-if=\"state.settingUnlimitedResources\">\\n                    <p class=\"text-muted mr-4\">\\n                      <i class=\"fa fa-exclamation-circle text-warning mt-10\" aria-hidden=\"true\"></i> Updating any resource value to \u2018unlimited\\' will redeploy this container.\\n                    </p>\\n                  </div>\\n                </div>\\n                \\x3c!-- !update-limit-btn --\\x3e\\n              </div>\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-runtime-resources --\\x3e\\n          \\x3c!-- tab-container-capabilities --\\x3e\\n          <div class=\"tab-pane\" id=\"container-capabilities\">\\n            <container-capabilities capabilities=\"formValues.capabilities\"></container-capabilities>\\n          </div>\\n          \\x3c!-- !tab-container-capabilities --\\x3e\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/containers/inspect/containerinspect.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Container inspect\"> </rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.containers\">Containers</a> &gt; <a ui-sref=\"docker.containers.container({id: containerInfo.Id})\">{{ containerInfo.Name | trimcontainername }}</a> &gt;\\n    Inspect\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-circle\" title-text=\"Inspect\">\\n        <span class=\"btn-group btn-group-sm\">\\n          <label class=\"btn btn-primary\" ng-model=\"state.DisplayTextView\" uib-btn-radio=\"false\"><i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i>Tree</label>\\n          <label class=\"btn btn-primary\" ng-model=\"state.DisplayTextView\" uib-btn-radio=\"true\"><i class=\"fa fa-file-alt space-right\" aria-hidden=\"true\"></i>Text</label>\\n        </span>\\n      </rd-widget-header>\\n      <rd-widget-body>\\n        <pre ng-show=\"state.DisplayTextView\">{{ containerInfo | json: 4 }}</pre>\\n        <json-tree ng-hide=\"state.DisplayTextView\" object=\"containerInfo\" root-name=\"containerInfo.Id\" start-expanded=\"true\"></json-tree>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/containers/logs/containerlogs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Container logs\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.containers\">Containers</a> &gt; <a ui-sref=\"docker.containers.container({id: container.Id})\">{{ container.Name | trimcontainername }}</a> &gt; Logs\\n  </rd-header-content>\\n</rd-header>\\n\\n<log-viewer\\n  data=\"logs\"\\n  ng-if=\"logs\"\\n  log-collection-change=\"changeLogCollection\"\\n  display-timestamps=\"state.displayTimestamps\"\\n  line-count=\"state.lineCount\"\\n  since-timestamp=\"state.sinceTimestamp\"\\n  resource-name=\"container.Name\"\\n></log-viewer>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/containers/stats/containerstats.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Container statistics\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.containers\">Containers</a> &gt; <a ui-sref=\"docker.containers.container({id: container.Id})\">{{ container.Name | trimcontainername }}</a> &gt; Stats\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-md-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-info-circle\" title-text=\"About statistics\"> </rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\">\\n                This view displays real-time statistics about the container <b>{{ container.Name | trimcontainername }}</b> as well as a list of the running processes inside this\\n                container.\\n              </span>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"refreshRate\" class=\"col-sm-3 col-md-2 col-lg-2 margin-sm-top control-label text-left\">\\n              Refresh rate\\n            </label>\\n            <div class=\"col-sm-3 col-md-2\">\\n              <select id=\"refreshRate\" ng-model=\"state.refreshRate\" ng-change=\"changeUpdateRepeater()\" class=\"form-control\">\\n                <option value=\"1\">1s</option>\\n                <option value=\"3\">3s</option>\\n                <option value=\"5\">5s</option>\\n                <option value=\"10\">10s</option>\\n                <option value=\"30\">30s</option>\\n                <option value=\"60\">60s</option>\\n              </select>\\n            </div>\\n            <span>\\n              <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n            </span>\\n          </div>\\n          <div class=\"form-group\" ng-if=\"state.networkStatsUnavailable\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\"> <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i> Network stats are unavailable for this container. </span>\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-if=\"state.ioStatsUnavailable\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\"> <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i> I/O stats are unavailable for this container. </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-6 col-md-6 col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-chart-area\" title-text=\"Memory usage\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"chart-container\" style=\"position: relative;\">\\n          <canvas id=\"memoryChart\" width=\"770\" height=\"300\"></canvas>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n\\n  <div class=\"col-lg-6 col-md-6 col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-chart-area\" title-text=\"CPU usage\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"chart-container\" style=\"position: relative;\">\\n          <canvas id=\"cpuChart\" width=\"770\" height=\"300\"></canvas>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n\\n  <div class=\"col-lg-6 col-md-6 col-sm-12\" ng-if=\"!state.networkStatsUnavailable\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-chart-area\" title-text=\"Network usage (aggregate)\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"chart-container\" style=\"position: relative;\">\\n          <canvas id=\"networkChart\" width=\"770\" height=\"300\"></canvas>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n\\n  <div class=\"col-lg-6 col-md-6 col-sm-12\" ng-if=\"!state.ioStatsUnavailable\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-chart-area\" title-text=\"I/O usage (aggregate)\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"chart-container\" style=\"position: relative;\">\\n          <canvas id=\"ioChart\" width=\"770\" height=\"300\"></canvas>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <container-processes-datatable\\n      title-text=\"Processes\"\\n      title-icon=\"fa-tasks\"\\n      dataset=\"processInfo.Processes\"\\n      headerset=\"processInfo.Titles\"\\n      table-key=\"container-processes\"\\n    ></container-processes-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/dashboard/dashboard.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Dashboard\"></rd-header-title>\\n  <rd-header-content>Environment summary</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\">\\n  <div class=\"col-sm-12\">\\n    <dashboard-cluster-agent-info></dashboard-cluster-agent-info>\\n  </div>\\n</div>\\n<information-panel-offline ng-if=\"offlineMode\"></information-panel-offline>\\n<information-panel\\n  ng-if=\"\\n    !applicationState.UI.dismissedInfoPanels[\\'docker-dashboard-info-01\\'] &&\\n    !applicationState.endpoint.mode.agentProxy &&\\n    applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\\n  \"\\n  title-text=\"Information\"\\n  dismiss-action=\"dismissInformationPanel(\\'docker-dashboard-info-01\\')\"\\n>\\n  <span class=\"small\">\\n    <p class=\"text-muted\" ng-if=\"applicationState.endpoint.mode.role === \\'MANAGER\\'\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      Portainer is connected to a node that is part of a Swarm cluster. Some resources located on other nodes in the cluster might not be available for management, have a look at\\n      <a href=\"http://portainer.readthedocs.io/en/stable/agent.html\" target=\"_blank\">our agent setup</a> for more details.\\n    </p>\\n    <p class=\"text-muted\" ng-if=\"applicationState.endpoint.mode.role === \\'WORKER\\'\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      Portainer is connected to a worker node. Swarm management features will not be available.\\n    </p>\\n  </span>\\n</information-panel>\\n\\n<div class=\"row\" ng-if=\"(!applicationState.endpoint.mode.agentProxy || applicationState.endpoint.mode.provider !== \\'DOCKER_SWARM_MODE\\') && info && endpoint\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-tachometer-alt\" title-text=\"Environment info\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Environment</td>\\n              <td>\\n                {{ endpoint.Name }}\\n                <span class=\"small text-muted space-left\">\\n                  <i class=\"fa fa-microchip\"></i> {{ endpoint.Snapshots[0].TotalCPU }} <i class=\"fa fa-memory space-left\"></i> {{ endpoint.Snapshots[0].TotalMemory | humansize }}\\n                </span>\\n                <span class=\"small text-muted\">\\n                  - {{ info.Swarm && info.Swarm.NodeID !== \\'\\' ? \\'Swarm\\' : \\'Standalone\\' }} {{ info.ServerVersion }}\\n                  <span ng-if=\"endpoint.Type === 2\">+ <i class=\"fa fa-bolt\" aria-hidden=\"true\"></i> Agent</span></span\\n                >\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>URL</td>\\n              <td>{{ endpoint.URL | stripprotocol }}</td>\\n            </tr>\\n            <tr>\\n              <td>Tags</td>\\n              <td>{{ endpointTags }}</td>\\n            </tr>\\n            <tr ng-if=\"applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\' && applicationState.endpoint.mode.role === \\'MANAGER\\'\">\\n              <td colspan=\"2\">\\n                <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n                  <a ui-sref=\"docker.swarm.visualizer\"><i class=\"fa fa-object-group space-right\" aria-hidden=\"true\"></i>Go to cluster visualizer</a>\\n                </div>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-xs-12 col-md-6\" ng-if=\"showStacks\">\\n    <a ui-sref=\"docker.stacks\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-th-list\"></i>\\n          </div>\\n          <div class=\"title\">{{ stackCount }}</div>\\n          <div class=\"comment\">{{ stackCount === 1 ? \\'Stack\\' : \\'Stacks\\' }}</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n  <div class=\"col-xs-12 col-md-6\" ng-if=\"applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\' && applicationState.endpoint.mode.role === \\'MANAGER\\'\">\\n    <a ui-sref=\"docker.services\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-list-alt\"></i>\\n          </div>\\n          <div class=\"title\">{{ serviceCount }}</div>\\n          <div class=\"comment\">{{ serviceCount === 1 ? \\'Service\\' : \\'Services\\' }}</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n  <div class=\"col-xs-12 col-md-6\" ng-if=\"containers\">\\n    <a ui-sref=\"docker.containers\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-cubes\"></i>\\n          </div>\\n          <div class=\"pull-right\" style=\"padding-left: 5px;\">\\n            <div><i class=\"fa fa-power-off space-right green-icon\"></i>{{ containers | runningcontainers }} running</div>\\n            <div><i class=\"fa fa-power-off space-right red-icon\"></i>{{ containers | stoppedcontainers }} stopped</div>\\n          </div>\\n          <div class=\"pull-right\" style=\"padding-right: 5px;\">\\n            <div><i class=\"fa fa-heartbeat space-right green-icon\"></i>{{ containers | healthycontainers }} healthy</div>\\n            <div><i class=\"fa fa-heartbeat space-right orange-icon\"></i>{{ containers | unhealthycontainers }} unhealthy</div>\\n          </div>\\n          <div class=\"title\">{{ containers.length }}</div>\\n          <div class=\"comment\">{{ containers.length === 1 ? \\'Container\\' : \\'Containers\\' }}</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n  <div class=\"col-xs-12 col-md-6\" ng-if=\"images\">\\n    <a ui-sref=\"docker.images\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-clone\"></i>\\n          </div>\\n          <div class=\"pull-right\">\\n            <div><i class=\"fa fa-chart-pie space-right\"></i>{{ images | imagestotalsize | humansize }}</div>\\n          </div>\\n          <div class=\"title\">{{ images.length }}</div>\\n          <div class=\"comment\">{{ images.length === 1 ? \\'Image\\' : \\'Images\\' }}</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n  <div class=\"col-xs-12 col-md-6\">\\n    <a ui-sref=\"docker.volumes\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-hdd\"></i>\\n          </div>\\n          <div class=\"title\">{{ volumeCount }}</div>\\n          <div class=\"comment\">{{ volumeCount === 1 ? \\'Volume\\' : \\'Volumes\\' }}</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n  <div class=\"col-xs-12 col-md-6\">\\n    <a ui-sref=\"docker.networks\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div class=\"widget-icon blue pull-left\">\\n            <i class=\"fa fa-sitemap\"></i>\\n          </div>\\n          <div class=\"title\">{{ networkCount }}</div>\\n          <div class=\"comment\">{{ networkCount === 1 ? \\'Network\\' : \\'Networks\\' }}</div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </a>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/events/events.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Event list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.events\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Events</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <events-datatable title-text=\"Events\" title-icon=\"fa-history\" dataset=\"events\" table-key=\"events\" order-by=\"Time\" reverse-order=\"true\"></events-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/images/images.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Image list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.images\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Images</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"!offlineMode\" authorization=\"DockerImageCreate\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-download\" title-text=\"Pull image \"> </rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- image-and-registry --\\x3e\\n          <por-image-registry\\n            model=\"formValues.RegistryModel\"\\n            auto-complete=\"true\"\\n            label-class=\"col-sm-1\"\\n            input-class=\"col-sm-11\"\\n            endpoint=\"endpoint\"\\n            is-admin=\"isAdmin\"\\n            set-validity=\"setPullImageValidity\"\\n            check-rate-limits=\"true\"\\n          >\\n            <div ng-if=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\">\\n              <div class=\"col-sm-12 form-section-title\">\\n                Deployment\\n              </div>\\n              \\x3c!-- node-selection --\\x3e\\n              <node-selector model=\"formValues.NodeName\"> </node-selector>\\n              \\x3c!-- !node-selection --\\x3e\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"state.actionInProgress || !formValues.RegistryModel.Image || !state.pullRateValid\"\\n                  ng-click=\"pullImage()\"\\n                  button-spinner=\"state.actionInProgress\"\\n                >\\n                  <span ng-hide=\"state.actionInProgress\">Pull the image</span>\\n                  <span ng-show=\"state.actionInProgress\">Download in progress...</span>\\n                </button>\\n              </div>\\n            </div>\\n          </por-image-registry>\\n          \\x3c!-- !image-and-registry --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n<information-panel-offline ng-if=\"offlineMode\"></information-panel-offline>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <images-datatable\\n      title-text=\"Images\"\\n      title-icon=\"fa-clone\"\\n      dataset=\"images\"\\n      table-key=\"images\"\\n      order-by=\"RepoTags\"\\n      show-host-column=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\"\\n      download-action=\"downloadAction\"\\n      remove-action=\"removeAction\"\\n      force-remove-action=\"confirmRemovalAction\"\\n      export-in-progress=\"state.exportInProgress\"\\n      offline-mode=\"offlineMode\"\\n      refresh-callback=\"getImages\"\\n    ></images-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/images/edit/image.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Image details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.images\">Images</a> &gt; <a ui-sref=\"docker.images.image({id: image.Id})\">{{ image.Id }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"image.RepoTags.length > 0\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa fa-tags\" title-text=\"Image tags\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"form-group\">\\n            <div class=\"row\">\\n              <div class=\"pull-left\" ng-repeat=\"tag in image.RepoTags\" style=\"display: table;\">\\n                <div class=\"input-group col-md-1\" style=\"padding: 0 15px;\">\\n                  <span class=\"input-group-addon\">{{ tag }}</span>\\n                  <span class=\"input-group-btn\" authorization=\"DockerImagePush, DockerImageCreate, DockerImageDelete\">\\n                    <a data-toggle=\"tooltip\" class=\"btn btn-primary interactive\" title=\"Push to registry\" ng-click=\"pushTag(tag)\" authorization=\"DockerImagePush\">\\n                      <span class=\"fa fa-upload white-icon\" aria-hidden=\"true\"></span>\\n                    </a>\\n                    <a data-toggle=\"tooltip\" class=\"btn btn-primary interactive\" title=\"Pull from registry\" ng-click=\"pullTag(tag)\" authorization=\"DockerImageCreate\">\\n                      <span class=\"fa fa-download white-icon\" aria-hidden=\"true\"></span>\\n                    </a>\\n                    <a data-toggle=\"tooltip\" class=\"btn btn-primary interactive\" title=\"Remove tag\" ng-click=\"removeTag(tag)\" authorization=\"DockerImageDelete\">\\n                      <span class=\"fa fa-trash-alt white-icon\" aria-hidden=\"true\"></span>\\n                    </a>\\n                  </span>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\">\\n                Note: you can click on the upload icon <span class=\"fa fa-upload\" aria-hidden=\"true\"></span> to push an image or on the download icon\\n                <span class=\"fa fa-download\" aria-hidden=\"true\"></span> to pull an image or on the trash icon <span class=\"fa fa-trash-alt\" aria-hidden=\"true\"></span> to delete a\\n                tag.\\n              </span>\\n            </div>\\n            <div class=\"col-sm-12\">\\n              <span id=\"downloadResourceHint\" class=\"createResource\" style=\"display: none; margin-left: 0;\">\\n                Download in progress...\\n                <i class=\"fa fa-circle-notch fa-spin\" aria-hidden=\"true\" style=\"margin-left: 2px;\"></i>\\n              </span>\\n              <span id=\"uploadResourceHint\" class=\"createResource\" style=\"display: none; margin-left: 0;\">\\n                Upload in progress...\\n                <i class=\"fa fa-circle-notch fa-spin\" aria-hidden=\"true\" style=\"margin-left: 2px;\"></i>\\n              </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" authorization=\"DockerImageCreate\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-tag\" title-text=\"Tag the image\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- image-and-registry --\\x3e\\n          <por-image-registry\\n            model=\"formValues.RegistryModel\"\\n            label-class=\"col-sm-1\"\\n            input-class=\"col-sm-11\"\\n            endpoint=\"endpoint\"\\n            is-admin=\"isAdmin\"\\n            set-validity=\"setPullImageValidity\"\\n            check-rate-limits=\"true\"\\n          ></por-image-registry>\\n          \\x3c!-- !image-and-registry --\\x3e\\n          \\x3c!-- tag-note --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\">Note: if you don\\'t specify the tag in the image name, <span class=\"label label-default\">latest</span> will be used.</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !tag-note --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!formValues.RegistryModel.Image\" ng-click=\"tagImage()\">Tag</button>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-clone\" title-text=\"Image details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>ID</td>\\n              <td>\\n                {{ image.Id }}\\n                <button authorization=\"DockerImageDelete\" class=\"btn btn-xs btn-danger\" ng-click=\"removeImage(image.Id)\"\\n                  ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Delete this image</button\\n                >\\n                <button\\n                  authorization=\"DockerImageGet\"\\n                  class=\"btn btn-xs btn-primary\"\\n                  ng-click=\"exportImage(image)\"\\n                  button-spinner=\"$ctrl.exportInProgress\"\\n                  ng-disabled=\"state.exportInProgress\"\\n                >\\n                  <i class=\"fa fa-download space-right\" aria-hidden=\"true\"></i>\\n                  <span ng-hide=\"state.exportInProgress\">Export this image</span>\\n                  <span ng-show=\"state.exportInProgress\">Export in progress...</span>\\n                </button>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"image.Parent\">\\n              <td>Parent</td>\\n              <td\\n                ><a ui-sref=\"docker.images.image({id: image.Parent})\">{{ image.Parent }}</a></td\\n              >\\n            </tr>\\n            <tr>\\n              <td>Size</td>\\n              <td>{{ image.VirtualSize | humansize }}</td>\\n            </tr>\\n            <tr>\\n              <td>Created</td>\\n              <td>{{ image.Created | getisodate }}</td>\\n            </tr>\\n            <tr>\\n              <td>Build</td>\\n              <td>Docker {{ image.DockerVersion }} on {{ image.Os }}, {{ image.Architecture }}</td>\\n            </tr>\\n            <tr ng-if=\"!(image.Labels | emptyobject)\">\\n              <td>Labels</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"(k, v) in image.Labels\">\\n                    <td>{{ k }}</td>\\n                    <td>{{ v }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"image.Author\">\\n              <td>Author</td>\\n              <td>{{ image.Author }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-clone\" title-text=\"Dockerfile details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>CMD</td>\\n              <td\\n                ><code>{{ image.Command | command }}</code></td\\n              >\\n            </tr>\\n            <tr ng-if=\"image.Entrypoint\">\\n              <td>ENTRYPOINT</td>\\n              <td\\n                ><code>{{ image.Entrypoint | command }}</code></td\\n              >\\n            </tr>\\n            <tr ng-if=\"image.ExposedPorts.length > 0\">\\n              <td>EXPOSE</td>\\n              <td>\\n                <span class=\"label label-default space-right\" ng-repeat=\"port in image.ExposedPorts\">\\n                  {{ port }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"image.Volumes.length > 0\">\\n              <td>VOLUME</td>\\n              <td>\\n                <span class=\"label label-default space-right\" ng-repeat=\"volume in image.Volumes\">\\n                  {{ volume }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"image.Env.length > 0\">\\n              <td>ENV</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"var in image.Env\">\\n                    <td>{{ var|key: \\'=\\' }}</td>\\n                    <td>{{ var|value: \\'=\\' }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n<div class=\"row\" ng-if=\"history.length > 0\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-clone\" title-text=\"Image layers\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table id=\"image-layers\" class=\"table\">\\n          <thead>\\n            <th style=\"white-space: nowrap;\">\\n              <a ng-click=\"order(\\'Order\\')\">\\n                Order\\n                <span ng-show=\"sortType == \\'Order\\' && !sortReverse\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                <span ng-show=\"sortType == \\'Order\\' && sortReverse\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n              </a>\\n            </th>\\n            <th>\\n              <a ng-click=\"order(\\'Size\\')\">\\n                Size\\n                <span ng-show=\"sortType == \\'Size\\' && !sortReverse\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                <span ng-show=\"sortType == \\'Size\\' && sortReverse\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n              </a>\\n            </th>\\n            <th>\\n              <a ng-click=\"order(\\'CreatedBy\\')\">\\n                Layer\\n                <span ng-show=\"sortType == \\'CreatedBy\\' && !sortReverse\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                <span ng-show=\"sortType == \\'CreatedBy\\' && sortReverse\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n              </a>\\n            </th>\\n          </thead>\\n          <tbody>\\n            <tr ng-repeat=\"layer in history | orderBy:sortType:sortReverse\">\\n              <td style=\"white-space: nowrap;\">\\n                {{ layer.Order }}\\n              </td>\\n              <td style=\"white-space: nowrap;\">\\n                {{ layer.Size | humansize }}\\n              </td>\\n              <td class=\"expand\">\\n                <div ng-if=\"layer.CreatedBy.length > 130\">\\n                  <span id=\"layer-command-{{ $index }}-full\" style=\"display: none;\">\\n                    {{ layer.CreatedBy | imagelayercommand }}\\n                  </span>\\n                  <span id=\"layer-command-{{ $index }}-short\">\\n                    {{ layer.CreatedBy | imagelayercommand | truncate: 130 }}\\n                    <span ng-if=\"layer.CreatedBy.length > 130\" style=\"margin-left: 5px;\">\\n                      <a id=\"layer-command-expander{{ $index }}\" class=\"btn\" ng-click=\"toggleLayerCommand($index)\">\\n                        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i>\\n                      </a>\\n                    </span>\\n                  </span>\\n                </div>\\n                <div ng-if=\"layer.CreatedBy.length <= 130\">\\n                  <span id=\"layer-command-{{ $index }}-full\">\\n                    {{ layer.CreatedBy | imagelayercommand }}\\n                  </span>\\n                </div>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/images/build/buildimage.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Build image\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.images\">Images</a> &gt; Build image </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <uib-tabset active=\"state.activeTab\">\\n          <uib-tab index=\"0\">\\n            <uib-tab-heading> <i class=\"fa fa-wrench space-right\" aria-hidden=\"true\"></i> Builder </uib-tab-heading>\\n            <form class=\"form-horizontal\">\\n              <div class=\"col-sm-12 form-section-title\">\\n                Naming\\n              </div>\\n              \\x3c!-- names --\\x3e\\n              <div class=\"form-group\">\\n                <span class=\"col-sm-12 text-muted small\">\\n                  You can specify multiple names to your image.\\n                </span>\\n              </div>\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\">\\n                  <label class=\"control-label text-left\">Names</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addImageName()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add additional name\\n                  </span>\\n                </div>\\n              </div>\\n              \\x3c!-- !names --\\x3e\\n              <div class=\"form-group\" ng-if=\"formValues.ImageNames.length === 0\">\\n                <span class=\"col-sm-12 text-danger small\">\\n                  <i class=\"fa fa-exclamation-triangle space-right\" aria-hidden=\"true\"></i>You must specify at least one name for the image.\\n                </span>\\n              </div>\\n              \\x3c!-- name-input-list --\\x3e\\n              <div ng-if=\"formValues.ImageNames.length > 0\">\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\">\\n                    A name must be specified in one of the following formats: <code>name:tag</code>, <code>repository/name:tag</code> or\\n                    <code>registryfqdn:port/repository/name:tag</code> format. If you omit the tag the default <b>latest</b> value is assumed.\\n                  </span>\\n                </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                      <div ng-repeat=\"item in formValues.ImageNames track by $index\" style=\"margin-top: 2px;\">\\n                        \\x3c!-- name-input --\\x3e\\n                        <div class=\"input-group col-sm-5 input-group-sm\">\\n                          <span class=\"input-group-addon\">name</span>\\n                          <input type=\"text\" class=\"form-control\" ng-model=\"item.Name\" placeholder=\"e.g. my-image:my-tag\" auto-focus />\\n                          <span class=\"input-group-addon\"\\n                            ><i ng-class=\"{ true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[item.Name !== \\'\\']\" aria-hidden=\"true\"></i\\n                          ></span>\\n                        </div>\\n                        \\x3c!-- !name-input --\\x3e\\n                        \\x3c!-- actions --\\x3e\\n                        <div class=\"input-group col-sm-2 input-group-sm\">\\n                          <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeImageName($index)\">\\n                            <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                          </button>\\n                        </div>\\n                        \\x3c!-- !actions --\\x3e\\n                      </div>\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !name-input-list --\\x3e\\n              \\x3c!-- build-method --\\x3e\\n              <div class=\"col-sm-12 form-section-title\">\\n                Build method\\n              </div>\\n              <div class=\"form-group\"></div>\\n              <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n                <div class=\"boxselector_wrapper\">\\n                  <div>\\n                    <input type=\"radio\" id=\"method_editor\" ng-model=\"state.BuildType\" value=\"editor\" ng-click=\"toggleEditor()\" />\\n                    <label for=\"method_editor\">\\n                      <div class=\"boxselector_header\">\\n                        <i class=\"fa fa-edit\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                        Web editor\\n                      </div>\\n                      <p>Use our Web editor</p>\\n                    </label>\\n                  </div>\\n                  <div>\\n                    <input type=\"radio\" id=\"method_upload\" ng-model=\"state.BuildType\" value=\"upload\" ng-click=\"saveEditorContent()\" />\\n                    <label for=\"method_upload\">\\n                      <div class=\"boxselector_header\">\\n                        <i class=\"fa fa-upload\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                        Upload\\n                      </div>\\n                      <p>Upload a tarball or a Dockerfile from your computer</p>\\n                    </label>\\n                  </div>\\n                  <div>\\n                    <input type=\"radio\" id=\"method_url\" ng-model=\"state.BuildType\" value=\"url\" ng-click=\"saveEditorContent()\" />\\n                    <label for=\"method_url\">\\n                      <div class=\"boxselector_header\">\\n                        <i class=\"fa fa-globe\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                        URL\\n                      </div>\\n                      <p>Specify a URL to a file</p>\\n                    </label>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !build-method --\\x3e\\n              \\x3c!-- web-editor --\\x3e\\n              <div ng-show=\"state.BuildType === \\'editor\\'\">\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Web editor\\n                </div>\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\">\\n                    You can get more information about Dockerfile format in the\\n                    <a href=\"https://docs.docker.com/engine/reference/builder/\" target=\"_blank\">official documentation</a>.\\n                  </span>\\n                </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <code-editor\\n                      identifier=\"image-build-editor\"\\n                      placeholder=\"Define or paste the content of your Dockerfile here\"\\n                      yml=\"false\"\\n                      on-change=\"(editorUpdate)\"\\n                    ></code-editor>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !web-editor --\\x3e\\n              \\x3c!-- upload --\\x3e\\n              <div ng-show=\"state.BuildType === \\'upload\\'\">\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Upload\\n                </div>\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\">\\n                    You can upload a Dockerfile or a tar archive containing a Dockerfile from your computer. When using a tarball, the root folder will be used as the build\\n                    context.\\n                  </span>\\n                </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <button class=\"btn btn-sm btn-primary\" ngf-select ngf-min-size=\"10\" ng-model=\"formValues.UploadFile\">Select file</button>\\n                    <span style=\"margin-left: 5px;\">\\n                      {{ formValues.UploadFile.name }}\\n                      <i class=\"fa fa-times red-icon\" ng-if=\"!formValues.UploadFile\" aria-hidden=\"true\"></i>\\n                    </span>\\n                  </div>\\n                </div>\\n                <div ng-if=\"formValues.UploadFile.type === \\'application/gzip\\' || formValues.UploadFile.type === \\'application/x-tar\\'\">\\n                  <div class=\"form-group\">\\n                    <span class=\"col-sm-12 text-muted small\">\\n                      Indicate the path to the Dockerfile within the tarball.\\n                    </span>\\n                  </div>\\n                  <div class=\"form-group\">\\n                    <label for=\"image_path\" class=\"col-sm-2 control-label text-left\">Dockerfile path</label>\\n                    <div class=\"col-sm-10\">\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Path\" id=\"image_path\" placeholder=\"Dockerfile\" />\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !upload --\\x3e\\n              \\x3c!-- url --\\x3e\\n              <div ng-show=\"state.BuildType === \\'url\\'\">\\n                <div class=\"col-sm-12 form-section-title\">\\n                  URL\\n                </div>\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\">\\n                    Specify the URL to a Dockerfile, a tarball or a public Git repository (suffixed by <b>.git</b>). When using a tarball or a Git repository URL, the root folder\\n                    will be used as the build context.\\n                  </span>\\n                </div>\\n                <div class=\"form-group\">\\n                  <label for=\"image_url\" class=\"col-sm-2 control-label text-left\">URL</label>\\n                  <div class=\"col-sm-10\">\\n                    <input type=\"text\" class=\"form-control\" ng-model=\"formValues.URL\" id=\"image_url\" placeholder=\"https://myhost.mydomain/myimage.tar.gz\" />\\n                  </div>\\n                </div>\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\">\\n                    Indicate the path to the Dockerfile within the tarball/repository (ignored when using a Dockerfile).\\n                  </span>\\n                </div>\\n                <div class=\"form-group\">\\n                  <label for=\"image_path\" class=\"col-sm-2 control-label text-left\">Dockerfile path</label>\\n                  <div class=\"col-sm-10\">\\n                    <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Path\" id=\"image_path\" placeholder=\"Dockerfile\" />\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !url --\\x3e\\n              <div ng-if=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\">\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Deployment\\n                </div>\\n                \\x3c!-- node-selection --\\x3e\\n                <node-selector model=\"formValues.NodeName\"> </node-selector>\\n                \\x3c!-- !node-selection --\\x3e\\n              </div>\\n              \\x3c!-- actions --\\x3e\\n              <div class=\"col-sm-12 form-section-title\">\\n                Actions\\n              </div>\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\">\\n                  <button\\n                    type=\"button\"\\n                    class=\"btn btn-primary btn-sm\"\\n                    ng-disabled=\"state.actionInProgress\\n                    || (state.BuildType === \\'upload\\' && (!formValues.UploadFile || !formValues.Path))\\n                    || (state.BuildType === \\'url\\' && (!formValues.URL || !formValues.Path))\\n                    || (formValues.ImageNames.length === 0 || !validImageNames())\"\\n                    ng-click=\"buildImage()\"\\n                    button-spinner=\"state.actionInProgress\"\\n                  >\\n                    <span ng-hide=\"state.actionInProgress\">Build the image</span>\\n                    <span ng-show=\"state.actionInProgress\">Image building in progress...</span>\\n                  </button>\\n                  <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px;\">{{ state.formValidationError }}</span>\\n                </div>\\n              </div>\\n              \\x3c!-- !actions --\\x3e\\n            </form>\\n          </uib-tab>\\n          <uib-tab index=\"1\" disable=\"!buildLogs\">\\n            <uib-tab-heading> <i class=\"fa fa-file-alt space-right\" aria-hidden=\"true\"></i> Output </uib-tab-heading>\\n            <pre class=\"log_viewer\">\\n              <div ng-repeat=\"line in buildLogs track by $index\" class=\"line\"><p class=\"inner_line\" ng-click=\"active=!active\" ng-class=\"{\\'line_selected\\': active}\">{{ line }}</p></div>\\n              <div ng-if=\"!buildLogs.length\" class=\"line\"><p class=\"inner_line\">No build output available.</p></div>\\n            </pre>\\n          </uib-tab>\\n        </uib-tabset>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/images/import/importimage.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Import image\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.images\">Images</a> &gt; Import image </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- upload --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Upload\\n          </div>\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12 text-muted small\">\\n              You can upload a tar archive containing your images.\\n            </span>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select ngf-min-size=\"10\" ng-model=\"formValues.UploadFile\">Select file</button>\\n              <span style=\"margin-left: 5px;\">\\n                {{ formValues.UploadFile.name }}\\n                <i class=\"fa fa-times red-icon\" ng-if=\"!formValues.UploadFile\" aria-hidden=\"true\"></i>\\n              </span>\\n            </div>\\n          </div>\\n          \\x3c!-- !upload --\\x3e\\n          <div ng-if=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Deployment\\n            </div>\\n            \\x3c!-- node-selection --\\x3e\\n            <node-selector model=\"formValues.NodeName\"> </node-selector>\\n            \\x3c!-- !node-selection --\\x3e\\n          </div>\\n          <div class=\"row\" authorization=\"DockerImageCreate\">\\n            <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n              <rd-widget>\\n                <rd-widget-header icon=\"fa-tag\" title-text=\"Tag the image\"></rd-widget-header>\\n                <rd-widget-body>\\n                  \\x3c!-- image-and-registry --\\x3e\\n                  <por-image-registry\\n                    model=\"formValues.RegistryModel\"\\n                    label-class=\"col-sm-1\"\\n                    input-class=\"col-sm-11\"\\n                    endpoint=\"endpoint\"\\n                    is-admin=\"isAdmin\"\\n                    set-validity=\"setPullImageValidity\"\\n                    check-rate-limits=\"true\"\\n                  ></por-image-registry>\\n                </rd-widget-body>\\n              </rd-widget>\\n            </div>\\n          </div>\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !formValues.UploadFile\"\\n                ng-click=\"uploadImage()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Upload</span>\\n                <span ng-show=\"state.actionInProgress\">Images uploading in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px;\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/networks/networks.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Network list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.networks\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Networks</rd-header-content>\\n</rd-header>\\n<information-panel-offline ng-if=\"offlineMode\"></information-panel-offline>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <networks-datatable\\n      title-text=\"Networks\"\\n      title-icon=\"fa-sitemap\"\\n      dataset=\"networks\"\\n      table-key=\"networks\"\\n      order-by=\"Name\"\\n      remove-action=\"removeAction\"\\n      show-host-column=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\"\\n      offline-mode=\"offlineMode\"\\n      refresh-callback=\"getNetworks\"\\n    ></networks-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/networks/edit/network.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Network details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.networks\">Networks</a> &gt; <a ui-sref=\"docker.networks.network({id: network.Id})\">{{ network.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-sitemap\" title-text=\"Network details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>{{ network.Name }}</td>\\n            </tr>\\n            <tr>\\n              <td>ID</td>\\n              <td>\\n                {{ network.Id }}\\n                <button authorization=\"DockerNetworkDelete\" ng-if=\"allowRemove()\" class=\"btn btn-xs btn-danger\" ng-click=\"removeNetwork(network.Id)\"\\n                  ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Delete this network</button\\n                >\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Driver</td>\\n              <td>{{ network.Driver }}</td>\\n            </tr>\\n            <tr>\\n              <td>Scope</td>\\n              <td>{{ network.Scope }}</td>\\n            </tr>\\n            <tr>\\n              <td>Attachable</td>\\n              <td>{{ network.Attachable }}</td>\\n            </tr>\\n            <tr>\\n              <td>Internal</td>\\n              <td>{{ network.Internal }}</td>\\n            </tr>\\n            <tr ng-if=\"network.IPAM.IPV4Configs.length > 0\" ng-repeat-start=\"config in network.IPAM.IPV4Configs\">\\n              <td>IPV4 Subnet - {{ config.Subnet }}</td>\\n              <td>IPV4 Gateway - {{ config.Gateway }}</td>\\n            </tr>\\n            <tr ng-if=\"network.IPAM.IPV4Configs.length > 0\" ng-repeat-end>\\n              <td>IPV4 IP range - {{ config.IPRange }}</td>\\n              <td\\n                >IPV4 Excluded Ips<span ng-repeat=\"auxAddress in config.AuxiliaryAddresses\"> - {{ auxAddress }}</span></td\\n              >\\n            </tr>\\n            <tr ng-if=\"network.IPAM.IPV6Configs.length > 0\" ng-repeat-start=\"config in network.IPAM.IPV6Configs\">\\n              <td>IPV6 Subnet - {{ config.Subnet }}</td>\\n              <td>IPV6 Gateway - {{ config.Gateway }}</td>\\n            </tr>\\n            <tr ng-if=\"network.IPAM.IPV6Configs.length > 0\" ng-repeat-end>\\n              <td>IPV6 IP range - {{ config.IPRange }}</td>\\n              <td\\n                >IPV6 Excluded Ips<span ng-repeat=\"auxAddress in config.AuxiliaryAddresses\"> - {{ auxAddress }}</span></td\\n              >\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n\\x3c!-- access-control-panel --\\x3e\\n<por-access-control-panel\\n  ng-if=\"network\"\\n  resource-id=\"network.Id\"\\n  resource-control=\"network.ResourceControl\"\\n  resource-type=\"\\'network\\'\"\\n  disable-ownership-change=\"isSystemNetwork()\"\\n>\\n</por-access-control-panel>\\n\\x3c!-- !access-control-panel --\\x3e\\n\\n<div class=\"row\" ng-if=\"!(network.Options | emptyobject)\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-cogs\" title-text=\"Network options\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr ng-repeat=\"(key, value) in network.Options\">\\n              <td>{{ key }}</td>\\n              <td>{{ value }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"containersInNetwork.length > 0\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-server\" title-text=\"Containers in network\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <thead>\\n            <th>Container Name</th>\\n            <th>IPv4 Address</th>\\n            <th>IPv6 Address</th>\\n            <th>MacAddress</th>\\n            <th authorization=\"DockerNetworkDisconnect\">Actions</th>\\n          </thead>\\n          <tbody>\\n            <tr ng-repeat=\"container in containersInNetwork\">\\n              <td\\n                ><a ui-sref=\"docker.containers.container({ id: container.Id, nodeName: nodeName })\">{{ container.Name }}</a></td\\n              >\\n              <td>{{ container.IPv4Address || \\'-\\' }}</td>\\n              <td>{{ container.IPv6Address || \\'-\\' }}</td>\\n              <td>{{ container.MacAddress || \\'-\\' }}</td>\\n              <td authorization=\"DockerNetworkDisconnect\">\\n                <button type=\"button\" class=\"btn btn-xs btn-danger\" ng-click=\"containerLeaveNetwork(network, container)\"\\n                  ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Leave Network</button\\n                >\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/networks/create/createnetwork.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create network\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.networks\">Networks</a> &gt; Add network </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"networkCreationForm\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"network_name\" class=\"col-sm-2 col-lg-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"config.Name\" id=\"network_name\" placeholder=\"e.g. myNetwork\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Driver configuration\\n          </div>\\n          \\x3c!-- driver-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"network_driver\" class=\"col-sm-2 col-lg-1 control-label text-left\">Driver</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select class=\"form-control\" ng-options=\"driver for driver in availableNetworkDrivers\" ng-model=\"config.Driver\" ng-if=\"availableNetworkDrivers.length > 0\">\\n                <option disabled hidden value=\"\">Select a driver</option>\\n              </select>\\n              <input type=\"text\" class=\"form-control\" ng-model=\"config.Driver\" id=\"network_driver\" placeholder=\"e.g. driverName\" ng-if=\"availableNetworkDrivers.length === 0\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !driver-input --\\x3e\\n          \\x3c!-- driver-options --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n              <label class=\"control-label text-left\">\\n                Driver options\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"Driver options are specific to the selected driver. Please refer to the selected driver documentation.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addDriverOption()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add driver option\\n              </span>\\n            </div>\\n            \\x3c!-- driver-options-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n              <div ng-repeat=\"option in formValues.DriverOptions\" style=\"margin-top: 2px;\">\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">name</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"option.name\" placeholder=\"e.g. com.docker.network.bridge.enable_icc\" />\\n                </div>\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">value</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"option.value\" placeholder=\"e.g. true\" />\\n                </div>\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeDriverOption($index)\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !driver-options-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !driver-options --\\x3e\\n          \\x3c!-- macvlan-management --\\x3e\\n          <network-macvlan-form ng-show=\"config.Driver === \\'macvlan\\'\" data=\"formValues.Macvlan\" application-state=\"applicationState\"></network-macvlan-form>\\n          \\x3c!-- !macvlan-management --\\x3e\\n          <div ng-hide=\"config.Driver === \\'macvlan\\' && formValues.Macvlan.Scope === \\'swarm\\'\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              IPV4 Network configuration\\n            </div>\\n            \\x3c!-- subnet-gateway-inputs --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"ipv4_network_subnet\" class=\"col-sm-2 col-lg-1 control-label text-left\">Subnet</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPV4.Subnet\" id=\"ipv4_network_subnet\" placeholder=\"e.g. 172.20.0.0/16\" />\\n              </div>\\n              <label for=\"ipv4_network_gateway\" class=\"col-sm-2 col-lg-1 control-label text-left\">Gateway</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPV4.Gateway\" id=\"ipv4_network_gateway\" placeholder=\"e.g. 172.20.10.11\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !subnet-gateway-inputs --\\x3e\\n            \\x3c!-- iprange-auxaddr-inputs --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"ipv4_network_iprange\" class=\"col-sm-2 col-lg-1 control-label text-left\">IP range</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPV4.IPRange\" id=\"ipv4_network_iprange\" placeholder=\"e.g. 172.20.10.128/25\" />\\n              </div>\\n            </div>\\n            <div ng-repeat=\"auxAddress in formValues.IPV4.AuxiliaryAddresses track by $index\" class=\"form-group\">\\n              <label for=\"ipv4_network_auxaddr_{{ $index }}\" class=\"col-sm-2 col-lg-1 control-label text-left\">Exclude IP</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"formValues.IPV4.AuxiliaryAddresses[$index]\"\\n                  ng-change=\"checkIPV4AuxiliaryAddress($index)\"\\n                  id=\"ipv4_network_auxaddr_{{ $index }}\"\\n                  placeholder=\"e.g. my-router=172.20.10.129\"\\n                />\\n              </div>\\n              <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeIPV4AuxAddress($index)\">\\n                <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n              </button>\\n              <div class=\"col-sm-12 small text-warning\" ng-show=\"state.IPV4AuxiliaryAddressesError[$index]\">\\n                <p><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Exclude ip cannot be the same as gateway.</p>\\n              </div>\\n            </div>\\n            \\x3c!-- !iprange-auxaddr-inputs --\\x3e\\n            <div class=\"form-group\">\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addIPV4AuxAddress()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add excluded IP\\n              </span>\\n            </div>\\n          </div>\\n          <div ng-show=\"config.Driver === \\'bridge\\' || (config.Driver === \\'macvlan\\' && formValues.Macvlan.Scope !== \\'swarm\\')\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              IPV6 Network configuration\\n            </div>\\n            \\x3c!-- subnet-gateway-inputs --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"ipv6_network_subnet\" class=\"col-sm-2 col-lg-1 control-label text-left\">Subnet</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPV6.Subnet\" id=\"ipv6_network_subnet\" placeholder=\"e.g. 2001:db8::/48\" />\\n              </div>\\n              <label for=\"ipv6_network_gateway\" class=\"col-sm-2 col-lg-1 control-label text-left\">Gateway</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPV6.Gateway\" id=\"ipv6_network_gateway\" placeholder=\"e.g. 2001:db8::1\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !subnet-gateway-inputs --\\x3e\\n            \\x3c!-- iprange-auxaddr-inputs --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"ipv6_network_iprange\" class=\"col-sm-2 col-lg-1 control-label text-left\">IP range</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"formValues.IPV6.IPRange\" id=\"ipv6_network_iprange\" placeholder=\"e.g. 2001:db8::/64\" />\\n              </div>\\n            </div>\\n            <div ng-repeat=\"auxAddress in formValues.IPV6.AuxiliaryAddresses track by $index\" class=\"form-group\">\\n              <label for=\"ipv6_network_auxaddr_{{ $index }}\" class=\"col-sm-2 col-lg-1 control-label text-left\">Exclude IP</label>\\n              <div class=\"col-sm-4 col-lg-5\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"formValues.IPV6.AuxiliaryAddresses[$index]\"\\n                  ng-change=\"checkIPV6AuxiliaryAddress($index)\"\\n                  id=\"ipv6_network_auxaddr_{{ $index }}\"\\n                  placeholder=\"e.g. my-router=2001:db8::1\"\\n                />\\n              </div>\\n              <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeIPV6AuxAddress($index)\">\\n                <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n              </button>\\n              <div class=\"col-sm-12 small text-warning\" ng-show=\"state.IPV6AuxiliaryAddressesError[$index]\">\\n                <p><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Exclude ip cannot be the same as gateway.</p>\\n              </div>\\n            </div>\\n            \\x3c!-- !iprange-auxaddr-inputs --\\x3e\\n            <div class=\"form-group\">\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addIPV6AuxAddress()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add excluded IP\\n              </span>\\n            </div>\\n          </div>\\n          <div class=\"col-sm-12 form-section-title\">\\n            Advanced configuration\\n          </div>\\n          \\x3c!-- labels --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n              <label class=\"control-label text-left\">Labels</label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addLabel()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label </span>\\n            </div>\\n            \\x3c!-- labels-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n              <div ng-repeat=\"label in formValues.Labels\" style=\"margin-top: 2px;\">\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">name</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.key\" placeholder=\"e.g. com.example.foo\" />\\n                </div>\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">value</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                </div>\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel($index)\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !labels-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !labels--\\x3e\\n          \\x3c!-- internal --\\x3e\\n          <div class=\"form-group\" ng-hide=\"config.Driver === \\'macvlan\\' && formValues.Macvlan.Scope === \\'local\\'\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"ownership\" class=\"control-label text-left\">\\n                Isolated network\\n                <portainer-tooltip position=\"bottom\" message=\"An isolated network has no inbound or outbound communications.\"></portainer-tooltip>\\n              </label>\\n              <label name=\"ownership\" class=\"switch\" style=\"margin-left: 20px;\">\\n                <input type=\"checkbox\" ng-model=\"config.Internal\" />\\n                <i></i>\\n              </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !internal --\\x3e\\n          \\x3c!-- attachable --\\x3e\\n          <div class=\"form-group\" ng-hide=\"config.Driver === \\'macvlan\\' && formValues.Macvlan.Scope === \\'local\\'\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"attachable\" class=\"control-label text-left\">\\n                Enable manual container attachment\\n              </label>\\n              <label name=\"attachable\" class=\"switch\" style=\"margin-left: 20px;\">\\n                <input type=\"checkbox\" ng-model=\"config.Attachable\" />\\n                <i></i>\\n              </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !attachable --\\x3e\\n          <div\\n            ng-if=\"\\n              applicationState.endpoint.mode.agentProxy &&\\n              applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\' &&\\n              config.Driver !== \\'overlay\\' &&\\n              config.Driver !== \\'macvlan\\'\\n            \"\\n          >\\n            <div class=\"col-sm-12 form-section-title\">\\n              Deployment\\n            </div>\\n            \\x3c!-- node-selection --\\x3e\\n            <node-selector model=\"formValues.NodeName\"> </node-selector>\\n            \\x3c!-- !node-selection --\\x3e\\n          </div>\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !config.Name || (config.Driver === \\'macvlan\\' && networkCreationForm.$invalid) || !isValid()\"\\n                ng-click=\"create()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Create the network</span>\\n                <span ng-show=\"state.actionInProgress\">Creating network...</span>\\n              </button>\\n              <i id=\"createResourceSpinner\" class=\"fa fa-cog fa-spin\" style=\"margin-left: 5px; display: none;\"></i>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px;\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/secrets/secrets.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Secrets list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.secrets\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Secrets</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <secrets-datatable\\n      title-text=\"Secrets\"\\n      title-icon=\"fa-user-secret\"\\n      dataset=\"secrets\"\\n      table-key=\"secrets\"\\n      order-by=\"Name\"\\n      remove-action=\"removeAction\"\\n      refresh-callback=\"getSecrets\"\\n    ></secrets-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/secrets/edit/secret.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Secret details\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.secrets.secret({id: secret.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.secrets\">Secrets</a> &gt; <a ui-sref=\"docker.secrets.secret({id: secret.Id})\">{{ secret.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-user-secret\" title-text=\"Secret details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>{{ secret.Name }}</td>\\n            </tr>\\n            <tr>\\n              <td>ID</td>\\n              <td>\\n                {{ secret.Id }}\\n                <button authorization=\"DockerSecretDelete\" class=\"btn btn-xs btn-danger\" ng-click=\"removeSecret(secret.Id)\"\\n                  ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Delete this secret</button\\n                >\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Created</td>\\n              <td>{{ secret.CreatedAt | getisodate }}</td>\\n            </tr>\\n            <tr>\\n              <td>Last updated</td>\\n              <td>{{ secret.UpdatedAt | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"!(secret.Labels | emptyobject)\">\\n              <td>Labels</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"(k, v) in secret.Labels\">\\n                    <td>{{ k }}</td>\\n                    <td>{{ v }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n\\x3c!-- access-control-panel --\\x3e\\n<por-access-control-panel ng-if=\"secret\" resource-id=\"secret.Id\" resource-control=\"secret.ResourceControl\" resource-type=\"\\'secret\\'\"> </por-access-control-panel>\\n\\x3c!-- !access-control-panel --\\x3e\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/secrets/create/createsecret.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create secret\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.secrets\">Secrets</a> &gt; Add secret </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"secret_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Name\" id=\"secret_name\" placeholder=\"e.g. mySecret\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- secret-data --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"secret_data\" class=\"col-sm-1 control-label text-left\">Secret</label>\\n            <div class=\"col-sm-11\">\\n              <textarea class=\"form-control\" rows=\"5\" ng-model=\"formValues.Data\"></textarea>\\n            </div>\\n          </div>\\n          \\x3c!-- !secret-data --\\x3e\\n          \\x3c!-- encode-secret --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"encode_secret\" class=\"control-label text-left\">\\n                Encode secret\\n                <portainer-tooltip position=\"bottom\" message=\"Secrets need to be base64 encoded. Disable this if your secret is already base64 encoded.\"></portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" name=\"encode_secret\" ng-model=\"formValues.encodeSecret\" /><i></i> </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !encode-secret --\\x3e\\n          \\x3c!-- labels --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n              <label class=\"control-label text-left\">Labels</label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addLabel()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label </span>\\n            </div>\\n            \\x3c!-- labels-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n              <div ng-repeat=\"label in formValues.Labels\" style=\"margin-top: 2px;\">\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">name</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.key\" placeholder=\"e.g. com.example.foo\" />\\n                </div>\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">value</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                </div>\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel($index)\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !labels-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !labels--\\x3e\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !formValues.Name || !formValues.Data\"\\n                ng-click=\"create()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Create the secret</span>\\n                <span ng-show=\"state.actionInProgress\">Creating secret...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px;\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/services.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Service list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.services\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Services</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"services\">\\n  <div class=\"col-sm-12\">\\n    <services-datatable\\n      title-text=\"Services\"\\n      title-icon=\"fa-list-alt\"\\n      dataset=\"services\"\\n      table-key=\"services\"\\n      order-by=\"Name\"\\n      nodes=\"nodes\"\\n      agent-proxy=\"applicationState.endpoint.mode.agentProxy\"\\n      show-update-action=\"applicationState.endpoint.apiVersion >= 1.25\"\\n      show-task-logs-button=\"applicationState.endpoint.apiVersion >= 1.30\"\\n      show-add-action=\"true\"\\n      show-stack-column=\"true\"\\n      refresh-callback=\"getServices\"\\n    ></services-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/service.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Service details\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.services.service({id: service.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.services\">Services</a> &gt; <a ui-sref=\"docker.services.service({id: service.Id})\">{{ service.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div ng-if=\"isUpdating\" class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <div class=\"alert alert-info\" role=\"alert\" id=\"service-update-alert\">\\n      <p>This service is being updated. Editing this service is currently disabled.</p>\\n      <a ui-sref=\"docker.services.service({id: service.Id}, {reload: true})\">Refresh to see if this service has finished updated.</a>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-9 col-md-9 col-xs-9\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-list-alt\" title-text=\"Service details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td ng-if=\"applicationState.endpoint.apiVersion <= 1.24\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"service.Name\" ng-change=\"updateServiceAttribute(service, \\'Name\\')\" ng-disabled=\"isUpdating\" />\\n              </td>\\n              <td ng-if=\"applicationState.endpoint.apiVersion >= 1.25\">\\n                {{ service.Name }}\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>ID</td>\\n              <td>\\n                {{ service.Id }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"service.CreatedAt\">\\n              <td>Created at</td>\\n              <td>{{ service.CreatedAt | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"service.UpdatedAt\">\\n              <td>Last updated at</td>\\n              <td>{{ service.UpdatedAt | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"service.Version\">\\n              <td>Version</td>\\n              <td>{{ service.Version }}</td>\\n            </tr>\\n            <tr>\\n              <td>Scheduling mode</td>\\n              <td>{{ service.Mode }}</td>\\n            </tr>\\n            <tr ng-if=\"service.Mode === \\'replicated\\'\">\\n              <td>Replicas</td>\\n              <td>\\n                <span ng-if=\"service.Mode === \\'replicated\\'\">\\n                  <input\\n                    class=\"input-sm\"\\n                    type=\"number\"\\n                    ng-model=\"service.Replicas\"\\n                    ng-change=\"updateServiceAttribute(service, \\'Replicas\\')\"\\n                    disable-authorization=\"DockerServiceUpdate\"\\n                  />\\n                </span>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Image</td>\\n              <td>{{ service.Image }}</td>\\n            </tr>\\n            <tr ng-if=\"applicationState.endpoint.type !== 4\">\\n              <td colspan=\"{{ webhookURL ? \\'1\\' : \\'2\\' }}\">\\n                Service webhook\\n                <portainer-tooltip\\n                  position=\"top\"\\n                  message=\"Webhook (or callback URI) used to automate the update of this service. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this service.\"\\n                ></portainer-tooltip>\\n                <label class=\"switch\" style=\"margin-left: 20px;\">\\n                  <input disable-authorization=\"DockerServiceUpdate\" type=\"checkbox\" ng-model=\"WebhookExists\" ng-click=\"updateWebhook(service)\" /><i></i>\\n                </label>\\n              </td>\\n              <td ng-if=\"webhookURL\">\\n                <span class=\"text-muted\">{{ webhookURL | truncatelr }}</span>\\n                <button type=\"button\" class=\"btn btn-sm btn-primary btn-sm space-left\" ng-if=\"webhookURL\" ng-click=\"copyWebhook()\">\\n                  <span><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy link</span>\\n                </button>\\n                <span>\\n                  <i id=\"copyNotification\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none;\"></i>\\n                </span>\\n              </td>\\n            </tr>\\n            <tr authorization=\"DockerServiceLogs, DockerServiceUpdate, DockerServiceDelete\">\\n              <td colspan=\"2\">\\n                <p class=\"small text-muted\" authorization=\"DockerServiceUpdate\">\\n                  Note: you can only rollback one level of changes. Clicking the rollback button without making a new change will undo your previous rollback </p\\n                ><p>\\n                  <a\\n                    authorization=\"DockerServiceLogs\"\\n                    ng-if=\"applicationState.endpoint.apiVersion >= 1.3\"\\n                    class=\"btn btn-primary btn-sm\"\\n                    type=\"button\"\\n                    ui-sref=\"docker.services.service.logs({id: service.Id})\"\\n                    ><i class=\"fa fa-file-alt space-right\" aria-hidden=\"true\"></i>Service logs</a\\n                  >\\n                  <button\\n                    authorization=\"DockerServiceUpdate\"\\n                    type=\"button\"\\n                    class=\"btn btn-primary btn-sm\"\\n                    ng-disabled=\"state.updateInProgress || isUpdating\"\\n                    ng-click=\"forceUpdateService(service)\"\\n                    button-spinner=\"state.updateInProgress\"\\n                    ng-if=\"applicationState.endpoint.apiVersion >= 1.25\"\\n                  >\\n                    <span ng-hide=\"state.updateInProgress\"><i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i>Update the service</span>\\n                    <span ng-show=\"state.updateInProgress\">Update in progress...</span>\\n                  </button>\\n                  <button\\n                    authorization=\"DockerServiceUpdate\"\\n                    type=\"button\"\\n                    class=\"btn btn-primary btn-sm\"\\n                    ng-disabled=\"state.rollbackInProgress || isUpdating\"\\n                    ng-click=\"rollbackService(service)\"\\n                    button-spinner=\"state.rollbackInProgress\"\\n                    ng-if=\"applicationState.endpoint.apiVersion >= 1.25\"\\n                  >\\n                    <span ng-hide=\"state.rollbackInProgress\"><i class=\"fa fa-undo space-right\" aria-hidden=\"true\"></i>Rollback the service</span>\\n                    <span ng-show=\"state.rollbackInProgress\">Rollback in progress...</span>\\n                  </button>\\n                  <button\\n                    authorization=\"DockerServiceDelete\"\\n                    type=\"button\"\\n                    class=\"btn btn-danger btn-sm\"\\n                    ng-disabled=\"state.deletionInProgress || isUpdating\"\\n                    ng-click=\"removeService()\"\\n                    button-spinner=\"state.deletionInProgress\"\\n                  >\\n                    <span ng-hide=\"state.deletionInProgress\"><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Delete the service</span>\\n                    <span ng-show=\"state.deletionInProgress\">Deletion in progress...</span>\\n                  </button>\\n                </p></td\\n              >\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n      <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n        <p class=\"small text-muted\">\\n          Do you need help? View the Docker Service documentation <a href=\"https://docs.docker.com/engine/reference/commandline/service_update/\" target=\"self\">here</a>.\\n        </p>\\n        <div class=\"btn-toolbar\" role=\"toolbar\">\\n          <div class=\"btn-group\" role=\"group\">\\n            <button type=\"button\" class=\"btn btn-primary\" ng-disabled=\"!hasChanges(service, [\\'Mode\\', \\'Replicas\\', \\'Name\\', \\'Webhooks\\'])\" ng-click=\"updateService(service)\"\\n              >Apply changes</button\\n            >\\n            <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n              <span class=\"caret\"></span>\\n            </button>\\n            <ul class=\"dropdown-menu\">\\n              <li><a ng-click=\"cancelChanges(service, [\\'Mode\\', \\'Replicas\\', \\'Name\\'])\">Reset changes</a></li>\\n              <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n            </ul>\\n          </div>\\n        </div>\\n      </rd-widget-footer>\\n    </rd-widget>\\n  </div>\\n\\n  <div class=\"col-lg-3 col-md-3 col-xs-3\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-bars\" title-text=\"Quick navigation\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <ul class=\"nav nav-pills nav-stacked\">\\n          <li><a href ng-click=\"goToItem(\\'service-env-variables\\')\">Environment variables</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-container-image\\')\">Container image</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-container-labels\\')\">Container labels</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-mounts\\')\">Mounts</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-network-specs\\')\">Network &amp; published ports</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-resources\\')\">Resource limits &amp; reservations</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-placement-constraints\\')\">Placement constraints</a></li>\\n          <li ng-if=\"applicationState.endpoint.apiVersion >= 1.3\"><a href ng-click=\"goToItem(\\'service-placement-preferences\\')\">Placement preferences</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-restart-policy\\')\">Restart policy</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-update-config\\')\">Update configuration</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-logging\\')\">Logging</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-labels\\')\">Service labels</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-configs\\')\">Configs</a></li>\\n          <li ng-if=\"applicationState.endpoint.apiVersion >= 1.25\"><a href ng-click=\"goToItem(\\'service-secrets\\')\">Secrets</a></li>\\n          <li><a href ng-click=\"goToItem(\\'service-tasks\\')\">Tasks</a></li>\\n        </ul>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n\\x3c!-- access-control-panel --\\x3e\\n<por-access-control-panel ng-if=\"service\" resource-id=\"service.Id\" resource-control=\"service.ResourceControl\" resource-type=\"\\'service\\'\"> </por-access-control-panel>\\n\\x3c!-- !access-control-panel --\\x3e\\n\\n<div class=\"row\">\\n  <hr />\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <h3 id=\"container-specs\">Container specification</h3>\\n    <div id=\"service-container-spec\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/container-specs.html\\'\"></div>\\n    <div id=\"service-container-image\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/image.html\\'\"></div>\\n    <div id=\"service-env-variables\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/environmentvariables.html\\'\"></div>\\n    <div id=\"service-container-labels\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/containerlabels.html\\'\"></div>\\n    <div id=\"service-mounts\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/mounts.html\\'\"></div>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <hr />\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <h3 id=\"service-network-specs\">Networks &amp; ports</h3>\\n    <div id=\"service-networks\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/networks.html\\'\"></div>\\n    <div id=\"service-published-ports\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/ports.html\\'\"></div>\\n    <div id=\"service-hosts-entries\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/hosts.html\\'\"></div>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <hr />\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <h3 id=\"service-specs\">Service specification</h3>\\n    <div id=\"service-resources\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/resources.html\\'\"></div>\\n    <div id=\"service-placement-constraints\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/constraints.html\\'\"></div>\\n    <div\\n      id=\"service-placement-preferences\"\\n      ng-if=\"applicationState.endpoint.apiVersion >= 1.3\"\\n      class=\"padding-top\"\\n      ng-include=\"\\'app/docker/views/services/edit/includes/placementPreferences.html\\'\"\\n    ></div>\\n    <div id=\"service-restart-policy\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/restart.html\\'\"></div>\\n    <div id=\"service-update-config\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/updateconfig.html\\'\"></div>\\n    <div id=\"service-logging\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/logging.html\\'\"></div>\\n    <div id=\"service-labels\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/servicelabels.html\\'\"></div>\\n    <div id=\"service-configs\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/configs.html\\'\"></div>\\n    <div id=\"service-secrets\" ng-if=\"applicationState.endpoint.apiVersion >= 1.25\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/secrets.html\\'\"></div>\\n    <div id=\"service-tasks\" class=\"padding-top\" ng-include=\"\\'app/docker/views/services/edit/includes/tasks.html\\'\"></div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/create/createservice.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create service\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.services\">Services</a> &gt; Add service </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" autocomplete=\"off\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"service_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Name\" id=\"service_name\" placeholder=\"e.g. myService\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Image configuration\\n          </div>\\n          \\x3c!-- image-and-registry --\\x3e\\n          <por-image-registry\\n            model=\"formValues.RegistryModel\"\\n            auto-complete=\"true\"\\n            label-class=\"col-sm-1\"\\n            input-class=\"col-sm-11\"\\n            endpoint=\"endpoint\"\\n            is-admin=\"isAdmin\"\\n            check-rate-limits=\"true\"\\n            set-validity=\"setPullImageValidity\"\\n          >\\n          </por-image-registry>\\n          \\x3c!-- !image-and-registry --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Scheduling\\n          </div>\\n          \\x3c!-- scheduling-mode --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\">\\n                Scheduling mode\\n              </label>\\n              <div class=\"btn-group btn-group-sm\" style=\"margin-left: 20px;\">\\n                <label class=\"btn btn-primary\" ng-model=\"formValues.Mode\" uib-btn-radio=\"\\'global\\'\">Global</label>\\n                <label class=\"btn btn-primary\" ng-model=\"formValues.Mode\" uib-btn-radio=\"\\'replicated\\'\">Replicated</label>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\"form-group form-inline\" ng-if=\"formValues.Mode === \\'replicated\\'\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\">\\n                Replicas\\n              </label>\\n              <input type=\"number\" class=\"form-control\" ng-model=\"formValues.Replicas\" id=\"replicas\" placeholder=\"e.g. 3\" style=\"margin-left: 20px;\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !scheduling-mode --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Ports configuration\\n          </div>\\n          \\x3c!-- port-mapping --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n              <label class=\"control-label text-left\">Port mapping</label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addPortBinding()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> map additional port\\n              </span>\\n            </div>\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n              <div ng-repeat=\"portBinding in formValues.Ports\" style=\"margin-top: 2px;\">\\n                \\x3c!-- host-port --\\x3e\\n                <div class=\"input-group col-sm-3 input-group-sm\">\\n                  <span class=\"input-group-addon\">host</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"portBinding.PublishedPort\" placeholder=\"e.g. 80 or 1.2.3.4:80 (optional)\" />\\n                </div>\\n                \\x3c!-- !host-port --\\x3e\\n                <span style=\"margin: 0 10px 0 10px;\">\\n                  <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                </span>\\n                \\x3c!-- container-port --\\x3e\\n                <div class=\"input-group col-sm-3 input-group-sm\">\\n                  <span class=\"input-group-addon\">container</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"portBinding.TargetPort\" placeholder=\"e.g. 80\" />\\n                </div>\\n                \\x3c!-- !container-port --\\x3e\\n                \\x3c!-- protocol-actions --\\x3e\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <div class=\"btn-group btn-group-sm\">\\n                    <label class=\"btn btn-primary\" ng-model=\"portBinding.Protocol\" uib-btn-radio=\"\\'tcp\\'\">TCP</label>\\n                    <label class=\"btn btn-primary\" ng-model=\"portBinding.Protocol\" uib-btn-radio=\"\\'udp\\'\">UDP</label>\\n                  </div>\\n                  <div class=\"btn-group btn-group-sm\">\\n                    <label class=\"btn btn-primary\" ng-model=\"portBinding.PublishMode\" uib-btn-radio=\"\\'ingress\\'\">Ingress</label>\\n                    <label class=\"btn btn-primary\" ng-model=\"portBinding.PublishMode\" uib-btn-radio=\"\\'host\\'\">Host</label>\\n                  </div>\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePortBinding($index)\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </div>\\n                \\x3c!-- !protocol-actions --\\x3e\\n              </div>\\n            </div>\\n            \\x3c!-- !port-mapping-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !port-mapping --\\x3e\\n          \\x3c!-- create-webhook --\\x3e\\n          <div ng-if=\"endpoint.Type !== 4\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Webhooks\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">\\n                  Create a service webhook\\n                  <portainer-tooltip\\n                    position=\"top\"\\n                    message=\"Create a webhook (or callback URI) to automate the update of this service. Sending a POST request to this callback URI (without requiring any authentication) will pull the most up-to-date version of the associated image and re-deploy this service.\"\\n                  ></portainer-tooltip>\\n                </label>\\n                <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"formValues.Webhook\" /><i></i> </label>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !create-webhook  --\\x3e\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !formValues.RegistryModel.Image || !volumesAreValid()\"\\n                ng-click=\"create()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Create the service</span>\\n                <span ng-show=\"state.actionInProgress\">Creating service...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px;\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <ul class=\"nav nav-pills nav-justified\">\\n          <li class=\"active interactive\"><a data-target=\"#command\" data-toggle=\"tab\">Command & Logging</a></li>\\n          <li class=\"interactive\"><a data-target=\"#volumes\" data-toggle=\"tab\">Volumes</a></li>\\n          <li class=\"interactive\"><a data-target=\"#network\" data-toggle=\"tab\">Network</a></li>\\n          <li class=\"interactive\"><a data-target=\"#env\" data-toggle=\"tab\">Env</a></li>\\n          <li class=\"interactive\"><a data-target=\"#labels\" data-toggle=\"tab\">Labels</a></li>\\n          <li class=\"interactive\"><a data-target=\"#update-config\" data-toggle=\"tab\">Update config & Restart</a></li>\\n          <li class=\"interactive\" ng-if=\"applicationState.endpoint.apiVersion >= 1.25\"><a data-target=\"#secrets\" data-toggle=\"tab\">Secrets</a></li>\\n          <li class=\"interactive\"><a data-target=\"#configs\" data-toggle=\"tab\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3\">Configs</a></li>\\n          <li class=\"interactive\"><a data-target=\"#resources-placement\" data-toggle=\"tab\" ng-click=\"refreshSlider()\">Resources & Placement</a></li>\\n        </ul>\\n        \\x3c!-- tab-content --\\x3e\\n        <div class=\"tab-content\">\\n          \\x3c!-- tab-command --\\x3e\\n          <div class=\"tab-pane active\" id=\"command\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n              <div class=\"col-sm-12 form-section-title\">\\n                Command\\n              </div>\\n              \\x3c!-- command-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"service_command\" class=\"col-sm-2 col-lg-1 control-label text-left\">Command</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Command\" id=\"service_command\" placeholder=\"e.g. /usr/bin/nginx -t -c /mynginx.conf\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !command-input --\\x3e\\n              \\x3c!-- entrypoint-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"service_entrypoint\" class=\"col-sm-2 col-lg-1 control-label text-left\">Entrypoint</label>\\n                <div class=\"col-sm-9\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.EntryPoint\" id=\"service_entrypoint\" placeholder=\"e.g. /bin/sh -c\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !entrypoint-input --\\x3e\\n              \\x3c!-- workdir-user-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"service_workingdir\" class=\"col-sm-2 col-lg-1 control-label text-left\">Working Dir</label>\\n                <div class=\"col-sm-4\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.WorkingDir\" id=\"service_workingdir\" placeholder=\"e.g. /myapp\" />\\n                </div>\\n                <label for=\"service_user\" class=\"col-sm-1 control-label text-left\">User</label>\\n                <div class=\"col-sm-4\">\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"formValues.User\" id=\"service_user\" placeholder=\"e.g. nginx\" />\\n                </div>\\n              </div>\\n              \\x3c!-- !workdir-user-input --\\x3e\\n              <div class=\"col-sm-12 form-section-title\">\\n                Logging\\n              </div>\\n              \\x3c!-- logging-driver --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"log-driver\" class=\"col-sm-2 col-lg-1 control-label text-left\">Driver</label>\\n                <div class=\"col-sm-4\">\\n                  <select class=\"form-control\" ng-model=\"formValues.LogDriverName\" id=\"log-driver\">\\n                    <option selected value=\"\">Default logging driver</option>\\n                    <option ng-repeat=\"driver in availableLoggingDrivers\" ng-value=\"driver\">{{ driver }}</option>\\n                    <option value=\"none\">none</option>\\n                  </select>\\n                </div>\\n                <div class=\"col-sm-5\">\\n                  <p class=\"small text-muted\">\\n                    Logging driver for service that will override the default docker daemon driver. Select Default logging driver if you don\\'t want to override it. Supported\\n                    logging drivers can be found\\n                    <a href=\"https://docs.docker.com/engine/admin/logging/overview/#supported-logging-drivers\" target=\"_blank\">in the Docker documentation</a>.\\n                  </p>\\n                </div>\\n              </div>\\n              \\x3c!-- !logging-driver --\\x3e\\n              \\x3c!-- logging-opts --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                  <label class=\"control-label text-left\">\\n                    Options\\n                    <portainer-tooltip\\n                      position=\"top\"\\n                      message=\"Add button is disabled unless a driver other than none or default is selected. Options are specific to the selected driver, refer to the driver documentation.\"\\n                    ></portainer-tooltip>\\n                  </label>\\n                  <span\\n                    class=\"label label-default interactive\"\\n                    style=\"margin-left: 10px;\"\\n                    ng-click=\"!formValues.LogDriverName || formValues.LogDriverName === \\'none\\' || addLogDriverOpt(formValues.LogDriverName)\"\\n                  >\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add logging driver option\\n                  </span>\\n                </div>\\n                \\x3c!-- logging-opts-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"opt in formValues.LogDriverOpts\" style=\"margin-top: 2px;\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">option</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"opt.name\" placeholder=\"e.g. FOO\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"opt.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLogDriverOpt($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- logging-opts-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !logging-opts --\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-command --\\x3e\\n          \\x3c!-- tab-volume --\\x3e\\n          <div class=\"tab-pane\" id=\"volumes\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n              \\x3c!-- volumes --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                  <label class=\"control-label text-left\">Volume mapping</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addVolume()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> map additional volume\\n                  </span>\\n                </div>\\n                \\x3c!-- volumes-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"volume in formValues.Volumes\">\\n                    <div class=\"col-sm-12\" style=\"margin-top: 10px;\">\\n                      \\x3c!-- volume-line1 --\\x3e\\n                      <div class=\"col-sm-12 form-inline\">\\n                        \\x3c!-- container-path --\\x3e\\n                        <div class=\"input-group col-sm-6\">\\n                          <div class=\"input-group input-group-sm w-full\">\\n                            <span class=\"input-group-addon\">container</span>\\n                            <input type=\"text\" class=\"form-control\" ng-model=\"volume.Target\" placeholder=\"e.g. /path/in/container\" />\\n                          </div>\\n                          <div class=\"small text-warning\" ng-show=\"!volume.Target\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Target is required. </div>\\n                        </div>\\n                        \\x3c!-- !container-path --\\x3e\\n                        \\x3c!-- volume-type --\\x3e\\n                        <div class=\"input-group col-sm-5\" style=\"margin-left: 5px; vertical-align: top;\">\\n                          <div class=\"btn-group btn-group-sm\" ng-if=\"allowBindMounts\">\\n                            <label class=\"btn btn-primary\" ng-model=\"volume.Type\" uib-btn-radio=\"\\'volume\\'\" ng-click=\"volume.Source = null\">Volume</label>\\n                            <label class=\"btn btn-primary\" ng-model=\"volume.Type\" uib-btn-radio=\"\\'bind\\'\" ng-click=\"volume.Source = null\">Bind</label>\\n                          </div>\\n                          <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeVolume($index)\">\\n                            <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                          </button>\\n                        </div>\\n                        \\x3c!-- !volume-type --\\x3e\\n                      </div>\\n                      \\x3c!-- !volume-line1 --\\x3e\\n                      \\x3c!-- volume-line2 --\\x3e\\n                      <div class=\"col-sm-12 form-inline\" style=\"margin-top: 5px;\">\\n                        <div style=\"height: 30px; display: inline-block; vertical-align: top; display: inline-flex; align-items: center;\">\\n                          <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                        </div>\\n                        \\x3c!-- volume --\\x3e\\n                        <div class=\"col-sm-6 input-group\" ng-if=\"volume.Type === \\'volume\\'\" style=\"float: none; padding: 0;\">\\n                          <div class=\"input-group input-group-sm w-full\">\\n                            <span class=\"input-group-addon\">volume</span>\\n                            <select\\n                              class=\"form-control\"\\n                              ng-model=\"volume.Source\"\\n                              ng-options=\"vol as ((vol.Id|truncate:30) + \\' - \\' + (vol.Driver|truncate:30)) for vol in availableVolumes\"\\n                            >\\n                              <option selected disabled value=\"\">Select a volume</option>\\n                            </select>\\n                          </div>\\n                          <div class=\"small text-warning\" ng-show=\"!volume.Source\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Source is required. </div>\\n                        </div>\\n                        \\x3c!-- !volume --\\x3e\\n                        \\x3c!-- bind --\\x3e\\n                        <div class=\"input-group input-group-sm col-sm-6\" ng-if=\"volume.Type === \\'bind\\'\">\\n                          <div class=\"input-group input-group-sm w-full\">\\n                            <span class=\"input-group-addon\">host</span>\\n                            <input type=\"text\" class=\"form-control\" ng-model=\"volume.Source\" placeholder=\"e.g. /path/on/host\" />\\n                          </div>\\n                          <div class=\"small text-warning\" ng-show=\"!volume.Source\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Source is required. </div>\\n                        </div>\\n                        \\x3c!-- !bind --\\x3e\\n                        \\x3c!-- read-only --\\x3e\\n                        <div class=\"input-group input-group-sm col-sm-5\" style=\"margin-left: 5px; vertical-align: top;\">\\n                          <div class=\"btn-group btn-group-sm\">\\n                            <label class=\"btn btn-primary\" ng-model=\"volume.ReadOnly\" uib-btn-radio=\"false\">Writable</label>\\n                            <label class=\"btn btn-primary\" ng-model=\"volume.ReadOnly\" uib-btn-radio=\"true\">Read-only</label>\\n                          </div>\\n                        </div>\\n                        \\x3c!-- !read-only --\\x3e\\n                      </div>\\n                      \\x3c!-- !volume-line2 --\\x3e\\n                    </div>\\n                  </div>\\n                </div>\\n                \\x3c!-- !volumes-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !volumes --\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-volume --\\x3e\\n          \\x3c!-- tab-network --\\x3e\\n          <div class=\"tab-pane\" id=\"network\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n              \\x3c!-- network-input --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"container_network\" class=\"col-sm-2 col-lg-1 control-label text-left\">Network</label>\\n                <div class=\"col-sm-9\">\\n                  <select class=\"form-control\" ng-model=\"formValues.Network\">\\n                    <option selected disabled hidden value=\"\">Select a network</option>\\n                    <option ng-repeat=\"net in availableNetworks | orderBy: \\'Name\\'\" ng-value=\"net.Name\">{{ net.Name }}</option>\\n                  </select>\\n                </div>\\n                <div class=\"col-sm-2\"></div>\\n              </div>\\n              \\x3c!-- !network-input --\\x3e\\n              \\x3c!-- extra-networks --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                  <label class=\"control-label text-left\">Extra networks</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addExtraNetwork()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add extra network\\n                  </span>\\n                </div>\\n                \\x3c!-- network-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"network in formValues.ExtraNetworks\" style=\"margin-top: 2px;\">\\n                    <select class=\"form-control\" ng-model=\"network.Name\">\\n                      <option selected disabled hidden value=\"\">Select a network</option>\\n                      <option ng-repeat=\"net in availableNetworks\" ng-value=\"net.Name\">{{ net.Name }}</option>\\n                    </select>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeExtraNetwork($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !network-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !extra-networks --\\x3e\\n              \\x3c!-- extra-hosts-variables --\\x3e\\n              <div class=\"form-group\" ng-if=\"applicationState.endpoint.apiVersion >= 1.25\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                  <label class=\"control-label text-left\">Hosts file entries</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addHostsEntry()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add additional entry\\n                  </span>\\n                </div>\\n                \\x3c!-- hosts-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"variable in formValues.HostsEntries\" style=\"margin-top: 2px;\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"variable.value\" placeholder=\"e.g. host:IP\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeHostsEntry($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !hosts-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !extra-hosts-variables --\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-network --\\x3e\\n          \\x3c!-- tab-env --\\x3e\\n          <div class=\"tab-pane\" id=\"env\">\\n            <environment-variables-panel\\n              ng-model=\"formValues.Env\"\\n              explanation=\"These values will be applied to the service when created\"\\n              on-change=\"(handleEnvVarChange)\"\\n            ></environment-variables-panel>\\n          </div>\\n          \\x3c!-- !tab-env --\\x3e\\n          \\x3c!-- tab-labels --\\x3e\\n          <div class=\"tab-pane\" id=\"labels\">\\n            <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n              \\x3c!-- labels --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                  <label class=\"control-label text-left\">Service labels</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addLabel()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add service label\\n                  </span>\\n                </div>\\n                \\x3c!-- labels-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"label in formValues.Labels\" style=\"margin-top: 2px;\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">name</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.key\" placeholder=\"e.g. com.example.foo\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !labels-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !labels--\\x3e\\n              \\x3c!-- container-labels --\\x3e\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                  <label class=\"control-label text-left\">Container labels</label>\\n                  <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addContainerLabel()\">\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add container label\\n                  </span>\\n                </div>\\n                \\x3c!-- container-labels-input-list --\\x3e\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"label in formValues.ContainerLabels\" style=\"margin-top: 2px;\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">name</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.key\" placeholder=\"e.g. com.example.foo\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeContainerLabel($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !container-labels-input-list --\\x3e\\n              </div>\\n              \\x3c!-- !container-labels--\\x3e\\n            </form>\\n          </div>\\n          \\x3c!-- !tab-labels --\\x3e\\n          \\x3c!-- tab-update-config --\\x3e\\n          <div class=\"tab-pane\" id=\"update-config\" ng-include=\"\\'app/docker/views/services/create/includes/update-restart.html\\'\"></div>\\n          \\x3c!-- !tab-update-config --\\x3e\\n          \\x3c!-- tab-secrets --\\x3e\\n          <div class=\"tab-pane\" id=\"secrets\" ng-if=\"applicationState.endpoint.apiVersion >= 1.25\" ng-include=\"\\'app/docker/views/services/create/includes/secret.html\\'\"></div>\\n          \\x3c!-- !tab-secrets --\\x3e\\n          \\x3c!-- tab-configs --\\x3e\\n          <div class=\"tab-pane\" id=\"configs\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3\" ng-include=\"\\'app/docker/views/services/create/includes/config.html\\'\"></div>\\n          \\x3c!-- !tab-configs --\\x3e\\n          \\x3c!-- tab-resources-placement --\\x3e\\n          <div class=\"tab-pane\" id=\"resources-placement\" ng-include=\"\\'app/docker/views/services/create/includes/resources-placement.html\\'\"></div>\\n          \\x3c!-- !tab-resources-placement --\\x3e\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/logs/servicelogs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Service logs\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.services\">Services</a> > <a ui-sref=\"docker.services.service({id: service.Id})\">{{ service.Name }}</a> &gt; Logs\\n  </rd-header-content>\\n</rd-header>\\n\\n<log-viewer\\n  data=\"logs\"\\n  ng-if=\"logs\"\\n  log-collection-change=\"changeLogCollection\"\\n  display-timestamps=\"state.displayTimestamps\"\\n  line-count=\"state.lineCount\"\\n  since-timestamp=\"state.sinceTimestamp\"\\n  resource-name=\"service.Name\"\\n></log-viewer>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/stacks/stacks.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Stacks list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.stacks\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Stacks</rd-header-content>\\n</rd-header>\\n<information-panel-offline ng-if=\"offlineMode\"></information-panel-offline>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <stacks-datatable\\n      title-text=\"Stacks\"\\n      title-icon=\"fa-th-list\"\\n      dataset=\"stacks\"\\n      table-key=\"stacks\"\\n      order-by=\"Name\"\\n      remove-action=\"removeAction\"\\n      offline-mode=\"offlineMode\"\\n      refresh-callback=\"getStacks\"\\n      create-enabled=\"createEnabled\"\\n    ></stacks-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/stacks/edit/stack.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Stack details\">\\n    <a data-toggle=\"tooltip\" title-text=\"Refresh\" ui-sref=\"docker.stacks.stack({id: stack.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.stacks\">Stacks</a> &gt; {{ stackName }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <uib-tabset active=\"state.activeTab\">\\n          \\x3c!-- tab-info --\\x3e\\n          <uib-tab index=\"0\">\\n            <uib-tab-heading> <i class=\"fa fa-th-list\" aria-hidden=\"true\"></i> Stack </uib-tab-heading>\\n            <div style=\"margin-top: 10px;\">\\n              \\x3c!-- stack-information --\\x3e\\n              <div ng-if=\"external || orphaned\">\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Information\\n                </div>\\n                <div class=\"form-group\">\\n                  <span class=\"small\">\\n                    <p class=\"text-muted\">\\n                      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                      <span ng-if=\"external\">This stack was created outside of Portainer. Control over this stack is limited.</span>\\n                      <span ng-if=\"orphaned\">This stack is orphaned. You can reassociate it with the current environment using the \"Associate to this environment\" feature.</span>\\n                    </p>\\n                  </span>\\n                </div>\\n              </div>\\n              \\x3c!-- !stack-information --\\x3e\\n              \\x3c!-- stack-details --\\x3e\\n              <div>\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Stack details\\n                </div>\\n                <div class=\"form-group\">\\n                  {{ stackName }}\\n\\n                  <button\\n                    authorization=\"PortainerStackUpdate\"\\n                    ng-if=\"regular && stack.Status === 2\"\\n                    ng-disabled=\"state.actionInProgress\"\\n                    class=\"btn btn-xs btn-success\"\\n                    ng-click=\"startStack()\"\\n                  >\\n                    <i class=\"fa fa-play space-right\" aria-hidden=\"true\"></i>\\n                    Start this stack\\n                  </button>\\n\\n                  <button\\n                    ng-if=\"regular && stack.Status === 1\"\\n                    authorization=\"PortainerStackUpdate\"\\n                    ng-disabled=\"state.actionInProgress\"\\n                    class=\"btn btn-xs btn-danger\"\\n                    ng-click=\"stopStack()\"\\n                  >\\n                    <i class=\"fa fa-stop space-right\" aria-hidden=\"true\"></i>\\n                    Stop this stack\\n                  </button>\\n\\n                  <button authorization=\"PortainerStackDelete\" class=\"btn btn-xs btn-danger\" ng-click=\"removeStack()\" ng-if=\"!external || stack.Type == 1\">\\n                    <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>\\n                    Delete this stack\\n                  </button>\\n\\n                  <button\\n                    ng-if=\"regular && stackFileContent\"\\n                    class=\"btn btn-primary btn-xs\"\\n                    ui-sref=\"docker.templates.custom.new({fileContent: stackFileContent, type: stack.Type})\"\\n                  >\\n                    <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>\\n                    Create template from stack\\n                  </button>\\n                </div>\\n              </div>\\n              \\x3c!-- !stack-details --\\x3e\\n\\n              \\x3c!-- associate --\\x3e\\n              <div ng-if=\"orphaned\">\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Associate to this environment\\n                </div>\\n                <p class=\"small text-muted\">\\n                  This feature allows you to reassociate this stack to the current environment.\\n                </p>\\n                <form class=\"form-horizontal\">\\n                  <por-access-control-form form-data=\"formValues.AccessControlData\" hide-title=\"true\"></por-access-control-form>\\n                  <div class=\"form-group\">\\n                    <div class=\"col-sm-12\">\\n                      <button\\n                        type=\"button\"\\n                        class=\"btn btn-primary btn-sm\"\\n                        ng-disabled=\"state.actionInProgress\"\\n                        ng-click=\"associateStack()\"\\n                        button-spinner=\"state.actionInProgress\"\\n                        style=\"margin-left: -5px;\"\\n                      >\\n                        <i class=\"fa fa-sync\" aria-hidden=\"true\" style=\"margin-right: 3px;\"></i>\\n                        <span ng-hide=\"state.actionInProgress\">Associate</span>\\n                        <span ng-show=\"state.actionInProgress\">Association in progress...</span>\\n                      </button>\\n                      <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px;\">{{ state.formValidationError }}</span>\\n                    </div>\\n                  </div>\\n                </form>\\n              </div>\\n              \\x3c!-- !associate --\\x3e\\n\\n              <stack-redeploy-git-form ng-if=\"stack.GitConfig\" model=\"stack.GitConfig\" stack=\"stack\" authorization=\"PortainerStackUpdate\"> </stack-redeploy-git-form>\\n              <stack-duplication-form\\n                ng-if=\"regular && endpoints.length > 0\"\\n                endpoints=\"endpoints\"\\n                groups=\"groups\"\\n                current-endpoint-id=\"currentEndpointId\"\\n                on-duplicate=\"duplicateStack(name, endpointId)\"\\n                on-migrate=\"migrateStack(name, endpointId)\"\\n                yaml-error=\"state.yamlError\"\\n              >\\n              </stack-duplication-form>\\n            </div>\\n          </uib-tab>\\n          \\x3c!-- !tab-info --\\x3e\\n          \\x3c!-- tab-file --\\x3e\\n          <uib-tab index=\"1\" select=\"showEditor()\" ng-if=\"!external && !stack.GitConfig\">\\n            <uib-tab-heading> <i class=\"fa fa-pencil-alt space-right\" aria-hidden=\"true\"></i> Editor </uib-tab-heading>\\n            <form class=\"form-horizontal\" ng-if=\"state.showEditorTab\" style=\"margin-top: 10px;\" name=\"stackUpdateForm\">\\n              <div class=\"form-group\">\\n                <span class=\"col-sm-12 text-muted small\" style=\"margin-bottom: 7px;\" ng-if=\"stackType == 2 && composeSyntaxMaxVersion == 2\">\\n                  This stack will be deployed using the equivalent of <code>docker-compose</code>. Only Compose file format version <b>2</b> is supported at the moment.\\n                </span>\\n                <span class=\"col-sm-12 text-muted small\" style=\"margin-bottom: 7px;\" ng-if=\"stackType == 2 && composeSyntaxMaxVersion > 2\">\\n                  This stack will be deployed using <code>docker-compose</code>.\\n                </span>\\n                <span class=\"col-sm-12 text-muted small\">\\n                  You can get more information about Compose file format in the <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\">official documentation</a>.\\n                </span>\\n              </div>\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\">\\n                  <code-editor\\n                    read-only=\"orphaned\"\\n                    identifier=\"stack-editor\"\\n                    placeholder=\"# Define or paste the content of your docker-compose file here\"\\n                    yml=\"true\"\\n                    on-change=\"(editorUpdate)\"\\n                    value=\"stackFileContent\"\\n                  ></code-editor>\\n                </div>\\n              </div>\\n              \\x3c!-- environment-variables --\\x3e\\n              <div ng-if=\"stack\">\\n                <environment-variables-panel\\n                  ng-model=\"formValues.Env\"\\n                  explanation=\"These values will be used as substitutions in the stack file\"\\n                  on-change=\"(handleEnvVarChange)\"\\n                ></environment-variables-panel>\\n              </div>\\n              \\x3c!-- !environment-variables --\\x3e\\n              \\x3c!-- options --\\x3e\\n              <div ng-if=\"stack.Type === 1 && applicationState.endpoint.apiVersion >= 1.27\" authorization=\"PortainerStackUpdate\">\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Options\\n                </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <label for=\"prune\" class=\"control-label text-left\">\\n                      Prune services\\n                      <portainer-tooltip position=\"bottom\" message=\"Prune services that are no longer referenced.\"></portainer-tooltip>\\n                    </label>\\n                    <label class=\"switch\" style=\"margin-left: 20px;\"> <input name=\"prune\" type=\"checkbox\" ng-model=\"formValues.Prune\" /><i></i> </label>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !options --\\x3e\\n              <div authorization=\"PortainerStackUpdate\">\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Actions\\n                </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <button\\n                      type=\"button\"\\n                      class=\"btn btn-sm btn-primary\"\\n                      ng-disabled=\"state.actionInProgress || !stackUpdateForm.$valid || !stackFileContent || orphaned\"\\n                      ng-click=\"deployStack()\"\\n                      button-spinner=\"state.actionInProgress\"\\n                    >\\n                      <span ng-hide=\"state.actionInProgress\">Update the stack</span>\\n                      <span ng-show=\"state.actionInProgress\">Deployment in progress...</span>\\n                    </button>\\n                  </div>\\n                </div>\\n              </div>\\n            </form>\\n          </uib-tab>\\n          \\x3c!-- !tab-file --\\x3e\\n        </uib-tabset>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"containers && (!orphaned || orphanedRunning)\">\\n  <div class=\"col-sm-12\">\\n    <containers-datatable\\n      title-text=\"Containers\"\\n      title-icon=\"fa-cubes\"\\n      dataset=\"containers\"\\n      table-key=\"stack-containers\"\\n      order-by=\"Status\"\\n      show-host-column=\"false\"\\n      show-add-action=\"false\"\\n      not-auto-focus=\"true\"\\n    ></containers-datatable>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"services && (!orphaned || orphanedRunning)\">\\n  <div class=\"col-sm-12\">\\n    <services-datatable\\n      title-text=\"Services\"\\n      title-icon=\"fa-list-alt\"\\n      dataset=\"services\"\\n      table-key=\"stack-services\"\\n      order-by=\"Name\"\\n      nodes=\"nodes\"\\n      agent-proxy=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\"\\n      show-ownership-column=\"false\"\\n      show-update-action=\"applicationState.endpoint.apiVersion >= 1.25\"\\n      show-task-logs-button=\"applicationState.endpoint.apiVersion >= 1.30\"\\n      show-add-action=\"false\"\\n      show-stack-column=\"false\"\\n      not-auto-focus=\"true\"\\n    ></services-datatable>\\n  </div>\\n</div>\\n\\n\\x3c!-- access-control-panel --\\x3e\\n<por-access-control-panel ng-if=\"stack && !orphaned\" resource-id=\"stack.EndpointId + \\'_\\' + stack.Name\" resource-control=\"stack.ResourceControl\" resource-type=\"\\'stack\\'\">\\n</por-access-control-panel>\\n\\x3c!-- !access-control-panel --\\x3e\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/stacks/create/createstack.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create stack\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.stacks\">Stacks</a> &gt; Add stack </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"createStackForm\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"stack_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                ng-model=\"formValues.Name\"\\n                id=\"stack_name\"\\n                name=\"stack_name\"\\n                placeholder=\"e.g. mystack\"\\n                auto-focus\\n                ng-pattern=\"STACK_NAME_VALIDATION_REGEX\"\\n              />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"createStackForm.stack_name.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"createStackForm.stack_name.$error\">\\n                <p ng-message=\"pattern\">\\n                  <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                  <span>This field must consist of lower case alphanumeric characters, \\'_\\' or \\'-\\' (e.g. \\'my-name\\', or \\'abc-123\\').</span>\\n                </p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12 text-muted small\" ng-if=\"state.StackType === 1\">\\n              This stack will be deployed using the equivalent of the <code>docker stack deploy</code> command.\\n            </span>\\n            <div class=\"col-sm-12 text-muted small\" ng-if=\"state.StackType === 2 && composeSyntaxMaxVersion == 2\">\\n              <div style=\"margin-bottom: 7px;\">\\n                This stack will be deployed using the equivalent of <code>docker-compose</code>. Only Compose file format version <b>2</b> is supported at the moment.\\n              </div>\\n              <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n              Note: Due to a limitation of libcompose, the name of the stack will be standardized to remove all special characters and uppercase letters.\\n            </div>\\n            <span class=\"col-sm-12 text-muted small\" ng-if=\"state.StackType === 2 && composeSyntaxMaxVersion > 2\">\\n              This stack will be deployed using <code>docker-compose</code>.\\n            </span>\\n          </div>\\n          \\x3c!-- build-method --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Build method\\n          </div>\\n          <div class=\"form-group\"></div>\\n          <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n            <div class=\"boxselector_wrapper\">\\n              <div>\\n                <input type=\"radio\" id=\"method_editor\" ng-model=\"state.Method\" value=\"editor\" />\\n                <label for=\"method_editor\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-edit\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Web editor\\n                  </div>\\n                  <p>Use our Web editor</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"method_upload\" ng-model=\"state.Method\" value=\"upload\" />\\n                <label for=\"method_upload\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-upload\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Upload\\n                  </div>\\n                  <p>Upload from your computer</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"method_repository\" ng-model=\"state.Method\" value=\"repository\" />\\n                <label for=\"method_repository\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fab fa-git\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Repository\\n                  </div>\\n                  <p>Use a git repository</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"method_template\" ng-model=\"state.Method\" value=\"template\" />\\n                <label for=\"method_template\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-rocket\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Custom template\\n                  </div>\\n                  <p>Use a custom template</p>\\n                </label>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !build-method --\\x3e\\n\\n          \\x3c!-- upload --\\x3e\\n          <div ng-show=\"state.Method === \\'upload\\'\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Upload\\n            </div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                You can upload a Compose file from your computer.\\n              </span>\\n              <div class=\"col-sm-12\" ng-if=\"state.uploadYamlValidationError\"\\n                ><span class=\"text-danger small\">{{ state.uploadYamlValidationError }}</span></div\\n              >\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select=\"uploadFile($file)\">Select file</button>\\n                <span style=\"margin-left: 5px;\">\\n                  {{ formValues.StackFile.name }}\\n                  <i class=\"fa fa-times red-icon\" ng-if=\"!formValues.StackFile\" aria-hidden=\"true\"></i>\\n                </span>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !upload --\\x3e\\n          <git-form\\n            ng-if=\"state.Method === \\'repository\\'\"\\n            model=\"formValues\"\\n            on-change=\"(onChangeFormValues)\"\\n            additional-file=\"true\"\\n            auto-update=\"true\"\\n            show-auth-explanation=\"true\"\\n            path-text-title=\"Compose path\"\\n            path-placeholder=\"docker-compose.yml\"\\n          ></git-form>\\n\\n          <custom-template-selector\\n            ng-show=\"state.Method === \\'template\\'\"\\n            new-template-path=\"docker.templates.custom.new\"\\n            stack-type=\"state.StackType\"\\n            on-change=\"(onChangeTemplateId)\"\\n            value=\"state.selectedTemplateId\"\\n          ></custom-template-selector>\\n\\n          <web-editor-form\\n            ng-if=\"state.Method === \\'editor\\' || (state.Method === \\'template\\' && state.selectedTemplateId)\"\\n            identifier=\"stack-creation-editor\"\\n            value=\"formValues.StackFileContent\"\\n            on-change=\"(onChangeFileContent)\"\\n            ng-required=\"true\"\\n            yml=\"true\"\\n            placeholder=\"# Define or paste the content of your docker-compose file here\"\\n          >\\n            <editor-description>\\n              <span class=\"col-sm-12 text-muted small\">\\n                You can get more information about Compose file format in the <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\">official documentation</a>.\\n              </span>\\n              <div class=\"col-sm-12\" ng-if=\"state.editorYamlValidationError\">\\n                <span class=\"text-danger small\">{{ state.editorYamlValidationError }}</span>\\n              </div>\\n            </editor-description>\\n          </web-editor-form>\\n\\n          \\x3c!-- environment-variables --\\x3e\\n          <environment-variables-panel ng-model=\"formValues.Env\" explanation=\"These values will be used as substitutions in the stack file\" on-change=\"(handleEnvVarChange)\">\\n          </environment-variables-panel>\\n          \\x3c!-- !environment-variables --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress\\n              || !createStackForm.$valid\\n              || ((state.Method === \\'editor\\' || state.Method === \\'template\\') && (!formValues.StackFileContent || state.editorYamlValidationError))\\n              || (state.Method === \\'upload\\' && (!formValues.StackFile || state.uploadYamlValidationError))\\n              || (state.Method === \\'repository\\' && ((!formValues.RepositoryURL || !formValues.ComposeFilePathInRepository) || (formValues.RepositoryAuthentication && !formValues.RepositoryPassword)))\\n              || !formValues.Name\"\\n                ng-click=\"deployStack()\"\\n                button-spinner=\"state.actionInProgress\"\\n                analytics-on\\n                analytics-category=\"docker\"\\n                analytics-event=\"docker-stack-create\"\\n                analytics-properties=\"buildAnalyticsProperties()\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Deploy the stack</span>\\n                <span ng-show=\"state.actionInProgress\">Deployment in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px;\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/swarm/swarm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Cluster overview\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.swarm\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Swarm</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-object-group\" title-text=\"Cluster status\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Nodes</td>\\n              <td>{{ info.Swarm.Nodes }}</td>\\n            </tr>\\n            <tr>\\n              <td>Docker API version</td>\\n              <td>{{ docker.ApiVersion }}</td>\\n            </tr>\\n            <tr>\\n              <td>Total CPU</td>\\n              <td>{{ totalCPU }}</td>\\n            </tr>\\n            <tr>\\n              <td>Total memory</td>\\n              <td>{{ totalMemory | humansize: 2 }}</td>\\n            </tr>\\n            <tr>\\n              <td colspan=\"2\">\\n                <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n                  <a ui-sref=\"docker.swarm.visualizer\"><i class=\"fa fa-object-group space-right\" aria-hidden=\"true\"></i>Go to cluster visualizer</a>\\n                </div>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <nodes-datatable\\n      title-text=\"Nodes\"\\n      title-icon=\"fa-hdd\"\\n      dataset=\"nodes\"\\n      table-key=\"nodes\"\\n      order-by=\"Hostname\"\\n      show-ip-address-column=\"applicationState.endpoint.apiVersion >= 1.25\"\\n      access-to-node-details=\"isAdmin\"\\n      refresh-callback=\"getNodes\"\\n    ></nodes-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/swarm/visualizer/swarmvisualizer.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Swarm visualizer\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.swarm.visualizer\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.swarm\">Swarm</a> &gt; <a ui-sref=\"docker.swarm.visualizer\">Cluster visualizer</a> </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-object-group\" title-text=\"Cluster information\">\\n        <div class=\"pull-right\">\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ng-click=\"changeShowInformationPanel(true)\" ng-if=\"!state.ShowInformationPanel\">Show</button>\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ng-click=\"changeShowInformationPanel(false)\" ng-if=\"state.ShowInformationPanel\">Hide</button>\\n        </div>\\n      </rd-widget-header>\\n      <rd-widget-body ng-if=\"state.ShowInformationPanel\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Nodes</td>\\n              <td>{{ nodes.length }}</td>\\n            </tr>\\n            <tr>\\n              <td>Services</td>\\n              <td>{{ services.length }}</td>\\n            </tr>\\n            <tr>\\n              <td>Tasks</td>\\n              <td>{{ tasks.length }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n        <form class=\"form-horizontal\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Options\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\">\\n                Only display running tasks\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\">\\n                <input type=\"checkbox\" ng-model=\"state.DisplayOnlyRunningTasks\" ng-change=\"changeDisplayOnlyRunningTasks()\" /><i></i>\\n              </label>\\n            </div>\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\">\\n                Display node labels\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"state.DisplayNodeLabels\" ng-change=\"changeDisplayNodeLabels()\" /><i></i> </label>\\n            </div>\\n          </div>\\n        </form>\\n        <form class=\"form-horizontal\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Refresh\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"refreshRate\" class=\"col-sm-1 margin-sm-top control-label text-left\">\\n              Rate\\n              <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"display: none;\"></i>\\n            </label>\\n            <div class=\"col-sm-2\">\\n              <select id=\"refreshRate\" ng-model=\"state.refreshRate\" ng-change=\"changeUpdateRepeater()\" class=\"form-control\">\\n                <option value=\"5\">5s</option>\\n                <option value=\"10\">10s</option>\\n                <option value=\"30\">30s</option>\\n                <option value=\"60\">60s</option>\\n              </select>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"visualizerData\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-object-group\" title-text=\"Cluster visualizer\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"visualizer_container\">\\n          <div class=\"node\" ng-repeat=\"node in visualizerData.nodes | orderBy : [\\'Role\\', \\'Hostname\\'] track by $index\">\\n            <div class=\"node_info\">\\n              <div>\\n                <div>\\n                  <b>{{ node.Name || node.Hostname }}</b>\\n                  <span class=\"node_platform\">\\n                    <i class=\"fab fa-linux\" aria-hidden=\"true\" ng-if=\"node.PlatformOS === \\'linux\\'\"></i>\\n                    <i class=\"fab fa-windows\" aria-hidden=\"true\" ng-if=\"node.PlatformOS === \\'windows\\'\"></i>\\n                  </span>\\n                </div>\\n              </div>\\n              <div>{{ node.Role }}</div>\\n              <div>CPU: {{ node.CPUs / 1000000000 }}</div>\\n              <div>Memory: {{ node.Memory | humansize: 2 }}</div>\\n              <div\\n                ><span class=\"label label-{{ node.Status | nodestatusbadge }}\">{{ node.Status }}</span></div\\n              >\\n              <div class=\"node_labels\" ng-if=\"node.Labels.length > 0 && state.DisplayNodeLabels\">\\n                <div>Labels</div>\\n                <div class=\"node_label\" ng-repeat=\"label in node.Labels\">\\n                  <span class=\"label_key\">\\n                    {{ label.key }}\\n                  </span>\\n                  <span class=\"label_value\" ng-if=\"label.value\"> = {{ label.value }} </span>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\"tasks\">\\n              <div\\n                class=\"task task_{{ task.Status.State | visualizerTask }}\"\\n                style=\"border: 2px solid {{ task.ServiceId | visualizerTaskBorderColor }}\"\\n                ng-repeat=\"task in node.Tasks | orderBy: \\'ServiceName\\' | filter: (state.DisplayOnlyRunningTasks || \\'\\') && { Status: { State: \\'running\\' } }\"\\n              >\\n                <div class=\"service_name\">{{ task.ServiceName }}</div>\\n                <div>Image: {{ task.Spec.ContainerSpec.Image | hideshasum }}</div>\\n                <div>Status: {{ task.Status.State }}</div>\\n                <div>Update: {{ task.Updated | getisodate }}</div>\\n                <div ng-if=\"task.Spec.Resources.Limits.MemoryBytes\">Memory limit: {{ task.Spec.Resources.Limits.MemoryBytes | humansize: 2:2 }}</div>\\n                <div ng-if=\"task.Spec.Resources.Limits.NanoCPUs\">CPU limit: {{ task.Spec.Resources.Limits.NanoCPUs / 1000000000 }}</div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/tasks/edit/task.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Task details\"></rd-header-title>\\n  <rd-header-content ng-if=\"task && service\">\\n    <a ui-sref=\"docker.services\">Services</a> &gt; <a ui-sref=\"docker.services.service({id: service.Id })\">{{ service.Name }}</a> &gt; {{ task.Id }}\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"task && service\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-tasks\" title-text=\"Task status\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>ID</td>\\n              <td>{{ task.Id }}</td>\\n            </tr>\\n            <tr>\\n              <td>State</td>\\n              <td\\n                ><span class=\"label label-{{ task.Status.State | taskstatusbadge }}\">{{ task.Status.State }}</span></td\\n              >\\n            </tr>\\n            <tr>\\n              <td>State Message</td>\\n              <td>{{ task.Status.Message }}</td>\\n            </tr>\\n            <tr ng-if=\"task.Status.Err\">\\n              <td>Error message</td>\\n              <td\\n                ><code>{{ task.Status.Err }}</code></td\\n              >\\n            </tr>\\n            <tr>\\n              <td>Image</td>\\n              <td>{{ task.Spec.ContainerSpec.Image | hideshasum }}</td>\\n            </tr>\\n            <tr ng-if=\"service.Mode !== \\'global\\'\">\\n              <td>Slot</td>\\n              <td>{{ task.Slot }}</td>\\n            </tr>\\n            <tr>\\n              <td>Created</td>\\n              <td>{{ task.Created | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"task.Status.ContainerStatus.ContainerID\">\\n              <td>Container ID</td>\\n              <td>{{ task.Status.ContainerStatus.ContainerID }}</td>\\n            </tr>\\n            <tr ng-if=\"applicationState.endpoint.apiVersion >= 1.3 && task.Status.State | taskhaslogs\">\\n              <td colspan=\"2\"\\n                ><a class=\"btn btn-primary btn-sm\" type=\"button\" ui-sref=\"docker.tasks.task.logs({id: task.Id})\"\\n                  ><i class=\"fa fa-file-alt space-right\" aria-hidden=\"true\"></i>Task logs</a\\n                ></td\\n              >\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/tasks/logs/tasklogs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Task details\"></rd-header-title>\\n  <rd-header-content ng-if=\"task && service\">\\n    <a ui-sref=\"docker.services\">Services</a> &gt; <a ui-sref=\"docker.services.service({id: service.Id })\">{{ service.Name }}</a> &gt;\\n    <a ui-sref=\"docker.tasks.task({id: task.Id })\">{{ task.Id }}</a> &gt; Logs\\n  </rd-header-content>\\n</rd-header>\\n\\n<log-viewer\\n  data=\"logs\"\\n  ng-if=\"logs\"\\n  log-collection-change=\"changeLogCollection\"\\n  display-timestamps=\"state.displayTimestamps\"\\n  line-count=\"state.lineCount\"\\n  since-timestamp=\"state.sinceTimestamp\"\\n  resource-name=\"task.Id\"\\n></log-viewer>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/templates/templates.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header id=\"view-top\">\\n  <rd-header-title title-text=\"Application templates list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.templates\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Templates</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  \\x3c!-- stack-form --\\x3e\\n  <stack-from-template-form\\n    ng-if=\"state.selectedTemplate && (state.selectedTemplate.Type === 2 || state.selectedTemplate.Type === 3)\"\\n    template=\"state.selectedTemplate\"\\n    form-values=\"formValues\"\\n    state=\"state\"\\n    create-template=\"createTemplate\"\\n    unselect-template=\"unselectTemplate\"\\n  >\\n  </stack-from-template-form>\\n  \\x3c!-- !stack-form --\\x3e\\n  \\x3c!-- container-form --\\x3e\\n  <div class=\"col-sm-12\" ng-if=\"state.selectedTemplate && state.selectedTemplate.Type === 1\">\\n    <rd-widget>\\n      <rd-widget-custom-header icon=\"state.selectedTemplate.Logo\" title-text=\"state.selectedTemplate.Image\"></rd-widget-custom-header>\\n      <rd-widget-body classes=\"padding\">\\n        <form class=\"form-horizontal\" name=\"selectedTemplateType1\">\\n          \\x3c!-- description --\\x3e\\n          <div ng-if=\"state.selectedTemplate.Note\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Information\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <div class=\"template-note\" ng-if=\"state.selectedTemplate.Note\" ng-bind-html=\"state.selectedTemplate.Note\"></div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !description --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Configuration\\n          </div>\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_name\" class=\"col-sm-2 control-label text-left\">Name</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" name=\"container_name\" class=\"form-control\" ng-model=\"formValues.name\" placeholder=\"e.g. web (optional)\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- network-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_network\" class=\"col-sm-2 control-label text-left\">Network</label>\\n            <div class=\"col-sm-10\">\\n              <select class=\"form-control\" ng-options=\"net.Name for net in availableNetworks | orderBy: \\'Name\\'\" ng-model=\"formValues.network\">\\n                <option disabled hidden value=\"\">Select a network</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !network-input --\\x3e\\n          \\x3c!-- env --\\x3e\\n          <div ng-repeat=\"var in state.selectedTemplate.Env\" ng-if=\"!var.preset || var.select\" class=\"form-group\">\\n            <label for=\"field_{{ $index }}\" class=\"col-sm-2 control-label text-left\">\\n              {{ var.label }}\\n              <portainer-tooltip ng-if=\"var.description\" position=\"bottom\" message=\"{{ var.description }}\"></portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-if=\"!var.select\" ng-model=\"var.value\" id=\"field_{{ $index }}\" />\\n              <select class=\"form-control\" ng-if=\"var.select\" ng-model=\"var.value\" id=\"field_{{ $index }}\">\\n                <option selected disabled hidden value=\"\">Select value</option>\\n                <option ng-repeat=\"choice in var.select\" value=\"{{ choice.value }}\">{{ choice.text }}</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !env --\\x3e\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <a class=\"small interactive\" ng-if=\"!state.showAdvancedOptions\" ng-click=\"state.showAdvancedOptions = true;\">\\n                <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i> Show advanced options\\n              </a>\\n              <a class=\"small interactive\" ng-if=\"state.showAdvancedOptions\" ng-click=\"state.showAdvancedOptions = false;\">\\n                <i class=\"fa fa-minus space-right\" aria-hidden=\"true\"></i> Hide advanced options\\n              </a>\\n            </div>\\n          </div>\\n          <div ng-if=\"state.showAdvancedOptions\">\\n            \\x3c!-- port-mapping --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                <label class=\"control-label text-left\">Port mapping</label>\\n                <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addPortBinding()\">\\n                  <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> map additional port\\n                </span>\\n              </div>\\n              <div class=\"col-sm-12\" style=\"margin-top: 10px;\" ng-if=\"state.selectedTemplate.Ports.length > 0\">\\n                <span class=\"small text-muted\">Portainer will automatically assign a port if you leave the host port empty.</span>\\n              </div>\\n              \\x3c!-- !port-mapping --\\x3e\\n              \\x3c!-- port-mapping-input-list --\\x3e\\n              <div class=\"col-sm-12\">\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"portBinding in state.selectedTemplate.Ports\" style=\"margin-top: 2px;\">\\n                    \\x3c!-- host-port --\\x3e\\n                    <div class=\"input-group col-sm-4 input-group-sm\">\\n                      <span class=\"input-group-addon\">host</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"portBinding.hostPort\" placeholder=\"e.g. 80 or 1.2.3.4:80 (optional)\" />\\n                    </div>\\n                    \\x3c!-- !host-port --\\x3e\\n                    <span style=\"margin: 0 10px 0 10px;\">\\n                      <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                    </span>\\n                    \\x3c!-- container-port --\\x3e\\n                    <div class=\"input-group col-sm-4 input-group-sm\">\\n                      <span class=\"input-group-addon\">container</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"portBinding.containerPort\" placeholder=\"e.g. 80\" />\\n                    </div>\\n                    \\x3c!-- !container-port --\\x3e\\n                    \\x3c!-- protocol-actions --\\x3e\\n                    <div class=\"input-group col-sm-3 input-group-sm\">\\n                      <div class=\"btn-group btn-group-sm\">\\n                        <label class=\"btn btn-primary\" ng-model=\"portBinding.protocol\" uib-btn-radio=\"\\'tcp\\'\">TCP</label>\\n                        <label class=\"btn btn-primary\" ng-model=\"portBinding.protocol\" uib-btn-radio=\"\\'udp\\'\">UDP</label>\\n                      </div>\\n                      <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePortBinding($index)\">\\n                        <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                      </button>\\n                    </div>\\n                    \\x3c!-- !protocol-actions --\\x3e\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !port-mapping-input-list --\\x3e\\n            \\x3c!-- volume-mapping --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                <label class=\"control-label text-left\">Volume mapping</label>\\n                <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addVolume()\">\\n                  <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> map additional volume\\n                </span>\\n              </div>\\n              <div class=\"col-sm-12\" style=\"margin-top: 10px;\" ng-if=\"state.selectedTemplate.Volumes.length > 0\">\\n                <span class=\"small text-muted\">Portainer will automatically create and map a local volume when using the <b>auto</b> option.</span>\\n              </div>\\n              <div ng-repeat=\"volume in state.selectedTemplate.Volumes\">\\n                <div class=\"col-sm-12\" style=\"margin-top: 10px;\">\\n                  \\x3c!-- volume-line1 --\\x3e\\n                  <div class=\"col-sm-12 form-inline\">\\n                    \\x3c!-- container-path --\\x3e\\n                    <div class=\"input-group input-group-sm col-sm-6\">\\n                      <span class=\"input-group-addon\">container</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"volume.container\" placeholder=\"e.g. /path/in/container\" />\\n                    </div>\\n                    \\x3c!-- !container-path --\\x3e\\n                    \\x3c!-- volume-type --\\x3e\\n                    <div class=\"input-group col-sm-5\" style=\"margin-left: 5px;\">\\n                      <div class=\"btn-group btn-group-sm\">\\n                        <label class=\"btn btn-primary\" ng-model=\"volume.type\" uib-btn-radio=\"\\'auto\\'\" ng-click=\"volume.bind = \\'\\'\">Auto</label>\\n                        <label class=\"btn btn-primary\" ng-model=\"volume.type\" uib-btn-radio=\"\\'volume\\'\" ng-click=\"volume.bind = \\'\\'\">Volume</label>\\n                        <label class=\"btn btn-primary\" ng-model=\"volume.type\" uib-btn-radio=\"\\'bind\\'\" ng-click=\"volume.bind = \\'\\'\" ng-if=\"isAdmin || allowBindMounts\">Bind</label>\\n                      </div>\\n                      <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeVolume($index)\">\\n                        <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                      </button>\\n                    </div>\\n                    \\x3c!-- !volume-type --\\x3e\\n                  </div>\\n                  \\x3c!-- !volume-line1 --\\x3e\\n                  \\x3c!-- volume-line2 --\\x3e\\n                  <div class=\"col-sm-12 form-inline\" style=\"margin-top: 5px;\" ng-if=\"volume.type !== \\'auto\\'\">\\n                    <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                    \\x3c!-- volume --\\x3e\\n                    <div class=\"input-group input-group-sm col-sm-6\" ng-if=\"volume.type === \\'volume\\'\">\\n                      <div class=\"col-sm-12 input-group\">\\n                        <span class=\"input-group-addon\">volume</span>\\n                        <div class=\"col-sm-12 input-group\">\\n                          <select class=\"form-control\" ng-model=\"volume.bind\" ng-options=\"vol.Name as vol.Name for vol in availableVolumes\">\\n                            <option value=\"\" disabled selected>Select a volume</option>\\n                          </select>\\n                        </div>\\n                      </div>\\n                    </div>\\n                    \\x3c!-- !volume --\\x3e\\n                    \\x3c!-- bind --\\x3e\\n                    <div class=\"input-group input-group-sm col-sm-6\" ng-if=\"volume.type === \\'bind\\'\">\\n                      <span class=\"input-group-addon\">host</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"volume.bind\" placeholder=\"e.g. /path/on/host\" />\\n                    </div>\\n                    \\x3c!-- !bind --\\x3e\\n                    \\x3c!-- read-only --\\x3e\\n                    <div class=\"input-group input-group-sm col-sm-5\" style=\"margin-left: 5px;\">\\n                      <div class=\"btn-group btn-group-sm\">\\n                        <label class=\"btn btn-primary\" ng-model=\"volume.readonly\" uib-btn-radio=\"false\">Writable</label>\\n                        <label class=\"btn btn-primary\" ng-model=\"volume.readonly\" uib-btn-radio=\"true\">Read-only</label>\\n                      </div>\\n                    </div>\\n                    \\x3c!-- !read-only --\\x3e\\n                  </div>\\n                  \\x3c!-- !volume-line2 --\\x3e\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !volume-mapping --\\x3e\\n            \\x3c!-- extra-host --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                <label class=\"control-label text-left\">Hosts file entries</label>\\n                <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addExtraHost()\">\\n                  <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add additional entry\\n                </span>\\n              </div>\\n              \\x3c!-- extra-host-input-list --\\x3e\\n              <div class=\"col-sm-12\">\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"(idx, host) in state.selectedTemplate.Hosts track by $index\" style=\"margin-top: 2px;\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"state.selectedTemplate.Hosts[idx]\" placeholder=\"e.g. host:IP\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeExtraHost($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !extra-host --\\x3e\\n            \\x3c!-- labels --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                <label class=\"control-label text-left\">Labels</label>\\n                <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addLabel()\">\\n                  <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label\\n                </span>\\n              </div>\\n              \\x3c!-- labels-input-list --\\x3e\\n              <div class=\"col-sm-12\">\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                  <div ng-repeat=\"label in state.selectedTemplate.Labels\" style=\"margin-top: 2px;\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">name</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.name\" placeholder=\"e.g. com.example.foo\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">value</span>\\n                      <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                    </div>\\n                    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel($index)\">\\n                      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !labels-input-list --\\x3e\\n            </div>\\n            \\x3c!-- !labels --\\x3e\\n            \\x3c!-- hostname --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"container_hostname\" class=\"col-sm-2 control-label text-left\">Hostname</label>\\n              <div class=\"col-sm-10\">\\n                <input type=\"text\" name=\"container_hostname\" class=\"form-control\" ng-model=\"state.selectedTemplate.Hostname\" placeholder=\"leave empty to use docker default\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !hostname --\\x3e\\n          </div>\\n          \\x3c!-- !advanced-options --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !formValues.network\"\\n                ng-click=\"createTemplate()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Deploy the container</span>\\n                <span ng-show=\"state.actionInProgress\">Deployment in progress...</span>\\n              </button>\\n              <button type=\"button\" class=\"btn btn-sm btn-default\" ng-click=\"unselectTemplate(state.selectedTemplate)\">Hide</button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px;\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n  \\x3c!-- container-form --\\x3e\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <template-list\\n      ng-if=\"templates\"\\n      title-text=\"Templates\"\\n      title-icon=\"fa-rocket\"\\n      templates=\"templates\"\\n      table-key=\"templates\"\\n      select-action=\"selectTemplate\"\\n      show-swarm-stacks=\"applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\' && applicationState.endpoint.mode.role === \\'MANAGER\\' && applicationState.endpoint.apiVersion >= 1.25\"\\n    ></template-list>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/volumes/volumes.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Volume list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.volumes\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Volumes</rd-header-content>\\n</rd-header>\\n<information-panel-offline ng-if=\"offlineMode\"></information-panel-offline>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <volumes-datatable\\n      title-text=\"Volumes\"\\n      title-icon=\"fa-hdd\"\\n      dataset=\"volumes\"\\n      table-key=\"volumes\"\\n      order-by=\"Id\"\\n      remove-action=\"removeAction\"\\n      show-host-column=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\"\\n      show-browse-action=\"showBrowseAction\"\\n      offline-mode=\"offlineMode\"\\n      refresh-callback=\"getVolumes\"\\n    ></volumes-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/volumes/edit/volume.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Volume details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.volumes\">Volumes</a> &gt; <a ui-sref=\"docker.volumes.volume({id: volume.Id})\">{{ volume.Id }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"volume\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-cube\" title-text=\"Volume details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>ID</td>\\n              <td>\\n                {{ volume.Id }}\\n                <button authorization=\"DockerVolumeDelete\" class=\"btn btn-xs btn-danger\" ng-click=\"removeVolume()\"\\n                  ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove this volume</button\\n                >\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Created</td>\\n              <td>{{ volume.CreatedAt | getisodate }}</td>\\n            </tr>\\n            <tr>\\n              <td>Mount path</td>\\n              <td>{{ volume.Mountpoint }}</td>\\n            </tr>\\n            <tr>\\n              <td>Driver</td>\\n              <td>{{ volume.Driver }}</td>\\n            </tr>\\n            <tr ng-if=\"!(volume.Labels | emptyobject)\">\\n              <td>Labels</td>\\n              <td>\\n                <table class=\"table table-bordered table-condensed\">\\n                  <tr ng-repeat=\"(k, v) in volume.Labels\">\\n                    <td>{{ k }}</td>\\n                    <td>{{ v }}</td>\\n                  </tr>\\n                </table>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"isCioDriver\">\\n  <div class=\"col-sm-12\">\\n    <volume-storidge-info volume=\"storidgeVolume\"> </volume-storidge-info>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"isCioDriver\">\\n  <div class=\"col-sm-12\">\\n    <storidge-snapshot-creation volume-id=\"storidgeVolume.Vdisk\" ng-if=\"storidgeVolume.SnapshotEnabled\"> </storidge-snapshot-creation>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"isCioDriver && storidgeVolume.SnapshotEnabled\">\\n  <div class=\"col-sm-12\">\\n    <storidge-snapshots-datatable\\n      title-text=\"Snapshots\"\\n      title-icon=\"fa-camera\"\\n      dataset=\"storidgeSnapshots\"\\n      table-key=\"storidgeSnapshots\"\\n      order-by=\"Id\"\\n      remove-action=\"removeSnapshot\"\\n    >\\n    </storidge-snapshots-datatable>\\n  </div>\\n</div>\\n\\n\\x3c!-- access-control-panel --\\x3e\\n<por-access-control-panel ng-if=\"volume\" resource-id=\"volume.ResourceId\" resource-control=\"volume.ResourceControl\" resource-type=\"\\'volume\\'\"> </por-access-control-panel>\\n\\x3c!-- !access-control-panel --\\x3e\\n\\n<div class=\"row\" ng-if=\"!(volume.Options | emptyobject)\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-cogs\" title-text=\"Volume options\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr ng-repeat=\"(key, value) in volume.Options\">\\n              <td>{{ key }}</td>\\n              <td>{{ value }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n<div class=\"row\" ng-if=\"containersUsingVolume.length > 0\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-cubes\" title-text=\"Containers using volume\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <thead>\\n            <th>Container Name</th>\\n            <th>Mounted At</th>\\n            <th>Read-only</th>\\n          </thead>\\n          <tbody>\\n            <tr ng-repeat=\"container in containersUsingVolume\">\\n              <td\\n                ><a ui-sref=\"docker.containers.container({ id: container.Id, nodeName: container.NodeName })\">{{ container | containername }}</a></td\\n              >\\n              <td>{{ container.volumeData.Destination }}</td>\\n              <td>{{ !container.volumeData.RW }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/volumes/browse/browsevolume.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Volume browser\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.volumes\">Volumes</a> &gt; <a ui-sref=\"docker.volumes.volume({ id: volumeId })\">{{ volumeId }}</a> &gt; browse\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <volume-browser volume-id=\"volumeId\" node-name=\"nodeName\" is-upload-enabled=\"agentApiVersion > 1\"></volume-browser>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/volumes/create/createvolume.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create volume\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.volumes\">Volumes</a> &gt; Add volume </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"volumeCreationForm\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"volume_name\" class=\"col-sm-2 col-md-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-10 col-md-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Name\" id=\"volume_name\" placeholder=\"e.g. myVolume\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Driver configuration\\n          </div>\\n          \\x3c!-- driver-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"volume_driver\" class=\"col-sm-2 col-md-1 control-label text-left\">Driver</label>\\n            <div class=\"col-sm-10 col-md-11\">\\n              <select class=\"form-control\" ng-options=\"driver for driver in availableVolumeDrivers\" ng-model=\"formValues.Driver\" ng-if=\"availableVolumeDrivers.length > 0\">\\n                <option disabled hidden value=\"\">Select a driver</option>\\n              </select>\\n              <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Driver\" id=\"volume_driver\" placeholder=\"e.g. driverName\" ng-if=\"availableVolumeDrivers.length === 0\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !driver-input --\\x3e\\n          \\x3c!-- driver-options --\\x3e\\n          <div class=\"form-group\" ng-hide=\"formValues.CIFSData.useCIFS || formValues.NFSData.useNFS\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n              <label class=\"control-label text-left\">\\n                Driver options\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"Driver options are specific to the selected driver. Please refer to the selected driver documentation.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addDriverOption()\">\\n                <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add driver option\\n              </span>\\n            </div>\\n            \\x3c!-- driver-options-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n              <div ng-repeat=\"option in formValues.DriverOptions\" style=\"margin-top: 2px;\">\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">name</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"option.name\" placeholder=\"e.g. mountpoint\" />\\n                </div>\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">value</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"option.value\" placeholder=\"e.g. /path/on/host\" />\\n                </div>\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeDriverOption($index)\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !driver-options-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !driver-options --\\x3e\\n          \\x3c!-- nfs-management --\\x3e\\n          <div class=\"form-group col-md-12\">\\n            <label for=\"useNFS\" class=\"control-label text-left\">\\n              Use NFS volume\\n            </label>\\n            <label class=\"switch\" style=\"margin-left: 20px;\">\\n              <input type=\"checkbox\" name=\"useNFS\" ng-model=\"formValues.NFSData.useNFS\" ng-click=\"formValues.CIFSData.useCIFS = false\" />\\n              <i></i>\\n            </label>\\n            <div ng-if=\"formValues.NFSData.useNFS\" class=\"small text-muted\" style=\"margin-top: 10px;\"> Ensure <code>nfs-utils</code> are installed on your hosts. </div>\\n          </div>\\n          <volumes-nfs-form data=\"formValues.NFSData\" ng-show=\"formValues.Driver === \\'local\\'\"></volumes-nfs-form>\\n          \\x3c!-- !nfs-management --\\x3e\\n          \\x3c!-- cifs-management --\\x3e\\n          <div class=\"form-group col-md-12\">\\n            <label for=\"useCIFS\" class=\"control-label text-left\">\\n              Use CIFS volume\\n            </label>\\n            <label class=\"switch\" style=\"margin-left: 20px;\">\\n              <input type=\"checkbox\" name=\"useCIFS\" ng-model=\"formValues.CIFSData.useCIFS\" ng-click=\"formValues.NFSData.useNFS = false\" />\\n              <i></i>\\n            </label>\\n            <div ng-if=\"formValues.CIFSData.useCIFS\" class=\"small text-muted\" style=\"margin-top: 10px;\"> Ensure <code>cifs-utils</code> are installed on your hosts. </div>\\n          </div>\\n          <volumes-cifs-form data=\"formValues.CIFSData\" ng-show=\"formValues.Driver === \\'local\\'\"></volumes-cifs-form>\\n          \\x3c!-- !cifs-management --\\x3e\\n          \\x3c!-- storidge --\\x3e\\n          <div ng-if=\"formValues.Driver === \\'cio:latest\\'\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Storidge\\n            </div>\\n            <storidge-profile-selector storidge-profile=\"formValues.StoridgeProfile\"></storidge-profile-selector>\\n          </div>\\n          \\x3c!-- storidge --\\x3e\\n          <div ng-if=\"applicationState.endpoint.mode.agentProxy && applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\' && formValues.Driver === \\'local\\'\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Deployment\\n            </div>\\n            \\x3c!-- node-selection --\\x3e\\n            <node-selector model=\"formValues.NodeName\"> </node-selector>\\n            \\x3c!-- !node-selection --\\x3e\\n          </div>\\n          \\x3c!-- access-control --\\x3e\\n          <por-access-control-form form-data=\"formValues.AccessControlData\"></por-access-control-form>\\n          \\x3c!-- !access-control --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-click=\"create()\"\\n                ng-disabled=\"state.actionInProgress || (formValues.NFSData.useNFS && !volumeCreationForm.nfsInformationForm.$valid) || (formValues.CIFSData.useCIFS && !volumeCreationForm.cifsInformationForm.$valid)\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Create the volume</span>\\n                <span ng-show=\"state.actionInProgress\">Creating volume...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px;\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/edge/views/edge-stacks/createEdgeStackView/create-edge-stack-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create Edge stack\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"edge.stacks\">Edge Stacks</a> &gt; Create Edge stack </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"$ctrl.form\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"stack_name\" class=\"col-sm-1 control-label text-left\">\\n              Name\\n            </label>\\n            <div class=\"col-sm-11\">\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                ng-model=\"$ctrl.formValues.Name\"\\n                id=\"stack_name\"\\n                name=\"nameField\"\\n                placeholder=\"e.g. mystack\"\\n                auto-focus\\n                required\\n                data-cy=\"edgeStackCreate-nameInput\"\\n              />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n\\n          <div class=\"col-sm-12 form-section-title\">\\n            Edge Groups\\n          </div>\\n          <div class=\"form-group\" ng-if=\"$ctrl.edgeGroups\">\\n            <div class=\"col-sm-12\">\\n              <edge-groups-selector ng-if=\"!$ctrl.noGroups\" model=\"$ctrl.formValues.Groups\" on-change=\"($ctrl.onChangeGroups)\" items=\"$ctrl.edgeGroups\"></edge-groups-selector>\\n            </div>\\n            <div ng-if=\"$ctrl.noGroups\" class=\"col-sm-12 small text-muted\">\\n              No Edge groups are available. Head over to the <a ui-sref=\"edge.groups\">Edge groups view</a> to create one.\\n            </div>\\n          </div>\\n\\n          <edge-stack-deployment-type-selector\\n            value=\"$ctrl.formValues.DeploymentType\"\\n            has-docker-endpoint=\"$ctrl.hasDockerEndpoint\"\\n            on-change=\"($ctrl.onChangeDeploymentType)\"\\n          ></edge-stack-deployment-type-selector>\\n\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <div class=\"small text-muted space-right\" ng-if=\"$ctrl.formValues.DeploymentType === 0 && $ctrl.hasKubeEndpoint()\">\\n                <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i>\\n                Portainer uses <a href=\"https://kompose.io/\" target=\"_blank\">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that not all\\n                the Compose format options are supported by Kompose at the moment.\\n              </div>\\n            </div>\\n          </div>\\n\\n          <edge-stacks-docker-compose-form ng-if=\"$ctrl.formValues.DeploymentType == 0\" form-values=\"$ctrl.formValues\" state=\"$ctrl.state\"></edge-stacks-docker-compose-form>\\n\\n          <edge-stacks-kube-manifest-form ng-if=\"$ctrl.formValues.DeploymentType == 1\" form-values=\"$ctrl.formValues\" state=\"$ctrl.state\"></edge-stacks-kube-manifest-form>\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.state.actionInProgress || $ctrl.formIsInvalid()\"\\n                ng-click=\"$ctrl.createStack()\"\\n                button-spinner=\"$ctrl.state.actionInProgress\"\\n                analytics-on\\n                analytics-event=\"edge-stack-creation\"\\n                analytics-category=\"edge\"\\n                analytics-properties=\"$ctrl.buildAnalyticsProperties()\"\\n                data-cy=\"edgeStackCreate-createStackButton\"\\n              >\\n                <span ng-hide=\"$ctrl.state.actionInProgress\">Deploy the stack</span>\\n                <span ng-show=\"$ctrl.state.actionInProgress\">Deployment in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px;\">\\n                {{ $ctrl.state.formValidationError }}\\n              </span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/edge/views/edge-stacks/createEdgeStackView/docker-compose-form/docker-compose-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\">\\n  Build method\\n</div>\\n<box-selector radio-name=\"method\" ng-model=\"$ctrl.state.Method\" options=\"$ctrl.methodOptions\" on-change=\"($ctrl.onChangeMethod)\"></box-selector>\\n\\n<web-editor-form\\n  ng-if=\"$ctrl.state.Method === \\'editor\\'\"\\n  identifier=\"stack-creation-editor\"\\n  value=\"$ctrl.formValues.StackFileContent\"\\n  on-change=\"($ctrl.onChangeFileContent)\"\\n  ng-required=\"true\"\\n  yml=\"true\"\\n  placeholder=\"# Define or paste the content of your docker-compose file here\"\\n>\\n  <editor-description>\\n    You can get more information about Compose file format in the\\n    <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\">\\n      official documentation\\n    </a>\\n    .\\n  </editor-description>\\n</web-editor-form>\\n\\n<file-upload-form ng-if=\"$ctrl.state.Method === \\'upload\\'\" file=\"$ctrl.formValues.StackFile\" on-change=\"($ctrl.onChangeFile)\" ng-required=\"true\">\\n  <file-upload-description>\\n    You can upload a Compose file from your computer.\\n  </file-upload-description>\\n</file-upload-form>\\n\\n<git-form ng-if=\"$ctrl.state.Method === \\'repository\\'\" model=\"$ctrl.formValues\" on-change=\"($ctrl.onChangeFormValues)\"></git-form>\\n\\n\\x3c!-- template --\\x3e\\n<div ng-if=\"$ctrl.state.Method === \\'template\\'\">\\n  <div class=\"form-group\">\\n    <label for=\"stack_template\" class=\"col-sm-1 control-label text-left\">\\n      Template\\n    </label>\\n    <div class=\"col-sm-11\">\\n      <select\\n        class=\"form-control\"\\n        ng-model=\"$ctrl.selectedTemplate\"\\n        ng-options=\"template as template.label for template in $ctrl.templates\"\\n        ng-change=\"$ctrl.onChangeTemplate($ctrl.selectedTemplate)\"\\n      >\\n        <option value=\"\" label=\"Select an Edge stack template\" disabled selected=\"selected\"> </option>\\n      </select>\\n    </div>\\n  </div>\\n  \\x3c!-- description --\\x3e\\n  <div ng-if=\"$ctrl.selectedTemplate.note\">\\n    <div class=\"col-sm-12 form-section-title\">\\n      Information\\n    </div>\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12\">\\n        <div class=\"template-note\" ng-bind-html=\"$ctrl.selectedTemplate.note\"></div>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !description --\\x3e\\n\\n  <web-editor-form\\n    ng-if=\"$ctrl.selectedTemplate && $ctrl.formValues.StackFileContent\"\\n    identifier=\"template-content-editor\"\\n    value=\"$ctrl.formValues.StackFileContent\"\\n    on-change=\"($ctrl.onChangeFileContent)\"\\n    yml=\"true\"\\n    placeholder=\"# Define or paste the content of your docker-compose file here\"\\n    ng-required=\"true\"\\n  >\\n  </web-editor-form>\\n\\n  \\x3c!-- !template --\\x3e\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/edge/views/edge-stacks/createEdgeStackView/kube-manifest-form/kube-manifest-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\">\\n  Build method\\n</div>\\n<box-selector radio-name=\"method\" ng-model=\"$ctrl.state.Method\" options=\"$ctrl.methodOptions\" on-change=\"($ctrl.onChangeMethod)\"></box-selector>\\n\\n<web-editor-form\\n  ng-if=\"$ctrl.state.Method === \\'editor\\'\"\\n  identifier=\"stack-creation-editor\"\\n  value=\"$ctrl.formValues.StackFileContent\"\\n  on-change=\"($ctrl.onChangeFileContent)\"\\n  yml=\"true\"\\n  placeholder=\"# Define or paste the content of your manifest here\"\\n  ng-required=\"true\"\\n>\\n  <editor-description>\\n    <kube-deploy-description></kube-deploy-description>\\n  </editor-description>\\n</web-editor-form>\\n\\n<file-upload-form ng-if=\"$ctrl.state.Method === \\'upload\\'\" file=\"$ctrl.formValues.StackFile\" on-change=\"($ctrl.onChangeFile)\" ng-required=\"true\">\\n  <file-upload-description>\\n    <kube-deploy-description></kube-deploy-description>\\n  </file-upload-description>\\n</file-upload-form>\\n\\n<git-form ng-if=\"$ctrl.state.Method === \\'repository\\'\" deploy-method=\"kubernetes\" model=\"$ctrl.formValues\" on-change=\"($ctrl.onChangeFormValues)\"></git-form>\\n')}]),e.exports=n},function(e,t){var n=\"app/edge/views/edge-stacks/createEdgeStackView/kube-deploy-description/kube-deploy-description.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<p>\\n  <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n  This feature allows you to deploy any kind of Kubernetes resource in this environment (Deployment, Secret, ConfigMap...).\\n</p>\\n<p>\\n  You can get more information about Kubernetes file format in the\\n  <a href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/\" target=\"_blank\">official documentation</a>.\\n</p>\\n')}]),e.exports=n},function(e,t,n){var a=\"app/portainer/views/sidebar/sidebar.html\",i='\\x3c!-- Sidebar --\\x3e\\n<div id=\"sidebar-wrapper\">\\n  <div class=\"sidebar-header\">\\n    <a ui-sref=\"portainer.home\" data-cy=\"portainerSidebar-homeImage\">\\n      <img ng-if=\"logo\" ng-src=\"{{ logo }}\" class=\"img-responsive logo\" />\\n      <img ng-if=\"!logo\" src=\"'+n(924)+'\" class=\"img-responsive logo\" alt=\"Portainer\" />\\n    </a>\\n    <a ng-click=\"toggleSidebar()\"><span class=\"menu-icon glyphicon glyphicon-transfer\"></span></a>\\n  </div>\\n  <div class=\"sidebar-content\">\\n    <ul class=\"sidebar\">\\n      <sidebar-menu-item path=\"portainer.home\" icon-class=\"fa-home fa-fw\" class-name=\"sidebar-list\" data-cy=\"portainerSidebar-home\">Home</sidebar-menu-item>\\n\\n      <li class=\"sidebar-title endpoint-name\" ng-if=\"applicationState.endpoint.name\">\\n        <span class=\"fa fa-plug space-right\"></span>{{ applicationState.endpoint.name }}\\n        <kubectl-shell ng-if=\"applicationState.endpoint.mode && applicationState.endpoint.mode.provider === \\'KUBERNETES\\'\" class=\"kubectl-shell\"></kubectl-shell>\\n      </li>\\n      <div ng-if=\"applicationState.endpoint.mode\">\\n        <kubernetes-sidebar\\n          ng-if=\"applicationState.endpoint.mode.provider === \\'KUBERNETES\\'\"\\n          is-sidebar-open=\"toggle\"\\n          endpoint-id=\"endpointId\"\\n          admin-access=\"isAdmin\"\\n        ></kubernetes-sidebar>\\n\\n        <azure-sidebar ng-if=\"applicationState.endpoint.mode.provider === \\'AZURE\\'\" endpoint-id=\"endpointId\"> </azure-sidebar>\\n\\n        <docker-sidebar\\n          ng-if=\"applicationState.endpoint.mode.provider !== \\'AZURE\\' && applicationState.endpoint.mode.provider !== \\'KUBERNETES\\'\"\\n          current-route-name=\"$state.current.name\"\\n          is-sidebar-open=\"toggle\"\\n          show-stacks=\"showStacks\"\\n          endpoint-api-version=\"applicationState.endpoint.apiVersion\"\\n          swarm-management=\"applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\' && applicationState.endpoint.mode.role === \\'MANAGER\\'\"\\n          standalone-management=\"applicationState.endpoint.mode.provider === \\'DOCKER_STANDALONE\\'\"\\n          admin-access=\"isAdmin || isEndpointAdmin\"\\n          offline-mode=\"endpointState.OfflineMode\"\\n          endpoint-id=\"endpointId\"\\n        ></docker-sidebar>\\n      </div>\\n\\n      <sidebar-section title=\"Integrations\" ng-if=\"applicationState.endpoint.mode && applicationState.endpoint.extensions.length > 0\" authorization=\"IntegrationStoridgeAdmin\">\\n        <sidebar-menu\\n          ng-if=\"\\n            applicationState.endpoint.mode &&\\n            applicationState.endpoint.extensions.indexOf(\\'storidge\\') !== -1 &&\\n            applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\' &&\\n            applicationState.endpoint.mode.role === \\'MANAGER\\'\\n          \"\\n          icon-class=\"fa-bolt fa-fw\"\\n          label=\"Storidge\"\\n          path=\"storidge.cluster\"\\n          is-sidebar-open=\"toggle\"\\n          children-paths=\"[\\'storidge.cluster\\', \\'storidge.profiles\\', \\'storidge.monitor\\', \\'storidge.profiles.new\\', \\'storidge.profiles.profile\\', \\'storidge.drives\\', \\'storidge.drives.drive\\', \\'storidge.cluster.node\\']\"\\n        >\\n          <sidebar-menu-item path=\"storidge.monitor\" class-name=\"sidebar-sublist\">Monitor</sidebar-menu-item>\\n          <sidebar-menu-item path=\"storidge.profiles\" class-name=\"sidebar-sublist\">Profiles</sidebar-menu-item>\\n          <sidebar-menu-item path=\"storidge.drives\" class-name=\"sidebar-sublist\">Drives</sidebar-menu-item>\\n        </sidebar-menu>\\n      </sidebar-section>\\n\\n      <sidebar-section title=\"Edge compute\" ng-if=\"isAdmin && applicationState.application.enableEdgeComputeFeatures\">\\n        <sidebar-menu-item path=\"edge.groups\" icon-class=\"fa-object-group fa-fw\" class-name=\"sidebar-list\" data-cy=\"portainerSidebar-edgeGroups\">Edge Groups</sidebar-menu-item>\\n        <sidebar-menu-item path=\"edge.stacks\" icon-class=\"fa-layer-group fa-fw\" class-name=\"sidebar-list\" data-cy=\"portainerSidebar-edgeStacks\">Edge Stacks</sidebar-menu-item>\\n        <sidebar-menu-item path=\"edge.jobs\" icon-class=\"fa-clock fa-fw\" class-name=\"sidebar-list\" data-cy=\"portainerSidebar-edgeJobs\">Edge Jobs</sidebar-menu-item>\\n      </sidebar-section>\\n\\n      <sidebar-section ng-if=\"isAdmin || isTeamLeader\" title=\"Settings\">\\n        <sidebar-menu\\n          icon-class=\"fa-users fa-fw\"\\n          label=\"Users\"\\n          path=\"portainer.users\"\\n          is-sidebar-open=\"toggle\"\\n          children-paths=\"[\\'portainer.users.user\\' ,\\'portainer.teams\\' ,\\'portainer.teams.team\\' ,\\'portainer.roles\\' ,\\'portainer.roles.role\\' ,\\'portainer.roles.new\\']\"\\n        >\\n          <sidebar-menu-item path=\"portainer.teams\" class-name=\"sidebar-sublist\" data-cy=\"portainerSidebar-teams\">Teams</sidebar-menu-item>\\n          <sidebar-menu-item path=\"portainer.roles\" class-name=\"sidebar-sublist\" data-cy=\"portainerSidebar-roles\">Roles</sidebar-menu-item>\\n        </sidebar-menu>\\n\\n        <div ng-if=\"isAdmin\">\\n          <sidebar-menu\\n            icon-class=\"fa-plug fa-fw\"\\n            label=\"Environments\"\\n            path=\"portainer.endpoints\"\\n            is-sidebar-open=\"toggle\"\\n            children-paths=\"[\\'portainer.endpoints.endpoint\\', \\'portainer.endpoints.new\\', \\'portainer.endpoints.endpoint.access\\', \\'portainer.groups\\', \\'portainer.groups.group\\', \\'portainer.groups.group.access\\', \\'portainer.groups.new\\', \\'portainer.tags\\']\"\\n          >\\n            <sidebar-menu-item path=\"portainer.groups\" class-name=\"sidebar-sublist\" data-cy=\"portainerSidebar-endpointGroups\">Groups</sidebar-menu-item>\\n            <sidebar-menu-item path=\"portainer.tags\" class-name=\"sidebar-sublist\" data-cy=\"portainerSidebar-endpointTags\">Tags</sidebar-menu-item>\\n          </sidebar-menu>\\n\\n          <sidebar-menu-item path=\"portainer.registries\" icon-class=\"fa-database fa-fw\" class-name=\"sidebar-list\" data-cy=\"portainerSidebar-registries\">\\n            Registries</sidebar-menu-item\\n          >\\n\\n          <sidebar-menu label=\"Authentication logs\" icon-class=\"fa-history fa-fw\" path=\"portainer.authLogs\" is-sidebar-open=\"toggle\" children-paths=\"[\\'portainer.activityLogs\\']\">\\n            <sidebar-menu-item path=\"portainer.activityLogs\" class-name=\"sidebar-sublist\" data-cy=\"portainerSidebar-activityLogs\">Activity Logs</sidebar-menu-item>\\n          </sidebar-menu>\\n\\n          <sidebar-menu label=\"Settings\" icon-class=\"fa-cogs fa-fw\" path=\"portainer.settings\" is-sidebar-open=\"toggle\" children-paths=\"[\\'portainer.settings.authentication\\']\">\\n            <sidebar-menu-item path=\"portainer.settings.authentication\" class-name=\"sidebar-sublist\" data-cy=\"portainerSidebar-authentication\">Authentication</sidebar-menu-item>\\n\\n            <div class=\"sidebar-sublist\">\\n              <a href=\"https://www.portainer.io/community_help\" target=\"_blank\" data-cy=\"portainerSidebar-help\">Help / About</a>\\n            </div>\\n          </sidebar-menu>\\n        </div>\\n      </sidebar-section>\\n    </ul>\\n    <div class=\"sidebar-footer-content\">\\n      <div class=\"update-notification\" ng-if=\"applicationState.application.versionStatus.UpdateAvailable\">\\n        <a target=\"_blank\" href=\"https://github.com/portainer/portainer/releases/tag/{{ applicationState.application.versionStatus.LatestVersion }}\" style=\"color: #091e5d;\">\\n          <i class=\"fa-lg fas fa-cloud-download-alt\" style=\"margin-right: 2px;\"></i> A new version is available\\n        </a>\\n      </div>\\n      <div>\\n        <img src=\"'+n(925)+'\" class=\"img-responsive logo\" alt=\"Portainer\" />\\n        <span class=\"version\" data-cy=\"portainerSidebar-versionNumber\">{{ uiVersion }}</span>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\x3c!-- End Sidebar --\\x3e\\n';window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(a,i)}]),e.exports=a},function(e,t,n){e.exports=n.p+\"f461b0cc3c2692b7b8475389b6a051ec.png\"},function(e,t,n){e.exports=n.p+\"24b23490023e318f9c08cf94253542a0.png\"},function(e,t){var n=\"app/portainer/views/account/account.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"User settings\"></rd-header-title>\\n  <rd-header-content>User settings</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-lock\" title-text=\"Change user password\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n          \\x3c!-- current-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"current_password\" class=\"col-sm-2 control-label text-left\">Current password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.currentPassword\" id=\"current_password\" />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !current-password-input --\\x3e\\n          \\x3c!-- new-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"new_password\" class=\"col-sm-2 control-label text-left\">New password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.newPassword\" id=\"new_password\" />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !new-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <i ng-class=\"{ true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[formValues.newPassword.length >= 8]\" aria-hidden=\"true\"></i>\\n              <span class=\"small text-muted\">Your new password must be at least 8 characters long</span>\\n            </div>\\n          </div>\\n          \\x3c!-- confirm-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"confirm_password\" class=\"col-sm-2 control-label text-left\">Confirm password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.confirmPassword\" id=\"confirm_password\" />\\n                <span class=\"input-group-addon\"\\n                  ><i\\n                    ng-class=\"\\n                      { true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[formValues.newPassword !== \\'\\' && formValues.newPassword === formValues.confirmPassword]\\n                    \"\\n                    aria-hidden=\"true\"\\n                  ></i\\n                ></span>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !confirm-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"(AuthenticationMethod !== 1 && userID !== 1) || !formValues.currentPassword || formValues.newPassword.length < 8 || formValues.newPassword !== formValues.confirmPassword\"\\n                ng-click=\"updatePassword()\"\\n                >Update password</button\\n              >\\n              <span class=\"text-muted small\" style=\"margin-left: 5px;\" ng-if=\"AuthenticationMethod === 2 && userID !== 1\">\\n                <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                You cannot change your password when using LDAP authentication.\\n              </span>\\n              <span class=\"text-muted small\" style=\"margin-left: 5px;\" ng-if=\"AuthenticationMethod === 3 && userID !== 1\">\\n                <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                You cannot change your password when using OAuth authentication.\\n              </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n    <access-tokens-datatable\\n      title-text=\"Access tokens\"\\n      title-icon=\"fa-key\"\\n      dataset=\"tokens\"\\n      table-key=\"tokens\"\\n      order-by=\"Description\"\\n      remove-action=\"removeAction\"\\n    ></access-tokens-datatable>\\n    <theme-settings></theme-settings>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){var a=\"app/portainer/views/auth/auth.html\",i='<div class=\"page-wrapper\">\\n  \\x3c!-- login box --\\x3e\\n  <div class=\"container simple-box\">\\n    <div class=\"col-sm-6 col-sm-offset-3\">\\n      \\x3c!-- login box logo --\\x3e\\n      <div class=\"row\">\\n        <img ng-if=\"!ctrl.logo\" src=\"'+n(318)+'\" class=\"simple-box-logo\" alt=\"Portainer\" />\\n        <img ng-if=\"ctrl.logo\" ng-src=\"{{ ctrl.logo }}\" class=\"simple-box-logo\" />\\n      </div>\\n      \\x3c!-- !login box logo --\\x3e\\n\\n      \\x3c!-- login panel --\\x3e\\n      <div class=\"panel panel-default\" ng-if=\"!ctrl.state.loginInProgress\">\\n        <div class=\"panel-body\">\\n          \\x3c!-- login form --\\x3e\\n          <form class=\"simple-box-form form-horizontal\">\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\" style=\"display: flex; justify-content: center;\" ng-if=\"ctrl.state.showOAuthLogin\">\\n                <a ng-href=\"{{ ctrl.OAuthLoginURI }}\">\\n                  <div class=\"btn btn-primary pull-left\" style=\"font-size: 120%; margin-left: 2px;\" ng-if=\"ctrl.state.OAuthProvider === \\'Microsoft\\'\">\\n                    <i class=\"fab fa-microsoft\" aria-hidden=\"true\"></i> Login with Microsoft\\n                  </div>\\n                  <div class=\"btn btn-primary pull-left\" style=\"font-size: 120%; margin-left: 2px;\" ng-if=\"ctrl.state.OAuthProvider === \\'Google\\'\">\\n                    <i class=\"fab fa-google\" aria-hidden=\"true\"></i> Login with Google\\n                  </div>\\n                  <div class=\"btn btn-primary pull-left\" style=\"font-size: 120%; margin-left: 2px;\" ng-if=\"ctrl.state.OAuthProvider === \\'Github\\'\">\\n                    <i class=\"fab fa-github\" aria-hidden=\"true\"></i> Login with Github\\n                  </div>\\n                  <div class=\"btn btn-primary pull-left\" style=\"font-size: 120%; margin-left: 2px;\" ng-if=\"ctrl.state.OAuthProvider === \\'OAuth\\'\">\\n                    <i class=\"fa fa-sign-in-alt\" aria-hidden=\"true\"></i> Login with OAuth\\n                  </div>\\n                </a>\\n              </div>\\n            </div>\\n\\n            \\x3c!-- divider --\\x3e\\n            <div class=\"form-group\" ng-if=\"ctrl.state.showOAuthLogin\">\\n              <div class=\"col-sm-12\" style=\"display: flex; align-items: center; justify-content: center;\">\\n                <div class=\"striketext small text-muted\" style=\"display: flex; align-items: center; justify-content: center; width: 90%;\">or</div>\\n              </div>\\n            </div>\\n\\n            \\x3c!-- use internal auth button --\\x3e\\n            <div class=\"form-group\" ng-if=\"ctrl.state.showOAuthLogin && !ctrl.state.showStandardLogin\">\\n              <div class=\"col-sm-12\" style=\"display: flex; justify-content: center;\">\\n                <div class=\"btn btn-sm btn-primary pull-left\" style=\"margin-left: 2px;\" ng-click=\"ctrl.toggleStandardLogin()\">\\n                  Use internal authentication\\n                </div>\\n              </div>\\n            </div>\\n\\n            \\x3c!-- !username input --\\x3e\\n            <div class=\"input-group\" ng-if=\"ctrl.state.showStandardLogin\">\\n              <span class=\"input-group-addon\"><i class=\"fa fa-user\" aria-hidden=\"true\"></i></span>\\n              <input id=\"username\" type=\"text\" class=\"form-control\" name=\"username\" ng-model=\"ctrl.formValues.Username\" auto-focus data-cy=\"auth-usernameInput\" />\\n            </div>\\n\\n            \\x3c!-- password input --\\x3e\\n            <div class=\"input-group\" ng-if=\"ctrl.state.showStandardLogin\">\\n              <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n              <input id=\"password\" type=\"password\" class=\"form-control\" name=\"password\" ng-model=\"ctrl.formValues.Password\" data-cy=\"auth-passwordInput\" />\\n            </div>\\n\\n            <div class=\"form-group\" ng-if=\"ctrl.state.showStandardLogin\">\\n              \\x3c!-- login button --\\x3e\\n              <div class=\"col-sm-12\" style=\"display: flex; align-items: center; justify-content: center;\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm pull-right\"\\n                  ng-click=\"ctrl.authenticateUser()\"\\n                  button-spinner=\"ctrl.state.loginInProgress\"\\n                  ng-disabled=\"ctrl.state.loginInProgress\"\\n                  data-cy=\"auth-loginButton\"\\n                >\\n                  <span ng-hide=\"ctrl.state.loginInProgress\"><i class=\"fa fa-sign-in-alt\" aria-hidden=\"true\"></i> Login</span>\\n                  <span ng-show=\"ctrl.state.loginInProgress\">Login in progress...</span>\\n                </button>\\n              </div>\\n            </div>\\n          </form>\\n          \\x3c!-- !login form --\\x3e\\n\\n          \\x3c!-- error message --\\x3e\\n          <div class=\"pull-right\" ng-if=\"ctrl.state.AuthenticationError\">\\n            <i class=\"fa fa-exclamation-triangle red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            <span class=\"small text-danger\">{{ ctrl.state.AuthenticationError }}</span>\\n          </div>\\n        </div>\\n      </div>\\n\\n      \\x3c!-- !login panel --\\x3e\\n      <div class=\"panel panel-default\" ng-show=\"ctrl.state.loginInProgress\">\\n        <div class=\"panel-body\">\\n          <div class=\"form-group text-center\">\\n            <span class=\"small text-muted\">Authentication in progress... <span button-spinner=\"true\"></span></span>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !login box --\\x3e\\n</div>\\n';window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(a,i)}]),e.exports=a},function(e,t,n){var a=\"app/portainer/views/logout/logout.html\",i='<div class=\"page-wrapper\">\\n  \\x3c!-- login box --\\x3e\\n  <div class=\"container simple-box\">\\n    <div class=\"col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3\">\\n      \\x3c!-- login box logo --\\x3e\\n      <div class=\"row\">\\n        <img ng-if=\"!ctrl.logo\" src=\"'+n(318)+'\" class=\"simple-box-logo\" alt=\"Portainer\" />\\n        <img ng-if=\"ctrl.logo\" ng-src=\"{{ ctrl.logo }}\" class=\"simple-box-logo\" />\\n      </div>\\n      <div class=\"row\" style=\"text-align: center;\">\\n        Logout in progress...\\n        <i class=\"fa fa-cog fa-spin\" style=\"margin-left: 5px;\"></i>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n';window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(a,i)}]),e.exports=a},function(e,t){var n=\"app/portainer/views/endpoints/endpoints.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Environments\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.endpoints\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Environment management</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <endpoints-datatable\\n      title-text=\"Environments\"\\n      title-icon=\"fa-plug\"\\n      table-key=\"endpoints\"\\n      order-by=\"Name\"\\n      remove-action=\"removeAction\"\\n      retrieve-page=\"getPaginatedEndpoints\"\\n    ></endpoints-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/endpoints/edit/endpoint.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Environment details\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.endpoints.endpoint({id: endpoint.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"portainer.endpoints\">Environments</a> &gt; <a ui-sref=\"portainer.endpoints.endpoint({id: endpoint.Id})\">{{ endpoint.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <information-panel ng-if=\"state.edgeEndpoint && endpoint.EdgeID\" title-text=\"Edge information\">\\n    <span class=\"small text-muted\">\\n      <p>\\n        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n        This Edge environment is associated to an Edge environment {{ state.kubernetesEndpoint ? \\'(Kubernetes)\\' : \\'(Docker)\\' }}.\\n      </p>\\n      <p>\\n        Edge key: <code>{{ endpoint.EdgeKey }}</code>\\n      </p>\\n      <p>\\n        Edge identifier: <code>{{ endpoint.EdgeID }}</code>\\n      </p>\\n      <p>\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-primary btn-sm\"\\n          ng-disabled=\"state.actionInProgress\"\\n          ng-click=\"onDeassociateEndpoint()\"\\n          button-spinner=\"state.actionInProgress\"\\n          analytics-on\\n          analytics-event=\"edge-endpoint-deassociate\"\\n          analytics-category=\"edge\"\\n        >\\n          <span ng-hide=\"state.actionInProgress\">De-associate</span>\\n        </button>\\n      </p>\\n    </span>\\n  </information-panel>\\n  <information-panel ng-if=\"state.edgeEndpoint && !endpoint.EdgeID\" title-text=\"Deploy an agent\">\\n    <span class=\"small text-muted\">\\n      <p>\\n        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n        Refer to the platform related command below to deploy the Edge agent in your remote cluster.\\n      </p>\\n      <p>\\n        The agent will communicate with Portainer via <u>{{ edgeKeyDetails.instanceURL }}</u> and <u>tcp://{{ edgeKeyDetails.tunnelServerAddr }}</u>\\n      </p>\\n      <div class=\"input-group input-group-sm\" style=\"margin-top: 10px; margin-bottom: 10px;\">\\n        <div class=\"btn-group btn-group-sm\">\\n          <label class=\"btn btn-primary\" ng-model=\"state.platformType\" uib-btn-radio=\"\\'linux\\'\"><i class=\"fab fa-linux\" style=\"margin-right: 2px;\"></i> Linux</label>\\n          <label class=\"btn btn-primary\" ng-model=\"state.platformType\" uib-btn-radio=\"\\'windows\\'\"><i class=\"fab fa-windows\" style=\"margin-right: 2px;\"></i> Windows</label>\\n        </div>\\n      </div>\\n      <por-switch-field\\n        label=\"Allow self-signed certs\"\\n        ng-model=\"state.allowSelfSignedCerts\"\\n        tooltip=\"When allowing self-signed certificates the edge agent will ignore the domain validation when connecting to Portainer via HTTPS\"\\n      ></por-switch-field>\\n      <div style=\"margin-top: 10px;\">\\n        <uib-tabset active=\"state.deploymentTab\">\\n          <uib-tab index=\"\\'kubernetes\\'\" heading=\"Kubernetes\" ng-if=\"state.platformType === \\'linux\\'\">\\n            <code style=\"display: block; white-space: pre-wrap; padding: 16px 45px;\">\\n              {{ dockerCommands[state.deploymentTab][state.platformType](agentVersion, agentShortVersion, randomEdgeID, endpoint.EdgeKey, state.allowSelfSignedCerts) }}\\n            </code>\\n          </uib-tab>\\n          <uib-tab index=\"\\'swarm\\'\" heading=\"Docker Swarm\">\\n            <code style=\"display: block; white-space: pre-wrap; padding: 16px 45px;\">\\n              {{ dockerCommands[state.deploymentTab][state.platformType](agentVersion, agentShortVersion, randomEdgeID, endpoint.EdgeKey, state.allowSelfSignedCerts) }}\\n            </code>\\n          </uib-tab>\\n          <uib-tab index=\"\\'standalone\\'\" heading=\"Docker Standalone\">\\n            <code style=\"display: block; white-space: pre-wrap; padding: 16px 45px;\">\\n              {{ dockerCommands[state.deploymentTab][state.platformType](agentVersion, agentShortVersion, randomEdgeID, endpoint.EdgeKey, state.allowSelfSignedCerts) }}\\n            </code>\\n          </uib-tab>\\n        </uib-tabset>\\n        <div style=\"margin-top: 10px;\">\\n          <span class=\"btn btn-primary btn-sm\" ng-click=\"copyEdgeAgentDeploymentCommand()\"><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy command</span>\\n          <span id=\"copyNotificationDeploymentCommand\" style=\"margin-left: 7px; display: none; color: #23ae89;\"> <i class=\"fa fa-check\" aria-hidden=\"true\"></i> copied </span>\\n        </div>\\n      </div>\\n      <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 25px;\">\\n        Join token\\n      </div>\\n      <p>\\n        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n        For those prestaging the edge agent, use the following join token to associate the Edge agent with this environment.\\n      </p>\\n      <p> You can read more about pre-staging in the userguide available <a href=\"https://downloads.portainer.io/edge_agent_guide.pdf\">here.</a> </p>\\n      <div style=\"margin-top: 10px; overflow-wrap: break-word;\">\\n        <code>\\n          {{ endpoint.EdgeKey }}\\n        </code>\\n        <div style=\"margin-top: 10px;\">\\n          <span class=\"btn btn-primary btn-sm\" ng-click=\"copyEdgeAgentKey()\"><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy token</span>\\n          <span id=\"copyNotificationEdgeKey\" style=\"margin-left: 7px; display: none; color: #23ae89;\"> <i class=\"fa fa-check\" aria-hidden=\"true\"></i> copied </span>\\n        </div>\\n      </div>\\n    </span>\\n  </information-panel>\\n  <information-panel ng-if=\"state.kubernetesEndpoint && (!state.edgeEndpoint || (state.edgeEndpoint && endpoint.EdgeID))\" title-text=\"Kubernetes features configuration\">\\n    <span class=\"small text-muted\">\\n      <i class=\"fa fa-tools blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      You should configure the features available in this Kubernetes environment in the\\n      <a ui-sref=\"portainer.k8sendpoint.kubernetesConfig({id: endpoint.Id})\">Kubernetes configuration</a> view.\\n    </span>\\n  </information-panel>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Configuration\\n          </div>\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <input type=\"text\" class=\"form-control\" id=\"container_name\" ng-model=\"endpoint.Name\" placeholder=\"e.g. kubernetes-cluster01 / docker-prod01\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- endpoint-url-input --\\x3e\\n          <div class=\"form-group\" ng-if=\"!state.edgeEndpoint\">\\n            <label for=\"endpoint_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n              Environment URL\\n              <portainer-tooltip\\n                position=\"bottom\"\\n                message=\"URL or IP address of a Docker host. The Docker API must be exposed over a TCP port. Please refer to the Docker documentation to configure it.\"\\n              >\\n              </portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <input\\n                ng-disabled=\"endpointType === \\'local\\' || state.azureEndpoint\"\\n                type=\"text\"\\n                class=\"form-control\"\\n                id=\"endpoint_url\"\\n                ng-model=\"endpoint.URL\"\\n                placeholder=\"e.g. 10.0.0.10:2375 or mydocker.mydomain.com:2375\"\\n              />\\n            </div>\\n          </div>\\n          \\x3c!-- !endpoint-url-input --\\x3e\\n          \\x3c!-- endpoint-public-url-input --\\x3e\\n          <div class=\"form-group\" ng-if=\"!state.azureEndpoint\">\\n            <label for=\"endpoint_public_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n              Public IP\\n              <portainer-tooltip\\n                position=\"bottom\"\\n                message=\"URL or IP address where exposed containers will be reachable. This field is optional and will default to the environment URL.\"\\n              >\\n              </portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <input type=\"text\" class=\"form-control\" id=\"endpoint_public_url\" ng-model=\"endpoint.PublicURL\" placeholder=\"e.g. 10.0.0.10 or mydocker.mydomain.com\" />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-if=\"state.edgeEndpoint\">\\n            <label for=\"edge_checkin\" class=\"col-sm-2 control-label text-left\">\\n              Poll frequency\\n              <portainer-tooltip\\n                position=\"bottom\"\\n                message=\"Interval used by this Edge agent to check in with the Portainer instance. Affects Edge environment management and Edge compute features.\"\\n              ></portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-10\">\\n              <select\\n                id=\"edge_checkin\"\\n                class=\"form-control\"\\n                ng-model=\"endpoint.EdgeCheckinInterval\"\\n                ng-options=\"+(opt.value) as opt.key for opt in state.availableEdgeAgentCheckinOptions\"\\n              ></select>\\n            </div>\\n          </div>\\n          \\x3c!-- !endpoint-public-url-input --\\x3e\\n          <azure-endpoint-config\\n            ng-if=\"state.azureEndpoint\"\\n            application-id=\"endpoint.AzureCredentials.ApplicationID\"\\n            tenant-id=\"endpoint.AzureCredentials.TenantID\"\\n            authentication-key=\"endpoint.AzureCredentials.AuthenticationKey\"\\n          ></azure-endpoint-config>\\n          <div class=\"col-sm-12 form-section-title\">\\n            Metadata\\n          </div>\\n          \\x3c!-- group --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"endpoint_group\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n              Group\\n            </label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <select ng-options=\"group.Id as group.Name for group in groups\" ng-model=\"endpoint.GroupId\" id=\"endpoint_group\" class=\"form-control\"></select>\\n            </div>\\n          </div>\\n          \\x3c!-- !group --\\x3e\\n          \\x3c!-- tags --\\x3e\\n          <div class=\"form-group\">\\n            <tag-selector ng-if=\"endpoint && availableTags\" tags=\"availableTags\" model=\"endpoint.TagIds\" on-create=\"(onCreateTag)\" allow-create=\"state.allowCreate\"></tag-selector>\\n          </div>\\n          \\x3c!-- !tags --\\x3e\\n          \\x3c!-- endpoint-security --\\x3e\\n          <div ng-if=\"endpointType === \\'remote\\' && !state.azureEndpoint && !state.kubernetesEndpoint && !state.edgeEndpoint && endpoint.Type !== 6\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Security\\n            </div>\\n            <por-endpoint-security form-data=\"formValues.SecurityFormData\" endpoint=\"endpoint\"></por-endpoint-security>\\n          </div>\\n          \\x3c!-- !endpoint-security --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !endpoint.Name || !endpoint.URL || (endpoint.TLS && ((endpoint.TLSVerify && !formValues.TLSCACert) || (endpoint.TLSClientCert && (!formValues.TLSCert || !formValues.TLSKey))))\"\\n                ng-click=\"updateEndpoint()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Update environment</span>\\n                <span ng-show=\"state.actionInProgress\">Updating environment...</span>\\n              </button>\\n              <a type=\"button\" class=\"btn btn-default btn-sm\" ui-sref=\"portainer.endpoints\">Cancel</a>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/kubernetes/views/configure/configure.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Kubernetes features configuration\" state=\"portainer.k8sendpoint.kubernetesConfig\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"portainer.endpoints\">Environment</a> &gt; <a ui-sref=\"portainer.endpoints.endpoint({id: ctrl.endpoint.Id})\">{{ ctrl.endpoint.Name }}</a> &gt; Kubernetes configuration\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" name=\"kubernetesClusterSetupForm\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Networking\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                Enabling the load balancer feature will allow users to expose application they deploy over an external IP address assigned by cloud provider.\\n                <p style=\"margin-top: 2px;\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  Ensure that your cloud provider allows you to create load balancers if you want to use this feature. Might incur costs.\\n                </p>\\n              </span>\\n\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">\\n                  Allow users to use external load balancer\\n                </label>\\n                <label class=\"switch\" style=\"margin-left: 20px;\">\\n                  <input type=\"checkbox\" ng-model=\"ctrl.formValues.UseLoadBalancer\" /><i data-cy=\"kubeSetup-loadBalancerToggle\"></i>\\n                </label>\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                Configuring ingress controllers will allow users to expose application they deploy over a HTTP route.<br />\\n                <p style=\"margin-top: 2px;\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  Ingress classes must be manually specified for each controller you want to use in the cluster. Make sure that each controller is running inside your cluster.\\n                </p>\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">Ingress controller</label>\\n                <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"ctrl.addIngressClass()\" data-cy=\"kubeSetup-congifIngressButton\">\\n                  <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> configure ingress controller\\n                </span>\\n              </div>\\n\\n              <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                <div ng-repeat-start=\"ingressClass in ctrl.formValues.IngressClasses\" style=\"margin-top: 2px;\">\\n                  <div class=\"col-sm-7 input-group input-group-sm\" ng-class=\"{ striked: ingressClass.NeedsDeletion }\">\\n                    <span class=\"input-group-addon\">Ingress class</span>\\n                    <input\\n                      type=\"text\"\\n                      class=\"form-control\"\\n                      name=\"ingress_class_name_{{ $index }}\"\\n                      ng-model=\"ingressClass.Name\"\\n                      placeholder=\"nginx\"\\n                      ng-pattern=\"/^[a-z]([-a-z0-9]*[a-z0-9])?$/\"\\n                      ng-change=\"ctrl.onChangeIngressClassName($index)\"\\n                      required\\n                      data-cy=\"kubeSetup-ingressClassName\"\\n                    />\\n                  </div>\\n                  <div class=\"col-sm-3 input-group input-group-sm\" ng-class=\"{ striked: ingressClass.NeedsDeletion }\">\\n                    <span class=\"input-group-addon\">Type</span>\\n                    <select\\n                      class=\"form-control\"\\n                      name=\"ingress_class_type_{{ $index }}\"\\n                      ng-model=\"ingressClass.Type\"\\n                      ng-options=\"value as value for (key, value) in ctrl.IngressClassTypes\"\\n                      required\\n                      data-cy=\"kubeSetup-ingressType\"\\n                    >\\n                      <option selected disabled hidden value=\"\">Select a type</option>\\n                    </select>\\n                  </div>\\n                  <div class=\"col-sm-1 input-group input-group-sm\">\\n                    <button\\n                      ng-if=\"!ingressClass.NeedsDeletion\"\\n                      class=\"btn btn-sm btn-danger\"\\n                      type=\"button\"\\n                      ng-click=\"ctrl.removeIngressClass($index)\"\\n                      data-cy=\"kubeSetup-deleteIngress\"\\n                    >\\n                      <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                    </button>\\n                    <button ng-if=\"ingressClass.NeedsDeletion\" class=\"btn btn-sm btn-primary\" type=\"button\" ng-click=\"ctrl.restoreIngressClass($index)\">\\n                      <i class=\"fa fa-trash-restore\" aria-hidden=\"true\"></i>\\n                    </button>\\n                  </div>\\n                </div>\\n\\n                <div\\n                  ng-repeat-end\\n                  ng-show=\"\\n                    kubernetesClusterSetupForm[\\'ingress_class_name_\\' + $index].$invalid ||\\n                    kubernetesClusterSetupForm[\\'ingress_class_type_\\' + $index].$invalid ||\\n                    ctrl.state.duplicates.ingressClasses.refs[$index] !== undefined\\n                  \"\\n                >\\n                  <div class=\"col-sm-7 input-group\">\\n                    <div\\n                      class=\"small text-warning\"\\n                      style=\"margin-top: 5px;\"\\n                      ng-if=\"kubernetesClusterSetupForm[\\'ingress_class_name_\\' + $index].$invalid || ctrl.state.duplicates.ingressClasses.refs[$index] !== undefined\"\\n                    >\\n                      <div ng-messages=\"kubernetesClusterSetupForm[\\'ingress_class_name_\\'+$index].$error\">\\n                        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Ingress class name is required.</p>\\n                        <p ng-message=\"pattern\"\\n                          ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field must consist of lower case alphanumeric characters or \\'-\\', start with an\\n                          alphabetic character, and end with an alphanumeric character (e.g. \\'my-name\\', or \\'abc-123\\').</p\\n                        >\\n                      </div>\\n                      <p ng-if=\"ctrl.state.duplicates.ingressClasses.refs[$index] !== undefined\">\\n                        <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This ingress class is already defined.\\n                      </p>\\n                    </div>\\n                  </div>\\n                  <div class=\"col-sm-3 input-group\">\\n                    <div class=\"small text-warning\" style=\"margin-top: 5px;\" ng-if=\"kubernetesClusterSetupForm[\\'ingress_class_type_\\' + $index].$invalid\">\\n                      <div ng-messages=\"kubernetesClusterSetupForm[\\'ingress_class_type_\\'+$index].$error\">\\n                        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Ingress class type is required.</p>\\n                      </div>\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\" ng-if=\"ctrl.hasTraefikIngress()\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                <p>\\n                  <i class=\"fa fa-flask blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  Traefik support is experimental.\\n                </p>\\n              </span>\\n            </div>\\n\\n            \\x3c!-- auto update window --\\x3e\\n            <div class=\"col-sm-12 form-section-title\">\\n              Change Window Setting\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <por-switch-field\\n                  ng-model=\"$ctrl.state.autoUpdateSettings.Enabled\"\\n                  name=\"disableSysctlSettingForRegularUsers\"\\n                  label=\"Enable Change Window\"\\n                  feature=\"ctrl.limitedFeatureAutoWindow\"\\n                  tooltip=\"Specify a timeframe during which automatic updates can occur in this environment.\"\\n                >\\n                </por-switch-field>\\n              </div>\\n            </div>\\n\\n            <div class=\"col-sm-12 form-section-title\">\\n              Security\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                By default, all the users have access to the default namespace. Enable this option to set accesses on the default namespace.\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">\\n                  Restrict access to the default namespace\\n                </label>\\n                <label class=\"switch\" style=\"margin-left: 20px;\">\\n                  <input type=\"checkbox\" ng-model=\"ctrl.formValues.RestrictDefaultNamespace\" /><i data-cy=\"kubeSetup-restrictDefaultNsToggle\"></i>\\n                </label>\\n              </div>\\n            </div>\\n\\n            <div class=\"col-sm-12 form-section-title\">\\n              Resources and Metrics\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                By ENABLING resource over-commit, you are able to assign more resources to namespaces than is physically available in the cluster. This may lead to unexpected\\n                deployment failures if there is insufficient resource to service demand.\\n                <p style=\"margin-top: 2px;\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  By DISABLING resource over-commit (highly recommended), you are only able to assign resources to namespaces that are less (in aggregate) than the cluster total\\n                  minus any system resource reservation.\\n                </p>\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <por-switch-field\\n                  label=\"Allow resource over-commit\"\\n                  name=\"resource-over-commit-switch\"\\n                  feature=\"ctrl.limitedFeature\"\\n                  ng-model=\"ctrl.formValues.EnableResourceOverCommit\"\\n                  ng-change=\"ctrl.onChangeEnableResourceOverCommit()\"\\n                  ng-data-cy=\"kubeSetup-resourceOverCommitToggle\"\\n                ></por-switch-field>\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                Enabling this feature will allow users to use specific features like autoscaling and to see container and node resource usage.\\n                <p style=\"margin-top: 2px;\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  Ensure that <a href=\"https://kubernetes.io/docs/tasks/debug-application-cluster/resource-metrics-pipeline/#metrics-server\" target=\"_blank\">metrics server</a> or\\n                  <a href=\"https://github.com/kubernetes-sigs/prometheus-adapter\" target=\"_blank\">prometheus</a> is running inside your cluster.\\n                </p>\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">\\n                  Enable features using the metrics API\\n                </label>\\n                <label class=\"switch\" style=\"margin-left: 20px;\">\\n                  <input type=\"checkbox\" ng-model=\"ctrl.formValues.UseServerMetrics\" ng-change=\"ctrl.enableMetricsServer()\" /><i data-cy=\"kubeSetup-metricsToggle\"></i>\\n                </label>\\n              </div>\\n              <div ng-if=\"ctrl.state.metrics.pending && ctrl.state.metrics.userClick\" class=\"col-sm-12 small text-muted\" style=\"margin-top: 5px;\">\\n                Checking metrics API... <i class=\"fa fa-spinner fa-spin\" style=\"margin-left: 2px;\"></i>\\n              </div>\\n              <div\\n                ng-if=\"!ctrl.state.metrics.pending && ctrl.state.metrics.isServerRunning && ctrl.state.metrics.userClick\"\\n                class=\"col-sm-12 small text-muted\"\\n                style=\"margin-top: 5px;\"\\n              >\\n                <i class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> Successfully reached metrics API\\n              </div>\\n              <div\\n                ng-if=\"!ctrl.state.metrics.pending && !ctrl.state.metrics.isServerRunning && ctrl.state.metrics.userClick\"\\n                class=\"col-sm-12 small text-muted\"\\n                style=\"margin-top: 5px;\"\\n              >\\n                <i class=\"fa fa-times red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> Unable to reach metrics API, make sure metrics server is properly deployed inside\\n                that cluster.\\n              </div>\\n            </div>\\n\\n            <div class=\"col-sm-12 form-section-title\">\\n              Available storage options\\n            </div>\\n\\n            <div class=\"form-group\" ng-if=\"!ctrl.storageClassAvailable()\">\\n              <div class=\"col-sm-12 small text-muted\">\\n                <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                Unable to detect any storage class available to persist data. Users won\\'t be able to persist application data inside this cluster.\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\" ng-if=\"ctrl.storageClassAvailable()\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                <p>\\n                  Select which storage options will be available for use when deploying applications. Have a look at your storage driver documentation to figure out which access\\n                  policy to configure and if the volume expansion capability is supported.\\n                </p>\\n                <p>\\n                  You can find more information about access modes\\n                  <a href=\"https://kubernetes.io/docs/concepts/storage/persistent-volumes/#access-modes\" target=\"_blank\">in the official Kubernetes documentation</a>.\\n                </p>\\n              </span>\\n            </div>\\n\\n            <div class=\"form-group\" ng-if=\"ctrl.storageClassAvailable()\">\\n              <div style=\"margin-top: 10px;\" class=\"col-sm-12\">\\n                <table class=\"table\" style=\"table-layout: fixed;\">\\n                  <tbody>\\n                    <tr class=\"text-muted\">\\n                      <td>Storage</td>\\n                      <td>Shared access policy</td>\\n                      <td>Volume expansion</td>\\n                    </tr>\\n                    <tr ng-repeat=\"class in ctrl.StorageClasses\">\\n                      <td>\\n                        <div style=\"margin: 5px;\">\\n                          <label class=\"switch\" style=\"margin-right: 10px;\">\\n                            <input type=\"checkbox\" ng-model=\"class.selected\" /><i data-cy=\"kubeSetup-storageToggle{{ class.Name }}\"></i>\\n                          </label>\\n                          <span>{{ class.Name }}</span>\\n                        </div>\\n                      </td>\\n                      <td>\\n                        <span\\n                          isteven-multi-select\\n                          input-model=\"class.availableAccessModes\"\\n                          output-model=\"class.AccessModes\"\\n                          button-label=\"Name\"\\n                          item-label=\"Description\"\\n                          tick-property=\"selected\"\\n                          directive-id=\"{{ class.Name }}\"\\n                          helper-elements=\"\"\\n                          translation=\"{nothingSelected: \\'Not configured\\'}\"\\n                          data-cy=\"kubeSetup-storageAccessSelect{{ class.Name }}\"\\n                        >\\n                        </span>\\n                      </td>\\n                      <td>\\n                        <div style=\"margin: 5px;\">\\n                          <label class=\"switch\"\\n                            ><input type=\"checkbox\" ng-model=\"class.AllowVolumeExpansion\" /><i data-cy=\"kubeSetup-storageExpansionToggle{{ class.Name }}\"></i>\\n                          </label>\\n                        </div>\\n                      </td>\\n                    </tr>\\n                  </tbody>\\n                </table>\\n              </div>\\n              <div class=\"col-sm-12\">\\n                <span ng-if=\"!ctrl.hasValidStorageConfiguration()\" style=\"margin-left: 5px;\" class=\"text-muted small\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  Shared access policy configuration required\\n                </span>\\n              </div>\\n            </div>\\n\\n            <div class=\"col-sm-12 form-section-title\">\\n              Actions\\n            </div>\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-click=\"ctrl.configure()\"\\n                  ng-disabled=\"ctrl.state.actionInProgress || !kubernetesClusterSetupForm.$valid || !ctrl.hasValidStorageConfiguration()\"\\n                  button-spinner=\"ctrl.state.actionInProgress\"\\n                  analytics-on\\n                  analytics-if=\"ctrl.restrictDefaultToggledOn()\"\\n                  analytics-category=\"kubernetes\"\\n                  analytics-event=\"kubernetes-configure\"\\n                  analytics-properties=\"{ metadata: { restrictAccessToDefaultNamespace: ctrl.formValues.RestrictDefaultNamespace } }\"\\n                  data-cy=\"kubeSetup-saveConfigurationButton\"\\n                >\\n                  <span ng-hide=\"ctrl.state.actionInProgress\">Save configuration</span>\\n                  <span ng-show=\"ctrl.state.actionInProgress\">Saving configuration...</span>\\n                </button>\\n              </div>\\n            </div>\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/endpoints/create/createendpoint.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create environment\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.endpoints\">Environments</a> &gt; Add environment </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"endpointCreationForm\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Environment type\\n          </div>\\n          <div class=\"form-group\"></div>\\n          <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n            <div class=\"boxselector_wrapper\">\\n              <div ng-click=\"resetEndpointURL()\">\\n                <input type=\"radio\" id=\"agent_endpoint\" ng-model=\"state.EnvironmentType\" value=\"agent\" />\\n                <label for=\"agent_endpoint\" data-cy=\"endpointCreate-agentSelectButton\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-bolt\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Agent\\n                  </div>\\n                  <p>Portainer agent</p>\\n                </label>\\n              </div>\\n              <div ng-click=\"setDefaultPortainerInstanceURL()\">\\n                <input type=\"radio\" id=\"edge_agent_endpoint\" ng-model=\"state.EnvironmentType\" value=\"edge_agent\" />\\n                <label for=\"edge_agent_endpoint\" data-cy=\"endpointCreate-edgeAgentSelectButton\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-cloud\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Edge Agent\\n                  </div>\\n                  <p>Portainer Edge agent</p>\\n                </label>\\n              </div>\\n              <div ng-click=\"resetEndpointURL()\">\\n                <input type=\"radio\" id=\"docker_endpoint\" ng-model=\"state.EnvironmentType\" value=\"docker\" />\\n                <label for=\"docker_endpoint\" data-cy=\"endpointCreate-dockerSelectButton\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fab fa-docker\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Docker\\n                  </div>\\n                  <p>Directly connect to the Docker API</p>\\n                </label>\\n              </div>\\n              <div ng-click=\"resetEndpointURL()\">\\n                <input type=\"radio\" id=\"kubernetes_endpoint\" ng-model=\"state.EnvironmentType\" value=\"kubernetes\" />\\n                <label for=\"kubernetes_endpoint\" data-cy=\"endpointCreate-kubeSelectButton\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fas fa-dharmachakra\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Kubernetes\\n                  </div>\\n                  <p>Local Kubernetes environment</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"azure_endpoint\" ng-model=\"state.EnvironmentType\" value=\"azure\" />\\n                <label for=\"azure_endpoint\" data-cy=\"endpointCreate-azureSelectButton\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fab fa-microsoft\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Azure\\n                  </div>\\n                  <p>Connect to Microsoft Azure ACI</p>\\n                </label>\\n              </div>\\n            </div>\\n          </div>\\n          <div ng-if=\"state.EnvironmentType === \\'docker\\'\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Important notice\\n            </div>\\n            <div class=\"form-group\">\\n              <p class=\"col-sm-12 text-muted small\">\\n                You can connect Portainer to a Docker environment via socket or via TCP. You can find more information about how to expose the Docker API over TCP\\n                <a href=\"https://docs.docker.com/engine/security/https/\"> in the Docker documentation</a>.\\n              </p>\\n\\n              <p class=\"col-sm-12 text-muted small\">\\n                When using the socket, ensure that you have started the Portainer container with the following Docker flag\\n                <code> -v \"/var/run/docker.sock:/var/run/docker.sock\" </code>\\n                (on Linux) or\\n                <code> -v \\\\.\\\\pipe\\\\docker_engine:\\\\.\\\\pipe\\\\docker_engine </code>\\n                (on Windows).\\n              </p>\\n            </div>\\n          </div>\\n          <div ng-if=\"state.EnvironmentType === \\'agent\\'\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Information\\n            </div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                Ensure that you have deployed the Portainer agent in your cluster first. Refer to the platform related command below to deploy it.\\n                <div class=\"input-group input-group-sm\" style=\"margin-top: 10px; margin-bottom: 10px;\">\\n                  <div class=\"btn-group btn-group-sm\">\\n                    <label class=\"btn btn-primary\" ng-model=\"state.PlatformType\" uib-btn-radio=\"\\'linux\\'\"><i class=\"fab fa-linux\" style=\"margin-right: 2px;\"></i> Linux</label>\\n                    <label class=\"btn btn-primary\" ng-model=\"state.PlatformType\" uib-btn-radio=\"\\'windows\\'\"><i class=\"fab fa-windows\" style=\"margin-right: 2px;\"></i> Windows</label>\\n                  </div>\\n                </div>\\n                <div style=\"margin-top: 10px;\">\\n                  <uib-tabset active=\"state.deploymentTab\">\\n                    <uib-tab index=\"0\" ng-if=\"state.PlatformType === \\'linux\\'\" heading=\"Kubernetes via load balancer\">\\n                      <code style=\"display: block; white-space: pre-wrap; padding: 16px 90px;\">{{ deployCommands.kubeLoadBalancer }}</code>\\n                    </uib-tab>\\n\\n                    <uib-tab index=\"1\" ng-if=\"state.PlatformType === \\'linux\\'\" heading=\"Kubernetes via node port\">\\n                      <code style=\"display: block; white-space: pre-wrap; padding: 16px 90px;\">{{ deployCommands.kubeNodePort }}</code>\\n                    </uib-tab>\\n\\n                    <uib-tab index=\"2\" heading=\"Docker Swarm\">\\n                      <code ng-if=\"state.PlatformType === \\'linux\\'\" style=\"display: block; white-space: pre-wrap; padding: 16px 90px;\">{{ deployCommands.agentLinux }}</code>\\n                      <code ng-if=\"state.PlatformType === \\'windows\\'\" style=\"display: block; white-space: pre-wrap; padding: 16px 90px;\">{{ deployCommands.agentWindows }}</code>\\n                    </uib-tab>\\n                  </uib-tabset>\\n                  <div style=\"margin-top: 10px;\">\\n                    <span class=\"btn btn-primary btn-sm space-left\" ng-click=\"copyAgentCommand()\"><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy command</span>\\n                    <span>\\n                      <i id=\"copyNotification\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none;\"></i>\\n                    </span>\\n                  </div>\\n                </div>\\n              </span>\\n            </div>\\n          </div>\\n          <div ng-if=\"state.EnvironmentType === \\'edge_agent\\'\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Information\\n            </div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                <p>\\n                  Allows you to create an environment that can be registered with an Edge agent. The Edge agent will initiate the communications with the Portainer instance. All\\n                  the required information on how to connect an Edge agent to this environment will be available after environment creation.\\n                </p>\\n                <p> You can read more about the Edge agent in the userguide available <a href=\"https://downloads.portainer.io/edge_agent_guide.pdf\">here.</a> </p>\\n              </span>\\n            </div>\\n          </div>\\n          <div ng-if=\"state.EnvironmentType === \\'kubernetes\\'\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Important notice\\n            </div>\\n            <div class=\"form-group\">\\n              <p class=\"col-sm-12 text-muted small\">\\n                This will allow you to manage the Kubernetes environment where Portainer is running.\\n              </p>\\n\\n              <p class=\"col-sm-12 text-muted small\">\\n                <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                In order to manage a remote Kubernetes environment, please use the Agent or Edge agent options.\\n              </p>\\n            </div>\\n          </div>\\n          <div ng-if=\"state.EnvironmentType === \\'azure\\'\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Information\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small\">\\n                  <p class=\"text-muted\"> <i class=\"fa fa-flask orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> This feature is experimental. </p>\\n                  <p class=\"text-primary\">\\n                    Connect to Microsoft Azure to manage Azure Container Instances (ACI).\\n                  </p>\\n                  <p class=\"text-muted\">\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Have a look at\\n                    <a href=\"https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal\" target=\"_blank\"\\n                      >the Azure documentation</a\\n                    >\\n                    to retrieve the credentials required below.\\n                  </p>\\n                </span>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\"col-sm-12 form-section-title\">\\n            Environment details\\n          </div>\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                name=\"container_name\"\\n                ng-model=\"formValues.Name\"\\n                placeholder=\"e.g. docker-prod01 / kubernetes-cluster01\"\\n                required\\n                auto-focus\\n                data-cy=\"endpointCreate-nameInput\"\\n              />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"endpointCreationForm.container_name.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"endpointCreationForm.container_name.$error\">\\n                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- connect-via-socket-input --\\x3e\\n          <div ng-if=\"state.EnvironmentType === \\'docker\\'\">\\n            <div class=\"form-group\" style=\"padding-left: 15px;\">\\n              <label for=\"connect_socket\" class=\"col-sm_12 control-label text-left\">\\n                Connect via socket\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\">\\n                <input type=\"checkbox\" ng-model=\"formValues.ConnectSocket\" /><i data-cy=\"endpointCreate-connectSocketSwitch\"></i>\\n              </label>\\n            </div>\\n          </div>\\n\\n          <div ng-if=\"state.EnvironmentType === \\'docker\\' && formValues.ConnectSocket\">\\n            <div class=\"form-group\" style=\"padding-left: 15px;\">\\n              <label for=\"override_socket\" class=\"col-sm_12 control-label text-left\">\\n                Override default socket path\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\">\\n                <input type=\"checkbox\" ng-model=\"formValues.OverrideSocket\" /><i data-cy=\"endpointCreate-overrideSocketSwitch\"></i>\\n              </label>\\n            </div>\\n\\n            <div ng-if=\"formValues.OverrideSocket\">\\n              <div class=\"form-group\">\\n                <label for=\"socket_path\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                  Socket path\\n                  <portainer-tooltip position=\"bottom\" message=\"Path to the Docker socket. Remember to bind-mount the socket, see the important notice above for more information.\">\\n                  </portainer-tooltip>\\n                </label>\\n                <div class=\"col-sm-9 col-lg-10\">\\n                  <input\\n                    type=\"text\"\\n                    class=\"form-control\"\\n                    name=\"socket_path\"\\n                    ng-model=\"formValues.SocketPath\"\\n                    placeholder=\"e.g. /var/run/docker.sock (on Linux) or //./pipe/docker_engine (on Windows)\"\\n                    required\\n                    data-cy=\"endpointCreate-socketPathInput\"\\n                  />\\n                </div>\\n              </div>\\n              <div class=\"form-group\" ng-show=\"endpointCreationForm.socket_path.$invalid\">\\n                <div class=\"col-sm-12 small text-warning\">\\n                  <div ng-messages=\"endpointCreationForm.socket_path.$error\">\\n                    <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !connect-via-socket-input --\\x3e\\n          \\x3c!-- endpoint-url-input --\\x3e\\n          <div ng-if=\"(state.EnvironmentType === \\'docker\\' && !formValues.ConnectSocket) || state.EnvironmentType === \\'agent\\'\">\\n            <div class=\"form-group\">\\n              <label for=\"endpoint_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                Environment URL\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"URL or IP address of a Docker host. The Docker API must be exposed over a TCP port. Please refer to the Docker documentation to configure it.\"\\n                >\\n                </portainer-tooltip>\\n              </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  ng-if=\"state.EnvironmentType === \\'docker\\'\"\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"endpoint_url\"\\n                  ng-model=\"formValues.URL\"\\n                  placeholder=\"e.g. 10.0.0.10:2375 or mydocker.mydomain.com:2375\"\\n                  required\\n                  data-cy=\"endpointCreate-endpointUrlDockerInput\"\\n                />\\n                <input\\n                  ng-if=\"state.EnvironmentType === \\'agent\\'\"\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"endpoint_url\"\\n                  ng-model=\"formValues.URL\"\\n                  placeholder=\"e.g. 10.0.0.10:9001 or tasks.portainer_agent:9001\"\\n                  required\\n                  data-cy=\"endpointCreate-endpointUrlAgentInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"endpointCreationForm.endpoint_url.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"endpointCreationForm.endpoint_url.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !endpoint-url-input --\\x3e\\n          \\x3c!-- portainer-instance-input --\\x3e\\n          <div ng-if=\"state.EnvironmentType === \\'edge_agent\\'\">\\n            <div class=\"form-group\">\\n              <label for=\"endpoint_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                Portainer server URL\\n                <portainer-tooltip position=\"bottom\" message=\"URL of the Portainer instance that the agent will use to initiate the communications.\"></portainer-tooltip>\\n              </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"endpoint_url\"\\n                  ng-model=\"formValues.URL\"\\n                  placeholder=\"e.g. 10.0.0.10:9443 or portainer.mydomain.com\"\\n                  required\\n                  data-cy=\"endpointCreate-portainerServerUrlInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"endpointCreationForm.endpoint_url.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"endpointCreationForm.endpoint_url.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !portainer-instance-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"edge_checkin\" class=\"col-sm-2 control-label text-left\">\\n                Poll frequency\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"Interval used by this Edge agent to check in with the Portainer instance. Affects Edge environment management and Edge compute features.\"\\n                >\\n                </portainer-tooltip>\\n              </label>\\n              <div class=\"col-sm-10\">\\n                <select\\n                  id=\"edge_checkin\"\\n                  class=\"form-control\"\\n                  ng-model=\"formValues.CheckinInterval\"\\n                  ng-options=\"+(opt.value) as opt.key for opt in state.availableEdgeAgentCheckinOptions\"\\n                  data-cy=\"endpointCreate-pollFrequencySelect\"\\n                ></select>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- endpoint-public-url-input --\\x3e\\n          <div ng-if=\"state.EnvironmentType === \\'docker\\' || state.EnvironmentType === \\'agent\\'\">\\n            <div class=\"form-group\">\\n              <label for=\"endpoint_public_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                Public IP\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"URL or IP address where exposed containers will be reachable. This field is optional and will default to the environment URL.\"\\n                >\\n                </portainer-tooltip>\\n              </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  id=\"endpoint_public_url\"\\n                  ng-model=\"formValues.PublicURL\"\\n                  placeholder=\"e.g. 10.0.0.10 or mydocker.mydomain.com\"\\n                  data-cy=\"endpointCreate-publicIpInput\"\\n                />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !endpoint-public-url-input --\\x3e\\n          \\x3c!-- azure-details --\\x3e\\n          <div ng-if=\"state.EnvironmentType === \\'azure\\'\">\\n            \\x3c!-- applicationId-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"azure_credential_appid\" class=\"col-sm-3 col-lg-2 control-label text-left\">Application ID</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"azure_credential_appid\"\\n                  ng-model=\"formValues.AzureApplicationId\"\\n                  placeholder=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\\n                  required\\n                  data-cy=\"endpointCreate-azureAppIdInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"endpointCreationForm.azure_credential_appid.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"endpointCreationForm.azure_credential_appid.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !applicationId-input --\\x3e\\n            \\x3c!-- tenantId-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"azure_credential_tenantid\" class=\"col-sm-3 col-lg-2 control-label text-left\">Tenant ID</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"azure_credential_tenantid\"\\n                  ng-model=\"formValues.AzureTenantId\"\\n                  placeholder=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\\n                  required\\n                  data-cy=\"endpointCreate-azureTenantIdInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"endpointCreationForm.azure_credential_tenantid.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"endpointCreationForm.azure_credential_tenantid.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !tenantId-input --\\x3e\\n            \\x3c!-- authenticationkey-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"azure_credential_authkey\" class=\"col-sm-3 col-lg-2 control-label text-left\">Authentication key</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"azure_credential_authkey\"\\n                  ng-model=\"formValues.AzureAuthenticationKey\"\\n                  placeholder=\"cOrXoK/1D35w8YQ8nH1/8ZGwzz45JIYD5jxHKXEQknk=\"\\n                  required\\n                  data-cy=\"endpointCreate-azureAuthKeyInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"endpointCreationForm.azure_credential_authkey.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"endpointCreationForm.azure_credential_authkey.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !authenticationkey-input --\\x3e\\n          </div>\\n          \\x3c!-- !azure-details --\\x3e\\n          \\x3c!-- endpoint-security --\\x3e\\n          <por-endpoint-security ng-if=\"state.EnvironmentType === \\'docker\\' && !formValues.ConnectSocket\" form-data=\"formValues.SecurityFormData\"></por-endpoint-security>\\n          \\x3c!-- !endpoint-security --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Metadata\\n          </div>\\n          \\x3c!-- group --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"endpoint_group\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n              Group\\n            </label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <select\\n                ng-options=\"group.Id as group.Name for group in groups\"\\n                ng-model=\"formValues.GroupId\"\\n                id=\"endpoint_group\"\\n                class=\"form-control\"\\n                data-cy=\"endpointCreate-endpointGroup\"\\n              ></select>\\n            </div>\\n          </div>\\n          \\x3c!-- !group --\\x3e\\n          \\x3c!-- tags --\\x3e\\n          <div class=\"form-group\">\\n            <tag-selector ng-if=\"formValues && availableTags\" tags=\"availableTags\" model=\"formValues.TagIds\" allow-create=\"state.allowCreateTag\" on-create=\"(onCreateTag)\">\\n            </tag-selector>\\n          </div>\\n          \\x3c!-- !tags --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                ng-if=\"state.EnvironmentType === \\'docker\\'\"\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !endpointCreationForm.$valid || (formValues.TLS && ((formValues.TLSVerify && !formValues.TLSCACert) || (formValues.TLSClientCert && (!formValues.TLSCert || !formValues.TLSKey))))\"\\n                ng-click=\"addDockerEndpoint()\"\\n                button-spinner=\"state.actionInProgress\"\\n                data-cy=\"endpointCreate-createDockerEndpoint\"\\n                analytics-on\\n                analytics-category=\"portainer\"\\n                analytics-event=\"portainer-endpoint-creation\"\\n                analytics-properties=\"{ metadata: { type: \\'docker-api\\' } }\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Add environment</span>\\n                <span ng-show=\"state.actionInProgress\">Creating environment...</span>\\n              </button>\\n              <button\\n                ng-if=\"state.EnvironmentType === \\'agent\\'\"\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !endpointCreationForm.$valid\"\\n                ng-click=\"addAgentEndpoint()\"\\n                button-spinner=\"state.actionInProgress\"\\n                data-cy=\"endpointCreate-createAgentEndpoint\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Add environment</span>\\n                <span ng-show=\"state.actionInProgress\">Creating environment...</span>\\n              </button>\\n              <button\\n                ng-if=\"state.EnvironmentType === \\'edge_agent\\'\"\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !endpointCreationForm.$valid\"\\n                ng-click=\"addEdgeAgentEndpoint()\"\\n                button-spinner=\"state.actionInProgress\"\\n                data-cy=\"endpointCreate-createEdgeAgentEndpoint\"\\n                analytics-on\\n                analytics-category=\"portainer\"\\n                analytics-event=\"portainer-endpoint-creation\"\\n                analytics-properties=\"{ metadata: { type: \\'edge-agent\\' } }\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Add environment</span>\\n                <span ng-show=\"state.actionInProgress\">Creating environment...</span>\\n              </button>\\n              <button\\n                ng-if=\"state.EnvironmentType === \\'kubernetes\\'\"\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !endpointCreationForm.$valid\"\\n                ng-click=\"addKubernetesEndpoint()\"\\n                button-spinner=\"state.actionInProgress\"\\n                analytics-on\\n                analytics-category=\"portainer\"\\n                analytics-event=\"portainer-endpoint-creation\"\\n                analytics-properties=\"{ metadata: { type: \\'kubernetes-api\\' } }\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Add environment</span>\\n                <span ng-show=\"state.actionInProgress\">Creating environment...</span>\\n              </button>\\n              <button\\n                ng-if=\"state.EnvironmentType === \\'azure\\'\"\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !endpointCreationForm.$valid\"\\n                ng-click=\"addAzureEndpoint()\"\\n                button-spinner=\"state.actionInProgress\"\\n                data-cy=\"endpointCreate-createAzureEndpoint\"\\n                analytics-on\\n                analytics-category=\"portainer\"\\n                analytics-event=\"portainer-endpoint-creation\"\\n                analytics-properties=\"{ metadata: { type: \\'azure-api\\' } }\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Add environment</span>\\n                <span ng-show=\"state.actionInProgress\">Creating environment...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/endpoints/access/endpointAccess.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Environment access\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"portainer.endpoints\">Environments</a> &gt; <a ui-sref=\"portainer.endpoints.endpoint({id: ctrl.endpoint.Id})\">{{ ctrl.endpoint.Name }}</a> &gt; Access management\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"ctrl.endpoint\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-plug\" title-text=\"Environment\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>\\n                {{ ctrl.endpoint.Name }}\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>URL</td>\\n              <td>\\n                {{ ctrl.endpoint.URL | stripprotocol }}\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Group</td>\\n              <td>\\n                <a ui-sref=\"portainer.groups.group({ id: ctrl.group.Id })\">{{ ctrl.group.Name }}</a>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<por-access-management\\n  ng-if=\"ctrl.endpoint && ctrl.group\"\\n  access-controlled-entity=\"ctrl.endpoint\"\\n  action-in-progress=\"ctrl.state.actionInProgress\"\\n  entity-type=\"endpoint\"\\n  inherit-from=\"ctrl.group\"\\n  update-access=\"ctrl.updateAccess\"\\n  limited-feature=\"ctrl.limitedFeature\"\\n>\\n</por-access-management>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/groups/groups.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Environment groups\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.groups\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Environment group management</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <groups-datatable\\n      title-text=\"Environment groups\"\\n      title-icon=\"fa-object-group\"\\n      dataset=\"groups\"\\n      table-key=\"groups\"\\n      order-by=\"Name\"\\n      remove-action=\"removeAction\"\\n    ></groups-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/groups/edit/group.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Environment group details\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.groups\">Groups</a> &gt; {{ ::group.Name }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <group-form\\n          loaded=\"loaded\"\\n          page-type=\"edit\"\\n          model=\"group\"\\n          available-endpoints=\"availableEndpoints\"\\n          available-tags=\"availableTags\"\\n          associated-endpoints=\"associatedEndpoints\"\\n          add-label-action=\"addLabel\"\\n          remove-label-action=\"removeLabel\"\\n          form-action=\"update\"\\n          form-action-label=\"Update the group\"\\n          action-in-progress=\"state.actionInProgress\"\\n          on-create-tag=\"(onCreateTag)\"\\n        ></group-form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/groups/create/creategroup.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create environment group\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.groups\">Environment groups</a> &gt; Add group </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <group-form\\n          loaded=\"loaded\"\\n          page-type=\"create\"\\n          model=\"model\"\\n          available-endpoints=\"availableEndpoints\"\\n          available-tags=\"availableTags\"\\n          associated-endpoints=\"associatedEndpoints\"\\n          add-label-action=\"addLabel\"\\n          remove-label-action=\"removeLabel\"\\n          form-action=\"create\"\\n          form-action-label=\"Create the group\"\\n          action-in-progress=\"state.actionInProgress\"\\n          on-create-tag=\"(onCreateTag)\"\\n        ></group-form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/groups/access/groupAccess.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Environment group access\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"portainer.groups\">Groups</a> &gt; <a ui-sref=\"portainer.groups.group({id: group.Id})\">{{ group.Name }}</a> &gt; Access management\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"group\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-object-group\" title-text=\"Group\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>\\n                {{ group.Name }}\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<por-access-management\\n  ng-if=\"group\"\\n  access-controlled-entity=\"group\"\\n  entity-type=\"group\"\\n  action-in-progress=\"state.actionInProgress\"\\n  update-access=\"updateAccess\"\\n  limited-feature=\"limitedFeature\"\\n></por-access-management>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/home/home.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'\\x3c!-- <react-example text=\"\\'text\\'\"></react-example> --\\x3e\\n\\n<rd-header>\\n  <rd-header-title title-text=\"Home\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.home\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Environments</rd-header-content>\\n</rd-header>\\n\\n<motd-panel ng-if=\"motd && motd.Message !== \\'\\' && applicationState.UI.dismissedInfoHash !== motd.Hash\" motd=\"motd\" dismiss-action=\"dismissImportantInformation(motd.Hash)\">\\n</motd-panel>\\n\\n<kubernetes-feedback-panel></kubernetes-feedback-panel>\\n\\n<information-panel ng-if=\"!isAdmin && endpoints.length === 0\" title-text=\"Information\">\\n  <span class=\"small text-muted\">\\n    <p>\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      You do not have access to any environment. Please contact your administrator.\\n    </p>\\n  </span>\\n</information-panel>\\n\\n<div\\n  class=\"row\"\\n  style=\"width: 100%; height: 100%; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center;\"\\n  ng-if=\"state.connectingToEdgeEndpoint\"\\n>\\n  Connecting to the Edge environment...\\n  <i class=\"fa fa-cog fa-spin\" style=\"margin-left: 5px;\"></i>\\n</div>\\n\\n<information-panel ng-if=\"isAdmin && endpoints.length === 0\" title-text=\"Information\">\\n  <span class=\"small text-muted\">\\n    <p>\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      No environment available for management. Please head over the\\n      <a ui-sref=\"portainer.endpoints.new\"> environments view </a>\\n      to add an environment.\\n    </p>\\n  </span>\\n</information-panel>\\n\\n<div class=\"row\" ng-if=\"!state.connectingToEdgeEndpoint\">\\n  <div class=\"col-sm-12\">\\n    <endpoint-list\\n      title-text=\"Environments\"\\n      title-icon=\"fa-plug\"\\n      table-key=\"home_endpoints\"\\n      tags=\"tags\"\\n      dashboard-action=\"goToDashboard\"\\n      show-snapshot-action=\"isAdmin\"\\n      snapshot-action=\"triggerSnapshot\"\\n      edit-action=\"goToEdit\"\\n      is-admin=\"isAdmin\"\\n      retrieve-page=\"getPaginatedEndpoints\"\\n      endpoint-init-time=\"state.homepageLoadTime\"\\n    ></endpoint-list>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){var a=\"app/portainer/views/init/endpoint/initEndpoint.html\",i='<div class=\"page-wrapper\">\\n  \\x3c!-- simple box --\\x3e\\n  <div class=\"container simple-box\">\\n    <div class=\"col-sm-12\">\\n      \\x3c!-- simple box logo --\\x3e\\n      <div class=\"row\">\\n        <img ng-if=\"ctrl.logo\" ng-src=\"{{ ctrl.logo }}\" class=\"simple-box-logo\" />\\n        <img ng-if=\"!ctrl.logo\" src=\"'+n(318)+'\" class=\"simple-box-logo\" alt=\"Portainer\" />\\n      </div>\\n      \\x3c!-- !simple box logo --\\x3e\\n      \\x3c!-- init-environment panel --\\x3e\\n      <div class=\"panel panel-default\">\\n        <div class=\"panel-body\">\\n          \\x3c!-- init-environment form --\\x3e\\n          <form class=\"simple-box-form form-horizontal\">\\n            \\x3c!-- note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\">\\n                  Connect Portainer to the container environment you want to manage.\\n                </span>\\n              </div>\\n            </div>\\n            \\x3c!-- !note --\\x3e\\n            \\x3c!-- environment-type --\\x3e\\n            <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n              <div class=\"boxselector_wrapper\">\\n                <div ng-repeat=\"type in ctrl.endpointSections\">\\n                  <input type=\"radio\" id=\"{{ type.Id }}\" ng-model=\"ctrl.formValues.ConnectionType\" ng-value=\"type.Value\" />\\n                  <label for=\"{{ type.Id }}\">\\n                    <div class=\"boxselector_header\">\\n                      <i ng-class=\"type.Classes\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                      {{ type.Title }}\\n                    </div>\\n                    <p>{{ type.Description }}</p>\\n                  </label>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !environment-type  --\\x3e\\n            \\x3c!-- environment-type-details --\\x3e\\n            <div ng-if=\"ctrl.formValues.ConnectionType === ctrl.PortainerEndpointConnectionTypes.DOCKER_LOCAL\">\\n              <ng-include src=\"\\'app/portainer/views/init/endpoint/includes/localDocker.html\\'\"></ng-include>\\n            </div>\\n            <div ng-if=\"ctrl.formValues.ConnectionType === ctrl.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL\">\\n              <ng-include src=\"\\'app/portainer/views/init/endpoint/includes/localKubernetes.html\\'\"></ng-include>\\n            </div>\\n            <div ng-if=\"ctrl.formValues.ConnectionType === ctrl.PortainerEndpointConnectionTypes.AGENT\">\\n              <ng-include src=\"\\'app/portainer/views/init/endpoint/includes/agent.html\\'\"></ng-include>\\n            </div>\\n            \\x3c!-- !environment-type-details --\\x3e\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"ctrl.isConnectButtonDisabled()\"\\n                  ng-click=\"ctrl.createEndpoint()\"\\n                  button-spinner=\"ctrl.state.actionInProgress\"\\n                >\\n                  <span ng-hide=\"ctrl.state.actionInProgress\"><i class=\"fa fa-bolt\" aria-hidden=\"true\"></i> Connect</span>\\n                  <span ng-show=\"ctrl.state.actionInProgress\">Connecting...</span>\\n                </button>\\n                <button type=\"submit\" class=\"btn btn-sm btn-default\" ng-click=\"ctrl.skipEndpointCreation()\" button-spinner=\"ctrl.state.actionInProgress\">\\n                  <span ng-hide=\"ctrl.state.actionInProgress\"><i class=\"fa fa-share\" aria-hidden=\"true\"></i> Skip</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n          \\x3c!-- !init-environment form --\\x3e\\n        </div>\\n      </div>\\n      \\x3c!-- !init-environment panel --\\x3e\\n    </div>\\n  </div>\\n  \\x3c!-- !simple box --\\x3e\\n</div>\\n';window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(a,i)}]),e.exports=a},function(e,t,n){var a=\"app/portainer/views/init/admin/initAdmin.html\",i='<div class=\"page-wrapper\">\\n  \\x3c!-- simple box --\\x3e\\n  <div class=\"container simple-box\">\\n    <div class=\"col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1\">\\n      \\x3c!-- simple box logo --\\x3e\\n      <div class=\"row\">\\n        <img ng-if=\"logo\" ng-src=\"{{ logo }}\" class=\"simple-box-logo\" />\\n        <img ng-if=\"!logo\" src=\"'+n(318)+'\" class=\"simple-box-logo\" alt=\"Portainer\" />\\n      </div>\\n      \\x3c!-- !simple box logo --\\x3e\\n      \\x3c!-- init password panel --\\x3e\\n      <div class=\"panel panel-default\">\\n        <div class=\"panel-body\">\\n          \\x3c!-- toggle --\\x3e\\n          <div style=\"padding-bottom: 12px;\">\\n            <a ng-click=\"togglePanel()\">\\n              <i ng-class=\"{ true: \\'glyphicon glyphicon-chevron-down\\', false: \\'glyphicon glyphicon-chevron-right\\' }[state.showInitPassword]\" aria-hidden=\"true\"></i\\n              ><span style=\"padding-left: 10px;\">New Portainer installation</span>\\n            </a>\\n          </div>\\n          \\x3c!-- !toggle --\\x3e\\n\\n          \\x3c!-- init password form --\\x3e\\n          <form class=\"simple-box-form form-horizontal\" style=\"padding-left: 30px;\" ng-if=\"state.showInitPassword\">\\n            \\x3c!-- note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\">\\n                  Please create the initial administrator user.\\n                </span>\\n              </div>\\n            </div>\\n            \\x3c!-- !note --\\x3e\\n            \\x3c!-- username-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"username\" class=\"col-sm-4 control-label text-left\">\\n                Username\\n              </label>\\n              <div class=\"col-sm-8\">\\n                <input type=\"text\" class=\"form-control\" id=\"username\" ng-model=\"formValues.Username\" placeholder=\"e.g. admin\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !username-input --\\x3e\\n            \\x3c!-- new-password-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"password\" class=\"col-sm-4 control-label text-left\">Password</label>\\n              <div class=\"col-sm-8\">\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.Password\" id=\"password\" auto-focus />\\n              </div>\\n            </div>\\n            \\x3c!-- !new-password-input --\\x3e\\n            \\x3c!-- confirm-password-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"confirm_password\" class=\"col-sm-4 control-label text-left\">Confirm password</label>\\n              <div class=\"col-sm-8\">\\n                <div class=\"input-group\">\\n                  <input type=\"password\" class=\"form-control\" ng-model=\"formValues.ConfirmPassword\" id=\"confirm_password\" />\\n                  <span class=\"input-group-addon\"\\n                    ><i\\n                      ng-class=\"{ true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[formValues.Password !== \\'\\' && formValues.Password === formValues.ConfirmPassword]\"\\n                      aria-hidden=\"true\"\\n                    ></i\\n                  ></span>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !confirm-password-input --\\x3e\\n            \\x3c!-- note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\">\\n                  <i ng-class=\"{ true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[formValues.Password.length >= 8]\" aria-hidden=\"true\"></i>\\n                  The password must be at least 8 characters long\\n                </span>\\n              </div>\\n            </div>\\n            \\x3c!-- !note --\\x3e\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"state.actionInProgress || formValues.Password.length < 8 || formValues.Password !== formValues.ConfirmPassword\"\\n                  ng-click=\"createAdminUser()\"\\n                  button-spinner=\"state.actionInProgress\"\\n                >\\n                  <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-user-plus\" aria-hidden=\"true\"></i> Create user</span>\\n                  <span ng-show=\"state.actionInProgress\">Creating user...</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n            \\x3c!-- enableTelemetry--\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <input type=\"checkbox\" name=\"toggle_enableTelemetry\" ng-model=\"formValues.enableTelemetry\" />\\n                <span class=\"text-muted small\" style=\"margin-left: 2px;\"\\n                  >Allow collection of anonymous statistics. You can find more information about this in our\\n                  <a href=\"https://www.portainer.io/documentation/in-app-analytics-and-privacy-policy/\" target=\"_blank\">privacy policy</a>.</span\\n                >\\n              </div>\\n            </div>\\n            \\x3c!-- !enableTelemetry--\\x3e\\n          </form>\\n          \\x3c!-- !init password form --\\x3e\\n        </div>\\n      </div>\\n      \\x3c!-- !init password panel --\\x3e\\n\\n      \\x3c!-- restore backup panel --\\x3e\\n      <div class=\"panel panel-default\">\\n        <div class=\"panel-body\">\\n          \\x3c!-- toggle --\\x3e\\n          <div style=\"padding-bottom: 12px;\">\\n            <a ng-click=\"togglePanel()\">\\n              <i ng-class=\"{ true: \\'glyphicon glyphicon-chevron-down\\', false: \\'glyphicon glyphicon-chevron-right\\' }[state.showRestorePortainer]\" aria-hidden=\"true\"></i\\n              ><span style=\"padding-left: 10px;\">Restore Portainer from backup</span>\\n            </a>\\n          </div>\\n          \\x3c!-- !toggle --\\x3e\\n\\n          \\x3c!-- restore form --\\x3e\\n          <form class=\"simple-box-form form-horizontal\" style=\"padding-left: 30px;\" ng-if=\"state.showRestorePortainer\">\\n            \\x3c!-- note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-9\">\\n                <span class=\"small text-muted\">\\n                  This will restore the Portainer metadata which contains information about the environments, stacks and applications, as well as the configured users.\\n                </span>\\n              </div>\\n            </div>\\n            \\x3c!-- !note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"boxselector_wrapper\">\\n                <div>\\n                  <input type=\"radio\" id=\"restore_file\" checked=\"checked\" />\\n                  <label for=\"restore_file\" style=\"padding-bottom: 20px;\">\\n                    <div class=\"boxselector_header\">\\n                      <i class=\"fa fa-upload\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                      Upload backup file\\n                    </div>\\n                    <p></p>\\n                  </label>\\n                </div>\\n                <div>\\n                  <input type=\"radio\" id=\"restore_s3\" disabled />\\n                  <label for=\"restore_s3\" class=\"boxselector_disabled\" style=\"background-color: #ffffff;\">\\n                    <div class=\"boxselector_header\">\\n                      <i class=\"fa fa-download\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                      Retrieve from S3\\n                    </div>\\n                    <p>This feature is available in <a href=\"https://www.portainer.io/business-upsell?from=restore-s3-form\" target=\"_blank\"> Portainer Business Edition</a></p>\\n                  </label>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\">\\n                  You can upload a backup file from your computer.\\n                </span>\\n              </div>\\n            </div>\\n            \\x3c!-- !note --\\x3e\\n            \\x3c!-- select-file-input --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  class=\"btn btn-sm btn-primary\"\\n                  ngf-select\\n                  accept=\".gz,.encrypted\"\\n                  ngf-accept=\"\\'application/x-tar,application/x-gzip\\'\"\\n                  ng-model=\"formValues.BackupFile\"\\n                  auto-focus\\n                  >Select file</button\\n                >\\n                <span style=\"margin-left: 5px;\">\\n                  {{ formValues.BackupFile.name }}\\n                  <i class=\"fa fa-times red-icon\" ng-if=\"!formValues.BackupFile\" aria-hidden=\"true\"></i>\\n                </span>\\n              </div>\\n            </div>\\n            \\x3c!-- !select-file-input --\\x3e\\n            \\x3c!-- password-input --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"password\" class=\"col-sm-3 control-label text-left\">\\n                Password\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"If the backup is password protected, provide the password in order to extract the backup file, otherwise this field can be left empty.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <div class=\"col-sm-4\">\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.Password\" id=\"password\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !password-input --\\x3e\\n            \\x3c!-- note --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\">\\n                  You are about to restore Portainer from this backup.\\n                </span>\\n              </div>\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\">\\n                  After restoring has completed, please log in as a user that was known by the Portainer that was restored.\\n                </span>\\n              </div>\\n            </div>\\n            \\x3c!-- !note --\\x3e\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"!formValues.BackupFile || state.backupInProgress\"\\n                  ng-click=\"uploadBackup()\"\\n                  button-spinner=\"state.backupInProgress\"\\n                >\\n                  <span ng-hide=\"state.backupInProgress\">Restore Portainer</span>\\n                  <span ng-show=\"state.backupInProgress\">Restoring Portainer...</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n          \\x3c!-- !restore backup form --\\x3e\\n        </div>\\n      </div>\\n      \\x3c!-- !restore backup panel --\\x3e\\n    </div>\\n  </div>\\n  \\x3c!-- !simple box --\\x3e\\n</div>\\n';window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(a,i)}]),e.exports=a},function(e,t){var n=\"app/portainer/views/registries/registries.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Registries\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.registries\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Registry management</rd-header-content>\\n</rd-header>\\n\\n<information-panel title-text=\"Information\">\\n  <span class=\"small text-muted\">\\n    View registries via an environment to manage access for user(s) and/or team(s)\\n  </span>\\n</information-panel>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <registries-datatable\\n      title-text=\"Registries\"\\n      title-icon=\"fa-database\"\\n      dataset=\"registries\"\\n      table-key=\"registries\"\\n      order-by=\"Name\"\\n      remove-action=\"removeAction\"\\n      can-browse=\"canBrowse\"\\n    ></registries-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/registries/edit/registry.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Registry details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"portainer.registries\">Registries</a> &gt; <a ui-sref=\"portainer.registries.registry({id: registry.Id})\">{{ registry.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"registry_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <input type=\"text\" class=\"form-control\" id=\"registry_name\" ng-model=\"registry.Name\" placeholder=\"e.g. my-registry\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- registry-url-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"registry_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n              Registry URL\\n              <portainer-tooltip\\n                position=\"bottom\"\\n                message=\"URL or IP address of a Docker registry. Any protocol or trailing slash will be stripped if present.\"\\n              ></portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-9 col-lg-10\">\\n              <input type=\"text\" class=\"form-control\" id=\"registry_url\" ng-model=\"registry.URL\" placeholder=\"e.g. 10.0.0.10:5000 or myregistry.domain.tld\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !registry-url-input --\\x3e\\n\\n          \\x3c!-- authentication-checkbox --\\x3e\\n          <div class=\"form-group\" ng-if=\"registry.Type !== RegistryTypes.PROGET\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"registry_auth\" class=\"control-label text-left\">\\n                Authentication\\n                <portainer-tooltip position=\"bottom\" message=\"Enable this option if you need to specify credentials to connect to this registry.\"></portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"registry.Authentication\" /><i></i> </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !authentication-checkbox --\\x3e\\n\\n          \\x3c!-- authentication-credentials --\\x3e\\n          <div ng-if=\"registry.Authentication\">\\n            \\x3c!-- credentials-user --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"credentials_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                {{ registry.Type === RegistryTypes.ECR ? \\'AWS Access Key\\' : \\'Username\\' }}\\n              </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input type=\"text\" class=\"form-control\" id=\"credentials_username\" ng-model=\"registry.Username\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !credentials-user --\\x3e\\n            \\x3c!-- credentials-password --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"credentials_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                {{ registry.Type === RegistryTypes.ECR ? \\'AWS Secret Access Key\\' : \\'Password\\' }}\\n              </label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input type=\"password\" class=\"form-control\" id=\"credentials_password\" ng-model=\"formValues.Password\" placeholder=\"*******\" />\\n              </div>\\n            </div>\\n            \\x3c!-- !credentials-password --\\x3e\\n          </div>\\n          \\x3c!-- !authentication-credentials --\\x3e\\n\\n          <div ng-if=\"registry.Type == RegistryTypes.QUAY\">\\n            \\x3c!-- organisation-checkbox --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">\\n                  Use organisation registry\\n                </label>\\n                <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"registry.Quay.UseOrganisation\" /><i></i> </label>\\n              </div>\\n            </div>\\n            \\x3c!-- !organisation-checkbox --\\x3e\\n            <div ng-if=\"registry.Quay.UseOrganisation\">\\n              \\x3c!-- organisation_name --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"organisation_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Organisation name</label>\\n                <div class=\"col-sm-9 col-lg-10\">\\n                  <input type=\"text\" class=\"form-control\" id=\"organisation_name\" name=\"organisation_name\" ng-model=\"registry.Quay.OrganisationName\" required />\\n                </div>\\n              </div>\\n              \\x3c!-- !organisation_name --\\x3e\\n            </div>\\n          </div>\\n\\n          <div ng-if=\"registry.Type == RegistryTypes.ECR\">\\n            \\x3c!-- region --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"registry_region\" class=\"col-sm-3 col-lg-2 control-label text-left\">Region</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input type=\"text\" class=\"form-control\" id=\"registry_region\" name=\"registry_region\" placeholder=\"us-west-1\" ng-model=\"registry.Ecr.Region\" required />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"registryFormEcr.registry_region.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"registryFormEcr.registry_region.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !region --\\x3e\\n          </div>\\n\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !registry.Name || !registry.URL || (registry.Type == RegistryTypes.QUAY && registry.Quay.UseOrganisation && !registry.Quay.OrganisationName)\"\\n                ng-click=\"updateRegistry()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Update registry</span>\\n                <span ng-show=\"state.actionInProgress\">Updating registry...</span>\\n              </button>\\n              <a type=\"button\" class=\"btn btn-default btn-sm\" ui-sref=\"portainer.registries\">Cancel</a>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/settings/settings.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Settings\"></rd-header-title>\\n  <rd-header-content>Settings</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-cogs\" title-text=\"Application settings\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- snapshot-interval --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"snapshot_interval\" class=\"col-sm-2 control-label text-left\">Snapshot interval</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"settings.SnapshotInterval\" id=\"snapshot_interval\" placeholder=\"e.g. 15m\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !snapshot-interval --\\x3e\\n          \\x3c!-- logo --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"toggle_logo\" class=\"control-label text-left\">\\n                Use custom logo\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" name=\"toggle_logo\" ng-model=\"formValues.customLogo\" /><i></i> </label>\\n            </div>\\n          </div>\\n          <div ng-if=\"formValues.customLogo\">\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                You can specify the URL to your logo here. For an optimal display, logo dimensions should be 155px by 55px.\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <label for=\"logo_url\" class=\"col-sm-1 control-label text-left\">\\n                URL\\n              </label>\\n              <div class=\"col-sm-11\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"settings.LogoURL\" id=\"logo_url\" placeholder=\"https://mycompany.com/logo.png\" />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !logo --\\x3e\\n          \\x3c!-- analytics --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"toggle_enableTelemetry\" class=\"control-label text-left\">\\n                Allow the collection of anonymous statistics\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" name=\"toggle_enableTelemetry\" ng-model=\"formValues.enableTelemetry\" /><i></i> </label>\\n            </div>\\n            <div class=\"col-sm-12 text-muted small\" style=\"margin-top: 10px;\">\\n              You can find more information about this in our\\n              <a href=\"https://www.portainer.io/documentation/in-app-analytics-and-privacy-policy/\" target=\"_blank\">privacy policy</a>.\\n            </div>\\n          </div>\\n          \\x3c!-- !analytics --\\x3e\\n          \\x3c!-- templates --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            App Templates\\n          </div>\\n          <div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                You can specify the URL to your own template definitions file here. See\\n                <a href=\"https://documentation.portainer.io/v2.0/settings/apps/#build-and-host-your-own-templates\" target=\"_blank\">Portainer documentation</a> for more details.\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <label for=\"templates_url\" class=\"col-sm-1 control-label text-left\">\\n                URL\\n              </label>\\n              <div class=\"col-sm-11\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"settings.TemplatesURL\"\\n                  id=\"templates_url\"\\n                  placeholder=\"https://myserver.mydomain/templates.json\"\\n                  required\\n                  data-cy=\"settings-templateUrl\"\\n                />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !templates --\\x3e\\n          \\x3c!-- helm charts --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Helm Repository\\n          </div>\\n          <div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                You can specify the URL to your own helm repository here. See the\\n                <a href=\"https://helm.sh/docs/topics/chart_repository/\" target=\"_blank\">official documentation</a> for more details.\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <label for=\"helmrepository_url\" class=\"col-sm-1 control-label text-left\">\\n                URL\\n              </label>\\n              <div class=\"col-sm-11\">\\n                <input type=\"text\" class=\"form-control\" ng-model=\"settings.HelmRepositoryURL\" id=\"helmrepository_url\" placeholder=\"https://charts.bitnami.com/bitnami\" required />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !helm charts --\\x3e\\n          \\x3c!-- host-filesystem --\\x3e\\n\\n          \\x3c!-- edge --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Edge Compute\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"edge_checkin\" class=\"col-sm-2 control-label text-left\">\\n              Edge agent default poll frequency\\n              <portainer-tooltip\\n                position=\"bottom\"\\n                message=\"Interval used by default by each Edge agent to check in with the Portainer instance. Affects Edge environment management and Edge compute features.\"\\n              ></portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-10\">\\n              <select\\n                id=\"edge_checkin\"\\n                class=\"form-control\"\\n                ng-model=\"settings.EdgeAgentCheckinInterval\"\\n                ng-options=\"+(opt.value) as opt.key for opt in state.availableEdgeAgentCheckinOptions\"\\n                data-cy=\"settings-pollFrequencySelect\"\\n              ></select>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"toggle_enableEdgeComputeFeatures\" class=\"control-label text-left\">\\n                Enable edge compute features\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\" data-cy=\"settings-edgeToggle\">\\n                <input type=\"checkbox\" name=\"toggle_enableEdgeComputeFeatures\" ng-model=\"formValues.enableEdgeComputeFeatures\" /><i></i>\\n              </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !edge --\\x3e\\n          \\x3c!-- kube --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Kubernetes\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"edge_checkin\" class=\"col-sm-2 control-label text-left\">\\n              Kubeconfig expiry\\n            </label>\\n            <div class=\"col-sm-10\">\\n              <select\\n                id=\"kubeconfig_expiry\"\\n                class=\"form-control\"\\n                ng-model=\"settings.KubeconfigExpiry\"\\n                ng-options=\"opt.value as opt.key for opt in state.availableKubeconfigExpiryOptions\"\\n              ></select>\\n            </div>\\n          </div>\\n          \\x3c!-- ! kube  --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-click=\"saveApplicationSettings()\"\\n                ng-disabled=\"state.actionInProgress || !settings.TemplatesURL\"\\n                button-spinner=\"state.actionInProgress\"\\n                data-cy=\"settings-saveSettingsButton\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Save settings</span>\\n                <span ng-show=\"state.actionInProgress\">Saving...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<ssl-certificate-settings></ssl-certificate-settings>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-tags\" title-text=\"Hidden containers\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" ng-submit=\"addFilteredContainerLabel()\" name=\"addTagForm\">\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12 text-muted small\">\\n              You can hide containers with specific labels from Portainer UI. You need to specify the label name and value.\\n            </span>\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"header_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11 col-md-4\">\\n              <input type=\"text\" required class=\"form-control\" id=\"header_name\" name=\"label_name\" ng-model=\"formValues.labelName\" placeholder=\"e.g. com.example.foo\" />\\n            </div>\\n            <label for=\"header_value\" class=\"col-sm-1 margin-sm-top control-label text-left\">Value</label>\\n            <div class=\"col-sm-11 col-md-4 margin-sm-top\">\\n              <input type=\"text\" class=\"form-control\" id=\"header_value\" ng-model=\"formValues.labelValue\" placeholder=\"e.g. bar\" />\\n            </div>\\n            <div class=\"col-sm-12 col-md-2 margin-sm-top\">\\n              <button type=\"submit\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!formValues.labelName\"><i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add filter</button>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12 table-responsive\">\\n              <table class=\"table table-hover\">\\n                <thead>\\n                  <tr>\\n                    <th>Name</th>\\n                    <th>Value</th>\\n                    <th></th>\\n                  </tr>\\n                </thead>\\n                <tbody>\\n                  <tr ng-repeat=\"label in settings.BlackListedLabels\">\\n                    <td>{{ label.name }}</td>\\n                    <td>{{ label.value }}</td>\\n                    <td\\n                      ><button type=\"button\" class=\"btn btn-danger btn-xs\" ng-click=\"removeFilteredContainerLabel($index)\"\\n                        ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove</button\\n                      ></td\\n                    >\\n                  </tr>\\n                  <tr ng-if=\"settings.BlackListedLabels.length === 0\">\\n                    <td colspan=\"3\" class=\"text-center text-muted\">No filter available.</td>\\n                  </tr>\\n                  <tr ng-if=\"!settings.BlackListedLabels\">\\n                    <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n                  </tr>\\n                </tbody>\\n              </table>\\n            </div>\\n          </div>\\n          \\x3c!-- !filtered-labels --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-download\" title-text=\"Backup Portainer\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" ng-submit=\"backupPortainer()\" name=\"backupPortainerForm\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Backup configuration\\n          </div>\\n          <box-selector options=\"backupOptions\" ng-model=\"formValues.backupFormType\" on-change=\"(onBackupOptionsChange)\"></box-selector>\\n          <div ng-if=\"formValues.backupFormType === BACKUP_FORM_TYPES.S3\">\\n            \\x3c!-- Schedule automatic backups --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <por-switch-field\\n                  label=\"Schedule automatic backups\"\\n                  name=\"s3-backup-setting\"\\n                  feature=\"s3BackupFeatureId\"\\n                  ng-model=\"formValues.scheduleAutomaticBackups\"\\n                  label-class=\"col-sm-2\"\\n                ></por-switch-field>\\n              </div>\\n            </div>\\n            \\x3c!-- !Schedule automatic backups --\\x3e\\n            \\x3c!-- Cron rule  --\\x3e\\n            <div class=\"form-group\" ng-if=\"formValues.scheduleAutomaticBackups\">\\n              <label for=\"cron_rule\" class=\"col-sm-2 col-lg-2 control-label text-left\">Cron rule</label>\\n              <div class=\"col-sm-10 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  placeholder=\"0 2 * * *\"\\n                  id=\"cron_rule\"\\n                  name=\"cron_rule\"\\n                  ng-model=\"formValues.cronRule\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                  required\\n                  cronRule\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !Cron rule  --\\x3e\\n            \\x3c!-- Access key id  --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"access_key_id\" class=\"col-sm-2 col-lg-2 control-label text-left\">Access Key ID</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  id=\"access_key_id\"\\n                  name=\"access_key_id\"\\n                  ng-model=\"formValues.accessKeyId\"\\n                  ng-required=\"formValues.scheduleAutomaticBackups\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !Access key id  --\\x3e\\n            \\x3c!-- Secret access key --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"secret_access_key\" class=\"col-sm-3 col-lg-2 control-label text-left\">Secret Access Key</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"password\"\\n                  class=\"form-control\"\\n                  id=\"secret_access_key\"\\n                  name=\"secret_access_key\"\\n                  ng-model=\"formValues.secretAccessKey\"\\n                  ng-required=\"formValues.scheduleAutomaticBackups\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !Secret access key --\\x3e\\n            \\x3c!-- Region --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"region\" class=\"col-sm-3 col-lg-2 control-label text-left\">Region</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  placeholder=\"us-west-1\"\\n                  id=\"region\"\\n                  name=\"region\"\\n                  ng-model=\"formValues.region\"\\n                  ng-required=\"formValues.scheduleAutomaticBackups\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !Region --\\x3e\\n            \\x3c!-- Bucket name --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"bucket_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Bucket name</label>\\n              <div class=\"col-sm-9 col-lg-10\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  id=\"bucket_name\"\\n                  name=\"bucket_name\"\\n                  ng-model=\"formValues.bucketName\"\\n                  ng-required=\"formValues.scheduleAutomaticBackups\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !Bucket name --\\x3e\\n            <div class=\"col-sm-12 form-section-title\">\\n              Security settings\\n            </div>\\n            \\x3c!-- Password protect S3 --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"password_protect\" class=\"col-sm-1 control-label text-left\">Password protect</label>\\n              <div class=\"col-sm-1\">\\n                <label class=\"switch\">\\n                  <input type=\"checkbox\" id=\"password_protect_s3\" name=\"password_protect_s3\" ng-model=\"formValues.passwordProtectS3\" disabled /><i></i>\\n                </label>\\n              </div>\\n            </div>\\n            \\x3c!-- !Password protect S3 --\\x3e\\n            \\x3c!-- Password S3 --\\x3e\\n            <div class=\"form-group\" ng-if=\"formValues.passwordProtectS3\">\\n              <label for=\"password\" class=\"col-sm-1 control-label text-left\">Password</label>\\n              <div class=\"col-sm-3\">\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.passwordS3\" id=\"password_S3\" name=\"password_S3\" required />\\n              </div>\\n            </div>\\n            <div class=\"form-group col-md-12\" ng-show=\"backupPortainerForm.password_S3.$invalid\">\\n              <div class=\"small text-warning\">\\n                <div ng-messages=\"backupPortainerForm.password_S3.$error\">\\n                  <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !Password S3 --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"backupPortainerForm.$invalid\"\\n                  ng-click=\"exportBackup()\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                >\\n                  <span><i class=\"fa fa-upload\" aria-hidden=\"true\"></i> Export backup</span>\\n                </button>\\n              </div>\\n            </div>\\n            <div class=\"form-group\">\\n              <hr />\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"backupPortainerForm.$invalid ||state.backupInProgress\"\\n                  ng-click=\"saveS3BackupSettings()\"\\n                  limited-feature-dir=\"{{::s3BackupFeatureId}}\"\\n                  limited-feature-disabled\\n                  limited-feature-class=\"limited-be\"\\n                >\\n                  <span>Save backup settings</span>\\n                </button>\\n              </div>\\n            </div>\\n          </div>\\n          <div ng-if=\"formValues.backupFormType === BACKUP_FORM_TYPES.FILE\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Security settings\\n            </div>\\n            \\x3c!-- Password protect --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"password_protect\" class=\"col-sm-1 control-label text-left\">Password protect</label>\\n              <div class=\"col-sm-1\">\\n                <label class=\"switch\"> <input type=\"checkbox\" id=\"password_protect\" name=\"password_protect\" ng-model=\"formValues.passwordProtect\" /><i></i> </label>\\n              </div>\\n            </div>\\n            \\x3c!-- !Password protect --\\x3e\\n\\n            \\x3c!-- Password --\\x3e\\n            <div class=\"form-group\" ng-if=\"formValues.passwordProtect\">\\n              <label for=\"password\" class=\"col-sm-1 control-label text-left\">Password</label>\\n              <div class=\"col-sm-3\">\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.password\" id=\"password\" name=\"password\" required />\\n              </div>\\n            </div>\\n            <div class=\"form-group col-md-12\" ng-show=\"backupPortainerForm.password.$invalid\">\\n              <div class=\"small text-warning\">\\n                <div ng-messages=\"backupPortainerForm.password.$error\">\\n                  <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !Password --\\x3e\\n\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-click=\"downloadBackup()\"\\n                  ng-disabled=\"backupPortainerForm.$invalid || state.backupInProgress || state.featureLimited\"\\n                  button-spinner=\"state.backupInProgress\"\\n                >\\n                  <span ng-hide=\"state.backupInProgress\">Download backup</span>\\n                  <span ng-show=\"state.backupInProgress\">Downloading backup</span>\\n                </button>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/settings/authentication/settingsAuthentication.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Authentication settings\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.settings\">Settings</a> &gt; Authentication </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-users\" title-text=\"Authentication\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"authSettingsForm\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Configuration\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"user_timeout\" class=\"col-sm-2 control-label text-left\">\\n              Session lifetime\\n              <portainer-tooltip message=\"Time before users are forced to relogin.\"></portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-10\">\\n              <select\\n                id=\"user_timeout\"\\n                class=\"form-control\"\\n                ng-model=\"settings.UserSessionTimeout\"\\n                ng-options=\"opt.value as opt.key for opt in state.availableUserSessionTimeoutOptions\"\\n              ></select>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12 text-muted small\">\\n              Changing from default is only recommended if you have additional layers of authentication in front of Portainer.\\n            </span>\\n          </div>\\n          <div class=\"col-sm-12 form-section-title\">\\n            Authentication method\\n          </div>\\n\\n          <box-selector radio-name=\"authOptions\" ng-model=\"authMethod\" options=\"authOptions\" on-change=\"(onChangeAuthMethod)\"></box-selector>\\n\\n          <internal-auth ng-if=\"authenticationMethodSelected(1)\" on-save-settings=\"(saveSettings)\" save-button-state=\"state.actionInProgress\"></internal-auth>\\n\\n          <ldap-settings\\n            ng-if=\"authenticationMethodSelected(2)\"\\n            settings=\"formValues.ldap.ldapSettings\"\\n            tlsca-cert=\"formValues.TLSCACert\"\\n            state=\"state\"\\n            connectivity-check=\"LDAPConnectivityCheck\"\\n            on-save-settings=\"(saveSettings)\"\\n            save-button-state=\"state.actionInProgress\"\\n            is-ldap-form-valid=\"isLDAPFormValid\"\\n          ></ldap-settings>\\n\\n          <ad-settings\\n            ng-if=\"authenticationMethodSelected(4)\"\\n            settings=\"formValues.ldap.adSettings\"\\n            tlsca-cert=\"formValues.TLSCACert\"\\n            state=\"state\"\\n            connectivity-check=\"LDAPConnectivityCheck\"\\n            on-save-settings=\"(saveSettings)\"\\n            save-button-state=\"state.actionInProgress\"\\n            is-ldap-form-valid=\"isLDAPFormValid()\"\\n          ></ad-settings>\\n\\n          <oauth-settings\\n            ng-if=\"authenticationMethodSelected(3)\"\\n            settings=\"OAuthSettings\"\\n            teams=\"teams\"\\n            on-save-settings=\"(saveSettings)\"\\n            save-button-state=\"state.actionInProgress\"\\n          ></oauth-settings>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/tags/tags.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Tags\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.tags\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Tag management</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-plus\" title-text=\"Add a new tag\"> </rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"tagCreationForm\" ng-submit=\"createTag()\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"name\" class=\"col-sm-2 control-label text-left\">\\n              Name\\n            </label>\\n            <div class=\"col-sm-10\">\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                name=\"name\"\\n                ng-model=\"formValues.Name\"\\n                ng-change=\"checkNameValidity(tagCreationForm)\"\\n                placeholder=\"org/acme\"\\n                required\\n                auto-focus\\n              />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"tagCreationForm.name.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"tagCreationForm.name.$error\">\\n                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                <p ng-message=\"validName\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This tag already exists.</p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !tagCreationForm.$valid\"\\n                ng-click=\"createTag()\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Create tag</span>\\n                <span ng-show=\"state.actionInProgress\">Creating tag...</span>\\n              </button>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <tags-datatable title-text=\"Tags\" title-icon=\"fa-tags\" dataset=\"tags\" table-key=\"tags\" order-by=\"Name\" remove-action=\"removeAction\"></tags-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/users/users.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Users\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.users\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>User management</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-plus\" title-text=\"Add a new user\"> </rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"username\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n              Username\\n              <portainer-tooltip\\n                ng-if=\"AuthenticationMethod === 2\"\\n                position=\"bottom\"\\n                message=\"Username must exactly match username defined in external LDAP source.\"\\n              ></portainer-tooltip>\\n            </label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  id=\"username\"\\n                  ng-model=\"formValues.Username\"\\n                  ng-change=\"checkUsernameValidity()\"\\n                  placeholder=\"e.g. jdoe\"\\n                  auto-focus\\n                  data-cy=\"user-usernameInput\"\\n                />\\n                <span class=\"input-group-addon\"><i ng-class=\"{ true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[state.validUsername]\" aria-hidden=\"true\"></i></span>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- new-password-input --\\x3e\\n          <div class=\"form-group\" ng-if=\"AuthenticationMethod === 1\">\\n            <label for=\"password\" class=\"col-sm-3 col-lg-2 control-label text-left\">Password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.Password\" id=\"password\" data-cy=\"user-passwordInput\" />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !new-password-input --\\x3e\\n          \\x3c!-- confirm-password-input --\\x3e\\n          <div class=\"form-group\" ng-if=\"AuthenticationMethod === 1\">\\n            <label for=\"confirm_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">Confirm password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.ConfirmPassword\" id=\"confirm_password\" data-cy=\"user-passwordConfirmInput\" />\\n                <span class=\"input-group-addon\"\\n                  ><i\\n                    ng-class=\"{ true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[formValues.Password !== \\'\\' && formValues.Password === formValues.ConfirmPassword]\"\\n                    aria-hidden=\"true\"\\n                  ></i\\n                ></span>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !confirm-password-input --\\x3e\\n          \\x3c!-- admin-checkbox --\\x3e\\n          <div class=\"form-group\" ng-if=\"isAdmin\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"permissions\" class=\"control-label text-left\">\\n                Administrator\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"Administrators have access to Portainer settings management as well as full control over all defined environments and their resources.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"formValues.Administrator\" data-cy=\"user-adminCheckbox\" /><i></i> </label>\\n            </div>\\n          </div>\\n          \\x3c!-- !admin-checkbox --\\x3e\\n          \\x3c!-- teams --\\x3e\\n          <div class=\"form-group\" ng-if=\"!formValues.Administrator\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\">\\n                Add to team(s)\\n              </label>\\n              <span class=\"small text-muted\" style=\"margin-left: 20px;\" ng-if=\"teams.length === 0\">\\n                You don\\'t seem to have any teams to add users into. Head over to the <a ui-sref=\"portainer.teams\">Teams view</a> to create some.\\n              </span>\\n              <span\\n                isteven-multi-select\\n                ng-if=\"teams.length > 0\"\\n                input-model=\"teams\"\\n                output-model=\"formValues.Teams\"\\n                button-label=\"Name\"\\n                item-label=\"Name\"\\n                tick-property=\"ticked\"\\n                helper-elements=\"filter\"\\n                search-property=\"Name\"\\n                translation=\"{nothingSelected: \\'Select one or more teams\\', search: \\'Search...\\'}\"\\n                style=\"margin-left: 20px;\"\\n                data-cy=\"user-teamSelect\"\\n              >\\n              </span>\\n            </div>\\n          </div>\\n          \\x3c!-- !teams --\\x3e\\n          <div class=\"form-group\" ng-if=\"isAdmin && !formValues.Administrator && formValues.Teams.length === 0\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\">\\n                Note: non-administrator users who aren\\'t in a team don\\'t have access to any environments by default. Head over to the\\n                <a ui-sref=\"portainer.endpoints\">Environments view</a> to manage their accesses.\\n              </span>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !state.validUsername || formValues.Username === \\'\\' || (AuthenticationMethod === 1 && formValues.Password === \\'\\') || (AuthenticationMethod === 1 && formValues.Password !== formValues.ConfirmPassword)\"\\n                ng-click=\"addUser()\"\\n                button-spinner=\"state.actionInProgress\"\\n                data-cy=\"user-createUserButton\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Create user</span>\\n                <span ng-show=\"state.actionInProgress\">Creating user...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.userCreationError\" style=\"margin: 5px;\">\\n                <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i> {{ state.userCreationError }}\\n              </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <users-datatable\\n      title-text=\"Users\"\\n      title-icon=\"fa-user\"\\n      dataset=\"users\"\\n      table-key=\"users\"\\n      order-by=\"Username\"\\n      authentication-method=\"AuthenticationMethod\"\\n      remove-action=\"removeAction\"\\n    ></users-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/users/edit/user.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"User details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"portainer.users\">Users</a> &gt; <a ui-sref=\"portainer.users.user({id: user.Id})\">{{ formValues.username }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-user\" title-text=\"User details\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n          <div class=\"form-group\">\\n            <label for=\"username_field\" class=\"col-sm-2 control-label text-left\">Username</label>\\n            <div class=\"col-sm-8\">\\n              <input class=\"form-control\" ng-model=\"formValues.username\" id=\"username_field\" />\\n            </div>\\n          </div>\\n\\n          <div class=\"form-group\" ng-if=\"isAdmin\">\\n            <div class=\"col-sm-4\">\\n              <label for=\"permissions\" class=\"control-label text-left\">\\n                Administrator\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"Administrators have access to Portainer settings management as well as full control over all defined environments and their resources.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"formValues.Administrator\" /><i></i> </label>\\n            </div>\\n          </div>\\n\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-4\">\\n              <button class=\"btn btn-primary btn-sm\" ng-disabled=\"!isSubmitEnabled()\" ng-click=\"updateUser()\">Save</button>\\n              <button class=\"btn btn-danger btn-sm\" ng-disabled=\"isDeleteDisabled()\" ng-click=\"deleteUser()\"\\n                ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Delete this user</button\\n              >\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"AuthenticationMethod === 1\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-lock\" title-text=\"Change user password\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n          \\x3c!-- new-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"new_password\" class=\"col-sm-2 control-label text-left\">New password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.newPassword\" id=\"new_password\" />\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !new-password-input --\\x3e\\n          \\x3c!-- confirm-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"confirm_password\" class=\"col-sm-2 control-label text-left\">Confirm password</label>\\n            <div class=\"col-sm-8\">\\n              <div class=\"input-group\">\\n                <span class=\"input-group-addon\"><i class=\"fa fa-lock\" aria-hidden=\"true\"></i></span>\\n                <input type=\"password\" class=\"form-control\" ng-model=\"formValues.confirmPassword\" id=\"confirm_password\" />\\n                <span class=\"input-group-addon\"\\n                  ><i\\n                    ng-class=\"\\n                      { true: \\'fa fa-check green-icon\\', false: \\'fa fa-times red-icon\\' }[formValues.newPassword !== \\'\\' && formValues.newPassword === formValues.confirmPassword]\\n                    \"\\n                    aria-hidden=\"true\"\\n                  ></i\\n                ></span>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !confirm-password-input --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-2\">\\n              <button\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"formValues.newPassword === \\'\\' || formValues.newPassword !== formValues.confirmPassword\"\\n                ng-click=\"updatePassword()\"\\n                >Update password</button\\n              >\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/teams/teams.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Teams\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.teams\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Teams management</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"isAdmin\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-plus\" title-text=\"Add a new team\"> </rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"teamCreationForm\" ng-submit=\"addTeam()\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"team_name\" class=\"col-sm-2 control-label text-left\">Name</label>\\n            <div class=\"col-sm-10\">\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                id=\"team_name\"\\n                name=\"team_name\"\\n                ng-model=\"formValues.Name\"\\n                ng-change=\"checkNameValidity(teamCreationForm)\"\\n                placeholder=\"e.g. development\"\\n                auto-focus\\n                required\\n                data-cy=\"team-teamNameInput\"\\n              />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"teamCreationForm.team_name.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"teamCreationForm.team_name.$error\">\\n                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                <p ng-message=\"validName\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This team already exists.</p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- team-leaders --\\x3e\\n          <div class=\"form-group\" ng-if=\"users.length > 0\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\">\\n                Select team leader(s)\\n                <portainer-tooltip\\n                  position=\"bottom\"\\n                  message=\"You can assign one or more leaders to this team. Team leaders can manage their teams users and resources.\"\\n                ></portainer-tooltip>\\n              </label>\\n              <span\\n                isteven-multi-select\\n                ng-if=\"users.length > 0\"\\n                input-model=\"users\"\\n                output-model=\"formValues.Leaders\"\\n                button-label=\"Username\"\\n                item-label=\"Username\"\\n                tick-property=\"ticked\"\\n                helper-elements=\"filter\"\\n                search-property=\"Username\"\\n                translation=\"{nothingSelected: \\'Select one or more team leaders\\', search: \\'Search...\\'}\"\\n                style=\"margin-left: 20px;\"\\n                data-cy=\"team-teamLeaderSelect\"\\n              >\\n              </span>\\n            </div>\\n          </div>\\n          \\x3c!-- !team-leaders --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"state.actionInProgress || !teamCreationForm.$valid\"\\n                ng-click=\"addTeam()\"\\n                button-spinner=\"state.actionInProgress\"\\n                data-cy=\"team-createTeamButton\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Create team</span>\\n                <span ng-show=\"state.actionInProgress\">Creating team...</span>\\n              </button>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <teams-datatable title-text=\"Teams\" title-icon=\"fa-users\" dataset=\"teams\" table-key=\"teams\" order-by=\"Name\" remove-action=\"removeAction\"></teams-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/teams/edit/team.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Team details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"portainer.teams\">Teams</a> &gt; <a ui-sref=\"portainer.teams.team({id: team.Id})\">{{ team.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-users\" title-text=\"Team details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>\\n                {{ team.Name }}\\n                <button class=\"btn btn-xs btn-danger\" ng-if=\"isAdmin\" ng-click=\"deleteTeam()\"\\n                  ><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Delete this team</button\\n                >\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Leaders</td>\\n              <td>{{ leaderCount }}</td>\\n            </tr>\\n            <tr>\\n              <td>Total users in team</td>\\n              <td>{{ teamMembers.length }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"team\">\\n  <div class=\"col-sm-6\">\\n    <rd-widget>\\n      <rd-widget-header classes=\"col-sm-12 col-md-6 nopadding\" icon=\"fa-users\" title-text=\"Users\">\\n        <div class=\"pull-md-right pull-lg-right\">\\n          Items per page:\\n          <select ng-model=\"state.pagination_count_users\" ng-change=\"changePaginationCountUsers()\">\\n            <option value=\"0\">All</option>\\n            <option value=\"10\">10</option>\\n            <option value=\"25\">25</option>\\n            <option value=\"50\">50</option>\\n            <option value=\"100\">100</option>\\n          </select>\\n        </div>\\n      </rd-widget-header>\\n      <rd-widget-taskbar classes=\"col-sm-12 nopadding\">\\n        <div class=\"col-sm-12 col-md-6 nopadding\">\\n          <button class=\"btn btn-primary btn-sm\" ng-click=\"addAllUsers()\" ng-if=\"isAdmin\" ng-disabled=\"users.length ===  0 || filteredUsers.length === 0\"\\n            ><i class=\"fa fa-user-plus space-right\" aria-hidden=\"true\"></i>Add all users</button\\n          >\\n        </div>\\n        <div class=\"col-sm-12 col-md-6 nopadding\">\\n          <input type=\"text\" id=\"filter-users\" ng-model=\"state.filterUsers\" placeholder=\"Filter...\" class=\"form-control input-sm\" />\\n        </div>\\n      </rd-widget-taskbar>\\n      <rd-widget-body classes=\"no-padding\">\\n        <div class=\"table-responsive\">\\n          <table class=\"table table-hover\">\\n            <thead>\\n              <tr>\\n                <th>\\n                  <a ng-click=\"orderUsers(\\'Username\\')\">\\n                    Name\\n                    <span ng-show=\"sortTypeUsers == \\'Username\\' && !sortReverseUsers\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                    <span ng-show=\"sortTypeUsers == \\'Username\\' && sortReverseUsers\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n                  </a>\\n                </th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr\\n                pagination-id=\"table1\"\\n                dir-paginate=\"user in users | filter:state.filterUsers | orderBy:sortTypeUsers:sortReverseUsers | itemsPerPage: state.pagination_count_users\"\\n              >\\n                <td>\\n                  {{ user.Username }}\\n                  <span style=\"margin-left: 5px;\">\\n                    <a ng-click=\"addUser(user)\"><i class=\"fa fa-plus-circle space-right\" aria-hidden=\"true\"></i>Add</a>\\n                  </span>\\n                </td>\\n              </tr>\\n              <tr ng-if=\"!users\">\\n                <td colspan=\"2\" class=\"text-center text-muted\">Loading...</td>\\n              </tr>\\n              <tr ng-if=\"users.length === 0 || (users | filter: state.filterUsers).length === 0\">\\n                <td colspan=\"2\" class=\"text-center text-muted\">No users.</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n          <div ng-if=\"users\" class=\"pull-left pagination-controls\">\\n            <dir-pagination-controls pagination-id=\"table1\"></dir-pagination-controls>\\n          </div>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n  <div class=\"col-sm-6\">\\n    <rd-widget>\\n      <rd-widget-header classes=\"col-sm-12 col-md-6 nopadding\" icon=\"fa-users\" title-text=\"Team members\">\\n        <div class=\"pull-md-right pull-lg-right\">\\n          Items per page:\\n          <select ng-model=\"state.pagination_count_members\" ng-change=\"changePaginationCountGroupMembers()\">\\n            <option value=\"0\">All</option>\\n            <option value=\"10\">10</option>\\n            <option value=\"25\">25</option>\\n            <option value=\"50\">50</option>\\n            <option value=\"100\">100</option>\\n          </select>\\n        </div>\\n      </rd-widget-header>\\n      <rd-widget-taskbar classes=\"col-sm-12 nopadding\">\\n        <div class=\"col-sm-12 col-md-6 nopadding\">\\n          <button class=\"btn btn-primary btn-sm\" ng-click=\"removeAllUsers()\" ng-if=\"isAdmin\" ng-disabled=\"teamMembers.length ===  0 || filteredGroupMembers.length === 0\"\\n            ><i class=\"fa fa-user-times space-right\" aria-hidden=\"true\"></i>Remove all users</button\\n          >\\n        </div>\\n        <div class=\"col-sm-12 col-md-6 nopadding\">\\n          <input type=\"text\" id=\"filter-group\" ng-model=\"state.filterGroupMembers\" placeholder=\"Filter...\" class=\"form-control input-sm\" />\\n        </div>\\n      </rd-widget-taskbar>\\n      <rd-widget-body classes=\"no-padding\">\\n        <div class=\"table-responsive\">\\n          <table class=\"table table-hover\">\\n            <thead>\\n              <tr>\\n                <th>\\n                  <a ng-click=\"orderGroupMembers(\\'Username\\')\">\\n                    Name\\n                    <span ng-show=\"sortTypeGroupMembers == \\'Username\\' && !sortReverseGroupMembers\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                    <span ng-show=\"sortTypeGroupMembers == \\'Username\\' && sortReverseGroupMembers\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n                  </a>\\n                </th>\\n                <th>\\n                  <a ng-click=\"orderGroupMembers(\\'TeamRole\\')\">\\n                    Team Role\\n                    <span ng-show=\"sortTypeGroupMembers == \\'TeamRole\\' && !sortReverseGroupMembers\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                    <span ng-show=\"sortTypeGroupMembers == \\'TeamRole\\' && sortReverseGroupMembers\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n                  </a>\\n                </th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr\\n                pagination-id=\"table2\"\\n                dir-paginate=\"user in teamMembers | filter:state.filterGroupMembers | orderBy:sortTypeGroupMembers:sortReverseGroupMembers | itemsPerPage: state.pagination_count_groupMembers\"\\n              >\\n                <td>\\n                  {{ user.Username }}\\n                  <span style=\"margin-left: 5px;\" ng-if=\"isAdmin || user.TeamRole === \\'Member\\'\">\\n                    <a ng-click=\"removeUser(user)\"><i class=\"fa fa-minus-circle space-right\" aria-hidden=\"true\"></i>Remove</a>\\n                  </span>\\n                </td>\\n                <td>\\n                  <i ng-if=\"user.TeamRole === \\'Leader\\'\" class=\"fa fa-user-plus\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  <i ng-if=\"user.TeamRole === \\'Member\\'\" class=\"fa fa-user\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  {{ user.TeamRole }}\\n                  <span style=\"margin-left: 5px;\" ng-if=\"isAdmin\">\\n                    <a style=\"margin-left: 5px;\" ng-click=\"promoteToLeader(user)\" ng-if=\"user.TeamRole === \\'Member\\'\"\\n                      ><i class=\"fa fa-user-plus space-right\" aria-hidden=\"true\"></i>Leader</a\\n                    >\\n                    <a style=\"margin-left: 5px;\" ng-click=\"demoteToMember(user)\" ng-if=\"user.TeamRole === \\'Leader\\'\"\\n                      ><i class=\"fa fa-user-times space-right\" aria-hidden=\"true\"></i>Member</a\\n                    >\\n                  </span>\\n                </td>\\n              </tr>\\n              <tr ng-if=\"!teamMembers\">\\n                <td colspan=\"2\" class=\"text-center text-muted\">Loading...</td>\\n              </tr>\\n              <tr ng-if=\"teamMembers.length === 0 || (teamMembers | filter: state.filterGroupMembers).length === 0\">\\n                <td colspan=\"2\" class=\"text-center text-muted\">No team members.</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n          <div ng-if=\"teamMembers\" class=\"pull-left pagination-controls\">\\n            <dir-pagination-controls pagination-id=\"table2\"></dir-pagination-controls>\\n          </div>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/rbac/views/roles/roles.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Roles\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.roles\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Role management</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <roles-datatable title-text=\"Roles\" title-icon=\"fa-file-code\" dataset=\"$ctrl.roles\" table-key=\"roles\"></roles-datatable>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <access-viewer> </access-viewer>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/rbac/components/access-viewer/access-viewer.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12\" style=\"margin-bottom: 0px;\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-user-lock\">\\n      <header-title>\\n        Effective access viewer\\n        <be-feature-indicator feature=\"$ctrl.limitedFeature\" class=\"space-left\"></be-feature-indicator>\\n      </header-title>\\n    </rd-widget-header>\\n    <rd-widget-body>\\n      <form class=\"form-horizontal\">\\n        <div class=\"col-sm-12 form-section-title\">\\n          User\\n        </div>\\n        <div class=\"form-group\">\\n          <div class=\"col-sm-12\">\\n            <span class=\"small text-muted\" ng-if=\"$ctrl.users.length === 0\">\\n              No user available\\n            </span>\\n            <ui-select ng-if=\"$ctrl.users.length > 0\" ng-model=\"$ctrl.selectedUser\" ng-change=\"$ctrl.onUserSelect()\">\\n              <ui-select-match placeholder=\"Select a user\">\\n                <span>{{ $select.selected.Username }}</span>\\n              </ui-select-match>\\n              <ui-select-choices repeat=\"item in ($ctrl.users | filter: $select.search)\">\\n                <span>{{ item.Username }}</span>\\n              </ui-select-choices>\\n            </ui-select>\\n          </div>\\n        </div>\\n\\n        <div class=\"col-sm-12 form-section-title\">\\n          Access\\n        </div>\\n        <div>\\n          <div class=\"small text-muted\" style=\"margin-bottom: 15px;\">\\n            <i class=\"fa fa-info-circle blue-icon space-right\" aria-hidden=\"true\"></i>\\n            Effective role for each environment will be displayed for the selected user\\n          </div>\\n        </div>\\n        <access-viewer-datatable table-key=\"access_viewer\" dataset=\"$ctrl.userRoles\" order-by=\"EndpointName\"> </access-viewer-datatable>\\n      </form>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/rbac/components/access-viewer/access-viewer-datatable/access-viewer-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <div class=\"searchBar\">\\n    <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n    <input type=\"text\" class=\"searchInput\" ng-model=\"$ctrl.state.textFilter\" ng-change=\"$ctrl.onTextFilterChange()\" placeholder=\"Search...\" ng-model-options=\"{ debounce: 300 }\" />\\n  </div>\\n  <div class=\"table-responsive\">\\n    <table class=\"table table-hover nowrap-cells\">\\n      <thead>\\n        <tr>\\n          <th>\\n            <a ng-click=\"$ctrl.changeOrderBy(\\'EndpointName\\')\">\\n              Environment\\n              <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'EndpointName\\' && !$ctrl.state.reverseOrder\"></i>\\n              <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'EndpointName\\' && $ctrl.state.reverseOrder\"></i>\\n            </a>\\n          </th>\\n          <th>\\n            <a ng-click=\"$ctrl.changeOrderBy(\\'RoleName\\')\">\\n              Role\\n              <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'RoleName\\' && !$ctrl.state.reverseOrder\"></i>\\n              <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'RoleName\\' && $ctrl.state.reverseOrder\"></i>\\n            </a>\\n          </th>\\n          <th>Access origin</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <tr\\n          dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index\"\\n        >\\n          <td>{{ item.EndpointName }}</td>\\n          <td>{{ item.RoleName }}</td>\\n          <td\\n            >{{ item.TeamName ? \\'Team\\' : \\'User\\' }} <code ng-if=\"item.TeamName\">{{ item.TeamName }}</code> access defined on {{ item.AccessLocation }}\\n            <code ng-if=\"item.GroupName\">{{ item.GroupName }}</code>\\n            <a ng-if=\"!item.GroupName\" ui-sref=\"portainer.endpoints.endpoint.access({id: item.EndpointId})\"\\n              ><i style=\"margin-left: 5px;\" class=\"fa fa-users\" aria-hidden=\"true\"></i> Manage access\\n            </a>\\n            <a ng-if=\"item.GroupName\" ui-sref=\"portainer.groups.group.access({id: item.GroupId})\"\\n              ><i style=\"margin-left: 5px;\" class=\"fa fa-users\" aria-hidden=\"true\"></i> Manage access\\n            </a>\\n          </td>\\n        </tr>\\n        <tr ng-if=\"!$ctrl.dataset\">\\n          <td colspan=\"3\" class=\"text-center text-muted\">Select a user to show associated access and role</td>\\n        </tr>\\n        <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n          <td colspan=\"3\" class=\"text-center text-muted\">The selected user does not have access to any environment(s)</td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </div>\\n  <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n    <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n    <div class=\"paginationControls\">\\n      <form class=\"form-inline\">\\n        <span class=\"limitSelector\">\\n          <span style=\"margin-right: 5px;\">\\n            Items per page\\n          </span>\\n          <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\">\\n            <option value=\"0\">All</option>\\n            <option value=\"10\">10</option>\\n            <option value=\"25\">25</option>\\n            <option value=\"50\">50</option>\\n            <option value=\"100\">100</option>\\n          </select>\\n        </span>\\n        <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/rbac/components/roles-datatable/roles-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Description\\')\">\\n                  Description\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Description\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Description\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th class=\"be-visual-indicator-col\"></th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>{{ item.Name }}</td>\\n              <td>{{ item.Description }}</td>\\n              <td class=\"be-visual-indicator-col\" ng-switch on=\"$ctrl.isDefaultItem(item)\">\\n                <span ng-switch-when=\"false\">\\n                  <be-feature-indicator feature=\"$ctrl.limitedFeature\"></be-feature-indicator>\\n                </span>\\n                <b ng-switch-when=\"true\">Default</b>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No role available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){var n=\"app/portainer/components/sidebar/sidebar-menu/sidebar-menu.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<li class=\"sidebar-list sidebar-menu\">\\n  <sidebar-menu-item path=\"{{::$ctrl.path }}\" path-params=\"$ctrl.pathParams\" icon-class=\"{{::$ctrl.iconClass}}\" data-cy=\"portainerSidebar-{{ ::$ctrl.label }}\">\\n    <div class=\"sidebar-menu-head\">\\n      <button ng-click=\"$ctrl.onClickArrow($event)\" class=\"small sidebar-menu-indicator\">\\n        <i class=\"fas\" ng-class=\"$ctrl.isOpen() ? \\'fa-chevron-down\\' : \\'fa-chevron-right\\'\"></i>\\n      </button>\\n      {{ ::$ctrl.label }}\\n    </div>\\n  </sidebar-menu-item>\\n\\n  <div class=\"sidebar-list-items\" ng-if=\"$ctrl.isOpen()\">\\n    <ng-transclude></ng-transclude>\\n  </div>\\n</li>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/sidebar/sidebar-section/sidebar-section.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"sidebar-section\">\\n  <li class=\"sidebar-title\">\\n    <span>{{ ::$ctrl.title }}</span>\\n  </li>\\n\\n  <div class=\"sidebar-section-items\" ng-transclude> </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/sidebar/sidebar-menu-item/sidebar-menu-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<li class=\"sidebar-menu-item\" ng-class=\"$ctrl.className\">\\n  <a ui-state=\"$ctrl.path\" ui-state-params=\"$ctrl.pathParams\" ui-sref-active=\"active\">\\n    <ng-transclude></ng-transclude>\\n    <span ng-if=\"$ctrl.iconClass\" class=\"menu-icon fa\" ng-class=\"$ctrl.iconClass\"></span>\\n  </a>\\n</li>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/forms/git-form/git-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ng-form name=\"$ctrl.gitForm\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Git repository\\n  </div>\\n  <git-form-url-field value=\"$ctrl.model.RepositoryURL\" on-change=\"($ctrl.onChangeURL)\"></git-form-url-field>\\n  <git-form-ref-field value=\"$ctrl.model.RepositoryReferenceName\" on-change=\"($ctrl.onChangeRefName)\"></git-form-ref-field>\\n  <git-form-compose-path-field\\n    value=\"$ctrl.model.ComposeFilePathInRepository\"\\n    on-change=\"($ctrl.onChangeComposePath)\"\\n    deploy-method=\"{{ $ctrl.deployMethod }}\"\\n  ></git-form-compose-path-field>\\n\\n  <git-form-additional-files-panel ng-if=\"$ctrl.additionalFile\" model=\"$ctrl.model\" on-change=\"($ctrl.onChange)\"></git-form-additional-files-panel>\\n\\n  <git-form-auth-fieldset model=\"$ctrl.model\" on-change=\"($ctrl.onChange)\"></git-form-auth-fieldset>\\n\\n  <git-form-auto-update-fieldset ng-if=\"$ctrl.autoUpdate\" model=\"$ctrl.model\" on-change=\"($ctrl.onChange)\"></git-form-auto-update-fieldset>\\n</ng-form>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/forms/git-form/git-form-auth-fieldset/git-form-auth-fieldset.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <por-switch-field\\n      ng-model=\"$ctrl.model.RepositoryAuthentication\"\\n      label=\"Authentication\"\\n      name=\"authSwitch\"\\n      on-change=\"($ctrl.onChangeAuth)\"\\n      data-cy=\"component-gitAuthToggle\"\\n    ></por-switch-field>\\n  </div>\\n</div>\\n<div class=\"small text-warning\" style=\"margin: 5px 0 15px 0;\" ng-if=\"$ctrl.model.RepositoryAuthentication && $ctrl.showAuthExplanation\">\\n  <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i>\\n  <span class=\"text-muted\">Enabling authentication will store the credentials and it is advisable to use a git service account</span>\\n</div>\\n<div ng-if=\"$ctrl.model.RepositoryAuthentication\">\\n  <div class=\"form-group\">\\n    <label for=\"repository_username\" class=\"control-label text-left inline-label\">\\n      Username\\n    </label>\\n    <div class=\"inline-input\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        ng-model=\"$ctrl.model.RepositoryUsername\"\\n        name=\"repository_username\"\\n        placeholder=\"git username\"\\n        ng-change=\"$ctrl.onChangeUsername($ctrl.model.RepositoryUsername)\"\\n        data-cy=\"component-gitUsernameInput\"\\n      />\\n    </div>\\n  </div>\\n  <div class=\"form-group\">\\n    <label for=\"repository_password\" class=\"control-label text-left inline-label\">\\n      Personal Access Token\\n      <portainer-tooltip position=\"bottom\" message=\"Provide a personal access token or password\"></portainer-tooltip>\\n    </label>\\n    <div class=\"inline-input\">\\n      <input\\n        type=\"password\"\\n        class=\"form-control\"\\n        ng-model=\"$ctrl.model.RepositoryPassword\"\\n        name=\"repository_password\"\\n        placeholder=\"*******\"\\n        ng-change=\"$ctrl.onChangePassword($ctrl.model.RepositoryPassword)\"\\n        ng-required=\"!$ctrl.isEdit\"\\n        data-cy=\"component-gitPasswordInput\"\\n      />\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-files-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group\">\\n  <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n    <label class=\"control-label text-left\">Additional paths</label>\\n    <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"$ctrl.add()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add file </span>\\n  </div>\\n  <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n    <git-form-additional-file-item\\n      ng-repeat=\"variable in $ctrl.model.AdditionalFiles track by $index\"\\n      variable=\"variable\"\\n      index=\"$index\"\\n      on-change=\"($ctrl.onChangeVariable)\"\\n    ></git-form-additional-file-item>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-file-item/git-form-additional-file-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ng-form class=\"env-item form-horizontal\" name=\"$ctrl.{{ $ctrl.formName }}\">\\n  <div class=\"form-group col-sm-12\">\\n    <div class=\"form-inline\" style=\"margin-top: 10px;\">\\n      <div class=\"input-group col-sm-5 input-group-sm\">\\n        <span class=\"input-group-addon\">path</span>\\n        <input type=\"text\" name=\"name\" class=\"form-control\" ng-model=\"$ctrl.variable\" ng-change=\"$ctrl.onChangePath($ctrl.variable)\" required />\\n      </div>\\n      <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.removeValue()\">\\n        <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n      </button>\\n    </div>\\n    <div ng-show=\"$ctrl[$ctrl.formName].name.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"$ctrl[$ctrl.formName].name.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Path is required. </p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</ng-form>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/forms/git-form/git-form-auto-update-fieldset/git-form-auto-update-fieldset.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ng-form name=\"autoUpdateForm\">\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <por-switch-field name=\"autoUpdate\" ng-model=\"$ctrl.model.RepositoryAutomaticUpdates\" label=\"Automatic Updates\" on-change=\"($ctrl.onChangeAutoUpdate)\"></por-switch-field>\\n    </div>\\n  </div>\\n  <div class=\"small text-warning\" style=\"margin: 5px 0 10px 0;\" ng-if=\"$ctrl.model.RepositoryAutomaticUpdates\">\\n    <i class=\"fa fa-exclamation-circle\" aria-hidden=\"true\"></i>\\n    <span class=\"text-muted\">Any changes to this stack or application made locally in Portainer will be overridden, which may cause service interruption.</span>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.model.RepositoryAutomaticUpdates\">\\n    <label for=\"repository_mechanism\" class=\"col-sm-1 control-label text-left\">\\n      Mechanism\\n    </label>\\n    <div class=\"col-sm-11\">\\n      <div class=\"input-group col-sm-10 input-group-sm\">\\n        <div class=\"btn-group btn-group-sm\">\\n          <label class=\"btn btn-primary\" ng-click=\"$ctrl.onChangeMechanism($ctrl.model.RepositoryMechanism)\" ng-model=\"$ctrl.model.RepositoryMechanism\" uib-btn-radio=\"\\'Interval\\'\"\\n            >Polling</label\\n          >\\n          <label class=\"btn btn-primary\" ng-click=\"$ctrl.onChangeMechanism($ctrl.model.RepositoryMechanism)\" ng-model=\"$ctrl.model.RepositoryMechanism\" uib-btn-radio=\"\\'Webhook\\'\"\\n            >Webhook</label\\n          >\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.model.RepositoryAutomaticUpdates && $ctrl.model.RepositoryMechanism === \\'Webhook\\'\">\\n    <label for=\"repository_mechanism\" class=\"col-sm-1 control-label text-left\">\\n      Webhook\\n    </label>\\n    <div class=\"col-sm-11\">\\n      <span class=\"text-muted\"> {{ $ctrl.model.RepositoryWebhookURL | truncatelr }} </span>\\n      <button type=\"button\" class=\"btn btn-sm btn-primary btn-sm space-left\" ng-if=\"$ctrl.model.RepositoryWebhookURL\" ng-click=\"$ctrl.copyWebhook()\">\\n        <span><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy link</span>\\n      </button>\\n      <span>\\n        <i id=\"copyNotification\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none;\"></i>\\n      </span>\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.model.RepositoryAutomaticUpdates && $ctrl.model.RepositoryMechanism === \\'Interval\\'\">\\n    <label for=\"repository_fetch_interval\" class=\"col-sm-1 control-label text-left\">\\n      Fetch interval\\n    </label>\\n    <div class=\"col-sm-11\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        ng-change=\"$ctrl.onChangeInterval($ctrl.model.RepositoryFetchInterval)\"\\n        ng-model=\"$ctrl.model.RepositoryFetchInterval\"\\n        name=\"repository_fetch_interval\"\\n        placeholder=\"5m\"\\n        required\\n        interval-format\\n      />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.model.RepositoryAutomaticUpdates\">\\n    <div class=\"col-sm-12\">\\n      <por-switch-field name=\"forceUpdate\" feature=\"$ctrl.limitedFeature\" ng-model=\"$ctrl.model.RepositoryAutomaticUpdatesForce\" label=\"Force Redeployment\"></por-switch-field>\\n    </div>\\n  </div>\\n  <div class=\"small text-warning\" style=\"margin: 5px 0 10px 0;\" ng-if=\"$ctrl.model.RepositoryAutomaticUpdates\">\\n    <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\"></i>\\n    <span class=\"text-muted\">When enabled, enforces automatic deployment at each interval or webhook invocation.</span>\\n  </div>\\n  <div class=\"form-group col-md-12\" ng-show=\"autoUpdateForm.repository_fetch_interval.$touched && autoUpdateForm.repository_fetch_interval.$invalid\">\\n    <div class=\"small text-warning\">\\n      <div ng-messages=\"autoUpdateForm.repository_fetch_interval.$error\">\\n        <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        <p ng-message=\"invalidIntervalFormat\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Please enter a valid time interval.</p>\\n        <p ng-message=\"minimumInterval\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum interval is 1m</p>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\"small text-warning\" style=\"margin: 5px 0 10px 0;\" ng-if=\"!$ctrl.model.RepositoryAutomaticUpdates\">\\n    <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\"></i>\\n    <span class=\"text-muted\">When enabled, updates from the git repository will occur automatically at an interval or webhook.</span>\\n  </div>\\n</ng-form>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/forms/git-form/git-form-compose-path-field/git-form-compose-path-field.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group\">\\n  <span class=\"col-sm-12 text-muted small\"> Indicate the path to the {{ $ctrl.deployMethod == \\'compose\\' ? \\'Compose\\' : \\'Manifest\\' }} file from the root of your repository. </span>\\n</div>\\n<div class=\"form-group\">\\n  <label for=\"stack_repository_path\" class=\"col-sm-2 control-label text-left\">{{ $ctrl.deployMethod == \\'compose\\' ? \\'Compose\\' : \\'Manifest\\' }} path</label>\\n  <div class=\"col-sm-10\">\\n    <input\\n      type=\"text\"\\n      class=\"form-control\"\\n      name=\"repoPathField\"\\n      ng-model=\"$ctrl.value\"\\n      ng-change=\"$ctrl.onChange($ctrl.value)\"\\n      id=\"stack_repository_path\"\\n      placeholder=\"{{ $ctrl.deployMethod == \\'compose\\' ? \\'docker-compose.yml\\' : \\'manifest.yml\\' }}\"\\n      required\\n    />\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/forms/git-form/git-form-ref-field/git-form-ref-field.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group\">\\n  <span class=\"col-sm-12 text-muted small\">\\n    Specify a reference of the repository using the following syntax: branches with <code>refs/heads/branch_name</code> or tags with <code>refs/tags/tag_name</code>. If not\\n    specified, will use the default <code>HEAD</code> reference normally the <code>master</code> branch.\\n  </span>\\n</div>\\n<div class=\"form-group\">\\n  <label for=\"stack_repository_reference_name\" class=\"col-sm-2 control-label text-left\">Repository reference</label>\\n  <div class=\"col-sm-10\">\\n    <input\\n      type=\"text\"\\n      class=\"form-control\"\\n      ng-model=\"$ctrl.value\"\\n      id=\"stack_repository_reference_name\"\\n      placeholder=\"refs/heads/master\"\\n      ng-change=\"$ctrl.onChange($ctrl.value)\"\\n      data-cy=\"component-gitRefInput\"\\n    />\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/forms/git-form/git-form-url-field/git-form-url-field.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group\">\\n  <span class=\"col-sm-12 text-muted small\">\\n    You can use the URL of a git repository.\\n  </span>\\n</div>\\n<div class=\"form-group\">\\n  <label for=\"stack_repository_url\" class=\"col-sm-2 control-label text-left\">Repository URL</label>\\n  <div class=\"col-sm-10\">\\n    <input\\n      type=\"text\"\\n      name=\"repoUrlField\"\\n      class=\"form-control\"\\n      ng-model=\"$ctrl.value\"\\n      ng-change=\"$ctrl.onChange($ctrl.value)\"\\n      id=\"stack_repository_url\"\\n      placeholder=\"https://github.com/portainer/portainer-compose\"\\n      data-cy=\"component-gitUrlInput\"\\n      required\\n    />\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/forms/git-form/git-form-info-panel/git-form-info-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group\" ng-class=\"$ctrl.className\">\\n  <div class=\"col-sm-12\">\\n    <p>\\n      This {{ $ctrl.type }} was deployed from the git repository <code>{{ $ctrl.url }}</code>\\n      .\\n    </p>\\n    <p>\\n      Update\\n      <code\\n        >{{ $ctrl.configFilePath }}<span ng-if=\"$ctrl.additionalFiles.length > 0\">, {{ $ctrl.additionalFiles.join(\\',\\') }}</span></code\\n      >\\n      in git and pull from here to update the {{ $ctrl.type }}.\\n    </p>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/accessManagement/porAccessManagement.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget ng-if=\"ctrl.availableUsersAndTeams && ctrl.accessControlledEntity\">\\n      <rd-widget-header icon=\"fa-user-lock\" title-text=\"Create access\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div ng-if=\"ctrl.entityType !== \\'registry\\'\" class=\"form-group\">\\n            <span class=\"col-sm-12 small text-warning\">\\n              <p>\\n                <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                Adding user access will require the affected user(s) to logout and login for the changes to be taken into account.\\n              </p>\\n            </span>\\n          </div>\\n\\n          <por-access-management-users-selector options=\"ctrl.availableUsersAndTeams\" value=\"ctrl.formValues.multiselectOutput\"></por-access-management-users-selector>\\n\\n          <div class=\"form-group\" ng-if=\"ctrl.entityType !== \\'registry\\'\">\\n            <label class=\"col-sm-3 col-lg-2 control-label text-left\">\\n              Role\\n            </label>\\n            <div class=\"col-sm-9 col-lg-6\">\\n              <div class=\"flex items-center\">\\n                <select\\n                  class=\"form-control\"\\n                  ng-model=\"ctrl.formValues.selectedRole\"\\n                  ng-options=\"role as ctrl.roleLabel(role) disable when ctrl.isRoleLimitedToBE(role) for role in ctrl.roles\"\\n                >\\n                </select>\\n                <be-feature-indicator feature=\"ctrl.limitedFeature\" class=\"space-left\"></be-feature-indicator>\\n              </div>\\n            </div>\\n          </div>\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"(ctrl.availableUsersAndTeams | filter:{ticked:true}).length === 0 || ctrl.actionInProgress\"\\n                ng-click=\"ctrl.authorizeAccess()\"\\n                button-spinner=\"ctrl.actionInProgress\"\\n                data-cy=\"access-createAccess\"\\n              >\\n                <span ng-hide=\"ctrl.state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Create access</span>\\n                <span ng-show=\"ctrl.state.actionInProgress\">Creating access...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <access-datatable\\n      ng-if=\"ctrl.authorizedUsersAndTeams\"\\n      title-text=\"Access\"\\n      title-icon=\"fa-user-lock\"\\n      table-key=\"{{ \\'access_\\' + ctrl.entityType }}\"\\n      order-by=\"Name\"\\n      show-warning=\"ctrl.entityType !== \\'registry\\'\"\\n      is-update-enabled=\"ctrl.entityType !== \\'registry\\'\"\\n      show-roles=\"ctrl.entityType !== \\'registry\\'\"\\n      roles=\"ctrl.roles\"\\n      inherit-from=\"ctrl.inheritFrom\"\\n      dataset=\"ctrl.authorizedUsersAndTeams\"\\n      update-action=\"ctrl.updateAction\"\\n      remove-action=\"ctrl.unauthorizeAccess\"\\n    >\\n    </access-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/accessManagement/por-access-management-users-selector/por-access-management-users-selector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group\">\\n  <label class=\"col-sm-3 col-lg-2 control-label text-left\">\\n    Select user(s) and/or team(s)\\n  </label>\\n  <div class=\"col-sm-9 col-lg-4\">\\n    <span class=\"small text-muted\" ng-if=\"$ctrl.options.length === 0\">\\n      No users or teams available.\\n    </span>\\n    <span\\n      isteven-multi-select\\n      ng-if=\"$ctrl.options.length > 0\"\\n      input-model=\"$ctrl.options\"\\n      output-model=\"$ctrl.value\"\\n      button-label=\"icon Name\"\\n      item-label=\"icon Name\"\\n      tick-property=\"ticked\"\\n      helper-elements=\"filter\"\\n      search-property=\"Name\"\\n      translation=\"{nothingSelected: \\'Select one or more users and/or teams\\', search: \\'Search...\\'}\"\\n      data-cy=\"component-selectUser\"\\n    >\\n    </span>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/form-components/web-editor-form/web-editor-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ng-form name=\"$ctrl.webEditorForm\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Web editor\\n  </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\" ng-transclude=\"description\"> </span>\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <code-editor identifier=\"{{ $ctrl.identifier }}\" placeholder=\"{{ $ctrl.placeholder }}\" yml=\"$ctrl.yml\" value=\"$ctrl.value\" on-change=\"($ctrl.editorUpdate)\"></code-editor>\\n    </div>\\n  </div>\\n</ng-form>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/form-components/file-upload-form/file-upload-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ng-form class=\"file-upload-form\" name=\"$ctrl.fileUploadForm\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Upload\\n  </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\" ng-transclude=\"description\"> </span>\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select=\"$ctrl.onChange($file)\" ng-model=\"$ctrl.file\" ng-required=\"$ctrl.ngRequired\" name=\"file\">\\n        Select file\\n      </button>\\n      <span class=\"space-left\">\\n        {{ $ctrl.file.name }}\\n        <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.file\" aria-hidden=\"true\"></i>\\n      </span>\\n    </div>\\n  </div>\\n</ng-form>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ad-settings/ad-settings.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ng-form class=\"ad-settings\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-class=\"limited-be\">\\n  <be-feature-indicator feature=\"$ctrl.limitedFeatureId\" class=\"my-8 block\"></be-feature-indicator>\\n\\n  <auto-user-provision-toggle ng-model=\"$ctrl.settings.AutoCreateUsers\">\\n    <field-description>\\n      With automatic user provisioning enabled, Portainer will create user(s) automatically with standard user role and assign them to team(s) which matches to LDAP group name(s).\\n      If disabled, users must be created in Portainer beforehand.\\n    </field-description>\\n  </auto-user-provision-toggle>\\n\\n  <div>\\n    <div class=\"col-sm-12 form-section-title\">\\n      Information\\n    </div>\\n    <div class=\"form-group col-sm-12 text-muted small\">\\n      When using Microsoft AD authentication, Portainer will delegate user authentication to the Domain Controller(s) configured below; if there is no connectivity, Portainer will\\n      fallback to internal authentication.\\n    </div>\\n  </div>\\n\\n  <div class=\"col-sm-12 form-section-title\">\\n    AD configuration\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12 small text-muted\">\\n      <p>\\n        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n        You can configure multiple AD Controllers for authentication fallback. Make sure all servers are using the same configuration (i.e. if TLS is enabled, they should all use\\n        the same certificates).\\n      </p>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"ldap_url\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"display: flex; flex-wrap: wrap;\">\\n      AD Controller\\n      <button\\n        type=\"button\"\\n        class=\"label label-default interactive\"\\n        style=\"border: 0;\"\\n        ng-click=\"$ctrl.addLDAPUrl()\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      >\\n        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Add additional server\\n      </button>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <div ng-repeat=\"url in $ctrl.settings.URLs track by $index\" style=\"display: flex; margin-bottom: 10px;\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"ldap_url\"\\n          ng-model=\"$ctrl.settings.URLs[$index]\"\\n          placeholder=\"e.g. 10.0.0.10:389 or myldap.domain.tld:389\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n        <button\\n          ng-if=\"$index > 0\"\\n          class=\"btn btn-sm btn-danger\"\\n          type=\"button\"\\n          ng-click=\"$ctrl.removeLDAPUrl($index)\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        >\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"ldap_username\" class=\"col-sm-3 control-label text-left\">\\n      Service Account\\n      <portainer-tooltip position=\"bottom\" message=\"Account that will be used to search for users.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        id=\"ldap_username\"\\n        ng-model=\"$ctrl.settings.ReaderDN\"\\n        placeholder=\"reader@domain.tld\"\\n        ng-change=\"$ctrl.onAccountChange($ctrl.settings.ReaderDN)\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"ldap_password\" class=\"col-sm-3 control-label text-left\">\\n      Service Account Password\\n      <portainer-tooltip position=\"bottom\" message=\"If you do not enter a password, Portainer will leave the current password unchanged.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9\">\\n      <input\\n        type=\"password\"\\n        class=\"form-control\"\\n        id=\"ldap_password\"\\n        ng-model=\"$ctrl.settings.Password\"\\n        placeholder=\"password\"\\n        autocomplete=\"new-password\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      />\\n    </div>\\n  </div>\\n\\n  <ldap-connectivity-check\\n    ng-if=\"!$ctrl.settings.TLSConfig.TLS && !$ctrl.settings.StartTLS\"\\n    settings=\"$ctrl.settings\"\\n    state=\"$ctrl.state\"\\n    connectivity-check=\"$ctrl.connectivityCheck\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-connectivity-check>\\n\\n  <ldap-settings-security\\n    title=\"AD Connectivity Security\"\\n    settings=\"$ctrl.settings\"\\n    tlsca-cert=\"$ctrl.tlscaCert\"\\n    upload-in-progress=\"$ctrl.state.uploadInProgress\"\\n    on-tlsca-cert-change=\"($ctrl.onTlscaCertChange)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-settings-security>\\n\\n  <ldap-connectivity-check\\n    ng-if=\"$ctrl.settings.TLSConfig.TLS || $ctrl.settings.StartTLS\"\\n    settings=\"$ctrl.settings\"\\n    state=\"$ctrl.state\"\\n    connectivity-check=\"$ctrl.connectivityCheck\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-connectivity-check>\\n\\n  <ldap-user-search\\n    style=\"margin-top: 5px;\"\\n    show-username-format=\"true\"\\n    settings=\"$ctrl.settings.SearchSettings\"\\n    domain-suffix=\"{{ $ctrl.domainSuffix }}\"\\n    base-filter=\"(objectClass=user)\"\\n    on-search-click=\"($ctrl.searchUsers)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-user-search>\\n\\n  <ldap-group-search\\n    style=\"margin-top: 5px;\"\\n    settings=\"$ctrl.settings.GroupSearchSettings\"\\n    domain-suffix=\"{{ $ctrl.domainSuffix }}\"\\n    base-filter=\"(objectClass=group)\"\\n    on-search-click=\"($ctrl.searchGroups)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-group-search>\\n\\n  <ldap-custom-admin-group\\n    style=\"margin-top: 5px;\"\\n    settings=\"$ctrl.settings\"\\n    on-search-click=\"($ctrl.onSearchAdminGroupsClick)\"\\n    selected-admin-groups=\"$ctrl.selectedAdminGroups\"\\n    default-admin-group-search-filter=\"\\'(objectClass=groupOfNames)\\'\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n    is-limited-feature-self-contained=\"false\"\\n  ></ldap-custom-admin-group>\\n\\n  <ldap-settings-test-login settings=\"$ctrl.settings\" limited-feature-id=\"$ctrl.limitedFeatureId\" is-limited-feature-self-contained=\"false\"></ldap-settings-test-login>\\n  <save-auth-settings-button\\n    on-save-settings=\"($ctrl.onSaveSettings)\"\\n    save-button-state=\"($ctrl.saveButtonState)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n    save-button-disabled=\"($ctrl.isSaveSettingButtonDisabled())\"\\n  ></save-auth-settings-button>\\n</ng-form>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-settings/ldap-settings.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <auto-user-provision-toggle ng-model=\"$ctrl.settings.AutoCreateUsers\">\\n    <field-description>\\n      With automatic user provisioning enabled, Portainer will create user(s) automatically with standard user role and assign them to team(s) which matches to LDAP group name(s).\\n      If disabled, users must be created in Portainer beforehand.\\n    </field-description>\\n  </auto-user-provision-toggle>\\n\\n  <div class=\"col-sm-12 form-section-title\">\\n    Server Type\\n  </div>\\n\\n  <box-selector\\n    style=\"margin-bottom: 0;\"\\n    radio-name=\"ldap-server-type-selector\"\\n    ng-model=\"$ctrl.settings.ServerType\"\\n    options=\"$ctrl.boxSelectorOptions\"\\n    on-change=\"($ctrl.onChangeServerType)\"\\n  ></box-selector>\\n\\n  <ldap-settings-custom\\n    ng-if=\"$ctrl.settings.ServerType === $ctrl.SERVER_TYPES.CUSTOM\"\\n    settings=\"$ctrl.settings\"\\n    tlsca-cert=\"$ctrl.tlscaCert\"\\n    state=\"$ctrl.state\"\\n    on-tlsca-cert-change=\"($ctrl.onTlscaCertChange)\"\\n    connectivity-check=\"$ctrl.connectivityCheck\"\\n    on-search-users-click=\"($ctrl.searchUsers)\"\\n    on-search-groups-click=\"($ctrl.searchGroups)\"\\n    on-save-settings=\"($ctrl.onSaveSettings)\"\\n    save-button-state=\"($ctrl.saveButtonState)\"\\n    save-button-disabled=\"$ctrl.isLdapFormValid\"\\n  ></ldap-settings-custom>\\n  <ldap-settings-open-ldap\\n    ng-if=\"$ctrl.settings.ServerType === $ctrl.SERVER_TYPES.OPEN_LDAP\"\\n    settings=\"$ctrl.settings\"\\n    tlsca-cert=\"$ctrl.tlscaCert\"\\n    state=\"$ctrl.state\"\\n    on-tlsca-cert-change=\"($ctrl.onTlscaCertChange)\"\\n    connectivity-check=\"$ctrl.connectivityCheck\"\\n    on-search-users-click=\"($ctrl.searchUsers)\"\\n    on-search-groups-click=\"($ctrl.searchGroups)\"\\n    on-save-settings=\"($ctrl.onSaveSettings)\"\\n    save-button-state=\"($ctrl.saveButtonState)\"\\n    save-button-disabled=\"$ctrl.isLdapFormValid\"\\n  ></ldap-settings-open-ldap>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-settings-custom/ldap-settings-custom.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <div class=\"col-sm-12 form-section-title\">\\n    Information\\n  </div>\\n  <div class=\"form-group col-sm-12 text-muted small\">\\n    When using LDAP authentication, Portainer will delegate user authentication to a LDAP server and fallback to internal authentication if LDAP authentication fails.\\n  </div>\\n</div>\\n\\n<div class=\"col-sm-12 form-section-title\">\\n  LDAP configuration\\n</div>\\n\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12 small text-muted\">\\n    <p>\\n      <i class=\"fa fa-info-circle blue-icon m-r-2\" aria-hidden=\"true\"></i>\\n      You can configure multiple LDAP Servers for authentication fallback. Make sure all servers are using the same configuration (i.e. if TLS is enabled, they should all use the\\n      same certificates).\\n    </p>\\n  </div>\\n</div>\\n\\n<div class=\"form-group\">\\n  <label for=\"ldap_url\" class=\"col-sm-3 col-lg-2 control-label text-left dispay-flex flex-wrap\">\\n    LDAP Server\\n    <button\\n      type=\"button\"\\n      class=\"label label-default interactive no-border\"\\n      ng-click=\"$ctrl.addLDAPUrl()\"\\n      limited-feature-dir=\"{{ $ctrl.limitedFeatureId }}\"\\n      limited-feature-disabled\\n      limited-feature-class=\"limited-be\"\\n    >\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Add additional server\\n    </button>\\n  </label>\\n  <div class=\"col-sm-9 col-lg-10\">\\n    <div class=\"m-b-10 dispay-flex\" ng-repeat=\"url in $ctrl.settings.URLs track by $index\">\\n      <input type=\"text\" class=\"form-control\" id=\"ldap_url\" ng-model=\"$ctrl.settings.URLs[$index]\" placeholder=\"e.g. 10.0.0.10:389 or myldap.domain.tld:389\" required />\\n      <button ng-if=\"$index > 0\" class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.removeLDAPUrl($index)\">\\n        <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\"form-group\">\\n  <label for=\"anonymous_mode\" class=\"control-label text-left col-sm-3 col-lg-2\">\\n    Anonymous mode\\n    <portainer-tooltip position=\"bottom\" message=\"Enable this option if the server is configured for Anonymous access.\"></portainer-tooltip>\\n  </label>\\n  <div class=\"col-sm-9 col-lg-10\">\\n    <label class=\"switch\">\\n      <input type=\"checkbox\" id=\"anonymous_mode\" ng-model=\"$ctrl.settings.AnonymousMode\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\" /><i></i>\\n    </label>\\n  </div>\\n</div>\\n\\x3c!-- !Anonymous mode--\\x3e\\n\\n<div ng-if=\"!$ctrl.settings.AnonymousMode\">\\n  <div class=\"form-group\">\\n    <label for=\"ldap_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Reader DN\\n      <portainer-tooltip position=\"bottom\" message=\"Account that will be used to search for users.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"ldap_username\" ng-model=\"$ctrl.settings.ReaderDN\" placeholder=\"{{ $ctrl.clickToSetValues.readerDNPlaceholder }}\" />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"ldap_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Password\\n      <portainer-tooltip position=\"bottom\" message=\"If you do not enter a password, Portainer will leave the current password unchanged.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"password\" class=\"form-control\" id=\"ldap_password\" ng-model=\"$ctrl.settings.Password\" placeholder=\"password\" autocomplete=\"new-password\" />\\n    </div>\\n  </div>\\n</div>\\n\\n<ldap-connectivity-check\\n  ng-if=\"!$ctrl.settings.TLSConfig.TLS && !$ctrl.settings.StartTLS\"\\n  settings=\"$ctrl.settings\"\\n  state=\"$ctrl.state\"\\n  connectivity-check=\"$ctrl.connectivityCheck\"\\n></ldap-connectivity-check>\\n\\n<ldap-settings-security\\n  settings=\"$ctrl.settings\"\\n  tlsca-cert=\"$ctrl.tlscaCert\"\\n  upload-in-progress=\"$ctrl.state.uploadInProgress\"\\n  on-tlsca-cert-change=\"($ctrl.onTlscaCertChange)\"\\n></ldap-settings-security>\\n\\n<ldap-connectivity-check\\n  ng-if=\"$ctrl.settings.TLSConfig.TLS || $ctrl.settings.StartTLS\"\\n  settings=\"$ctrl.settings\"\\n  state=\"$ctrl.state\"\\n  connectivity-check=\"$ctrl.connectivityCheck\"\\n></ldap-connectivity-check>\\n\\n<ldap-custom-user-search\\n  class=\"m-r-5\"\\n  settings=\"$ctrl.settings.SearchSettings\"\\n  on-search-click=\"($ctrl.onSearchUsersClick)\"\\n  limited-feature-id=\"$ctrl.limitedFeatureId\"\\n></ldap-custom-user-search>\\n<ldap-custom-group-search\\n  class=\"m-r-5\"\\n  settings=\"$ctrl.settings.GroupSearchSettings\"\\n  on-search-click=\"($ctrl.onSearchGroupsClick)\"\\n  limited-feature-id=\"$ctrl.limitedFeatureId\"\\n></ldap-custom-group-search>\\n\\n<ldap-custom-admin-group\\n  class=\"m-r-5\"\\n  settings=\"$ctrl.settings\"\\n  on-search-click=\"($ctrl.onSearchAdminGroupsClick)\"\\n  selected-admin-groups=\"$ctrl.selectedAdminGroups\"\\n  default-admin-group-search-filter=\"\\'(objectClass=groupOfNames)\\'\"\\n  limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  is-limited-feature-self-contained=\"true\"\\n></ldap-custom-admin-group>\\n\\n<ldap-settings-test-login\\n  settings=\"$ctrl.settings\"\\n  limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  show-be-indicator-if-needed=\"true\"\\n  is-limited-feature-self-contained=\"true\"\\n></ldap-settings-test-login>\\n\\n<save-auth-settings-button\\n  on-save-settings=\"($ctrl.onSaveSettings)\"\\n  save-button-state=\"($ctrl.saveButtonState)\"\\n  save-button-disabled=\"!$ctrl.saveButtonDisabled()\"\\n  limited-feature-dir=\"{{ $ctrl.limitedFeatureId }}\"\\n></save-auth-settings-button>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-settings-openldap/ldap-settings-openldap.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ng-form limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-class=\"limited-be\" class=\"ldap-settings-openldap\">\\n  <be-feature-indicator feature=\"$ctrl.limitedFeatureId\" class=\"my-8 block\"></be-feature-indicator>\\n\\n  <div>\\n    <div class=\"col-sm-12 form-section-title\">\\n      Information\\n    </div>\\n    <div class=\"form-group col-sm-12 text-muted small\">\\n      When using LDAP authentication, Portainer will delegate user authentication to a LDAP server and fallback to internal authentication if LDAP authentication fails.\\n    </div>\\n  </div>\\n\\n  <div class=\"col-sm-12 form-section-title\">\\n    LDAP configuration\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12 small text-muted\">\\n      <p>\\n        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n        You can configure multiple LDAP Servers for authentication fallback. Make sure all servers are using the same configuration (i.e. if TLS is enabled, they should all use the\\n        same certificates).\\n      </p>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"ldap_url\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"display: flex; flex-wrap: wrap;\">\\n      LDAP Server\\n      <button\\n        type=\"button\"\\n        class=\"label label-default interactive\"\\n        style=\"border: 0;\"\\n        ng-click=\"$ctrl.addLDAPUrl()\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      >\\n        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Add additional server\\n      </button>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <div ng-repeat=\"url in $ctrl.settings.URLs track by $index\" style=\"display: flex; margin-bottom: 10px;\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"ldap_url\"\\n          ng-model=\"$ctrl.settings.URLs[$index]\"\\n          placeholder=\"e.g. 10.0.0.10:389 or myldap.domain.tld:389\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n        <button\\n          ng-if=\"$index > 0\"\\n          class=\"btn btn-sm btn-danger\"\\n          type=\"button\"\\n          ng-click=\"$ctrl.removeLDAPUrl($index)\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        >\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n\\n  \\x3c!-- Anonymous mode--\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"anonymous_mode\" class=\"control-label text-left col-sm-3\" style=\"padding-top: 0;\">\\n      Anonymous mode\\n      <portainer-tooltip position=\"bottom\" message=\"Enable this option if the server is configured for Anonymous access.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9\">\\n      <label class=\"switch\">\\n        <input\\n          type=\"checkbox\"\\n          id=\"anonymous_mode\"\\n          ng-model=\"$ctrl.settings.AnonymousMode\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        /><i></i>\\n      </label>\\n    </div>\\n  </div>\\n  \\x3c!-- !Anonymous mode--\\x3e\\n\\n  <div ng-if=\"!$ctrl.settings.AnonymousMode\">\\n    <div class=\"form-group\">\\n      <label for=\"ldap_username\" class=\"col-sm-3 control-label text-left\">\\n        Reader DN\\n        <portainer-tooltip position=\"bottom\" message=\"Account that will be used to search for users.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"ldap_username\"\\n          ng-model=\"$ctrl.settings.ReaderDN\"\\n          placeholder=\"cn=user,dc=domain,dc=tld\"\\n          ng-change=\"$ctrl.onAccountChange($ctrl.settings.ReaderDN)\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"ldap_password\" class=\"col-sm-3 control-label text-left\">\\n        Password\\n        <portainer-tooltip position=\"bottom\" message=\"If you do not enter a password, Portainer will leave the current password unchanged.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9\">\\n        <input\\n          type=\"password\"\\n          class=\"form-control\"\\n          id=\"ldap_password\"\\n          ng-model=\"$ctrl.settings.Password\"\\n          placeholder=\"password\"\\n          autocomplete=\"new-password\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.settings.AnonymousMode\">\\n    <label for=\"ldap_domain_root\" class=\"col-sm-3 control-label text-left\">\\n      Domain root\\n    </label>\\n    <div class=\"col-sm-9\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        id=\"ldap_domain_root\"\\n        ng-model=\"$ctrl.domainSuffix\"\\n        placeholder=\"dc=domain,dc=tld\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      />\\n    </div>\\n  </div>\\n\\n  <ldap-connectivity-check\\n    ng-if=\"!$ctrl.settings.TLSConfig.TLS && !$ctrl.settings.StartTLS\"\\n    settings=\"$ctrl.settings\"\\n    state=\"$ctrl.state\"\\n    connectivity-check=\"$ctrl.connectivityCheck\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-connectivity-check>\\n\\n  <ldap-settings-security\\n    title=\"Connectivity Security\"\\n    settings=\"$ctrl.settings\"\\n    tlsca-cert=\"$ctrl.tlscaCert\"\\n    upload-in-progress=\"$ctrl.state.uploadInProgress\"\\n    on-tlsca-cert-change=\"($ctrl.onTlscaCertChange)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-settings-security>\\n\\n  <ldap-connectivity-check\\n    ng-if=\"$ctrl.settings.TLSConfig.TLS || $ctrl.settings.StartTLS\"\\n    settings=\"$ctrl.settings\"\\n    state=\"$ctrl.state\"\\n    connectivity-check=\"$ctrl.connectivityCheck\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-connectivity-check>\\n\\n  <ldap-user-search\\n    style=\"margin-top: 5px;\"\\n    settings=\"$ctrl.settings.SearchSettings\"\\n    domain-suffix=\"{{ $ctrl.domainSuffix }}\"\\n    base-filter=\"(objectClass=inetOrgPerson)\"\\n    on-search-click=\"($ctrl.onSearchUsersClick)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-user-search>\\n\\n  <ldap-group-search\\n    style=\"margin-top: 5px;\"\\n    settings=\"$ctrl.settings.GroupSearchSettings\"\\n    domain-suffix=\"{{ $ctrl.domainSuffix }}\"\\n    base-filter=\"(objectClass=groupOfNames)\"\\n    on-search-click=\"($ctrl.onSearchGroupsClick)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-group-search>\\n\\n  <ldap-settings-test-login settings=\"$ctrl.settings\" limited-feature-id=\"$ctrl.limitedFeatureId\"></ldap-settings-test-login>\\n  <save-auth-settings-button\\n    on-save-settings=\"($ctrl.onSaveSettings)\"\\n    save-button-state=\"($ctrl.saveButtonState)\"\\n    save-button-disabled=\"!$ctrl.saveButtonDisabled()\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></save-auth-settings-button>\\n</ng-form>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-connectivity-check/ldap-connectivity-check.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group\">\\n  <label for=\"ldap_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n    Connectivity check\\n    <i class=\"fa fa-check green-icon m-l-5\" ng-if=\"$ctrl.state.successfulConnectivityCheck\"></i>\\n    <i class=\"fa fa-times red-icon m-l-5\" ng-if=\"$ctrl.state.failedConnectivityCheck\"></i>\\n  </label>\\n  <div class=\"col-sm-9 col-lg-10\">\\n    <button\\n      type=\"button\"\\n      class=\"btn btn-primary btn-sm\"\\n      ng-disabled=\"($ctrl.state.connectivityCheckInProgress) || (!$ctrl.settings.URLs.length) || ((!$ctrl.settings.ReaderDN || !$ctrl.settings.Password) && !$ctrl.settings.AnonymousMode)\"\\n      ng-click=\"$ctrl.connectivityCheck()\"\\n      button-spinner=\"$ctrl.state.connectivityCheckInProgress\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      <span ng-hide=\"$ctrl.state.connectivityCheckInProgress\">Test connectivity</span>\\n      <span ng-show=\"$ctrl.state.connectivityCheckInProgress\">Testing connectivity...</span>\\n    </button>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-groups-datatable/ldap-groups-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  User Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                Groups\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                {{ item.Name }}\\n              </td>\\n              <td>\\n                <p ng-repeat=\"group in item.Groups\" style=\"margin: 0;\">{{ group }}</p>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No groups found.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-group-search/ldap-group-search.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\" style=\"float: initial;\">\\n  Group search configurations\\n</div>\\n\\n<div style=\"margin-top: 10px;\" ng-repeat=\"config in $ctrl.settings | limitTo: (1 - $ctrl.settings)\">\\n  <ldap-group-search-item\\n    config=\"config\"\\n    domain-suffix=\"{{ $ctrl.domainSuffix }}\"\\n    index=\"$index\"\\n    base-filter=\"{{ $ctrl.baseFilter }}\"\\n    on-remove-click=\"($ctrl.onRemoveClick)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-group-search-item>\\n</div>\\n\\n<div class=\"form-group\" style=\"margin-top: 10px;\">\\n  <div class=\"col-sm-12\">\\n    <button\\n      class=\"label label-default interactive\"\\n      style=\"border: 0;\"\\n      ng-click=\"$ctrl.onAddClick()\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add group search configuration\\n    </button>\\n  </div>\\n  <div class=\"col-sm-12\" style=\"margin-top: 10px;\">\\n    <button class=\"btn btm-sm btn-primary\" type=\"button\" ng-click=\"$ctrl.search()\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\">\\n      Display User/Group matching\\n    </button>\\n  </div>\\n</div>\\n\\n<div ng-if=\"$ctrl.showTable\">\\n  <div class=\"form-group\">\\n    <ldap-groups-datatable dataset=\"$ctrl.groups\" title-text=\"Groups\" title-icon=\"fa-users\" table-key=\"ldapGroups\"></ldap-groups-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-group-search-item/ldap-group-search-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-widget>\\n  <rd-widget-body>\\n    <div ng-if=\"$ctrl.index > 0\" style=\"margin-bottom: 10px;\">\\n      <span class=\"text-muted small\">\\n        Extra search configuration\\n      </span>\\n      <button\\n        class=\"btn btn-sm btn-danger\"\\n        type=\"button\"\\n        ng-click=\"$ctrl.onRemoveClick($ctrl.index)\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      >\\n        <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n      </button>\\n    </div>\\n\\n    <ldap-settings-dn-builder\\n      label=\"Group Search Path (optional)\"\\n      suffix=\"{{ $ctrl.domainSuffix }}\"\\n      ng-model=\"$ctrl.config.GroupBaseDN\"\\n      on-change=\"($ctrl.onChangeBaseDN)\"\\n      limited-feature-id=\"$ctrl.limitedFeatureId\"\\n    ></ldap-settings-dn-builder>\\n\\n    <div class=\"form-group\">\\n      <label class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Base DN\\n      </label>\\n      <div class=\"col-sm-8 col-md-10\">\\n        {{ $ctrl.config.GroupBaseDN }}\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12\" style=\"margin-bottom: 5px;\">\\n        <label class=\"control-label text-left\">Groups</label>\\n        <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"$ctrl.addGroup()\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add another group\\n        </span>\\n      </div>\\n      <div class=\"col-sm-12\" ng-if=\"$ctrl.groups.length\">\\n        <rd-widget>\\n          <rd-widget-body>\\n            <div class=\"form-group no-margin-last-child\" ng-repeat=\"entry in $ctrl.groups\">\\n              <div class=\"col-sm-4\">\\n                <select\\n                  class=\"form-control\"\\n                  ng-model=\"entry.type\"\\n                  ng-change=\"$ctrl.onGroupsChange()\"\\n                  limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n                  limited-feature-tabindex=\"-1\"\\n                >\\n                  <option value=\"ou\">OU Name</option>\\n                  <option value=\"cn\">Folder Name</option>\\n                </select>\\n              </div>\\n              <div class=\"col-sm-5\">\\n                <input\\n                  class=\"form-control\"\\n                  ng-model=\"entry.value\"\\n                  ng-change=\"$ctrl.onGroupsChange()\"\\n                  limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n                  limited-feature-tabindex=\"-1\"\\n                />\\n              </div>\\n              <div class=\"col-sm-3 text-right\">\\n                <button\\n                  class=\"btn btn-sm btn-danger\"\\n                  type=\"button\"\\n                  ng-click=\"$ctrl.removeGroup($index)\"\\n                  limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n                  limited-feature-tabindex=\"-1\"\\n                >\\n                  <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n          </rd-widget-body>\\n        </rd-widget>\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group no-margin-last-child\">\\n      <label class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Filter\\n      </label>\\n      <div class=\"col-sm-8 col-md-10\">\\n        {{ $ctrl.config.GroupFilter }}\\n      </div>\\n    </div>\\n  </rd-widget-body>\\n</rd-widget>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-user-search/ldap-user-search.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\" style=\"float: initial;\">\\n  User search configurations\\n</div>\\n\\n<div style=\"margin-top: 10px;\" ng-repeat=\"config in $ctrl.settings | limitTo: (1 - $ctrl.settings)\">\\n  <ldap-user-search-item\\n    index=\"$index\"\\n    config=\"config\"\\n    domain-suffix=\"{{ $ctrl.domainSuffix }}\"\\n    show-username-format=\"$ctrl.showUsernameFormat\"\\n    base-filter=\"{{ $ctrl.baseFilter }}\"\\n    on-remove-click=\"($ctrl.onRemoveClick)\"\\n    limited-feature-id=\"$ctrl.limitedFeatureId\"\\n  ></ldap-user-search-item>\\n</div>\\n\\n<div class=\"form-group\" style=\"margin-top: 10px;\">\\n  <div class=\"col-sm-12\">\\n    <button\\n      class=\"label label-default interactive\"\\n      style=\"border: 0;\"\\n      ng-click=\"$ctrl.onAddClick()\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add user search configuration\\n    </button>\\n  </div>\\n  <div class=\"col-sm-12\" style=\"margin-top: 10px;\">\\n    <button class=\"btn btm-sm btn-primary\" type=\"button\" ng-click=\"$ctrl.search()\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\">\\n      Display Users\\n    </button>\\n  </div>\\n</div>\\n\\n<div ng-if=\"$ctrl.showTable\">\\n  <div class=\"form-group\">\\n    <ldap-users-datatable dataset=\"$ctrl.users\" title-text=\"Users\" title-icon=\"fa-users\" table-key=\"ldapUsers\" order-by=\"\" reverse-order=\"\"></ldap-users-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-user-search-item/ldap-user-search-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-widget>\\n  <rd-widget-body>\\n    <div ng-if=\"$ctrl.index > 0\" style=\"margin-bottom: 10px;\">\\n      <span class=\"text-muted small\">\\n        Extra search configuration\\n      </span>\\n      <button\\n        ng-if=\"$ctrl.index > 0\"\\n        class=\"btn btn-sm btn-danger\"\\n        type=\"button\"\\n        ng-click=\"$ctrl.onRemoveClick($ctrl.index)\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n        limited-feature-tabindex=\"-1\"\\n      >\\n        <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n      </button>\\n    </div>\\n\\n    <div class=\"form-group\" ng-if=\"$ctrl.showUsernameFormat\">\\n      <div class=\"col-sm-4\" style=\"margin-bottom: 5px;\">\\n        <label class=\"control-label text-left\">Username Format</label>\\n      </div>\\n      <div class=\"col-sm-8\">\\n        <div class=\"input-group\">\\n          <div class=\"input-group-btn\">\\n            <button\\n              class=\"btn btn-primary\"\\n              ng-model=\"$ctrl.config.UserNameAttribute\"\\n              uib-btn-radio=\"\\'sAMAccountName\\'\"\\n              style=\"margin-left: 0px;\"\\n              limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n              limited-feature-tabindex=\"-1\"\\n              >username</button\\n            >\\n            <button\\n              class=\"btn btn-primary\"\\n              ng-model=\"$ctrl.config.UserNameAttribute\"\\n              uib-btn-radio=\"\\'userPrincipalName\\'\"\\n              limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n              limited-feature-tabindex=\"-1\"\\n              >user@domainname</button\\n            >\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label class=\"col-sm-4 control-label text-left\">\\n        Root Domain\\n      </label>\\n      <div class=\"col-sm-8\">\\n        {{ $ctrl.config.BaseDN }}\\n      </div>\\n    </div>\\n\\n    <ldap-settings-dn-builder\\n      ng-model=\"$ctrl.config.BaseDN\"\\n      label=\"User Search Path (optional)\"\\n      suffix=\"{{ $ctrl.domainSuffix }}\"\\n      on-change=\"($ctrl.onBaseDNChange)\"\\n      limited-feature-id=\"$ctrl.limitedFeatureId\"\\n    ></ldap-settings-dn-builder>\\n\\n    <div class=\"form-group no-margin-last-child\">\\n      <div class=\"col-sm-12\" style=\"margin-bottom: 5px;\">\\n        <label class=\"control-label text-left\">Allowed Groups (optional)</label>\\n        <button\\n          type=\"button\"\\n          class=\"label label-default interactive\"\\n          style=\"margin-left: 10px; border: 0;\"\\n          ng-click=\"$ctrl.addGroup()\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-tabindex=\"-1\"\\n        >\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add another group\\n        </button>\\n      </div>\\n      <div class=\"col-sm-12\">\\n        <div ng-repeat=\"group in $ctrl.groups track by $index\" style=\"margin-bottom: 10px;\">\\n          <rd-widget>\\n            <rd-widget-body>\\n              <ldap-settings-group-dn-builder\\n                ng-model=\"group\"\\n                index=\"$index\"\\n                suffix=\"{{ $ctrl.domainSuffix }}\"\\n                on-change=\"($ctrl.onGroupChange)\"\\n                on-remove-click=\"($ctrl.removeGroup)\"\\n                limited-feature-id=\"$ctrl.limitedFeatureId\"\\n              ></ldap-settings-group-dn-builder>\\n            </rd-widget-body>\\n          </rd-widget>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label class=\"col-sm-4 control-label text-left\">\\n        User Filter\\n      </label>\\n      <div class=\"col-sm-8\">\\n        {{ $ctrl.config.Filter }}\\n      </div>\\n    </div>\\n  </rd-widget-body>\\n</rd-widget>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-settings-dn-builder/ldap-settings-dn-builder.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group ldap-dn-builder\">\\n  <div class=\"col-sm-12\" style=\"margin-bottom: 5px;\">\\n    <label class=\"control-label text-left\">{{ $ctrl.label || \\'DN entries\\' }}</label>\\n    <button\\n      type=\"button\"\\n      class=\"label label-default interactive\"\\n      style=\"margin-left: 10px; border: 0;\"\\n      ng-click=\"$ctrl.addEntry()\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add another entry\\n    </button>\\n  </div>\\n  <div class=\"col-sm-12\" ng-if=\"$ctrl.entries.length\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <div class=\"form-group no-margin-last-child\" ng-repeat=\"entry in $ctrl.entries\">\\n          <div class=\"col-sm-4\">\\n            <select class=\"form-control\" ng-model=\"entry.type\" ng-change=\"$ctrl.onEntriesChange()\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\">\\n              <option value=\"ou\">OU Name</option>\\n              <option value=\"cn\">Folder Name</option>\\n            </select>\\n          </div>\\n          <div class=\"col-sm-5\">\\n            <input\\n              class=\"form-control\"\\n              ng-model=\"entry.value\"\\n              ng-change=\"$ctrl.onEntriesChange()\"\\n              limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n              limited-feature-tabindex=\"-1\"\\n            />\\n          </div>\\n          <div class=\"col-sm-3 text-right\">\\n            <button\\n              class=\"btn btn-sm btn-primary\"\\n              type=\"button\"\\n              ng-disabled=\"$first\"\\n              ng-click=\"$ctrl.moveUp($index)\"\\n              limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n              limited-feature-tabindex=\"-1\"\\n            >\\n              <i class=\"fa fa-arrow-up\" aria-hidden=\"true\"></i>\\n            </button>\\n            <button\\n              class=\"btn btn-sm btn-primary\"\\n              type=\"button\"\\n              ng-disabled=\"$last\"\\n              ng-click=\"$ctrl.moveDown($index)\"\\n              limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n              limited-feature-tabindex=\"-1\"\\n            >\\n              <i class=\"fa fa-arrow-down\" aria-hidden=\"true\"></i>\\n            </button>\\n            <button\\n              class=\"btn btn-sm btn-danger\"\\n              type=\"button\"\\n              ng-click=\"$ctrl.removeEntry($index)\"\\n              limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n              limited-feature-tabindex=\"-1\"\\n            >\\n              <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n            </button>\\n          </div>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-settings-group-dn-builder/ldap-settings-group-dn-builder.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group\">\\n  <label for=\"group-name-input\" class=\"col-sm-4 control-label text-left\">\\n    Group Name\\n  </label>\\n  <div class=\"col-sm-7\" style=\"padding-left: 0;\">\\n    <input\\n      type=\"text\"\\n      class=\"form-control\"\\n      id=\"group-name-input\"\\n      ng-model=\"$ctrl.groupName\"\\n      ng-change=\"$ctrl.onGroupNameChange()\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    />\\n  </div>\\n  <div class=\"col-sm-1\">\\n    <button\\n      type=\"button\"\\n      class=\"btn btn-danger btn-sm\"\\n      ng-if=\"$ctrl.onRemoveClick\"\\n      ng-click=\"$ctrl.onRemoveClick()\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n    </button>\\n  </div>\\n</div>\\n\\n<ldap-settings-dn-builder\\n  ng-model=\"$ctrl.entries\"\\n  label=\"Path to group\"\\n  suffix=\"{{ $ctrl.suffix }}\"\\n  on-change=\"($ctrl.onEntriesChange)\"\\n  on-remove-click=\"($ctrl.removeGroup)\"\\n  limited-feature-id=\"$ctrl.limitedFeatureId\"\\n></ldap-settings-dn-builder>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-custom-group-search/ldap-custom-group-search.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\" style=\"float: initial;\">\\n  Group search configurations\\n</div>\\n\\n<rd-widget ng-repeat=\"config in $ctrl.settings | limitTo: (1 - $ctrl.settings)\" style=\"display: block; margin-bottom: 10px;\">\\n  <rd-widget-body>\\n    <div class=\"form-group\" ng-if=\"$index > 0\" style=\"margin-bottom: 10px;\">\\n      <span class=\"col-sm-12 text-muted small\">\\n        Extra search configuration\\n      </span>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"ldap_group_basedn_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Base DN\\n        <portainer-tooltip position=\"bottom\" message=\"The distinguished name of the element from which the LDAP server will search for groups.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-8 col-md-4\">\\n        <input type=\"text\" class=\"form-control\" id=\"ldap_group_basedn_{{ $index }}\" ng-model=\"config.GroupBaseDN\" placeholder=\"dc=ldap,dc=domain,dc=tld\" />\\n      </div>\\n\\n      <label for=\"ldap_group_att_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Membership Attribute\\n        <portainer-tooltip position=\"bottom\" message=\"LDAP attribute which denotes the group membership.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-8 col-md-4\">\\n        <input type=\"text\" class=\"form-control\" id=\"ldap_group_att_{{ $index }}\" ng-model=\"config.GroupAttribute\" placeholder=\"member\" />\\n      </div>\\n    </div>\\n    <div class=\"form-group\">\\n      <label for=\"ldap_group_filter_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Filter\\n        <portainer-tooltip position=\"bottom\" message=\"The LDAP search filter used to select group elements, optional.\"></portainer-tooltip>\\n      </label>\\n      <div ng-class=\"{ \\'col-sm-7 col-md-9\\': $index, \\'col-sm-8 col-md-10\\': !$index }\">\\n        <input type=\"text\" class=\"form-control\" id=\"ldap_group_filter_{{ $index }}\" ng-model=\"config.GroupFilter\" placeholder=\"(objectClass=account)\" />\\n      </div>\\n      <div class=\"col-sm-1\" ng-if=\"$index > 0\">\\n        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.onRemoveClick($index)\">\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </rd-widget-body>\\n</rd-widget>\\n\\n<div class=\"form-group\" style=\"margin-top: 10px;\">\\n  <div class=\"col-sm-12\">\\n    <button class=\"label label-default interactive\" style=\"border: 0;\" ng-click=\"$ctrl.onAddClick()\">\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add group search configuration\\n    </button>\\n  </div>\\n  <div class=\"col-sm-12\" style=\"margin-top: 10px;\">\\n    <button\\n      class=\"btn btm-sm btn-primary\"\\n      type=\"button\"\\n      ng-click=\"$ctrl.search()\"\\n      limited-feature-dir=\"{{ $ctrl.limitedFeatureId }}\"\\n      limited-feature-tabindex=\"-1\"\\n      limited-feature-disabled\\n      limited-feature-class=\"limited-be\"\\n    >\\n      Display User/Group matching\\n    </button>\\n    <be-feature-indicator feature=\"$ctrl.limitedFeatureId\" class=\"space-left\"></be-feature-indicator>\\n  </div>\\n</div>\\n\\n<div ng-if=\"$ctrl.showTable\">\\n  <div class=\"form-group\">\\n    <ldap-groups-datatable dataset=\"$ctrl.groups\" title-text=\"Groups\" title-icon=\"fa-users\" table-key=\"ldapGroups\"></ldap-groups-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-custom-admin-group/ldap-custom-admin-group.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title ldap-custom-admin-group-title\" ng-style=\"$ctrl.isLimitedFeatureSelfContained && { \\'padding-bottom\\': \\'15px\\' }\">\\n  Auto-populate team admins <be-feature-indicator feature=\"$ctrl.limitedFeatureId\" class=\"space-left\" ng-if=\"$ctrl.isLimitedFeatureSelfContained\"></be-feature-indicator>\\n</div>\\n\\n<rd-widget ng-repeat=\"config in $ctrl.settings.AdminGroupSearchSettings | limitTo: (1 - $ctrl.settings.AdminGroupSearchSettings)\">\\n  <rd-widget-body>\\n    <div class=\"form-group m-b-10\" ng-if=\"$index > 0\">\\n      <span class=\"col-sm-12 text-muted small\">\\n        Extra search configuration\\n      </span>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"ldap_admin_group_basedn_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Base DN\\n        <portainer-tooltip position=\"bottom\" message=\"The distinguished name of the element from which the LDAP server will search for groups.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-8 col-md-4\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"ldap_admin_group_basedn_{{ $index }}\"\\n          ng-model=\"config.GroupBaseDN\"\\n          placeholder=\"dc=ldap,dc=domain,dc=tld\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n          ng-disabled=\"{{ $ctrl.isLimitedFeatureSelfContained }}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n      </div>\\n\\n      <label for=\"ldap_admin_group_att_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Membership Attribute\\n        <portainer-tooltip position=\"bottom\" message=\"LDAP attribute which denotes the group membership.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-8 col-md-4\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"ldap_admin_group_att_{{ $index }}\"\\n          ng-model=\"config.GroupAttribute\"\\n          placeholder=\"member\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n          ng-disabled=\"{{ $ctrl.isLimitedFeatureSelfContained }}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n      </div>\\n    </div>\\n    <div class=\"form-group\">\\n      <label for=\"ldap_admin_group_filter_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Group Filter\\n        <portainer-tooltip position=\"bottom\" message=\"The LDAP search filter used to select group elements, optional.\"></portainer-tooltip>\\n      </label>\\n      <div ng-class=\"{ \\'col-sm-7 col-md-9\\': $index, \\'col-sm-8 col-md-10\\': !$index }\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"ldap_admin_group_filter_{{ $index }}\"\\n          ng-model=\"config.GroupFilter\"\\n          placeholder=\"(objectClass=groupOfNames)\"\\n          limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n          limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n          ng-disabled=\"{{ $ctrl.isLimitedFeatureSelfContained }}\"\\n          limited-feature-tabindex=\"-1\"\\n        />\\n      </div>\\n      <div class=\"col-sm-1\" ng-if=\"$index > 0\">\\n        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.onRemoveClick($index)\">\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </rd-widget-body>\\n</rd-widget>\\n\\n<div class=\"form-group m-t-10\">\\n  <div class=\"col-sm-12\">\\n    <button\\n      class=\"label label-default interactive no-border\"\\n      ng-click=\"$ctrl.onAddClick()\"\\n      limited-feature-dir=\"{{ $ctrl.limitedFeatureId }}\"\\n      limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n      limited-feature-disabled\\n    >\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add group search configuration\\n    </button>\\n  </div>\\n  <div class=\"col-sm-12 m-t-10\">\\n    <button\\n      class=\"btn btm-sm btn-primary\"\\n      type=\"button\"\\n      ng-click=\"$ctrl.search()\"\\n      limited-feature-dir=\"{{ $ctrl.limitedFeatureId }}\"\\n      limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n      ng-disabled=\"{{ $ctrl.isLimitedFeatureSelfContained }}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      Fetch Admin Group(s)\\n    </button>\\n    <span ng-if=\"$ctrl.groups && $ctrl.groups.length === 0\" class=\"m-l-30\"> <i class=\"fa fa-exclamation-triangle text-warning\" aria-hidden=\"true\"></i> No groups found</span>\\n  </div>\\n</div>\\n\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <label for=\"admin-auto-populate\" class=\"control-label text-left text-muted\" ng-class=\"{ \\'text-muted\\': !$ctrl.enableAssignAdminGroup }\">\\n      Assign admin rights to group(s)\\n    </label>\\n    <label class=\"switch m-l-20\" ng-class=\"{ \\'business limited\\': $ctrl.isLimitedFeatureSelfContained }\">\\n      <input id=\"admin-auto-populate\" ng-disabled=\"!$ctrl.enableAssignAdminGroup\" name=\"admin-auto-populate\" type=\"checkbox\" ng-model=\"$ctrl.settings.AdminAutoPopulate\" /><i></i>\\n    </label>\\n  </div>\\n</div>\\n\\n<div class=\"form-group\" ng-if=\"$ctrl.settings.AdminAutoPopulate\">\\n  <div class=\"col-sm-12\">\\n    <label for=\"group-access\" class=\"control-label text-left\">\\n      Select Group(s)\\n    </label>\\n    <span\\n      class=\"m-l-20\"\\n      isteven-multi-select\\n      ng-if=\"$ctrl.enableAssignAdminGroup\"\\n      input-model=\"$ctrl.groups\"\\n      output-model=\"$ctrl.selectedAdminGroups\"\\n      button-label=\"name\"\\n      item-label=\"name\"\\n      tick-property=\"selected\"\\n      helper-elements=\"filter\"\\n      search-property=\"name\"\\n      translation=\"{nothingSelected: \\'Select one or more groups\\', search: \\'Search...\\'}\"\\n    >\\n    </span>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-settings-security/ldap-settings-security.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\">\\n  {{ $ctrl.title || \\'LDAP security\\' }}\\n</div>\\n\\n\\x3c!-- starttls --\\x3e\\n<div class=\"form-group\" ng-if=\"!$ctrl.settings.TLSConfig.TLS\">\\n  <label for=\"tls\" class=\"control-label col-sm-3 text-left\" style=\"padding-top: 0;\">\\n    Use StartTLS\\n    <portainer-tooltip\\n      position=\"bottom\"\\n      message=\"Enable this option if want to use StartTLS to secure the connection to the server. Ignored if Use TLS is selected.\"\\n    ></portainer-tooltip>\\n  </label>\\n  <div class=\"col-sm-9\">\\n    <label class=\"switch\">\\n      <input type=\"checkbox\" ng-model=\"$ctrl.settings.StartTLS\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\" /><i></i>\\n    </label>\\n  </div>\\n</div>\\n\\x3c!-- !starttls --\\x3e\\n\\n\\x3c!-- tls-checkbox --\\x3e\\n<div class=\"form-group\" ng-if=\"!$ctrl.settings.StartTLS\">\\n  <label for=\"tls\" class=\"control-label col-sm-3 text-left\" style=\"padding-top: 0;\">\\n    Use TLS\\n    <portainer-tooltip position=\"bottom\" message=\"Enable this option if you need to specify TLS certificates to connect to the LDAP server.\"></portainer-tooltip>\\n  </label>\\n  <div class=\"col-sm-9\">\\n    <label class=\"switch\">\\n      <input type=\"checkbox\" ng-model=\"$ctrl.settings.TLSConfig.TLS\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\" /><i></i>\\n    </label>\\n  </div>\\n</div>\\n\\x3c!-- !tls-checkbox --\\x3e\\n\\n\\x3c!-- tls-skip-verify --\\x3e\\n<div class=\"form-group\">\\n  <label for=\"tls\" class=\"control-label col-sm-3 text-left\" style=\"padding-top: 0;\">\\n    Skip verification of server certificate\\n    <portainer-tooltip position=\"bottom\" message=\"Skip the verification of the server TLS certificate. Not recommended on unsecured networks.\"></portainer-tooltip>\\n  </label>\\n  <div class=\"col-sm-9\">\\n    <label class=\"switch\">\\n      <input type=\"checkbox\" ng-model=\"$ctrl.settings.TLSConfig.TLSSkipVerify\" limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\" limited-feature-tabindex=\"-1\" /><i></i>\\n    </label>\\n  </div>\\n</div>\\n\\x3c!-- !tls-skip-verify --\\x3e\\n\\n\\x3c!-- ca-input --\\x3e\\n<div class=\"form-group\" ng-if=\"$ctrl.settings.TLSConfig.TLS || ($ctrl.settings.StartTLS && !$ctrl.settings.TLSConfig.TLSSkipVerify)\">\\n  <label class=\"col-sm-3 control-label text-left\">TLS CA certificate</label>\\n  <div class=\"col-sm-9\">\\n    <button\\n      type=\"button\"\\n      class=\"btn btn-sm btn-primary\"\\n      ngf-select=\"$ctrl.onTlscaCertChange($file)\"\\n      ng-model=\"$ctrl.tlscaCert\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      Select file\\n    </button>\\n    <span style=\"margin-left: 5px;\">\\n      {{ $ctrl.tlscaCert.name }}\\n      <i class=\"fa fa-check green-icon\" ng-if=\"$ctrl.tlscaCert && $ctrl.tlscaCert === $ctrl.settings.TLSConfig.TLSCACert\" aria-hidden=\"true\"></i>\\n      <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.tlscaCert\" aria-hidden=\"true\"></i>\\n      <i class=\"fa fa-circle-notch fa-spin\" ng-if=\"$ctrl.uploadInProgress\"></i>\\n    </span>\\n  </div>\\n</div>\\n\\x3c!-- !ca-input --\\x3e\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-settings-test-login/ldap-settings-test-login.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\" ng-style=\"$ctrl.isLimitedFeatureSelfContained && { \\'padding-bottom\\': \\'15px\\' }\">\\n  Test login\\n  <be-feature-indicator\\n    ng-if=\"$ctrl.showBeIndicatorIfNeeded\"\\n    feature=\"$ctrl.limitedFeatureId\"\\n    class=\"space-left\"\\n    ng-if=\"$ctrl.isLimitedFeatureSelfContained\"\\n  ></be-feature-indicator>\\n</div>\\n<div class=\"form-inline\">\\n  <div class=\"form-group\" style=\"margin: 0;\">\\n    <label for=\"ldap_test_username\" style=\"font-size: 0.9em; margin-right: 5px;\">\\n      Username\\n    </label>\\n    <input\\n      type=\"text\"\\n      class=\"form-control\"\\n      id=\"ldap_test_username\"\\n      ng-model=\"$ctrl.username\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n      ng-disabled=\"{{ $ctrl.isLimitedFeatureSelfContained }}\"\\n      limited-feature-tabindex=\"-1\"\\n    />\\n  </div>\\n\\n  <div class=\"form-group no-margin\">\\n    <label for=\"ldap_test_password\">\\n      Password\\n    </label>\\n    <input\\n      type=\"password\"\\n      class=\"form-control\"\\n      id=\"ldap_test_password\"\\n      ng-model=\"$ctrl.password\"\\n      autocomplete=\"new-password\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n      ng-disabled=\"{{ $ctrl.isLimitedFeatureSelfContained }}\"\\n      limited-feature-tabindex=\"-1\"\\n    />\\n  </div>\\n\\n  <div class=\"form-group no-margin\">\\n    <button\\n      type=\"submit\"\\n      class=\"btn btn-primary\"\\n      ng-disabled=\"$ctrl.state.testStatus === $ctrl.TEST_STATUS.LOADING || !$ctrl.username || !$ctrl.password\"\\n      ng-click=\"$ctrl.testLogin($ctrl.username, $ctrl.password)\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-class=\" {{ $ctrl.isLimitedFeatureSelfContained && \\'limited-be\\' }}\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      <span ng-if=\"$ctrl.state.testStatus !== $ctrl.TEST_STATUS.LOADING\">Test</span>\\n      <span ng-if=\"$ctrl.state.testStatus === $ctrl.TEST_STATUS.LOADING\">Testing...</span>\\n    </button>\\n    <i ng-if=\"$ctrl.state.testStatus === $ctrl.TEST_STATUS.SUCCESS\" class=\"fa fa-check green-icon\"></i>\\n    <i ng-if=\"$ctrl.state.testStatus === $ctrl.TEST_STATUS.FAILURE\" class=\"fa fa-times red-icon\"></i>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-custom-user-search/ldap-custom-user-search.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\" style=\"float: initial;\">\\n  User search configurations\\n</div>\\n\\n<rd-widget ng-repeat=\"config in $ctrl.settings | limitTo: (1 - $ctrl.settings)\" style=\"display: block; margin-bottom: 10px;\">\\n  <rd-widget-body>\\n    <div class=\"form-group\" ng-if=\"$index > 0\" style=\"margin-bottom: 10px;\">\\n      <span class=\"col-sm-12 text-muted small\">\\n        Extra search configuration\\n      </span>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"ldap_basedn_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Base DN\\n        <portainer-tooltip position=\"bottom\" message=\"The distinguished name of the element from which the LDAP server will search for users.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-8 col-md-4\">\\n        <input type=\"text\" class=\"form-control\" id=\"ldap_basedn_{{ $index }}\" ng-model=\"config.BaseDN\" placeholder=\"dc=ldap,dc=domain,dc=tld\" />\\n      </div>\\n\\n      <label for=\"ldap_username_att_{{ $index }}\" class=\"col-sm-4 col-md-3 col-lg-2 control-label text-left\">\\n        Username attribute\\n        <portainer-tooltip position=\"bottom\" message=\"LDAP attribute which denotes the username.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-8 col-md-3 col-lg-4\">\\n        <input type=\"text\" class=\"form-control\" id=\"ldap_username_att_{{ $index }}\" ng-model=\"config.UserNameAttribute\" placeholder=\"uid\" />\\n      </div>\\n    </div>\\n    <div class=\"form-group\">\\n      <label for=\"ldap_filter_{{ $index }}\" class=\"col-sm-4 col-md-2 control-label text-left\">\\n        Filter\\n        <portainer-tooltip position=\"bottom\" message=\"The LDAP search filter used to select user elements, optional.\"></portainer-tooltip>\\n      </label>\\n      <div ng-class=\"{ \\'col-sm-7 col-md-9\\': $index, \\'col-sm-8 col-md-10\\': !$index }\">\\n        <input type=\"text\" class=\"form-control\" id=\"ldap_filter_{{ $index }}\" ng-model=\"config.Filter\" placeholder=\"(objectClass=account)\" />\\n      </div>\\n      <div class=\"col-sm-1\" ng-if=\"$index > 0\">\\n        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.onRemoveClick($index)\">\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </rd-widget-body>\\n</rd-widget>\\n\\n<div class=\"form-group\" style=\"margin-top: 10px;\">\\n  <div class=\"col-sm-12\">\\n    <button class=\"label label-default interactive\" style=\"border: 0;\" ng-click=\"$ctrl.onAddClick()\">\\n      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add user search configuration\\n    </button>\\n  </div>\\n  <div class=\"col-sm-12\" style=\"margin-top: 10px;\">\\n    <button\\n      class=\"btn btm-sm btn-primary\"\\n      type=\"button\"\\n      ng-click=\"$ctrl.search()\"\\n      limited-feature-dir=\"{{ $ctrl.limitedFeatureId }}\"\\n      limited-feature-disabled\\n      limited-feature-class=\"limited-be\"\\n      limited-feature-tabindex=\"-1\"\\n    >\\n      Display Users\\n    </button>\\n    <be-feature-indicator feature=\"$ctrl.limitedFeatureId\" class=\"space-left\"></be-feature-indicator>\\n  </div>\\n</div>\\n\\n<div ng-if=\"$ctrl.showTable\">\\n  <div class=\"form-group\">\\n    <ldap-users-datatable dataset=\"$ctrl.users\" title-text=\"Users\" title-icon=\"fa-users\" table-key=\"ldapUsers\" order-by=\"\" reverse-order=\"\"></ldap-users-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/ldap/ldap-users-datatable/ldap-users-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <a ui-sref=\"portainer.groups.group({id: item.Id})\">{{ item }}</a>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No users found.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/auto-user-provision-toggle/auto-user-provision-toggle.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\">\\n  Automatic user provisioning\\n</div>\\n<div class=\"form-group\">\\n  <span class=\"col-sm-12 text-muted small\" ng-transclude=\"description\"> </span>\\n</div>\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <label for=\"tls\" class=\"control-label text-left\">\\n      Automatic user provisioning\\n    </label>\\n    <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"$ctrl.ngModel\" /><i></i> </label>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/save-auth-settings-button/save-auth-settings-button.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\">\\n  Actions\\n</div>\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <button\\n      type=\"button\"\\n      ng-class=\"[$ctrl.className, \\'btn btn-primary btn-sm\\']\"\\n      ng-click=\"$ctrl.onSaveSettings()\"\\n      ng-disabled=\"$ctrl.saveButtonDisabled || $ctrl.saveButtonState\"\\n      button-spinner=\"$ctrl.saveButtonState\"\\n      limited-feature-dir=\"{{::$ctrl.limitedFeatureId}}\"\\n      limited-feature-class=\"{{::$ctrl.limitedFeatureClass}}\"\\n    >\\n      <span ng-hide=\"$ctrl.saveButtonState\">Save settings</span>\\n      <span ng-show=\"$ctrl.saveButtonState\">Saving...</span>\\n    </button>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/authentication/internal-auth/internal-auth.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\">\\n  Information\\n</div>\\n<div class=\"form-group col-sm-12 text-muted small\">\\n  When using internal authentication, Portainer will encrypt user passwords and store credentials locally.\\n</div>\\n\\n<save-auth-settings-button on-save-settings=\"($ctrl.onSaveSettings)\" save-button-state=\"($ctrl.saveButtonState)\"></save-auth-settings-button>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/settings/general/ssl-certificate/ssl-certificate.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-key\" title-text=\"SSL certificate\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"$ctrl.sslForm\">\\n          <span class=\"small\">\\n            <p class=\"text-muted\">\\n              <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n              Forcing HTTPs only will cause Portainer to stop listening on the HTTP port. Any edge agent environment that is using HTTP will no longer be available.\\n            </p>\\n          </span>\\n\\n          <por-switch-field ng-model=\"$ctrl.formValues.forceHTTPS\" label=\"Force HTTPS only\" on-change=\"($ctrl.onChangeForceHTTPS)\"></por-switch-field>\\n\\n          <hr />\\n\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12\">\\n              Provide a new SSL Certificate to replace the existing one that is used for HTTPS connections.\\n            </span>\\n          </div>\\n\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12\">\\n              Upload a X.509 certificate, commonly a crt, a cer, or a pem file.\\n            </span>\\n          </div>\\n\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.formValues.certFile\" ngf-pattern=\"$ctrl.certFilePattern\" name=\"certFile\">\\n                Select file\\n              </button>\\n              <span style=\"margin-left: 5px;\">\\n                {{ $ctrl.formValues.certFile.name }}\\n                <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formValues.certFile\" aria-hidden=\"true\"></i>\\n              </span>\\n            </div>\\n          </div>\\n          <div class=\"form-group col-md-12\" ng-show=\"$ctrl.sslForm.certFile.$invalid\">\\n            <div class=\"small text-warning\">\\n              <div ng-messages=\"$ctrl.sslForm.certFile.$error\">\\n                <p ng-message=\"pattern\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> File type is invalid.</p>\\n              </div>\\n            </div>\\n          </div>\\n\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12\">\\n              Upload a private key, commonly a key, or a pem file.\\n            </span>\\n          </div>\\n\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.formValues.keyFile\" ngf-pattern=\"$ctrl.keyFilePattern\" name=\"keyFile\">\\n                Select file\\n              </button>\\n              <span style=\"margin-left: 5px;\">\\n                {{ $ctrl.formValues.keyFile.name }}\\n                <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formValues.keyFile\" aria-hidden=\"true\"></i>\\n              </span>\\n            </div>\\n          </div>\\n          <div class=\"form-group col-md-12\" ng-show=\"$ctrl.sslForm.keyFile.$invalid\">\\n            <div class=\"small text-warning\">\\n              <div ng-messages=\"$ctrl.sslForm.keyFile.$error\">\\n                <p ng-message=\"pattern\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> File type is invalid.</p>\\n              </div>\\n            </div>\\n          </div>\\n\\n          <hr />\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.state.actionInProgress || !$ctrl.isFormChanged()\"\\n                ng-click=\"$ctrl.save()\"\\n                button-spinner=\"$ctrl.state.actionInProgress\"\\n                analytics-on\\n                analytics-if=\"$ctrl.wasHTTPsChanged()\"\\n                analytics-category=\"portainer\"\\n                analytics-event=\"portainer-settings-edit\"\\n                analytics-properties=\"{ metadata: { forceHTTPS: $ctrl.formValues.forceHTTPS } }\"\\n              >\\n                <span ng-hide=\"$ctrl.state.actionInProgress || $ctrl.state.reloadingPage\">Apply Changes</span>\\n                <span ng-show=\"$ctrl.state.actionInProgress\">Saving in progress...</span>\\n                <span ng-show=\"$ctrl.state.reloadingPage\">Reloading Page...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"state.formValidationError\" style=\"margin-left: 5px;\">{{ state.formValidationError }}</span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/user-activity/auth-logs-view/auth-logs-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"User Activity\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"portainer.authLogs\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>User authentication activity</rd-header-content>\\n</rd-header>\\n\\n<div class=\"be-indicator-container\">\\n  <rd-widget>\\n    <rd-widget-body>\\n      <div class=\"form-horizontal\">\\n        <div class=\"form-group\">\\n          <label for=\"dateRangeInput\" class=\"col-sm-2 control-label text-left\">Date Range</label>\\n          <div class=\"col-sm-6\">\\n            <input type=\"text\" class=\"form-control\" disabled />\\n          </div>\\n        </div>\\n      </div>\\n\\n      <p class=\"text-muted small\">\\n        <i class=\"fa fa-info-circle blue-icon space-right\" aria-hidden=\"true\"></i>\\n        Portainer user authentication activity logs have a maximum retention of 7 days.\\n      </p>\\n\\n      <div>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary m-r-10\" limited-feature-dir=\"{{::$ctrl.limitedFeature}}\" limited-feature-class=\"limited-be\" limited-feature-disabled\\n          ><i class=\"fa fa-download space-right\" aria-hidden=\"true\"></i>Export as CSV\\n        </button>\\n        <be-feature-indicator feature=\"$ctrl.limitedFeature\"></be-feature-indicator>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n\\n  <auth-logs-datatable\\n    logs=\"$ctrl.state.logs\"\\n    keyword=\"$ctrl.state.keyword\"\\n    sort=\"$ctrl.state.sort\"\\n    limit=\"$ctrl.state.limit\"\\n    context-filter=\"$ctrl.state.contextFilter\"\\n    type-filter=\"$ctrl.state.typeFilter\"\\n    total-items=\"$ctrl.state.totalItems\"\\n    current-page=\"$ctrl.state.currentPage\"\\n    feature=\"{{:: $ctrl.limitedFeature}}\"\\n    on-change-context-filter=\"($ctrl.onChangeContextFilter)\"\\n    on-change-type-filter=\"($ctrl.onChangeTypeFilter)\"\\n    on-change-keyword=\"($ctrl.onChangeKeyword)\"\\n    on-change-sort=\"($ctrl.onChangeSort)\"\\n    on-change-limit=\"($ctrl.onChangeLimit)\"\\n    on-change-page=\"($ctrl.onChangePage)\"\\n  ></auth-logs-datatable>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/user-activity/auth-logs-view/auth-logs-datatable/auth-logs-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable datatable-empty\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <datatable-titlebar title=\"Authentication Events\" icon=\"fa-history\" feature=\"{{::$ctrl.feature}}\"></datatable-titlebar>\\n      <datatable-searchbar on-change=\"($ctrl.onChangeKeyword)\" ng-model=\"$ctrl.keyword\"></datatable-searchbar>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a>\\n                  Time\\n                  <datatable-sort-icon key=\"Timestamp\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n              </th>\\n              <th>\\n                <a>\\n                  Origin\\n                  <datatable-sort-icon key=\"Origin\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n              </th>\\n              <th>\\n                <a>\\n                  Context\\n                  <datatable-sort-icon key=\"Context\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n                <datatable-filter labels=\"$ctrl.contextFilterLabels\" filter-key=\"context\" state=\"$ctrl.contextFilter\" on-change=\"($ctrl.onChangeContextFilter)\"> </datatable-filter>\\n              </th>\\n              <th>\\n                <a>\\n                  User\\n                  <datatable-sort-icon key=\"Username\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n              </th>\\n              <th>\\n                Result\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr dir-paginate=\"item in $ctrl.logs | itemsPerPage: $ctrl.limit\" total-items=\"$ctrl.totalItems\" current-page=\"$ctrl.currentPage\">\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.logs\">\\n              <td class=\"text-center text-muted\" colspan=\"5\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.logs.length === 0\">\\n              <td class=\"text-center text-muted\" colspan=\"8\">\\n                No logs available.\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.logs\">\\n        <datatable-pagination limit=\"$ctrl.limit\" on-change-limit=\"($ctrl.handleChangeLimit)\" on-change-page=\"($ctrl.onChangePage)\"></datatable-pagination>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/user-activity/activity-logs-view/activity-logs-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"User Activity\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\".\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Activity Logs</rd-header-content>\\n</rd-header>\\n\\n<div class=\"be-indicator-container\">\\n  <rd-widget>\\n    <rd-widget-body>\\n      <div class=\"form-horizontal\">\\n        <div class=\"form-group\">\\n          <label for=\"dateRangeInput\" class=\"col-sm-2 control-label text-left\">Date Range</label>\\n          <div class=\"col-sm-6\">\\n            <input type=\"text\" class=\"form-control\" disabled />\\n          </div>\\n        </div>\\n      </div>\\n\\n      <p class=\"text-muted small\">\\n        <i class=\"fa fa-info-circle blue-icon space-right\" aria-hidden=\"true\"></i>\\n        Portainer user activity logs have a maximum retention of 7 days.\\n      </p>\\n\\n      <div>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary m-r-10\" limited-feature-dir=\"{{::$ctrl.limitedFeature}}\" limited-feature-class=\"limited-be\" limited-feature-disabled>\\n          <i class=\"fa fa-download space-right\" aria-hidden=\"true\"></i>Export as CSV\\n        </button>\\n        <be-feature-indicator feature=\"$ctrl.limitedFeature\"></be-feature-indicator>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n\\n  <activity-logs-datatable\\n    logs=\"$ctrl.state.logs\"\\n    keyword=\"$ctrl.state.keyword\"\\n    sort=\"$ctrl.state.sort\"\\n    limit=\"$ctrl.state.limit\"\\n    context-filter=\"$ctrl.state.contextFilter\"\\n    total-items=\"$ctrl.state.totalItems\"\\n    current-page=\"$ctrl.state.currentPage\"\\n    feature=\"{{:: $ctrl.limitedFeature}}\"\\n    on-change-keyword=\"($ctrl.onChangeKeyword)\"\\n    on-change-sort=\"($ctrl.onChangeSort)\"\\n    on-change-limit=\"($ctrl.onChangeLimit)\"\\n    on-change-page=\"($ctrl.onChangePage)\"\\n  ></activity-logs-datatable>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/user-activity/activity-logs-view/activity-logs-datatable/activity-logs-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable datatable-empty\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <datatable-titlebar title=\"Activity Logs\" icon=\"fa-history\" feature=\"{{::$ctrl.feature}}\"></datatable-titlebar>\\n      <datatable-searchbar on-change=\"($ctrl.onChangeKeyword)\" ng-model=\"$ctrl.keyword\"></datatable-searchbar>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover\">\\n          <thead>\\n            <tr>\\n              <th class=\"small-column\">\\n                <a ng-click=\"$ctrl.changeSort(\\'Timestamp\\')\">\\n                  Time\\n                  <datatable-sort-icon key=\"Timestamp\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n              </th>\\n              <th class=\"small-column\">\\n                <a ng-click=\"$ctrl.changeSort(\\'Username\\')\">\\n                  User\\n                  <datatable-sort-icon key=\"Username\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n              </th>\\n              <th class=\"small-column\">\\n                <a ng-click=\"$ctrl.changeSort(\\'Context\\')\">\\n                  Environment\\n                  <datatable-sort-icon key=\"Context\" selected-sort-key=\"{{ $ctrl.sort.key }}\" reverse-order=\"$ctrl.sort.desc\"></datatable-sort-icon>\\n                </a>\\n              </th>\\n\\n              <th>\\n                Action\\n              </th>\\n              <th>\\n                Payload\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr dir-paginate-start=\"item in $ctrl.logs | itemsPerPage: $ctrl.limit\" total-items=\"$ctrl.totalItems\" current-page=\"$ctrl.currentPage\">\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n              <td></td>\\n            </tr>\\n            <tr dir-paginate-end ng-show=\"item.Expanded\">\\n              <td colspan=\"5\">\\n                <json-tree object=\"item.payload\" root-name=\"containerInfo.Id\" start-expanded=\"true\"></json-tree>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.logs\">\\n              <td class=\"text-center text-muted\" colspan=\"5\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.logs.length === 0\">\\n              <td class=\"text-center text-muted\" colspan=\"8\">\\n                No logs available.\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.logs\">\\n        <datatable-pagination limit=\"$ctrl.limit\" on-change-limit=\"($ctrl.handleChangeLimit)\" on-change-page=\"($ctrl.onChangePage)\"></datatable-pagination>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){var a={\"./__mocks__/fileMock.js\":1038,\"./__mocks__/styleMock.js\":1039,\"./__module.js\":689,\"./agent/components/file-uploader/fileUploaderController.js\":547,\"./agent/components/file-uploader/index.js\":1040,\"./agent/components/files-datatable/index.js\":1042,\"./agent/components/host-browser/hostBrowserController.js\":548,\"./agent/components/host-browser/index.js\":1044,\"./agent/components/node-selector/index.js\":1046,\"./agent/components/node-selector/nodeSelectorController.js\":549,\"./agent/components/volume-browser/index.js\":1048,\"./agent/components/volume-browser/volumeBrowserController.js\":550,\"./agent/index.js\":731,\"./agent/models/agent.js\":551,\"./agent/rest/agent.js\":1050,\"./agent/rest/browse.js\":1051,\"./agent/rest/dockerhub.js\":1052,\"./agent/rest/host.js\":1053,\"./agent/rest/ping.js\":1054,\"./agent/rest/response/browse.js\":292,\"./agent/rest/v1/agent.js\":1055,\"./agent/rest/v1/browse.js\":1056,\"./agent/services/agentService.js\":1057,\"./agent/services/hostBrowserService.js\":1058,\"./agent/services/pingService.js\":1059,\"./agent/services/volumeBrowserService.js\":1060,\"./angulartics.matomo/index.js\":454,\"./app.js\":1061,\"./assets/css/index.js\":805,\"./azure/_module.js\":732,\"./azure/components/azure-endpoint-config/azure-endpoint-config.js\":1062,\"./azure/components/azure-sidebar/index.js\":1064,\"./azure/components/datatables/containergroups-datatable/containerGroupsDatatable.js\":1066,\"./azure/models/container_group.js\":227,\"./azure/models/location.js\":552,\"./azure/models/provider.js\":553,\"./azure/models/resource_group.js\":370,\"./azure/models/subscription.js\":371,\"./azure/rest/azure.js\":1068,\"./azure/rest/container_group.js\":1069,\"./azure/rest/location.js\":1070,\"./azure/rest/provider.js\":1071,\"./azure/rest/resource_group.js\":1072,\"./azure/rest/subscription.js\":1073,\"./azure/services/azureService.js\":1074,\"./azure/services/containerGroupService.js\":1075,\"./azure/services/locationService.js\":1076,\"./azure/services/providerService.js\":1077,\"./azure/services/resourceGroupService.js\":1078,\"./azure/services/subscriptionService.js\":1079,\"./azure/views/containerinstances/container-instance-details/containerInstanceDetailsController.js\":554,\"./azure/views/containerinstances/container-instance-details/index.js\":1080,\"./azure/views/containerinstances/containerInstancesController.js\":1082,\"./azure/views/containerinstances/create/createContainerInstanceController.js\":1083,\"./azure/views/dashboard/dashboardController.js\":1084,\"./config.js\":1085,\"./constants.js\":103,\"./docker/__module.js\":733,\"./docker/components/container-capabilities/container-capabilities.js\":1123,\"./docker/components/container-quick-actions/containerQuickActions.js\":1125,\"./docker/components/container-restart-policy/container-restart-policy-controller.js\":1127,\"./docker/components/container-restart-policy/container-restart-policy.js\":1128,\"./docker/components/dashboard-cluster-agent-info/dashboard-cluster-agent-info.js\":1130,\"./docker/components/dashboard-cluster-agent-info/dashboardClusterAgentInfoController.js\":1132,\"./docker/components/datatables/configs-datatable/configsDatatable.js\":1133,\"./docker/components/datatables/container-networks-datatable/containerNetworksDatatable.js\":1135,\"./docker/components/datatables/container-networks-datatable/containerNetworksDatatableController.js\":1137,\"./docker/components/datatables/container-processes-datatable/containerProcessesDatatable.js\":1138,\"./docker/components/datatables/containers-datatable/actions/containersDatatableActions.js\":1140,\"./docker/components/datatables/containers-datatable/actions/containersDatatableActionsController.js\":1142,\"./docker/components/datatables/containers-datatable/containersDatatable.js\":1143,\"./docker/components/datatables/containers-datatable/containersDatatableController.js\":1145,\"./docker/components/datatables/events-datatable/eventsDatatable.js\":1146,\"./docker/components/datatables/images-datatable/imagesDatatable.js\":1148,\"./docker/components/datatables/images-datatable/imagesDatatableController.js\":1150,\"./docker/components/datatables/macvlan-nodes-datatable/macvlanNodesDatatable.js\":1151,\"./docker/components/datatables/networks-datatable/network-row-content/networkRowContent.js\":1153,\"./docker/components/datatables/networks-datatable/networksDatatable.js\":1155,\"./docker/components/datatables/networks-datatable/networksDatatableController.js\":1157,\"./docker/components/datatables/node-tasks-datatable/nodeTasksDatatable.js\":1158,\"./docker/components/datatables/nodes-datatable/nodesDatatable.js\":1160,\"./docker/components/datatables/secrets-datatable/secretsDatatable.js\":1162,\"./docker/components/datatables/service-tasks-datatable/serviceTasksDatatable.js\":1164,\"./docker/components/datatables/service-tasks-datatable/serviceTasksDatatableController.js\":1166,\"./docker/components/datatables/services-datatable/actions/servicesDatatableActions.js\":1167,\"./docker/components/datatables/services-datatable/actions/servicesDatatableActionsController.js\":1169,\"./docker/components/datatables/services-datatable/servicesDatatable.js\":1170,\"./docker/components/datatables/services-datatable/servicesDatatableController.js\":1172,\"./docker/components/datatables/tasks-datatable/tasksDatatable.js\":1173,\"./docker/components/datatables/tasks-datatable/tasksDatatableController.js\":1175,\"./docker/components/datatables/volumes-datatable/volumesDatatable.js\":1176,\"./docker/components/datatables/volumes-datatable/volumesDatatableController.js\":1178,\"./docker/components/docker-sidebar/docker-sidebar.js\":1179,\"./docker/components/host-overview/host-overview.js\":1181,\"./docker/components/host-view-panels/devices-panel/devices-panel.js\":1183,\"./docker/components/host-view-panels/disks-panel/disks-panel.js\":1185,\"./docker/components/host-view-panels/engine-details-panel/engine-details-panel.js\":1187,\"./docker/components/host-view-panels/host-details-panel/host-details-panel.js\":1189,\"./docker/components/host-view-panels/node-availability-select/node-availability-select-controller.js\":1191,\"./docker/components/host-view-panels/node-availability-select/node-availability-select.js\":1192,\"./docker/components/host-view-panels/node-labels-table/node-labels-table-controller.js\":1194,\"./docker/components/host-view-panels/node-labels-table/node-labels-table.js\":1195,\"./docker/components/host-view-panels/swarm-node-details-panel/swarm-node-details-panel-controller.js\":1197,\"./docker/components/host-view-panels/swarm-node-details-panel/swarm-node-details-panel.js\":1198,\"./docker/components/imageRegistry/por-image-registry-rate-limits.controller.js\":555,\"./docker/components/imageRegistry/por-image-registry-rate-limits.js\":1200,\"./docker/components/imageRegistry/por-image-registry.controller.js\":1202,\"./docker/components/imageRegistry/por-image-registry.js\":1203,\"./docker/components/log-viewer/log-viewer.js\":1205,\"./docker/components/log-viewer/logViewerController.js\":1207,\"./docker/components/network-macvlan-form/network-macvlan-form.js\":1208,\"./docker/components/network-macvlan-form/networkMacvlanFormController.js\":1210,\"./docker/components/network-macvlan-form/networkMacvlanFormModel.js\":556,\"./docker/components/volumesCIFSForm/volumesCifsForm.js\":1211,\"./docker/components/volumesCIFSForm/volumesCifsFormModel.js\":557,\"./docker/components/volumesNFSForm/volumes-nfs-form.js\":1213,\"./docker/components/volumesNFSForm/volumesNFSFormModel.js\":558,\"./docker/filters/filters.js\":1215,\"./docker/helpers/configHelper.js\":1216,\"./docker/helpers/constraintsHelper.js\":1217,\"./docker/helpers/containerHelper.js\":1218,\"./docker/helpers/imageHelper.js\":220,\"./docker/helpers/infoHelper.js\":1219,\"./docker/helpers/labelHelper.js\":1220,\"./docker/helpers/logHelper.js\":1221,\"./docker/helpers/networkHelper.js\":228,\"./docker/helpers/nodeHelper.js\":1226,\"./docker/helpers/secretHelper.js\":1227,\"./docker/helpers/serviceHelper.js\":1228,\"./docker/helpers/taskHelper.js\":1229,\"./docker/helpers/volumeHelper.js\":1230,\"./docker/interceptors/containersInterceptor.js\":1231,\"./docker/interceptors/imagesInterceptor.js\":1232,\"./docker/interceptors/infoInterceptor.js\":1233,\"./docker/interceptors/networksInterceptor.js\":1234,\"./docker/interceptors/versionInterceptor.js\":1235,\"./docker/interceptors/volumesInterceptor.js\":1236,\"./docker/models/config.js\":375,\"./docker/models/container.js\":229,\"./docker/models/containerCapabilities.js\":266,\"./docker/models/event.js\":559,\"./docker/models/image.js\":230,\"./docker/models/imageDetails.js\":560,\"./docker/models/imageLayer.js\":561,\"./docker/models/network.js\":376,\"./docker/models/node.js\":377,\"./docker/models/plugin.js\":562,\"./docker/models/porImageRegistry.js\":74,\"./docker/models/secret.js\":378,\"./docker/models/service.js\":379,\"./docker/models/swarm.js\":563,\"./docker/models/task.js\":380,\"./docker/models/volume.js\":298,\"./docker/rest/build.js\":1237,\"./docker/rest/commit.js\":1238,\"./docker/rest/config.js\":1239,\"./docker/rest/container.js\":1240,\"./docker/rest/exec.js\":1241,\"./docker/rest/image.js\":1242,\"./docker/rest/network.js\":1243,\"./docker/rest/node.js\":1244,\"./docker/rest/plugin.js\":1245,\"./docker/rest/response/handlers.js\":37,\"./docker/rest/response/image.js\":564,\"./docker/rest/secret.js\":1246,\"./docker/rest/service.js\":1247,\"./docker/rest/swarm.js\":1248,\"./docker/rest/system.js\":1249,\"./docker/rest/systemEndpoint.js\":1250,\"./docker/rest/task.js\":1251,\"./docker/rest/volume.js\":1252,\"./docker/services/buildService.js\":1253,\"./docker/services/configService.js\":1254,\"./docker/services/containerService.js\":1255,\"./docker/services/execService.js\":1256,\"./docker/services/imageService.js\":1257,\"./docker/services/networkService.js\":1258,\"./docker/services/nodeService.js\":1259,\"./docker/services/pluginService.js\":1260,\"./docker/services/secretService.js\":1261,\"./docker/services/serviceService.js\":1262,\"./docker/services/swarmService.js\":1263,\"./docker/services/systemService.js\":1264,\"./docker/services/taskService.js\":1265,\"./docker/services/volumeService.js\":1266,\"./docker/views/configs/configsController.js\":1267,\"./docker/views/configs/create/createConfigController.js\":1268,\"./docker/views/configs/edit/configController.js\":1269,\"./docker/views/containers/console/containerConsoleController.js\":1270,\"./docker/views/containers/containersController.js\":1271,\"./docker/views/containers/create/createContainerController.js\":2089,\"./docker/views/containers/edit/containerController.js\":1272,\"./docker/views/containers/inspect/containerInspectController.js\":1273,\"./docker/views/containers/logs/containerLogsController.js\":1274,\"./docker/views/containers/stats/containerStatsController.js\":1275,\"./docker/views/dashboard/dashboardController.js\":1276,\"./docker/views/docker-features-configuration/docker-features-configuration.controller.js\":566,\"./docker/views/docker-features-configuration/index.js\":1318,\"./docker/views/events/eventsController.js\":1320,\"./docker/views/host/host-browser-view/host-browser-view-controller.js\":1321,\"./docker/views/host/host-browser-view/host-browser-view.js\":1322,\"./docker/views/host/host-view-controller.js\":1324,\"./docker/views/host/host-view.js\":1325,\"./docker/views/images/build/buildImageController.js\":1327,\"./docker/views/images/edit/imageController.js\":1328,\"./docker/views/images/imagesController.js\":1329,\"./docker/views/images/import/importImageController.js\":1330,\"./docker/views/networks/create/createNetworkController.js\":1331,\"./docker/views/networks/edit/networkController.js\":1332,\"./docker/views/networks/networksController.js\":1333,\"./docker/views/nodes/node-browser/node-browser-controller.js\":1334,\"./docker/views/nodes/node-browser/node-browser.js\":1335,\"./docker/views/nodes/node-details/node-details-view-controller.js\":1337,\"./docker/views/nodes/node-details/node-details-view.js\":1338,\"./docker/views/registries/access/registryAccess.js\":1340,\"./docker/views/registries/access/registryAccessController.js\":1342,\"./docker/views/secrets/create/createSecretController.js\":1343,\"./docker/views/secrets/edit/secretController.js\":1344,\"./docker/views/secrets/secretsController.js\":1345,\"./docker/views/services/create/createServiceController.js\":1346,\"./docker/views/services/edit/serviceController.js\":1351,\"./docker/views/services/logs/serviceLogsController.js\":1370,\"./docker/views/services/servicesController.js\":1371,\"./docker/views/swarm/swarmController.js\":1372,\"./docker/views/swarm/visualizer/swarmVisualizerController.js\":1373,\"./docker/views/tasks/edit/taskController.js\":1374,\"./docker/views/tasks/logs/taskLogsController.js\":1375,\"./docker/views/volumes/browse/browseVolumeController.js\":1376,\"./docker/views/volumes/create/createVolumeController.js\":1377,\"./docker/views/volumes/edit/volumeController.js\":1378,\"./docker/views/volumes/volumesController.js\":1379,\"./edge/__module.js\":734,\"./edge/components/associated-endpoints-datatable/associatedEndpointsDatatableController.js\":567,\"./edge/components/associated-endpoints-datatable/index.js\":1380,\"./edge/components/edge-groups-selector/index.js\":1382,\"./edge/components/edge-job-form/edgeJobFormController.js\":568,\"./edge/components/edge-job-form/index.js\":1384,\"./edge/components/edge-job-results-datatable/edgeJobResultsDatatableController.js\":569,\"./edge/components/edge-job-results-datatable/index.js\":2090,\"./edge/components/edge-jobs-datatable/index.js\":1387,\"./edge/components/edge-stack-deployment-type-selector/edge-stack-deployment-type-selector.controller.js\":570,\"./edge/components/edge-stack-deployment-type-selector/index.js\":1389,\"./edge/components/edge-stack-endpoints-datatable/edgeStackEndpointsDatatableController.js\":571,\"./edge/components/edge-stack-endpoints-datatable/index.js\":1391,\"./edge/components/edge-stack-status/edgeStackStatusController.js\":572,\"./edge/components/edge-stack-status/index.js\":2091,\"./edge/components/edge-stacks-datatable/index.js\":1394,\"./edge/components/edit-edge-stack-form/editEdgeStackFormController.js\":573,\"./edge/components/edit-edge-stack-form/index.js\":1396,\"./edge/components/group-form/groupFormController.js\":574,\"./edge/components/group-form/index.js\":1398,\"./edge/components/groups-datatable/groupsDatatableController.js\":575,\"./edge/components/groups-datatable/index.js\":1400,\"./edge/rest/edge-groups.js\":1402,\"./edge/rest/edge-job-results.js\":1403,\"./edge/rest/edge-jobs.js\":1404,\"./edge/rest/edge-stacks.js\":1405,\"./edge/rest/edge-templates.js\":1406,\"./edge/services/edge-group.js\":1407,\"./edge/services/edge-job.js\":1408,\"./edge/services/edge-stack.js\":1409,\"./edge/services/edge-template.js\":1410,\"./edge/views/edge-groups/createEdgeGroupView/createEdgeGroupViewController.js\":576,\"./edge/views/edge-groups/createEdgeGroupView/index.js\":1411,\"./edge/views/edge-groups/edgeGroupsView/edgeGroupsViewController.js\":577,\"./edge/views/edge-groups/edgeGroupsView/index.js\":1413,\"./edge/views/edge-groups/editEdgeGroupView/editEdgeGroupViewController.js\":578,\"./edge/views/edge-groups/editEdgeGroupView/index.js\":1415,\"./edge/views/edge-jobs/createEdgeJobView/createEdgeJobViewController.js\":579,\"./edge/views/edge-jobs/createEdgeJobView/index.js\":1417,\"./edge/views/edge-jobs/edgeJob/edgeJobController.js\":580,\"./edge/views/edge-jobs/edgeJob/index.js\":1419,\"./edge/views/edge-jobs/edgeJobsView/edgeJobsViewController.js\":581,\"./edge/views/edge-jobs/edgeJobsView/index.js\":1421,\"./edge/views/edge-stacks/createEdgeStackView/create-edge-stack-view.controller.js\":458,\"./edge/views/edge-stacks/createEdgeStackView/create-edge-stack-view.js\":457,\"./edge/views/edge-stacks/createEdgeStackView/docker-compose-form/docker-compose-form.controller.js\":460,\"./edge/views/edge-stacks/createEdgeStackView/docker-compose-form/index.js\":459,\"./edge/views/edge-stacks/createEdgeStackView/index.js\":456,\"./edge/views/edge-stacks/createEdgeStackView/kube-deploy-description/index.js\":463,\"./edge/views/edge-stacks/createEdgeStackView/kube-manifest-form/index.js\":461,\"./edge/views/edge-stacks/createEdgeStackView/kube-manifest-form/kube-manifest-form.controller.js\":462,\"./edge/views/edge-stacks/edgeStacksView/edgeStacksViewController.js\":582,\"./edge/views/edge-stacks/edgeStacksView/index.js\":1423,\"./edge/views/edge-stacks/editEdgeStackView/editEdgeStackViewController.js\":583,\"./edge/views/edge-stacks/editEdgeStackView/index.js\":1425,\"./edge/views/edge-stacks/index.js\":455,\"./integrations/_module.js\":1427,\"./integrations/storidge/_module.js\":1428,\"./integrations/storidge/components/cluster-events-datatable/storidgeClusterEventsDatatable.js\":1438,\"./integrations/storidge/components/drives-datatable/storidgeDrivesDatatable.js\":1440,\"./integrations/storidge/components/drives-datatable/storidgeDrivesDatatableController.js\":1442,\"./integrations/storidge/components/nodes-datatable/storidgeNodesDatatable.js\":1443,\"./integrations/storidge/components/nodes-datatable/storidgeNodesDatatableController.js\":1445,\"./integrations/storidge/components/profileSelector/storidgeProfileSelector.js\":1446,\"./integrations/storidge/components/profileSelector/storidgeProfileSelectorController.js\":1448,\"./integrations/storidge/components/profiles-datatable/storidgeProfilesDatatable.js\":1449,\"./integrations/storidge/components/snapshot-creation/storidgeSnapshotCreation.js\":1451,\"./integrations/storidge/components/snapshot-creation/storidgeSnapshotCreationController.js\":1453,\"./integrations/storidge/components/snapshots-datatable/storidgeSnapshotsDatatable.js\":1454,\"./integrations/storidge/components/volume-storidge-info/volumeStoridgeInfo.js\":1456,\"./integrations/storidge/components/volume-storidge-info/volumeStoridgeInfoController.js\":1458,\"./integrations/storidge/filters/filters.js\":1459,\"./integrations/storidge/models/drive.js\":385,\"./integrations/storidge/models/events.js\":584,\"./integrations/storidge/models/info.js\":585,\"./integrations/storidge/models/node.js\":386,\"./integrations/storidge/models/profile.js\":152,\"./integrations/storidge/models/snapshot.js\":387,\"./integrations/storidge/models/volume.js\":388,\"./integrations/storidge/rest/storidge.js\":1460,\"./integrations/storidge/services/chartService.js\":1461,\"./integrations/storidge/services/clusterService.js\":1504,\"./integrations/storidge/services/driveService.js\":1505,\"./integrations/storidge/services/nodeService.js\":1506,\"./integrations/storidge/services/profileService.js\":1507,\"./integrations/storidge/services/snapshotService.js\":1508,\"./integrations/storidge/services/volumeService.js\":1509,\"./integrations/storidge/views/cluster/clusterController.js\":1510,\"./integrations/storidge/views/drives/drivesController.js\":1511,\"./integrations/storidge/views/drives/inspect/driveController.js\":1512,\"./integrations/storidge/views/monitor/monitorController.js\":1513,\"./integrations/storidge/views/nodes/inspect/nodeController.js\":1514,\"./integrations/storidge/views/profiles/create/createProfileController.js\":1515,\"./integrations/storidge/views/profiles/edit/profileController.js\":1516,\"./integrations/storidge/views/profiles/profilesController.js\":1517,\"./integrations/storidge/views/snapshots/inspect/snapshotController.js\":1518,\"./kubernetes/__module.js\":1519,\"./kubernetes/components/datatables/application/containers-datatable/containersDatatable.js\":1525,\"./kubernetes/components/datatables/applications-datatable-details/applications-datatable-details.controller.js\":597,\"./kubernetes/components/datatables/applications-datatable-details/applications-datatable-details.js\":1527,\"./kubernetes/components/datatables/applications-datatable-url/applications-datatable-url.js\":2092,\"./kubernetes/components/datatables/applications-datatable/applicationsDatatable.js\":2093,\"./kubernetes/components/datatables/applications-datatable/applicationsDatatableController.js\":1531,\"./kubernetes/components/datatables/applications-ports-datatable/applicationsPortsDatatable.js\":1534,\"./kubernetes/components/datatables/applications-ports-datatable/applicationsPortsDatatableController.js\":1536,\"./kubernetes/components/datatables/applications-stacks-datatable/applicationsStacksDatatable.js\":1537,\"./kubernetes/components/datatables/applications-stacks-datatable/applicationsStacksDatatableController.js\":1539,\"./kubernetes/components/datatables/configurations-datatable/configurationsDatatable.js\":1540,\"./kubernetes/components/datatables/configurations-datatable/configurationsDatatableController.js\":1542,\"./kubernetes/components/datatables/events-datatable/eventsDatatable.js\":1547,\"./kubernetes/components/datatables/integrated-applications-datatable/integratedApplicationsDatatable.js\":1549,\"./kubernetes/components/datatables/node-applications-datatable/nodeApplicationsDatatable.js\":1551,\"./kubernetes/components/datatables/node-applications-datatable/nodeApplicationsDatatableController.js\":1553,\"./kubernetes/components/datatables/nodes-datatable/nodesDatatable.js\":1554,\"./kubernetes/components/datatables/resource-pool-applications-datatable/resourcePoolApplicationsDatatable.js\":1556,\"./kubernetes/components/datatables/resource-pool-applications-datatable/resourcePoolApplicationsDatatableController.js\":1558,\"./kubernetes/components/datatables/resource-pools-datatable/resourcePoolsDatatable.js\":1559,\"./kubernetes/components/datatables/resource-pools-datatable/resourcePoolsDatatableController.js\":1561,\"./kubernetes/components/datatables/volumes-datatable/volumesDatatable.js\":1562,\"./kubernetes/components/datatables/volumes-datatable/volumesDatatableController.js\":1564,\"./kubernetes/components/helm/helm-templates/helm-add-repository/helm-add-repository.controller.js\":598,\"./kubernetes/components/helm/helm-templates/helm-add-repository/helm-add-repository.js\":1565,\"./kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list-item/helm-templates-list-item.js\":2094,\"./kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list.controller.js\":599,\"./kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list.js\":1568,\"./kubernetes/components/helm/helm-templates/helm-templates.controller.js\":600,\"./kubernetes/components/helm/helm-templates/helm-templates.js\":1570,\"./kubernetes/components/kubectl-shell/kubectl-shell.controller.js\":601,\"./kubernetes/components/kubectl-shell/kubectl-shell.js\":2095,\"./kubernetes/components/kubernetes-configuration-data/kubernetesConfigurationData.js\":1573,\"./kubernetes/components/kubernetes-configuration-data/kubernetesConfigurationDataController.js\":1575,\"./kubernetes/components/kubernetes-sidebar/index.js\":1582,\"./kubernetes/components/resource-reservation/resourceReservation.js\":1584,\"./kubernetes/components/resource-reservation/resourceReservationController.js\":1586,\"./kubernetes/components/view-header/viewHeader.js\":1587,\"./kubernetes/components/view-loading/viewLoading.js\":1589,\"./kubernetes/components/yaml-inspector/yamlInspector.js\":1591,\"./kubernetes/components/yaml-inspector/yamlInspectorController.js\":1593,\"./kubernetes/converters/application.js\":82,\"./kubernetes/converters/configMap.js\":88,\"./kubernetes/converters/configuration.js\":173,\"./kubernetes/converters/daemonSet.js\":254,\"./kubernetes/converters/deployment.js\":253,\"./kubernetes/converters/event.js\":608,\"./kubernetes/converters/namespace.js\":302,\"./kubernetes/converters/persistentVolumeClaim.js\":126,\"./kubernetes/converters/resourcePool.js\":153,\"./kubernetes/converters/resourceQuota.js\":139,\"./kubernetes/converters/secret.js\":154,\"./kubernetes/converters/service.js\":169,\"./kubernetes/converters/statefulSet.js\":255,\"./kubernetes/converters/storageClass.js\":395,\"./kubernetes/converters/volume.js\":396,\"./kubernetes/custom-templates/index.js\":589,\"./kubernetes/custom-templates/kube-create-custom-template-view/index.js\":594,\"./kubernetes/custom-templates/kube-create-custom-template-view/kube-create-custom-template-view.controller.js\":595,\"./kubernetes/custom-templates/kube-custom-templates-view/index.js\":590,\"./kubernetes/custom-templates/kube-custom-templates-view/kube-custom-templates-view.controller.js\":591,\"./kubernetes/custom-templates/kube-edit-custom-template-view/index.js\":592,\"./kubernetes/custom-templates/kube-edit-custom-template-view/kube-edit-custom-template-view.controller.js\":593,\"./kubernetes/endpoint/converter.js\":613,\"./kubernetes/endpoint/models.js\":304,\"./kubernetes/endpoint/rest.js\":1594,\"./kubernetes/endpoint/service.js\":1595,\"./kubernetes/filters/applicationFilters.js\":1596,\"./kubernetes/filters/configurationFilters.js\":1597,\"./kubernetes/filters/eventFilters.js\":1598,\"./kubernetes/filters/filters.js\":1599,\"./kubernetes/helm/rest.js\":1600,\"./kubernetes/helm/service.js\":1601,\"./kubernetes/helpers/application/index.js\":22,\"./kubernetes/helpers/application/rollback.js\":614,\"./kubernetes/helpers/commonHelper.js\":51,\"./kubernetes/helpers/configMapHelper.js\":305,\"./kubernetes/helpers/configurationHelper.js\":80,\"./kubernetes/helpers/eventHelper.js\":133,\"./kubernetes/helpers/formValidationHelper.js\":71,\"./kubernetes/helpers/history/daemonset.js\":397,\"./kubernetes/helpers/history/deployment.js\":307,\"./kubernetes/helpers/history/index.js\":615,\"./kubernetes/helpers/history/statefulset.js\":398,\"./kubernetes/helpers/namespaceHelper.js\":27,\"./kubernetes/helpers/resourceQuotaHelper.js\":150,\"./kubernetes/helpers/resourceReservationHelper.js\":20,\"./kubernetes/helpers/serviceHelper.js\":257,\"./kubernetes/helpers/stackHelper.js\":293,\"./kubernetes/helpers/stackHelper.test.js\":1602,\"./kubernetes/helpers/volumeHelper.js\":99,\"./kubernetes/horizontal-pod-auto-scaler/converter.js\":105,\"./kubernetes/horizontal-pod-auto-scaler/helper.js\":140,\"./kubernetes/horizontal-pod-auto-scaler/models.js\":399,\"./kubernetes/horizontal-pod-auto-scaler/payload.js\":617,\"./kubernetes/horizontal-pod-auto-scaler/rest.js\":1603,\"./kubernetes/horizontal-pod-auto-scaler/service.js\":1604,\"./kubernetes/ingress/constants.js\":87,\"./kubernetes/ingress/converter.js\":62,\"./kubernetes/ingress/helper.js\":607,\"./kubernetes/ingress/models.js\":205,\"./kubernetes/ingress/payloads.js\":303,\"./kubernetes/ingress/rest.js\":1605,\"./kubernetes/ingress/service.js\":1606,\"./kubernetes/metrics/metrics.js\":1607,\"./kubernetes/metrics/rest.js\":1608,\"./kubernetes/models/application/formValues.js\":24,\"./kubernetes/models/application/models/constants.js\":451,\"./kubernetes/models/application/models/index.js\":3,\"./kubernetes/models/application/payloads.js\":114,\"./kubernetes/models/common/params.js\":18,\"./kubernetes/models/common/payloads.js\":58,\"./kubernetes/models/config-map/models.js\":81,\"./kubernetes/models/config-map/payloads.js\":301,\"./kubernetes/models/configuration/formvalues.js\":86,\"./kubernetes/models/configuration/models.js\":25,\"./kubernetes/models/daemon-set/models.js\":162,\"./kubernetes/models/daemon-set/payloads.js\":603,\"./kubernetes/models/deploy.js\":21,\"./kubernetes/models/deployment/models.js\":161,\"./kubernetes/models/deployment/payloads.js\":602,\"./kubernetes/models/event/models.js\":609,\"./kubernetes/models/history/models.js\":155,\"./kubernetes/models/namespace/models.js\":195,\"./kubernetes/models/namespace/payloads.js\":610,\"./kubernetes/models/nodes-limits/models.js\":618,\"./kubernetes/models/port/models.js\":389,\"./kubernetes/models/resource-pool/formValues.js\":73,\"./kubernetes/models/resource-pool/models.js\":113,\"./kubernetes/models/resource-quota/models.js\":38,\"./kubernetes/models/resource-quota/payloads.js\":611,\"./kubernetes/models/resource-reservation/models.js\":137,\"./kubernetes/models/resource-types/models.js\":39,\"./kubernetes/models/secret/models.js\":394,\"./kubernetes/models/secret/payloads.js\":393,\"./kubernetes/models/service/models.js\":42,\"./kubernetes/models/service/payloads.js\":606,\"./kubernetes/models/stack/models.js\":616,\"./kubernetes/models/stateful-set/models.js\":112,\"./kubernetes/models/stateful-set/payloads.js\":604,\"./kubernetes/models/storage-class/models.js\":198,\"./kubernetes/models/storage-class/payload.js\":612,\"./kubernetes/models/volume/models.js\":256,\"./kubernetes/models/volume/payloads.js\":605,\"./kubernetes/node/converter.js\":129,\"./kubernetes/node/filters.js\":1609,\"./kubernetes/node/formValues.js\":206,\"./kubernetes/node/helper.js\":231,\"./kubernetes/node/models.js\":83,\"./kubernetes/node/payload.js\":400,\"./kubernetes/node/rest.js\":1610,\"./kubernetes/node/service.js\":1611,\"./kubernetes/pod/converter.js\":170,\"./kubernetes/pod/filters.js\":1612,\"./kubernetes/pod/models/affinities.js\":452,\"./kubernetes/pod/models/index.js\":49,\"./kubernetes/pod/payloads/affinities.js\":234,\"./kubernetes/pod/payloads/create.js\":619,\"./kubernetes/pod/service.js\":1613,\"./kubernetes/registries/index.js\":586,\"./kubernetes/registries/kube-registry-access-view/index.js\":587,\"./kubernetes/registries/kube-registry-access-view/kube-registry-access-view.controller.js\":588,\"./kubernetes/rest/configMap.js\":1614,\"./kubernetes/rest/controllerRevision.js\":1615,\"./kubernetes/rest/daemonSet.js\":1616,\"./kubernetes/rest/deployment.js\":1617,\"./kubernetes/rest/endpoint.js\":1618,\"./kubernetes/rest/event.js\":1619,\"./kubernetes/rest/health.js\":1620,\"./kubernetes/rest/kubeconfig.js\":1621,\"./kubernetes/rest/namespace.js\":1622,\"./kubernetes/rest/nodesLimits.js\":1623,\"./kubernetes/rest/persistentVolumeClaim.js\":1624,\"./kubernetes/rest/pod.js\":1625,\"./kubernetes/rest/portainer-namespace.js\":1626,\"./kubernetes/rest/replicaSet.js\":1627,\"./kubernetes/rest/resourceQuota.js\":1628,\"./kubernetes/rest/response/transform.js\":36,\"./kubernetes/rest/secret.js\":1629,\"./kubernetes/rest/service.js\":1630,\"./kubernetes/rest/statefulSet.js\":1631,\"./kubernetes/rest/storage.js\":1632,\"./kubernetes/services/applicationService.js\":1633,\"./kubernetes/services/configMapService.js\":1634,\"./kubernetes/services/configurationService.js\":1635,\"./kubernetes/services/controllerRevisionService.js\":1636,\"./kubernetes/services/daemonSetService.js\":1637,\"./kubernetes/services/deploymentService.js\":1638,\"./kubernetes/services/eventService.js\":1639,\"./kubernetes/services/healthService.js\":1640,\"./kubernetes/services/historyService.js\":1641,\"./kubernetes/services/kubeconfigService.js\":1642,\"./kubernetes/services/namespaceService.js\":1643,\"./kubernetes/services/nodesLimitsService.js\":1644,\"./kubernetes/services/persistentVolumeClaimService.js\":1645,\"./kubernetes/services/replicaSetService.js\":1646,\"./kubernetes/services/resourcePoolService.js\":1647,\"./kubernetes/services/resourceQuotaService.js\":1648,\"./kubernetes/services/secretService.js\":1649,\"./kubernetes/services/serviceService.js\":1650,\"./kubernetes/services/stackService.js\":1651,\"./kubernetes/services/statefulSetService.js\":1652,\"./kubernetes/services/storageService.js\":1653,\"./kubernetes/services/volumeService.js\":1654,\"./kubernetes/store/namespace.js\":252,\"./kubernetes/views/applications/applications.js\":1655,\"./kubernetes/views/applications/applicationsController.js\":1657,\"./kubernetes/views/applications/console/console.js\":1658,\"./kubernetes/views/applications/console/consoleController.js\":1660,\"./kubernetes/views/applications/create/createApplication.js\":1661,\"./kubernetes/views/applications/create/createApplicationController.js\":1663,\"./kubernetes/views/applications/edit/application.js\":1664,\"./kubernetes/views/applications/edit/applicationController.js\":1666,\"./kubernetes/views/applications/edit/components/placements-datatable/controller.js\":1667,\"./kubernetes/views/applications/edit/components/placements-datatable/index.js\":1668,\"./kubernetes/views/applications/helm/helm.controller.js\":620,\"./kubernetes/views/applications/helm/index.js\":2096,\"./kubernetes/views/applications/logs/logs.js\":1671,\"./kubernetes/views/applications/logs/logsController.js\":1673,\"./kubernetes/views/applications/stats/stats.js\":1674,\"./kubernetes/views/applications/stats/statsController.js\":1676,\"./kubernetes/views/cluster/cluster.js\":1677,\"./kubernetes/views/cluster/clusterController.js\":1679,\"./kubernetes/views/cluster/node/node.js\":1680,\"./kubernetes/views/cluster/node/nodeController.js\":1682,\"./kubernetes/views/cluster/node/stats/stats.js\":1683,\"./kubernetes/views/cluster/node/stats/statsController.js\":1685,\"./kubernetes/views/configurations/configurations.js\":1686,\"./kubernetes/views/configurations/configurationsController.js\":1688,\"./kubernetes/views/configurations/create/createConfiguration.js\":1689,\"./kubernetes/views/configurations/create/createConfigurationController.js\":1691,\"./kubernetes/views/configurations/edit/configuration.js\":1692,\"./kubernetes/views/configurations/edit/configurationController.js\":1694,\"./kubernetes/views/configure/configureController.js\":1695,\"./kubernetes/views/dashboard/dashboard.js\":1696,\"./kubernetes/views/dashboard/dashboardController.js\":1698,\"./kubernetes/views/deploy/deploy.js\":1699,\"./kubernetes/views/deploy/deployController.js\":1701,\"./kubernetes/views/resource-pools/access/resourcePoolAccess.js\":1703,\"./kubernetes/views/resource-pools/access/resourcePoolAccessController.js\":1705,\"./kubernetes/views/resource-pools/create/createResourcePool.js\":1706,\"./kubernetes/views/resource-pools/create/createResourcePoolController.js\":621,\"./kubernetes/views/resource-pools/edit/components/ingresses-datatable/controller.js\":1708,\"./kubernetes/views/resource-pools/edit/components/ingresses-datatable/index.js\":1709,\"./kubernetes/views/resource-pools/edit/resourcePool.js\":1711,\"./kubernetes/views/resource-pools/edit/resourcePoolController.js\":1713,\"./kubernetes/views/resource-pools/resourcePools.js\":1714,\"./kubernetes/views/resource-pools/resourcePoolsController.js\":1716,\"./kubernetes/views/stacks/logs/logs.js\":1717,\"./kubernetes/views/stacks/logs/logsController.js\":1719,\"./kubernetes/views/summary/resources/applicationResources.js\":622,\"./kubernetes/views/summary/resources/configurationResources.js\":623,\"./kubernetes/views/summary/resources/helpers.js\":308,\"./kubernetes/views/summary/resources/namespaceResources.js\":624,\"./kubernetes/views/summary/summary.js\":1720,\"./kubernetes/views/summary/summaryController.js\":1722,\"./kubernetes/views/volumes/components/volumes-storages-datatable/controller.js\":1723,\"./kubernetes/views/volumes/components/volumes-storages-datatable/index.js\":1724,\"./kubernetes/views/volumes/edit/volume.js\":1726,\"./kubernetes/views/volumes/edit/volumeController.js\":1728,\"./kubernetes/views/volumes/volumes.js\":1729,\"./kubernetes/views/volumes/volumesController.js\":1731,\"./matomo-setup.js\":730,\"./portainer/__module.js\":735,\"./portainer/components/access-datatable/accessDatatable.js\":1732,\"./portainer/components/access-datatable/accessDatatableController.js\":1734,\"./portainer/components/access-table/access-table.js\":1735,\"./portainer/components/accessControlForm/por-access-control-form.js\":1737,\"./portainer/components/accessControlForm/porAccessControlFormController.js\":1739,\"./portainer/components/accessControlForm/porAccessControlFormModel.js\":45,\"./portainer/components/accessControlPanel/por-access-control-panel.js\":1740,\"./portainer/components/accessControlPanel/porAccessControlPanelController.js\":1742,\"./portainer/components/accessControlPanel/porAccessControlPanelModel.js\":625,\"./portainer/components/accessManagement/index.js\":488,\"./portainer/components/accessManagement/por-access-management-users-selector/index.js\":490,\"./portainer/components/accessManagement/por-access-management.js\":489,\"./portainer/components/accessManagement/porAccessManagementController.js\":1743,\"./portainer/components/associated-endpoints-selector/associatedEndpointsSelector.js\":1744,\"./portainer/components/associated-endpoints-selector/associatedEndpointsSelectorController.js\":626,\"./portainer/components/autofocus.js\":1746,\"./portainer/components/be-feature-indicator/be-feature-indicator.controller.js\":627,\"./portainer/components/be-feature-indicator/index.js\":2097,\"./portainer/components/beta-panel/betaPanel.js\":1748,\"./portainer/components/box-selector/box-selector-item/box-selector-item.controller.js\":628,\"./portainer/components/box-selector/box-selector-item/index.js\":2098,\"./portainer/components/box-selector/box-selector.controller.js\":596,\"./portainer/components/box-selector/index.js\":47,\"./portainer/components/buttonSpinner.js\":1751,\"./portainer/components/code-editor/code-editor.js\":1752,\"./portainer/components/code-editor/codeEditorController.js\":1754,\"./portainer/components/copy-button/copy-button.controller.js\":629,\"./portainer/components/copy-button/copy-button.js\":2099,\"./portainer/components/custom-template-common-fields/customTemplateCommonFieldsController.js\":630,\"./portainer/components/custom-template-common-fields/index.js\":1756,\"./portainer/components/custom-template-selector/custom-template-selector.controller.js\":631,\"./portainer/components/custom-template-selector/index.js\":1758,\"./portainer/components/custom-templates-list/customTemplatesListController.js\":1760,\"./portainer/components/custom-templates-list/index.js\":1761,\"./portainer/components/datatables/access-tokens-datatable/access-tokens-datatable.controller.js\":632,\"./portainer/components/datatables/access-tokens-datatable/index.js\":1763,\"./portainer/components/datatables/datatable-columns-visibility/datatable-columns-visibility.controller.js\":633,\"./portainer/components/datatables/datatable-columns-visibility/index.js\":1765,\"./portainer/components/datatables/endpoints-datatable/endpointsDatatable.js\":1767,\"./portainer/components/datatables/endpoints-datatable/endpointsDatatableController.js\":1769,\"./portainer/components/datatables/filter/datatable-filter.controller.js\":634,\"./portainer/components/datatables/filter/index.js\":635,\"./portainer/components/datatables/genericDatatableController.js\":1771,\"./portainer/components/datatables/groups-datatable/groupsDatatable.js\":1773,\"./portainer/components/datatables/index.js\":1775,\"./portainer/components/datatables/pagination/index.js\":640,\"./portainer/components/datatables/registries-datatable/registriesDatatable.js\":1781,\"./portainer/components/datatables/registries-datatable/registriesDatatableController.js\":1783,\"./portainer/components/datatables/searchbar/index.js\":637,\"./portainer/components/datatables/sort-icon/datatable-sort-icon.controller.js\":639,\"./portainer/components/datatables/sort-icon/index.js\":638,\"./portainer/components/datatables/stacks-datatable/stacksDatatable.js\":1784,\"./portainer/components/datatables/stacks-datatable/stacksDatatableController.js\":1786,\"./portainer/components/datatables/strings-datatable/index.js\":1787,\"./portainer/components/datatables/tags-datatable/tagsDatatable.js\":1789,\"./portainer/components/datatables/teams-datatable/teamsDatatable.js\":1791,\"./portainer/components/datatables/titlebar/index.js\":636,\"./portainer/components/datatables/users-datatable/usersDatatable.js\":1793,\"./portainer/components/datatables/users-datatable/usersDatatableController.js\":641,\"./portainer/components/endpoint-list/endpoint-item/endpoint-item-controller.js\":642,\"./portainer/components/endpoint-list/endpoint-item/endpointItem.js\":1799,\"./portainer/components/endpoint-list/endpoint-list-controller.js\":1804,\"./portainer/components/endpoint-list/endpoint-list.js\":1805,\"./portainer/components/endpoint-selector/endpoint-selector.js\":1807,\"./portainer/components/endpoint-selector/endpointSelectorController.js\":1809,\"./portainer/components/endpointSecurity/por-endpoint-security.js\":1810,\"./portainer/components/endpointSecurity/porEndpointSecurityController.js\":1812,\"./portainer/components/endpointSecurity/porEndpointSecurityModel.js\":199,\"./portainer/components/environment-variables-panel/environment-variables-panel.controller.js\":643,\"./portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode-item/environment-variables-simple-mode-item.controller.js\":644,\"./portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode-item/index.js\":1813,\"./portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode.controller.js\":645,\"./portainer/components/environment-variables-panel/environment-variables-simple-mode/index.js\":2100,\"./portainer/components/environment-variables-panel/index.js\":2101,\"./portainer/components/focusIf.js\":1817,\"./portainer/components/form-components/file-upload-form/index.js\":494,\"./portainer/components/form-components/index.js\":491,\"./portainer/components/form-components/web-editor-form/index.js\":492,\"./portainer/components/form-components/web-editor-form/web-editor-form.controller.js\":493,\"./portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-file-item/git-form-additional-file-item.controller.js\":481,\"./portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-file-item/index.js\":480,\"./portainer/components/forms/git-form/git-form-additional-files-panel/git-form-additional-files-panel.controller.js\":479,\"./portainer/components/forms/git-form/git-form-additional-files-panel/index.js\":478,\"./portainer/components/forms/git-form/git-form-auth-fieldset/git-form-auth-fieldset.controller.js\":477,\"./portainer/components/forms/git-form/git-form-auth-fieldset/index.js\":676,\"./portainer/components/forms/git-form/git-form-auto-update-fieldset/git-form-auto-update-fieldset.controller.js\":483,\"./portainer/components/forms/git-form/git-form-auto-update-fieldset/index.js\":482,\"./portainer/components/forms/git-form/git-form-compose-path-field/index.js\":484,\"./portainer/components/forms/git-form/git-form-info-panel/index.js\":487,\"./portainer/components/forms/git-form/git-form-ref-field/index.js\":485,\"./portainer/components/forms/git-form/git-form-url-field/index.js\":486,\"./portainer/components/forms/git-form/git-form.controller.js\":476,\"./portainer/components/forms/git-form/git-form.js\":475,\"./portainer/components/forms/git-form/index.js\":474,\"./portainer/components/forms/group-form/group-form.js\":1818,\"./portainer/components/forms/group-form/groupFormController.js\":646,\"./portainer/components/forms/kubernetes-app-git-form/kubernetes-app-git-form.controller.js\":647,\"./portainer/components/forms/kubernetes-app-git-form/kubernetes-app-git-form.js\":1820,\"./portainer/components/forms/kubernetes-redeploy-app-git-form/kubernetes-redeploy-app-git-form.controller.js\":648,\"./portainer/components/forms/kubernetes-redeploy-app-git-form/kubernetes-redeploy-app-git-form.js\":1822,\"./portainer/components/forms/por-switch-field/por-switch-field.js\":1824,\"./portainer/components/forms/por-switch/por-switch.controller.js\":649,\"./portainer/components/forms/por-switch/por-switch.js\":2102,\"./portainer/components/forms/registry-form-aws-ecr/registry-form-ecr.js\":1827,\"./portainer/components/forms/registry-form-azure/registry-form-azure.js\":1829,\"./portainer/components/forms/registry-form-custom/registry-form-custom.js\":1831,\"./portainer/components/forms/registry-form-dockerhub/registry-form-dockerhub.js\":1833,\"./portainer/components/forms/registry-form-gitlab/gitlab-projects-datatable/gitlabProjectsDatatable.js\":1835,\"./portainer/components/forms/registry-form-gitlab/gitlab-projects-datatable/gitlabProjectsDatatableController.js\":1837,\"./portainer/components/forms/registry-form-gitlab/registry-form-gitlab.js\":1838,\"./portainer/components/forms/registry-form-proget/registry-form-proget.js\":1840,\"./portainer/components/forms/registry-form-quay/registry-form-quay.js\":1842,\"./portainer/components/forms/stack-from-template-form/index.js\":1844,\"./portainer/components/forms/stack-redeploy-git-form/index.js\":1846,\"./portainer/components/forms/stack-redeploy-git-form/stack-redeploy-git-form.controller.js\":650,\"./portainer/components/group-association-table/group-association-table.js\":1848,\"./portainer/components/header-content.js\":1850,\"./portainer/components/header-title.js\":1851,\"./portainer/components/header.js\":1852,\"./portainer/components/index.js\":671,\"./portainer/components/information-panel-offline/informationPanelOffline.js\":1853,\"./portainer/components/information-panel-offline/informationPanelOfflineController.js\":1855,\"./portainer/components/information-panel/information-panel.js\":1856,\"./portainer/components/intervalFormat.js\":1858,\"./portainer/components/motd-panel/motd-panel.js\":1859,\"./portainer/components/onEnterKey.js\":1861,\"./portainer/components/product-list/product-item/product-item.js\":1862,\"./portainer/components/product-list/product-list.js\":1866,\"./portainer/components/registry-details/index.js\":1868,\"./portainer/components/sensitive-details/sensitive-details.js\":2103,\"./portainer/components/show-hide/show-hide.js\":1871,\"./portainer/components/sidebar/index.js\":673,\"./portainer/components/sidebar/sidebar-menu-item/index.js\":675,\"./portainer/components/sidebar/sidebar-menu/index.js\":674,\"./portainer/components/sidebar/sidebar-menu/sidebar-menu.controller.js\":472,\"./portainer/components/sidebar/sidebar-section/index.js\":473,\"./portainer/components/slider/slider.js\":1873,\"./portainer/components/slider/sliderController.js\":1875,\"./portainer/components/stack-duplication-form/stack-duplication-form-controller.js\":1876,\"./portainer/components/stack-duplication-form/stack-duplication-form.js\":1877,\"./portainer/components/status-indicator/index.js\":2104,\"./portainer/components/tag-selector/tag-selector.js\":1880,\"./portainer/components/tag-selector/tagSelectorController.js\":1882,\"./portainer/components/template-list/template-item/template-item.js\":2105,\"./portainer/components/template-list/template-list-controller.js\":1884,\"./portainer/components/template-list/template-list.js\":1885,\"./portainer/components/template-widget.js\":1887,\"./portainer/components/theme/theme-settings.controller.js\":651,\"./portainer/components/theme/theme-settings.js\":1888,\"./portainer/error.js\":11,\"./portainer/feature-flags/enums.js\":65,\"./portainer/feature-flags/feature-flags.service.js\":536,\"./portainer/feature-flags/feature-ids.js\":19,\"./portainer/feature-flags/index.js\":680,\"./portainer/feature-flags/limited-feature.directive.js\":535,\"./portainer/filters/filters.js\":93,\"./portainer/filters/index.js\":1890,\"./portainer/helpers/endpointHelper.js\":148,\"./portainer/helpers/env-vars.js\":110,\"./portainer/helpers/formHelper.js\":1891,\"./portainer/helpers/genericHelper.js\":652,\"./portainer/helpers/networkHelper.js\":1892,\"./portainer/helpers/resourceControlHelper.js\":1893,\"./portainer/helpers/stackHelper.js\":1894,\"./portainer/helpers/tagHelper.js\":295,\"./portainer/helpers/templateHelper.js\":1895,\"./portainer/helpers/urlHelper.js\":1896,\"./portainer/helpers/userHelper.js\":1897,\"./portainer/helpers/webhookHelper.js\":1898,\"./portainer/interceptors/endpointStatusInterceptor.js\":1899,\"./portainer/models/access.js\":111,\"./portainer/models/dockerhub.js\":168,\"./portainer/models/endpoint/formValues.js\":401,\"./portainer/models/endpoint/models.js\":15,\"./portainer/models/gitlabRegistry.js\":653,\"./portainer/models/group.js\":232,\"./portainer/models/motd.js\":654,\"./portainer/models/registry.js\":207,\"./portainer/models/registryRepository.js\":655,\"./portainer/models/registryTypes.js\":30,\"./portainer/models/resourceControl/resourceControl.js\":70,\"./portainer/models/resourceControl/resourceControlCreatePayload.js\":1900,\"./portainer/models/resourceControl/resourceControlOwnership.js\":29,\"./portainer/models/resourceControl/resourceControlOwnershipParameters.js\":268,\"./portainer/models/resourceControl/resourceControlTypes.js\":156,\"./portainer/models/resourceControl/resourceControlUpdatePayload.js\":1901,\"./portainer/models/schedule.js\":299,\"./portainer/models/settings.js\":402,\"./portainer/models/stack.js\":174,\"./portainer/models/status.js\":403,\"./portainer/models/tag.js\":404,\"./portainer/models/team.js\":405,\"./portainer/models/teamMembership.js\":221,\"./portainer/models/template.js\":656,\"./portainer/models/user.js\":309,\"./portainer/models/webhook.js\":657,\"./portainer/oauth/__module.js\":1902,\"./portainer/oauth/components/oauth-providers-selector/index.js\":1903,\"./portainer/oauth/components/oauth-providers-selector/oauth-provider-selector.controller.js\":658,\"./portainer/oauth/components/oauth-settings/index.js\":1905,\"./portainer/oauth/components/oauth-settings/oauth-settings.controller.js\":659,\"./portainer/oauth/components/oauth-settings/providers.js\":406,\"./portainer/oauth/services/rest/oauth.js\":1907,\"./portainer/rbac/components/access-viewer/access-viewer-datatable/index.js\":468,\"./portainer/rbac/components/access-viewer/access-viewer.controller.js\":467,\"./portainer/rbac/components/access-viewer/index.js\":466,\"./portainer/rbac/components/roles-datatable/index.js\":672,\"./portainer/rbac/components/roles-datatable/roles-datatable.controller.js\":469,\"./portainer/rbac/index.js\":736,\"./portainer/rbac/models/access.js\":262,\"./portainer/rbac/models/role.js\":101,\"./portainer/rbac/services/role.rest.js\":471,\"./portainer/rbac/services/role.service.js\":470,\"./portainer/rbac/views/roles/index.js\":464,\"./portainer/rbac/views/roles/roles.controller.js\":465,\"./portainer/rest/auth.js\":1908,\"./portainer/rest/backup.js\":1909,\"./portainer/rest/customTemplate.js\":1910,\"./portainer/rest/endpoint.js\":1911,\"./portainer/rest/gitlab.js\":1912,\"./portainer/rest/group.js\":1913,\"./portainer/rest/legacyExtension.js\":1914,\"./portainer/rest/motd.js\":1915,\"./portainer/rest/registry.js\":1916,\"./portainer/rest/resourceControl.js\":1917,\"./portainer/rest/settings.js\":1918,\"./portainer/rest/ssl.js\":1919,\"./portainer/rest/stack.js\":1920,\"./portainer/rest/status.js\":1921,\"./portainer/rest/support.js\":1922,\"./portainer/rest/tag.js\":1923,\"./portainer/rest/team.js\":1924,\"./portainer/rest/teamMembership.js\":1925,\"./portainer/rest/template.js\":1926,\"./portainer/rest/transform/getEndpointsTotalCount.js\":660,\"./portainer/rest/transform/gitlabResponseGetLink.js\":407,\"./portainer/rest/user.js\":1927,\"./portainer/rest/webhooks.js\":1928,\"./portainer/services/allSettled.js\":294,\"./portainer/services/api/accessService.js\":1929,\"./portainer/services/api/backupService.js\":1930,\"./portainer/services/api/customTemplate.js\":1931,\"./portainer/services/api/dockerhubService.js\":1932,\"./portainer/services/api/endpointService.js\":1933,\"./portainer/services/api/groupService.js\":1934,\"./portainer/services/api/legacyExtensionService.js\":1935,\"./portainer/services/api/motdService.js\":1936,\"./portainer/services/api/registryService.js\":1937,\"./portainer/services/api/resourceControlService.js\":1938,\"./portainer/services/api/settingsService.js\":1939,\"./portainer/services/api/sslService.js\":1940,\"./portainer/services/api/stackService.js\":1941,\"./portainer/services/api/statusService.js\":1942,\"./portainer/services/api/supportService.js\":1943,\"./portainer/services/api/tagService.js\":1944,\"./portainer/services/api/teamMembershipService.js\":1945,\"./portainer/services/api/teamService.js\":1946,\"./portainer/services/api/templateService.js\":1947,\"./portainer/services/api/userService.js\":1948,\"./portainer/services/api/webhookService.js\":1949,\"./portainer/services/async.js\":1950,\"./portainer/services/authentication.js\":1951,\"./portainer/services/chartService.js\":1952,\"./portainer/services/codeMirror.js\":1953,\"./portainer/services/datatableService.js\":1979,\"./portainer/services/endpointProvider.js\":1980,\"./portainer/services/fileUpload.js\":1981,\"./portainer/services/formValidator.js\":1982,\"./portainer/services/httpRequestHelper.js\":1983,\"./portainer/services/legacyExtensionManager.js\":1984,\"./portainer/services/localStorage.js\":1985,\"./portainer/services/modalService.js\":1986,\"./portainer/services/nameValidator.js\":1987,\"./portainer/services/notifications.js\":1988,\"./portainer/services/pagination.js\":1989,\"./portainer/services/registryGitlabService.js\":1990,\"./portainer/services/registryModalService.js\":1991,\"./portainer/services/session-storage.js\":260,\"./portainer/services/stateManager.js\":1992,\"./portainer/services/terminal-window.js\":1993,\"./portainer/services/themeManager.js\":1994,\"./portainer/settings/authentication/auth-method-constants.js\":263,\"./portainer/settings/authentication/auth-type-constants.js\":210,\"./portainer/settings/authentication/auto-user-provision-toggle/index.js\":529,\"./portainer/settings/authentication/index.js\":496,\"./portainer/settings/authentication/internal-auth/index.js\":531,\"./portainer/settings/authentication/ldap/ad-settings/ad-settings.controller.js\":499,\"./portainer/settings/authentication/ldap/ad-settings/index.js\":498,\"./portainer/settings/authentication/ldap/index.js\":497,\"./portainer/settings/authentication/ldap/ldap-connectivity-check/index.js\":505,\"./portainer/settings/authentication/ldap/ldap-custom-admin-group/index.js\":678,\"./portainer/settings/authentication/ldap/ldap-custom-admin-group/ldap-custom-admin-group.controller.js\":521,\"./portainer/settings/authentication/ldap/ldap-custom-group-search/index.js\":519,\"./portainer/settings/authentication/ldap/ldap-custom-group-search/ldap-custom-group-search.controller.js\":520,\"./portainer/settings/authentication/ldap/ldap-custom-user-search/index.js\":524,\"./portainer/settings/authentication/ldap/ldap-custom-user-search/ldap-custom-user-search.controller.js\":525,\"./portainer/settings/authentication/ldap/ldap-group-search-item/index.js\":509,\"./portainer/settings/authentication/ldap/ldap-group-search-item/ldap-group-search-item.controller.js\":510,\"./portainer/settings/authentication/ldap/ldap-group-search/index.js\":507,\"./portainer/settings/authentication/ldap/ldap-group-search/ldap-group-search.controller.js\":508,\"./portainer/settings/authentication/ldap/ldap-groups-datatable/index.js\":506,\"./portainer/settings/authentication/ldap/ldap-settings-custom/index.js\":677,\"./portainer/settings/authentication/ldap/ldap-settings-custom/ldap-settings-custom.controller.js\":502,\"./portainer/settings/authentication/ldap/ldap-settings-dn-builder/index.js\":515,\"./portainer/settings/authentication/ldap/ldap-settings-dn-builder/ldap-settings-dn-builder.controller.js\":516,\"./portainer/settings/authentication/ldap/ldap-settings-group-dn-builder/index.js\":517,\"./portainer/settings/authentication/ldap/ldap-settings-group-dn-builder/ldap-settings-group-dn-builder.controller.js\":518,\"./portainer/settings/authentication/ldap/ldap-settings-openldap/index.js\":503,\"./portainer/settings/authentication/ldap/ldap-settings-openldap/ldap-settings-openldap.controller.js\":504,\"./portainer/settings/authentication/ldap/ldap-settings-security/index.js\":522,\"./portainer/settings/authentication/ldap/ldap-settings-test-login/index.js\":679,\"./portainer/settings/authentication/ldap/ldap-settings-test-login/ldap-settings-test-login.controller.js\":523,\"./portainer/settings/authentication/ldap/ldap-settings.model.js\":226,\"./portainer/settings/authentication/ldap/ldap-settings/index.js\":500,\"./portainer/settings/authentication/ldap/ldap-settings/ldap-settings.controller.js\":501,\"./portainer/settings/authentication/ldap/ldap-user-search-item/index.js\":513,\"./portainer/settings/authentication/ldap/ldap-user-search-item/ldap-user-search-item.controller.js\":514,\"./portainer/settings/authentication/ldap/ldap-user-search/index.js\":511,\"./portainer/settings/authentication/ldap/ldap-user-search/ldap-user-search.controller.js\":512,\"./portainer/settings/authentication/ldap/ldap-users-datatable/index.js\":526,\"./portainer/settings/authentication/ldap/ldap.rest.js\":528,\"./portainer/settings/authentication/ldap/ldap.service.js\":527,\"./portainer/settings/authentication/save-auth-settings-button/index.js\":530,\"./portainer/settings/general/index.js\":532,\"./portainer/settings/general/ssl-certificate/index.js\":533,\"./portainer/settings/general/ssl-certificate/ssl-certificate.controller.js\":534,\"./portainer/settings/index.js\":495,\"./portainer/user-activity/activity-logs-view/activity-logs-datatable/activity-logs-datatable.controller.js\":546,\"./portainer/user-activity/activity-logs-view/activity-logs-datatable/index.js\":681,\"./portainer/user-activity/activity-logs-view/activity-logs-view.controller.js\":545,\"./portainer/user-activity/activity-logs-view/activity-logs-view.js\":544,\"./portainer/user-activity/activity-logs-view/index.js\":543,\"./portainer/user-activity/auth-logs-view/auth-logs-datatable/auth-logs-datatable.controller.js\":542,\"./portainer/user-activity/auth-logs-view/auth-logs-datatable/index.js\":541,\"./portainer/user-activity/auth-logs-view/auth-logs-view.controller.js\":540,\"./portainer/user-activity/auth-logs-view/auth-logs-view.js\":539,\"./portainer/user-activity/auth-logs-view/index.js\":538,\"./portainer/user-activity/index.js\":537,\"./portainer/views/account/accountController.js\":1995,\"./portainer/views/account/create-user-access-token/create-user-access-token.controller.js\":661,\"./portainer/views/account/create-user-access-token/index.js\":1996,\"./portainer/views/auth/authController.js\":1998,\"./portainer/views/custom-templates/create-custom-template-view/createCustomTemplateViewController.js\":662,\"./portainer/views/custom-templates/create-custom-template-view/index.js\":2001,\"./portainer/views/custom-templates/custom-templates-view/customTemplatesViewController.js\":663,\"./portainer/views/custom-templates/custom-templates-view/index.js\":2003,\"./portainer/views/custom-templates/edit-custom-template-view/editCustomTemplateViewController.js\":664,\"./portainer/views/custom-templates/edit-custom-template-view/index.js\":2005,\"./portainer/views/endpoint-registries/registries.js\":2007,\"./portainer/views/endpoint-registries/registriesController.js\":2009,\"./portainer/views/endpoints/access/endpointAccessController.js\":2010,\"./portainer/views/endpoints/create/createEndpointController.js\":2011,\"./portainer/views/endpoints/edit/endpointController.js\":2012,\"./portainer/views/endpoints/endpointsController.js\":2013,\"./portainer/views/endpoints/helpers.js\":163,\"./portainer/views/groups/access/groupAccessController.js\":2014,\"./portainer/views/groups/create/createGroupController.js\":2015,\"./portainer/views/groups/edit/groupController.js\":2016,\"./portainer/views/groups/groupsController.js\":2017,\"./portainer/views/home/homeController.js\":2018,\"./portainer/views/init/admin/initAdminController.js\":2019,\"./portainer/views/init/endpoint/initEndpointController.js\":2020,\"./portainer/views/logout/logoutController.js\":2024,\"./portainer/views/main/mainController.js\":2025,\"./portainer/views/registries/create/createRegistry.js\":2026,\"./portainer/views/registries/create/createRegistryController.js\":665,\"./portainer/views/registries/edit/registryController.js\":2028,\"./portainer/views/registries/registriesController.js\":2029,\"./portainer/views/settings/authentication/settingsAuthenticationController.js\":2030,\"./portainer/views/settings/settingsController.js\":2031,\"./portainer/views/sidebar/sidebarController.js\":2032,\"./portainer/views/stacks/create/createStackController.js\":2033,\"./portainer/views/stacks/edit/stackController.js\":2034,\"./portainer/views/stacks/stacksController.js\":2035,\"./portainer/views/tags/tagsController.js\":2036,\"./portainer/views/teams/edit/teamController.js\":2037,\"./portainer/views/teams/teamsController.js\":2038,\"./portainer/views/templates/templatesController.js\":2039,\"./portainer/views/users/edit/userController.js\":2040,\"./portainer/views/users/usersController.js\":2041,\"./portainer/views/wizard/index.js\":2042,\"./portainer/views/wizard/wizard-endpoints/index.js\":2106,\"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-aci/index.js\":2045,\"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-aci/wizard-aci.controller.js\":668,\"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-docker/index.js\":2047,\"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-docker/wizard-docker.controller.js\":669,\"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-kubernetes/index.js\":2049,\"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-kubernetes/wizard-kubernetes.controller.js\":670,\"./portainer/views/wizard/wizard-endpoints/wizard-endpoint-list/index.js\":2107,\"./portainer/views/wizard/wizard-endpoints/wizard-endpoints.controller.js\":667,\"./portainer/views/wizard/wizard-endpoints/wizard-stepper/index.js\":2108,\"./portainer/views/wizard/wizard-endpoints/wizard-stepper/wizard-endpoint-type/index.js\":2053,\"./portainer/views/wizard/wizard-link/index.js\":2109,\"./portainer/views/wizard/wizard-tls/index.js\":2056,\"./portainer/views/wizard/wizard-view.controller.js\":666,\"./setup-tests.js\":2058,\"./vendors.js\":2059};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=s,e.exports=i,i.id=1037},function(e,t){e.exports=\"test-file-stub\"},function(e,t){e.exports={}},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(547);const r=n(1041);i.a.module(\"portainer.agent\").component(\"fileUploader\",{templateUrl:r,controller:s.FileUploaderController,bindings:{uploadFile:\"<onFileSelected\"}})},function(e,t){var n=\"app/agent/components/file-uploader/fileUploader.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<button type=\"button\" ngf-select=\"$ctrl.onFileSelected($file)\" class=\"btn ng-scope\" button-spinner=\"$ctrl.state.uploadInProgress\">\\n  <i style=\"margin: 0;\" class=\"fa fa-upload\" ng-if=\"!$ctrl.state.uploadInProgress\"></i>\\n</button>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(1043);i.a.module(\"portainer.agent\").component(\"filesDatatable\",{templateUrl:s,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",isRoot:\"<\",goToParent:\"&\",browse:\"&\",rename:\"&\",download:\"&\",delete:\"&\",isUploadAllowed:\"<\",onFileSelectedForUpload:\"<\"}})},function(e,t){var n=\"app/agent/components/files-datatable/filesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"{{ $ctrl.titleIcon }}\" title-text=\"{{ $ctrl.titleText }}\">\\n      <file-uploader authorization=\"DockerAgentBrowsePut\" ng-if=\"$ctrl.isUploadAllowed\" on-file-selected=\"($ctrl.onFileSelectedForUpload)\"> </file-uploader>\\n    </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Size\\')\">\\n                  Size\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Size\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Size\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ModTime\\')\">\\n                  Last modification\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ModTime\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ModTime\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                Actions\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr ng-if=\"!$ctrl.isRoot\">\\n              <td colspan=\"4\">\\n                <a ng-click=\"$ctrl.goToParent()\"><i class=\"fa fa-level-up-alt space-right\"></i>Go to parent</a>\\n              </td>\\n            </tr>\\n            <tr ng-repeat=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder))\">\\n              <td>\\n                <span ng-if=\"item.edit\">\\n                  <input\\n                    class=\"input-sm\"\\n                    type=\"text\"\\n                    ng-model=\"item.newName\"\\n                    on-enter-key=\"$ctrl.rename({ name: item.Name, newName: item.newName }); item.edit = false\"\\n                    auto-focus\\n                  />\\n                  <a class=\"interactive\" ng-click=\"item.edit = false;\"><i class=\"fa fa-times\"></i></a>\\n                  <a class=\"interactive\" ng-click=\"$ctrl.rename({name: item.Name, newName: item.newName}); item.edit = false;\"><i class=\"fa fa-check-square\"></i></a>\\n                </span>\\n                <span ng-if=\"!item.edit && item.Dir\">\\n                  <a ng-click=\"$ctrl.browse({name: item.Name})\"><i class=\"fa fa-folder space-right\" aria-hidden=\"true\"></i>{{ item.Name }}</a>\\n                </span>\\n                <span ng-if=\"!item.edit && !item.Dir\"> <i class=\"fa fa-file space-right\" aria-hidden=\"true\"></i>{{ item.Name }} </span>\\n              </td>\\n              <td>{{ item.Size | humansize }}</td>\\n              <td>\\n                {{ item.ModTime | getisodatefromtimestamp }}\\n              </td>\\n              <td>\\n                <btn authorization=\"DockerAgentBrowseGet\" class=\"btn btn-xs btn-primary space-right\" ng-click=\"$ctrl.download({ name: item.Name })\" ng-if=\"!item.Dir\">\\n                  <i class=\"fa fa-download\" aria-hidden=\"true\"></i> Download\\n                </btn>\\n                <btn authorization=\"DockerAgentBrowseRename\" class=\"btn btn-xs btn-primary space-right\" ng-click=\"item.newName = item.Name; item.edit = true\">\\n                  <i class=\"fa fa-edit\" aria-hidden=\"true\"></i> Rename\\n                </btn>\\n                <btn authorization=\"DockerAgentBrowseDelete\" class=\"btn btn-xs btn-danger\" ng-click=\"$ctrl.delete({ name: item.Name })\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i> Delete\\n                </btn>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No files found.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(548);const r=n(1045);i.a.module(\"portainer.agent\").component(\"hostBrowser\",{controller:s.HostBrowserController,templateUrl:r})},function(e,t){var n=\"app/agent/components/host-browser/hostBrowser.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<files-datatable\\n  title-text=\"Host browser - {{ $ctrl.getRelativePath() }}\"\\n  title-icon=\"fa-file\"\\n  dataset=\"$ctrl.files\"\\n  table-key=\"host_browser\"\\n  order-by=\"Dir\"\\n  is-root=\"$ctrl.isRoot()\"\\n  go-to-parent=\"$ctrl.goToParent()\"\\n  browse=\"$ctrl.browse(name)\"\\n  rename=\"$ctrl.renameFile(name, newName)\"\\n  download=\"$ctrl.downloadFile(name)\"\\n  delete=\"$ctrl.confirmDeleteFile(name)\"\\n  is-upload-allowed=\"true\"\\n  on-file-selected-for-upload=\"($ctrl.onFileSelectedForUpload)\"\\n>\\n</files-datatable>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(549);const r=n(1047);i.a.module(\"portainer.agent\").component(\"nodeSelector\",{templateUrl:r,controller:s.NodeSelectorController,bindings:{model:\"=\"}})},function(e,t){var n=\"app/agent/components/node-selector/nodeSelector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group\">\\n  <label for=\"target_node\" class=\"col-sm-1 control-label text-left\">Node</label>\\n  <div class=\"col-sm-11\">\\n    <select class=\"form-control\" ng-model=\"$ctrl.model\" ng-options=\"agent.NodeName as agent.NodeName for agent in $ctrl.agents\"></select>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(550);const r=n(1049);i.a.module(\"portainer.agent\").component(\"volumeBrowser\",{templateUrl:r,controller:s.VolumeBrowserController,bindings:{volumeId:\"<\",nodeName:\"<\",isUploadEnabled:\"<\"}})},function(e,t){var n=\"app/agent/components/volume-browser/volumeBrowser.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<files-datatable\\n  title-text=\"Volume browser\"\\n  title-icon=\"fa-file\"\\n  dataset=\"$ctrl.files\"\\n  table-key=\"volume_browser\"\\n  order-by=\"Dir\"\\n  is-root=\"$ctrl.state.path === \\'/\\'\"\\n  go-to-parent=\"$ctrl.up()\"\\n  browse=\"$ctrl.browse(name)\"\\n  rename=\"$ctrl.rename(name, newName)\"\\n  download=\"$ctrl.download(name)\"\\n  delete=\"$ctrl.confirmDelete(name)\"\\n  is-upload-allowed=\"$ctrl.isUploadEnabled\"\\n  on-file-selected-for-upload=\"($ctrl.onFileSelectedForUpload)\"\\n></files-datatable>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e,t,n,a){return e(t+\"/:endpointId/docker/v:version/agents\",{endpointId:n.endpointID,version:a.getAgentApiVersion},{query:{method:\"GET\",isArray:!0}})}s.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"StateManager\"],i.a.module(\"portainer.agent\").factory(\"Agent\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(292);function r(e,t,n,a){return e(t+\"/:endpointId/docker/v:version/browse/:action\",{endpointId:n.endpointID,version:a.getAgentApiVersion},{ls:{method:\"GET\",isArray:!0,params:{action:\"ls\"}},get:{method:\"GET\",params:{action:\"get\"},transformResponse:s.browseGetResponse,responseType:\"arraybuffer\"},delete:{method:\"DELETE\",params:{action:\"delete\"}},rename:{method:\"PUT\",params:{action:\"rename\"}}})}r.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"StateManager\"],i.a.module(\"portainer.agent\").factory(\"Browse\",r)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e,t){return e(t+\"/:endpointId/agent/:endpointType/v2/dockerhub/:registryId\",{},{limits:{method:\"GET\",params:{registryId:\"@registryId\"}}})}s.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\"],i.a.module(\"portainer.agent\").factory(\"AgentDockerhub\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e,t,n,a){return e(t+\"/:endpointId/docker/v:version/host/:action\",{endpointId:n.endpointID,version:a.getAgentApiVersion},{info:{method:\"GET\",params:{action:\"info\"}}})}s.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"StateManager\"],i.a.module(\"portainer.agent\").factory(\"Host\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e,t,n,a){return e(t+\"/:endpointId/docker/ping\",{endpointId:n.endpointID},{ping:{method:\"GET\",interceptor:{response:function(e){const t=e.resource,n=e.headers(\"Portainer-Agent-Api-Version\")||1;return t.version=Number(n),t},responseError:function(e){return 404===e.status?{version:1}:a.reject(e)}}}})}s.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"$q\"],i.a.module(\"portainer.agent\").factory(\"AgentPing\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e,t,n){return e(t+\"/:endpointId/docker/agents\",{endpointId:n.endpointID},{query:{method:\"GET\",isArray:!0}})}s.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\"],i.a.module(\"portainer.agent\").factory(\"AgentVersion1\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(292);function r(e,t,n){return e(t+\"/:endpointId/docker/browse/:volumeID/:action\",{endpointId:n.endpointID},{ls:{method:\"GET\",isArray:!0,params:{action:\"ls\"}},get:{method:\"GET\",params:{action:\"get\"},transformResponse:s.browseGetResponse,responseType:\"arraybuffer\"},delete:{method:\"DELETE\",params:{action:\"delete\"}},rename:{method:\"PUT\",params:{action:\"rename\"}}})}r.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\"],i.a.module(\"portainer.agent\").factory(\"BrowseVersion1\",r)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(551);function r(e,t,n,a,i){return{agents:async function(){const n=i.getState().endpoint.agentApiVersion,a=n>1?e:t;try{return(await a.query({version:n}).$promise).map((function(e){return new s.AgentViewModel(e)}))}catch(e){throw{msg:\"Unable to retrieve agents\",err:e}}},hostInfo:function(e){return n.setPortainerAgentTargetHeader(e),a.info().$promise}}}r.$inject=[\"Agent\",\"AgentVersion1\",\"HttpRequestHelper\",\"Host\",\"StateManager\"],i.a.module(\"portainer.agent\").factory(\"AgentService\",r)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e,t,n,a,i){return{ls:function(t){return e.ls({path:t}).$promise},get:function(t){return e.get({path:t}).$promise},delete:function(t){return e.delete({path:t}).$promise},rename:function(t,n){const a={CurrentFilePath:t,NewFilePath:n};return e.rename({},a).$promise},upload:function(e,s,r){const o=i.getAgentApiVersion(),l=`${n}/${a.endpointID()}/docker${o>1?\"/v\"+o:\"\"}/browse/put`;return new Promise((n,a)=>{t.upload({url:l,data:{file:s,Path:e}}).then(n,a,r)})}}}s.$inject=[\"Browse\",\"Upload\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"StateManager\"],i.a.module(\"portainer.agent\").factory(\"HostBrowserService\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e){return{ping:function(){return e.ping().$promise}}}s.$inject=[\"AgentPing\"],i.a.module(\"portainer.agent\").service(\"AgentPingService\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e,t,n,a,i,s){return{ls:function(e,t){return o().ls({volumeID:e,path:t,version:r()}).$promise},get:function(e,t){return o().get({volumeID:e,path:t,version:r()}).$promise},delete:function(e,t){return o().delete({volumeID:e,path:t,version:r()}).$promise},rename:function(e,t,n){const a={CurrentFilePath:t,NewFilePath:n};return o().rename({volumeID:e,version:r()},a).$promise},upload:function(t,n,r,o){const l=e.getAgentApiVersion();if(l<2)throw new Error(\"upload is not supported on this agent version\");const c=`${a}/${i.endpointID()}/docker/v${l}/browse/put?volumeID=${r}`;return new Promise((e,a)=>{s.upload({url:c,data:{file:n,Path:t}}).then(e,a,o)})}};function r(){return e.getState().endpoint.agentApiVersion}function o(){return r()>1?t:n}}s.$inject=[\"StateManager\",\"Browse\",\"BrowseVersion1\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"Upload\"],i.a.module(\"portainer.agent\").factory(\"VolumeBrowserService\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(50),i=n.n(a),s=n(15);angular.module(\"portainer\").run([\"$rootScope\",\"$state\",\"$interval\",\"LocalStorage\",\"EndpointProvider\",\"SystemService\",\"cfpLoadingBar\",\"$transitions\",\"HttpRequestHelper\",function(e,t,n,a,r,o,l,c,d){r.initialize(),e.$state=t,e.defaultTitle=document.title;var u=l.set;l.set=function(e){e>l.status()&&u.apply(l,arguments)},c.onBefore({},(function(){d.resetAgentHeaders()})),n((function(){!function(e,t){let n=e.currentEndpoint();void 0!==n&&n.Type==s.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&t.ping(n.Id)}(r,o)}),6e4),i()(document).ajaxSend((function(e,t,n){const i=\"POST\"===n.type||\"PUT\"===n.type||\"PATCH\"===n.type,s=\"application/json\"!==n.contentType&&n.headers&&!n.headers[\"Content-Type\"];i&&s&&t.setRequestHeader(\"Content-Type\",\"application/json\"),t.setRequestHeader(\"Authorization\",\"Bearer \"+a.getJWT())}))}])},function(e,t,n){const a=n(1063);angular.module(\"portainer.azure\").component(\"azureEndpointConfig\",{bindings:{applicationId:\"=\",tenantId:\"=\",authenticationKey:\"=\"},templateUrl:a})},function(e,t){var n=\"app/azure/components/azure-endpoint-config/azureEndpointConfig.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <div class=\"col-sm-12 form-section-title\">\\n    Azure configuration\\n  </div>\\n  \\x3c!-- applicationId-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"azure_credential_appid\" class=\"col-sm-3 col-lg-2 control-label text-left\">Application ID</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" name=\"azure_credential_appid\" ng-model=\"$ctrl.applicationId\" placeholder=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\" required />\\n    </div>\\n  </div>\\n  \\x3c!-- !applicationId-input --\\x3e\\n  \\x3c!-- tenantId-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"azure_credential_tenantid\" class=\"col-sm-3 col-lg-2 control-label text-left\">Tenant ID</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" name=\"azure_credential_tenantid\" ng-model=\"$ctrl.tenantId\" placeholder=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\" required />\\n    </div>\\n  </div>\\n  \\x3c!-- !tenantId-input --\\x3e\\n  \\x3c!-- authenticationkey-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"azure_credential_authkey\" class=\"col-sm-3 col-lg-2 control-label text-left\">Authentication key</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        name=\"azure_credential_authkey\"\\n        ng-model=\"$ctrl.authenticationKey\"\\n        placeholder=\"cOrXoK/1D35w8YQ8nH1/8ZGwzz45JIYD5jxHKXEQknk=\"\\n        required\\n      />\\n    </div>\\n  </div>\\n  \\x3c!-- !authenticationkey-input --\\x3e\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(1065);i.a.module(\"portainer.azure\").component(\"azureSidebar\",{templateUrl:s,bindings:{endpointId:\"<\"}})},function(e,t){var n=\"app/azure/components/azure-sidebar/azure-sidebar.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<sidebar-menu-item\\n  path=\"azure.dashboard\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-tachometer-alt fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"azureSidebar-dashboard\"\\n>\\n  Dashboard\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"azure.containerinstances\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-cubes fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"azureSidebar-containerInstances\"\\n>\\n  Container instances\\n</sidebar-menu-item>\\n')}]),e.exports=n},function(e,t,n){const a=n(1067);angular.module(\"portainer.azure\").component(\"containergroupsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\"}})},function(e,t){var n=\"app/azure/components/datatables/containergroups-datatable/containerGroupsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"azure.containerinstances.new\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add container\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover table-filters nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Location\\')\">\\n                  Location\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Location\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Location\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                Published Ports\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"azure.containerinstances.container({ id: item.Id })\">{{ item.Name | truncate: 50 }}</a>\\n              </td>\\n              <td>{{ item.Location }}</td>\\n              <td>\\n                <a ng-if=\"item.Ports.length > 0\" ng-repeat=\"p in item.Ports\" class=\"image-tag\" ng-href=\"http://{{ item.IPAddress }}:{{ p.host }}\" target=\"_blank\">\\n                  <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> {{ item.IPAddress }}:{{ p.host }}\\n                </a>\\n                <span ng-if=\"item.Ports.length == 0\">-</span>\\n              </td>\\n              <td>\\n                <span>\\n                  <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No container available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.azure\").factory(\"Azure\",[\"$http\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";var a={delete:function(a,i){var s=t+\"/\"+n.endpointID()+\"/azure\"+a+\"?api-version=\"+i;return e({method:\"DELETE\",url:s})}};return a}])},function(e,t){angular.module(\"portainer.azure\").factory(\"ContainerGroup\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";var a={},i=e(t+\"/:endpointId/azure/subscriptions/:subscriptionId/providers/Microsoft.ContainerInstance/containerGroups\",{endpointId:n.endpointID,\"api-version\":\"2018-04-01\"},{query:{method:\"GET\",params:{subscriptionId:\"@subscriptionId\"}}}),s=e(t+\"/:endpointId/azure/subscriptions/:subscriptionId/resourceGroups/:resourceGroupName/providers/Microsoft.ContainerInstance/containerGroups/:containerGroupName\",{endpointId:n.endpointID,\"api-version\":\"2018-04-01\"},{create:{method:\"PUT\",params:{subscriptionId:\"@subscriptionId\",resourceGroupName:\"@resourceGroupName\",containerGroupName:\"@containerGroupName\"}},get:{method:\"GET\"}});return a.query=i.query,a.create=s.create,a.get=s.get,a}])},function(e,t){angular.module(\"portainer.azure\").factory(\"Location\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/azure/subscriptions/:subscriptionId/locations\",{endpointId:n.endpointID,\"api-version\":\"2016-06-01\"},{query:{method:\"GET\",params:{subscriptionId:\"@subscriptionId\"}}})}])},function(e,t){angular.module(\"portainer.azure\").factory(\"Provider\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/azure/subscriptions/:subscriptionId/providers/:providerNamespace\",{endpointId:n.endpointID,\"api-version\":\"2018-02-01\"},{get:{method:\"GET\",params:{subscriptionId:\"@subscriptionId\",providerNamespace:\"@providerNamespace\"}}})}])},function(e,t){angular.module(\"portainer.azure\").factory(\"ResourceGroup\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/azure/subscriptions/:subscriptionId/resourcegroups/:resourceGroupName\",{endpointId:n.endpointID,\"api-version\":\"2018-02-01\"},{query:{method:\"GET\",params:{subscriptionId:\"@subscriptionId\"}},get:{method:\"GET\"}})}])},function(e,t){angular.module(\"portainer.azure\").factory(\"Subscription\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/azure/subscriptions/:id\",{endpointId:n.endpointID,\"api-version\":\"2016-06-01\"},{query:{method:\"GET\"},get:{method:\"GET\",params:{id:\"@id\"}}})}])},function(e,t){angular.module(\"portainer.azure\").factory(\"AzureService\",[\"$q\",\"Azure\",\"SubscriptionService\",\"ResourceGroupService\",\"ContainerGroupService\",\"ProviderService\",function(e,t,n,a,i,s){\"use strict\";var r={};function o(t,n){for(var a=e.defer(),i={},s=[],r=0;r<t.length;r++){var o=t[r];s.push(n(o.Id))}return e.all(s).then((function(e){for(var n=0;n<e.length;n++){var s=e[n];i[t[n].Id]=s}a.resolve(i)})).catch((function(e){a.reject({msg:\"Unable to retrieve resources\",err:e})})),a.promise}return r.deleteContainerGroup=function(e){return t.delete(e,\"2018-04-01\")},r.createContainerGroup=function(e,t,n){return i.create(e,t,n)},r.subscriptions=function(){return n.subscriptions()},r.containerInstanceProvider=function(e){return o(e,s.containerInstanceProvider)},r.resourceGroups=function(e){return o(e,a.resourceGroups)},r.containerGroups=function(e){return o(e,i.containerGroups)},r.aggregate=function(e){var t=[];return Object.keys(e).forEach((function(n){t=t.concat(e[n])})),t},r}])},function(e,t,n){\"use strict\";n.r(t);var a=n(227);angular.module(\"portainer.azure\").factory(\"ContainerGroupService\",[\"$q\",\"ContainerGroup\",function(e,t){var n={};return n.containerGroups=function(n){var i=e.defer();return t.query({subscriptionId:n}).$promise.then((function(e){var t=e.value.map((function(e){return new a.ContainerGroupViewModel(e)}));i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve container groups\",err:e})})),i.promise},n.containerGroup=async function(e,n,i){const s=await t.get({subscriptionId:e,resourceGroupName:n,containerGroupName:i}).$promise;return new a.ContainerGroupViewModel(s)},n.create=function(e,n,i){var s=new a.CreateContainerGroupRequest(e);return t.create({subscriptionId:n,resourceGroupName:i,containerGroupName:e.Name},s).$promise},n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(552);angular.module(\"portainer.azure\").factory(\"LocationService\",[\"$q\",\"Location\",function(e,t){var n={locations:function(n){var i=e.defer();return t.query({subscriptionId:n}).$promise.then((function(e){var t=e.value.map((function(e){return new a.LocationViewModel(e)}));i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve locations\",err:e})})),i.promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(553);angular.module(\"portainer.azure\").factory(\"ProviderService\",[\"$q\",\"Provider\",function(e,t){var n={containerInstanceProvider:function(n){var i=e.defer();return t.get({subscriptionId:n,providerNamespace:\"Microsoft.ContainerInstance\"}).$promise.then((function(e){var t=new a.ContainerInstanceProviderViewModel(e);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve provider\",err:e})})),i.promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(370);angular.module(\"portainer.azure\").factory(\"ResourceGroupService\",[\"$q\",\"ResourceGroup\",function(e,t){var n={};return n.resourceGroups=function(n){var i=e.defer();return t.query({subscriptionId:n}).$promise.then((function(e){var t=e.value.map((function(e){return new a.ResourceGroupViewModel(e,n)}));i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve resource groups\",err:e})})),i.promise},n.resourceGroup=async function(e,n){const i=await t.get({subscriptionId:e,resourceGroupName:n}).$promise;return new a.ResourceGroupViewModel(i)},n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(371);angular.module(\"portainer.azure\").factory(\"SubscriptionService\",[\"$q\",\"Subscription\",function(e,t){var n={};return n.subscriptions=function(){var n=e.defer();return t.query({}).$promise.then((function(e){var t=e.value.map((function(e){return new a.SubscriptionViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve subscriptions\",err:e})})),n.promise},n.subscription=async function(e){const n=await t.get({id:e}).$promise;return new a.SubscriptionViewModel(n)},n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(554);const i=n(1081);angular.module(\"portainer.azure\").component(\"containerInstanceDetails\",{templateUrl:i,controller:a.default})},function(e,t){var n=\"app/azure/views/containerinstances/container-instance-details/containerInstanceDetails.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Container Instance\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"azure.containerinstances\">Container instances</a> &gt; {{ $ctrl.container.Name }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"!$ctrl.state.loading\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <div class=\"form-horizontal\" autocomplete=\"off\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Azure settings\\n          </div>\\n          \\x3c!-- subscription-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"azure_subscription\" class=\"col-sm-2 control-label text-left\">Subscription</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.subscription.Name\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !subscription-input --\\x3e\\n          \\x3c!-- resourcegroup-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"azure_resourcegroup\" class=\"col-sm-2 control-label text-left\">Resource group</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.resourceGroup.Name\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !resourcegroup-input --\\x3e\\n          \\x3c!-- location-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"azure_location\" class=\"col-sm-2 control-label text-left\">Location</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.Location\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !location-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Container configuration\\n          </div>\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_name\" class=\"col-sm-2 control-label text-left\">Name</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.Name\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- image-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"image_name\" class=\"col-sm-2 control-label text-left\">Image</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.Image\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !image-input --\\x3e\\n          \\x3c!-- os-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_os\" class=\"col-sm-2 control-label text-left\">OS</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.OSType\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !os-input --\\x3e\\n          \\x3c!-- port-mapping --\\x3e\\n          <div class=\"form-group\" ng-if=\"$ctrl.container.Ports.length > 0\">\\n            <div class=\"col-sm-12\">\\n              <label class=\"control-label text-left\">Port mapping</label>\\n            </div>\\n            \\x3c!-- port-mapping-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n              <div ng-repeat=\"binding in $ctrl.container.Ports\" style=\"margin-top: 2px;\">\\n                \\x3c!-- host-port --\\x3e\\n                <div class=\"input-group col-sm-4 input-group-sm\">\\n                  <span class=\"input-group-addon\">host</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"binding.host\" placeholder=\"e.g. 80\" disabled />\\n                </div>\\n                \\x3c!-- !host-port --\\x3e\\n                <span style=\"margin: 0 10px 0 10px;\">\\n                  <i class=\"fa fa-long-arrow-alt-right\" aria-hidden=\"true\"></i>\\n                </span>\\n                \\x3c!-- container-port --\\x3e\\n                <div class=\"input-group col-sm-4 input-group-sm\">\\n                  <span class=\"input-group-addon\">container</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"binding.container\" placeholder=\"e.g. 80\" disabled />\\n                </div>\\n                \\x3c!-- !container-port --\\x3e\\n                \\x3c!-- protocol-actions --\\x3e\\n                <div class=\"input-group col-sm-3 input-group-sm\">\\n                  <div class=\"btn-group btn-group-sm\">\\n                    <label class=\"btn btn-primary\" ng-model=\"binding.protocol\" uib-btn-radio=\"\\'TCP\\'\" disabled>TCP</label>\\n                    <label class=\"btn btn-primary\" ng-model=\"binding.protocol\" uib-btn-radio=\"\\'UDP\\'\" disabled>UDP</label>\\n                  </div>\\n                </div>\\n                \\x3c!-- !protocol-actions --\\x3e\\n              </div>\\n            </div>\\n            \\x3c!-- !port-mapping-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !port-mapping --\\x3e\\n          \\x3c!-- public-ip --\\x3e\\n          <div class=\"form-group\" ng-if=\"$ctrl.container.AllocatePublicIP\">\\n            <label for=\"public_ip\" class=\"col-sm-2 control-label text-left\">\\n              Public IP\\n            </label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.IPAddress\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- public-ip --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Container resources\\n          </div>\\n          \\x3c!-- cpu-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_cpu\" class=\"col-sm-2 control-label text-left\">CPU</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.CPU\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !cpu-input --\\x3e\\n          \\x3c!-- memory-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"container_memory\" class=\"col-sm-2 control-label text-left\">Memory</label>\\n            <div class=\"col-sm-10\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.container.Memory\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !memory-input --\\x3e\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n  \\x3c!-- access-control-panel --\\x3e\\n  <por-access-control-panel ng-if=\"$ctrl.container\" resource-id=\"$ctrl.container.Id\" resource-control=\"$ctrl.container.ResourceControl\" resource-type=\"\\'container-group\\'\">\\n  </por-access-control-panel>\\n  \\x3c!-- !access-control-panel --\\x3e\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.azure\").controller(\"AzureContainerInstancesController\",[\"$scope\",\"$state\",\"AzureService\",\"Notifications\",function(e,t,n,a){e.deleteAction=function(i){var s=i.length;angular.forEach(i,(function(i){n.deleteContainerGroup(i.Id).then((function(){a.success(\"Container group successfully removed\",i.Name);var t=e.containerGroups.indexOf(i);e.containerGroups.splice(t,1)})).catch((function(e){a.error(\"Failure\",e,\"Unable to remove container group\")})).finally((function(){0===--s&&t.reload()}))}))},n.subscriptions().then((function(e){var t=e;return n.containerGroups(t)})).then((function(t){e.containerGroups=n.aggregate(t)})).catch((function(e){a.error(\"Failure\",e,\"Unable to load container groups\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(227);angular.module(\"portainer.azure\").controller(\"AzureCreateContainerInstanceController\",[\"$q\",\"$scope\",\"$state\",\"AzureService\",\"Notifications\",\"Authentication\",\"ResourceControlService\",\"FormValidator\",function(e,t,n,i,s,r,o,l){var c=[],d=[];function u(e){const n=r.getUserDetails().ID,a=e.Portainer.ResourceControl,i=t.model.AccessControlData;return o.applyResourceControl(n,i,a)}function p(e,n,a){t.state.selectedResourceGroup=n[e.Id][0],t.resourceGroups=n[e.Id];var i=a[e.Id].Locations;t.model.Location=i[0],t.locations=i}t.state={actionInProgress:!1,selectedSubscription:null,selectedResourceGroup:null,formValidationError:\"\"},t.changeSubscription=function(){p(t.state.selectedSubscription,c,d)},t.addPortBinding=function(){t.model.Ports.push({host:\"\",container:\"\",protocol:\"TCP\"})},t.removePortBinding=function(e){t.model.Ports.splice(e,1)},t.create=function(){var e=t.model,a=t.state.selectedSubscription.Id,o=t.state.selectedResourceGroup.Name;if(t.state.formValidationError=function(e){if(!e.Ports||!e.Ports.length||e.Ports.every(e=>!e.host||!e.container))return\"At least one port binding is required\";const t=l.validateAccessControl(e.AccessControlData,r.isAdmin());if(\"\"!==t)return t;return null}(e),t.state.formValidationError)return!1;t.state.actionInProgress=!0,i.createContainerGroup(e,a,o).then(u).then(()=>{s.success(\"Container successfully created\",e.Name),n.go(\"azure.containerinstances\")}).catch((function(e){s.error(\"Failure\",e,\"Unable to create container\")})).finally((function(){t.state.actionInProgress=!1}))},t.model=new a.ContainerGroupDefaultModel,i.subscriptions().then((function(n){var a=n;return t.state.selectedSubscription=a[0],t.subscriptions=a,e.all({resourceGroups:i.resourceGroups(a),containerInstancesProviders:i.containerInstanceProvider(a)})})).then((function(e){var n=e.resourceGroups;c=n;var a=e.containerInstancesProviders;d=a,p(t.state.selectedSubscription,n,a)})).catch((function(e){s.error(\"Failure\",e,\"Unable to retrieve Azure resources\")}))}])},function(e,t){angular.module(\"portainer.azure\").controller(\"AzureDashboardController\",[\"$scope\",\"AzureService\",\"Notifications\",function(e,t,n){t.subscriptions().then((function(n){var a=n;return e.subscriptions=a,t.resourceGroups(a)})).then((function(n){e.resourceGroups=t.aggregate(n)})).catch((function(e){n.error(\"Failure\",e,\"Unable to load dashboard data\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(264),i=n.n(a),s=n(167),r=n(372);angular.module(\"portainer\").config([\"$urlRouterProvider\",\"$httpProvider\",\"localStorageServiceProvider\",\"jwtOptionsProvider\",\"$uibTooltipProvider\",\"$compileProvider\",\"cfpLoadingBarProvider\",function(e,t,n,a,o,l,c){n.setPrefix(\"portainer\"),a.config({tokenGetter:[\"LocalStorage\",function(e){return e.getJWT()}]}),t.interceptors.push(\"jwtInterceptor\"),t.interceptors.push(\"EndpointStatusInterceptor\"),t.defaults.headers.post[\"Content-Type\"]=\"application/json\",t.defaults.headers.put[\"Content-Type\"]=\"application/json\",t.defaults.headers.patch[\"Content-Type\"]=\"application/json\",t.interceptors.push([\"HttpRequestHelper\",function(e){return{request:function(t){return t.url.indexOf(\"/docker/\")>-1&&(t.headers[\"X-PortainerAgent-Target\"]=e.portainerAgentTargetHeader(),e.portainerAgentManagerOperation()&&(t.headers[\"X-PortainerAgent-ManagerOperation\"]=\"1\")),t}}}]),i.a.options={timeOut:3e3,closeButton:!0,progressBar:!0,tapToDismiss:!1},s.Terminal.applyAddon(r),o.setTriggers({mouseenter:\"mouseleave\",click:\"click\",focus:\"blur\",outsideClick:\"outsideClick\"}),c.includeSpinner=!1,c.parentSelector=\"#loadingbar-placeholder\",c.latencyThreshold=600,e.otherwise(\"/auth\")}])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){const a=n(1124);angular.module(\"portainer.docker\").component(\"containerCapabilities\",{templateUrl:a,bindings:{capabilities:\"=\"}})},function(e,t){var n=\"app/docker/components/container-capabilities/containerCapabilities.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Container capabilities\\n  </div>\\n  <div class=\"form-group\">\\n    <div ng-repeat=\"cap in $ctrl.capabilities\" class=\"col-xs-12 col-sm-6 col-md-4\">\\n      <div class=\"row\">\\n        <div class=\"col-xs-8\">\\n          <label for=\"capability\" class=\"control-label text-left\" style=\"display: flex; padding: 0;\">\\n            {{ cap.capability }}\\n            <portainer-tooltip position=\"bottom\" message=\"{{ cap.description }}\"></portainer-tooltip>\\n          </label>\\n        </div>\\n        <div class=\"col-xs-4\">\\n          <label class=\"switch\"> <input type=\"checkbox\" name=\"capability\" ng-model=\"cap.allowed\" /><i></i> </label>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</form>\\n')}]),e.exports=n},function(e,t,n){const a=n(1126);angular.module(\"portainer.docker\").component(\"containerQuickActions\",{templateUrl:a,bindings:{containerId:\"<\",nodeName:\"<\",status:\"<\",state:\"<\",taskId:\"<\"}})},function(e,t){var n=\"app/docker/components/container-quick-actions/containerQuickActions.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"btn-group btn-group-xs\" role=\"group\" aria-label=\"...\" style=\"display: inline-flex;\">\\n  <a\\n    authorization=\"DockerContainerLogs\"\\n    ng-if=\"$ctrl.state.showQuickActionLogs && $ctrl.taskId === undefined\"\\n    style=\"margin: 0 2.5px;\"\\n    ui-sref=\"docker.containers.container.logs({id: $ctrl.containerId, nodeName: $ctrl.nodeName})\"\\n    title=\"Logs\"\\n  >\\n    <i class=\"fa fa-file-alt space-right\" aria-hidden=\"true\"></i>\\n  </a>\\n  <a\\n    authorization=\"DockerTaskLogs\"\\n    ng-if=\"$ctrl.state.showQuickActionLogs && $ctrl.taskId !== undefined\"\\n    style=\"margin: 0 2.5px;\"\\n    ui-sref=\"docker.tasks.task.logs({id: $ctrl.taskId})\"\\n    title=\"Logs\"\\n  >\\n    <i class=\"fa fa-file-alt space-right\" aria-hidden=\"true\"></i>\\n  </a>\\n  <a\\n    authorization=\"DockerContainerInspect\"\\n    ng-if=\"$ctrl.state.showQuickActionInspect && $ctrl.taskId === undefined\"\\n    style=\"margin: 0 2.5px;\"\\n    ui-sref=\"docker.containers.container.inspect({id: $ctrl.containerId, nodeName: $ctrl.nodeName})\"\\n    title=\"Inspect\"\\n  >\\n    <i class=\"fa fa-info-circle space-right\" aria-hidden=\"true\"></i>\\n  </a>\\n  <a\\n    authorization=\"DockerTaskInspect\"\\n    ng-if=\"$ctrl.state.showQuickActionInspect && $ctrl.taskId !== undefined\"\\n    style=\"margin: 0 2.5px;\"\\n    ui-sref=\"docker.tasks.task({id: $ctrl.taskId})\"\\n    title=\"Inspect\"\\n  >\\n    <i class=\"fa fa-info-circle space-right\" aria-hidden=\"true\"></i>\\n  </a>\\n  <a\\n    authorization=\"DockerContainerStats\"\\n    ng-if=\"$ctrl.state.showQuickActionStats && [\\'starting\\', \\'running\\', \\'healthy\\', \\'unhealthy\\'].indexOf($ctrl.status) !== -1 && $ctrl.taskId === undefined\"\\n    style=\"margin: 0 2.5px;\"\\n    ui-sref=\"docker.containers.container.stats({id: $ctrl.containerId, nodeName: $ctrl.nodeName})\"\\n    title=\"Stats\"\\n  >\\n    <i class=\"fa fa-chart-area space-right\" aria-hidden=\"true\"></i>\\n  </a>\\n  <a\\n    authorization=\"DockerExecStart\"\\n    ng-if=\"$ctrl.state.showQuickActionExec && [\\'starting\\', \\'running\\', \\'healthy\\', \\'unhealthy\\'].indexOf($ctrl.status) !== -1 && $ctrl.taskId === undefined\"\\n    style=\"margin: 0 2.5px;\"\\n    ui-sref=\"docker.containers.container.exec({id: $ctrl.containerId, nodeName: $ctrl.nodeName})\"\\n    title=\"Exec Console\"\\n  >\\n    <i class=\"fa fa-terminal space-right\" aria-hidden=\"true\"></i>\\n  </a>\\n  <a\\n    authorization=\"DockerContainerAttach\"\\n    ng-if=\"$ctrl.state.showQuickActionAttach && [\\'starting\\', \\'running\\', \\'healthy\\', \\'unhealthy\\'].indexOf($ctrl.status) !== -1 && $ctrl.taskId === undefined\"\\n    style=\"margin: 0 2.5px;\"\\n    ui-sref=\"docker.containers.container.attach({id: $ctrl.containerId, nodeName: $ctrl.nodeName})\"\\n    title=\"Attach Console\"\\n  >\\n    <i class=\"fa fa-plug space-right\" aria-hidden=\"true\"></i>\\n  </a>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"ContainerRestartPolicyController\",[function(){var e=this;this.state={editModel:{}},e.save=function(){if(e.state.editModel.name===e.name&&e.state.editModel.maximumRetryCount===e.maximumRetryCount)return;e.updateRestartPolicy(e.state.editModel)},this.$onInit=function(){e.state.editModel={name:e.name?e.name:\"no\",maximumRetryCount:e.maximumRetryCount}}}])},function(e,t,n){const a=n(1129);angular.module(\"portainer.docker\").component(\"containerRestartPolicy\",{templateUrl:a,controller:\"ContainerRestartPolicyController\",bindings:{name:\"<\",maximumRetryCount:\"<\",updateRestartPolicy:\"&\"}})},function(e,t){var n=\"app/docker/components/container-restart-policy/container-restart-policy.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <table class=\"table table-bordered table-condensed\">\\n    <tr>\\n      <td class=\"col-md-3\">\\n        <span>Name</span>\\n      </td>\\n      <td>\\n        <select class=\"form-control\" ng-model=\"$ctrl.state.editModel.name\" disable-authorization=\"DockerContainerUpdate\">\\n          <option value=\"no\">None</option>\\n          <option value=\"on-failure\">On Failure</option>\\n          <option value=\"always\">Always</option>\\n          <option value=\"unless-stopped\">Unless Stopped</option>\\n        </select>\\n      </td>\\n      <td class=\"col-md-2\" authorization=\"DockerContainerUpdate\">\\n        <button class=\"btn btn-sm btn-primary\" ng-click=\"$ctrl.save()\">Update</button>\\n      </td>\\n    </tr>\\n    <tr ng-if=\"$ctrl.state.editModel.name === \\'on-failure\\'\">\\n      <td class=\"col-md-3\">Maximum Retry Count</td>\\n      <td colspan=\"2\">\\n        <input type=\"number\" class=\"form-control\" ng-model=\"$ctrl.state.editModel.maximumRetryCount\" />\\n      </td>\\n    </tr>\\n  </table>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1131);angular.module(\"portainer.docker\").component(\"dashboardClusterAgentInfo\",{templateUrl:a,controller:\"DashboardClusterAgentInfoController\"})},function(e,t){var n=\"app/docker/components/dashboard-cluster-agent-info/dashboardClusterAgentInfo.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-widget>\\n  <rd-widget-header icon=\"fa-tachometer-alt\" title-text=\"Cluster information\"></rd-widget-header>\\n  <rd-widget-body classes=\"no-padding\">\\n    <table class=\"table\">\\n      <tbody>\\n        <tr>\\n          <td>Nodes in the cluster</td>\\n          <td>{{ $ctrl.agentCount }}</td>\\n        </tr>\\n        <tr>\\n          <td colspan=\"2\">\\n            <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n              <a ui-sref=\"docker.swarm.visualizer\"><i class=\"fa fa-object-group space-right\" aria-hidden=\"true\"></i>Go to cluster visualizer</a>\\n            </div>\\n          </td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </rd-widget-body>\\n</rd-widget>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"DashboardClusterAgentInfoController\",[\"AgentService\",\"Notifications\",function(e,t){var n=this;this.$onInit=function(){e.agents().then((function(e){n.agentCount=e.length})).catch((function(e){t.error(\"Failure\",e,\"Unable to retrieve agent information\")}))}}])},function(e,t,n){const a=n(1134);angular.module(\"portainer.docker\").component(\"configsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/configs-datatable/configsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\" authorization=\"DockerConfigDelete, DockerConfigCreate\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          authorization=\"DockerConfigDelete\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.configs.new\" authorization=\"DockerConfigCreate\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add config\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\" authorization=\"DockerConfigDelete, DockerConfigCreate\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreatedAt\\')\">\\n                  Creation Date\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreatedAt\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreatedAt\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" authorization=\"DockerConfigDelete, DockerConfigCreate\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"docker.configs.config({id: item.Id})\">{{ item.Name }}</a>\\n              </td>\\n              <td>{{ item.CreatedAt | getisodate }}</td>\\n              <td>\\n                <span>\\n                  <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No config available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1136);angular.module(\"portainer.docker\").component(\"containerNetworksDatatable\",{templateUrl:a,controller:\"ContainerNetworksDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",container:\"<\",availableNetworks:\"<\",joinNetworkAction:\"<\",joinNetworkActionInProgress:\"<\",leaveNetworkActionInProgress:\"<\",leaveNetworkAction:\"<\",nodeName:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/container-networks-datatable/containerNetworksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <form class=\"form-horizontal\">\\n          <div class=\"row\" authorization=\"DockerNetworkConnect\">\\n            <label for=\"container_network\" class=\"col-sm-3 col-lg-2 control-label text-left\">Join a network</label>\\n            <div class=\"col-sm-5 col-lg-4\">\\n              <select class=\"form-control\" ng-model=\"$ctrl.selectedNetwork\" id=\"container_network\">\\n                <option selected disabled hidden value=\"\">Select a network</option>\\n                <option ng-repeat=\"net in $ctrl.availableNetworks | orderBy: \\'Name\\'\" ng-value=\"net.Id\">{{ net.Name }}</option>\\n              </select>\\n            </div>\\n            <div class=\"col-sm-1\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.joinNetworkActionInProgress || !$ctrl.selectedNetwork\"\\n                ng-click=\"$ctrl.joinNetworkAction($ctrl.container, $ctrl.selectedNetwork)\"\\n                button-spinner=\"$ctrl.joinNetworkActionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.joinNetworkActionInProgress\">Join network</span>\\n                <span ng-show=\"$ctrl.joinNetworkActionInProgress\">Joining network...</span>\\n              </button>\\n            </div>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>Network</th>\\n              <th>\\n                IP Address\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th>Gateway</th>\\n              <th>MAC Address</th>\\n              <th authorization=\"DockerNetworkDisconnect\">Actions</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate-start=\"(key, value) in $ctrl.dataset | itemsPerPage: $ctrl.state.paginatedItemLimit\"\\n              ng-class=\"{ active: item.Checked }\"\\n              ng-click=\"$ctrl.expandItem(value, !value.Expanded)\"\\n            >\\n              <td>\\n                <a ng-if=\"$ctrl.itemCanExpand(value)\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': value.Expanded, \\'fas fa-angle-right\\': !value.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i>\\n                </a>\\n                <a ui-sref=\"docker.networks.network({ id: key, nodeName: $ctrl.nodeName })\">{{ key }}</a>\\n              </td>\\n              <td>{{ value.IPAddress || \\'-\\' }}</td>\\n              <td>{{ value.Gateway || \\'-\\' }}</td>\\n              <td>{{ value.MacAddress || \\'-\\' }}</td>\\n              <td authorization=\"DockerNetworkDisconnect\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-xs btn-danger\"\\n                  ng-disabled=\"$ctrl.leaveNetworkActionInProgress\"\\n                  button-spinner=\"$ctrl.leaveNetworkActionInProgress\"\\n                  ng-click=\"$ctrl.leaveNetworkAction($ctrl.container, key)\"\\n                >\\n                  <span ng-hide=\"$ctrl.leaveNetworkActionInProgress\"><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i> Leave network</span>\\n                  <span ng-show=\"$ctrl.leaveNetworkActionInProgress\">Leaving network...</span>\\n                </button>\\n              </td>\\n            </tr>\\n            <tr\\n              dir-paginate-end\\n              ng-show=\"$ctrl.itemCanExpand(value) && value.Expanded\"\\n              ng-class=\"{ \\'datatable-highlighted\\': value.Highlighted, \\'datatable-unhighlighted\\': !value.Highlighted }\"\\n            >\\n              <td colspan=\"1\"></td>\\n              <td colspan=\"1\">\\n                {{ value.GlobalIPv6Address }}\\n              </td>\\n              <td colspan=\"3\">\\n                {{ value.IPv6Gateway || \\'-\\' }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.dataset.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No network available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(6);angular.module(\"portainer.docker\").controller(\"ContainerNetworksDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!0}),this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1),e.Expanded||(this.state.expandAll=!1))},this.itemCanExpand=function(e){return\"\"!==e.GlobalIPv6Address},this.hasExpandableItems=function(){return Object(i.a)(this.dataset,e=>this.itemCanExpand(e)).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,Object(a.a)(this.dataset,e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)})},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var i=n.getDataTableFilters(this.tableKey);null!==i&&(this.filters=i),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),Object(a.a)(this.dataset,e=>{e.Expanded=!0,e.Highlighted=!0})}}])},function(e,t,n){const a=n(1139);angular.module(\"portainer.docker\").component(\"containerProcessesDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"=\",headerset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/container-processes-datatable/containerProcessesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input type=\"text\" class=\"searchInput\" ng-model=\"$ctrl.state.textFilter\" placeholder=\"Search...\" auto-focus ng-model-options=\"{ debounce: 300 }\" />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th ng-repeat=\"header in $ctrl.headerset\">\\n                {{ header }}\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr dir-paginate=\"item in ($ctrl.state.filteredProcesses = ($ctrl.dataset | filter:$ctrl.state.textFilter | itemsPerPage: $ctrl.state.paginatedItemLimit))\">\\n              <td ng-repeat=\"info in item track by $index\">{{ info }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"{{ $ctrl.headerset.length }}\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredProcesses.length === 0\">\\n              <td colspan=\"{{ $ctrl.headerset.length }}\" class=\"text-center text-muted\">No process available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1141);angular.module(\"portainer.docker\").component(\"containersDatatableActions\",{templateUrl:a,controller:\"ContainersDatatableActionsController\",bindings:{selectedItems:\"=\",selectedItemCount:\"=\",noStoppedItemsSelected:\"=\",noRunningItemsSelected:\"=\",noPausedItemsSelected:\"=\",showAddAction:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/containers-datatable/actions/containersDatatableActions.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div\\n  class=\"actionBar\"\\n  authorization=\"DockerContainerStart, DockerContainerStop, DockerContainerKill, DockerContainerRestart, DockerContainerPause, DockerContainerUnpause, DockerContainerDelete, DockerContainerCreate\"\\n>\\n  <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n    <button\\n      authorization=\"DockerContainerStart\"\\n      type=\"button\"\\n      class=\"btn btn-sm btn-success\"\\n      ng-click=\"$ctrl.startAction($ctrl.selectedItems)\"\\n      ng-disabled=\"$ctrl.selectedItemCount === 0 || $ctrl.noStoppedItemsSelected\"\\n    >\\n      <i class=\"fa fa-play space-right\" aria-hidden=\"true\"></i>Start\\n    </button>\\n    <button\\n      authorization=\"DockerContainerStop\"\\n      type=\"button\"\\n      class=\"btn btn-sm btn-danger\"\\n      ng-click=\"$ctrl.stopAction($ctrl.selectedItems)\"\\n      ng-disabled=\"$ctrl.selectedItemCount === 0 || $ctrl.noRunningItemsSelected\"\\n    >\\n      <i class=\"fa fa-stop space-right\" aria-hidden=\"true\"></i>Stop\\n    </button>\\n    <button\\n      authorization=\"DockerContainerKill\"\\n      type=\"button\"\\n      class=\"btn btn-sm btn-danger\"\\n      ng-click=\"$ctrl.killAction($ctrl.selectedItems)\"\\n      ng-disabled=\"$ctrl.selectedItemCount === 0\"\\n    >\\n      <i class=\"fa fa-bomb space-right\" aria-hidden=\"true\"></i>Kill\\n    </button>\\n    <button\\n      authorization=\"DockerContainerRestart\"\\n      type=\"button\"\\n      class=\"btn btn-sm btn-primary\"\\n      ng-click=\"$ctrl.restartAction($ctrl.selectedItems)\"\\n      ng-disabled=\"$ctrl.selectedItemCount === 0\"\\n    >\\n      <i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i>Restart\\n    </button>\\n    <button\\n      authorization=\"DockerContainerPause\"\\n      type=\"button\"\\n      class=\"btn btn-sm btn-primary\"\\n      ng-click=\"$ctrl.pauseAction($ctrl.selectedItems)\"\\n      ng-disabled=\"$ctrl.selectedItemCount === 0 || $ctrl.noRunningItemsSelected\"\\n    >\\n      <i class=\"fa fa-pause space-right\" aria-hidden=\"true\"></i>Pause\\n    </button>\\n    <button\\n      authorization=\"DockerContainerUnpause\"\\n      type=\"button\"\\n      class=\"btn btn-sm btn-primary\"\\n      ng-click=\"$ctrl.resumeAction($ctrl.selectedItems)\"\\n      ng-disabled=\"$ctrl.selectedItemCount === 0 || $ctrl.noPausedItemsSelected\"\\n    >\\n      <i class=\"fa fa-play space-right\" aria-hidden=\"true\"></i>Resume\\n    </button>\\n    <button\\n      authorization=\"DockerContainerDelete\"\\n      type=\"button\"\\n      class=\"btn btn-sm btn-danger\"\\n      ng-disabled=\"$ctrl.selectedItemCount === 0\"\\n      ng-click=\"$ctrl.removeAction($ctrl.selectedItems)\"\\n    >\\n      <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n    </button>\\n  </div>\\n  <button authorization=\"DockerContainerCreate\" type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.containers.new\" ng-if=\"$ctrl.showAddAction\">\\n    <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add container\\n  </button>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"ContainersDatatableActionsController\",[\"$state\",\"ContainerService\",\"ModalService\",\"Notifications\",\"HttpRequestHelper\",function(e,t,n,a,i){function s(t,n,s,r){var o=t.length;angular.forEach(t,(function(t){i.setPortainerAgentTargetHeader(t.NodeName),n(t.Id).then((function(){a.success(s,t.Names[0])})).catch((function(e){r=r+\":\"+t.Names[0],a.error(\"Failure\",e,r)})).finally((function(){0===--o&&e.reload()}))}))}this.startAction=function(e){s(e,t.startContainer,\"Container successfully started\",\"Unable to start container\")},this.stopAction=function(e){s(e,t.stopContainer,\"Container successfully stopped\",\"Unable to stop container\")},this.restartAction=function(e){s(e,t.restartContainer,\"Container successfully restarted\",\"Unable to restart container\")},this.killAction=function(e){s(e,t.killContainer,\"Container successfully killed\",\"Unable to kill container\")},this.pauseAction=function(e){s(e,t.pauseContainer,\"Container successfully paused\",\"Unable to pause container\")},this.resumeAction=function(e){s(e,t.resumeContainer,\"Container successfully resumed\",\"Unable to resume container\")},this.removeAction=function(s){for(var r=!1,o=0;o<s.length;o++){if(\"running\"===s[o].State){r=!0;break}}var l=\"You are about to remove one or more container.\";r&&(l=\"You are about to remove one or more running container.\"),n.confirmContainerDeletion(l,(function(n){if(n){var r=!1;n[0]&&(r=!0),function(n,s){var r=n.length;angular.forEach(n,(function(n){i.setPortainerAgentTargetHeader(n.NodeName),t.remove(n,s).then((function(){a.success(\"Container successfully removed\",n.Names[0])})).catch((function(e){a.error(\"Failure\",e,\"Unable to remove container\")})).finally((function(){0===--r&&e.reload()}))}))}(s,r)}}))}}])},function(e,t,n){const a=n(1144);angular.module(\"portainer.docker\").component(\"containersDatatable\",{templateUrl:a,controller:\"ContainersDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",showHostColumn:\"<\",showAddAction:\"<\",offlineMode:\"<\",refreshCallback:\"<\",notAutoFocus:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/containers-datatable/containersDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <datatable-columns-visibility columns=\"$ctrl.columnVisibility.columns\" on-change=\"($ctrl.onColumnVisibilityChange)\"></datatable-columns-visibility>\\n\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div class=\"md-checkbox\">\\n                    <input id=\"setting_container_trunc\" type=\"checkbox\" ng-model=\"$ctrl.settings.truncateContainerName\" ng-change=\"$ctrl.onSettingsContainerNameTruncateChange()\" />\\n                    <label for=\"setting_container_trunc\">Truncate container name</label>\\n                  </div>\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div authorization=\"DockerContainerStats, DockerContainerLogs, DockerExecStart, DockerContainerInspect, DockerTaskInspect, DockerTaskLogs, DockerContainerAttach\">\\n                  <div class=\"menuHeader\">\\n                    Quick actions\\n                  </div>\\n                  <div class=\"menuContent\">\\n                    <div class=\"md-checkbox\" authorization=\"DockerContainerStats\">\\n                      <input id=\"setting_show_stats\" type=\"checkbox\" ng-model=\"$ctrl.settings.showQuickActionStats\" ng-change=\"$ctrl.onSettingsQuickActionChange()\" />\\n                      <label for=\"setting_show_stats\">Stats</label>\\n                    </div>\\n                    <div class=\"md-checkbox\" authorization=\"DockerContainerLogs\">\\n                      <input id=\"setting_show_logs\" type=\"checkbox\" ng-model=\"$ctrl.settings.showQuickActionLogs\" ng-change=\"$ctrl.onSettingsQuickActionChange()\" />\\n                      <label for=\"setting_show_logs\">Logs</label>\\n                    </div>\\n                    <div class=\"md-checkbox\" authorization=\"DockerExecStart\">\\n                      <input id=\"setting_show_console\" type=\"checkbox\" ng-model=\"$ctrl.settings.showQuickActionExec\" ng-change=\"$ctrl.onSettingsQuickActionChange()\" />\\n                      <label for=\"setting_show_console\">Console</label>\\n                    </div>\\n                    <div class=\"md-checkbox\" authorization=\"DockerContainerInspect\">\\n                      <input id=\"setting_show_inspect\" type=\"checkbox\" ng-model=\"$ctrl.settings.showQuickActionInspect\" ng-change=\"$ctrl.onSettingsQuickActionChange()\" />\\n                      <label for=\"setting_show_inspect\">Inspect</label>\\n                    </div>\\n                    <div class=\"md-checkbox\" authorization=\"DockerContainerAttach\">\\n                      <input id=\"setting_show_attach\" type=\"checkbox\" ng-model=\"$ctrl.settings.showQuickActionAttach\" ng-change=\"$ctrl.onSettingsQuickActionChange()\" />\\n                      <label for=\"setting_show_attach\">Attach</label>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <containers-datatable-actions\\n        ng-if=\"!$ctrl.offlineMode\"\\n        selected-items=\"$ctrl.state.selectedItems\"\\n        selected-item-count=\"$ctrl.state.selectedItemCount\"\\n        no-stopped-items-selected=\"$ctrl.state.noStoppedItemsSelected\"\\n        no-running-items-selected=\"$ctrl.state.noRunningItemsSelected\"\\n        no-paused-items-selected=\"$ctrl.state.noPausedItemsSelected\"\\n        show-add-action=\"$ctrl.showAddAction\"\\n      ></containers-datatable-actions>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          focus-if=\"!$ctrl.notAutoFocus\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover table-filters nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span\\n                  class=\"md-checkbox\"\\n                  ng-if=\"!$ctrl.offlineMode\"\\n                  authorization=\"DockerContainerStart, DockerContainerStop, DockerContainerKill, DockerContainerRestart, DockerContainerPause, DockerContainerUnpause, DockerContainerDelete, DockerContainerCreate\"\\n                >\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Names\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Names\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Names\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.filters.state.open\" ng-show=\"$ctrl.columnVisibility.columns.state.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  State\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n                <div>\\n                  <span uib-dropdown-toggle class=\"table-filter\" ng-if=\"!$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-filter\" aria-hidden=\"true\"></i></span>\\n                  <span uib-dropdown-toggle class=\"table-filter filter-active\" ng-if=\"$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-check\" aria-hidden=\"true\"></i></span>\\n                </div>\\n                <div class=\"dropdown-menu\" uib-dropdown-menu>\\n                  <div class=\"tableMenu\">\\n                    <div class=\"menuHeader\">\\n                      Filter by state\\n                    </div>\\n                    <div class=\"menuContent\">\\n                      <div class=\"md-checkbox\" ng-repeat=\"filter in $ctrl.filters.state.values track by $index\">\\n                        <input id=\"filter_state_{{ $index }}\" type=\"checkbox\" ng-model=\"filter.display\" ng-change=\"$ctrl.onStateFilterChange()\" />\\n                        <label for=\"filter_state_{{ $index }}\">{{ filter.label }}</label>\\n                      </div>\\n                    </div>\\n                    <div>\\n                      <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.filters.state.open = false;\">Close</a>\\n                    </div>\\n                  </div>\\n                </div>\\n              </th>\\n              <th\\n                ng-if=\"\\n                  $ctrl.settings.showQuickActionStats ||\\n                  $ctrl.settings.showQuickActionLogs ||\\n                  $ctrl.settings.showQuickActionExec ||\\n                  $ctrl.settings.showQuickActionAttach ||\\n                  $ctrl.settings.showQuickActionInspect\\n                \"\\n                ng-show=\"$ctrl.columnVisibility.columns.actions.display\"\\n                authorization=\"DockerContainerStats, DockerContainerLogs, DockerExecStart, DockerContainerInspect, DockerTaskInspect, DockerTaskLogs, DockerContainerAttach\"\\n              >\\n                Quick actions\\n              </th>\\n              <th ng-show=\"$ctrl.columnVisibility.columns.stack.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-show=\"$ctrl.columnVisibility.columns.image.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-show=\"$ctrl.columnVisibility.columns.created.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Created\\')\">\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Created\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Created\\' && $ctrl.state.reverseOrder\"></i>\\n                  Created\\n                </a>\\n              </th>\\n              <th ng-show=\"$ctrl.columnVisibility.columns.ip.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IP\\')\">\\n                  IP Address\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IP\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IP\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.showHostColumn\" ng-show=\"$ctrl.columnVisibility.columns.host.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'NodeName\\')\">\\n                  Host\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-show=\"$ctrl.columnVisibility.columns.ports.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Ports\\')\">\\n                  Published Ports\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Ports\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Ports\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-show=\"$ctrl.columnVisibility.columns.ownership.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span\\n                  class=\"md-checkbox\"\\n                  ng-if=\"!$ctrl.offlineMode\"\\n                  authorization=\"DockerContainerStart, DockerContainerStop, DockerContainerKill, DockerContainerRestart, DockerContainerPause, DockerContainerUnpause, DockerContainerDelete, DockerContainerCreate\"\\n                >\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ng-if=\"!$ctrl.offlineMode\" ui-sref=\"docker.containers.container({ id: item.Id, nodeName: item.NodeName })\" title=\"{{ item | containername }}\">{{\\n                  item | containername | truncate: $ctrl.settings.containerNameTruncateSize\\n                }}</a>\\n                <span ng-if=\"$ctrl.offlineMode\">{{ item | containername | truncate: $ctrl.settings.containerNameTruncateSize }}</span>\\n              </td>\\n              <td ng-show=\"$ctrl.columnVisibility.columns.state.display\">\\n                <span\\n                  ng-if=\"[\\'starting\\', \\'healthy\\', \\'unhealthy\\'].indexOf(item.Status) !== -1\"\\n                  class=\"label label-{{ item.Status | containerstatusbadge }} interactive\"\\n                  uib-tooltip=\"This container has a health check\"\\n                  >{{ item.Status }}</span\\n                >\\n                <span ng-if=\"[\\'starting\\', \\'healthy\\', \\'unhealthy\\'].indexOf(item.Status) === -1\" class=\"label label-{{ item.Status | containerstatusbadge }}\">{{ item.Status }}</span>\\n              </td>\\n              <td\\n                ng-if=\"\\n                  !$ctrl.offlineMode &&\\n                  ($ctrl.settings.showQuickActionStats ||\\n                    $ctrl.settings.showQuickActionLogs ||\\n                    $ctrl.settings.showQuickActionExec ||\\n                    $ctrl.settings.showQuickActionAttach ||\\n                    $ctrl.settings.showQuickActionInspect)\\n                \"\\n                ng-show=\"$ctrl.columnVisibility.columns.actions.display\"\\n                authorization=\"DockerContainerStats, DockerContainerLogs, DockerExecStart, DockerContainerInspect, DockerTaskInspect, DockerTaskLogs\"\\n              >\\n                <container-quick-actions container-id=\"item.Id\" node-name=\"item.NodeName\" status=\"item.Status\" state=\"$ctrl.settings\"></container-quick-actions>\\n              </td>\\n              <td ng-if=\"$ctrl.offlineMode\"> </td>\\n              <td ng-show=\"$ctrl.columnVisibility.columns.stack.display\">{{ item.StackName ? item.StackName : \\'-\\' }}</td>\\n              <td ng-show=\"$ctrl.columnVisibility.columns.image.display\">\\n                <a ng-if=\"!$ctrl.offlineMode\" ui-sref=\"docker.images.image({ id: item.Image })\">{{ item.Image | trimshasum }}</a>\\n                <span ng-if=\"$ctrl.offlineMode\">{{ item.Image | trimshasum }}</span>\\n              </td>\\n              <td ng-show=\"$ctrl.columnVisibility.columns.created.display\">\\n                {{ item.Created | getisodatefromtimestamp }}\\n              </td>\\n              <td ng-show=\"$ctrl.columnVisibility.columns.ip.display\">{{ item.IP ? item.IP : \\'-\\' }}</td>\\n              <td ng-if=\"$ctrl.showHostColumn\" ng-show=\"$ctrl.columnVisibility.columns.host.display\">{{ item.NodeName ? item.NodeName : \\'-\\' }}</td>\\n              <td ng-show=\"$ctrl.columnVisibility.columns.ports.display\">\\n                <a\\n                  ng-if=\"item.Ports.length > 0\"\\n                  ng-repeat=\"p in item.Ports | unique: \\'public\\'\"\\n                  class=\"image-tag\"\\n                  ng-href=\"http://{{ $ctrl.state.publicURL || p.host }}:{{ p.public }}\"\\n                  target=\"_blank\"\\n                >\\n                  <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> {{ p.public }}:{{ p.private }}\\n                </a>\\n                <span ng-if=\"item.Ports.length == 0\">-</span>\\n              </td>\\n              <td ng-show=\"$ctrl.columnVisibility.columns.ownership.display\">\\n                <span>\\n                  <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"9\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"9\" class=\"text-center text-muted\">No container available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(5),i=n(94);angular.module(\"portainer.docker\").controller(\"ContainersDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"EndpointProvider\",function(e,t,n,s){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));var r=this;this.state=Object.assign(this.state,{noStoppedItemsSelected:!0,noRunningItemsSelected:!0,noPausedItemsSelected:!0,publicURL:s.endpointPublicURL()}),this.settings=Object.assign(this.settings,{truncateContainerName:!0,containerNameTruncateSize:32,showQuickActionStats:!0,showQuickActionLogs:!0,showQuickActionExec:!0,showQuickActionInspect:!0,showQuickActionAttach:!1}),this.filters={state:{open:!1,enabled:!1,values:[]}},this.columnVisibility={columns:{state:{label:\"State\",display:!0},actions:{label:\"Quick Actions\",display:!0},stack:{label:\"Stack\",display:!0},image:{label:\"Image\",display:!0},created:{label:\"Created\",display:!0},ip:{label:\"IP Address\",display:!0},host:{label:\"Host\",display:!0},ports:{label:\"Published Ports\",display:!0},ownership:{label:\"Ownership\",display:!0}}},this.onColumnVisibilityChange=function(e){this.columnVisibility.columns=e,n.setColumnVisibilitySettings(this.tableKey,this.columnVisibility)}.bind(this),this.onSelectionChanged=function(){this.updateSelectionState()},this.updateSelectionState=function(){this.state.noStoppedItemsSelected=!0,this.state.noRunningItemsSelected=!0,this.state.noPausedItemsSelected=!0;for(var e=0;e<this.dataset.length;e++){var t=this.dataset[e];t.Checked&&this.updateSelectionStateBasedOnItemStatus(t)}},this.updateSelectionStateBasedOnItemStatus=function(e){\"paused\"===e.Status?this.state.noPausedItemsSelected=!1:-1!==[\"stopped\",\"created\"].indexOf(e.Status)?this.state.noStoppedItemsSelected=!1:-1!==[\"running\",\"healthy\",\"unhealthy\",\"starting\"].indexOf(e.Status)&&(this.state.noRunningItemsSelected=!1)},this.applyFilters=function(e){for(var t=e,n=r.filters,a=0;a<n.state.values.length;a++){var i=n.state.values[a];if(t.Status===i.label&&i.display)return!0}return!1},this.onStateFilterChange=function(){for(var e=this.filters.state.values,t=!1,n=0;n<e.length;n++){e[n].display||(t=!0)}this.filters.state.enabled=t},this.onSettingsContainerNameTruncateChange=function(){this.settings.truncateContainerName?this.settings.containerNameTruncateSize=32:this.settings.containerNameTruncateSize=256,n.setDataTableSettings(this.tableKey,this.settings)},this.onSettingsQuickActionChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.prepareTableFromDataset=function(){for(var e=[],t=0;t<this.dataset.length;t++){var n=this.dataset[t];e.push({label:n.Status,display:!0})}this.filters.state.values=Object(i.a)(e,\"label\")},this.updateStoredFilters=function(e){for(var t=this.filters.state.values,n=0;n<t.length;n++){var i=t[n],s=Object(a.a)(e,[\"label\",i.label]);s&&!s.display&&(i.display=s.display,this.filters.state.enabled=!0)}},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a,this.filters.state.open=!1,this.updateStoredFilters(a.state.values));var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange();var s=n.getColumnVisibilitySettings(this.tableKey);null!==s&&(this.columnVisibility=s)}}])},function(e,t,n){const a=n(1147);angular.module(\"portainer.docker\").component(\"eventsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/events-datatable/eventsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Time\\')\">\\n                  Date\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Time\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Time\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n                  Category\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Details\\')\">\\n                  Details\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Details\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Details\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>{{ item.Time | getisodatefromtimestamp }}</td>\\n              <td>{{ item.Type }}</td>\\n              <td>{{ item.Details }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No event available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1149);angular.module(\"portainer.docker\").component(\"imagesDatatable\",{templateUrl:a,controller:\"ImagesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",showHostColumn:\"<\",removeAction:\"<\",downloadAction:\"<\",forceRemoveAction:\"<\",exportInProgress:\"<\",offlineMode:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/images-datatable/imagesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\" ng-if=\"!$ctrl.offlineMode\" authorization=\"DockerImageDelete, DockerImageBuild, DockerImageLoad, DockerImageGet\">\\n        <div class=\"btn-group\" authorization=\"DockerImageDelete\">\\n          <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems, false)\">\\n            <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n          </button>\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-sm btn-danger dropdown-toggle\"\\n            data-toggle=\"dropdown\"\\n            aria-haspopup=\"true\"\\n            aria-expanded=\"false\"\\n            ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          >\\n            <span class=\"caret\"></span>\\n            <span class=\"sr-only\">Toggle Dropdown</span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"$ctrl.forceRemoveAction($ctrl.state.selectedItems, true)\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\">Force Remove</a></li>\\n          </ul>\\n        </div>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.images.build\" authorization=\"DockerImageBuild\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Build a new image\\n        </button>\\n        <div class=\"btn-group\">\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ng-disabled=\"$ctrl.exportInProgress\" ui-sref=\"docker.images.import\" authorization=\"DockerImageLoad\">\\n            <i class=\"fa fa-upload space-right\" aria-hidden=\"true\"></i>Import\\n          </button>\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-sm btn-primary\"\\n            ng-disabled=\"$ctrl.state.selectedItemCount === 0 || $ctrl.exportInProgress\"\\n            ng-click=\"$ctrl.downloadAction($ctrl.state.selectedItems)\"\\n            button-spinner=\"$ctrl.exportInProgress\"\\n            authorization=\"DockerImageGet\"\\n          >\\n            <i class=\"fa fa-download space-right\" aria-hidden=\"true\"></i>\\n            <span ng-hide=\"$ctrl.exportInProgress\">Export</span>\\n            <span ng-show=\"$ctrl.exportInProgress\">Export in progress...</span>\\n          </button>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover table-filters nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th uib-dropdown dropdown-append-to-body auto-close=\"disabled\" popover-placement=\"bottom-left\" is-open=\"$ctrl.filters.state.open\">\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Id\\')\">\\n                  Id\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n                <div>\\n                  <span uib-dropdown-toggle class=\"table-filter\" ng-if=\"!$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-filter\" aria-hidden=\"true\"></i></span>\\n                  <span uib-dropdown-toggle class=\"table-filter filter-active\" ng-if=\"$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-check\" aria-hidden=\"true\"></i></span>\\n                </div>\\n                <div class=\"dropdown-menu\" uib-dropdown-menu>\\n                  <div class=\"tableMenu\">\\n                    <div class=\"menuHeader\">\\n                      Filter by usage\\n                    </div>\\n                    <div class=\"menuContent\">\\n                      <div class=\"md-checkbox\">\\n                        <input id=\"filter_usage_usedImages\" type=\"checkbox\" ng-model=\"$ctrl.filters.state.showUsedImages\" ng-change=\"$ctrl.onstateFilterChange()\" />\\n                        <label for=\"filter_usage_usedImages\">Used images</label>\\n                      </div>\\n                      <div class=\"md-checkbox\">\\n                        <input id=\"filter_usage_unusedImages\" type=\"checkbox\" ng-model=\"$ctrl.filters.state.showUnusedImages\" ng-change=\"$ctrl.onstateFilterChange()\" />\\n                        <label for=\"filter_usage_unusedImages\">Unused images</label>\\n                      </div>\\n                    </div>\\n                    <div>\\n                      <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.filters.state.open = false;\">Close</a>\\n                    </div>\\n                  </div>\\n                </div>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'RepoTags\\')\">\\n                  Tags\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'RepoTags\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'RepoTags\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'VirtualSize\\')\">\\n                  Size\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'VirtualSize\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'VirtualSize\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Created\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Created\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Created\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.showHostColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'NodeName\\')\">\\n                  Host\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ng-if=\"!$ctrl.offlineMode\" ui-sref=\"docker.images.image({ id: item.Id, nodeName: item.NodeName })\" class=\"monospaced\" title=\"{{ item.Id }}\">{{\\n                  item.Id | truncate: 40\\n                }}</a>\\n                <span ng-if=\"$ctrl.offlineMode\">{{ item.Id | truncate: 40 }}</span>\\n                <span style=\"margin-left: 10px;\" class=\"label label-warning image-tag\" ng-if=\"::item.ContainerCount === 0\">Unused</span>\\n              </td>\\n              <td>\\n                <span class=\"label label-primary image-tag\" ng-repeat=\"tag in (item | repotags) track by $index\">{{ tag }}</span>\\n              </td>\\n              <td>{{ item.VirtualSize | humansize }}</td>\\n              <td>{{ item.Created | getisodatefromtimestamp }}</td>\\n              <td ng-if=\"$ctrl.showHostColumn\">{{ item.NodeName ? item.NodeName : \\'-\\' }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No image available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"ImagesDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));var a=this;this.filters={state:{open:!1,enabled:!1,showUsedImages:!0,showUnusedImages:!0}},this.applyFilters=function(e){var t=e,n=a.filters;return!!(0===t.ContainerCount&&n.state.showUnusedImages||0!==t.ContainerCount&&n.state.showUsedImages)},this.onstateFilterChange=function(){var e=this.filters.state,t=!1;e.showUsedImages&&e.showUnusedImages||(t=!0),this.filters.state.enabled=t,n.setDataTableFilters(this.tableKey,this.filters)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1152);angular.module(\"portainer.docker\").component(\"macvlanNodesDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",showIpAddressColumn:\"<\",accessToNodeDetails:\"<\",state:\"=\"}})},function(e,t){var n=\"app/docker/components/datatables/macvlan-nodes-datatable/macvlanNodesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Hostname\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Hostname\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Hostname\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Role\\')\">\\n                  Role\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'EngineVersion\\')\">\\n                  Engine\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'EngineVersion\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'EngineVersion\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.showIpAddressColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Addr\\')\">\\n                  IP Address\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Addr\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Addr\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"docker.nodes.node({id: item.Id})\" ng-if=\"$ctrl.accessToNodeDetails\">{{ item.Hostname }}</a>\\n                <span ng-if=\"!$ctrl.accessToNodeDetails\">{{ item.Hostname }}</span>\\n              </td>\\n              <td>{{ item.Role }}</td>\\n              <td>{{ item.EngineVersion }}</td>\\n              <td ng-if=\"$ctrl.showIpAddressColumn\">{{ item.Addr }}</td>\\n              <td>\\n                <span class=\"label label-{{ item.Status | nodestatusbadge }}\">{{ item.Status }}</span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">No node available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(29);const i=n(1154);angular.module(\"portainer.docker\").directive(\"networkRowContent\",[function(){return{templateUrl:i,restrict:\"A\",transclude:!0,scope:{item:\"<\",parentCtrl:\"<\",allowCheckbox:\"<\",allowExpand:\"<\"},controller:[\"$scope\",e=>{e.RCO=a.ResourceControlOwnership}]}}])},function(e,t){var n=\"app/docker/components/datatables/networks-datatable/network-row-content/networkRowContent.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<td ng-if=\"allowCheckbox\">\\n  <span class=\"md-checkbox\" ng-if=\"!parentCtrl.offlineMode\" authorization=\"DockerNetworkDelete, DockerNetworkCreate\">\\n    <input\\n      id=\"select_{{ $index }}\"\\n      type=\"checkbox\"\\n      ng-model=\"item.Checked\"\\n      ng-click=\"parentCtrl.selectItem(item, $event); $event.stopPropagation()\"\\n      ng-disabled=\"parentCtrl.disableRemove(item)\"\\n    />\\n    <label for=\"select_{{ $index }}\"></label>\\n  </span>\\n  <a ng-if=\"parentCtrl.itemCanExpand(item)\"\\n    ><i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i\\n  ></a>\\n</td>\\n<td ng-if=\"!allowCheckbox\"></td>\\n<td>\\n  <a ng-if=\"!parentCtrl.offlineMode\" ui-sref=\"docker.networks.network({ id: item.Id, nodeName: item.NodeName })\" title=\"{{ item.Name }}\">{{ item.Name | truncate: 40 }}</a>\\n  <span ng-if=\"parentCtrl.offlineMode\">{{ item.Name | truncate: 40 }}</span>\\n  <span style=\"margin-left: 10px;\" class=\"label label-info image-tag space-left\" ng-if=\"item.ResourceControl.System\">System</span>\\n</td>\\n<td>{{ item.StackName ? item.StackName : \\'-\\' }}</td>\\n<td>{{ item.Driver }}</td>\\n<td>{{ item.Attachable }}</td>\\n<td>{{ item.IPAM.Driver }}</td>\\n<td>{{ item.IPAM.IPV4Configs[0].Subnet ? item.IPAM.IPV4Configs[0].Subnet : \\'-\\' }}</td>\\n<td>{{ item.IPAM.IPV4Configs[0].Gateway ? item.IPAM.IPV4Configs[0].Gateway : \\'-\\' }}</td>\\n<td>{{ item.IPAM.IPV6Configs[0].Subnet ? item.IPAM.IPV6Configs[0].Subnet : \\'-\\' }}</td>\\n<td>{{ item.IPAM.IPV6Configs[0].Gateway ? item.IPAM.IPV6Configs[0].Gateway : \\'-\\' }}</td>\\n<td ng-if=\"parentCtrl.showHostColumn\">{{ item.NodeName ? item.NodeName : \\'-\\' }}</td>\\n<td>\\n  <span>\\n    <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n    {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = RCO.ADMINISTRATORS }}\\n  </span>\\n</td>\\n')}]),e.exports=n},function(e,t,n){const a=n(1156);angular.module(\"portainer.docker\").component(\"networksDatatable\",{templateUrl:a,controller:\"NetworksDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",showHostColumn:\"<\",removeAction:\"<\",offlineMode:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/networks-datatable/networksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\" ng-if=\"!$ctrl.offlineMode\" authorization=\"DockerNetworkDelete, DockerNetworkCreate\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          authorization=\"DockerNetworkDelete\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.networks.new\" authorization=\"DockerNetworkCreate\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add network\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th style=\"width: 55px;\">\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\" authorization=\"DockerNetworkDelete, DockerNetworkCreate\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Driver\\')\">\\n                  Driver\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Driver\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Driver\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Attachable\\')\">\\n                  Attachable\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Attachable\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Attachable\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IPAM.Driver\\')\">\\n                  IPAM Driver\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.Driver\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.Driver\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IPAM.IPV4Configs[0].Subnet\\')\">\\n                  IPV4 IPAM Subnet\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV4Configs[0].Subnet\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV4Configs[0].Subnet\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IPAM.IPV4Configs[0].Gateway\\')\">\\n                  IPV4 IPAM Gateway\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV4Configs[0].Gateway\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV4Configs[0].Gateway\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IPAM.IPV6Configs[0].Subnet\\')\">\\n                  IPV6 IPAM Subnet\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV6Configs[0].Subnet\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV6Configs[0].Subnet\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IPAM.IPV6Configs[0].Gateway\\')\">\\n                  IPV6 IPAM Gateway\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV6Configs[0].Gateway\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAM.IPV6Configs[0].Gateway\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.showHostColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'NodeName\\')\">\\n                  Host\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n              network-row-content\\n              item=\"item\"\\n              parent-ctrl=\"$ctrl\"\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              allow-checkbox=\"true\"\\n            >\\n            </tr>\\n            <tr dir-paginate-end ng-show=\"item.Expanded\" ng-repeat=\"it in item.Subs\" class=\"datatable-highlighted\" network-row-content item=\"it\" parent-ctrl=\"$ctrl\"> </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"9\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"9\" class=\"text-center text-muted\">No network available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(6);angular.module(\"portainer.docker\").controller(\"NetworksDatatableController\",[\"$scope\",\"$controller\",\"NetworkHelper\",\"DatatableService\",function(e,t,n,s){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.disableRemove=function(e){return n.isSystemNetwork(e)},this.state=Object.assign(this.state,{expandedItems:[]}),this.allowSelection=function(e){return!this.disableRemove(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=s.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=s.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=s.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=s.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()},this.expandItem=function(e,t){e.Expanded=t},this.itemCanExpand=function(e){return e.Subs.length>0},this.hasExpandableItems=function(){return Object(i.a)(this.state.filteredDataSet,e=>this.itemCanExpand(e)).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,Object(a.a)(this.state.filteredDataSet,e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)})}}])},function(e,t,n){const a=n(1159);angular.module(\"portainer.docker\").component(\"nodeTasksDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/node-tasks-datatable/nodeTasksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Id\\')\">\\n                  Id\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Slot\\')\">\\n                  Slot\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Slot\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Slot\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Spec.ContainerSpec.Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Spec.ContainerSpec.Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Spec.ContainerSpec.Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Updated\\')\">\\n                  Last Update\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Updated\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Updated\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td\\n                ><a ui-sref=\"docker.tasks.task({id: item.Id})\" class=\"monospaced\">{{ item.Id }}</a></td\\n              >\\n              <td\\n                ><span class=\"label label-{{ item.Status.State | taskstatusbadge }}\">{{ item.Status.State }}</span></td\\n              >\\n              <td>{{ item.Slot ? item.Slot : \\'-\\' }}</td>\\n              <td>{{ item.Spec.ContainerSpec.Image | hideshasum }}</td>\\n              <td>{{ item.Updated | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No task available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1161);angular.module(\"portainer.docker\").component(\"nodesDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",showIpAddressColumn:\"<\",accessToNodeDetails:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/nodes-datatable/nodesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Hostname\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Hostname\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Hostname\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Role\\')\">\\n                  Role\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CPUs\\')\">\\n                  CPU\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPUs\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPUs\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Memory\\')\">\\n                  Memory\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'EngineVersion\\')\">\\n                  Engine\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'EngineVersion\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'EngineVersion\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.showIpAddressColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Addr\\')\">\\n                  IP Address\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Addr\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Addr\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Availability\\')\">\\n                  Availability\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Availability\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Availability\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <a ui-sref=\"docker.nodes.node({id: item.Id})\" ng-if=\"$ctrl.accessToNodeDetails\">{{ item.Name || item.Hostname }}</a>\\n                <span ng-if=\"!$ctrl.accessToNodeDetails\">{{ item.Name || item.Hostname }}</span>\\n              </td>\\n              <td>{{ item.Role }}</td>\\n              <td>{{ item.CPUs / 1000000000 }}</td>\\n              <td>{{ item.Memory | humansize }}</td>\\n              <td>{{ item.EngineVersion }}</td>\\n              <td ng-if=\"$ctrl.showIpAddressColumn\">{{ item.Addr }}</td>\\n              <td\\n                ><span class=\"label label-{{ item.Status | nodestatusbadge }}\">{{ item.Status }}</span></td\\n              >\\n              <td\\n                ><span class=\"label label-{{ item.Availability | dockerNodeAvailabilityBadge }}\">{{ item.Availability }}</span></td\\n              >\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">No node available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1163);angular.module(\"portainer.docker\").component(\"secretsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/secrets-datatable/secretsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\" authorization=\"DockerSecretDelete, DockerSecretCreate\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          authorization=\"DockerSecretDelete\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.secrets.new\" authorization=\"DockerSecretCreate\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add secret\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\" authorization=\"DockerSecretDelete, DockerSecretCreate\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreatedAt\\')\">\\n                  Creation Date\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreatedAt\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreatedAt\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" authorization=\"DockerSecretDelete, DockerSecretCreate\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"docker.secrets.secret({id: item.Id})\">{{ item.Name }}</a>\\n              </td>\\n              <td>{{ item.CreatedAt | getisodate }}</td>\\n              <td>\\n                <span>\\n                  <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No secret available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1165);angular.module(\"portainer.docker\").component(\"serviceTasksDatatable\",{templateUrl:a,controller:\"ServiceTasksDatatableController\",bindings:{dataset:\"<\",serviceId:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",nodes:\"<\",agentProxy:\"<\",textFilter:\"=\",showTaskLogsButton:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/service-tasks-datatable/serviceTasksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"service-datatable\">\\n  <table class=\"table table-condensed table-hover nowrap-cells\">\\n    <thead>\\n      <tr>\\n        <th uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.filters.state.open\" style=\"width: 10%;\">\\n          <a ng-click=\"$ctrl.changeOrderBy(\\'Status.State\\')\">\\n            Status\\n            <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status.State\\' && !$ctrl.state.reverseOrder\"></i>\\n            <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status.State\\' && $ctrl.state.reverseOrder\"></i>\\n          </a>\\n          <span class=\"space-left\">\\n            <span uib-dropdown-toggle class=\"table-filter\" ng-if=\"!$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-filter\" aria-hidden=\"true\"></i></span>\\n            <span uib-dropdown-toggle class=\"table-filter filter-active\" ng-if=\"$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-check\" aria-hidden=\"true\"></i></span>\\n          </span>\\n          <div class=\"dropdown-menu\" uib-dropdown-menu>\\n            <div class=\"tableMenu\">\\n              <div class=\"menuHeader\">\\n                Filter by state\\n              </div>\\n              <div class=\"menuContent\">\\n                <div class=\"md-checkbox\" ng-repeat=\"filter in $ctrl.filters.state.values track by $index\">\\n                  <input id=\"filter_state_{{ $ctrl.serviceId }}_{{ $index }}\" type=\"checkbox\" ng-model=\"filter.display\" ng-change=\"$ctrl.onStateFilterChange()\" />\\n                  <label for=\"filter_state_{{ $ctrl.serviceId }}_{{ $index }}\">{{ filter.label }}</label>\\n                </div>\\n              </div>\\n              <div>\\n                <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.filters.state.open = false;\">Close</a>\\n              </div>\\n            </div>\\n          </div>\\n        </th>\\n        <th style=\"width: 22%;\">Task</th>\\n        <th>Actions</th>\\n        <th>\\n          <a ng-click=\"$ctrl.changeOrderBy(\\'Slot\\')\">\\n            Slot\\n            <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Slot\\' && !$ctrl.state.reverseOrder\"></i>\\n            <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Slot\\' && $ctrl.state.reverseOrder\"></i>\\n          </a>\\n        </th>\\n        <th>\\n          <a ng-click=\"$ctrl.changeOrderBy(\\'NodeId\\')\">\\n            Node\\n            <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeId\\' && !$ctrl.state.reverseOrder\"></i>\\n            <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeId\\' && $ctrl.state.reverseOrder\"></i>\\n          </a>\\n        </th>\\n        <th>\\n          <a ng-click=\"$ctrl.changeOrderBy(\\'Updated\\')\">\\n            Last Update\\n            <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Updated\\' && !$ctrl.state.reverseOrder\"></i>\\n            <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Updated\\' && $ctrl.state.reverseOrder\"></i>\\n          </a>\\n        </th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr\\n        ng-repeat=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder))\"\\n      >\\n        <td class=\"text-center\">\\n          <span class=\"label label-{{ item.Status.State | taskstatusbadge }} space-right\">{{ item.Status.State }}</span>\\n        </td>\\n        <td>\\n          <a ng-if=\"!$ctrl.agentProxy || !item.Container\" ui-sref=\"docker.tasks.task({id: item.Id})\" class=\"monospaced\">{{ item.Id }}</a>\\n          <a ng-if=\"$ctrl.agentProxy && item.Container\" ui-sref=\"docker.containers.container({ id: item.Container.Id, nodeName: item.Container.NodeName })\" class=\"monospaced\">{{\\n            item.Id\\n          }}</a>\\n        </td>\\n        <td>\\n          <container-quick-actions\\n            ng-if=\"!$ctrl.agentProxy || !item.Container\"\\n            container-id=\"item.ContainerId\"\\n            task-id=\"item.Id\"\\n            status=\"item.Status.State\"\\n            state=\"$ctrl.state\"\\n          ></container-quick-actions>\\n          <container-quick-actions\\n            ng-if=\"$ctrl.agentProxy && item.Container\"\\n            container-id=\"item.Container.Id\"\\n            node-name=\"item.Container.NodeName\"\\n            status=\"item.Status.State\"\\n            state=\"$ctrl.state\"\\n          ></container-quick-actions>\\n        </td>\\n        <td>{{ item.Slot ? item.Slot : \\'-\\' }}</td>\\n        <td>{{ item.NodeId | tasknodename: $ctrl.nodes }}</td>\\n        <td>{{ item.Updated | getisodate }}</td>\\n      </tr>\\n      <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n        <td colspan=\"5\" class=\"text-center text-muted\">No task matching filter.</td>\\n      </tr>\\n    </tbody>\\n  </table>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(94);angular.module(\"portainer.docker\").controller(\"ServiceTasksDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));var i=this;this.state=Object.assign(this.state,{showQuickActionStats:!0,showQuickActionLogs:!0,showQuickActionConsole:!0,showQuickActionInspect:!0,showQuickActionExec:!0,showQuickActionAttach:!1}),this.filters={state:{open:!1,enabled:!1,values:[]}},this.applyFilters=function(e){for(var t=i.filters,n=0;n<t.state.values.length;n++){var a=t.state.values[n];if(e.Status.State===a.label&&a.display)return!0}return!1},this.onStateFilterChange=function(){for(var e=this.filters.state.values,t=!1,n=0;n<e.length;n++){e[n].display||(t=!0)}this.filters.state.enabled=t},this.prepareTableFromDataset=function(){for(var e=[],t=0;t<this.dataset.length;t++){var n=this.dataset[t];e.push({label:n.Status.State,display:!0})}this.filters.state.values=Object(a.a)(e,\"label\")},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1168);angular.module(\"portainer.docker\").component(\"servicesDatatableActions\",{templateUrl:a,controller:\"ServicesDatatableActionsController\",bindings:{selectedItems:\"=\",selectedItemCount:\"=\",showUpdateAction:\"<\",showAddAction:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/services-datatable/actions/servicesDatatableActions.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"actionBar\" authorization=\"DockerServiceUpdate, DockerServiceDelete, DockerServiceCreate\">\\n  <div class=\"btn-group\" role=\"group\" aria-label=\"...\">\\n    <button\\n      ng-if=\"$ctrl.showUpdateAction\"\\n      type=\"button\"\\n      class=\"btn btn-sm btn-primary\"\\n      authorization=\"DockerServiceUpdate\"\\n      ng-disabled=\"$ctrl.selectedItemCount === 0\"\\n      ng-click=\"$ctrl.updateAction($ctrl.selectedItems)\"\\n    >\\n      <i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i>Update\\n    </button>\\n    <button\\n      type=\"button\"\\n      class=\"btn btn-sm btn-danger\"\\n      authorization=\"DockerServiceDelete\"\\n      ng-disabled=\"$ctrl.selectedItemCount === 0\"\\n      ng-click=\"$ctrl.removeAction($ctrl.selectedItems)\"\\n    >\\n      <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n    </button>\\n  </div>\\n  <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.services.new\" ng-if=\"$ctrl.showAddAction\" authorization=\"DockerServiceCreate\">\\n    <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add service\\n  </button>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"ServicesDatatableActionsController\",[\"$q\",\"$state\",\"ServiceService\",\"ServiceHelper\",\"Notifications\",\"ModalService\",\"ImageHelper\",\"WebhookService\",\"EndpointProvider\",function(e,t,n,a,i,s,r,o,l){this.scaleAction=function(e){var s=a.serviceToConfig(e.Model);s.Mode.Replicated.Replicas=e.Replicas,n.update(e,s).then((function(){i.success(\"Service successfully scaled\",\"New replica count: \"+e.Replicas),t.reload()})).catch((function(t){i.error(\"Failure\",t,\"Unable to scale service\"),e.Scale=!1,e.Replicas=e.ReplicaCount}))},this.removeAction=function(a){s.confirmDeletion(\"Do you want to remove the selected service(s)? All the containers associated to the selected service(s) will be removed too.\",(function(s){var r,c;s&&(c=(r=a).length,angular.forEach(r,(function(a){n.remove(a).then((function(){return o.webhooks(a.Id,l.endpointID())})).then((function(t){return e.when(0!==t.length&&o.deleteWebhook(t[0].Id))})).then((function(){i.success(\"Service successfully removed\",a.Name)})).catch((function(e){i.error(\"Failure\",e,\"Unable to remove service\")})).finally((function(){0==--c&&t.reload()}))})))}))},this.updateAction=function(e){s.confirmServiceForceUpdate(\"Do you want to force an update of the selected service(s)? All the tasks associated to the selected service(s) will be recreated.\",(function(s){if(s){var o=!1;s[0]&&(o=!0),function(e,s){var o=e.length;angular.forEach(e,(function(e){var l=a.serviceToConfig(e.Model);s&&(l.TaskTemplate.ContainerSpec.Image=r.removeDigestFromRepository(l.TaskTemplate.ContainerSpec.Image)),l.TaskTemplate.ForceUpdate++,n.update(e,l).then((function(){i.success(\"Service successfully updated\",e.Name)})).catch((function(t){i.error(\"Failure\",t,\"Unable to force update service\"+e.Name)})).finally((function(){0===--o&&t.reload()}))}))}(e,o)}}))}}])},function(e,t,n){const a=n(1171);angular.module(\"portainer.docker\").component(\"servicesDatatable\",{templateUrl:a,controller:\"ServicesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",nodes:\"<\",agentProxy:\"<\",showUpdateAction:\"<\",showAddAction:\"<\",showStackColumn:\"<\",showTaskLogsButton:\"<\",refreshCallback:\"<\",notAutoFocus:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/services-datatable/servicesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <services-datatable-actions\\n        selected-items=\"$ctrl.state.selectedItems\"\\n        selected-item-count=\"$ctrl.state.selectedItemCount\"\\n        show-add-action=\"$ctrl.showAddAction\"\\n        show-update-action=\"$ctrl.showUpdateAction\"\\n      ></services-datatable-actions>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          focus-if=\"!$ctrl.notAutoFocus\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th style=\"width: 55px;\">\\n                <span class=\"md-checkbox\" authorization=\"DockerServiceUpdate, DockerServiceDelete, DockerServiceCreate\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.expandAll()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.showStackColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Mode\\')\">\\n                  Scheduling Mode\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Mode\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Mode\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Ports\\')\">\\n                  Published Ports\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Ports\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Ports\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'UpdatedAt\\')\">\\n                  Last Update\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'UpdatedAt\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'UpdatedAt\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n              class=\"interactive\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" authorization=\"DockerServiceUpdate, DockerServiceDelete, DockerServiceCreate\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event); $event.stopPropagation()\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a><i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i></a>\\n              </td>\\n              <td>\\n                <a ui-sref=\"docker.services.service({id: item.Id})\" ng-click=\"$event.stopPropagation()\">{{ item.Name }}</a>\\n              </td>\\n              <td ng-if=\"$ctrl.showStackColumn\">{{ item.StackName ? item.StackName : \\'-\\' }}</td>\\n              <td>{{ item.Image | hideshasum }}</td>\\n              <td ng-controller=\"ServicesDatatableActionsController as actionCtrl\">\\n                {{ item.Mode }}\\n                <code>{{ item.Tasks | runningtaskscount }}</code> / <code>{{ item.Mode === \\'replicated\\' ? item.Replicas : ($ctrl.nodes | availablenodecount: item) }}</code>\\n                <span ng-if=\"item.Mode === \\'replicated\\' && !item.Scale\" authorization=\"DockerServiceUpdate\">\\n                  <a class=\"interactive\" ng-click=\"item.Scale = true; item.ReplicaCount = item.Replicas; $event.stopPropagation();\">\\n                    <i class=\"fa fa-arrows-alt-v\" aria-hidden=\"true\"></i> Scale\\n                  </a>\\n                </span>\\n                <span ng-if=\"item.Mode === \\'replicated\\' && item.Scale\">\\n                  <input\\n                    class=\"input-sm\"\\n                    type=\"number\"\\n                    min=\"0\"\\n                    step=\"1\"\\n                    ng-model=\"item.Replicas\"\\n                    on-enter-key=\"actionCtrl.scaleAction(item)\"\\n                    auto-focus\\n                    ng-click=\"$event.stopPropagation();\"\\n                  />\\n                  <a class=\"interactive\" ng-click=\"item.Scale = false; $event.stopPropagation();\"><i class=\"fa fa-times\"></i></a>\\n                  <a class=\"interactive\" ng-click=\"actionCtrl.scaleAction(item); $event.stopPropagation();\"><i class=\"fa fa-check-square\"></i></a>\\n                </span>\\n              </td>\\n              <td>\\n                <a\\n                  ng-if=\"item.Ports && item.Ports.length > 0 && p.PublishedPort\"\\n                  ng-repeat=\"p in item.Ports\"\\n                  class=\"image-tag\"\\n                  ng-href=\"http://{{ $ctrl.state.publicURL }}:{{ p.PublishedPort }}\"\\n                  target=\"_blank\"\\n                  ng-click=\"$event.stopPropagation();\"\\n                >\\n                  <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> {{ p.PublishedPort }}:{{ p.TargetPort }}\\n                </a>\\n                <span ng-if=\"!item.Ports || item.Ports.length === 0\">-</span>\\n              </td>\\n              <td>{{ item.UpdatedAt | getisodate }}</td>\\n              <td>\\n                <span>\\n                  <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr dir-paginate-end ng-show=\"item.Expanded\">\\n              <td></td>\\n              <td colspan=\"8\">\\n                <service-tasks-datatable\\n                  dataset=\"item.Tasks\"\\n                  service-id=\"item.Id\"\\n                  table-key=\"service-tasks\"\\n                  order-by=\"Status.State\"\\n                  nodes=\"$ctrl.nodes\"\\n                  agent-proxy=\"$ctrl.agentProxy\"\\n                  show-task-logs-button=\"$ctrl.showTaskLogsButton\"\\n                  text-filter=\"$ctrl.state.textFilter\"\\n                ></service-tasks-datatable>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"8\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"8\" class=\"text-center text-muted\">No service available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(5);angular.module(\"portainer.docker\").controller(\"ServicesDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"EndpointProvider\",function(e,t,n,i){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));var s=this;function r(e,t){Object(a.a)(t,(function(t){return e.Id===t}))&&s.expandItem(e,!0)}this.state=Object.assign(this.state,{expandAll:!1,expandedItems:[],publicURL:i.endpointPublicURL()}),this.expandAll=function(){this.state.expandAll=!this.state.expandAll;for(var e=0;e<this.state.filteredDataSet.length;e++){var t=this.state.filteredDataSet[e];this.expandItem(t,this.state.expandAll)}},this.expandItem=function(e,t){if(e.Expanded=t,e.Expanded)-1===this.state.expandedItems.indexOf(e.Id)&&this.state.expandedItems.push(e.Id);else{var a=this.state.expandedItems.indexOf(e.Id);a>-1&&this.state.expandedItems.splice(a,1)}n.setDataTableExpandedItems(this.tableKey,this.state.expandedItems)},this.expandItems=function(e){var t=0;this.state.expandedItems=e;for(var n=0;n<this.dataset.length;n++){var a=this.dataset[n];r(a,e),a.Expanded&&++t}t===this.dataset.length&&(this.state.expandAll=!0)},this.onDataRefresh=function(){var e=n.getDataTableExpandedItems(this.tableKey);null!==e&&this.expandItems(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableExpandedItems(this.tableKey);null!==i&&this.expandItems(i);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1174);angular.module(\"portainer.docker\").component(\"tasksDatatable\",{templateUrl:a,controller:\"TasksDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",nodes:\"<\",showSlotColumn:\"<\",showLogsButton:\"<\",agentProxy:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/tasks-datatable/tasksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Id\\')\">\\n                  Id\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Actions</th>\\n              <th ng-if=\"$ctrl.showSlotColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Slot\\')\">\\n                  Slot\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Slot\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Slot\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'NodeId\\')\">\\n                  Node\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeId\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeId\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Updated\\')\">\\n                  Last Update\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Updated\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Updated\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td\\n                ><span class=\"label label-{{ item.Status.State | taskstatusbadge }}\">{{ item.Status.State }}</span></td\\n              >\\n              <td>\\n                <a ng-if=\"!$ctrl.agentProxy || !item.Container\" ui-sref=\"docker.tasks.task({id: item.Id})\" class=\"monospaced\"\\n                  >{{ item.ServiceName }}{{ item.Slot ? \\'.\\' + item.Slot : \\'\\' }}{{ \\'.\\' + item.Id }}</a\\n                >\\n                <a ng-if=\"$ctrl.agentProxy && item.Container\" ui-sref=\"docker.containers.container({ id: item.Container.Id, nodeName: item.Container.NodeName })\" class=\"monospaced\"\\n                  >{{ item.ServiceName }}{{ item.Slot ? \\'.\\' + item.Slot : \\'\\' }}{{ \\'.\\' + item.Id }}</a\\n                >\\n              </td>\\n              <td>\\n                <container-quick-actions\\n                  ng-if=\"!$ctrl.agentProxy || !item.Container\"\\n                  container-id=\"item.ContainerId\"\\n                  task-id=\"item.Id\"\\n                  status=\"item.Status.State\"\\n                  state=\"$ctrl.state\"\\n                ></container-quick-actions>\\n                <container-quick-actions\\n                  ng-if=\"$ctrl.agentProxy && item.Container\"\\n                  container-id=\"item.Container.Id\"\\n                  node-name=\"item.Container.NodeName\"\\n                  status=\"item.Status.State\"\\n                  state=\"$ctrl.state\"\\n                ></container-quick-actions>\\n              </td>\\n              <td ng-if=\"$ctrl.showSlotColumn\">{{ item.Slot ? item.Slot : \\'-\\' }}</td>\\n              <td>{{ item.NodeId | tasknodename: $ctrl.nodes }}</td>\\n              <td>{{ item.Updated | getisodate }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">No task available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"TasksDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{showQuickActionStats:!0,showQuickActionLogs:!0,showQuickActionExec:!0,showQuickActionInspect:!0,showQuickActionAttach:!1}),this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1177);angular.module(\"portainer.docker\").component(\"volumesDatatable\",{templateUrl:a,controller:\"VolumesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",showHostColumn:\"<\",removeAction:\"<\",showBrowseAction:\"<\",offlineMode:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/docker/components/datatables/volumes-datatable/volumesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\" ng-if=\"!$ctrl.offlineMode\" authorization=\"DockerVolumeDelete, DockerVolumeCreate\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          authorization=\"DockerVolumeDelete\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.volumes.new\" authorization=\"DockerVolumeCreate\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add volume\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover table-filters nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.filters.state.open\">\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\" authorization=\"DockerVolumeDelete, DockerVolumeCreate\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Id\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n                <div>\\n                  <span uib-dropdown-toggle class=\"table-filter\" ng-if=\"!$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-filter\" aria-hidden=\"true\"></i></span>\\n                  <span uib-dropdown-toggle class=\"table-filter filter-active\" ng-if=\"$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-check\" aria-hidden=\"true\"></i></span>\\n                </div>\\n                <div class=\"dropdown-menu\" uib-dropdown-menu>\\n                  <div class=\"tableMenu\">\\n                    <div class=\"menuHeader\">\\n                      Filter by usage\\n                    </div>\\n                    <div class=\"menuContent\">\\n                      <div class=\"md-checkbox\">\\n                        <input id=\"filter_usage_usedImages\" type=\"checkbox\" ng-model=\"$ctrl.filters.state.showUsedVolumes\" ng-change=\"$ctrl.onstateFilterChange()\" />\\n                        <label for=\"filter_usage_usedImages\">Used volumes</label>\\n                      </div>\\n                      <div class=\"md-checkbox\">\\n                        <input id=\"filter_usage_unusedImages\" type=\"checkbox\" ng-model=\"$ctrl.filters.state.showUnusedVolumes\" ng-change=\"$ctrl.onstateFilterChange()\" />\\n                        <label for=\"filter_usage_unusedImages\">Unused volumes</label>\\n                      </div>\\n                    </div>\\n                    <div>\\n                      <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.filters.state.open = false;\">Close</a>\\n                    </div>\\n                  </div>\\n                </div>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Driver\\')\">\\n                  Driver\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Driver\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Driver\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Mountpoint\\')\">\\n                  Mount point\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Mountpoint\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Mountpoint\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreatedAt\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreatedAt\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreatedAt\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.showHostColumn\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'NodeName\\')\">\\n                  Host\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'NodeName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\" authorization=\"DockerVolumeDelete, DockerVolumeCreate\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ng-if=\"!$ctrl.offlineMode\" ui-sref=\"docker.volumes.volume({ id: item.Id, nodeName: item.NodeName })\" class=\"monospaced\" title=\"{{ item.Id }}\">{{\\n                  item.Id | truncate: 40\\n                }}</a>\\n                <span ng-if=\"$ctrl.offlineMode\">{{ item.Id | truncate: 40 }}</span>\\n                <btn authorization=\"DockerAgentBrowseList\" ng-if=\"$ctrl.showBrowseAction && !$ctrl.offlineMode\">\\n                  <a ui-sref=\"docker.volumes.volume.browse({ id: item.Id, nodeName: item.NodeName })\" class=\"btn btn-xs btn-primary space-left\">\\n                    <i class=\"fa fa-search\"></i> browse\\n                  </a>\\n                </btn>\\n                <span style=\"margin-left: 10px;\" class=\"label label-warning image-tag space-left\" ng-if=\"item.dangling\">Unused</span>\\n              </td>\\n              <td>{{ item.StackName ? item.StackName : \\'-\\' }}</td>\\n              <td>{{ item.Driver }}</td>\\n              <td>{{ item.Mountpoint | truncatelr }}</td>\\n              <td>{{ item.CreatedAt | getisodate }}</td>\\n              <td ng-if=\"$ctrl.showHostColumn\">{{ item.NodeName ? item.NodeName : \\'-\\' }}</td>\\n              <td>\\n                <span>\\n                  <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">No volume available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"VolumesDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));var a=this;this.filters={state:{open:!1,enabled:!1,showUsedVolumes:!0,showUnusedVolumes:!0}},this.applyFilters=function(e){var t=e,n=a.filters;return!!(t.dangling&&n.state.showUnusedVolumes||!t.dangling&&n.state.showUsedVolumes)},this.onstateFilterChange=function(){var e=this.filters.state,t=!1;e.showUsedVolumes&&e.showUnusedVolumes||(t=!0),this.filters.state.enabled=t,n.setDataTableFilters(this.tableKey,this.filters)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1180);angular.module(\"portainer.docker\").component(\"dockerSidebar\",{templateUrl:a,bindings:{isSidebarOpen:\"<\",endpointApiVersion:\"<\",swarmManagement:\"<\",standaloneManagement:\"<\",adminAccess:\"<\",offlineMode:\"<\",currentRouteName:\"<\",endpointId:\"<\",showStacks:\"<\"}})},function(e,t){var n=\"app/docker/components/docker-sidebar/docker-sidebar.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<sidebar-menu-item\\n  path=\"docker.dashboard\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-tachometer-alt fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-dashboard\"\\n>\\n  Dashboard\\n</sidebar-menu-item>\\n\\n<sidebar-menu\\n  ng-if=\"!$ctrl.offlineMode\"\\n  label=\"App Templates\"\\n  icon-class=\"fa-rocket fa-fw\"\\n  path=\"docker.templates\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  is-sidebar-open=\"$ctrl.isSidebarOpen\"\\n  children-paths=\"[]\"\\n>\\n  <sidebar-menu-item path=\"docker.templates.custom\" path-params=\"{ endpointId: $ctrl.endpointId }\" class-name=\"sidebar-sublist\" data-cy=\"dockerSidebar-customTemplates\">\\n    Custom Templates\\n  </sidebar-menu-item>\\n</sidebar-menu>\\n\\n<sidebar-menu-item\\n  ng-if=\"$ctrl.showStacks\"\\n  path=\"docker.stacks\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-th-list fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-stacks\"\\n>\\n  Stacks\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  ng-if=\"$ctrl.swarmManagement\"\\n  path=\"docker.services\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-list-alt fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-services\"\\n>\\n  Services\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item path=\"docker.containers\" path-params=\"{ endpointId: $ctrl.endpointId }\" icon-class=\"fa-cubes fa-fw\" class-name=\"sidebar-list\" data-cy=\"dockerSidebar-containers\">\\n  Containers\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item path=\"docker.images\" path-params=\"{ endpointId: $ctrl.endpointId }\" icon-class=\"fa-clone fa-fw\" class-name=\"sidebar-list\" data-cy=\"dockerSidebar-images\">\\n  Images\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item path=\"docker.networks\" path-params=\"{ endpointId: $ctrl.endpointId }\" icon-class=\"fa-sitemap fa-fw\" class-name=\"sidebar-list\" data-cy=\"dockerSidebar-networks\">\\n  Networks\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item path=\"docker.volumes\" path-params=\"{ endpointId: $ctrl.endpointId }\" icon-class=\"fa-hdd fa-fw\" class-name=\"sidebar-list\" data-cy=\"dockerSidebar-volumes\">\\n  Volumes\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  ng-if=\"$ctrl.endpointApiVersion >= 1.3 && $ctrl.swarmManagement\"\\n  path=\"docker.configs\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-file-code fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-configs\"\\n>\\n  Configs\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  ng-if=\"$ctrl.endpointApiVersion >= 1.25 && $ctrl.swarmManagement\"\\n  path=\"docker.secrets\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-user-secret fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-secrets\"\\n>\\n  Secrets\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  ng-if=\"$ctrl.standaloneManagement && $ctrl.adminAccess && !$ctrl.offlineMode\"\\n  path=\"docker.events\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-history fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"dockerSidebar-events\"\\n>\\n  Events\\n</sidebar-menu-item>\\n\\n<sidebar-menu\\n  ng-if=\"$ctrl.standaloneManagement\"\\n  label=\"Host\"\\n  icon-class=\"fa-th fa-fw\"\\n  path=\"docker.host\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  is-sidebar-open=\"$ctrl.isSidebarOpen\"\\n  children-paths=\"[\\'docker.registries\\', \\'docker.registries.access\\', \\'docker.featuresConfiguration\\']\"\\n>\\n  <div ng-if=\"$ctrl.adminAccess\">\\n    <sidebar-menu-item\\n      authorization=\"PortainerEndpointUpdateSettings\"\\n      path=\"docker.featuresConfiguration\"\\n      path-params=\"{ endpointId: $ctrl.endpointId }\"\\n      class-name=\"sidebar-sublist\"\\n      data-cy=\"dockerSidebar-setup\"\\n    >\\n      Setup\\n    </sidebar-menu-item>\\n\\n    <sidebar-menu-item\\n      authorization=\"PortainerRegistryList\"\\n      path=\"docker.registries\"\\n      path-params=\"{ endpointId: $ctrl.endpointId }\"\\n      class-name=\"sidebar-sublist\"\\n      data-cy=\"dockerSidebar-registries\"\\n    >\\n      Registries\\n    </sidebar-menu-item>\\n  </div>\\n</sidebar-menu>\\n\\n<sidebar-menu\\n  ng-if=\"$ctrl.swarmManagement\"\\n  label=\"Swarm\"\\n  icon-class=\"fa-object-group fa-fw\"\\n  path=\"docker.swarm\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  is-sidebar-open=\"$ctrl.isSidebarOpen\"\\n  children-paths=\"[\\'docker.registries\\', \\'docker.registries.access\\', \\'docker.featuresConfiguration\\']\"\\n>\\n  <div ng-if=\"$ctrl.adminAccess\">\\n    <sidebar-menu-item\\n      authorization=\"PortainerEndpointUpdateSettings\"\\n      path=\"docker.featuresConfiguration\"\\n      path-params=\"{ endpointId: $ctrl.endpointId }\"\\n      class-name=\"sidebar-sublist\"\\n      data-cy=\"swarmSidebar-setup\"\\n    >\\n      Setup\\n    </sidebar-menu-item>\\n\\n    <sidebar-menu-item\\n      authorization=\"PortainerRegistryList\"\\n      path=\"docker.registries\"\\n      path-params=\"{ endpointId: $ctrl.endpointId }\"\\n      class-name=\"sidebar-sublist\"\\n      data-cy=\"swarmSidebar-registries\"\\n    >\\n      Registries\\n    </sidebar-menu-item>\\n  </div>\\n</sidebar-menu>\\n')}]),e.exports=n},function(e,t,n){const a=n(1182);angular.module(\"portainer.docker\").component(\"hostOverview\",{templateUrl:a,bindings:{hostDetails:\"<\",engineDetails:\"<\",devices:\"<\",disks:\"<\",isAgent:\"<\",offlineMode:\"<\",agentApiVersion:\"<\",refreshUrl:\"@\",browseUrl:\"@\",hostFeaturesEnabled:\"<\"},transclude:!0})},function(e,t){var n=\"app/docker/components/host-overview/host-overview.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Host overview\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"{{ $ctrl.refreshUrl }}\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Docker</rd-header-content>\\n</rd-header>\\n\\n<information-panel-offline ng-if=\"$ctrl.offlineMode\"></information-panel-offline>\\n\\n<host-details-panel\\n  host=\"$ctrl.hostDetails\"\\n  is-browse-enabled=\"$ctrl.isAgent && $ctrl.agentApiVersion > 1 && !$ctrl.offlineMode && $ctrl.hostFeaturesEnabled\"\\n  browse-url=\"{{ $ctrl.browseUrl }}\"\\n></host-details-panel>\\n\\n<engine-details-panel engine=\"$ctrl.engineDetails\"></engine-details-panel>\\n\\n<devices-panel ng-if=\"$ctrl.isAgent && $ctrl.agentApiVersion > 1 && !$ctrl.offlineMode && $ctrl.hostFeaturesEnabled\" devices=\"$ctrl.devices\"></devices-panel>\\n<disks-panel ng-if=\"$ctrl.isAgent && $ctrl.agentApiVersion > 1 && !$ctrl.offlineMode && $ctrl.hostFeaturesEnabled\" disks=\"$ctrl.disks\"></disks-panel>\\n\\n<ng-transclude></ng-transclude>\\n')}]),e.exports=n},function(e,t,n){const a=n(1184);angular.module(\"portainer.docker\").component(\"devicesPanel\",{templateUrl:a,bindings:{devices:\"<\"}})},function(e,t){var n=\"app/docker/components/host-view-panels/devices-panel/devices-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-code\" title-text=\"PCI Devices\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <thead>\\n            <tr>\\n              <th>Name</th>\\n              <th>Vendor</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr ng-if=\"$ctrl.devices && $ctrl.devices.length\" ng-repeat=\"device in $ctrl.devices\">\\n              <td>{{ device.Name }}</td>\\n              <td>{{ device.Vendor }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.devices\">\\n              <td colspan=\"2\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.devices.length === 0\">\\n              <td colspan=\"2\" class=\"text-center text-muted\">\\n                No device available.\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1186);angular.module(\"portainer.docker\").component(\"disksPanel\",{templateUrl:a,bindings:{disks:\"<\"}})},function(e,t){var n=\"app/docker/components/host-view-panels/disks-panel/disks-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-code\" title-text=\"Physical Disks\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <thead>\\n            <tr>\\n              <th>Vendor</th>\\n              <th>Size</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr ng-if=\"$ctrl.disks\" ng-repeat=\"disk in $ctrl.disks\">\\n              <td>{{ disk.Vendor }}</td>\\n              <td>{{ disk.Size | humansize }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.disks\">\\n              <td colspan=\"2\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.disks.length === 0\">\\n              <td colspan=\"2\" class=\"text-center text-muted\">\\n                No disks available.\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1188);angular.module(\"portainer.docker\").component(\"engineDetailsPanel\",{templateUrl:a,bindings:{engine:\"<\"}})},function(e,t){var n=\"app/docker/components/host-view-panels/engine-details-panel/engine-details-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-code\" title-text=\"Engine Details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Version</td>\\n              <td\\n                >{{ $ctrl.engine.releaseVersion }} <span ng-if=\"$ctrl.engine.apiVersion\">(API: {{ $ctrl.engine.apiVersion }})</span></td\\n              >\\n            </tr>\\n            <tr ng-if=\"$ctrl.engine.rootDirectory\">\\n              <td>Root directory</td>\\n              <td>{{ $ctrl.engine.rootDirectory }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.engine.storageDriver\">\\n              <td>Storage Driver</td>\\n              <td>{{ $ctrl.engine.storageDriver }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.engine.loggingDriver\">\\n              <td>Logging Driver</td>\\n              <td>{{ $ctrl.engine.loggingDriver }}</td>\\n            </tr>\\n            <tr>\\n              <td>Volume Plugins</td>\\n              <td>{{ $ctrl.engine.volumePlugins | arraytostr: \\', \\' }}</td>\\n            </tr>\\n            <tr>\\n              <td>Network Plugins</td>\\n              <td>{{ $ctrl.engine.networkPlugins | arraytostr: \\', \\' }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.engine.engineLabels.length\">\\n              <td>Engine Labels</td>\\n              <td>{{ $ctrl.engine.engineLabels | labelsToStr: \\', \\' }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1190);angular.module(\"portainer.docker\").component(\"hostDetailsPanel\",{templateUrl:a,bindings:{host:\"<\",isBrowseEnabled:\"<\",browseUrl:\"@\"}})},function(e,t){var n=\"app/docker/components/host-view-panels/host-details-panel/host-details-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-code\" title-text=\"Host Details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Hostname</td>\\n              <td>{{ $ctrl.host.name }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.host.os\">\\n              <td>OS Information</td>\\n              <td>{{ $ctrl.host.os.type }} {{ $ctrl.host.os.arch }} {{ $ctrl.host.os.name }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.host.kernelVersion\">\\n              <td>Kernel Version</td>\\n              <td>{{ $ctrl.host.kernelVersion }}</td>\\n            </tr>\\n            <tr>\\n              <td>Total CPU</td>\\n              <td>{{ $ctrl.host.totalCPU }}</td>\\n            </tr>\\n            <tr>\\n              <td>Total memory</td>\\n              <td>{{ $ctrl.host.totalMemory | humansize }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.isBrowseEnabled\">\\n              <td colspan=\"2\">\\n                <button class=\"btn btn-primary btn-sm\" title=\"Browse\" ui-sref=\"{{ $ctrl.browseUrl }}\">\\n                  Browse\\n                </button>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"NodeAvailabilitySelectController\",[function(){this.onChange=function(){this.onSave({availability:this.availability})}}])},function(e,t,n){const a=n(1193);angular.module(\"portainer.docker\").component(\"nodeAvailabilitySelect\",{templateUrl:a,controller:\"NodeAvailabilitySelectController\",bindings:{availability:\"<\",originalValue:\"<\",onSave:\"&\"}})},function(e,t){var n=\"app/docker/components/host-view-panels/node-availability-select/node-availability-select.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"input-group input-group-sm\">\\n  <select name=\"nodeAvailability\" class=\"selectpicker form-control\" ng-model=\"$ctrl.availability\" ng-change=\"$ctrl.onChange()\">\\n    <option value=\"active\">Active</option>\\n    <option value=\"pause\">Pause</option>\\n    <option value=\"drain\">Drain</option>\\n  </select>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"NodeLabelsTableController\",[function(){var e=this;e.removeLabel=function(t){null!==e.labels.splice(t,1)&&e.onChangedLabels({labels:e.labels})},e.updateLabel=function(t){t.value===t.originalValue&&t.key===t.originalKey||e.onChangedLabels({labels:e.labels})}}])},function(e,t,n){const a=n(1196);angular.module(\"portainer.docker\").component(\"nodeLabelsTable\",{templateUrl:a,controller:\"NodeLabelsTableController\",bindings:{labels:\"<\",onChangedLabels:\"&\"}})},function(e,t){var n=\"app/docker/components/host-view-panels/node-labels-table/node-labels-table.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div ng-if=\"!$ctrl.labels.length\">\\n  There are no labels for this node.\\n</div>\\n\\n<div class=\"col-sm-12 form-inline\" style=\"padding: 0px;\" ng-if=\"$ctrl.labels.length\">\\n  <div ng-repeat=\"label in $ctrl.labels\" style=\"margin-top: 2px;\">\\n    <div class=\"input-group col-sm-5 input-group-sm\">\\n      <span class=\"input-group-addon\">name</span>\\n      <input type=\"text\" class=\"form-control\" ng-model=\"label.key\" placeholder=\"e.g. com.example.foo\" ng-change=\"$ctrl.updateLabel(label)\" />\\n    </div>\\n    <div class=\"input-group col-sm-5 input-group-sm\">\\n      <span class=\"input-group-addon\">value</span>\\n      <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" ng-change=\"$ctrl.updateLabel(label)\" />\\n    </div>\\n    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.removeLabel($index)\">\\n      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n    </button>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"SwarmNodeDetailsPanelController\",[\"NodeService\",\"LabelHelper\",\"Notifications\",\"$state\",function(e,t,n,a){var i=this;i.state={managerAddress:\"\",hasChanges:!1},i.$onChanges=function(){if(!i.details)return;\"manager\"===i.details.role&&(i.state.managerAddress=\"(\"+i.details.managerAddress+\")\")},i.addLabel=function(){i.details.nodeLabels.push({key:\"\",value:\"\",originalValue:\"\",originalKey:\"\"})},i.updateNodeLabels=function(e){i.details.nodeLabels=e,i.state.hasChanges=!0},i.updateNodeAvailability=function(e){i.details.availability=e,i.state.hasChanges=!0},i.saveChanges=function(){var s=i.originalNode,r={Name:s.Name,Availability:i.details.availability,Role:s.Role,Labels:t.fromKeyValueToLabelHash(i.details.nodeLabels),Id:s.Id,Version:s.Version};e.updateNode(r).then((function(){n.success(\"Node successfully updated\",\"Node updated\"),a.go(\"docker.nodes.node\",{id:s.Id},{reload:!0})})).catch((function(e){n.error(\"Failure\",e,\"Failed to update node\")}))},i.cancelChanges=function(){i.details.nodeLabels=i.details.nodeLabels.filter((function(e){return e.originalValue||e.originalKey})).map((function(e){return Object.assign(e,{value:e.originalValue,key:e.originalKey})})),i.details.availability=i.originalNode.Availability,i.state.hasChanges=!1}}])},function(e,t,n){const a=n(1199);angular.module(\"portainer.docker\").component(\"swarmNodeDetailsPanel\",{templateUrl:a,controller:\"SwarmNodeDetailsPanelController\",bindings:{details:\"<\",originalNode:\"<\"}})},function(e,t){var n=\"app/docker/components/host-view-panels/swarm-node-details-panel/swarm-node-details-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-code\" title-text=\"Node Details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr ng-if=\"$ctrl.details.name\">\\n              <td>Node name</td>\\n              <td>{{ $ctrl.details.name }}</td>\\n            </tr>\\n            <tr>\\n              <td>Role</td>\\n              <td>{{ $ctrl.details.role }} {{ $ctrl.state.managerAddress }}</td>\\n            </tr>\\n            <tr>\\n              <td>Availability</td>\\n              <td>\\n                <node-availability-select\\n                  on-save=\"$ctrl.updateNodeAvailability(availability)\"\\n                  availability=\"$ctrl.details.availability\"\\n                  original-value=\"$ctrl.details.availability\"\\n                >\\n                </node-availability-select>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Status</td>\\n              <td\\n                ><span class=\"label label-{{ $ctrl.details.status | nodestatusbadge }}\">{{ $ctrl.details.status }}</span></td\\n              >\\n            </tr>\\n            <tr>\\n              <td>\\n                <div class=\"nopadding\">\\n                  <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"$ctrl.addLabel(node)\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> label </a>\\n                </div>\\n                Node Labels\\n              </td>\\n              <td></td>\\n            </tr>\\n            <tr>\\n              <td colspan=\"2\">\\n                <node-labels-table labels=\"$ctrl.details.nodeLabels\" on-changed-labels=\"$ctrl.updateNodeLabels(labels)\"></node-labels-table>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td colspan=\"2\">\\n                <div class=\"btn-toolbar\" role=\"toolbar\">\\n                  <div class=\"btn-group\" role=\"group\">\\n                    <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!$ctrl.state.hasChanges\" ng-click=\"$ctrl.saveChanges()\">\\n                      Apply changes\\n                    </button>\\n                    <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n                      <span class=\"caret\"></span>\\n                    </button>\\n                    <ul class=\"dropdown-menu\">\\n                      <li><a ng-click=\"$ctrl.cancelChanges()\">Reset changes</a></li>\\n                    </ul>\\n                  </div>\\n                </div>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(555);const r=n(1201);i.a.module(\"portainer.docker\").component(\"porImageRegistryRateLimits\",{bindings:{endpoint:\"<\",registry:\"<\",setValidity:\"<\",isAdmin:\"<\",isDockerHubRegistry:\"<\",isAuthenticated:\"<\",registryId:\"<\"},controller:s.default,transclude:{rateLimitExceeded:\"?porImageRegistryRateLimitExceeded\"},templateUrl:r})},function(e,t){var n=\"app/docker/components/imageRegistry/por-image-registry-rate-limits.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group\" ng-if=\"$ctrl.pullRateLimits\">\\n  <div class=\"col-sm-12 small\">\\n    <div ng-if=\"$ctrl.pullRateLimits.remaining > 0\" class=\"text-muted\">\\n      <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      <span ng-if=\"$ctrl.isAuthenticated\">\\n        You are currently using a free account to pull images from DockerHub and will be limited to 200 pulls every 6 hours. Remaining pulls:\\n        <span style=\"font-weight: bold;\">{{ $ctrl.pullRateLimits.remaining }}/{{ $ctrl.pullRateLimits.limit }}</span>\\n      </span>\\n      <span ng-if=\"!$ctrl.isAuthenticated\">\\n        <span ng-if=\"$ctrl.isAdmin\">\\n          You are currently using an anonymous account to pull images from DockerHub and will be limited to 100 pulls every 6 hours. You can configure DockerHub authentication in\\n          the\\n          <a ui-sref=\"portainer.registries\">Registries View</a>. Remaining pulls:\\n          <span style=\"font-weight: bold;\">{{ $ctrl.pullRateLimits.remaining }}/{{ $ctrl.pullRateLimits.limit }}</span>\\n        </span>\\n        <span ng-if=\"!$ctrl.isAdmin\">\\n          You are currently using an anonymous account to pull images from DockerHub and will be limited to 100 pulls every 6 hours. Contact your administrator to configure\\n          DockerHub authentication. Remaining pulls: <span style=\"font-weight: bold;\">{{ $ctrl.pullRateLimits.remaining }}/{{ $ctrl.pullRateLimits.limit }}</span>\\n        </span>\\n      </span>\\n    </div>\\n    <div ng-if=\"$ctrl.pullRateLimits.remaining <= 0\" class=\"text-warning\">\\n      <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n      <span ng-if=\"$ctrl.isAuthenticated\">\\n        Your authorized pull count quota as a free user is now exceeded.\\n        <span ng-transclude=\"rateLimitExceeded\">You will not be able to pull any image from the DockerHub registry.</span>\\n      </span>\\n      <span ng-if=\"!$ctrl.isAuthenticated\">\\n        Your authorized pull count quota as an anonymous user is now exceeded.\\n        <span ng-transclude=\"rateLimitExceeded\">You will not be able to pull any image from the DockerHub registry.</span>\\n      </span>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(5),i=n(809),s=n(41),r=n(104),o=n(2),l=n(16),c=n(6),d=n(1),u=n.n(d),p=n(168),m=n(30);class g{constructor(e,t,n,a,i,s,r){this.$async=e,this.$scope=t,this.ImageHelper=n,this.RegistryService=a,this.EndpointService=i,this.ImageService=s,this.Notifications=r,this.onRegistryChange=this.onRegistryChange.bind(this),this.onImageChange=this.onImageChange.bind(this),this.registries=[],this.images=[],this.defaultRegistry=new p.DockerHubViewModel,this.$scope.$watch(()=>this.model.Registry,this.onRegistryChange),this.$scope.$watch(()=>this.model.Image,this.onImageChange)}isKnownRegistry(e){return!(e instanceof p.DockerHubViewModel)&&e.URL}getRegistryURL(e){let t=e.URL;return e.Type===m.RegistryTypes.GITLAB&&(t=e.URL+\"/\"+e.Gitlab.ProjectPath),t}prepareAutocomplete(){let e=[];const t=this.model.Registry;if(this.isKnownRegistry(t)){const n=this.getRegistryURL(t),a=Object(c.a)(this.images,e=>Object(l.a)(e,n));e=Object(o.a)(a,e=>Object(r.a)(e,new RegExp(n+\"/?\"),\"\"))}else{const t=Object(c.a)(this.registries,e=>this.isKnownRegistry(e)),n=Object(s.a)(t,e=>Object(c.a)(this.images,t=>Object(l.a)(t,e.URL))),a=Object(i.a)(this.images,n);e=Object(c.a)(a,e=>!this.ImageHelper.imageContainsURL(e))}this.availableImages=e}isDockerHubRegistry(){return this.model.UseRegistry&&(this.model.Registry.Type===m.RegistryTypes.DOCKERHUB||this.model.Registry.Type===m.RegistryTypes.ANONYMOUS)}async onRegistryChange(){this.prepareAutocomplete(),this.model.Registry.Type===m.RegistryTypes.GITLAB&&this.model.Image&&(this.model.Image=Object(r.a)(this.model.Image,this.model.Registry.Gitlab.ProjectPath,\"\"))}async onImageChange(){this.isDockerHubRegistry()||this.setValidity(!0)}displayedRegistryURL(){return this.getRegistryURL(this.model.Registry)||\"docker.io\"}async reloadRegistries(){return this.$async(async()=>{try{let e=!1;this.registries=await this.EndpointService.registries(this.endpoint.Id,this.namespace),this.registries.sort((e,t)=>e.Name.localeCompare(t.Name)),this.registries.some(e=>e.Type===m.RegistryTypes.DOCKERHUB)||(e=!0,this.registries.splice(0,0,this.defaultRegistry));const t=this.model.Registry.Id;Object(a.a)(this.registries,{Id:t})||(this.model.Registry=e?this.defaultRegistry:this.registries[0])}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registries\")}})}async loadImages(){return this.$async(async()=>{try{if(!this.autoComplete)return void(this.images=[]);const e=await this.ImageService.images();this.images=this.ImageService.getUniqueTagListFromImages(e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve images\")}})}$onChanges({namespace:e,endpoint:t}){(e||t)&&this.endpoint.Id&&this.reloadRegistries()}$onInit(){return this.$async(async()=>{await this.loadImages()})}}g.$inject=[\"$async\",\"$scope\",\"ImageHelper\",\"RegistryService\",\"EndpointService\",\"ImageService\",\"Notifications\"],t.default=g,u.a.module(\"portainer.docker\").controller(\"porImageRegistryController\",g)},function(e,t,n){const a=n(1204);angular.module(\"portainer.docker\").component(\"porImageRegistry\",{templateUrl:a,controller:\"porImageRegistryController\",bindings:{model:\"=\",autoComplete:\"<\",labelClass:\"@\",inputClass:\"@\",endpoint:\"<\",isAdmin:\"<\",checkRateLimits:\"<\",onImageChange:\"&\",setValidity:\"<\",namespace:\"<\"},require:{form:\"^form\"},transclude:!0})},function(e,t){var n=\"app/docker/components/imageRegistry/por-image-registry.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'\\x3c!-- use registry --\\x3e\\n<div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.model.UseRegistry\">\\n    <label for=\"image_registry\" class=\"control-label text-left\" ng-class=\"$ctrl.labelClass\">\\n      Registry\\n    </label>\\n    <div ng-class=\"$ctrl.inputClass\">\\n      <select\\n        ng-options=\"registry as registry.Name for registry in $ctrl.registries track by registry.Id\"\\n        ng-model=\"$ctrl.model.Registry\"\\n        id=\"image_registry\"\\n        class=\"form-control\"\\n        data-cy=\"component-registrySelect\"\\n      ></select>\\n    </div>\\n    <label for=\"image_name\" ng-class=\"$ctrl.labelClass\" class=\"margin-sm-top control-label text-left\">Image</label>\\n    <div ng-class=\"$ctrl.inputClass\" class=\"margin-sm-top\">\\n      <div class=\"input-group\">\\n        <span class=\"input-group-addon\" id=\"registry-name\">{{ $ctrl.displayedRegistryURL() }}</span>\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          aria-describedby=\"registry-name\"\\n          uib-typeahead=\"image for image in $ctrl.availableImages | filter:$viewValue | limitTo:5\"\\n          ng-model=\"$ctrl.model.Image\"\\n          name=\"image_name\"\\n          placeholder=\"e.g. my-image:my-tag\"\\n          ng-change=\"$ctrl.onImageChange()\"\\n          required\\n          data-cy=\"component-imageInput\"\\n        />\\n        <span ng-if=\"$ctrl.isDockerHubRegistry()\" class=\"input-group-btn\">\\n          <a\\n            href=\"https://hub.docker.com/search?type=image&q={{ $ctrl.model.Image | trimshasum | trimversiontag }}\"\\n            class=\"btn btn-default\"\\n            title=\"Search image on Docker Hub\"\\n            target=\"_blank\"\\n          >\\n            <i class=\"fab fa-docker\"></i> Search\\n          </a>\\n        </span>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- ! use registry --\\x3e\\n  \\x3c!-- don\\'t use registry --\\x3e\\n  <div ng-if=\"!$ctrl.model.UseRegistry\">\\n    <div class=\"form-group\">\\n      <span class=\"small\">\\n        <p class=\"text-muted\" style=\"margin-left: 15px;\">\\n          <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n          When using advanced mode, image and repository <b>must be</b> publicly available.\\n        </p>\\n      </span>\\n      <label for=\"image_name\" ng-class=\"$ctrl.labelClass\" class=\"control-label text-left\">Image </label>\\n      <div ng-class=\"$ctrl.inputClass\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.model.Image\" name=\"image_name\" placeholder=\"e.g. registry:port/my-image:my-tag\" required />\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- ! don\\'t use registry --\\x3e\\n  \\x3c!-- info message --\\x3e\\n  <div class=\"form-group\" ng-show=\"$ctrl.form.image_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"$ctrl.form.image_name.$error\">\\n        <p ng-message=\"required\">\\n          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Image name is required.\\n          <span ng-if=\"$ctrl.canPull\">Tag must be specified otherwise Portainer will pull all tags associated to the image.</span>\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- ! info message --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <p>\\n        <a class=\"small interactive\" ng-if=\"!$ctrl.model.UseRegistry\" ng-click=\"$ctrl.model.UseRegistry = true;\">\\n          <i class=\"fa fa-database space-right\" aria-hidden=\"true\"></i> Simple mode\\n        </a>\\n        <a class=\"small interactive\" ng-if=\"$ctrl.model.UseRegistry\" ng-click=\"$ctrl.model.UseRegistry = false;\">\\n          <i class=\"fa fa-globe space-right\" aria-hidden=\"true\"></i> Advanced mode\\n        </a>\\n      </p>\\n    </div>\\n  </div>\\n\\n  <div ng-transclude></div>\\n\\n  <por-image-registry-rate-limits\\n    ng-if=\"$ctrl.checkRateLimits && $ctrl.isDockerHubRegistry()\"\\n    endpoint=\"$ctrl.endpoint\"\\n    registry=\"$ctrl.model.Registry\"\\n    set-validity=\"$ctrl.setValidity\"\\n    is-authenticated=\"$ctrl.model.Registry.Authentication\"\\n    is-admin=\"$ctrl.isAdmin\"\\n    registry-id=\"$ctrl.model.Registry.Id\"\\n  >\\n  </por-image-registry-rate-limits>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1206);angular.module(\"portainer.docker\").component(\"logViewer\",{templateUrl:a,controller:\"LogViewerController\",bindings:{data:\"=\",displayTimestamps:\"=\",logCollectionChange:\"<\",sinceTimestamp:\"=\",lineCount:\"=\",resourceName:\"<\"}})},function(e,t){var n=\"app/docker/components/log-viewer/logViewer.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-file-alt\" title-text=\"Log viewer settings\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"tls\" class=\"control-label text-left\">\\n                Auto-refresh logs\\n                <portainer-tooltip position=\"bottom\" message=\"Disabling this option allows you to pause the log collection process and the auto-scrolling.\"></portainer-tooltip>\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\">\\n                <input\\n                  type=\"checkbox\"\\n                  ng-model=\"$ctrl.state.logCollection\"\\n                  ng-change=\"$ctrl.state.autoScroll = $ctrl.state.logCollection; $ctrl.logCollectionChange($ctrl.state.logCollection)\"\\n                /><i></i>\\n              </label>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"tls\" class=\"control-label text-left\">\\n                Wrap lines\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"$ctrl.state.wrapLines\" /><i></i> </label>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <label for=\"tls\" class=\"control-label text-left\">\\n                Display timestamps\\n              </label>\\n              <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"$ctrl.displayTimestamps\" /><i></i> </label>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"logs_since\" class=\"col-sm-1 control-label text-left\">\\n              Fetch\\n            </label>\\n            <div class=\"col-sm-2\">\\n              <select class=\"form-control\" ng-model=\"$ctrl.sinceTimestamp\" id=\"logs_since\">\\n                <option selected value=\"\">All logs</option>\\n                <option ng-repeat=\"dt in $ctrl.state.availableSinceDatetime\" ng-value=\"dt.value\" title=\"{{ dt.value }}\">{{ dt.desc }}</option>\\n              </select>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"logs_search\" class=\"col-sm-1 control-label text-left\">\\n              Search\\n            </label>\\n            <div class=\"col-sm-11\">\\n              <input class=\"form-control\" type=\"text\" name=\"logs_search\" ng-model=\"$ctrl.state.search\" ng-change=\"$ctrl.state.selectedLines.length = 0;\" placeholder=\"Filter...\" />\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <label for=\"lines_count\" class=\"col-sm-1 control-label text-left\">\\n              Lines\\n            </label>\\n            <div class=\"col-sm-11\">\\n              <input class=\"form-control\" type=\"number\" name=\"lines_count\" ng-model=\"$ctrl.lineCount\" placeholder=\"Enter no of lines...\" />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-if=\"$ctrl.state.copySupported\">\\n            <label class=\"col-sm-1 control-label text-left\">\\n              Actions\\n            </label>\\n            <div class=\"col-sm-11\">\\n              <button class=\"btn btn-primary btn-sm\" type=\"button\" ng-click=\"$ctrl.downloadLogs()\" style=\"margin-left: 0;\"><i class=\"fa fa-download\"></i> Download logs</button>\\n              <button\\n                class=\"btn btn-primary btn-sm\"\\n                ng-click=\"$ctrl.copy()\"\\n                ng-disabled=\"($ctrl.state.filteredLogs.length === 1 && !$ctrl.state.filteredLogs[0].line) || !$ctrl.state.filteredLogs.length\"\\n                ><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy</button\\n              >\\n              <button\\n                class=\"btn btn-primary btn-sm\"\\n                ng-click=\"$ctrl.copySelection()\"\\n                ng-disabled=\"($ctrl.state.filteredLogs.length === 1 && !$ctrl.state.filteredLogs[0].line) || !$ctrl.state.filteredLogs.length || !$ctrl.state.selectedLines.length\"\\n                ><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy selected lines</button\\n              >\\n              <button class=\"btn btn-primary btn-sm\" ng-click=\"$ctrl.clearSelection()\" ng-disabled=\"$ctrl.state.selectedLines.length === 0\"\\n                ><i class=\"fa fa-times space-right\" aria-hidden=\"true\"></i>Unselect</button\\n              >\\n              <span>\\n                <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none;\"></i>\\n              </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\" style=\"height: 54%;\">\\n  <div class=\"col-sm-12\" style=\"height: 100%;\">\\n    <pre ng-class=\"{ wrap_lines: $ctrl.state.wrapLines }\" class=\"log_viewer\" scroll-glue=\"$ctrl.state.autoScroll\" force-glue>\\n      <div ng-repeat=\"log in $ctrl.state.filteredLogs = ($ctrl.data | filter:{ \\'line\\': $ctrl.state.search }) track by $index\" class=\"line\" ng-if=\"log.line\"><p class=\"inner_line\" ng-click=\"$ctrl.selectLine(log.line)\" ng-class=\"{ \\'line_selected\\': $ctrl.state.selectedLines.indexOf(log.line) > -1 }\"><span ng-repeat=\"span in log.spans\" ng-style=\"{ \\'color\\': span.foregroundColor, \\'background-color\\': span.backgroundColor }\">{{ span.text }}</span></p></div>\\n      <div ng-if=\"!$ctrl.state.filteredLogs.length\" class=\"line\"><p class=\"inner_line\">No log line matching the \\'{{ $ctrl.state.search }}\\' filter</p></div>\\n      <div ng-if=\"$ctrl.state.filteredLogs.length === 1 && !$ctrl.state.filteredLogs[0].line\" class=\"line\"><p class=\"inner_line\">No logs available</p></div>\\n    </pre>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),function(e){var t=n(34),a=n(17),i=n.n(a),s=n(103);angular.module(\"portainer.docker\").controller(\"LogViewerController\",[\"clipboard\",\"Blob\",\"FileSaver\",function(n,a,r){this.state={availableSinceDatetime:[{desc:\"Last day\",value:i()().subtract(1,\"days\").format()},{desc:\"Last 4 hours\",value:i()().subtract(4,\"hours\").format()},{desc:\"Last hour\",value:i()().subtract(1,\"hours\").format()},{desc:\"Last 10 minutes\",value:i()().subtract(10,\"minutes\").format()}],copySupported:n.supported,logCollection:!0,autoScroll:!0,wrapLines:!0,search:\"\",filteredLogs:[],selectedLines:[]},this.copy=function(){n.copyText(this.state.filteredLogs.map(e=>e.line).join(s.NEW_LINE_BREAKER)),e(\"#refreshRateChange\").show(),e(\"#refreshRateChange\").fadeOut(2e3)},this.copySelection=function(){n.copyText(this.state.selectedLines.join(s.NEW_LINE_BREAKER)),e(\"#refreshRateChange\").show(),e(\"#refreshRateChange\").fadeOut(2e3)},this.clearSelection=function(){this.state.selectedLines=[]},this.selectLine=function(e){var t=this.state.selectedLines.indexOf(e);-1===t?this.state.selectedLines.push(e):this.state.selectedLines.splice(t,1)},this.downloadLogs=function(){const e=new a([Object(t.a)(this.state.filteredLogs,(e,t)=>e+t.line+s.NEW_LINE_BREAKER,\"\")]);r.saveAs(e,this.resourceName+\"_logs.txt\")}}])}.call(this,n(50))},function(e,t,n){const a=n(1209);angular.module(\"portainer.docker\").component(\"networkMacvlanForm\",{templateUrl:a,controller:\"NetworkMacvlanFormController\",bindings:{data:\"=\",applicationState:\"<\"}})},function(e,t){var n=\"app/docker/components/network-macvlan-form/networkMacvlanForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <div class=\"col-sm-12 form-section-title\">\\n    Macvlan configuration\\n  </div>\\n  \\x3c!-- selector --\\x3e\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\">\\n      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      To create a MACVLAN network you need to create a configuration, then create the network from this configuration.\\n    </span>\\n  </div>\\n  <div class=\"col-sm-12\">\\n    <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n      <div class=\"boxselector_wrapper\">\\n        <div>\\n          <input type=\"radio\" id=\"network_config\" ng-model=\"$ctrl.data.Scope\" value=\"local\" />\\n          <label for=\"network_config\">\\n            <div class=\"boxselector_header\">\\n              <i class=\"fa fa-cog\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n              Configuration\\n            </div>\\n            <p>I want to configure a network before deploying it</p>\\n          </label>\\n        </div>\\n        <div>\\n          <input type=\"radio\" id=\"network_deploy\" ng-model=\"$ctrl.data.Scope\" value=\"swarm\" ng-disabled=\"$ctrl.availableNetworks.length === 0\" />\\n          <label for=\"network_deploy\" ng-class=\"$ctrl.availableNetworks.length === 0 ? \\'boxselector_disabled\\' : \\'\\'\">\\n            <div class=\"boxselector_header\">\\n              <i class=\"fa fa-sitemap\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n              Creation\\n            </div>\\n            <p>I want to create a network from a configuration</p>\\n          </label>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !selector --\\x3e\\n\\n  <ng-form name=\"macvlanConfigurationForm\">\\n    \\x3c!-- configuration-inputs --\\x3e\\n    <div ng-show=\"$ctrl.data.Scope === \\'local\\'\">\\n      \\x3c!-- network-card-input --\\x3e\\n      <div class=\"form-group\">\\n        <label for=\"network_card\" class=\"col-sm-3 col-lg-2 control-label text-left\">Parent network card</label>\\n        <div class=\"col-sm-9 col-lg-10\">\\n          <input\\n            type=\"text\"\\n            class=\"form-control\"\\n            name=\"network_card\"\\n            ng-model=\"$ctrl.data.ParentNetworkCard\"\\n            placeholder=\"e.g. eth0 or ens160 ...\"\\n            ng-required=\"$ctrl.data.Scope === \\'local\\' && !$ctrl.data.ParentNetworkCard\"\\n          />\\n        </div>\\n      </div>\\n      <div class=\"form-group\" ng-show=\"macvlanConfigurationForm.network_card.$invalid\">\\n        <div class=\"col-sm-12 small text-warning\">\\n          <div ng-messages=\"macvlanConfigurationForm.network_card.$error\">\\n            <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Parent network card must be specified.</p>\\n          </div>\\n        </div>\\n      </div>\\n      \\x3c!-- network-card-input --\\x3e\\n      \\x3c!-- nodes-selector --\\x3e\\n      <div ng-if=\"$ctrl.applicationState.endpoint.mode.agentProxy && $ctrl.applicationState.endpoint.mode.provider === \\'DOCKER_SWARM_MODE\\'\">\\n        <div class=\"form-group\">\\n          <div class=\"col-sm-12\">\\n            <macvlan-nodes-datatable\\n              title-text=\"Select the nodes where you want to deploy the local configuration\"\\n              title-icon=\"fa-hdd\"\\n              dataset=\"$ctrl.nodes\"\\n              table-key=\"nodes\"\\n              state=\"$ctrl.data.DatatableState\"\\n              order-by=\"Hostname\"\\n              show-ip-address-column=\"$ctrl.applicationState.endpoint.apiVersion >= 1.25\"\\n              access-to-node-details=\"$ctrl.isAdmin\"\\n              name=\"node_selector\"\\n              ng-model=\"tmp\"\\n              ng-required=\"$ctrl.requiredNodeSelection()\"\\n            ></macvlan-nodes-datatable>\\n          </div>\\n        </div>\\n        <div class=\"form-group\" ng-show=\"macvlanConfigurationForm.node_selector.$invalid\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div ng-messages=\"macvlanConfigurationForm.node_selector.$error\">\\n              <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> At least one node must be selected.</p>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n      \\x3c!-- !nodes-selector --\\x3e\\n    </div>\\n    \\x3c!-- configuration-inputs --\\x3e\\n    \\x3c!-- deploy-inputs --\\x3e\\n    <div ng-show=\"$ctrl.data.Scope === \\'swarm\\'\">\\n      \\x3c!-- configuration-selector --\\x3e\\n      \\x3c!-- network-input --\\x3e\\n      <div class=\"form-group\">\\n        <label for=\"config_network\" class=\"col-sm-2 col-lg-1 control-label text-left\">Configuration</label>\\n        <div class=\"col-sm-9\">\\n          <select\\n            class=\"form-control\"\\n            ng-options=\"net.Name for net in $ctrl.availableNetworks\"\\n            ng-model=\"$ctrl.data.SelectedNetworkConfig\"\\n            name=\"config_network\"\\n            ng-required=\"$ctrl.requiredConfigSelection()\"\\n          >\\n            <option selected disabled hidden value=\"\">Select a network</option>\\n          </select>\\n        </div>\\n      </div>\\n      \\x3c!-- !network-input --\\x3e\\n      <div class=\"form-group\" ng-show=\"macvlanConfigurationForm.config_network.$invalid\">\\n        <div class=\"col-sm-12 small text-warning\">\\n          <div ng-messages=\"macvlanConfigurationForm.config_network.$error\">\\n            <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Select a configuration network.</p>\\n          </div>\\n        </div>\\n      </div>\\n      \\x3c!-- !configuration-selector --\\x3e\\n    </div>\\n    \\x3c!-- deploy-inputs --\\x3e\\n  </ng-form>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"NetworkMacvlanFormController\",[\"$q\",\"NodeService\",\"NetworkService\",\"Notifications\",\"StateManager\",\"Authentication\",function(e,t,n,a,i,s){var r=this;r.requiredNodeSelection=function(){return\"local\"===r.data.Scope&&void 0!==r.data.DatatableState&&0===r.data.DatatableState.selectedItemCount},r.requiredConfigSelection=function(){return\"swarm\"===r.data.Scope&&!r.data.SelectedNetworkConfig},this.$onInit=function(){var i=s.isAdmin();r.isAdmin=i;var o=r.applicationState.endpoint.mode.provider,l=r.applicationState.endpoint.apiVersion;e.all({nodes:\"DOCKER_SWARM_MODE\"!==o||t.nodes(),networks:n.networks(\"DOCKER_STANDALONE\"===o||\"DOCKER_SWARM_MODE\"===o,!1,\"DOCKER_SWARM_MODE\"===o&&l>=1.25)}).then((function(e){!0!==e.nodes&&(r.nodes=e.nodes),r.availableNetworks=e.networks.filter((function(e){return!0===e.ConfigOnly}))})).catch((function(e){a.error(\"Failure\",e,\"Unable to retrieve informations for macvlan\")}))}}])},function(e,t,n){const a=n(1212);angular.module(\"portainer.docker\").component(\"volumesCifsForm\",{templateUrl:a,bindings:{data:\"=\"}})},function(e,t){var n=\"app/docker/components/volumesCIFSForm/volumesCifsForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'\\x3c!-- CIFS-settings --\\x3e\\n<div ng-show=\"$ctrl.data.useCIFS\">\\n  <ng-form class=\"form-horizontal\" name=\"cifsInformationForm\">\\n    <div class=\"col-sm-12 form-section-title\">\\n      CIFS Settings\\n    </div>\\n    \\x3c!-- address-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"cifs_address\" class=\"col-sm-2 col-md-1 control-label text-left\">Address</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.data.serverAddress\" name=\"cifs_address\" placeholder=\"e.g. my.cifs-server.com OR xxx.xxx.xxx.xxx\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"cifsInformationForm.cifs_address.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"cifsInformationForm.cifs_address.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !address-input --\\x3e\\n    \\x3c!-- mount-point-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"cifs_share\" class=\"col-sm-2 col-md-1 control-label text-left\">Share</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.data.share\" name=\"cifs_share\" placeholder=\"e.g. /myshare\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"cifsInformationForm.cifs_share.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"cifsInformationForm.cifs_share.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !mount-point-input --\\x3e\\n    \\x3c!-- version-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"cifs_version\" class=\"col-sm-2 col-md-1 control-label text-left\">CIFS Version</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <select class=\"form-control\" ng-model=\"$ctrl.data.version\" name=\"cifs_version\" ng-options=\"version for version in $ctrl.data.versions\" required></select>\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"cifsInformationForm.cifs_version.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"cifsInformationForm.cifs_version.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !version-input --\\x3e\\n    \\x3c!-- username --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"cifs_username\" class=\"col-sm-2 col-md-1 control-label text-left\">Username</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.data.username\" name=\"cifs_username\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"cifsInformationForm.cifs_username.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"cifsInformationForm.cifs_username.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !username --\\x3e\\n    \\x3c!-- password --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"cifs_password\" class=\"col-sm-2 col-md-1 control-label text-left\">Password</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.data.password\" name=\"cifs_password\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"cifsInformationForm.password.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"cifsInformationForm.cifs_password.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !password --\\x3e\\n  </ng-form>\\n</div>\\n\\x3c!-- !CIFS-settings --\\x3e\\n')}]),e.exports=n},function(e,t,n){const a=n(1214);angular.module(\"portainer.docker\").component(\"volumesNfsForm\",{templateUrl:a,bindings:{data:\"=\"}})},function(e,t){var n=\"app/docker/components/volumesNFSForm/volumesnfsForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'\\x3c!-- NFS-settings --\\x3e\\n<div ng-show=\"$ctrl.data.useNFS\">\\n  <ng-form class=\"form-horizontal\" name=\"nfsInformationForm\">\\n    <div class=\"col-sm-12 form-section-title\">\\n      NFS Settings\\n    </div>\\n    \\x3c!-- address-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"nfs_address\" class=\"col-sm-2 col-md-1 control-label text-left\">Address</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.data.serverAddress\" name=\"nfs_address\" placeholder=\"e.g. my.nfs-server.com OR xxx.xxx.xxx.xxx\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"nfsInformationForm.nfs_address.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"nfsInformationForm.nfs_address.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !address-input --\\x3e\\n    \\x3c!-- version-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"nfs_version\" class=\"col-sm-2 col-md-1 control-label text-left\">NFS Version</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <select class=\"form-control\" ng-model=\"$ctrl.data.version\" name=\"nfs_version\" ng-options=\"version for version in $ctrl.data.versions\" required></select>\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"nfsInformationForm.nfs_version.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"nfsInformationForm.nfs_version.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !version-input --\\x3e\\n    \\x3c!-- mount-point-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"nfs_mountpoint\" class=\"col-sm-2 col-md-1 control-label text-left\">Mount point</label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          ng-model=\"$ctrl.data.mountPoint\"\\n          name=\"nfs_mountpoint\"\\n          placeholder=\"e.g. /export/share, :/export/share, /share or :/share\"\\n          required\\n        />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"nfsInformationForm.nfs_mountpoint.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"nfsInformationForm.nfs_mountpoint.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !mount-point-input --\\x3e\\n    \\x3c!-- options-input --\\x3e\\n    <div class=\"form-group col-md-12\">\\n      <label for=\"nfs_options\" class=\"col-sm-2 col-md-1 control-label text-left\"\\n        >Options\\n        <portainer-tooltip position=\"bottom\" message=\"Comma separated list of options\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-10 col-md-11\">\\n        <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.data.options\" name=\"nfs_options\" placeholder=\"e.g. rw,noatime,tcp ...\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group col-md-12\" ng-show=\"nfsInformationForm.nfs_options.$invalid\">\\n      <div class=\"small text-warning\">\\n        <div ng-messages=\"nfsInformationForm.nfs_options.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !options-input --\\x3e\\n  </ng-form>\\n</div>\\n\\x3c!-- !NFS-settings --\\x3e\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(94),i=n(5),s=n(59),r=n(46);function o(e,t){return t.some((function(t){return-1!==e.indexOf(t)}))}angular.module(\"portainer.docker\").filter(\"visualizerTask\",(function(){return function(e){var t=Object(r.a)(e);return o(t,[\"new\",\"allocated\",\"assigned\",\"accepted\",\"complete\",\"preparing\"])?\"info\":o(t,[\"pending\"])?\"warning\":o(t,[\"shutdown\",\"failed\",\"rejected\"])?\"stopped\":\"running\"}})).filter(\"visualizerTaskBorderColor\",(function(){return function(e){return function(e){for(var t=\"#\",n=0;n<3;)t+=(\"00\"+(e>>8*n++&255).toString(16)).slice(-2);return t}(function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t}(e))}})).filter(\"taskstatusbadge\",(function(){return function(e){var t=Object(r.a)(e),n=\"default\";return o(t,[\"new\",\"allocated\",\"assigned\",\"accepted\",\"preparing\",\"ready\",\"starting\",\"remove\"])?n=\"info\":o(t,[\"pending\"])?n=\"warning\":o(t,[\"shutdown\",\"failed\",\"rejected\",\"orphaned\"])?n=\"danger\":o(t,[\"complete\"])?n=\"primary\":o(t,[\"running\"])&&(n=\"success\"),n}})).filter(\"taskhaslogs\",(function(){return function(e){return[\"running\",\"complete\",\"failed\",\"shutdown\"].indexOf(e)>-1}})).filter(\"containerstatusbadge\",(function(){return function(e){var t=Object(r.a)(e);return o(t,[\"paused\",\"starting\",\"unhealthy\"])?\"warning\":o(t,[\"created\"])?\"info\":o(t,[\"stopped\",\"dead\",\"exited\"])?\"danger\":\"success\"}})).filter(\"nodestatusbadge\",(function(){return function(e){return\"down\"===e||\"Unhealthy\"===e?\"danger\":\"success\"}})).filter(\"dockerNodeAvailabilityBadge\",(function(){return function(e){return\"pause\"===e?\"warning\":\"drain\"===e?\"danger\":\"success\"}})).filter(\"trimcontainername\",(function(){return function(e){return e?0===e.indexOf(\"/\")?e.replace(\"/\",\"\"):e:\"\"}})).filter(\"getstatetext\",(function(){return function(e){return void 0===e?\"\":e.Dead?\"Dead\":e.Ghost&&e.Running?\"Ghost\":e.Running&&e.Paused?\"Running (Paused)\":e.Running?\"Running\":\"created\"===e.Status?\"Created\":\"Stopped\"}})).filter(\"getstatelabel\",(function(){return function(e){return void 0===e?\"label-default\":e.Ghost&&e.Running?\"label-important\":e.Running?\"label-success\":\"label-default\"}})).filter(\"containername\",(function(){return function(e){var t=e.Names[0];return t.substring(1,t.length)}})).filter(\"swarmversion\",(function(){return function(e){return Object(s.a)(e,\"/\")[1]}})).filter(\"swarmhostname\",(function(){return function(e){return Object(s.a)(e.Names[0],\"/\")[1]}})).filter(\"repotags\",(function(){return function(e){return e.RepoTags&&e.RepoTags.length>0?\"<none>:<none>\"===e.RepoTags[0]?[]:e.RepoTags:[]}})).filter(\"command\",(function(){return function(e){if(e)return e.join(\" \")}})).filter(\"hideshasum\",(function(){return function(e){return e?e.split(\"@sha\")[0]:\"\"}})).filter(\"availablenodecount\",[\"ConstraintsHelper\",function(e){return function(t,n){for(var a=0,i=0;i<t.length;i++){var s=t[i];\"active\"===s.Availability&&\"ready\"===s.Status&&e.matchesServiceConstraints(n,s)&&a++}return a}}]).filter(\"runningtaskscount\",(function(){return function(e){for(var t=0,n=0;n<e.length;n++){var a=e[n];\"running\"===a.Status.State&&\"running\"===a.DesiredState&&t++}return t}})).filter(\"runningcontainers\",(function(){return function(e){return e.filter((function(e){return\"running\"===e.State})).length}})).filter(\"stoppedcontainers\",(function(){return function(e){return e.filter((function(e){return\"exited\"===e.State})).length}})).filter(\"healthycontainers\",(function(){return function(e){return e.filter((function(e){return\"healthy\"===e.Status})).length}})).filter(\"unhealthycontainers\",(function(){return function(e){return e.filter((function(e){return\"unhealthy\"===e.Status})).length}})).filter(\"imagestotalsize\",(function(){return function(e){for(var t=0,n=0;n<e.length;n++){t+=e[n].VirtualSize}return t}})).filter(\"tasknodename\",(function(){return function(e,t){var n=Object(i.a)(t,{Id:e});return n?n.Hostname:\"\"}})).filter(\"imagelayercommand\",(function(){return function(e){return e.replace(\"/bin/sh -c #(nop) \",\"\").replace(\"/bin/sh -c \",\"RUN \")}})).filter(\"trimshasum\",(function(){return function(e){if(e)return 0===e.indexOf(\"sha256:\")?e.substring(7,19):Object(s.a)(e,\"@sha256\")[0]}})).filter(\"trimversiontag\",(function(){return function(e){if(!e)return e;var t=e.lastIndexOf(\":\");return t<0||e.indexOf(\"/\")>t?e:e.substring(0,t)}})).filter(\"unique\",(function(){return a.a}))},function(e,t){angular.module(\"portainer.docker\").factory(\"ConfigHelper\",[function(){\"use strict\";return{flattenConfig:function(e){return e?{Id:e.ConfigID,Name:e.ConfigName,FileName:e.File.Name,Uid:e.File.UID,Gid:e.File.GID,Mode:e.File.Mode}:{}},configConfig:function(e){return e?{ConfigID:e.Id,ConfigName:e.Name,File:{Name:e.FileName||e.Name,UID:e.Uid||\"0\",GID:e.Gid||\"0\",Mode:e.Mode||292}}:{}}}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(5);function i(e,t,n){this.op=e,this.value=n,this.key=t}var s={nodeId:\"node.id\",nodeHostname:\"node.hostname\",nodeRole:\"node.role\",nodeLabels:\"node.labels.\",engineLabels:\"engine.labels.\"},r={eq:\"==\",neq:\"!=\"};function o(e,t){return!t||t.op===r.eq&&e===t.value||t.op===r.neq&&e!==t.value}function l(e,t){return!t||void 0!==Object(a.a)(e,(function(e){return e.key===t.key&&e.value===t.value}))}function c(e,t){return e.split(t).pop().trim()}function d(e,t,n){return e.split(t).shift().trim().replace(n,\"\")}angular.module(\"portainer.docker\").factory(\"ConstraintsHelper\",[function(){return{transformConstraints:function(e){for(var t={},n=0;n<e.length;n++){var a,o=e[n];o.includes(r.eq)?a=r.eq:o.includes(r.neq)&&(a=r.neq);var l=c(o,a),u=\"\";switch(!0){case o.includes(s.nodeId):t.nodeId=new i(a,u,l);break;case o.includes(s.nodeHostname):t.nodeHostname=new i(a,u,l);break;case o.includes(s.nodeRole):t.nodeRole=new i(a,u,l);break;case o.includes(s.nodeLabels):u=d(o,a,s.nodeLabels),t.nodeLabels=new i(a,u,l);break;case o.includes(s.engineLabels):u=d(o,a,s.engineLabels),t.engineLabels=new i(a,u,l)}}return t},matchesServiceConstraints:function(e,t){if(void 0===e.Constraints||0===e.Constraints.length)return!0;var n=this.transformConstraints(angular.copy(e.Constraints));return!!(o(t.Id,n.nodeId)&&o(t.Hostname,n.nodeHostname)&&o(t.Role,n.nodeRole)&&l(t.Labels,n.nodeLabels)&&l(t.EngineLabels,n.engineLabels))}}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(414),i=n(75),s=n(76),r=n(122),o=n(63),l=n(7),c=n(2),d=n(59),u=n(810),p=n.n(u);const m=/^([1-9]|[1-5]?[0-9]{2,4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/m;function g(e){return m.test(e)?parseInt(e,10):0}function h(e){\"string\"!=typeof e&&(e=e.toString());const t=Object(d.a)(e,\"-\",2),n=Object(c.a)(t,g);return 1==n.length&&n.push(n[0]),n}function f(e){return\"string\"==typeof e&&(e=h()),Array.isArray(e)&&2===e.length&&e[0]>0&&e[1]>=e[0]}function v(e,t){\"string\"!=typeof e&&(e=e.toString());let n=null;const a=e.indexOf(\":\");a>=0&&(n=e.substr(0,a),e=e.substr(a+1)),t=\"number\"==typeof t?t:g(t);const i=h(e),s=Math.min(i[0],t),r=Math.max(i[1],t);return n?n+\":\"+s+\"-\"+r:s+\"-\"+r}angular.module(\"portainer.docker\").factory(\"ContainerHelper\",[function(){var e={commandStringToArray:function(e){return p()(e)},commandArrayToString:function(e){return e.map((function(e){return\"'\"+e+\"'\"})).join(\" \")},configFromContainer:function(e){var t=e.Config;t.HostConfig=e.HostConfig,t.name=e.Name.replace(/^\\//g,\"\");var n=t.HostConfig.NetworkMode;t.NetworkingConfig={EndpointsConfig:{}},t.NetworkingConfig.EndpointsConfig=e.NetworkSettings.Networks,void 0===t.ExposedPorts&&(t.ExposedPorts={}),-1!==n.indexOf(\"container:\")&&(delete t.Hostname,delete t.ExposedPorts);var a=[],i={};for(var s in e.Mounts)if({}.hasOwnProperty.call(e.Mounts,s)){var r=e.Mounts[s],o=r.Name||r.Source,l=r.Destination;if(o&&l){var c=o+\":\"+l;i[l]={},!1===r.RW&&(c+=\":ro\"),a.push(c)}}return t.HostConfig.Binds=a,t.Volumes=i,t},preparePortBindings:function(e){const t={};return Object(l.a)(e,e=>{if(!e.containerPort)return;let n=e.hostPort;const a=h(e.containerPort);if(!f(a))throw new Error(\"Invalid port specification: \"+e.containerPort);const i=a[0],s=a[1];let r=void 0,o=0,l=0;if(n){if(n.indexOf(\"[\")>-1){const t=Object(d.a)(n,\"]:\");if(t.length<2)throw new Error(\"Invalid port specification: \"+e.containerPort);r=t[0].replace(\"[\",\"\"),n=t[1]}else if(n.indexOf(\":\")>-1){const e=Object(d.a)(n,\":\");r=e[0],n=e[1]}const t=h(n);if(!f(t))throw new Error(\"Invalid port specification: \"+n);if(o=t[0],l=t[1],s!==i&&s-i!=l-o)throw new Error(\"Invalid port specification: \"+n)}for(let a=0;a<=s-i;a++){const c=(i+a).toString();o>0&&(n=(o+a).toString()),i===s&&o!==l&&(n+=\"-\"+l.toString());const d=c+\"/\"+e.protocol;t[d]?t[d].push({HostIp:r,HostPort:n}):t[d]=[{HostIp:r,HostPort:n}]}}),t},sortAndCombinePorts:function(e){const t=[],n=Object(o.a)(e),a=Object(r.a)(n,e=>Object(d.a)(e,\"/\")[1]);return Object(l.a)(a,(n,a)=>{const i={};for(const t of n)for(const n of e[t])i[n.HostIp]=i[n.HostIp]||[],i[n.HostIp].push(t);Object(l.a)(i,(n,i)=>{const r=Object(s.a)(n,e=>parseInt(Object(d.a)(e,\"/\")[0],10));let o=-1,c=-1;Object(l.a)(r,n=>{const s=Object(d.a)(n,\"/\"),r=parseInt(s[0],10),l=e[n][0];e[n].shift();const u=g(l.HostPort);if(u>0){if(t.length>0&&o===u-1&&c===r-1)return t[t.length-1].hostPort=v(t[t.length-1].hostPort,u),t[t.length-1].containerPort=v(t[t.length-1].containerPort,r),o=u,void(c=r);o=u,c=r}else o=-1,c=-1;let p=l.HostPort.toString();i&&(p=`${i}:${p}`);const m={hostPort:p,containerPort:r,protocol:a};t.push(m)})})}),t},getContainerNames:function(e){return Object(c.a)(Object(i.a)(Object(c.a)(e,\"Names\")),e=>Object(a.a)(e,\"/\"))}};return e}])},function(e,t,n){\"use strict\";n.r(t);var a=n(69);angular.module(\"portainer.docker\").factory(\"InfoHelper\",[function(){var e={determineEndpointMode:function(e,t){var n={provider:\"\",role:\"\",agentProxy:!1};return 2!==t&&4!==t||(n.agentProxy=!0),!e.Swarm||Object(a.a)(e.Swarm.NodeID)?n.provider=\"DOCKER_STANDALONE\":(n.provider=\"DOCKER_SWARM_MODE\",e.Swarm.ControlAvailable?n.role=\"MANAGER\":n.role=\"WORKER\"),n}};return e}])},function(e,t){angular.module(\"portainer.docker\").factory(\"LabelHelper\",[function(){\"use strict\";return{fromLabelHashToKeyValue:function(e){return e?Object.keys(e).map((function(t){return{key:t,value:e[t],originalKey:t,originalValue:e[t],added:!0}})):[]},fromKeyValueToLabelHash:function(e){var t={};return e&&e.forEach((function(e){e.key&&(t[e.key]=e.value)})),t}}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(811),i=n.n(a),s=n(40),r=n.n(s);const o={black:r.a.colors[0],red:r.a.colors[1],green:r.a.colors[2],yellow:r.a.colors[3],blue:r.a.colors[4],magenta:r.a.colors[5],cyan:r.a.colors[6],white:r.a.colors[7],brightBlack:r.a.colors[8],brightRed:r.a.colors[9],brightGreen:r.a.colors[10],brightYellow:r.a.colors[11],brightBlue:r.a.colors[12],brightMagenta:r.a.colors[13],brightCyan:r.a.colors[14],brightWhite:r.a.colors[15]},l={bgBlack:r.a.colors[0],bgRed:r.a.colors[1],bgGreen:r.a.colors[2],bgYellow:r.a.colors[3],bgBlue:r.a.colors[4],bgMagenta:r.a.colors[5],bgCyan:r.a.colors[6],bgWhite:r.a.colors[7],bgBrightBlack:r.a.colors[8],bgBrightRed:r.a.colors[9],bgBrightGreen:r.a.colors[10],bgBrightYellow:r.a.colors[11],bgBrightBlue:r.a.colors[12],bgBrightMagenta:r.a.colors[13],bgBrightCyan:r.a.colors[14],bgBrightWhite:r.a.colors[15]};angular.module(\"portainer.docker\").factory(\"LogHelper\",[function(){var e={};function t(e){return e.replace(/[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,\"\")}function n(e){const[t,n,a]=e;return`rgb(${t}, ${n}, ${a})`}function a(e){const t=e[1];return 2===t?n(e.slice(2)):5===t&&r.a.colors[e[2]]?n(r.a.colors[e[2]]):\"\"}return e.formatLogs=function(e,s){s&&(e=function(e){return e=(e=e.substring(8)).replace(/\\r?\\n(.{8})/g,\"\\n\")}(e));const r=i()(e),c=[];let d=null,u=null,p=\"\",m=[];for(const e of r){const i=e[0];if(o[i])d=n(o[i]);else if(\"moreColor\"===i)d=a(e);else if(\"fgDefault\"===i)d=null;else if(l[i])u=n(l[i]);else if(\"bgMoreColor\"===i)u=a(e);else if(\"bgDefault\"===i)u=null;else if(\"reset\"===i)d=null,u=null;else if(\"text\"===i){const n=e[1].split(\"\\n\");for(let e=0;e<n.length;e++){0!==e&&(c.push({line:p,spans:m}),p=\"\",m=[]);const a=t(n[e]);p+=a,m.push({foregroundColor:d,backgroundColor:u,text:a})}}}return p&&c.push({line:p,spans:m}),c},e}])},,,,,function(e,t){angular.module(\"portainer.docker\").factory(\"NodeHelper\",[function(){\"use strict\";return{nodeToConfig:function(e){return{Name:e.Spec.Name,Role:e.Spec.Role,Labels:e.Spec.Labels,Availability:e.Spec.Availability}}}}])},function(e,t){angular.module(\"portainer.docker\").factory(\"SecretHelper\",[function(){\"use strict\";return{flattenSecret:function(e){return e?{Id:e.SecretID,Name:e.SecretName,FileName:e.File.Name,Uid:e.File.UID,Gid:e.File.GID,Mode:e.File.Mode}:{}},secretConfig:function(e){return e?{SecretID:e.Id,SecretName:e.Name,File:{Name:e.FileName,UID:e.Uid||\"0\",GID:e.Gid||\"0\",Mode:e.Mode||444}}:{}}}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(17),i=n.n(a);angular.module(\"portainer.docker\").factory(\"ServiceHelper\",[function(){var e={associateTasksToService:function(e,t){e.Tasks=[];for(var n=[],a=0;a<t.length;a++){var i=t[a];i.ServiceId===e.Id?(e.Tasks.push(i),i.ServiceName=e.Name):n.push(i)}t=n},serviceToConfig:function(e){return{Name:e.Spec.Name,Labels:e.Spec.Labels,TaskTemplate:e.Spec.TaskTemplate,Mode:e.Spec.Mode,UpdateConfig:e.Spec.UpdateConfig,Networks:e.Spec.Networks,EndpointSpec:e.Spec.EndpointSpec}},translateKeyValueToPlacementPreferences:function(e){if(e){var t=[];return e.forEach((function(e){if(e.strategy&&\"\"!==e.strategy&&e.value&&\"\"!==e.value)switch(e.strategy.toLowerCase()){case\"spread\":t.push({Spread:{SpreadDescriptor:e.value}})}})),t}return[]},translateKeyValueToPlacementConstraints:function(e){if(e){var t=[];return e.forEach((function(e){e.key&&\"\"!==e.key&&e.value&&\"\"!==e.value&&t.push(e.key+e.operator+e.value)})),t}return[]},translatePreferencesToKeyValue:function(e){if(e){var t=[];return e.forEach((function(e){e.Spread&&t.push({strategy:\"Spread\",value:e.Spread.SpreadDescriptor})})),t}return[]},translateConstraintsToKeyValue:function(e){if(e){var t=[];return e.forEach((function(e){var n=function(e){var t=e.indexOf(\"==\");return t>=0?[t,\"==\"]:[e.indexOf(\"!=\"),\"!=\"]}(e),a=e.slice(0,n[0]),i=n[1],s=e.slice(n[0]+2);t.push({key:a,value:s,operator:i,originalKey:a,originalValue:s})})),t}},translateHumanDurationToNanos:function(e){var t,n=e.match(/^([0-9]+)(h|m|s|ms|us|ns)$/i);if(null!==n&&3===n.length){var a=parseInt(n[1],10),s=n[2];switch(s){case\"ns\":t=a;break;case\"us\":t=1e3*a;break;default:t=1e6*i.a.duration(a,s).asMilliseconds()}}return t},translateNanosToHumanDuration:function(e){var t=\"0s\",n={ns:1};return n.us=1e3*n.ns,n.ms=1e3*n.us,n.s=1e3*n.ms,n.m=60*n.s,n.h=60*n.m,Object.keys(n).forEach((function(a){e%n[a]==0&&e/n[a]>0&&(t=e/n[a]+a)})),t},translateLogDriverOptsToKeyValue:function(e){var t=[];return e&&Object.keys(e).forEach((function(n){t.push({key:n,value:e[n],originalKey:n,originalValue:e[n],added:!0})})),t},translateKeyValueToLogDriverOpts:function(e){var t={};return e&&e.forEach((function(e){e.key&&\"\"!==e.key&&e.value&&\"\"!==e.value&&(t[e.key]=e.value)})),t},translateHostsEntriesToHostnameIP:function(e){var t=[];return e&&e.forEach((function(e){if(e.indexOf(\" \")&&2===e.split(\" \").length){var n=e.split(\" \");t.push({hostname:n[1],ip:n[0]})}})),t},translateHostnameIPToHostsEntries:function(e){var t=[];return e&&e.forEach((function(e){e.ip&&e.hostname&&t.push(e.ip+\" \"+e.hostname)})),t}};return e}])},function(e,t){angular.module(\"portainer.docker\").factory(\"TaskHelper\",[function(){\"use strict\";var e={associateContainerToTask:function(e,t){for(var n=0;n<t.length;n++){var a=t[n];if(e.ContainerId===a.Id){e.Container=a;break}}}};return e}])},function(e,t){angular.module(\"portainer.docker\").factory(\"VolumeHelper\",[function(){\"use strict\";var e={createDriverOptions:function(e){var t={};return e.forEach((function(e){t[e.name]=e.value})),t},isVolumeUsedByAService:function(e,t){for(var n=0;n<t.length;n++)for(var a=t[n].Mounts,i=0;i<a.length;i++){if(a[i].Source===e.Id)return!0}return!1}};return e}])},function(e,t){angular.module(\"portainer.app\").factory(\"ContainersInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){\"use strict\";var n={};return n.responseError=function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a){var i=a.Snapshots[0].SnapshotRaw.Containers;if(void 0!==i)return i}}return e.reject(n)},n}])},function(e,t){angular.module(\"portainer.app\").factory(\"ImagesInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){\"use strict\";var n={};return n.responseError=function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a){var i=a.Snapshots[0].SnapshotRaw.Images;if(void 0!==i)return i}}return e.reject(n)},n}])},function(e,t){angular.module(\"portainer.app\").factory(\"InfoInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){\"use strict\";var n={};return n.responseError=function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a&&a.Snapshots.length&&a.Snapshots[0].SnapshotRaw){var i=a.Snapshots[0].SnapshotRaw.Info;if(void 0!==i)return i}}return e.reject(n)},n}])},function(e,t){angular.module(\"portainer.app\").factory(\"NetworksInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){\"use strict\";var n={};return n.responseError=function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a){var i=a.Snapshots[0].SnapshotRaw.Networks;if(void 0!==i)return i}}return e.reject(n)},n}])},function(e,t){angular.module(\"portainer.app\").factory(\"VersionInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){\"use strict\";var n={};return n.responseError=function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a&&a.Snapshots.length&&a.Snapshots[0].SnapshotRaw){var i=a.Snapshots[0].SnapshotRaw.Version;if(void 0!==i)return i}}return e.reject(n)},n}])},function(e,t){angular.module(\"portainer.app\").factory(\"VolumesInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){\"use strict\";var n={};return n.responseError=function(n){if(502===n.status||503===n.status||-1===n.status){var a=t.currentEndpoint();if(void 0!==a){var i=a.Snapshots[0].SnapshotRaw.Volumes;if(void 0!==i)return i}}return e.reject(n)},n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(37);angular.module(\"portainer.docker\").factory(\"Build\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return e(t+\"/:endpointId/docker/build\",{endpointId:n.endpointID},{buildImage:{method:\"POST\",ignoreLoadingBar:!0,transformResponse:a.jsonObjectsToArrayHandler,isArray:!0,headers:{\"Content-Type\":\"application/x-tar\"}},buildImageOverride:{method:\"POST\",ignoreLoadingBar:!0,transformResponse:a.jsonObjectsToArrayHandler,isArray:!0}})}])},function(e,t){angular.module(\"portainer.docker\").factory(\"Commit\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/docker/commit\",{endpointId:n.endpointID},{commitContainer:{method:\"POST\",params:{container:\"@id\",repo:\"@repo\"},ignoreLoadingBar:!0}})}])},function(e,t){angular.module(\"portainer.docker\").factory(\"Config\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/docker/configs/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",params:{id:\"@id\"}},query:{method:\"GET\",isArray:!0},create:{method:\"POST\",params:{action:\"create\"},ignoreLoadingBar:!0},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(37);angular.module(\"portainer.docker\").factory(\"Container\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"ContainersInterceptor\",function(e,t,n,i){return e(t+\"/:endpointId/docker/containers/:id/:action\",{name:\"@name\",endpointId:n.endpointID},{query:{method:\"GET\",params:{all:0,action:\"json\",filters:\"@filters\"},isArray:!0,interceptor:i},get:{method:\"GET\",params:{action:\"json\"}},stop:{method:\"POST\",params:{id:\"@id\",action:\"stop\"}},restart:{method:\"POST\",params:{id:\"@id\",action:\"restart\"}},kill:{method:\"POST\",params:{id:\"@id\",action:\"kill\"}},pause:{method:\"POST\",params:{id:\"@id\",action:\"pause\"}},unpause:{method:\"POST\",params:{id:\"@id\",action:\"unpause\"}},logs:{method:\"GET\",params:{id:\"@id\",action:\"logs\"},ignoreLoadingBar:!0,transformResponse:a.logsHandler},stats:{method:\"GET\",params:{id:\"@id\",stream:!1,action:\"stats\"},ignoreLoadingBar:!0},top:{method:\"GET\",params:{id:\"@id\",action:\"top\"},ignoreLoadingBar:!0},start:{method:\"POST\",params:{id:\"@id\",action:\"start\"},transformResponse:a.genericHandler},create:{method:\"POST\",params:{action:\"create\"},transformResponse:a.genericHandler,ignoreLoadingBar:!0},remove:{method:\"DELETE\",params:{id:\"@id\",v:\"@v\",force:\"@force\"},transformResponse:a.genericHandler},rename:{method:\"POST\",params:{id:\"@id\",action:\"rename\",name:\"@name\"},transformResponse:a.genericHandler},exec:{method:\"POST\",params:{id:\"@id\",action:\"exec\"},transformResponse:a.genericHandler,ignoreLoadingBar:!0},inspect:{method:\"GET\",params:{id:\"@id\",action:\"json\"}},update:{method:\"POST\",params:{id:\"@id\",action:\"update\"}},prune:{method:\"POST\",params:{action:\"prune\",filters:\"@filters\"}},resize:{method:\"POST\",params:{id:\"@id\",action:\"resize\",h:\"@height\",w:\"@width\"},transformResponse:a.genericHandler,ignoreLoadingBar:!0}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(37);angular.module(\"portainer.docker\").factory(\"Exec\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return e(t+\"/:endpointId/docker/exec/:id/:action\",{endpointId:n.endpointID},{resize:{method:\"POST\",params:{id:\"@id\",action:\"resize\",h:\"@height\",w:\"@width\"},transformResponse:a.genericHandler,ignoreLoadingBar:!0}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(37),i=n(564);angular.module(\"portainer.docker\").factory(\"Image\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"HttpRequestHelper\",\"ImagesInterceptor\",function(e,t,n,s,r){return e(t+\"/:endpointId/docker/images/:id/:action\",{endpointId:n.endpointID},{query:{method:\"GET\",params:{all:0,action:\"json\"},isArray:!0,interceptor:r},get:{method:\"GET\",params:{action:\"json\"}},search:{method:\"GET\",params:{action:\"search\"}},history:{method:\"GET\",params:{action:\"history\"},isArray:!0},insert:{method:\"POST\",params:{id:\"@id\",action:\"insert\"}},tag:{method:\"POST\",params:{id:\"@id\",action:\"tag\",force:0,repo:\"@repo\"},ignoreLoadingBar:!0},inspect:{method:\"GET\",params:{id:\"@id\",action:\"json\"}},push:{method:\"POST\",params:{action:\"push\",id:\"@imageName\"},isArray:!0,transformResponse:a.jsonObjectsToArrayHandler,headers:{\"X-Registry-Auth\":s.registryAuthenticationHeader},ignoreLoadingBar:!0},create:{method:\"POST\",params:{action:\"create\",fromImage:\"@fromImage\"},isArray:!0,transformResponse:a.jsonObjectsToArrayHandler,headers:{\"X-Registry-Auth\":s.registryAuthenticationHeader},ignoreLoadingBar:!0},download:{method:\"GET\",params:{action:\"get\",names:\"@names\"},transformResponse:i.imageGetResponse,responseType:\"blob\",ignoreLoadingBar:!0},remove:{method:\"DELETE\",params:{id:\"@id\",force:\"@force\"},isArray:!0,transformResponse:a.deleteImageHandler}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(37);angular.module(\"portainer.docker\").factory(\"Network\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"NetworksInterceptor\",function(e,t,n,i){return e(t+\"/:endpointId/docker/networks/:id/:action\",{id:\"@id\",endpointId:n.endpointID},{query:{method:\"GET\",isArray:!0,interceptor:i},get:{method:\"GET\"},create:{method:\"POST\",params:{action:\"create\"},transformResponse:a.genericHandler,ignoreLoadingBar:!0},remove:{method:\"DELETE\",transformResponse:a.genericHandler},connect:{method:\"POST\",params:{action:\"connect\"}},disconnect:{method:\"POST\",params:{action:\"disconnect\"}}})}])},function(e,t){angular.module(\"portainer.docker\").factory(\"Node\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/docker/nodes/:id/:action\",{endpointId:n.endpointID},{query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"POST\",params:{id:\"@id\",action:\"update\",version:\"@version\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},function(e,t){angular.module(\"portainer.docker\").factory(\"Plugin\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/docker/plugins/:id/:action\",{endpointId:n.endpointID},{query:{method:\"GET\",isArray:!0}})}])},function(e,t){angular.module(\"portainer.docker\").factory(\"Secret\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/docker/secrets/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",params:{id:\"@id\"}},query:{method:\"GET\",isArray:!0},create:{method:\"POST\",params:{action:\"create\"},ignoreLoadingBar:!0},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(37);angular.module(\"portainer.docker\").factory(\"Service\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"HttpRequestHelper\",function(e,t,n,i){return e(t+\"/:endpointId/docker/services/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",params:{id:\"@id\"}},query:{method:\"GET\",isArray:!0,params:{filters:\"@filters\"}},create:{method:\"POST\",params:{action:\"create\"},headers:{\"X-Registry-Auth\":i.registryAuthenticationHeader,version:\"1.29\"},ignoreLoadingBar:!0},update:{method:\"POST\",params:{id:\"@id\",action:\"update\",version:\"@version\",rollback:\"@rollback\"},headers:{version:\"1.29\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},logs:{method:\"GET\",params:{id:\"@id\",action:\"logs\"},ignoreLoadingBar:!0,transformResponse:a.logsHandler}})}])},function(e,t){angular.module(\"portainer.docker\").factory(\"Swarm\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/docker/swarm\",{endpointId:n.endpointID},{get:{method:\"GET\"}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(37);angular.module(\"portainer.docker\").factory(\"System\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"InfoInterceptor\",\"VersionInterceptor\",function(e,t,n,i,s){return e(t+\"/:endpointId/docker/:action/:subAction\",{name:\"@name\",endpointId:n.endpointID},{info:{method:\"GET\",params:{action:\"info\"},interceptor:i},version:{method:\"GET\",params:{action:\"version\"},interceptor:s},events:{method:\"GET\",params:{action:\"events\",since:\"@since\",until:\"@until\"},isArray:!0,transformResponse:a.jsonObjectsToArrayHandler},auth:{method:\"POST\",params:{action:\"auth\"}},dataUsage:{method:\"GET\",params:{action:\"system\",subAction:\"df\"}}})}])},function(e,t){angular.module(\"portainer.docker\").factory(\"SystemEndpoint\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",function(e,t){\"use strict\";return e(t+\"/:endpointId/docker/:action/:subAction\",{name:\"@name\"},{ping:{method:\"GET\",params:{action:\"_ping\",endpointId:\"@endpointId\"}}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(37);angular.module(\"portainer.docker\").factory(\"Task\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return e(t+\"/:endpointId/docker/tasks/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",params:{id:\"@id\"}},query:{method:\"GET\",isArray:!0,params:{filters:\"@filters\"}},logs:{method:\"GET\",params:{id:\"@id\",action:\"logs\"},ignoreLoadingBar:!0,transformResponse:a.logsHandler}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(37);angular.module(\"portainer.docker\").factory(\"Volume\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",\"VolumesInterceptor\",function(e,t,n,i){return e(t+\"/:endpointId/docker/volumes/:id/:action\",{endpointId:n.endpointID},{query:{method:\"GET\",interceptor:i},get:{method:\"GET\",params:{id:\"@id\"}},create:{method:\"POST\",params:{action:\"create\"},transformResponse:a.genericHandler,ignoreLoadingBar:!0,headers:{\"X-Portainer-VolumeName\":function(e){return e.data.Name||\"\"}}},remove:{method:\"DELETE\",transformResponse:a.genericHandler,params:{id:\"@id\"}}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(230);angular.module(\"portainer.docker\").factory(\"BuildService\",[\"$q\",\"Build\",\"FileUploadService\",function(e,t,n){var i={buildImageFromUpload:function(t,i,s){var r=e.defer();return n.buildImage(t,i,s).then((function(e){var t=new a.ImageBuildModel(e.data);r.resolve(t)})).catch((function(e){r.reject(e)})),r.promise},buildImageFromURL:function(n,i,s){var r={t:n,remote:i,dockerfile:s},o=e.defer();return t.buildImage(r,{}).$promise.then((function(e){var t=new a.ImageBuildModel(e);o.resolve(t)})).catch((function(e){o.reject(e)})),o.promise},buildImageFromDockerfileContent:function(n,i){var s={t:n},r={content:i},o=e.defer();return t.buildImageOverride(s,r).$promise.then((function(e){var t=new a.ImageBuildModel(e);o.resolve(t)})).catch((function(e){o.reject(e)})),o.promise}};return i}])},function(e,t,n){\"use strict\";n.r(t);var a=n(375);angular.module(\"portainer.docker\").factory(\"ConfigService\",[\"$q\",\"Config\",function(e,t){var n={config:function(n){var i=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.ConfigViewModel(e);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve config details\",err:e})})),i.promise},configs:function(){var n=e.defer();return t.query({}).$promise.then((function(e){var t=e.map((function(e){return new a.ConfigViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve configs\",err:e})})),n.promise},remove:function(n){var a=e.defer();return t.remove({id:n}).$promise.then((function(e){e.message?a.reject({msg:e.message}):a.resolve()})).catch((function(e){a.reject({msg:\"Unable to remove config\",err:e})})),a.promise},create:function(e){return t.create(e).$promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(229);angular.module(\"portainer.docker\").factory(\"ContainerService\",[\"$q\",\"Container\",\"ResourceControlService\",\"LogHelper\",\"$timeout\",function(e,t,n,i,s){var r={};return r.container=function(n){var i=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.ContainerDetailsViewModel(e);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve container information\",err:e})})),i.promise},r.containers=function(n,i){var s=e.defer();return t.query({all:n,filters:i}).$promise.then((function(e){var t=e.map((function(e){return new a.ContainerViewModel(e)}));s.resolve(t)})).catch((function(e){s.reject({msg:\"Unable to retrieve containers\",err:e})})),s.promise},r.resizeTTY=function(n,a,i,r){var o=e.defer();return s((function(){t.resize({},{id:n,height:i,width:a}).$promise.then((function(e){e.message?o.reject({msg:\"Unable to resize tty of container \"+n,err:e.message}):o.resolve(e)})).catch((function(e){o.reject({msg:\"Unable to resize tty of container \"+n,err:e})}))}),r),o.promise},r.startContainer=function(e){return t.start({id:e},{}).$promise},r.stopContainer=function(e){return t.stop({id:e},{}).$promise},r.restartContainer=function(e){return t.restart({id:e},{}).$promise},r.killContainer=function(e){return t.kill({id:e},{}).$promise},r.pauseContainer=function(e){return t.pause({id:e},{}).$promise},r.resumeContainer=function(e){return t.unpause({id:e},{}).$promise},r.renameContainer=function(e,n){return t.rename({id:e,name:n},{}).$promise},r.updateRestartPolicy=function(e,n,a){return t.update({id:e},{RestartPolicy:{Name:n,MaximumRetryCount:a}}).$promise},r.updateLimits=function(e,n){return t.update({id:e},{MemoryReservation:n.HostConfig.MemoryReservation,Memory:n.HostConfig.Memory,MemorySwap:-1,NanoCpus:n.HostConfig.NanoCpus}).$promise},r.createContainer=function(n){var a=e.defer();return t.create(n).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:\"Unable to create container\",err:e})})),a.promise},r.createAndStartContainer=function(t){var n,a=e.defer();return r.createContainer(t).then((function(e){return n=e,r.startContainer(n.Id)})).then((function(){a.resolve(n)})).catch((function(e){a.reject(e)})),a.promise},r.remove=function(n,a){var i=e.defer();return t.remove({id:n.Id,v:a?1:0,force:!0}).$promise.then((function(e){e.message?i.reject({msg:e.message,err:e.message}):i.resolve()})).catch((function(e){i.reject({msg:\"Unable to remove container\",err:e})})),i.promise},r.createExec=function(n){var a=e.defer();return t.exec({},n).$promise.then((function(e){e.message?a.reject({msg:e.message,err:e.message}):a.resolve(e)})).catch((function(e){a.reject(e)})),a.promise},r.logs=function(n,a,s,r,o,l,c){var d=e.defer(),u={id:n,stdout:a||0,stderr:s||0,timestamps:r||0,since:o||0,tail:l||\"all\"};return t.logs(u).$promise.then((function(e){var t=i.formatLogs(e.logs,c);d.resolve(t)})).catch((function(e){d.reject(e)})),d.promise},r.containerStats=function(n){var i=e.defer();return t.stats({id:n}).$promise.then((function(e){var t=new a.ContainerStatsViewModel(e);i.resolve(t)})).catch((function(e){i.reject(e)})),i.promise},r.containerTop=function(e){return t.top({id:e}).$promise},r.inspect=function(e){return t.inspect({id:e}).$promise},r.prune=function(e){return t.prune({filters:e}).$promise},r}])},function(e,t){angular.module(\"portainer.docker\").factory(\"ExecService\",[\"$q\",\"$timeout\",\"Exec\",function(e,t,n){\"use strict\";var a={resizeTTY:function(a,i,s,r){var o=e.defer();return t((function(){n.resize({},{id:a,height:s,width:i}).$promise.then((function(e){e.message?o.reject({msg:\"Unable to resize tty of exec\",err:e.message}):o.resolve(e)})).catch((function(e){o.reject({msg:\"Unable to resize tty of exec\",err:e})}))}),r),o.promise}};return a}])},function(e,t,n){\"use strict\";n.r(t);var a=n(149),i=n(381),s=n(33),r=n(41),o=n(68),l=n(230),c=n(560),d=n(561);angular.module(\"portainer.docker\").factory(\"ImageService\",[\"$q\",\"Image\",\"ImageHelper\",\"RegistryService\",\"HttpRequestHelper\",\"ContainerService\",\"FileUploadService\",function(e,t,n,u,p,m,g){var h={};return h.image=function(n){var a=e.defer();return t.get({id:n}).$promise.then((function(e){if(e.message)a.reject({msg:e.message});else{var t=new c.ImageDetailsViewModel(e);a.resolve(t)}})).catch((function(e){a.reject({msg:\"Unable to retrieve image details\",err:e})})),a.promise},h.images=function(n){var a=e.defer();return e.all({containers:n?m.containers(1):[],images:t.query({}).$promise}).then((function(e){var t=e.containers,n=e.images.map((function(e){e.ContainerCount=0;for(var n=0;n<t.length;n++){t[n].ImageID===e.Id&&e.ContainerCount++}return new l.ImageViewModel(e)}));a.resolve(n)})).catch((function(e){a.reject({msg:\"Unable to retrieve images\",err:e})})),a.promise},h.history=function(n){var a=e.defer();return t.history({id:n}).$promise.then((function(e){if(e.message)a.reject({msg:e.message});else{var t=[],n=e.length;angular.forEach(e,(function(e){t.push(new d.ImageLayerViewModel(n,e)),n--})),a.resolve(t)}})).catch((function(e){a.reject({msg:\"Unable to retrieve image details\",err:e})})),a.promise},h.pushImage=function(a){var i=e.defer(),s=a.Registry.Authentication?u.encodedCredentials(a.Registry):\"\";p.setRegistryAuthenticationHeader(s);const r=n.createImageConfigForContainer(a);return t.push({imageName:r.fromImage}).$promise.then((function(e){e[e.length-1].error?i.reject({msg:e[e.length-1].error}):i.resolve()})).catch((function(e){i.reject({msg:\"Unable to push image tag\",err:e})})),i.promise},h.pullImage=function(a,i){var s=a.Registry.Authentication?u.encodedCredentials(a.Registry):\"\";p.setRegistryAuthenticationHeader(s);var r=n.createImageConfigForContainer(a);if(i)return function(n){var a=e.defer();return t.create({},n).$promise.catch(()=>{}).finally((function(){a.resolve()})),a.promise}(r);return function(n){var a=e.defer();return t.create({},n).$promise.then((function(e){if(e.length>0&&e[e.length-1].message){var t=e[e.length-1];a.reject({msg:t.message})}else a.resolve(e)})).catch((function(e){a.reject({msg:\"Unable to pull image\",err:e})})),a.promise}(r)},h.tagImage=function(e,n){return t.tag({id:e,repo:n}).$promise},h.downloadImages=function(e){var a=n.getImagesNamesForDownload(e);return t.download(a).$promise},h.uploadImage=function(e){return g.loadImages(e)},h.deleteImage=function(n,a){var i=e.defer();return t.remove({id:n,force:a}).$promise.then((function(e){e[0].message?i.reject({msg:e[0].message}):i.resolve()})).catch((function(e){i.reject({msg:\"Unable to remove image\",err:e})})),i.promise},h.getUniqueTagListFromImages=function(e){return Object(o.a)(Object(r.a)(e,(function(e){return Object(s.a)(e.RepoTags,(function(e){return-1!==e.indexOf(\"<none>\")})),e.RepoTags?Object(i.a)(e.RepoTags,a.a):[]})))},h}])},function(e,t,n){\"use strict\";n.r(t);var a=n(376);angular.module(\"portainer.docker\").factory(\"NetworkService\",[\"$q\",\"Network\",function(e,t){var n={create:function(n){var a=e.defer();return t.create(n).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:\"Unable to create network\",err:e})})),a.promise},network:function(n){var i=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.NetworkViewModel(e);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve network details\",err:e})})),i.promise},networks:function(n,i,s,r){var o=e.defer();return t.query({filters:r}).$promise.then((function(e){var t=e.filter((function(e){return n&&\"local\"===e.Scope||i&&\"swarm\"===e.Scope||s&&\"swarm\"===e.Scope&&!0===e.Attachable?e:void 0})).map((function(e){return new a.NetworkViewModel(e)}));o.resolve(t)})).catch((function(e){o.reject({msg:\"Unable to retrieve networks\",err:e})})),o.promise},remove:function(e){return t.remove({id:e}).$promise},disconnectContainer:function(e,n,a){return t.disconnect({id:e},{Container:n,Force:a}).$promise},connectContainer:function(e,n,a){var i={Container:n};return a&&(i.EndpointConfig={Aliases:a}),t.connect({id:e},i).$promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(377);angular.module(\"portainer.docker\").factory(\"NodeService\",[\"$q\",\"Node\",function(e,t){var n={};return n.nodes=function(){var n=e.defer();return t.query({}).$promise.then((function(e){var t=e.map((function(e){return new a.NodeViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve nodes\",err:e})})),n.promise},n.node=function(n){var i=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.NodeViewModel(e);return i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve node\",err:e})})),i.promise},n.updateNode=function(e){return t.update({id:e.Id,version:e.Version},e).$promise},n.getActiveManager=function(){var t=e.defer();return n.nodes().then((function(e){for(var n=0;n<e.length;++n){var a=e[n];if(\"manager\"===a.Role&&\"active\"===a.Availability&&\"ready\"===a.Status&&\"0.0.0.0\"!==a.Addr){t.resolve(a);break}}})).catch((function(e){t.reject({msg:\"Unable to retrieve nodes\",err:e})})),t.promise},n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(16),i=n(562);angular.module(\"portainer.docker\").factory(\"PluginService\",[\"$q\",\"Plugin\",\"SystemService\",function(e,t,n){var s={};function r(t,i,r){var o=e.defer();return e.all({system:n.plugins(),plugins:t?[]:s.plugins()}).then((function(e){var t=[],n=e.system,s=e.plugins;n[i]&&(t=t.concat(n[i]));for(var l=0;l<s.length;l++){var c=s[l];c.Enabled&&Object(a.a)(c.Config.Interface.Types,r)&&t.push(c.Name)}o.resolve(t)})).catch((function(e){o.reject({msg:e.msg,err:e})})),o.promise}return s.plugins=function(){var n=e.defer(),a=[];return t.query({}).$promise.then((function(e){for(var t=0;t<e.length;t++){var n=new i.PluginViewModel(e[t]);a.push(n)}})).finally((function(){n.resolve(a)})),n.promise},s.volumePlugins=function(e){return r(e,\"Volume\",\"docker.volumedriver/1.0\")},s.networkPlugins=function(e){return r(e,\"Network\",\"docker.networkdriver/1.0\")},s.loggingPlugins=function(e){return r(e,\"Log\",\"docker.logdriver/1.0\")},s}])},function(e,t,n){\"use strict\";n.r(t);var a=n(378);angular.module(\"portainer.docker\").factory(\"SecretService\",[\"$q\",\"Secret\",function(e,t){var n={secret:function(n){var i=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.SecretViewModel(e);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve secret details\",err:e})})),i.promise},secrets:function(){var n=e.defer();return t.query({}).$promise.then((function(e){var t=e.map((function(e){return new a.SecretViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve secrets\",err:e})})),n.promise},remove:function(n){var a=e.defer();return t.remove({id:n}).$promise.then((function(e){e.message?a.reject({msg:e.message}):a.resolve()})).catch((function(e){a.reject({msg:\"Unable to remove secret\",err:e})})),a.promise},create:function(e){return t.create(e).$promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(379);angular.module(\"portainer.docker\").factory(\"ServiceService\",[\"$q\",\"Service\",\"ServiceHelper\",\"TaskService\",\"ResourceControlService\",\"LogHelper\",function(e,t,n,i,s,r){var o={services:function(n){var i=e.defer();return t.query({filters:n||{}}).$promise.then((function(e){var t=e.map((function(e){return new a.ServiceViewModel(e)}));i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve services\",err:e})})),i.promise},service:function(n){var i=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.ServiceViewModel(e);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve service details\",err:e})})),i.promise},remove:function(n){var a=e.defer();return t.remove({id:n.Id}).$promise.then((function(e){e.message?a.reject({msg:e.message,err:e.message}):a.resolve()})).catch((function(e){a.reject({msg:\"Unable to remove service\",err:e})})),a.promise},update:function(e,n,a){return o.service(e.Id).then(i=>{const s={id:e.Id,version:i.Version};return a&&(s.rollback=a),t.update(s,n).$promise})},logs:function(n,a,i,s,o,l){var c=e.defer(),d={id:n,stdout:a||0,stderr:i||0,timestamps:s||0,since:o||0,tail:l||\"all\"};return t.logs(d).$promise.then((function(e){var t=r.formatLogs(e.logs,!0);c.resolve(t)})).catch((function(e){c.reject(e)})),c.promise}};return o}])},function(e,t,n){\"use strict\";n.r(t);var a=n(563);angular.module(\"portainer.docker\").factory(\"SwarmService\",[\"$q\",\"Swarm\",function(e,t){var n={swarm:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new a.SwarmViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve Swarm details\",err:e})})),n.promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(559);angular.module(\"portainer.docker\").factory(\"SystemService\",[\"$q\",\"System\",\"SystemEndpoint\",function(e,t,n){var i={plugins:function(){var n=e.defer();return t.info({}).$promise.then((function(e){var t=e.Plugins;n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve plugins information from system\",err:e})})),n.promise},info:function(){return t.info({}).$promise},ping:function(e){return n.ping({endpointId:e}).$promise},version:function(){return t.version({}).$promise},events:function(n,i){var s=e.defer();return t.events({since:n,until:i}).$promise.then((function(e){var t=e.map((function(e){return new a.EventViewModel(e)}));s.resolve(t)})).catch((function(e){s.reject({msg:\"Unable to retrieve engine events\",err:e})})),s.promise},dataUsage:function(){return t.dataUsage().$promise}};return i}])},function(e,t,n){\"use strict\";n.r(t);var a=n(380);angular.module(\"portainer.docker\").factory(\"TaskService\",[\"$q\",\"Task\",\"LogHelper\",function(e,t,n){var i={task:function(n){var i=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.TaskViewModel(e);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve task details\",err:e})})),i.promise},tasks:function(n){var i=e.defer();return t.query({filters:n||{}}).$promise.then((function(e){var t=e.map((function(e){return new a.TaskViewModel(e)}));i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve tasks\",err:e})})),i.promise},logs:function(a,i,s,r,o,l){var c=e.defer(),d={id:a,stdout:i||0,stderr:s||0,timestamps:r||0,since:o||0,tail:l||\"all\"};return t.logs(d).$promise.then((function(e){var t=n.formatLogs(e.logs,!0);c.resolve(t)})).catch((function(e){c.reject(e)})),c.promise}};return i}])},function(e,t,n){\"use strict\";n.r(t);var a=n(298);angular.module(\"portainer.docker\").factory(\"VolumeService\",[\"$q\",\"Volume\",\"VolumeHelper\",function(e,t,n){var i={volumes:function(n){var i=e.defer();return t.query(n).$promise.then((function(e){var t=e.Volumes||[];t=t.map((function(e){return new a.VolumeViewModel(e)})),i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve volumes\",err:e})})),i.promise},volume:function(n){var i=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.VolumeViewModel(e);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve volume details\",err:e})})),i.promise},getVolumes:function(){return t.query({}).$promise},remove:function(n){var a=e.defer();return t.remove({id:n.Id}).$promise.then((function(e){e.message?a.reject({msg:e.message,err:e.message}):a.resolve()})).catch((function(e){a.reject({msg:\"Unable to remove volume\",err:e})})),a.promise},createVolumeConfiguration:function(e,t,a){return{Name:e,Driver:t,DriverOpts:n.createDriverOptions(a)}},createVolume:function(n){var i=e.defer();return t.create(n).$promise.then((function(e){if(e.message)i.reject({msg:e.message});else{var t=new a.VolumeViewModel(e);i.resolve(t)}})).catch((function(e){i.reject({msg:\"Unable to create volume\",err:e})})),i.promise},createVolumes:function(t){var n=t.map((function(e){return i.createVolume(e)}));return e.all(n)},createXAutoGeneratedLocalVolumes:function(t){for(var n=[],a=0;a<t;a++)n.push(i.createVolume({Driver:\"local\"}));return e.all(n)}};return i}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);class s{constructor(e,t,n,a){this.$state=e,this.ConfigService=t,this.Notifications=n,this.$async=a,this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this),this.getConfigs=this.getConfigs.bind(this),this.getConfigsAsync=this.getConfigsAsync.bind(this)}getConfigs(){return this.$async(this.getConfigsAsync)}async getConfigsAsync(){try{this.configs=await this.ConfigService.configs()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve configs\")}}async $onInit(){this.configs=[],this.getConfigs()}removeAction(e){return this.$async(this.removeActionAsync,e)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.ConfigService.remove(n.Id),this.Notifications.success(\"Config successfully removed\",n.Name);const e=this.configs.indexOf(n);this.configs.splice(e,1)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove config\")}finally{--t,0===t&&this.$state.reload()}}}s.$inject=[\"$state\",\"ConfigService\",\"Notifications\",\"$async\"],t.default=s,i.a.module(\"portainer.docker\").controller(\"ConfigsController\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(63),i=n(1),s=n.n(i),r=n(45);class o{constructor(e,t,n,a,i,s,o,l,c,d){this.$state=t,this.$transition$=n,this.$window=a,this.ModalService=i,this.Notifications=s,this.ConfigService=o,this.Authentication=l,this.FormValidator=c,this.ResourceControlService=d,this.$async=e,this.formValues={Name:\"\",Labels:[],AccessControlData:new r.AccessControlFormData,ConfigContent:\"\"},this.state={formValidationError:\"\",isEditorDirty:!1},this.editorUpdate=this.editorUpdate.bind(this),this.createAsync=this.createAsync.bind(this)}async $onInit(){if(this.$window.onbeforeunload=()=>{if(this.formValues.displayCodeEditor&&this.formValues.ConfigContent&&this.state.isEditorDirty)return\"\"},this.$transition$.params().id)try{let e=await this.ConfigService.config(this.$transition$.params().id);this.formValues.Name=e.Name+\"_copy\",this.formValues.Data=e.Data;let t=Object(a.a)(e.Labels);for(let n=0;n<t.length;n++){let a=t[n],i=e.Labels[a];this.formValues.Labels.push({name:a,value:i})}this.formValues.displayCodeEditor=!0}catch(e){this.formValues.displayCodeEditor=!0,this.Notifications.error(\"Failure\",e,\"Unable to clone config\")}else this.formValues.displayCodeEditor=!0}$onDestroy(){this.state.isEditorDirty=!1}async uiCanExit(){if(this.formValues.displayCodeEditor&&this.formValues.ConfigContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}addLabel(){this.formValues.Labels.push({name:\"\",value:\"\"})}removeLabel(e){this.formValues.Labels.splice(e,1)}prepareLabelsConfig(e){let t={};this.formValues.Labels.forEach((function(e){e.name&&e.value&&(t[e.name]=e.value)})),e.Labels=t}prepareConfigData(e){let t=this.formValues.ConfigContent;e.Data=btoa(unescape(encodeURIComponent(t)))}prepareConfiguration(){let e={};return e.Name=this.formValues.Name,this.prepareConfigData(e),this.prepareLabelsConfig(e),e}validateForm(e,t){this.state.formValidationError=\"\";let n=\"\";return n=this.FormValidator.validateAccessControl(e,t),!n||(this.state.formValidationError=n,!1)}create(){return this.$async(this.createAsync)}async createAsync(){const e=this.formValues.AccessControlData,t=this.Authentication.getUserDetails(),n=this.Authentication.isAdmin();if(\"\"===this.formValues.ConfigContent)return void(this.state.formValidationError=\"Config content must not be empty\");if(!this.validateForm(e,n))return;const a=this.prepareConfiguration();try{const n=(await this.ConfigService.create(a)).Portainer.ResourceControl,i=t.ID;await this.ResourceControlService.applyResourceControl(i,e,n),this.Notifications.success(\"Config successfully created\"),this.state.isEditorDirty=!1,this.$state.go(\"docker.configs\",{},{reload:!0})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create config\")}}editorUpdate(e){this.formValues.ConfigContent=e.getValue(),this.state.isEditorDirty=!0}}o.$inject=[\"$async\",\"$state\",\"$transition$\",\"$window\",\"ModalService\",\"Notifications\",\"ConfigService\",\"Authentication\",\"FormValidator\",\"ResourceControlService\"],t.default=o,s.a.module(\"portainer.docker\").controller(\"CreateConfigController\",o)},function(e,t){angular.module(\"portainer.docker\").controller(\"ConfigController\",[\"$scope\",\"$transition$\",\"$state\",\"ConfigService\",\"Notifications\",function(e,t,n,a,i){e.removeConfig=function(e){a.remove(e).then((function(){i.success(\"Config successfully removed\"),n.go(\"docker.configs\",{})})).catch((function(e){i.error(\"Failure\",e,\"Unable to remove config\")}))},a.config(t.params().id).then((function(t){e.config=t})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve config details\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(167);angular.module(\"portainer.docker\").controller(\"ContainerConsoleController\",[\"$scope\",\"$transition$\",\"ContainerService\",\"ImageService\",\"EndpointProvider\",\"Notifications\",\"ContainerHelper\",\"ExecService\",\"HttpRequestHelper\",\"LocalStorage\",\"CONSOLE_COMMANDS_LABEL_PREFIX\",function(e,t,n,i,s,r,o,l,c,d,u){var p,m;let g=Object.freeze({disconnected:0,connecting:1,connected:2});function h(e,t){t=t||0,m.fit();var n=m.cols;m.resize(n,30),e(n+t,30+t,1)}function f(n,i){let s=h.bind(this,i);t.params().nodeName&&(n+=\"&nodeName=\"+t.params().nodeName),n=n.indexOf(\"https\")>-1?n.replace(\"https://\",\"wss://\"):n.replace(\"http://\",\"ws://\"),(p=new WebSocket(n)).onopen=function(){e.state=g.connected,(m=new a.Terminal).on(\"data\",(function(e){p.send(e)}));var t=document.getElementById(\"terminal-container\");m.open(t),m.focus(),m.setOption(\"cursorBlink\",!0),window.onresize=function(){s(),e.$apply()},e.$watch(\"toggle\",(function(){setTimeout(s,400)})),p.onmessage=function(e){m.write(e.data)},p.onerror=function(t){e.disconnect(),e.$apply(),r.error(\"Failure\",t,\"Connection error\")},p.onclose=function(){e.disconnect(),e.$apply()},s(1),e.$apply()}}e.loaded=!1,e.states=g,e.state=g.disconnected,e.formValues={},e.containerCommands=[],e.$on(\"$stateChangeStart\",(function(){e.disconnect()})),e.connectAttach=function(){if(e.state>g.disconnected)return;e.state=g.connecting;let a=t.params().id;n.container(a).then(t=>{if(!t.State.Running)return r.error(\"Failure\",t,\"Container \"+a+\" is not running!\"),void e.disconnect();const i={token:d.getJWT(),endpointId:s.endpointID(),id:a};f(window.location.href.split(\"#\")[0]+\"api/websocket/attach?\"+Object.keys(i).map(e=>e+\"=\"+i[e]).join(\"&\"),n.resizeTTY.bind(this,a))}).catch((function(t){r.error(\"Error\",t,\"Unable to retrieve container details\"),e.disconnect()}))},e.connectExec=function(){if(!(e.state>g.disconnected)){e.state=g.connecting;var a=e.formValues.isCustomCommand?e.formValues.customCommand:e.formValues.command,i={id:t.params().id,AttachStdin:!0,AttachStdout:!0,AttachStderr:!0,Tty:!0,User:e.formValues.user,Cmd:o.commandStringToArray(a)};n.createExec(i).then((function(e){const t={token:d.getJWT(),endpointId:s.endpointID(),id:e.Id};f(window.location.href.split(\"#\")[0]+\"api/websocket/exec?\"+Object.keys(t).map(e=>e+\"=\"+t[e]).join(\"&\"),l.resizeTTY.bind(this,t.id))})).catch((function(t){r.error(\"Failure\",t,\"Unable to exec into container\"),e.disconnect()}))}},e.disconnect=function(){p&&p.close(),e.state>g.disconnected&&(e.state=g.disconnected,m&&(m.write(\"\\n\\r(connection closed)\"),m.dispose()))},e.autoconnectAttachView=function(){return e.initView().then((function(){e.container.State.Running&&e.connectAttach()}))},e.initView=function(){return c.setPortainerAgentTargetHeader(t.params().nodeName),n.container(t.params().id).then((function(t){var n=t;return e.container=n,i.image(n.Image)})).then((function(t){var n=t,a=e.container.Config.Labels;e.imageOS=n.Os,e.formValues.command=\"windows\"===n.Os?\"powershell\":\"bash\",e.containerCommands=Object.keys(a).filter((function(e){return 0===e.indexOf(u)})).map((function(e){return{title:e.replace(u,\"\"),command:a[e]}})),e.loaded=!0})).catch((function(e){r.error(\"Error\",e,\"Unable to retrieve container details\")}))}}])},function(e,t){angular.module(\"portainer.docker\").controller(\"ContainersController\",[\"$scope\",\"ContainerService\",\"Notifications\",\"EndpointProvider\",function(e,t,n,a){function i(){t.containers(1).then((function(t){e.containers=t,e.offlineMode=a.offlineMode()})).catch((function(t){n.error(\"Failure\",t,\"Unable to retrieve containers\"),e.containers=[]}))}e.offlineMode=!1,e.getContainers=i,i()}])},function(e,t,n){\"use strict\";n.r(t);var a=n(46),i=n(67),s=n(7),r=n(17),o=n.n(r),l=n(74);angular.module(\"portainer.docker\").controller(\"ContainerController\",[\"$q\",\"$scope\",\"$state\",\"$transition$\",\"$filter\",\"$async\",\"Commit\",\"ContainerHelper\",\"ContainerService\",\"ImageHelper\",\"NetworkService\",\"Notifications\",\"ModalService\",\"ResourceControlService\",\"RegistryService\",\"ImageService\",\"HttpRequestHelper\",\"Authentication\",\"endpoint\",function(e,t,n,r,c,d,u,p,m,g,h,f,v,b,y,w,x,$,C){t.endpoint=C,t.isAdmin=$.isAdmin(),t.activityTime=0,t.portBindings=[],t.displayRecreateButton=!1,t.config={RegistryModel:new l.PorImageRegistryModel,commitInProgress:!1},t.state={recreateContainerInProgress:!1,joinNetworkInProgress:!1,leaveNetworkInProgress:!1,pullImageValidity:!1},t.setPullImageValidity=function(e){t.state.pullImageValidity=e},t.updateRestartPolicy=function(n,a){return a=\"on-failure\"===n?a:void 0,m.updateRestartPolicy(t.container.Id,n,a).then((function(){t.container.HostConfig.RestartPolicy={Name:n,MaximumRetryCount:a},f.success(\"Restart policy updated\")})).catch((function(t){return f.error(\"Failure\",t,\"Unable to update restart policy\"),e.reject(t)}))};var S=function(){var e=r.params().nodeName;x.setPortainerAgentTargetHeader(e),t.nodeName=e,m.container(r.params().id).then((function(e){var n=e;t.container=n,t.container.edit=!1,t.container.newContainerName=c(\"trimcontainername\")(n.Name),n.State.Running?t.activityTime=o.a.duration(o()(n.State.StartedAt).utc().diff(o()().utc())).humanize():\"created\"===n.State.Status?t.activityTime=o.a.duration(o()(n.Created).utc().diff(o()().utc())).humanize():t.activityTime=o.a.duration(o()().utc().diff(o()(n.State.FinishedAt).utc())).humanize(),t.portBindings=[],n.NetworkSettings.Ports&&Object(s.a)(Object.keys(n.NetworkSettings.Ports),(function(e){n.NetworkSettings.Ports[e]&&Object(s.a)(n.NetworkSettings.Ports[e],n=>{const a={};a.container=e,a.host=`${n.HostIp}:${n.HostPort}`,t.portBindings.push(a)})})),t.container.Config.Env=Object(i.a)(t.container.Config.Env,a.a);const r=t.container.Config.Labels[\"com.docker.swarm.service.id\"],l=t.container.HostConfig.AutoRemove,d=$.isAdmin(),{allowContainerCapabilitiesForRegularUsers:u,allowHostNamespaceForRegularUsers:p,allowDeviceMappingForRegularUsers:m,allowSysctlSettingForRegularUsers:g,allowBindMountsForRegularUsers:h,allowPrivilegedModeForRegularUsers:f}=C.SecuritySettings,v=!(u&&h&&m&&g&&p&&f);t.displayRecreateButton=!r&&!l&&(d||!v)})).catch((function(e){f.error(\"Failure\",e,\"Unable to retrieve container info\")}))};function k(e,t,n,a){t(e).then((function(){f.success(n,e),S()})).catch((function(e){f.error(\"Failure\",e,a)}))}async function A(){t.config.commitInProgress=!0;const e=t.config.RegistryModel,a=g.createImageConfigForContainer(e);try{await u.commitContainer({id:r.params().id,repo:a.fromImage}).$promise,f.success(\"Image created\",r.params().id),n.reload()}catch(e){f.error(\"Failure\",e,\"Unable to create image\"),t.config.commitInProgress=!1}}t.start=function(){k(r.params().id,m.startContainer,\"Container successfully started\",\"Unable to start container\")},t.stop=function(){k(r.params().id,m.stopContainer,\"Container successfully stopped\",\"Unable to stop container\")},t.kill=function(){k(r.params().id,m.killContainer,\"Container successfully killed\",\"Unable to kill container\")},t.pause=function(){k(r.params().id,m.pauseContainer,\"Container successfully paused\",\"Unable to pause container\")},t.unpause=function(){k(r.params().id,m.resumeContainer,\"Container successfully resumed\",\"Unable to resume container\")},t.restart=function(){k(r.params().id,m.restartContainer,\"Container successfully restarted\",\"Unable to restart container\")},t.renameContainer=function(){var e=t.container;m.renameContainer(r.params().id,e.newContainerName).then((function(){e.Name=e.newContainerName,f.success(\"Container successfully renamed\",e.Name)})).catch((function(t){e.newContainerName=e.Name,f.error(\"Failure\",t,\"Unable to rename container\")})).finally((function(){t.container.edit=!1}))},t.containerLeaveNetwork=function(e,a){t.state.leaveNetworkInProgress=!0,h.disconnectContainer(a,e.Id,!1).then((function(){f.success(\"Container left network\",e.Id),n.reload()})).catch((function(e){f.error(\"Failure\",e,\"Unable to disconnect container from network\")})).finally((function(){t.state.leaveNetworkInProgress=!1}))},t.containerJoinNetwork=function(e,a){t.state.joinNetworkInProgress=!0,h.connectContainer(a,e.Id).then((function(){f.success(\"Container joined network\",e.Id),n.reload()})).catch((function(e){f.error(\"Failure\",e,\"Unable to connect container to network\")})).finally((function(){t.state.joinNetworkInProgress=!1}))},t.commit=function(){return d(A)},t.confirmRemove=function(){var e=\"You are about to remove a container.\";t.container.State.Running&&(e=\"You are about to remove a running container.\"),v.confirmContainerDeletion(e,(function(e){if(e){var a=!1;e[0]&&(a=!0),function(e){m.remove(t.container,e).then((function(){f.success(\"Container successfully removed\"),n.go(\"docker.containers\",{},{reload:!0})})).catch((function(e){f.error(\"Failure\",e,\"Unable to remove container\")}))}(a)}}))},t.recreate=function(){v.confirmContainerRecreation((function(a){if(a){var i=!1;a[0]&&(i=!0),function(a){var i=t.container,s=p.configFromContainer(i.Model);t.state.recreateContainerInProgress=!0;var r=i.State.Running;(function(){if(!a)return e.when();return y.retrievePorRegistryModelFromRepository(i.Config.Image,C.Id).then(e=>w.pullImage(e,!0))})().then((function(){if(!r)return e.when();return m.stopContainer(i.Id)})).then((function(){return m.renameContainer(i.Id,i.Name+\"-old\")})).then((function(){var t=s.NetworkingConfig.EndpointsConfig,n=Object.keys(t);n.length>1&&(s.NetworkingConfig.EndpointsConfig={},s.NetworkingConfig.EndpointsConfig[n[0]]=t[0]);return e.all([m.createContainer(s),t])})).then((function(t){var n=t[0],a=t[1],i=Object.keys(a).map((function(e){h.connectContainer(e,n.Id)}));return e.all(i).then((function(){return n}))})).then((function(t){if(!r)return e.when(t);return m.startContainer(t.Id).then((function(){return t}))})).then((function(e){const t=$.getUserDetails().ID,n=i.ResourceControl,a=e.Portainer.ResourceControl;return b.duplicateResourceControl(t,n,a)})).then((function(e){return m.remove(i,!0).then((function(){return e}))})).then((function(){f.success(\"Container successfully re-created\"),n.go(\"docker.containers\",{},{reload:!0})})).catch((function(e){f.error(\"Failure\",e,\"Unable to re-create container\"),t.state.recreateContainerInProgress=!1}))}(i)}}))};var P=t.applicationState.endpoint.mode.provider,I=t.applicationState.endpoint.apiVersion;h.networks(\"DOCKER_STANDALONE\"===P||\"DOCKER_SWARM_MODE\"===P,!1,\"DOCKER_SWARM_MODE\"===P&&I>=1.25).then((function(e){var n=e;t.availableNetworks=n})).catch((function(e){f.error(\"Failure\",e,\"Unable to retrieve networks\")})),S()}])},function(e,t){angular.module(\"portainer.docker\").controller(\"ContainerInspectController\",[\"$scope\",\"$transition$\",\"Notifications\",\"ContainerService\",\"HttpRequestHelper\",function(e,t,n,a,i){e.state={DisplayTextView:!1},e.containerInfo={},i.setPortainerAgentTargetHeader(t.params().nodeName),a.inspect(t.params().id).then((function(t){e.containerInfo=t})).catch((function(e){n.error(\"Failure\",e,\"Unable to inspect container\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(17),i=n.n(a);angular.module(\"portainer.docker\").controller(\"ContainerLogsController\",[\"$scope\",\"$transition$\",\"$interval\",\"ContainerService\",\"Notifications\",\"HttpRequestHelper\",function(e,t,n,a,s,r){function o(){var t=e.repeater;angular.isDefined(t)&&(n.cancel(t),t=null)}function l(r){var l=e.state.refreshRate;e.repeater=n((function(){a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,i()(e.state.sinceTimestamp).unix(),e.state.lineCount,r).then((function(t){e.logs=t})).catch((function(e){o(),s.error(\"Failure\",e,\"Unable to retrieve container logs\")}))}),1e3*l)}e.state={refreshRate:3,lineCount:100,sinceTimestamp:\"\",displayTimestamps:!1},e.changeLogCollection=function(t){t?l(!e.container.Config.Tty):o()},e.$on(\"$destroy\",(function(){o()})),r.setPortainerAgentTargetHeader(t.params().nodeName),a.container(t.params().id).then((function(n){var r,c=n;e.container=c,r=!c.Config.Tty,a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,i()(e.state.sinceTimestamp).unix(),e.state.lineCount,r).then((function(t){e.logs=t,l(r)})).catch((function(e){o(),s.error(\"Failure\",e,\"Unable to retrieve container logs\")}))})).catch((function(e){s.error(\"Failure\",e,\"Unable to retrieve container information\")}))}])},function(e,t,n){\"use strict\";n.r(t),function(e){var t=n(17),a=n.n(t);angular.module(\"portainer.docker\").controller(\"ContainerStatsController\",[\"$q\",\"$scope\",\"$transition$\",\"$document\",\"$interval\",\"ContainerService\",\"ChartService\",\"Notifications\",\"HttpRequestHelper\",function(t,n,i,s,r,o,l,c,d){function u(){var e=n.repeater;angular.isDefined(e)&&(r.cancel(e),e=null)}function p(e,t){if(e.Networks.length>0){var n=e.Networks[0].rx_bytes,i=e.Networks[0].tx_bytes,s=a()(e.read).format(\"HH:mm:ss\");l.UpdateNetworkChart(s,n,i,t)}}function m(e,t){var n=a()(e.read).format(\"HH:mm:ss\");l.UpdateMemoryChart(n,e.MemoryUsage,e.MemoryCache,t)}function g(e,t){var n=a()(e.read).format(\"HH:mm:ss\");!0!==e.noIOData&&l.UpdateIOChart(n,e.BytesRead,e.BytesWrite,t)}function h(e,t){var n=a()(e.read).format(\"HH:mm:ss\"),i=e.isWindows?function(e){var t=e.NumProcs*parseFloat(a()(e.read,\"YYYY-MM-DDTHH:mm:ss.SSSSSSSSSZ\").valueOf()-a()(e.preread,\"YYYY-MM-DDTHH:mm:ss.SSSSSSSSSZ\").valueOf()),n=0;t>0&&(n=parseFloat(e.CurrentCPUTotalUsage-e.PreviousCPUTotalUsage)/parseFloat(100*t));return n}(e):function(e){var t=0,n=e.CurrentCPUTotalUsage-e.PreviousCPUTotalUsage,a=e.CurrentCPUSystemUsage-e.PreviousCPUSystemUsage;a>0&&n>0&&(t=n/a*e.CPUCores*100);return t}(e);l.UpdateCPUChart(n,i,t)}function f(e,a,s,l){var d=n.state.refreshRate;n.repeater=r((function(){t.all({stats:o.containerStats(i.params().id),top:o.containerTop(i.params().id)}).then((function(t){var i=t.stats;n.processInfo=t.top,p(i,e),m(i,s),h(i,a),g(i,l)})).catch((function(e){u(),c.error(\"Failure\",e,\"Unable to retrieve container statistics\")}))}),1e3*d)}function v(){var a=e(\"#networkChart\"),s=l.CreateNetworkChart(a);n.networkChart=s;var r=e(\"#cpuChart\"),d=l.CreateCPUChart(r);n.cpuChart=d;var v=e(\"#memoryChart\"),b=l.CreateMemoryChart(v);n.memoryChart=b;var y=e(\"#ioChart\"),w=l.CreateIOChart(y);n.ioChart=w,function(e,a,s,r){t.all({stats:o.containerStats(i.params().id),top:o.containerTop(i.params().id)}).then((function(t){var i=t.stats;n.processInfo=t.top,0===i.Networks.length&&(n.state.networkStatsUnavailable=!0),!0===i.noIOData&&(n.state.ioStatsUnavailable=!0),p(i,e),m(i,s),h(i,a),g(i,r),f(e,a,s,r)})).catch((function(e){u(),c.error(\"Failure\",e,\"Unable to retrieve container statistics\")}))}(s,d,b,w)}n.state={refreshRate:\"5\",networkStatsUnavailable:!1,ioStatsUnavailable:!1},n.$on(\"$destroy\",(function(){u()})),n.changeUpdateRepeater=function(){var t=n.networkChart,a=n.cpuChart,i=n.memoryChart,s=n.ioChart;u(),f(t,a,i,s),e(\"#refreshRateChange\").show(),e(\"#refreshRateChange\").fadeOut(1500)},d.setPortainerAgentTargetHeader(i.params().nodeName),o.container(i.params().id).then((function(e){n.container=e})).catch((function(e){c.error(\"Failure\",e,\"Unable to retrieve container information\")})),s.ready((function(){v()}))}])}.call(this,n(50))},function(e,t,n){\"use strict\";n.r(t);var a=n(383),i=n.n(a),s=n(384),r=n.n(s),o=n(813),l=n.n(o),c=n(1);n.n(c).a.module(\"portainer.docker\").controller(\"DashboardController\",[\"$scope\",\"$q\",\"Authentication\",\"ContainerService\",\"ImageService\",\"NetworkService\",\"VolumeService\",\"SystemService\",\"ServiceService\",\"StackService\",\"EndpointService\",\"Notifications\",\"EndpointProvider\",\"StateManager\",\"TagService\",\"endpoint\",function(e,t,n,a,s,o,c,d,u,p,m,g,h,f,v,b){e.dismissInformationPanel=function(e){f.dismissInformationPanel(e)},e.offlineMode=!1,e.showStacks=!1,async function(){const f=e.applicationState.endpoint.mode,y=h.endpointID();e.endpointId=y,e.showStacks=await async function(){return n.isAdmin()||b.SecuritySettings.allowStackManagementForRegularUsers}(),t.all({containers:a.containers(1),images:s.images(!1),volumes:c.volumes(),networks:o.networks(!0,!0,!0),services:\"DOCKER_SWARM_MODE\"===f.provider&&\"MANAGER\"===f.role?u.services():[],stacks:p.stacks(!0,\"DOCKER_SWARM_MODE\"===f.provider&&\"MANAGER\"===f.role,y),info:d.info(),endpoint:m.endpoint(y),tags:v.tags()}).then((function(t){e.containers=t.containers,e.images=t.images,e.volumeCount=t.volumes.length,e.networkCount=t.networks.length,e.serviceCount=t.services.length,e.stackCount=t.stacks.length,e.info=t.info,e.endpoint=t.endpoint,e.endpointTags=e.endpoint.TagIds.length?l()(r()(i()(e.endpoint.TagIds,e=>{const n=t.tags.find(t=>t.Id===e);return n?n.Name:\"\"}),Boolean),\", \"):\"-\",e.offlineMode=h.offlineMode()})).catch((function(e){g.error(\"Failure\",e,\"Unable to load dashboard data\")}))}()}])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(566);const r=n(1319);i.a.module(\"portainer.docker\").component(\"dockerFeaturesConfigurationView\",{templateUrl:r,controller:s.default,bindings:{endpoint:\"<\"}})},function(e,t){var n=\"app/docker/views/docker-features-configuration/docker-features-configuration.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Docker features configuration\"></rd-header-title>\\n  <rd-header-content>Docker configuration</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"$ctrl.form\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Host and Filesystem\\n          </div>\\n          <div ng-if=\"!$ctrl.isAgent\" class=\"form-group\">\\n            <span class=\"col-sm-12 text-muted small\">\\n              <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n              These features are only available for an Agent enabled environments.\\n            </span>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                ng-model=\"$ctrl.formValues.enableHostManagementFeatures\"\\n                name=\"enableHostManagementFeatures\"\\n                label=\"Enable host management features\"\\n                tooltip=\"Enable host management features: host system browsing and advanced host details.\"\\n                disabled=\"!$ctrl.isAgent\"\\n                label-class=\"col-sm-7 col-lg-4\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                ng-model=\"$ctrl.formValues.allowVolumeBrowserForRegularUsers\"\\n                name=\"allowVolumeBrowserForRegularUsers\"\\n                label=\"Enable volume management for non-administrators\"\\n                tooltip=\"When enabled, regular users will be able to use Portainer volume management features.\"\\n                disabled=\"!$ctrl.isAgent\"\\n                label-class=\"col-sm-7 col-lg-4\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          \\x3c!-- auto update window --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Change Window Setting\\n          </div>\\n\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                ng-model=\"$ctrl.state.autoUpdateSettings.Enabled\"\\n                name=\"disableSysctlSettingForRegularUsers\"\\n                label=\"Enable Change Window\"\\n                label-class=\"col-sm-7 col-lg-4\"\\n                feature=\"$ctrl.limitedFeature\"\\n                tooltip=\"Specify a timeframe during which automatic updates can occur in this environment.\"\\n              >\\n              </por-switch-field>\\n            </div>\\n          </div>\\n\\n          \\x3c!-- security --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Docker Security Settings\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                ng-model=\"$ctrl.formValues.disableBindMountsForRegularUsers\"\\n                name=\"disableBindMountsForRegularUsers\"\\n                label=\"Disable bind mounts for non-administrators\"\\n                tooltip=\"When enabled, regular users will not be able to use bind mounts when creating containers.\"\\n                label-class=\"col-sm-7 col-lg-4\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                ng-model=\"$ctrl.formValues.disablePrivilegedModeForRegularUsers\"\\n                name=\"disablePrivilegedModeForRegularUsers\"\\n                label=\"Disable privileged mode for non-administrators\"\\n                tooltip=\"When enabled, regular users will not be able to use privileged mode when creating containers.\"\\n                label-class=\"col-sm-7 col-lg-4\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                ng-model=\"$ctrl.formValues.disableHostNamespaceForRegularUsers\"\\n                name=\"disableHostNamespaceForRegularUsers\"\\n                label=\"Disable the use of host PID 1 for non-administrators\"\\n                tooltip=\"Prevent users from accessing the host filesystem through the host PID namespace.\"\\n                label-class=\"col-sm-7 col-lg-4\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                ng-model=\"$ctrl.formValues.disableStackManagementForRegularUsers\"\\n                name=\"disableStackManagementForRegularUsers\"\\n                label=\"Disable the use of Stacks for non-administrators\"\\n                label-class=\"col-sm-7 col-lg-4\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                ng-model=\"$ctrl.formValues.disableDeviceMappingForRegularUsers\"\\n                name=\"disableDeviceMappingForRegularUsers\"\\n                label=\"Disable device mappings for non-administrators\"\\n                label-class=\"col-sm-7 col-lg-4\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                ng-model=\"$ctrl.formValues.disableContainerCapabilitiesForRegularUsers\"\\n                name=\"disableContainerCapabilitiesForRegularUsers\"\\n                label=\"Disable container capabilities for non-administrators\"\\n                label-class=\"col-sm-7 col-lg-4\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <por-switch-field\\n                ng-model=\"$ctrl.formValues.disableSysctlSettingForRegularUsers\"\\n                name=\"disableSysctlSettingForRegularUsers\"\\n                label=\"Disable sysctl settings for non-administrators\"\\n                label-class=\"col-sm-7 col-lg-4\"\\n              ></por-switch-field>\\n            </div>\\n          </div>\\n\\n          <div class=\"form-group\" ng-if=\"$ctrl.isContainerEditDisabled()\">\\n            <span class=\"col-sm-12 text-muted small\">\\n              <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n              Note: The recreate/duplicate/edit feature is currently disabled (for non-admin users) by one or more security settings.\\n            </span>\\n          </div>\\n          \\x3c!-- !security --\\x3e\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-click=\"$ctrl.save()\" ng-disabled=\"$ctrl.state.actionInProgress\" button-spinner=\"$ctrl.state.actionInProgress\">\\n                <span ng-hide=\"$ctrl.state.actionInProgress\">Save configuration</span>\\n                <span ng-show=\"$ctrl.state.actionInProgress\">Saving...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(17),i=n.n(a);angular.module(\"portainer.docker\").controller(\"EventsController\",[\"$scope\",\"Notifications\",\"SystemService\",function(e,t,n){var a,s;a=i()().subtract(24,\"hour\").unix(),s=i()().unix(),n.events(a,s).then((function(t){e.events=t})).catch((function(e){t.error(\"Failure\",e,\"Unable to load events\")}))}])},function(e,t){angular.module(\"portainer.docker\").controller(\"HostBrowserViewController\",[\"SystemService\",\"Notifications\",function(e,t){var n=this;n.$onInit=function(){e.info().then((function(e){n.host=e})).catch((function(e){t.error(\"Unable to retrieve host information\",e)}))}}])},function(e,t,n){const a=n(1323);angular.module(\"portainer.docker\").component(\"hostBrowserView\",{templateUrl:a,controller:\"HostBrowserViewController\"})},function(e,t){var n=\"app/docker/views/host/host-browser-view/host-browser-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Host Browser\"></rd-header-title>\\n  <rd-header-content>\\n    Host &gt; <a ui-sref=\"docker.host\">{{ $ctrl.host.Name }}</a> &gt; browse\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <host-browser ng-if=\"$ctrl.host\"></host-browser>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"HostViewController\",[\"$q\",\"SystemService\",\"Notifications\",\"StateManager\",\"AgentService\",\"ContainerService\",\"Authentication\",\"EndpointProvider\",function(e,t,n,a,i,s,r,o){var l=this;this.$onInit=function(){var c=a.getState();l.state.isAgent=c.endpoint.mode.agentProxy,l.state.isAdmin=r.isAdmin();var d=c.endpoint.agentApiVersion;l.state.agentApiVersion=d,l.state.enableHostManagementFeatures=l.endpoint.SecuritySettings.enableHostManagementFeatures,e.all({version:t.version(),info:t.info(),jobs:l.state.isAdmin?s.containers(!0,{label:[\"io.portainer.job.endpoint\"]}):[]}).then((function(e){var t;if(l.engineDetails=function(e){var t=e.version,n=e.info;return{releaseVersion:t.Version,apiVersion:t.ApiVersion,rootDirectory:n.DockerRootDir,storageDriver:n.Driver,loggingDriver:n.LoggingDriver,volumePlugins:n.Plugins.Volume,networkPlugins:n.Plugins.Network}}(e),l.hostDetails={os:{arch:(t=e.info).Architecture,type:t.OSType,name:t.OperatingSystem},name:t.Name,kernelVersion:t.KernelVersion,totalCPU:t.NCPU,totalMemory:t.MemTotal},l.state.offlineMode=o.offlineMode(),l.jobs=e.jobs,l.state.isAgent&&d>1)return i.hostInfo(e.info.Hostname).then((function(e){l.devices=e.PCIDevices,l.disks=e.PhysicalDisks}))})).catch((function(e){n.error(\"Failure\",e,\"Unable to retrieve engine details\")}))},l.state={isAgent:!1,isAdmin:!1,offlineMode:!1},this.engineDetails={},this.hostDetails={},this.devices=null,this.disks=null}])},function(e,t,n){const a=n(1326);angular.module(\"portainer.docker\").component(\"hostView\",{templateUrl:a,controller:\"HostViewController\",bindings:{endpoint:\"<\"}})},function(e,t){var n=\"app/docker/views/host/host-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<host-overview\\n  engine-details=\"$ctrl.engineDetails\"\\n  host-details=\"$ctrl.hostDetails\"\\n  is-agent=\"$ctrl.state.isAgent\"\\n  agent-api-version=\"$ctrl.state.agentApiVersion\"\\n  disks=\"$ctrl.disks\"\\n  devices=\"$ctrl.devices\"\\n  refresh-url=\"docker.host\"\\n  browse-url=\"docker.host.browser\"\\n  offline-mode=\"$ctrl.state.offlineMode\"\\n  host-features-enabled=\"$ctrl.state.enableHostManagementFeatures\"\\n></host-overview>\\n')}]),e.exports=n},function(e,t){function n(e,t,n,a,i,s,r){e.state={BuildType:\"editor\",actionInProgress:!1,activeTab:0,isEditorDirty:!1},e.formValues={ImageNames:[{Name:\"\"}],UploadFile:null,DockerFileContent:\"\",URL:\"\",Path:\"Dockerfile\",NodeName:null},n.onbeforeunload=()=>{if(\"editor\"===e.state.BuildType&&e.formValues.DockerFileContent&&e.state.isEditorDirty)return\"\"},e.$on(\"$destroy\",(function(){e.state.isEditorDirty=!1})),e.addImageName=function(){e.formValues.ImageNames.push({Name:\"\"})},e.removeImageName=function(t){e.formValues.ImageNames.splice(t,1)},e.buildImage=async function(){return t(async()=>{var t=e.state.BuildType;if(\"editor\"!==t||\"\"!==e.formValues.DockerFileContent){e.state.actionInProgress=!0;var n=e.formValues.ImageNames.filter((function(e){return e.Name})).map((function(e){return e.Name})),a=e.formValues.NodeName;r.setPortainerAgentTargetHeader(a);try{const t=await function(t,n){var a=e.state.BuildType,s=e.formValues.Path;if(\"upload\"===a){var r=e.formValues.UploadFile;return i.buildImageFromUpload(n,r,s)}if(\"url\"===a){var o=e.formValues.URL;return i.buildImageFromURL(n,o,s)}var l=e.formValues.DockerFileContent;return i.buildImageFromDockerfileContent(n,l)}(0,n);e.buildLogs=t.buildLogs,e.state.activeTab=1,t.hasError?s.error(\"An error occurred during build\",{msg:\"Please check build logs output\"}):(s.success(\"Image successfully built\"),e.state.isEditorDirty=!1)}catch(e){s.error(\"Failure\",e,\"Unable to build image\")}finally{e.state.actionInProgress=!1}}else e.state.formValidationError=\"Dockerfile content must not be empty\"})},e.validImageNames=function(){for(var t=0;t<e.formValues.ImageNames.length;t++){if(\"\"!==e.formValues.ImageNames[t].Name)return!0}return!1},e.editorUpdate=function(t){e.formValues.DockerFileContent=t.getValue(),e.state.isEditorDirty=!0},this.uiCanExit=async function(){if(\"editor\"===e.state.BuildType&&e.formValues.DockerFileContent&&e.state.isEditorDirty)return a.confirmWebEditorDiscard()}}n.$inject=[\"$scope\",\"$async\",\"$window\",\"ModalService\",\"BuildService\",\"Notifications\",\"HttpRequestHelper\"],angular.module(\"portainer.docker\").controller(\"BuildImageController\",n)},function(e,t,n){\"use strict\";n.r(t),function(e){var t=n(46),a=n(67),i=n(16),s=n(74);angular.module(\"portainer.docker\").controller(\"ImageController\",[\"$async\",\"$q\",\"$scope\",\"$transition$\",\"$state\",\"Authentication\",\"ImageService\",\"ImageHelper\",\"RegistryService\",\"Notifications\",\"HttpRequestHelper\",\"ModalService\",\"FileSaver\",\"Blob\",\"endpoint\",\"EndpointService\",\"RegistryModalService\",function(n,r,o,l,c,d,u,p,m,g,h,f,v,b,y,w,x){o.endpoint=y,o.isAdmin=d.isAdmin(),o.formValues={RegistryModel:new s.PorImageRegistryModel},o.state={exportInProgress:!1,pullImageValidity:!1},o.sortType=\"Order\",o.sortReverse=!1,o.order=function(e){o.sortReverse=o.sortType===e&&!o.sortReverse,o.sortType=e},o.toggleLayerCommand=function(t){e(\"#layer-command-expander\"+t+\" span\").toggleClass(\"glyphicon-plus-sign glyphicon-minus-sign\"),e(\"#layer-command-\"+t+\"-short\").toggle(),e(\"#layer-command-\"+t+\"-full\").toggle()},o.setPullImageValidity=function(e){o.state.pullImageValidity=e},o.tagImage=function(){const e=o.formValues.RegistryModel,t=p.createImageConfigForContainer(e);u.tagImage(l.params().id,t.fromImage).then((function(){g.success(\"Image successfully tagged\"),c.go(\"docker.images.image\",{id:l.params().id},{reload:!0})})).catch((function(e){g.error(\"Failure\",e,\"Unable to tag image\")}))},o.pushTag=async function(t){return n(async()=>{try{const n=await x.registryModal(t,o.registries);n&&(e(\"#uploadResourceHint\").show(),await u.pushImage(n),g.success(\"Image successfully pushed\",t))}catch(e){g.error(\"Failure\",e,\"Unable to push image to repository\")}finally{e(\"#uploadResourceHint\").hide()}})},o.pullTag=async function(t){return n(async()=>{try{const n=await x.registryModal(t,o.registries);n&&(e(\"#downloadResourceHint\").show(),await u.pullImage(n),g.success(\"Image successfully pulled\",t))}catch(e){g.error(\"Failure\",e,\"Unable to pull image from repository\")}finally{e(\"#downloadResourceHint\").hide()}})},o.removeTag=function(e){u.deleteImage(e,!1).then((function(){1===o.image.RepoTags.length?(g.success(\"Image successfully deleted\",e),c.go(\"docker.images\",{},{reload:!0})):(g.success(\"Tag successfully deleted\",e),c.go(\"docker.images.image\",{id:l.params().id},{reload:!0}))})).catch((function(e){g.error(\"Failure\",e,\"Unable to remove image\")}))},o.removeImage=function(e){u.deleteImage(e,!1).then((function(){g.success(\"Image successfully deleted\",e),c.go(\"docker.images\",{},{reload:!0})})).catch((function(e){g.error(\"Failure\",e,\"Unable to remove image\")}))},o.exportImage=function(e){0===e.RepoTags.length||Object(i.a)(e.RepoTags,\"<none>\")?g.warning(\"\",\"Cannot download a untagged image\"):f.confirmImageExport((function(t){t&&function(e){h.setPortainerAgentTargetHeader(e.NodeName),o.state.exportInProgress=!0,u.downloadImages([e]).then((function(e){var t=new b([e.file],{type:\"application/x-tar\"});v.saveAs(t,\"images.tar\"),g.success(\"Image successfully downloaded\")})).catch((function(e){g.error(\"Failure\",e,\"Unable to download image\")})).finally((function(){o.state.exportInProgress=!1}))}(e)}))},async function(){h.setPortainerAgentTargetHeader(l.params().nodeName);try{o.registries=await m.loadRegistriesForDropdown(y.Id)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load registries\")}r.all({image:u.image(l.params().id),history:u.history(l.params().id)}).then((function(e){o.image=e.image,o.history=e.history,o.image.Env=Object(a.a)(o.image.Env,t.a)})).catch((function(e){g.error(\"Failure\",e,\"Unable to retrieve image details\"),c.go(\"docker.images\")}))}()}])}.call(this,n(50))},function(e,t,n){\"use strict\";n.r(t);var a=n(94),i=n(5),s=n(74);angular.module(\"portainer.docker\").controller(\"ImagesController\",[\"$scope\",\"$state\",\"Authentication\",\"ImageService\",\"Notifications\",\"ModalService\",\"HttpRequestHelper\",\"FileSaver\",\"Blob\",\"EndpointProvider\",\"endpoint\",function(e,t,n,r,o,l,c,d,u,p,m){function g(){r.images(!0).then((function(t){e.images=t,e.offlineMode=p.offlineMode()})).catch((function(t){o.error(\"Failure\",t,\"Unable to retrieve images\"),e.images=[]}))}e.endpoint=m,e.isAdmin=n.isAdmin(),e.state={actionInProgress:!1,exportInProgress:!1,pullRateValid:!1},e.formValues={RegistryModel:new s.PorImageRegistryModel,NodeName:null},e.pullImage=function(){const n=e.formValues.RegistryModel;var a=e.formValues.NodeName;c.setPortainerAgentTargetHeader(a),e.state.actionInProgress=!0,r.pullImage(n,!1).then((function(e){var a=e[e.length-1].errorDetail;if(a)return o.error(\"Failure\",a,\"Unable to pull image\");o.success(\"Image successfully pulled\",n.Image),t.reload()})).catch((function(e){o.error(\"Failure\",e,\"Unable to pull image\")})).finally((function(){e.state.actionInProgress=!1}))},e.confirmRemovalAction=function(t,n){l.confirmImageForceRemoval((function(a){a&&e.removeAction(t,n)}))},e.downloadAction=function(t){(function(e){for(var t=0;t<e.length;t++){var n=e[t];if(Object(i.a)(n.RepoTags,(function(e){return e.indexOf(\"<none>\")>-1})))return o.warning(\"\",\"Cannot download a untagged image\"),!1}return!(Object(a.a)(e,\"NodeName\").length>1)||(o.warning(\"\",\"Cannot download images from different nodes at the same time\"),!1)})(t)&&l.confirmImageExport((function(n){var a;n&&(a=t,c.setPortainerAgentTargetHeader(a[0].NodeName),e.state.exportInProgress=!0,r.downloadImages(a).then((function(e){var t=new u([e.file],{type:\"application/x-tar\"});d.saveAs(t,\"images.tar\"),o.success(\"Image(s) successfully downloaded\")})).catch((function(e){o.error(\"Failure\",e,\"Unable to download image(s)\")})).finally((function(){e.state.exportInProgress=!1})))}))},e.removeAction=function(n,a){var i=n.length;angular.forEach(n,(function(n){c.setPortainerAgentTargetHeader(n.NodeName),r.deleteImage(n.Id,a).then((function(){o.success(\"Image successfully removed\",n.Id);var t=e.images.indexOf(n);e.images.splice(t,1)})).catch((function(e){o.error(\"Failure\",e,\"Unable to remove image\")})).finally((function(){0===--i&&t.reload()}))}))},e.offlineMode=!1,e.getImages=g,e.setPullImageValidity=function(t){e.state.pullRateValid=t},g()}])},function(e,t,n){\"use strict\";n.r(t);var a=n(74);angular.module(\"portainer.docker\").controller(\"ImportImageController\",[\"$scope\",\"$state\",\"ImageService\",\"Notifications\",\"HttpRequestHelper\",\"Authentication\",\"ImageHelper\",\"endpoint\",function(e,t,n,i,s,r,o,l){e.state={actionInProgress:!1},e.endpoint=l,e.isAdmin=r.isAdmin(),e.formValues={UploadFile:null,NodeName:null,RegistryModel:new a.PorImageRegistryModel},e.setPullImageValidity=function(t){e.state.pullImageValidity=t},e.uploadImage=async function(){e.state.actionInProgress=!0;var a=e.formValues.NodeName;s.setPortainerAgentTargetHeader(a);var r=e.formValues.UploadFile;try{const{data:a}=await n.uploadImage(r);if(a.error)i.error(\"Failure\",a.error,\"Unable to upload image\");else if(a.stream){var l=/Loaded.*?: (.*?)\\n$/g.exec(a.stream);l&&2==l.length&&(await async function(t){const a=e.formValues.RegistryModel;if(a.Image){const e=o.createImageConfigForContainer(a);try{await n.tagImage(t,e.fromImage)}catch(e){i.error(\"Failure\",e,\"Unable to tag image\")}}}(l[1]),t.go(\"docker.images.image\",{id:l[1]},{reload:!0})),i.success(\"Images successfully uploaded\")}else i.success(\"The uploaded tar file contained multiple images. The provided tag therefore has been ignored.\")}catch(e){i.error(\"Failure\",e,\"Unable to upload image\")}finally{e.state.actionInProgress=!1}}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(6),i=n(7),s=n(34),r=n(59),o=n(45),l=n(556);angular.module(\"portainer.docker\").controller(\"CreateNetworkController\",[\"$q\",\"$scope\",\"$state\",\"PluginService\",\"Notifications\",\"NetworkService\",\"LabelHelper\",\"Authentication\",\"ResourceControlService\",\"FormValidator\",\"HttpRequestHelper\",function(e,t,n,c,d,u,p,m,g,h,f){function v(e,t){const n=Object(r.a)(e,\"=\");return 2===n.length?n[1]===t:e===t}function b(e,t){e.AuxiliaryAddresses={},Object(i.a)(t.AuxiliaryAddresses,(t,n)=>{const a=Object(r.a)(t,\"=\");2===a.length?e.AuxiliaryAddresses[a[0]]=a[1]:e.AuxiliaryAddresses[\"device\"+n]=t})}function y(){var e=angular.copy(t.config);return function(e){if(t.formValues.IPV4.Subnet){let n={};n.Subnet=t.formValues.IPV4.Subnet,t.formValues.IPV4.Gateway&&(n.Gateway=t.formValues.IPV4.Gateway),t.formValues.IPV4.IPRange&&(n.IPRange=t.formValues.IPV4.IPRange),t.formValues.IPV4.AuxiliaryAddresses.length&&b(n,t.formValues.IPV4),e.IPAM.Config.push(n)}if(t.formValues.IPV6.Subnet){let n={};n.Subnet=t.formValues.IPV6.Subnet,t.formValues.IPV6.Gateway&&(n.Gateway=t.formValues.IPV6.Gateway),t.formValues.IPV6.IPRange&&(n.IPRange=t.formValues.IPV6.IPRange),t.formValues.IPV6.AuxiliaryAddresses.length&&b(n,t.formValues.IPV6),e.EnableIPv6=!0,e.IPAM.Config.push(n)}}(e),function(e){var n={};t.formValues.DriverOptions.forEach((function(e){n[e.name]=e.value})),e.Options=n}(e),function(e){e.Labels=p.fromKeyValueToLabelHash(t.formValues.Labels)}(e),e}function w(e){f.setPortainerAgentTargetHeader(e.nodeName),f.setPortainerAgentManagerOperation(e.managerOperation),t.state.actionInProgress=!0,u.create(e.networkConfiguration).then((function(t){const n=e.userDetails.ID,a=e.accessControlData,i=t.Portainer.ResourceControl;return g.applyResourceControl(n,a,i)})).then((function(){d.success(\"Network successfully created\"),e.reload&&n.go(\"docker.networks\",{},{reload:!0})})).catch((function(e){d.error(\"Failure\",e,\"An error occured during network creation\")})).finally((function(){t.state.actionInProgress=!1}))}var x;t.formValues={DriverOptions:[],IPV4:{Subnet:\"\",Gateway:\"\",IPRange:\"\",AuxiliaryAddresses:[]},IPV6:{Subnet:\"\",Gateway:\"\",IPRange:\"\",AuxiliaryAddresses:[]},Labels:[],AccessControlData:new o.AccessControlFormData,NodeName:null,Macvlan:new l.MacvlanFormData},t.state={formValidationError:\"\",actionInProgress:!1},t.availableNetworkDrivers=[],t.config={Driver:\"bridge\",CheckDuplicate:!0,Internal:!1,Attachable:!1,EnableIPv6:!1,IPAM:{Driver:\"default\",Config:[]},Labels:{}},t.addDriverOption=function(){t.formValues.DriverOptions.push({name:\"\",value:\"\"})},t.removeDriverOption=function(e){t.formValues.DriverOptions.splice(e,1)},t.addLabel=function(){t.formValues.Labels.push({key:\"\",value:\"\"})},t.removeLabel=function(e){t.formValues.Labels.splice(e,1)},t.addIPV4AuxAddress=function(){t.formValues.IPV4.AuxiliaryAddresses.push(\"\")},t.addIPV6AuxAddress=function(){t.formValues.IPV6.AuxiliaryAddresses.push(\"\")},t.removeIPV4AuxAddress=function(e){t.formValues.IPV4.AuxiliaryAddresses.splice(e,1),t.state.IPV4AuxiliaryAddressesError.splice(e,1)},t.removeIPV6AuxAddress=function(e){t.formValues.IPV6.AuxiliaryAddresses.splice(e,1),t.state.IPV6AuxiliaryAddressesError.splice(e,1)},t.checkIPV4AuxiliaryAddress=function(e){t.state.IPV4AuxiliaryAddressesError[e]=v(t.formValues.IPV4.AuxiliaryAddresses[e],t.formValues.IPV4.Gateway)},t.checkIPV6AuxiliaryAddress=function(e){t.state.IPV6AuxiliaryAddressesError[e]=v(t.formValues.IPV6.AuxiliaryAddresses[e],t.formValues.IPV6.Gateway)},t.isValid=function(){const e=!Object(s.a)(t.state.IPV4AuxiliaryAddressesError,(e,t)=>e||t,!1),n=!Object(s.a)(t.state.IPV6AuxiliaryAddressesError,(e,t)=>e||t,!1);return e&&n},t.create=function(){var e=y(),n=t.formValues.AccessControlData,a=m.getUserDetails();if(function(e,n){var a;return t.state.formValidationError=\"\",!(a=h.validateAccessControl(e,n))||(t.state.formValidationError=a,!1)}(n,m.isAdmin())){var i,s={nodeName:t.formValues.NodeName,managerOperation:!1,networkConfiguration:e,userDetails:a,accessControlData:n,reload:!0};if(t.applicationState.endpoint.mode.agentProxy&&\"DOCKER_SWARM_MODE\"===t.applicationState.endpoint.mode.provider&&\"overlay\"===t.config.Driver&&(s.managerOperation=!0),\"macvlan\"===t.config.Driver)if(\"local\"===t.formValues.Macvlan.Scope)(i=e).Internal=null,i.Attachable=null,i.ConfigOnly=!0,i.Options.parent=t.formValues.Macvlan.ParentNetworkCard;else if(\"swarm\"===t.formValues.Macvlan.Scope){var r=t.formValues.Macvlan.SelectedNetworkConfig;!function(e,n){e.ConfigFrom={Network:n.Name},\"DOCKER_SWARM_MODE\"===t.applicationState.endpoint.mode.provider?e.Scope=\"swarm\":e.Scope=\"local\"}(e,r),s.nodeName=r.NodeName}if(\"macvlan\"===t.config.Driver&&\"local\"===t.formValues.Macvlan.Scope&&t.applicationState.endpoint.mode.agentProxy&&\"DOCKER_SWARM_MODE\"===t.applicationState.endpoint.mode.provider){var o=t.formValues.Macvlan.DatatableState.selectedItems;o.forEach((function(e,t){s.nodeName=e.Hostname,s.reload=t===o.length-1,w(s)}))}else w(s)}},x=t.applicationState.endpoint.apiVersion,t.state.IPV4AuxiliaryAddressesError=[],t.state.IPV6AuxiliaryAddressesError=[],c.networkPlugins(x<1.25).then((function(e){t.availableNetworkDrivers=e,t.availableNetworkDrivers=Object(a.a)(t.availableNetworkDrivers,e=>\"host\"!==e&&\"null\"!==e)})).catch((function(e){d.error(\"Failure\",e,\"Unable to retrieve network drivers\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(228);angular.module(\"portainer.docker\").controller(\"NetworkController\",[\"$scope\",\"$state\",\"$transition$\",\"$filter\",\"NetworkService\",\"Container\",\"Notifications\",\"HttpRequestHelper\",\"NetworkHelper\",function(e,t,n,i,s,r,o,l,c){function d(t,n){var a=[];n.forEach((function(e){var n=t.Containers[e.Id];n&&(n.Id=e.Id,n.Name||(n.Name=i(\"trimcontainername\")(e.Names[0])),a.push(n))})),e.containersInNetwork=a}var u;e.removeNetwork=function(){s.remove(n.params().id,n.params().id).then((function(){o.success(\"Network removed\",n.params().id),t.go(\"docker.networks\",{})})).catch((function(e){o.error(\"Failure\",e,\"Unable to remove network\")}))},e.containerLeaveNetwork=function(e,a){l.setPortainerAgentTargetHeader(a.NodeName),s.disconnectContainer(n.params().id,a.Id,!1).then((function(){o.success(\"Container left network\",n.params().id),t.go(\"docker.networks.network\",{id:e.Id},{reload:!0})})).catch((function(e){o.error(\"Failure\",e,\"Unable to disconnect container from network\")}))},e.isSystemNetwork=function(){return e.network&&c.isSystemNetwork(e.network)},e.allowRemove=function(){return!e.isSystemNetwork()},u=n.params().nodeName,l.setPortainerAgentTargetHeader(u),e.nodeName=u,s.network(n.params().id).then((function(t){var i,s;e.network=t,i=t,s=e.applicationState.endpoint.apiVersion,i.Containers&&(s<1.24?r.query({},(function(e){var t=e.filter((function(e){if(e.HostConfig.NetworkMode===i.Name)return e}));d(i,t)}),(function(e){o.error(\"Failure\",e,\"Unable to retrieve containers in network\")})):r.query({filters:{network:[n.params().id]}},(function(e){d(i,e)}),(function(e){o.error(\"Failure\",e,\"Unable to retrieve containers in network\")}))),e.network.IPAM.IPV4Configs=a.default.getIPV4Configs(e.network.IPAM.Config),e.network.IPAM.IPV6Configs=a.default.getIPV6Configs(e.network.IPAM.Config)})).catch((function(e){o.error(\"Failure\",e,\"Unable to retrieve network info\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(32),s=n(67),r=n(2),o=n(122),l=n(831),c=n(33),d=n(5),u=n(228);angular.module(\"portainer.docker\").controller(\"NetworksController\",[\"$q\",\"$scope\",\"$state\",\"NetworkService\",\"Notifications\",\"HttpRequestHelper\",\"EndpointProvider\",\"AgentService\",function(e,t,n,p,m,g,h,f){function v(e,t){const n=Object(c.a)(e,e=>\"swarm\"!==e.Scope),a=Object(l.a)(Object(o.a)(e,e=>e.Id)),u=Object(r.a)(a,e=>Object(s.a)(e,e=>(e=>Object(d.a)(t,t=>t.NodeName===e.NodeName).NodeRole)(e))),p=Object(r.a)(u,e=>{const t=e[0];for(let n=1;n<e.length;n++)t.Subs.push(e[n]);return t});return Object(i.a)(p,...n)}function b(){const n={networks:p.networks(!0,!0,!0)};t.applicationState.endpoint.mode.agentProxy&&\"DOCKER_SWARM_MODE\"===t.applicationState.endpoint.mode.provider&&(n.agents=f.agents()),e.all(n).then(e=>{t.offlineMode=h.offlineMode();const n=Object(a.a)(e.networks,e=>e.Subs=[]);t.applicationState.endpoint.mode.agentProxy&&\"DOCKER_SWARM_MODE\"===t.applicationState.endpoint.mode.provider?t.networks=v(e.networks,e.agents):t.networks=n,Object(a.a)(t.networks,e=>{e.IPAM.IPV4Configs=u.default.getIPV4Configs(e.IPAM.Config),e.IPAM.IPV6Configs=u.default.getIPV6Configs(e.IPAM.Config)})}).catch(e=>{t.networks=[],m.error(\"Failure\",e,\"Unable to retrieve networks\")})}t.removeAction=function(e){var a=e.length;angular.forEach(e,(function(e){g.setPortainerAgentTargetHeader(e.NodeName),p.remove(e.Id).then((function(){m.success(\"Network successfully removed\",e.Name);var n=t.networks.indexOf(e);t.networks.splice(n,1)})).catch((function(e){m.error(\"Failure\",e,\"Unable to remove network\")})).finally((function(){0===--a&&n.reload()}))}))},t.offlineMode=!1,t.getNetworks=b,b()}])},function(e,t){angular.module(\"portainer.docker\").controller(\"NodeBrowserController\",[\"$stateParams\",\"NodeService\",\"HttpRequestHelper\",\"Notifications\",function(e,t,n,a){var i=this;i.$onInit=function(){i.nodeId=e.id,t.node(i.nodeId).then((function(e){n.setPortainerAgentTargetHeader(e.Hostname),i.node=e})).catch((function(e){a.error(\"Unable to retrieve host information\",e)}))}}])},function(e,t,n){const a=n(1336);angular.module(\"portainer.docker\").component(\"nodeBrowserView\",{templateUrl:a,controller:\"NodeBrowserController\"})},function(e,t){var n=\"app/docker/views/nodes/node-browser/node-browser.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Node Browser\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.swarm\">Swarm</a> &gt; <a ui-sref=\"docker.nodes.node({ id: $ctrl.nodeId })\">{{ $ctrl.node.Hostname }}</a> &gt; browse\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <host-browser ng-if=\"$ctrl.node\"></host-browser>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"NodeDetailsViewController\",[\"$q\",\"$stateParams\",\"NodeService\",\"StateManager\",\"AgentService\",\"ContainerService\",\"Authentication\",function(e,t,n,a,i,s,r){var o=this;function l(e,t){return e.filter((function(e){return e.Type===t})).map((function(e){return e.Name}))}o.$onInit=function(){var c=a.getState();o.state.isAgent=c.endpoint.mode.agentProxy,o.state.isAdmin=r.isAdmin(),o.state.enableHostManagementFeatures=o.endpoint.SecuritySettings.enableHostManagementFeatures;var d=o.state.isAdmin&&o.state.isAgent,u=t.id;e.all({node:n.node(u),jobs:d?s.containers(!0,{label:[\"io.portainer.job.endpoint\"]}):[]}).then((function(e){var t=e.node;if(o.originalNode=t,o.hostDetails=function(e){return{os:{arch:e.PlatformArchitecture,type:e.PlatformOS},name:e.Hostname,totalCPU:e.CPUs/1e9,totalMemory:e.Memory}}(t),o.engineDetails=function(e){return{releaseVersion:e.EngineVersion,volumePlugins:l(e.Plugins,\"Volume\"),networkPlugins:l(e.Plugins,\"Network\"),engineLabels:e.EngineLabels}}(t),o.nodeDetails=function(e){return{name:e.Name,role:e.Role,managerAddress:e.ManagerAddr,availability:e.Availability,status:e.Status,nodeLabels:e.Labels}}(t),o.jobs=e.jobs,o.state.isAgent){var n=c.endpoint.agentApiVersion;if(o.state.agentApiVersion=n,n<2)return;i.hostInfo(t.Hostname).then((function(e){o.devices=e.PCIDevices,o.disks=e.PhysicalDisks}))}}))},o.state={isAgent:!1,isAdmin:!1}}])},function(e,t,n){const a=n(1339);angular.module(\"portainer.docker\").component(\"nodeDetailsView\",{templateUrl:a,controller:\"NodeDetailsViewController\",bindings:{endpoint:\"<\"}})},function(e,t){var n=\"app/docker/views/nodes/node-details/node-details-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<host-overview\\n  agent-api-version=\"$ctrl.state.agentApiVersion\"\\n  is-agent=\"$ctrl.state.isAgent\"\\n  host-details=\"$ctrl.hostDetails\"\\n  engine-details=\"$ctrl.engineDetails\"\\n  disks=\"$ctrl.disks\"\\n  devices=\"$ctrl.devices\"\\n  refresh-url=\"docker.nodes.node\"\\n  browse-url=\"docker.nodes.node.browse\"\\n  is-job-enabled=\"$ctrl.state.isAdmin && $ctrl.state.isAgent\"\\n  host-features-enabled=\"$ctrl.state.enableHostManagementFeatures\"\\n  job-url=\"docker.nodes.node.job\"\\n  jobs=\"$ctrl.jobs\"\\n>\\n  <swarm-node-details-panel details=\"$ctrl.nodeDetails\" original-node=\"$ctrl.originalNode\"></swarm-node-details-panel>\\n</host-overview>\\n')}]),e.exports=n},function(e,t,n){const a=n(1341);angular.module(\"portainer.docker\").component(\"dockerRegistryAccessView\",{templateUrl:a,controller:\"DockerRegistryAccessController\",bindings:{endpoint:\"<\"}})},function(e,t){var n=\"app/docker/views/registries/access/registryAccess.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Registry access\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.registries\">Registries</a> &gt; {{ $ctrl.registry.Name }} &gt; Access management </rd-header-content>\\n</rd-header>\\n\\n<registry-details registry=\"$ctrl.registry\" ng-if=\"$ctrl.registry\"></registry-details>\\n\\n<por-access-management\\n  ng-if=\"$ctrl.registry && $ctrl.endpointGroup\"\\n  access-controlled-entity=\"$ctrl.registryEndpointAccesses\"\\n  entity-type=\"registry\"\\n  action-in-progress=\"$ctrl.state.actionInProgress\"\\n  update-access=\"$ctrl.updateAccess\"\\n  filter-users=\"$ctrl.filterUsers\"\\n>\\n</por-access-management>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(111);class i{constructor(e,t,n,a,i){this.$async=e,this.$state=t,this.Notifications=n,this.EndpointService=a,this.GroupService=i,this.updateAccess=this.updateAccess.bind(this),this.filterUsers=this.filterUsers.bind(this)}updateAccess(){return this.$async(async()=>{this.state.actionInProgress=!0;try{await this.EndpointService.updateRegistryAccess(this.state.endpointId,this.state.registryId,this.registryEndpointAccesses),this.Notifications.success(\"Access successfully updated\"),this.$state.reload()}catch(e){this.state.actionInProgress=!1,this.Notifications.error(\"Failure\",e,\"Unable to update accesses\")}})}filterUsers(e){const t=this.endpoint.UserAccessPolicies,n=this.endpoint.TeamAccessPolicies,i=this.endpointGroup.UserAccessPolicies,s=this.endpointGroup.TeamAccessPolicies;return e.filter(e=>{const r=e instanceof a.UserAccessViewModel&&(t[e.Id]||i[e.Id]),o=e instanceof a.TeamAccessViewModel&&(n[e.Id]||s[e.Id]);return r||o})}$onInit(){return this.$async(async()=>{try{this.state={viewReady:!1,actionInProgress:!1,endpointId:this.$state.params.endpointId,registryId:this.$state.params.id},this.registry=await this.EndpointService.registry(this.state.endpointId,this.state.registryId),this.registryEndpointAccesses=this.registry.RegistryAccesses[this.state.endpointId]||{},this.endpointGroup=await this.GroupService.group(this.endpoint.GroupId)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registry details\")}finally{this.state.viewReady=!0}})}}i.$inject=[\"$async\",\"$state\",\"Notifications\",\"EndpointService\",\"GroupService\"],t.default=i,angular.module(\"portainer.docker\").controller(\"DockerRegistryAccessController\",i)},function(e,t,n){\"use strict\";n.r(t);var a=n(45);angular.module(\"portainer.docker\").controller(\"CreateSecretController\",[\"$scope\",\"$state\",\"Notifications\",\"SecretService\",\"LabelHelper\",\"Authentication\",\"ResourceControlService\",\"FormValidator\",function(e,t,n,i,s,r,o,l){function c(){var t={};return t.Name=e.formValues.Name,function(t){e.formValues.encodeSecret?t.Data=btoa(unescape(encodeURIComponent(e.formValues.Data))):t.Data=e.formValues.Data}(t),function(t){t.Labels=s.fromKeyValueToLabelHash(e.formValues.Labels)}(t),t}e.formValues={Name:\"\",Data:\"\",Labels:[],encodeSecret:!0,AccessControlData:new a.AccessControlFormData},e.state={formValidationError:\"\",actionInProgress:!1},e.addLabel=function(){e.formValues.Labels.push({key:\"\",value:\"\"})},e.removeLabel=function(t){e.formValues.Labels.splice(t,1)},e.create=function(){const a=e.formValues.AccessControlData,s=r.getUserDetails(),d=r.isAdmin();if(function(t,n){var a;return e.state.formValidationError=\"\",!(a=l.validateAccessControl(t,n))||(e.state.formValidationError=a,!1)}(a,d)){e.state.actionInProgress=!0;var u=c();i.create(u).then((function(e){const t=s.ID,n=e.Portainer.ResourceControl;return o.applyResourceControl(t,a,n)})).then((function(){n.success(\"Secret successfully created\"),t.go(\"docker.secrets\",{},{reload:!0})})).catch((function(e){n.error(\"Failure\",e,\"Unable to create secret\")})).finally((function(){e.state.actionInProgress=!1}))}}}])},function(e,t){angular.module(\"portainer.docker\").controller(\"SecretController\",[\"$scope\",\"$transition$\",\"$state\",\"SecretService\",\"Notifications\",function(e,t,n,a,i){e.removeSecret=function(e){a.remove(e).then((function(){i.success(\"Secret successfully removed\"),n.go(\"docker.secrets\",{})})).catch((function(e){i.error(\"Failure\",e,\"Unable to remove secret\")}))},a.secret(t.params().id).then((function(t){e.secret=t})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve secret details\")}))}])},function(e,t){angular.module(\"portainer.docker\").controller(\"SecretsController\",[\"$scope\",\"$state\",\"SecretService\",\"Notifications\",function(e,t,n,a){function i(){n.secrets().then((function(t){e.secrets=t})).catch((function(t){e.secrets=[],a.error(\"Failure\",t,\"Unable to retrieve secrets\")}))}e.removeAction=function(i){var s=i.length;angular.forEach(i,(function(i){n.remove(i.Id).then((function(){a.success(\"Secret successfully removed\",i.Name);var t=e.secrets.indexOf(i);e.secrets.splice(t,1)})).catch((function(e){a.error(\"Failure\",e,\"Unable to remove secret\")})).finally((function(){0===--s&&t.reload()}))}))},e.getSecrets=i,i()}])},function(e,t,n){\"use strict\";n.r(t);var a=n(149),i=n(381),s=n(74),r=n(110),o=n(45);n(1347),n(1348),n(1349),n(1350),angular.module(\"portainer.docker\").controller(\"CreateServiceController\",[\"$q\",\"$scope\",\"$state\",\"$timeout\",\"Service\",\"ServiceHelper\",\"ConfigService\",\"ConfigHelper\",\"SecretHelper\",\"SecretService\",\"VolumeService\",\"NetworkService\",\"ImageHelper\",\"LabelHelper\",\"Authentication\",\"ResourceControlService\",\"Notifications\",\"FormValidator\",\"PluginService\",\"RegistryService\",\"HttpRequestHelper\",\"NodeService\",\"WebhookService\",\"endpoint\",function(e,t,n,l,c,d,u,p,m,g,h,f,v,b,y,w,x,$,C,S,k,A,P,I){function T(e){return[].concat.apply([],e.split(\"'\").map((function(e,t){return t%2?e:e.split(\" \")}))).filter(Boolean)}function N(){var e=t.formValues,n={Name:e.Name,TaskTemplate:{ContainerSpec:{Mounts:[]},Placement:{},Resources:{Limits:{},Reservations:{}}},Mode:{},EndpointSpec:{}};return function(e,t){\"replicated\"===t.Mode?e.Mode.Replicated={Replicas:t.Replicas}:e.Mode.Global={}}(n,e),function(e,t){var n=v.createImageConfigForContainer(t.RegistryModel);e.TaskTemplate.ContainerSpec.Image=n.fromImage}(n,e),function(e,t){let n=[];t.Ports.forEach((function(e){const t={Protocol:e.Protocol,PublishMode:e.PublishMode};e.TargetPort&&(t.TargetPort=+e.TargetPort,e.PublishedPort&&(t.PublishedPort=+e.PublishedPort),n.push(t))})),e.EndpointSpec.Ports=n}(n,e),function(e,t){t.EntryPoint&&(e.TaskTemplate.ContainerSpec.Command=T(t.EntryPoint)),t.Command&&(e.TaskTemplate.ContainerSpec.Args=T(t.Command)),t.User&&(e.TaskTemplate.ContainerSpec.User=t.User),t.WorkingDir&&(e.TaskTemplate.ContainerSpec.Dir=t.WorkingDir)}(n,e),function(e,t){e.TaskTemplate.ContainerSpec.Env=r.convertToArrayOfStrings(t.Env)}(n,e),function(e,t){e.Labels=b.fromKeyValueToLabelHash(t.Labels),e.TaskTemplate.ContainerSpec.Labels=b.fromKeyValueToLabelHash(t.ContainerLabels)}(n,e),function(e,t){t.Volumes.forEach((function(t){if(t.Source&&t.Target)if(\"volume\"!==t.Type)e.TaskTemplate.ContainerSpec.Mounts.push(t);else{var n=function(e,t,n){return{Target:t,Source:e.Id,Type:\"volume\",ReadOnly:n,VolumeOptions:{Labels:e.Labels,DriverConfig:{Name:e.Driver,Options:e.Options}}}}(t.Source,t.Target,t.ReadOnly);e.TaskTemplate.ContainerSpec.Mounts.push(n)}}))}(n,e),function(e,t){var n=[];t.Network&&n.push({Target:t.Network}),t.ExtraNetworks.forEach((function(e){n.push({Target:e.Name})})),e.Networks=Object(i.a)(n,a.a)}(n,e),function(e,t){var n=[];t.HostsEntries&&(t.HostsEntries.forEach((function(e){if(e.value&&e.value.indexOf(\":\")&&2===e.value.split(\":\").length){var t=e.value.split(\":\");n.push(t[1]+\" \"+t[0])}})),n.length>0&&(e.TaskTemplate.ContainerSpec.Hosts=n))}(n,e),function(e,t){e.UpdateConfig={Parallelism:t.Parallelism||0,Delay:d.translateHumanDurationToNanos(t.UpdateDelay)||0,FailureAction:t.FailureAction,Order:t.UpdateOrder}}(n,e),function(e,t){if(t.Configs){var n=[];angular.forEach(t.Configs,(function(e){if(e.model){var t=p.configConfig(e.model);t.File.Name=e.FileName||t.File.Name,n.push(t)}})),e.TaskTemplate.ContainerSpec.Configs=n}}(n,e),function(e,t){if(t.Secrets){var n=[];angular.forEach(t.Secrets,(function(e){if(e.model){var t=m.secretConfig(e.model);t.File.Name=t.SecretName,e.overrideTarget&&e.target&&\"\"!==e.target&&(t.File.Name=e.target),n.push(t)}})),e.TaskTemplate.ContainerSpec.Secrets=n}}(n,e),function(e,t){e.TaskTemplate.Placement.Constraints=d.translateKeyValueToPlacementConstraints(t.PlacementConstraints),e.TaskTemplate.Placement.Preferences=d.translateKeyValueToPlacementPreferences(t.PlacementPreferences)}(n,e),function(e,t){t.CpuLimit>0&&(e.TaskTemplate.Resources.Limits.NanoCPUs=1e9*t.CpuLimit),t.CpuReservation>0&&(e.TaskTemplate.Resources.Reservations.NanoCPUs=1e9*t.CpuReservation)}(n,e),function(e,t){var n=(Math.round(8*t.MemoryLimit)/8).toFixed(3);n*=1048576,\"GB\"===t.MemoryLimitUnit&&(n*=1024),n>0&&(e.TaskTemplate.Resources.Limits.MemoryBytes=n);var a=(Math.round(8*t.MemoryReservation)/8).toFixed(3);a*=1048576,\"GB\"===t.MemoryReservationUnit&&(a*=1024),a>0&&(e.TaskTemplate.Resources.Reservations.MemoryBytes=a)}(n,e),function(e,t){e.TaskTemplate.RestartPolicy={Condition:t.RestartCondition||\"any\",Delay:d.translateHumanDurationToNanos(t.RestartDelay)||5e9,MaxAttempts:t.RestartMaxAttempts||0,Window:d.translateHumanDurationToNanos(t.RestartWindow)||0}}(n,e),function(e,t){var n={};t.LogDriverName&&(e.TaskTemplate.LogDriver={Name:t.LogDriverName},\"none\"!==t.LogDriverName&&(t.LogDriverOpts.forEach((function(e){e.name&&(n[e.name]=e.value)})),0!==Object.keys(n).length&&n.constructor===Object&&(e.TaskTemplate.LogDriver.Options=n)))}(n,e),n}var E;async function R(){const e=y.isAdmin(),{allowBindMountsForRegularUsers:t}=I.SecuritySettings;return e||t}t.endpoint=I,t.formValues={Name:\"\",RegistryModel:new s.PorImageRegistryModel,Mode:\"replicated\",Replicas:1,Command:\"\",EntryPoint:\"\",WorkingDir:\"\",User:\"\",Env:[],Labels:[],ContainerLabels:[],Volumes:[],Network:\"\",ExtraNetworks:[],HostsEntries:[],Ports:[],Parallelism:1,PlacementConstraints:[],PlacementPreferences:[],UpdateDelay:\"0s\",UpdateOrder:\"stop-first\",FailureAction:\"pause\",Secrets:[],Configs:[],AccessControlData:new o.AccessControlFormData,CpuLimit:0,CpuReservation:0,MemoryLimit:0,MemoryReservation:0,MemoryLimitUnit:\"MB\",MemoryReservationUnit:\"MB\",RestartCondition:\"any\",RestartDelay:\"5s\",RestartMaxAttempts:0,RestartWindow:\"0s\",LogDriverName:\"\",LogDriverOpts:[],Webhook:!1},t.state={formValidationError:\"\",actionInProgress:!1,pullImageValidity:!1},t.allowBindMounts=!1,t.handleEnvVarChange=function(e){t.formValues.Env=e},t.refreshSlider=function(){l((function(){t.$broadcast(\"rzSliderForceRender\")}))},t.setPullImageValidity=function(e){t.state.pullImageValidity=e},t.addPortBinding=function(){t.formValues.Ports.push({PublishedPort:\"\",TargetPort:\"\",Protocol:\"tcp\",PublishMode:\"ingress\"})},t.removePortBinding=function(e){t.formValues.Ports.splice(e,1)},t.addExtraNetwork=function(){t.formValues.ExtraNetworks.push({Name:\"\"})},t.removeExtraNetwork=function(e){t.formValues.ExtraNetworks.splice(e,1)},t.addHostsEntry=function(){t.formValues.HostsEntries.push({})},t.removeHostsEntry=function(e){t.formValues.HostsEntries.splice(e,1)},t.addVolume=function(){t.formValues.Volumes.push({Source:null,Target:\"\",ReadOnly:!1,Type:\"volume\"})},t.removeVolume=function(e){t.formValues.Volumes.splice(e,1)},t.addConfig=function(){t.formValues.Configs.push({})},t.removeConfig=function(e){t.formValues.Configs.splice(e,1)},t.addSecret=function(){t.formValues.Secrets.push({overrideTarget:!1})},t.removeSecret=function(e){t.formValues.Secrets.splice(e,1)},t.addPlacementConstraint=function(){t.formValues.PlacementConstraints.push({key:\"\",operator:\"==\",value:\"\"})},t.removePlacementConstraint=function(e){t.formValues.PlacementConstraints.splice(e,1)},t.addPlacementPreference=function(){t.formValues.PlacementPreferences.push({strategy:\"spread\",value:\"\"})},t.removePlacementPreference=function(e){t.formValues.PlacementPreferences.splice(e,1)},t.addLabel=function(){t.formValues.Labels.push({key:\"\",value:\"\"})},t.removeLabel=function(e){t.formValues.Labels.splice(e,1)},t.addContainerLabel=function(){t.formValues.ContainerLabels.push({key:\"\",value:\"\"})},t.removeContainerLabel=function(e){t.formValues.ContainerLabels.splice(e,1)},t.addLogDriverOpt=function(){t.formValues.LogDriverOpts.push({name:\"\",value:\"\"})},t.removeLogDriverOpt=function(e){t.formValues.LogDriverOpts.splice(e,1)},t.volumesAreValid=function(){return t.formValues.Volumes.every(e=>e.Target&&e.Source)},t.create=function(){var a=t.formValues.AccessControlData;(function(e,n){var a;return t.state.formValidationError=\"\",!(a=$.validateAccessControl(e,n))||(t.state.formValidationError=a,!1)})(a,t.isAdmin)&&(t.state.actionInProgress=!0,function(a,i){const s=t.formValues.RegistryModel;var r=s.Registry.Authentication?S.encodedCredentials(s.Registry):\"\";k.setRegistryAuthenticationHeader(r),c.create(a).$promise.then((function(n){const a=n.ID,s=n.Portainer.ResourceControl,r=y.getUserDetails().ID,o=w.applyResourceControl(r,i,s),l=t.formValues.RegistryModel.Registry.Id,c=e.when(4!==I.Type&&t.formValues.Webhook&&P.createServiceWebhook(a,I.Id,l));return e.all([o,c])})).then((function(){x.success(\"Service successfully created\"),n.go(\"docker.services\",{},{reload:!0})})).catch((function(e){x.error(\"Failure\",e,\"Unable to create service\")})).finally((function(){t.state.actionInProgress=!1}))}(N(),a))},E=t.applicationState.endpoint.apiVersion,e.all({volumes:h.volumes(),networks:f.networks(!0,!0,!1),secrets:E>=1.25?g.secrets():[],configs:E>=1.3?u.configs():[],nodes:A.nodes(),availableLoggingDrivers:C.loggingPlugins(E<1.25),allowBindMounts:R()}).then((function(e){t.availableVolumes=e.volumes,t.availableNetworks=e.networks,t.availableSecrets=e.secrets,t.availableConfigs=e.configs,t.availableLoggingDrivers=e.availableLoggingDrivers,function(e){var n=0,a=0;for(var i in e)e[i].CPUs&&e[i].CPUs>n&&(n=e[i].CPUs),e[i].Memory&&e[i].Memory>a&&(a=e[i].Memory);t.state.sliderMaxCpu=n>0?n/1e9:32,t.state.sliderMaxMemory=a>0?Math.floor(a/1e3/1e3):32768}(e.nodes),t.isAdmin=y.isAdmin(),t.allowBindMounts=e.allowBindMounts})).catch((function(e){x.error(\"Failure\",e,\"Unable to initialize view\")}))}])},function(e,t){var n=\"app/docker/views/services/create/includes/update-restart.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Update config\\n  </div>\\n  \\x3c!-- parallelism-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"parallelism\" class=\"col-sm-3 col-lg-2 control-label text-left\">Update parallelism</label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <input type=\"number\" class=\"form-control\" ng-model=\"formValues.Parallelism\" id=\"parallelism\" placeholder=\"e.g. 1\" />\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\">\\n        Maximum number of tasks to be updated simultaneously (0 to update all at once).\\n      </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !parallelism-input --\\x3e\\n  \\x3c!-- delay-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"update-delay\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Update delay\\n      <portainer-tooltip position=\"bottom\" message=\"Supported format examples: 1h, 5m, 10s, 1000ms, 15us, 60ns.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <input type=\"text\" class=\"form-control\" ng-model=\"formValues.UpdateDelay\" id=\"update-delay\" placeholder=\"e.g. 1m\" ng-pattern=\"/^([0-9]+)(h|m|s|ms|us|ns)$/i\" />\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\">\\n        Amount of time between updates expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 0s, 0 seconds.\\n      </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !delay-input --\\x3e\\n  \\x3c!-- failureAction-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"failure-action\" class=\"col-sm-3 col-lg-2 control-label text-left\">Update failure action</label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <div class=\"btn-group btn-group-sm\">\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.FailureAction\" uib-btn-radio=\"\\'continue\\'\">Continue</label>\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.FailureAction\" uib-btn-radio=\"\\'pause\\'\">Pause</label>\\n      </div>\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\">\\n        Action taken on failure to start after update.\\n      </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !failureAction-input --\\x3e\\n  \\x3c!-- order-input --\\x3e\\n  <div class=\"form-group\" ng-if=\"applicationState.endpoint.apiVersion >= 1.29\">\\n    <label for=\"update-order\" class=\"col-sm-3 col-lg-2 control-label text-left\">Update order</label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <div class=\"btn-group btn-group-sm\">\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.UpdateOrder\" uib-btn-radio=\"\\'start-first\\'\">start-first</label>\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.UpdateOrder\" uib-btn-radio=\"\\'stop-first\\'\">stop-first</label>\\n      </div>\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\">\\n        Operation order on failure.\\n      </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !order-input --\\x3e\\n\\n  <div class=\"col-sm-12 form-section-title\">\\n    Restart policy\\n  </div>\\n  \\x3c!-- restartCondition-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"restart-condition\" class=\"col-sm-3 col-lg-2 control-label text-left\">Restart condition</label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <div class=\"btn-group btn-group-sm\">\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.RestartCondition\" uib-btn-radio=\"\\'none\\'\">None</label>\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.RestartCondition\" uib-btn-radio=\"\\'on-failure\\'\">On-failure</label>\\n        <label class=\"btn btn-primary\" ng-model=\"formValues.RestartCondition\" uib-btn-radio=\"\\'any\\'\">Any</label>\\n      </div>\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\">\\n        Restart when condition is met (default condition \"any\").\\n      </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !restartCondition-input --\\x3e\\n  \\x3c!-- restartDelay-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"restart-delay\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Restart delay\\n      <portainer-tooltip position=\"bottom\" message=\"Supported format examples: 1h, 5m, 10s, 1000ms, 15us, 60ns.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <input type=\"text\" class=\"form-control\" ng-model=\"formValues.RestartDelay\" id=\"restart-delay\" placeholder=\"e.g. 1m\" ng-pattern=\"/^([0-9]+)(h|m|s|ms|us|ns)$/i\" />\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\">\\n        Delay between restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 5s, 5 seconds.\\n      </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !restartDelay-input --\\x3e\\n  \\x3c!-- restartMaxAttempts-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"restart-max-attempts\" class=\"col-sm-3 col-lg-2 control-label text-left\">Restart max attempts</label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <input type=\"number\" class=\"form-control\" ng-model=\"formValues.RestartMaxAttempts\" id=\"restart-max-attempts\" placeholder=\"e.g. 0\" />\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\">\\n        Maximum attempts to restart a given task before giving up (default value is 0, which means unlimited).\\n      </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !restartMaxAttempts-input --\\x3e\\n  \\x3c!-- restartWindow-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"restart-window\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Restart window\\n      <portainer-tooltip position=\"bottom\" message=\"Supported format examples: 1h, 5m, 10s, 1000ms, 15us, 60ns.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-4 col-lg-3\">\\n      <input type=\"text\" class=\"form-control\" ng-model=\"formValues.RestartWindow\" id=\"restart-window\" placeholder=\"e.g. 1m\" ng-pattern=\"/^([0-9]+)(h|m|s|ms|us|ns)$/i\" />\\n    </div>\\n    <div class=\"col-sm-5\">\\n      <p class=\"small text-muted\">\\n        Time window to evaluate restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 0 seconds, which is unbounded.\\n      </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !restartWindow-input --\\x3e\\n</form>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/create/includes/secret.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12 small text-muted\">\\n      By default, secrets will be available under <code>/run/secrets/$SECRET_NAME</code> in containers (Linux) or\\n      <code>C:\\\\ProgramData\\\\Docker\\\\secrets\\\\$SECRET_NAME</code> (Windows).</div\\n    >\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n      <label class=\"control-label text-left\">Secrets</label>\\n      <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addSecret()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add a secret </span>\\n    </div>\\n    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n      <div ng-repeat=\"secret in formValues.Secrets track by $index\" style=\"margin-top: 4px;\">\\n        <div class=\"input-group col-sm-4 input-group-sm\">\\n          <span class=\"input-group-addon\">secret</span>\\n          <select class=\"form-control\" ng-model=\"secret.model\" ng-options=\"secret.Name for secret in availableSecrets | orderBy: \\'Name\\'\">\\n            <option value=\"\" selected=\"selected\">Select a secret</option>\\n          </select>\\n        </div>\\n        <div class=\"input-group col-sm-4 input-group-sm\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3 && secret.overrideTarget\">\\n          <span class=\"input-group-addon\">target</span>\\n          <input class=\"form-control\" ng-model=\"secret.target\" placeholder=\"/path/in/container\" />\\n        </div>\\n        <div class=\"input-group col-sm-3 input-group-sm\">\\n          <div class=\"btn-group btn-group-sm\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3\">\\n            <label class=\"btn btn-primary\" ng-model=\"secret.overrideTarget\" uib-btn-radio=\"false\">Default location</label>\\n            <label class=\"btn btn-primary\" ng-model=\"secret.overrideTarget\" uib-btn-radio=\"true\">Override</label>\\n          </div>\\n          <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeSecret($index)\">\\n            <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</form>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/create/includes/config.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n      <label class=\"control-label text-left\">Configs</label>\\n      <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addConfig()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add a config </span>\\n    </div>\\n    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n      <div ng-repeat=\"config in formValues.Configs\" style=\"margin-top: 2px;\">\\n        <div class=\"input-group col-sm-4 input-group-sm\">\\n          <span class=\"input-group-addon\">config</span>\\n          <select class=\"form-control\" ng-model=\"config.model\" ng-options=\"config.Name for config in availableConfigs | orderBy: \\'Name\\'\">\\n            <option value=\"\" selected=\"selected\">Select a config</option>\\n          </select>\\n        </div>\\n        <div class=\"input-group col-sm-4 input-group-sm\">\\n          <span class=\"input-group-addon\">Path in container</span>\\n          <input class=\"form-control\" ng-model=\"config.FileName\" placeholder=\"e.g. /path/in/container\" />\\n        </div>\\n        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeConfig($index)\">\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n</form>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/create/includes/resources-placement.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" style=\"margin-top: 15px;\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Resources\\n  </div>\\n  \\x3c!-- memory-reservation-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"memory-reservation\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px;\">\\n      Memory reservation\\n    </label>\\n    <div class=\"col-sm-3\">\\n      <slider model=\"formValues.MemoryReservation\" floor=\"0\" ceil=\"state.sliderMaxMemory\" step=\"256\" ng-if=\"state.sliderMaxMemory\"></slider>\\n    </div>\\n    <div class=\"col-sm-2\">\\n      <input type=\"number\" min=\"0\" class=\"form-control\" ng-model=\"formValues.MemoryReservation\" />\\n    </div>\\n    <div class=\"col-sm-4\">\\n      <p class=\"small text-muted\" style=\"margin-top: 7px;\">\\n        Minimum memory available on a node to run a task (<b>MB</b>)\\n      </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !memory-reservation-input --\\x3e\\n  \\x3c!-- memory-limit-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"memory-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px;\">\\n      Memory limit\\n    </label>\\n    <div class=\"col-sm-3\">\\n      <slider model=\"formValues.MemoryLimit\" floor=\"0\" ceil=\"state.sliderMaxMemory\" step=\"256\" ng-if=\"state.sliderMaxMemory\"></slider>\\n    </div>\\n    <div class=\"col-sm-2\">\\n      <input type=\"number\" min=\"0\" class=\"form-control\" ng-model=\"formValues.MemoryLimit\" />\\n    </div>\\n    <div class=\"col-sm-4\" style=\"margin-top: 7px;\">\\n      <p class=\"small text-muted\">\\n        Maximum memory usage per task (<b>MB</b>)\\n      </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !memory-limit-input --\\x3e\\n  \\x3c!-- cpu-reservation-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"cpu-reservation\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px;\">\\n      CPU reservation\\n    </label>\\n    <div class=\"col-sm-5\">\\n      <slider model=\"formValues.CpuReservation\" floor=\"0\" ceil=\"state.sliderMaxCpu\" step=\"0.25\" precision=\"2\" ng-if=\"state.sliderMaxCpu\"></slider>\\n    </div>\\n    <div class=\"col-sm-4\" style=\"margin-top: 20px;\">\\n      <p class=\"small text-muted\">\\n        Minimum CPU available on a node to run a task\\n      </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !cpu-reservation-input --\\x3e\\n  \\x3c!-- cpu-limit-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"cpu-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px;\">\\n      CPU limit\\n    </label>\\n    <div class=\"col-sm-5\">\\n      <slider model=\"formValues.CpuLimit\" floor=\"0\" ceil=\"state.sliderMaxCpu\" step=\"0.25\" precision=\"2\" ng-if=\"state.sliderMaxCpu\"></slider>\\n    </div>\\n    <div class=\"col-sm-4\" style=\"margin-top: 20px;\">\\n      <p class=\"small text-muted\">\\n        Maximum CPU usage per task\\n      </p>\\n    </div>\\n  </div>\\n  \\x3c!-- !cpu-limit-input --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Placement\\n  </div>\\n  \\x3c!-- placement-constraints --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n      <label class=\"control-label text-left\">Placement constraints</label>\\n      <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addPlacementConstraint()\">\\n        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> placement constraint\\n      </span>\\n    </div>\\n    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n      <div ng-repeat=\"constraint in formValues.PlacementConstraints\" style=\"margin-top: 2px;\">\\n        <div class=\"input-group col-sm-4 input-group-sm\">\\n          <span class=\"input-group-addon\">name</span>\\n          <input type=\"text\" class=\"form-control\" ng-model=\"constraint.key\" placeholder=\"e.g. node.role\" />\\n        </div>\\n        <div class=\"input-group col-sm-1 input-group-sm\">\\n          <select name=\"constraintOperator\" class=\"form-control\" ng-model=\"constraint.operator\">\\n            <option value=\"==\">==</option>\\n            <option value=\"!=\">!=</option>\\n          </select>\\n        </div>\\n        <div class=\"input-group col-sm-5 input-group-sm\">\\n          <span class=\"input-group-addon\">value</span>\\n          <input type=\"text\" class=\"form-control\" ng-model=\"constraint.value\" placeholder=\"e.g. manager\" />\\n        </div>\\n        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePlacementConstraint($index)\">\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !placement-constraints --\\x3e\\n  \\x3c!-- placement-preferences --\\x3e\\n  <div class=\"form-group\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3\">\\n    <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n      <label class=\"control-label text-left\">Placement preferences</label>\\n      <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addPlacementPreference()\">\\n        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> placement preference\\n      </span>\\n    </div>\\n    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n      <div ng-repeat=\"preference in formValues.PlacementPreferences\" style=\"margin-top: 2px;\">\\n        <div class=\"input-group col-sm-4 input-group-sm\">\\n          <span class=\"input-group-addon\">strategy</span>\\n          <input type=\"text\" class=\"form-control\" ng-model=\"preference.strategy\" placeholder=\"e.g. spread\" />\\n        </div>\\n        <div class=\"input-group col-sm-5 input-group-sm\">\\n          <span class=\"input-group-addon\">value</span>\\n          <input type=\"text\" class=\"form-control\" ng-model=\"preference.value\" placeholder=\"e.g. node.labels.datacenter\" />\\n        </div>\\n        <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePlacementPreference($index)\">\\n          <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !placement-preferences --\\x3e\\n</form>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),function(e){var t=n(233),a=n(5),i=n(32),s=n(94),r=n(6),o=n(2),l=n(125),c=n(74),d=n(110);n(1352),n(1353),n(1354),n(1355),n(1356),n(1357),n(1358),n(1359),n(1360),n(1361),n(1362),n(1363),n(1364),n(1365),n(1366),n(1367),n(1368),n(1369),angular.module(\"portainer.docker\").controller(\"ServiceController\",[\"$q\",\"$scope\",\"$transition$\",\"$state\",\"$location\",\"$timeout\",\"$anchorScroll\",\"ServiceService\",\"ConfigService\",\"ConfigHelper\",\"SecretService\",\"ImageService\",\"SecretHelper\",\"ServiceHelper\",\"LabelHelper\",\"TaskService\",\"NodeService\",\"ContainerService\",\"TaskHelper\",\"Notifications\",\"ModalService\",\"PluginService\",\"Authentication\",\"VolumeService\",\"ImageHelper\",\"WebhookService\",\"clipboard\",\"WebhookHelper\",\"NetworkService\",\"RegistryService\",\"endpoint\",function(n,u,p,m,g,h,f,v,b,y,w,x,$,C,S,k,A,P,I,T,N,E,R,D,O,V,U,L,F,_,M){u.endpoint=M,u.state={updateInProgress:!1,deletionInProgress:!1,rollbackInProgress:!1},u.formValues={RegistryModel:new c.PorImageRegistryModel},u.tasks=[],u.availableImages=[],u.lastVersion=0;var j={},B=[];function K(e){var t=C.serviceToConfig(e.Model);if(t.Name=e.Name,t.Labels=S.fromKeyValueToLabelHash(e.ServiceLabels),t.TaskTemplate.ContainerSpec.Env=d.convertToArrayOfStrings(e.EnvironmentVariables),t.TaskTemplate.ContainerSpec.Labels=S.fromKeyValueToLabelHash(e.ServiceContainerLabels),u.hasChanges(e,[\"Image\"])){const e=O.createImageConfigForContainer(u.formValues.RegistryModel);t.TaskTemplate.ContainerSpec.Image=e.fromImage}else t.TaskTemplate.ContainerSpec.Image=e.Image;if(u.hasChanges(e,[\"Networks\"])&&(t.Networks=Object(o.a)(Object(r.a)(e.Networks,e=>e.Id&&e.Editable),e=>({Target:e.Id})),t.TaskTemplate.Networks=t.Networks),t.TaskTemplate.ContainerSpec.Secrets=e.ServiceSecrets?e.ServiceSecrets.map($.secretConfig):[],t.TaskTemplate.ContainerSpec.Configs=e.ServiceConfigs?e.ServiceConfigs.map(y.configConfig):[],t.TaskTemplate.ContainerSpec.Hosts=e.Hosts?C.translateHostnameIPToHostsEntries(e.Hosts):[],\"replicated\"===e.Mode&&(t.Mode.Replicated.Replicas=e.Replicas),t.TaskTemplate.ContainerSpec.Mounts=e.ServiceMounts,void 0===t.TaskTemplate.Placement&&(t.TaskTemplate.Placement={}),t.TaskTemplate.Placement.Constraints=C.translateKeyValueToPlacementConstraints(e.ServiceConstraints),t.TaskTemplate.Placement.Preferences=C.translateKeyValueToPlacementPreferences(e.ServicePreferences),u.hasChanges(e,[\"LimitNanoCPUs\",\"LimitMemoryBytes\",\"ReservationNanoCPUs\",\"ReservationMemoryBytes\"])){var n=(Math.round(8*e.LimitMemoryBytes)/8).toFixed(3);n*=1048576;var a=(Math.round(8*e.ReservationMemoryBytes)/8).toFixed(3);a*=1048576,t.TaskTemplate.Resources={Limits:{NanoCPUs:1e9*e.LimitNanoCPUs,MemoryBytes:n},Reservations:{NanoCPUs:1e9*e.ReservationNanoCPUs,MemoryBytes:a}}}if(u.hasChanges(e,[\"UpdateFailureAction\",\"UpdateDelay\",\"UpdateParallelism\",\"UpdateOrder\"])&&(t.UpdateConfig={Parallelism:e.UpdateParallelism,Delay:C.translateHumanDurationToNanos(e.UpdateDelay)||0,FailureAction:e.UpdateFailureAction,Order:e.UpdateOrder}),u.hasChanges(e,[\"RestartCondition\",\"RestartDelay\",\"RestartMaxAttempts\",\"RestartWindow\"])&&(t.TaskTemplate.RestartPolicy={Condition:e.RestartCondition,Delay:C.translateHumanDurationToNanos(e.RestartDelay)||5e9,MaxAttempts:e.RestartMaxAttempts,Window:C.translateHumanDurationToNanos(e.RestartWindow)||0}),t.TaskTemplate.LogDriver=null,e.LogDriverName&&(t.TaskTemplate.LogDriver={Name:e.LogDriverName},\"none\"!==e.LogDriverName)){var i=C.translateKeyValueToLogDriverOpts(e.LogDriverOpts);0!==Object.keys(i).length&&i.constructor===Object&&(t.TaskTemplate.LogDriver.Options=i)}return e.Ports&&e.Ports.forEach((function(e){null!==e.PublishedPort&&\"\"!==e.PublishedPort||delete e.PublishedPort})),t.EndpointSpec={Mode:t.EndpointSpec&&t.EndpointSpec.Mode||\"vip\",Ports:e.Ports},t}function z(){var e=u.applicationState.endpoint.apiVersion,c=u.applicationState.endpoint.mode.agentProxy,m=null;v.service(p.params().id).then((function(t){return m=t,u.isUpdating=u.lastVersion>=m.Version,u.isUpdating||(u.lastVersion=m.Version),function(e){e.LimitNanoCPUs=e.LimitNanoCPUs/1e9||0,e.ReservationNanoCPUs=e.ReservationNanoCPUs/1e9||0,e.LimitMemoryBytes=e.LimitMemoryBytes/1024/1024||0,e.ReservationMemoryBytes=e.ReservationMemoryBytes/1024/1024||0}(m),function(e){e.ServiceSecrets=e.Secrets?e.Secrets.map($.flattenSecret):[],e.ServiceConfigs=e.Configs?e.Configs.map(y.flattenConfig):[],e.EnvironmentVariables=d.parseArrayOfStrings(e.Env).map(e=>({...e,added:!0})).sort((e,t)=>e.name>t.name?1:-1),e.LogDriverOpts=C.translateLogDriverOptsToKeyValue(e.LogDriverOpts),e.ServiceLabels=S.fromLabelHashToKeyValue(e.Labels),e.ServiceContainerLabels=S.fromLabelHashToKeyValue(e.ContainerLabels),e.ServiceMounts=angular.copy(e.Mounts),e.ServiceConstraints=C.translateConstraintsToKeyValue(e.Constraints),e.ServicePreferences=C.translatePreferencesToKeyValue(e.Preferences),e.Hosts=C.translateHostsEntriesToHostnameIP(e.Hosts)}(m),function(e){e.RestartDelay=C.translateNanosToHumanDuration(e.RestartDelay)||\"5s\",e.RestartWindow=C.translateNanosToHumanDuration(e.RestartWindow)||\"0s\",e.UpdateDelay=C.translateNanosToHumanDuration(e.UpdateDelay)||\"0s\",e.StopGracePeriod=e.StopGracePeriod?C.translateNanosToHumanDuration(e.StopGracePeriod):\"\"}(m),u.service=m,j=angular.copy(m),n.all({volumes:D.volumes(),tasks:k.tasks({service:[m.Name]}),containers:c?P.containers():[],nodes:A.nodes(),secrets:e>=1.25?w.secrets():[],configs:e>=1.3?b.configs():[],availableImages:x.images(),availableLoggingDrivers:E.loggingPlugins(e<1.25),availableNetworks:F.networks(!0,!0,e>=1.25),webhooks:V.webhooks(m.Id,M.Id)})})).then((async function(e){u.nodes=e.nodes,u.configs=e.configs,u.secrets=e.secrets,u.availableImages=x.getUniqueTagListFromImages(e.availableImages),u.availableLoggingDrivers=e.availableLoggingDrivers,u.availableVolumes=e.volumes,u.allowBindMounts=M.SecuritySettings.allowBindMountsForRegularUsers,u.isAdmin=R.isAdmin(),u.availableNetworks=e.availableNetworks,u.swarmNetworks=Object(r.a)(u.availableNetworks,e=>\"swarm\"===e.Scope);const n=Object(s.a)(Object(i.a)(u.service.Model.Spec.Networks||[],u.service.Model.Spec.TaskTemplate.Networks||[]),\"Target\"),d=Object(r.a)(Object(o.a)(n,({Target:t})=>Object(a.a)(e.availableNetworks,{Id:t})),Boolean);if(Object(t.a)(u.service.Ports,e=>\"ingress\"===e.PublishMode)){const e=Object(a.a)(u.availableNetworks,e=>e.Ingress);e&&d.unshift(e)}if(u.service.Networks=await Promise.all(Object(o.a)(d,async e=>{let t=\"\";if(e.IPAM.Config.length)t=e.IPAM.Config[0].Subnet;else{const n=await F.network(e.Id);t=n&&n.IPAM&&n.IPAM.Config&&n.IPAM.Config.length&&n.IPAM.Config[0].Subnet||\"\"}return{Id:e.Id,Name:e.Name,Addr:t,Editable:!e.Ingress}})),j.Networks=angular.copy(u.service.Networks),e.webhooks.length>0){var p=e.webhooks[0];u.WebhookExists=!0,u.webhookID=p.Id,u.webhookURL=L.returnWebhookUrl(p.Token)}var g=e.tasks;if(c)for(var v=e.containers,b=0;b<g.length;b++){var y=g[b];I.associateContainerToTask(y,v)}C.associateTasksToService(m,g),u.tasks=e.tasks;var w=0;for(var $ in e.nodes)e.nodes[$].CPUs&&e.nodes[$].CPUs>w&&(w=e.nodes[$].CPUs);u.state.sliderMaxCpu=w>0?w/1e9:32;const S=u.service.Model.Spec.TaskTemplate.ContainerSpec.Image;_.retrievePorRegistryModelFromRepository(S,M.Id).then(e=>{u.formValues.RegistryModel=e,u.initialRegistryID=Object(l.a)(e,\"Registry.Id\",0)}),u.state.addSecret={override:!1},h((function(){f()}))})).catch((function(e){u.secrets=[],u.configs=[],T.error(\"Failure\",e,\"Unable to retrieve service details\")}))}function G(e,t){B.push(t),e.hasChanges=!0}u.goToItem=function(e){g.hash()!==e?g.hash(e):f()},u.addEnvironmentVariable=function(e){e.EnvironmentVariables.push({name:\"\",value:\"\"}),G(e,\"EnvironmentVariables\",e.EnvironmentVariables)},u.onChangeEnvVars=function(e){const t=u.service,n=t.EnvironmentVariables;t.EnvironmentVariables=e.map(e=>{const t=n.find(({name:t})=>e.name===t),a=t&&t.added;return{...e,added:a}}),G(t,\"EnvironmentVariables\",t.EnvironmentVariables)},u.addConfig=function(e,t){t&&0===e.ServiceConfigs.filter((function(e){return e.Id===t.Id})).length&&(e.ServiceConfigs.push({Id:t.Id,Name:t.Name,FileName:t.Name,Uid:\"0\",Gid:\"0\",Mode:292}),G(e,\"ServiceConfigs\",e.ServiceConfigs))},u.removeConfig=function(e,t){null!==e.ServiceConfigs.splice(t,1)&&G(e,\"ServiceConfigs\",e.ServiceConfigs)},u.updateConfig=function(e){G(e,\"ServiceConfigs\",e.ServiceConfigs)},u.addSecret=function(e,t){if(t.secret){var n=t.secret.Name;t.override&&(n=t.target),0===e.ServiceSecrets.filter((function(e){return e.Id===t.secret.Id&&e.FileName===n})).length&&(e.ServiceSecrets.push({Id:t.secret.Id,Name:t.secret.Name,FileName:n,Uid:\"0\",Gid:\"0\",Mode:444}),G(e,\"ServiceSecrets\",e.ServiceSecrets))}},u.removeSecret=function(e,t){null!==e.ServiceSecrets.splice(t,1)&&G(e,\"ServiceSecrets\",e.ServiceSecrets)},u.addLabel=function(e){e.ServiceLabels.push({key:\"\",value:\"\",originalValue:\"\"}),G(e,\"ServiceLabels\",e.ServiceLabels)},u.removeLabel=function(e,t){null!==e.ServiceLabels.splice(t,1)&&G(e,\"ServiceLabels\",e.ServiceLabels)},u.updateLabel=function(e,t){t.value===t.originalValue&&t.key===t.originalKey||G(e,\"ServiceLabels\",e.ServiceLabels)},u.addContainerLabel=function(e){e.ServiceContainerLabels.push({key:\"\",value:\"\",originalValue:\"\"}),G(e,\"ServiceContainerLabels\",e.ServiceContainerLabels)},u.removeContainerLabel=function(e,t){null!==e.ServiceContainerLabels.splice(t,1)&&G(e,\"ServiceContainerLabels\",e.ServiceContainerLabels)},u.updateContainerLabel=function(e,t){t.value===t.originalValue&&t.key===t.originalKey||G(e,\"ServiceContainerLabels\",e.ServiceContainerLabels)},u.addMount=function(e){e.ServiceMounts.push({Type:\"volume\",Source:null,Target:\"\",ReadOnly:!1}),G(e,\"ServiceMounts\",e.ServiceMounts)},u.removeMount=function(e,t){null!==e.ServiceMounts.splice(t,1)&&G(e,\"ServiceMounts\",e.ServiceMounts)},u.onChangeMountType=function(e,t){t.Source=null,u.updateMount(e,t)},u.updateMount=function(e){G(e,\"ServiceMounts\",e.ServiceMounts)},u.addNetwork=function(e){e.Networks||(e.Networks=[]),e.Networks.push({Editable:!0})},u.removeNetwork=function(e,t){var n=e.Networks.splice(t,1);n&&n.length&&n[0].Id&&G(e,\"Networks\",e.Networks)},u.updateNetwork=function(e){G(e,\"Networks\",e.Networks)},u.addPlacementConstraint=function(e){e.ServiceConstraints.push({key:\"\",operator:\"==\",value:\"\"}),G(e,\"ServiceConstraints\",e.ServiceConstraints)},u.removePlacementConstraint=function(e,t){null!==e.ServiceConstraints.splice(t,1)&&G(e,\"ServiceConstraints\",e.ServiceConstraints)},u.updatePlacementConstraint=function(e){G(e,\"ServiceConstraints\",e.ServiceConstraints)},u.addPlacementPreference=function(e){e.ServicePreferences.push({strategy:\"spread\",value:\"\"}),G(e,\"ServicePreferences\",e.ServicePreferences)},u.removePlacementPreference=function(e,t){null!==e.ServicePreferences.splice(t,1)&&G(e,\"ServicePreferences\",e.ServicePreferences)},u.updatePlacementPreference=function(e){G(e,\"ServicePreferences\",e.ServicePreferences)},u.addPublishedPort=function(e){e.Ports||(e.Ports=[]),e.Ports.push({PublishedPort:\"\",TargetPort:\"\",Protocol:\"tcp\",PublishMode:\"ingress\"})},u.updatePublishedPort=function(e){G(e,\"Ports\",e.Ports)},u.removePortPublishedBinding=function(e,t){null!==e.Ports.splice(t,1)&&G(e,\"Ports\",e.Ports)},u.addLogDriverOpt=function(e){e.LogDriverOpts.push({key:\"\",value:\"\",originalValue:\"\"}),G(e,\"LogDriverOpts\",e.LogDriverOpts)},u.removeLogDriverOpt=function(e,t){null!==e.LogDriverOpts.splice(t,1)&&G(e,\"LogDriverOpts\",e.LogDriverOpts)},u.updateLogDriverOpt=function(e,t){t.value===t.originalValue&&t.key===t.originalKey||G(e,\"LogDriverOpts\",e.LogDriverOpts)},u.updateLogDriverName=function(e){G(e,\"LogDriverName\",e.LogDriverName)},u.addHostsEntry=function(e){e.Hosts||(e.Hosts=[]),e.Hosts.push({hostname:\"\",ip:\"\"})},u.removeHostsEntry=function(e,t){null!==e.Hosts.splice(t,1)&&G(e,\"Hosts\",e.Hosts)},u.updateHostsEntry=function(e){G(e,\"Hosts\",e.Hosts)},u.updateWebhook=function(e){u.WebhookExists?V.deleteWebhook(u.webhookID).then((function(){u.webhookURL=null,u.webhookID=null,u.WebhookExists=!1})).catch((function(e){T.error(\"Failure\",e,\"Unable to delete webhook\")})):V.createServiceWebhook(e.Id,M.Id,u.initialRegistryID).then((function(e){u.WebhookExists=!0,u.webhookID=e.Id,u.webhookURL=L.returnWebhookUrl(e.Token)})).catch((function(e){T.error(\"Failure\",e,\"Unable to create webhook\")}))},u.updateWebhookRegistryId=function(){const e=Object(l.a)(u.formValues.RegistryModel,\"Registry.Id\",0),t=u.initialRegistryID!=e;u.WebhookExists&&t&&V.updateServiceWebhook(u.webhookID,e).then((function(){})).catch((function(e){T.error(\"Failure\",e,\"Unable to update webhook\")}))},u.copyWebhook=function(){U.copyText(u.webhookURL),e(\"#copyNotification\").show(),e(\"#copyNotification\").fadeOut(2e3)},u.cancelChanges=async function(e,t){if(t)for(const e of t)if(\"Image\"===e)u.formValues.RegistryModel=await _.retrievePorRegistryModelFromRepository(j.Image,M.Id);else{var n=B.indexOf(e);n>=0&&B.splice(n,1)}else u.formValues.RegistryModel=await _.retrievePorRegistryModelFromRepository(j.Image,M.Id),t=Object.keys(e),B=[];t.forEach((function(t){e[t]=j[t]})),e.hasChanges=!1},u.hasChanges=function(e,t){var n=!1;return t.forEach((function(t){if(\"Image\"===t){const t=e?e.Model.Spec.TaskTemplate.ContainerSpec.Image:null,a=O.createImageConfigForContainer(u.formValues.RegistryModel).fromImage;n=n||t!==a}else n=n||B.indexOf(t)>=0})),n},u.mountsAreValid=function(){return u.service.ServiceMounts.every(e=>e.Source&&e.Target)},u.rollbackService=function(e){N.confirm({title:\"Rollback service\",message:\"Are you sure you want to rollback?\",buttons:{confirm:{label:\"Yes\",className:\"btn-danger\"}},callback:function(t){t&&function(e){u.state.rollbackInProgress=!0;let t={};t=K(e),v.update(e,t,\"previous\").then((function(e){e.message&&e.message.match(/^rpc error:/)?T.error(\"Failure\",e,\"Error\"):(T.success(\"Success\",\"Service successfully rolled back\"),u.cancelChanges({}),z())})).catch((function(e){e.data.message&&e.data.message.includes(\"does not have a previous spec\")?T.error(\"Failure\",{message:\"No previous config to rollback to.\"}):T.error(\"Failure\",e,\"Unable to rollback service\")})).finally((function(){u.state.rollbackInProgress=!1}))}(e)}})},u.setPullImageValidity=function(e){u.state.pullImageValidity=e},u.updateService=function(e){let t={};t=K(e),v.update(e,t).then((function(e){e.message&&e.message.match(/^rpc error:/)?T.error(\"Failure\",e,\"Error\"):(T.success(\"Service successfully updated\",\"Service updated\"),u.updateWebhookRegistryId()),u.cancelChanges({}),z()}),(function(e){T.error(\"Failure\",e,\"Unable to update service\")}))},u.removeService=function(){N.confirmDeletion(\"Do you want to remove this service? All the containers associated to this service will be removed too.\",(function(e){e&&(u.state.deletionInProgress=!0,v.remove(u.service).then((function(){return n.when(u.webhookID&&V.deleteWebhook(u.webhookID))})).then((function(){T.success(\"Service successfully deleted\"),m.go(\"docker.services\",{})})).catch((function(e){T.error(\"Failure\",e,\"Unable to remove service\")})).finally((function(){u.state.deletionInProgress=!1})))}))},u.forceUpdateService=function(e){N.confirmServiceForceUpdate(\"Do you want to force an update of the service? All the tasks associated to the service will be recreated.\",(function(t){if(t){var n=!1;t[0]&&(n=!0),function(e,t){var n=C.serviceToConfig(e.Model);t&&(n.TaskTemplate.ContainerSpec.Image=O.removeDigestFromRepository(n.TaskTemplate.ContainerSpec.Image));n.TaskTemplate.ForceUpdate++,u.state.updateInProgress=!0,v.update(e,n).then((function(){T.success(\"Service successfully updated\",e.Name),u.cancelChanges({}),z()})).catch((function(t){T.error(\"Failure\",t,\"Unable to force update service\",e.Name)})).finally((function(){u.state.updateInProgress=!1}))}(e,n)}}))},u.updateServiceAttribute=function(e,t){e[t]===j[t]&&t in j||(e.hasChanges=!0);B.push(t)},u.filterNetworks=function(e,t){return e.filter(e=>!e.Ingress&&(e.Id===t.Id||u.service.Networks.every(t=>e.Id!==t.Id)))},z()}])}.call(this,n(50))},function(e,t){var n=\"app/docker/views/services/edit/includes/configs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form ng-if=\"applicationState.endpoint.apiVersion >= 1.3\" id=\"service-configs\" ng-submit=\"updateService(service)\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Configs\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"form-inline\" style=\"padding: 10px;\" authorization=\"DockerServiceUpdate\">\\n        Add a config:\\n        <select class=\"form-control\" ng-options=\"config.Name for config in configs | orderBy: \\'Name\\'\" ng-model=\"newConfig\">\\n          <option selected disabled hidden value=\"\">Select a config</option>\\n        </select>\\n        <a class=\"btn btn-default btn-sm\" ng-click=\"addConfig(service, newConfig)\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add config </a>\\n      </div>\\n      <table class=\"table\" style=\"margin-top: 5px;\">\\n        <thead>\\n          <tr>\\n            <th>Name</th>\\n            <th>Path in container</th>\\n            <th>UID</th>\\n            <th>GID</th>\\n            <th>Mode</th>\\n            <th></th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"config in service.ServiceConfigs\">\\n            <td\\n              ><a ui-sref=\"docker.configs.config({id: config.Id})\">{{ config.Name }}</a></td\\n            >\\n            <td>\\n              <input\\n                class=\"form-control\"\\n                ng-model=\"config.FileName\"\\n                ng-change=\"updateConfig(service)\"\\n                placeholder=\"e.g. /path/in/container\"\\n                required\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td>{{ config.Uid }}</td>\\n            <td>{{ config.Gid }}</td>\\n            <td>{{ config.Mode }}</td>\\n            <td authorization=\"DockerServiceUpdate\">\\n              <button class=\"btn btn-xs btn-danger pull-right\" type=\"button\" ng-click=\"removeConfig(service, $index)\" ng-disabled=\"isUpdating\">\\n                <i class=\"fa fa-trash\" aria-hidden=\"true\"></i> Remove config\\n              </button>\\n            </td>\\n          </tr>\\n          <tr ng-if=\"service.ServiceConfigs.length === 0\">\\n            <td colspan=\"6\" class=\"text-center text-muted\">No configs associated to this service.</td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"submit\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'ServiceConfigs\\'])\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServiceConfigs\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</form>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/constraints.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div ng-if=\"service.ServiceConstraints\" id=\"service-placement-constraints\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Placement constraints\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating || addPlacementConstraint(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> placement constraint\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"service.ServiceConstraints.length === 0\">\\n      <p>There are no placement constraints for this service.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.ServiceConstraints.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Name</th>\\n            <th>Operator</th>\\n            <th>Value</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"constraint in service.ServiceConstraints\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"constraint.key\"\\n                  placeholder=\"e.g. node.role\"\\n                  ng-change=\"updatePlacementConstraint(service, constraint)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <select\\n                  name=\"constraintOperator\"\\n                  class=\"form-control\"\\n                  ng-model=\"constraint.operator\"\\n                  ng-change=\"updatePlacementConstraint(service, constraint)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                >\\n                  <option value=\"==\">==</option>\\n                  <option value=\"!=\">!=</option>\\n                </select>\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"constraint.value\"\\n                  placeholder=\"e.g. manager\"\\n                  ng-change=\"updatePlacementConstraint(service, constraint)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n                <span class=\"input-group-btn\" authorization=\"DockerServiceUpdate\">\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePlacementConstraint(service, $index)\" ng-disabled=\"isUpdating\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </span>\\n              </div>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'ServiceConstraints\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServiceConstraints\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/container-specs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-list-alt\" title-text=\"Container spec\"></rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <table class=\"table\">\\n        <tbody>\\n          <tr>\\n            <td>CMD</td>\\n            <td\\n              ><code ng-if=\"service.Command\">{{ service.Command | command }}</code></td\\n            >\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px;\">\\n                Command to execute.\\n              </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Args</td>\\n            <td\\n              ><code ng-if=\"service.Arguments\">{{ service.Arguments }}</code></td\\n            >\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px;\">\\n                Arguments passed to command in container.\\n              </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>User</td>\\n            <td>{{ service.User }}</td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px;\">\\n                Username or UID.\\n              </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Working directory</td>\\n            <td>{{ service.Dir }}</td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px;\">\\n                Working directory inside the container.\\n              </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Stop grace period</td>\\n            <td>{{ service.StopGracePeriod }}</td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px;\">\\n                Time to wait before force killing a container (default none).\\n              </p>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/containerlabels.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div id=\"service-container-labels\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Container labels\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating ||addContainerLabel(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> container label\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"service.ServiceContainerLabels.length === 0\">\\n      <p>There are no container labels for this service.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.ServiceContainerLabels.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Label</th>\\n            <th>Value</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"label in service.ServiceContainerLabels\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon fit-text-size\">name</span>\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"label.key\"\\n                  placeholder=\"e.g. com.example.foo\"\\n                  ng-change=\"updateContainerLabel(service, label)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon fit-text-size\">value</span>\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"label.value\"\\n                  placeholder=\"e.g. bar\"\\n                  ng-change=\"updateContainerLabel(service, label)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n                <span class=\"input-group-btn\" authorization=\"DockerServiceUpdate\">\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeContainerLabel(service, $index)\" ng-disabled=\"isUpdating\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </span>\\n              </div>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'ServiceContainerLabels\\'])\" ng-click=\"updateService(service)\"\\n            >Apply changes</button\\n          >\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServiceContainerLabels\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/environmentvariables.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ng-form ng-if=\"service.EnvironmentVariables\" id=\"service-env-variables\" name=\"serviceEnvForm\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Environment variables\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating || addEnvironmentVariable(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> environment variable\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"service.EnvironmentVariables.length === 0\">\\n      <p>There are no environment variables for this service.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.EnvironmentVariables.length > 0\">\\n      <environment-variables-panel is-name-disabled=\"true\" ng-model=\"service.EnvironmentVariables\" on-change=\"(onChangeEnvVars)\"></environment-variables-panel>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-primary btn-sm\"\\n            ng-disabled=\"!hasChanges(service, [\\'EnvironmentVariables\\']) || serviceEnvForm.$invalid\"\\n            ng-click=\"updateService(service)\"\\n          >\\n            Apply changes\\n          </button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'EnvironmentVariables\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</ng-form>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/hosts.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Hosts file entries\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating ||addHostsEntry(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add host entry\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"!service.Hosts || service.Hosts.length === 0\">\\n      <p>The Hosts file has no extra entries.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.Hosts.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Hostname</th>\\n            <th>IP</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"entry in service.Hosts\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"entry.hostname\"\\n                  placeholder=\"e.g. example.com\"\\n                  ng-change=\"updateHostsEntry(service, entry)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"entry.ip\"\\n                  placeholder=\"e.g. 10.0.1.1\"\\n                  ng-change=\"updateHostsEntry(service, entry)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n                <span class=\"input-group-btn\" authorization=\"DockerServiceUpdate\">\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeHostsEntry(service, $index)\" ng-disabled=\"isUpdating\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </span>\\n              </div>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'Hosts\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'Hosts\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/image.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div id=\"service-container-image\" authorization=\"DockerServiceUpdate\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-clone\" title-text=\"Change container image\"> </rd-widget-header>\\n    <rd-widget-body ng-if=\"!isUpdating\">\\n      <form class=\"form-horizontal\">\\n        <por-image-registry\\n          model=\"formValues.RegistryModel\"\\n          auto-complete=\"true\"\\n          label-class=\"col-sm-1\"\\n          input-class=\"col-sm-11\"\\n          endpoint=\"endpoint\"\\n          is-admin=\"isAdmin\"\\n          check-rate-limits=\"true\"\\n          set-validity=\"setPullImageValidity\"\\n        >\\n        </por-image-registry>\\n      </form>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"isUpdating\">\\n      <p>Image modification is disabled while service is updating.</p>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'Image\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'Image\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/logging.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div id=\"service-logging-driver\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Logging driver\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"form-inline\" style=\"padding: 10px;\" authorization=\"DockerServiceUpdate\">\\n        Driver:\\n        <select class=\"form-control\" ng-model=\"service.LogDriverName\" ng-change=\"updateLogDriverName(service)\" ng-disabled=\"isUpdating\">\\n          <option selected value=\"\">Default logging driver</option>\\n          <option ng-repeat=\"driver in availableLoggingDrivers\" ng-value=\"driver\">{{ driver }}</option>\\n          <option value=\"none\">none</option>\\n        </select>\\n        <a class=\"btn btn-default btn-sm\" ng-click=\"!service.LogDriverName || service.LogDriverName === \\'none\\' || addLogDriverOpt(service)\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add logging driver option\\n        </a>\\n      </div>\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Option</th>\\n            <th>Value</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"option in service.LogDriverOpts\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon fit-text-size\">name</span>\\n                <input type=\"text\" class=\"form-control\" ng-model=\"option.key\" ng-disabled=\"option.added || isUpdating\" placeholder=\"e.g. FOO\" />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon fit-text-size\">value</span>\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"option.value\"\\n                  ng-change=\"updateLogDriverOpt(service, option)\"\\n                  placeholder=\"e.g. bar\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n                <span class=\"input-group-btn\" authorization=\"DockerServiceUpdate\">\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLogDriverOpt(service, $index)\" ng-disabled=\"isUpdating\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </span>\\n              </div>\\n            </td>\\n          </tr>\\n          <tr ng-if=\"service.LogDriverOpts.length === 0\">\\n            <td colspan=\"6\" class=\"text-center text-muted\">No options associated to this logging driver.</td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'LogDriverName\\', \\'LogDriverOpts\\'])\" ng-click=\"updateService(service)\"\\n            >Apply changes</button\\n          >\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'LogDriverName\\', \\'LogDriverOpts\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/mounts.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div ng-if=\"service.ServiceMounts\" id=\"service-mounts\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Mounts\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating ||addMount(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> mount\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"service.ServiceMounts.length === 0\">\\n      <p>There are no mounts for this service.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.ServiceMounts.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th ng-if=\"isAdmin || allowBindMounts\">Type</th>\\n            <th>Source</th>\\n            <th>Target</th>\\n            <th authorization=\"DockerServiceUpdate\">Read only</th>\\n            <th authorization=\"DockerServiceUpdate\">Actions</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"mount in service.ServiceMounts\">\\n            <td ng-if=\"isAdmin || allowBindMounts\">\\n              <select\\n                name=\"mountType\"\\n                class=\"form-control\"\\n                ng-model=\"mount.Type\"\\n                ng-change=\"onChangeMountType(service, mount)\"\\n                ng-disabled=\"isUpdating\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              >\\n                <option value=\"volume\">Volume</option>\\n                <option value=\"bind\">Bind</option>\\n              </select>\\n            </td>\\n            <td>\\n              <select\\n                class=\"form-control\"\\n                ng-model=\"mount.Source\"\\n                ng-options=\"vol.Id as ((vol.Id|truncate:30) + \\' - \\' + (vol.Driver|truncate:30))  for vol in availableVolumes\"\\n                ng-if=\"mount.Type === \\'volume\\'\"\\n                ng-change=\"updateMount(service, mount)\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              >\\n                <option selected disabled hidden value=\"\">Select a volume</option>\\n              </select>\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                name=\"\"\\n                ng-model=\"mount.Source\"\\n                placeholder=\"e.g. /tmp/portainer/data\"\\n                ng-change=\"updateMount(service, mount)\"\\n                ng-disabled=\"isUpdating || (!isAdmin && !allowBindMounts && mount.Type === \\'bind\\')\"\\n                ng-if=\"mount.Type === \\'bind\\'\"\\n              />\\n              <div class=\"col-sm-12 small text-warning\" ng-show=\"!mount.Source\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Source is required. </div>\\n            </td>\\n            <td>\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                ng-model=\"mount.Target\"\\n                placeholder=\"e.g. /tmp/portainer/data\"\\n                ng-change=\"updateMount(service, mount)\"\\n                ng-disabled=\"isUpdating\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n              <div class=\"col-sm-12 small text-warning\" ng-show=\"!mount.Target\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Target is required. </div>\\n            </td>\\n            <td authorization=\"DockerServiceUpdate\">\\n              <input type=\"checkbox\" class=\"form-control\" ng-model=\"mount.ReadOnly\" ng-change=\"updateMount(service, mount)\" ng-disabled=\"isUpdating\" />\\n            </td>\\n            <td authorization=\"DockerServiceUpdate\">\\n              <span class=\"input-group-btn\">\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeMount(service, $index)\" ng-disabled=\"isUpdating\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </span>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!mountsAreValid() || !hasChanges(service, [\\'ServiceMounts\\'])\" ng-click=\"updateService(service)\">\\n            Apply changes\\n          </button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServiceMounts\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/networks.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div id=\"service-network-specs\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Networks\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating || addNetwork(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> network\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"!service.Networks || service.Networks.length === 0\">\\n      <p>This service is not connected to any networks.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.Networks && service.Networks.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Name</th>\\n            <th>ID</th>\\n            <th>IP address</th>\\n            <th>Actions</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"network in service.Networks\">\\n            <td>\\n              <select\\n                ng-if=\"network.Editable\"\\n                class=\"form-control\"\\n                ng-model=\"network.Id\"\\n                ng-change=\"updateNetwork(service)\"\\n                ng-options=\"net.Id as net.Name for net in filterNetworks(swarmNetworks, network)\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n                style=\"width: initial; min-width: 50%;\"\\n              >\\n                <option disabled value=\"\" selected>Select a network</option>\\n              </select>\\n              <span ng-if=\"!network.Editable\">{{ network.Name }}</span>\\n            </td>\\n            <td>\\n              <a ui-sref=\"docker.networks.network({id: network.Id})\">{{ network.Id }}</a>\\n            </td>\\n            <td>\\n              {{ network.Addr }}\\n            </td>\\n            <td ng-if=\"network.Editable\" authorization=\"DockerServiceUpdate\">\\n              <span class=\"input-group-btn\">\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeNetwork(service, $index)\" ng-disabled=\"isUpdating\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </span>\\n            </td>\\n            <td ng-if=\"!network.Editable\"></td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"isUpdating || !hasChanges(service, [\\'Networks\\'])\" ng-click=\"updateService(service)\">\\n            Apply changes\\n          </button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'Networks\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/placementPreferences.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div ng-if=\"service.ServicePreferences\" id=\"service-placement-preferences\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Placement preferences\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating || addPlacementPreference(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> placement preference\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"service.ServicePreferences.length === 0\">\\n      <p>There are no placement preferences for this service.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.ServicePreferences.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Strategy</th>\\n            <th>Value</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"preference in service.ServicePreferences\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"preference.strategy\"\\n                  placeholder=\"e.g. node.role\"\\n                  ng-change=\"updatePlacementPreference(service, preference)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"preference.value\"\\n                  placeholder=\"e.g. manager\"\\n                  ng-change=\"updatePlacementPreference(service, preference)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n                <span class=\"input-group-btn\" authorization=\"DockerServiceUpdate\">\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePlacementPreference(service, $index)\" ng-disabled=\"isUpdating\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </span>\\n              </div>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'ServicePreferences\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServicePreferences\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/ports.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Published ports\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating ||addPublishedPort(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> port mapping\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"!service.Ports || service.Ports.length === 0\">\\n      <p>This service has no ports published.</p>\\n    </rd-widget-body>\\n    <rd-widget-body ng-if=\"service.Ports && service.Ports.length > 0\" classes=\"no-padding\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>Host port</th>\\n            <th>Container port</th>\\n            <th>Protocol</th>\\n            <th>Publish mode</th>\\n            <th authorization=\"DockerServiceUpdate\">Actions</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"portBinding in service.Ports\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon\">host</span>\\n                <input\\n                  type=\"number\"\\n                  class=\"form-control\"\\n                  ng-model=\"portBinding.PublishedPort\"\\n                  placeholder=\"e.g. 8080\"\\n                  ng-change=\"updatePublishedPort(service, mapping)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon\">container</span>\\n                <input\\n                  type=\"number\"\\n                  class=\"form-control\"\\n                  ng-model=\"portBinding.TargetPort\"\\n                  placeholder=\"e.g. 80\"\\n                  ng-change=\"updatePublishedPort(service, mapping)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <select\\n                  class=\"selectpicker form-control\"\\n                  ng-model=\"portBinding.Protocol\"\\n                  ng-change=\"updatePublishedPort(service, mapping)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                >\\n                  <option value=\"tcp\">tcp</option>\\n                  <option value=\"udp\">udp</option>\\n                </select>\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <select\\n                  class=\"selectpicker form-control\"\\n                  ng-model=\"portBinding.PublishMode\"\\n                  ng-change=\"updatePublishedPort(service, mapping)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                >\\n                  <option value=\"ingress\">ingress</option>\\n                  <option value=\"host\">host</option>\\n                </select>\\n              </div>\\n            </td>\\n            <td authorization=\"DockerServiceUpdate\">\\n              <span class=\"input-group-btn\">\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removePortPublishedBinding(service, $index)\" ng-disabled=\"isUpdating\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </span>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'Ports\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'Ports\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/resources.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div id=\"service-resources\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-list-alt\" title-text=\"Resource limits and reservations\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <table class=\"table\">\\n        <tbody>\\n          <tr>\\n            <td style=\"vertical-align: middle;\">\\n              Memory reservation (MB)\\n            </td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"number\"\\n                step=\"0.125\"\\n                min=\"0\"\\n                ng-model=\"service.ReservationMemoryBytes\"\\n                ng-change=\"updateServiceAttribute(service, \\'ReservationMemoryBytes\\')\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td style=\"vertical-align: middle;\">\\n              <p class=\"small text-muted\">\\n                Minimum memory available on a node to run a task (set to 0 for unlimited)\\n              </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td style=\"vertical-align: middle;\">\\n              Memory limit (MB)\\n            </td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"number\"\\n                step=\"0.125\"\\n                min=\"0\"\\n                ng-model=\"service.LimitMemoryBytes\"\\n                ng-change=\"updateServiceAttribute(service, \\'LimitMemoryBytes\\')\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td style=\"vertical-align: middle;\">\\n              <p class=\"small text-muted\">\\n                Maximum memory usage per task (set to 0 for unlimited)\\n              </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td style=\"vertical-align: middle;\">\\n              <div>\\n                CPU reservation\\n              </div>\\n            </td>\\n            <td>\\n              <slider\\n                model=\"service.ReservationNanoCPUs\"\\n                floor=\"0\"\\n                ceil=\"state.sliderMaxCpu\"\\n                step=\"0.25\"\\n                precision=\"2\"\\n                ng-if=\"service && state.sliderMaxCpu\"\\n                on-change=\"updateServiceAttribute(service, \\'ReservationNanoCPUs\\')\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              ></slider>\\n            </td>\\n            <td style=\"vertical-align: middle;\">\\n              <p class=\"small text-muted\">\\n                Minimum CPU available on a node to run a task\\n              </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td style=\"vertical-align: middle;\">\\n              <div>\\n                CPU limit\\n              </div>\\n            </td>\\n            <td>\\n              <slider\\n                model=\"service.LimitNanoCPUs\"\\n                floor=\"0\"\\n                ceil=\"state.sliderMaxCpu\"\\n                step=\"0.25\"\\n                precision=\"2\"\\n                ng-if=\"service && state.sliderMaxCpu\"\\n                on-change=\"updateServiceAttribute(service, \\'LimitNanoCPUs\\')\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              ></slider>\\n            </td>\\n            <td style=\"vertical-align: middle;\">\\n              <p class=\"small text-muted\">\\n                Maximum CPU usage per task\\n              </p>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-primary btn-sm\"\\n            ng-disabled=\"!hasChanges(service, [\\'LimitNanoCPUs\\', \\'LimitMemoryBytes\\', \\'ReservationNanoCPUs\\', \\'ReservationMemoryBytes\\'])\"\\n            ng-click=\"updateService(service)\"\\n            >Apply changes</button\\n          >\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'LimitNanoCPUs\\', \\'LimitMemoryBytes\\', \\'ReservationNanoCPUs\\', \\'ReservationMemoryBytes\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/restart.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div id=\"service-restart-policy\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-list-alt\" title-text=\"Restart policy\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <table class=\"table\">\\n        <tbody>\\n          <tr>\\n            <td>Restart condition</td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <select\\n                  class=\"selectpicker form-control\"\\n                  ng-model=\"service.RestartCondition\"\\n                  ng-change=\"updateServiceAttribute(service, \\'RestartCondition\\')\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                >\\n                  <option value=\"none\">None</option>\\n                  <option value=\"on-failure\">On failure</option>\\n                  <option value=\"any\">Any</option>\\n                </select>\\n              </div>\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px;\">\\n                Condition for restart.\\n              </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Restart delay</td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"text\"\\n                ng-model=\"service.RestartDelay\"\\n                ng-change=\"updateServiceAttribute(service, \\'RestartDelay\\')\"\\n                ng-pattern=\"/^([0-9]+)(h|m|s|ms|us|ns)$/i\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px;\">\\n                Delay between restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 5s, 5 seconds.\\n              </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Restart max attempts</td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"number\"\\n                ng-model=\"service.RestartMaxAttempts\"\\n                ng-change=\"updateServiceAttribute(service, \\'RestartMaxAttempts\\')\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px;\">\\n                Maximum attempts to restart a given task before giving up (default value is 0, which means unlimited).\\n              </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Restart window</td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"text\"\\n                ng-model=\"service.RestartWindow\"\\n                ng-change=\"updateServiceAttribute(service, \\'RestartWindow\\')\"\\n                ng-pattern=\"/^([0-9]+)(h|m|s|ms|us|ns)$/i\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px;\">\\n                Time window to evaluate restart attempts expressed by a number followed by unit (ns|us|ms|s|m|h). Default value is 0 seconds, which is unbounded.\\n              </p>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-primary btn-sm\"\\n            ng-disabled=\"!hasChanges(service, [\\'RestartCondition\\', \\'RestartDelay\\', \\'RestartMaxAttempts\\', \\'RestartWindow\\'])\"\\n            ng-click=\"updateService(service)\"\\n            >Apply changes</button\\n          >\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'RestartCondition\\', \\'RestartDelay\\', \\'RestartMaxAttempts\\', \\'RestartWindow\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/secrets.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div ng-if=\"applicationState.endpoint.apiVersion >= 1.25\" id=\"service-secrets\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Secrets\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"form-inline\" style=\"padding: 10px;\" authorization=\"DockerServiceUpdate\">\\n        Add a secret:\\n        <select class=\"form-control\" ng-options=\"secret.Name for secret in secrets | orderBy: \\'Name\\'\" ng-model=\"state.addSecret.secret\">\\n          <option selected disabled hidden value=\"\">Select a secret</option>\\n        </select>\\n        <div class=\"form-group\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3 && state.addSecret.override\">\\n          Target:\\n          <input class=\"form-control\" ng-model=\"state.addSecret.target\" placeholder=\"/path/in/container\" />\\n        </div>\\n        <div class=\"btn-group btn-group-sm\" ng-if=\"applicationState.endpoint.apiVersion >= 1.3\">\\n          <label class=\"btn btn-primary\" ng-model=\"state.addSecret.override\" uib-btn-radio=\"false\">Default location</label>\\n          <label class=\"btn btn-primary\" ng-model=\"state.addSecret.override\" uib-btn-radio=\"true\">Override</label>\\n        </div>\\n        <a class=\"btn btn-default btn-sm\" ng-click=\"addSecret(service, state.addSecret)\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add secret </a>\\n      </div>\\n      <table class=\"table\" style=\"margin-top: 5px;\">\\n        <thead>\\n          <tr>\\n            <th>Name</th>\\n            <th>File name</th>\\n            <th>UID</th>\\n            <th>GID</th>\\n            <th>Mode</th>\\n            <th></th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"secret in service.ServiceSecrets\">\\n            <td\\n              ><a ui-sref=\"docker.secrets.secret({id: secret.Id})\">{{ secret.Name }}</a></td\\n            >\\n            <td>{{ secret.FileName }}</td>\\n            <td>{{ secret.Uid }}</td>\\n            <td>{{ secret.Gid }}</td>\\n            <td>{{ secret.Mode }}</td>\\n            <td authorization=\"DockerServiceUpdate\">\\n              <button class=\"btn btn-xs btn-danger pull-right\" type=\"button\" ng-click=\"removeSecret(service, $index)\" ng-disabled=\"isUpdating\">\\n                <i class=\"fa fa-trash\" aria-hidden=\"true\"></i> Remove secret\\n              </button>\\n            </td>\\n          </tr>\\n          <tr ng-if=\"service.ServiceSecrets.length === 0\">\\n            <td colspan=\"6\" class=\"text-center text-muted\">No secrets associated to this service.</td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'ServiceSecrets\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServiceSecrets\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/servicelabels.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div id=\"service-labels\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-tasks\" title-text=\"Service labels\">\\n      <div class=\"nopadding\" authorization=\"DockerServiceUpdate\">\\n        <a class=\"btn btn-default btn-sm pull-right\" ng-click=\"isUpdating || addLabel(service)\" ng-disabled=\"isUpdating\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> label\\n        </a>\\n      </div>\\n    </rd-widget-header>\\n    <rd-widget-body ng-if=\"service.ServiceLabels.length === 0\">\\n      <p>There are no labels for this service.</p>\\n    </rd-widget-body>\\n    <rd-widget-body classes=\"no-padding\" ng-if=\"service.ServiceLabels.length > 0\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th>\\n              Label\\n            </th>\\n            <th>\\n              Value\\n            </th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"label in service.ServiceLabels\">\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon fit-text-size\">name</span>\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"label.key\"\\n                  placeholder=\"e.g. com.example.foo\"\\n                  ng-change=\"updateLabel(service, label)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n              </div>\\n            </td>\\n            <td>\\n              <div class=\"input-group input-group-sm\">\\n                <span class=\"input-group-addon fit-text-size\">value</span>\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  ng-model=\"label.value\"\\n                  placeholder=\"e.g. bar\"\\n                  ng-change=\"updateLabel(service, label)\"\\n                  ng-disabled=\"isUpdating\"\\n                  disable-authorization=\"DockerServiceUpdate\"\\n                />\\n                <span class=\"input-group-btn\" authorization=\"DockerServiceUpdate\">\\n                  <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel(service, $index)\" ng-disabled=\"isUpdating\">\\n                    <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                  </button>\\n                </span>\\n              </div>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!hasChanges(service, [\\'ServiceLabels\\'])\" ng-click=\"updateService(service)\">Apply changes</button>\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'ServiceLabels\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/tasks.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div ng-if=\"tasks.length > 0 && nodes\" id=\"service-tasks\">\\n  <tasks-datatable\\n    title-text=\"Tasks\"\\n    title-icon=\"fa-tasks\"\\n    dataset=\"tasks\"\\n    table-key=\"service-tasks\"\\n    order-by=\"Updated\"\\n    reverse-order=\"true\"\\n    nodes=\"nodes\"\\n    show-slot-column=\"service.Mode !== \\'global\\'\"\\n    show-logs-button=\"applicationState.endpoint.apiVersion >= 1.30\"\\n    agent-proxy=\"applicationState.endpoint.mode.agentProxy\"\\n  ></tasks-datatable>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/docker/views/services/edit/includes/updateconfig.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div id=\"service-update-config\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"fa-list-alt\" title-text=\"Update configuration\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <table class=\"table\">\\n        <tbody>\\n          <tr>\\n            <td>Update Parallelism</td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"number\"\\n                ng-model=\"service.UpdateParallelism\"\\n                ng-change=\"updateServiceAttribute(service, \\'UpdateParallelism\\')\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px;\">\\n                Maximum number of tasks to be updated simultaneously (0 to update all at once).\\n              </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Update Delay</td>\\n            <td>\\n              <input\\n                class=\"input-sm\"\\n                type=\"text\"\\n                ng-model=\"service.UpdateDelay\"\\n                ng-change=\"updateServiceAttribute(service, \\'UpdateDelay\\')\"\\n                ng-pattern=\"/^([0-9]+)(h|m|s|ms|us|ns)$/i\"\\n                disable-authorization=\"DockerServiceUpdate\"\\n              />\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px;\">\\n                Amount of time between updates expressed by a number followed by unit (ns|us|ms|s|m|h). Example: 1m.\\n              </p>\\n            </td>\\n          </tr>\\n          <tr>\\n            <td>Update Failure Action</td>\\n            <td>\\n              <div class=\"form-group\">\\n                <label class=\"radio-inline\">\\n                  <input\\n                    type=\"radio\"\\n                    name=\"failure_action\"\\n                    ng-model=\"service.UpdateFailureAction\"\\n                    value=\"continue\"\\n                    ng-change=\"updateServiceAttribute(service, \\'UpdateFailureAction\\')\"\\n                    disable-authorization=\"DockerServiceUpdate\"\\n                  />\\n                  Continue\\n                </label>\\n                <label class=\"radio-inline\">\\n                  <input\\n                    type=\"radio\"\\n                    name=\"failure_action\"\\n                    ng-model=\"service.UpdateFailureAction\"\\n                    value=\"pause\"\\n                    ng-change=\"updateServiceAttribute(service, \\'UpdateFailureAction\\')\"\\n                    disable-authorization=\"DockerServiceUpdate\"\\n                  />\\n                  Pause\\n                </label>\\n              </div>\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px;\">\\n                Action taken on failure to start after update.\\n              </p>\\n            </td>\\n          </tr>\\n          <tr ng-if=\"applicationState.endpoint.apiVersion >= 1.29\">\\n            <td>Order</td>\\n            <td>\\n              <div class=\"form-group\">\\n                <label class=\"radio-inline\">\\n                  <input\\n                    type=\"radio\"\\n                    name=\"updateconfig_order\"\\n                    ng-model=\"service.UpdateOrder\"\\n                    value=\"start-first\"\\n                    ng-change=\"updateServiceAttribute(service, \\'UpdateOrder\\')\"\\n                    disable-authorization=\"DockerServiceUpdate\"\\n                  />\\n                  start-first\\n                </label>\\n                <label class=\"radio-inline\">\\n                  <input\\n                    type=\"radio\"\\n                    name=\"updateconfig_order\"\\n                    ng-model=\"service.UpdateOrder\"\\n                    value=\"stop-first\"\\n                    ng-change=\"updateServiceAttribute(service, \\'UpdateOrder\\')\"\\n                    disable-authorization=\"DockerServiceUpdate\"\\n                  />\\n                  stop-first\\n                </label>\\n              </div>\\n            </td>\\n            <td>\\n              <p class=\"small text-muted\" style=\"margin-top: 10px;\">\\n                Operation order on failure.\\n              </p>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </rd-widget-body>\\n    <rd-widget-footer authorization=\"DockerServiceUpdate\">\\n      <div class=\"btn-toolbar\" role=\"toolbar\">\\n        <div class=\"btn-group\" role=\"group\">\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-primary btn-sm\"\\n            ng-disabled=\"!hasChanges(service, [\\'UpdateFailureAction\\', \\'UpdateDelay\\', \\'UpdateParallelism\\', \\'UpdateOrder\\'])\"\\n            ng-click=\"updateService(service)\"\\n            >Apply changes</button\\n          >\\n          <button type=\"button\" class=\"btn btn-default btn-sm dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\\n            <span class=\"caret\"></span>\\n          </button>\\n          <ul class=\"dropdown-menu\">\\n            <li><a ng-click=\"cancelChanges(service, [\\'UpdateFailureAction\\', \\'UpdateDelay\\', \\'UpdateParallelism\\', \\'UpdateOrder\\'])\">Reset changes</a></li>\\n            <li><a ng-click=\"cancelChanges(service)\">Reset all changes</a></li>\\n          </ul>\\n        </div>\\n      </div>\\n    </rd-widget-footer>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(17),i=n.n(a);angular.module(\"portainer.docker\").controller(\"ServiceLogsController\",[\"$scope\",\"$transition$\",\"$interval\",\"ServiceService\",\"Notifications\",function(e,t,n,a,s){function r(){var t=e.repeater;angular.isDefined(t)&&(n.cancel(t),t=null)}function o(){var o=e.state.refreshRate;e.repeater=n((function(){a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,i()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t})).catch((function(e){r(),s.error(\"Failure\",e,\"Unable to retrieve service logs\")}))}),1e3*o)}e.state={refreshRate:3,lineCount:100,sinceTimestamp:\"\",displayTimestamps:!1},e.changeLogCollection=function(e){e?o():r()},e.$on(\"$destroy\",(function(){r()})),a.service(t.params().id).then((function(n){e.service=n,a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,i()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t,o()})).catch((function(e){r(),s.error(\"Failure\",e,\"Unable to retrieve service logs\")}))})).catch((function(e){s.error(\"Failure\",e,\"Unable to retrieve service information\")}))}])},function(e,t){angular.module(\"portainer.docker\").controller(\"ServicesController\",[\"$q\",\"$scope\",\"ServiceService\",\"ServiceHelper\",\"Notifications\",\"TaskService\",\"TaskHelper\",\"NodeService\",\"ContainerService\",function(e,t,n,a,i,s,r,o,l){function c(){var c=t.applicationState.endpoint.mode.agentProxy;return e.all({services:n.services(),tasks:s.tasks(),containers:c?l.containers(1):[],nodes:o.nodes()}).then((function(e){var n=e.services,i=e.tasks;if(c)for(var s=e.containers,o=0;o<i.length;o++){var l=i[o];r.associateContainerToTask(l,s)}for(var d=0;d<n.length;d++){var u=n[d];a.associateTasksToService(u,i)}t.nodes=e.nodes,t.tasks=i,t.services=n})).catch((function(e){t.services=[],i.error(\"Failure\",e,\"Unable to retrieve services\")}))}t.getServices=c,c()}])},function(e,t){angular.module(\"portainer.docker\").controller(\"SwarmController\",[\"$q\",\"$scope\",\"SystemService\",\"NodeService\",\"Notifications\",\"StateManager\",\"Authentication\",function(e,t,n,a,i,s,r){function o(e){var n=e.SystemStatus;t.swarm[n[1][0]]=n[1][1],t.swarm[n[2][0]]=n[2][1];var a=\"primary\"===n[0][1]?n[3][1]:n[4][1],i=parseInt(a,10);t.swarm[n[3][0]]=i,t.swarm.Status=[],function(e,t){var n=\"primary\"===e[0][1]?4:5;for(let a=0;a<t;a++)l(e,n),n+=9}(n,i)}function l(e,n){var a={};a.name=e[n][0],a.ip=e[n][1],a.Id=e[n+1][1],a.status=e[n+2][1],a.containers=e[n+3][1],a.cpu=e[n+4][1].split(\"/\")[1],a.memory=e[n+5][1].split(\"/\")[1],a.labels=e[n+6][1],a.version=e[n+8][1],t.swarm.Status.push(a)}function c(){\"DOCKER_SWARM_MODE\"===t.applicationState.endpoint.mode.provider&&a.nodes().then((function(e){var n=e;!function(e){var n=0,a=0;angular.forEach(e,(function(e){n+=e.CPUs,a+=e.Memory})),t.totalCPU=n/1e9,t.totalMemory=a}(n),t.nodes=n})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve cluster details\")}))}t.info={},t.docker={},t.swarm={},t.totalCPU=0,t.totalMemory=0,t.getNodes=c,function(){t.isAdmin=r.isAdmin();var a=t.applicationState.endpoint.mode.provider;e.all({version:n.version(),info:n.info()}).then((function(e){t.docker=e.version,t.info=e.info,\"DOCKER_SWARM_MODE\"===a?c():o(e.info)})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve cluster details\")}))}()}])},function(e,t,n){(function(e){angular.module(\"portainer.docker\").controller(\"SwarmVisualizerController\",[\"$q\",\"$scope\",\"$document\",\"$interval\",\"NodeService\",\"ServiceService\",\"TaskService\",\"Notifications\",\"LocalStorage\",function(t,n,a,i,s,r,o,l,c){function d(){var e=n.repeater;angular.isDefined(e)&&(i.cancel(e),e=null)}function u(){var e=n.state.refreshRate;n.repeater=i((function(){t.all({nodes:s.nodes(),services:r.services(),tasks:o.tasks()}).then((function(e){var t=e.nodes;n.nodes=t;var a=e.services;n.services=a;var i=e.tasks;n.tasks=i,p(t,a,i)})).catch((function(e){d(),l.error(\"Failure\",e,\"Unable to retrieve cluster information\")}))}),1e3*e)}function p(e,t,a){var i={};!function(e,t){for(var n=0;n<e.length;n++)for(var a=e[n],i=0;i<t.length;i++){var s=t[i];s.ServiceId===a.Id&&(s.ServiceName=a.Name)}}(t,a),function(e,t){for(var n=0;n<e.length;n++){var a=e[n];a.Tasks=[];for(var i=0;i<t.length;i++){var s=t[i];s.NodeId===a.Id&&a.Tasks.push(s)}}}(e,a),i.nodes=e,n.visualizerData=i}n.state={ShowInformationPanel:!0,DisplayOnlyRunningTasks:!1,DisplayNodeLabels:!1,refreshRate:\"5\"},n.$on(\"$destroy\",(function(){d()})),n.changeShowInformationPanel=function(e){n.state.ShowInformationPanel=e,c.storeSwarmVisualizerSettings(\"show_info_panel\",e)},n.changeDisplayOnlyRunningTasks=function(){var e=n.state.DisplayOnlyRunningTasks;c.storeSwarmVisualizerSettings(\"display_only_running_tasks\",e)},n.changeDisplayNodeLabels=function(){var e=n.state.DisplayNodeLabels;c.storeSwarmVisualizerSettings(\"display_node_labels\",e)},n.changeUpdateRepeater=function(){d(),u(),e(\"#refreshRateChange\").show(),e(\"#refreshRateChange\").fadeOut(1500),c.storeSwarmVisualizerSettings(\"refresh_rate\",n.state.refreshRate)},t.all({nodes:s.nodes(),services:r.services(),tasks:o.tasks()}).then((function(e){var t=e.nodes;n.nodes=t;var a=e.services;n.services=a;var i=e.tasks;n.tasks=i,p(t,a,i),u()})).catch((function(e){l.error(\"Failure\",e,\"Unable to initialize cluster visualizer\")})),function(){var e=c.getSwarmVisualizerSettings(\"show_info_panel\");null!=e&&(n.state.ShowInformationPanel=e);var t=c.getSwarmVisualizerSettings(\"display_only_running_tasks\");null!=t&&(n.state.DisplayOnlyRunningTasks=t);var a=c.getSwarmVisualizerSettings(\"display_node_labels\");null!=a&&(n.state.DisplayNodeLabels=a);var i=c.getSwarmVisualizerSettings(\"refresh_rate\");null!=i&&(n.state.refreshRate=i)}()}])}).call(this,n(50))},function(e,t){angular.module(\"portainer.docker\").controller(\"TaskController\",[\"$scope\",\"$transition$\",\"TaskService\",\"ServiceService\",\"Notifications\",function(e,t,n,a,i){n.task(t.params().id).then((function(t){var n=t;return e.task=n,a.service(n.ServiceId)})).then((function(t){var n=t;e.service=n})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve task details\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(17),i=n.n(a);angular.module(\"portainer.docker\").controller(\"TaskLogsController\",[\"$scope\",\"$transition$\",\"$interval\",\"TaskService\",\"ServiceService\",\"Notifications\",function(e,t,n,a,s,r){function o(){var t=e.repeater;angular.isDefined(t)&&(n.cancel(t),t=null)}function l(){var s=e.state.refreshRate;e.repeater=n((function(){a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,i()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t})).catch((function(e){o(),r.error(\"Failure\",e,\"Unable to retrieve task logs\")}))}),1e3*s)}e.state={refreshRate:3,lineCount:100,sinceTimestamp:\"\",displayTimestamps:!1},e.changeLogCollection=function(e){e?l():o()},e.$on(\"$destroy\",(function(){o()})),a.task(t.params().id).then((function(t){var n=t;return e.task=n,s.service(n.ServiceId)})).then((function(n){var s=n;e.service=s,a.logs(t.params().id,1,1,e.state.displayTimestamps?1:0,i()(e.state.sinceTimestamp).unix(),e.state.lineCount).then((function(t){e.logs=t,l()})).catch((function(e){o(),r.error(\"Failure\",e,\"Unable to retrieve task logs\")}))})).catch((function(e){r.error(\"Failure\",e,\"Unable to retrieve task details\")}))}])},function(e,t){angular.module(\"portainer.docker\").controller(\"BrowseVolumeController\",[\"$scope\",\"$transition$\",\"StateManager\",function(e,t,n){e.volumeId=t.params().id,e.nodeName=t.params().nodeName,e.agentApiVersion=n.getAgentApiVersion()}])},function(e,t,n){\"use strict\";n.r(t);var a=n(45),i=n(558),s=n(557);angular.module(\"portainer.docker\").controller(\"CreateVolumeController\",[\"$q\",\"$scope\",\"$state\",\"VolumeService\",\"PluginService\",\"ResourceControlService\",\"Authentication\",\"Notifications\",\"FormValidator\",\"HttpRequestHelper\",function(e,t,n,r,o,l,c,d,u,p){var m;t.formValues={Driver:\"local\",DriverOptions:[],AccessControlData:new a.AccessControlFormData,NodeName:null,NFSData:new i.VolumesNFSFormData,CIFSData:new s.VolumesCIFSFormData},t.state={formValidationError:\"\",actionInProgress:!1},t.availableVolumeDrivers=[],t.addDriverOption=function(){t.formValues.DriverOptions.push({name:\"\",value:\"\"})},t.removeDriverOption=function(e){t.formValues.DriverOptions.splice(e,1)},t.create=function(){var e=t.formValues.Name,a=t.formValues.Driver,i=t.formValues.DriverOptions,s=t.formValues.StoridgeProfile;\"cio:latest\"===a&&s&&i.push({name:\"profile\",value:s.Name}),t.formValues.NFSData.useNFS&&function(e){var n=t.formValues.NFSData;e.push({name:\"type\",value:\"nfs\"});var a=\"addr=\"+n.serverAddress+\",\"+n.options;\"NFS4\"===n.version&&(a+=\",nfsvers=4\"),e.push({name:\"o\",value:a});var i=\":\"===n.mountPoint[0]?n.mountPoint:\":\"+n.mountPoint;e.push({name:\"device\",value:i})}(i),t.formValues.CIFSData.useCIFS&&function(e){const n=t.formValues.CIFSData;e.push({name:\"type\",value:\"cifs\"});let a=n.share.replace(\"\\\\\",\"/\");\"/\"!==a[0]&&(a=\"/\"+a);const i=\"//\"+n.serverAddress+a;e.push({name:\"device\",value:i});const s=n.versionsNumber[n.versions.indexOf(n.version)],r=\"username=\"+n.username+\",password=\"+n.password+\",vers=\"+s;e.push({name:\"o\",value:r})}(i);var o=r.createVolumeConfiguration(e,a,i),m=t.formValues.AccessControlData,g=c.getUserDetails(),h=c.isAdmin();if(function(e,n){var a;return t.state.formValidationError=\"\",!(a=u.validateAccessControl(e,n))||(t.state.formValidationError=a,!1)}(m,h)){var f=t.formValues.NodeName;p.setPortainerAgentTargetHeader(f),t.state.actionInProgress=!0,r.createVolume(o).then((function(e){const t=g.ID,n=e.ResourceControl;return l.applyResourceControl(t,m,n)})).then((function(){d.success(\"Volume successfully created\"),n.go(\"docker.volumes\",{},{reload:!0})})).catch((function(e){d.error(\"Failure\",e,\"An error occured during volume creation\")})).finally((function(){t.state.actionInProgress=!1}))}},m=t.applicationState.endpoint.apiVersion,o.volumePlugins(m<1.25).then((function(e){t.availableVolumeDrivers=e})).catch((function(e){d.error(\"Failure\",e,\"Unable to retrieve volume drivers\")}))}])},function(e,t){angular.module(\"portainer.docker\").controller(\"VolumeController\",[\"$scope\",\"$state\",\"$transition$\",\"$q\",\"ModalService\",\"VolumeService\",\"ContainerService\",\"Notifications\",\"HttpRequestHelper\",\"StoridgeVolumeService\",\"StoridgeSnapshotService\",function(e,t,n,a,i,s,r,o,l,c,d){e.storidgeSnapshots=[],e.storidgeVolume={},e.removeSnapshot=function(n){i.confirm({title:\"Are you sure?\",message:\"Do you want really want to remove this snapshot?\",buttons:{confirm:{label:\"Remove\",className:\"btn-danger\"}},callback:function(a){if(a){var i=n.length;angular.forEach(n,(function(n){d.remove(n.Id).then((function(){o.success(\"Snapshot successfully removed\",n.Id);var t=e.storidgeSnapshots.indexOf(n);e.storidgeSnapshots.splice(t,1)})).catch((function(e){o.error(\"Failure\",e,\"Unable to remove snapshot\")})).finally((function(){0===--i&&t.reload()}))}))}}})},e.removeVolume=function(){i.confirmDeletion(\"Do you want to remove this volume?\",a=>{a&&s.remove(e.volume).then((function(){o.success(\"Volume successfully removed\",n.params().id),t.go(\"docker.volumes\",{})})).catch((function(e){o.error(\"Failure\",e,\"Unable to remove volume\")}))})},l.setPortainerAgentTargetHeader(n.params().nodeName),s.volume(n.params().id).then((function(t){var i=t;e.volume=i;var s={volume:[i.Id]};return e.isCioDriver=i.Driver.includes(\"cio\"),e.isCioDriver?a.all({containers:r.containers(1,s),storidgeVolume:c.volume(n.params().id)}):r.containers(1,s)})).then((function(t){var n=(e.isCioDriver?t.containers:t).map((function(t){return t.volumeData=function(e,t){return e.Mounts.find((function(e){return e.Name===t}))}(t,e.volume.Id),t}));if(e.containersUsingVolume=n,e.isCioDriver&&(e.storidgeVolume=t.storidgeVolume,e.storidgeVolume.SnapshotEnabled))return d.snapshots(t.storidgeVolume.Vdisk)})).then((function(t){e.storidgeSnapshots=t})).catch((function(e){o.error(\"Failure\",e,\"Unable to retrieve volume details\")}))}])},function(e,t){angular.module(\"portainer.docker\").controller(\"VolumesController\",[\"$q\",\"$scope\",\"$state\",\"VolumeService\",\"ServiceService\",\"VolumeHelper\",\"Notifications\",\"HttpRequestHelper\",\"EndpointProvider\",\"Authentication\",\"ModalService\",\"endpoint\",function(e,t,n,a,i,s,r,o,l,c,d,u){function p(){var n=t.applicationState.endpoint.mode.provider,o=t.applicationState.endpoint.mode.role;e.all({attached:a.volumes({filters:{dangling:[\"false\"]}}),dangling:a.volumes({filters:{dangling:[\"true\"]}}),services:\"DOCKER_SWARM_MODE\"===n&&\"MANAGER\"===o?i.services():[]}).then((function(e){var n=e.services;t.offlineMode=l.offlineMode(),t.volumes=e.attached.map((function(e){return e.dangling=!1,e})).concat(e.dangling.map((function(e){return e.dangling=!0,s.isVolumeUsedByAService(e,n)&&(e.dangling=!1),e})))})).catch((function(e){r.error(\"Failure\",e,\"Unable to retrieve volumes\")}))}t.removeAction=function(e){d.confirmDeletion(\"Do you want to remove the selected volume(s)?\",i=>{if(i){var s=e.length;angular.forEach(e,(function(e){o.setPortainerAgentTargetHeader(e.NodeName),a.remove(e).then((function(){r.success(\"Volume successfully removed\",e.Id);var n=t.volumes.indexOf(e);t.volumes.splice(n,1)})).catch((function(e){r.error(\"Failure\",e,\"Unable to remove volume\")})).finally((function(){0===--s&&n.reload()}))}))}})},t.offlineMode=!1,t.getVolumes=p,p(),t.showBrowseAction=t.applicationState.endpoint.mode.agentProxy&&(c.isAdmin()||u.SecuritySettings.allowVolumeBrowserForRegularUsers)}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(567);const r=n(1381);i.a.module(\"portainer.edge\").component(\"associatedEndpointsDatatable\",{templateUrl:r,controller:s.AssociatedEndpointsDatatableController,bindings:{titleText:\"@\",titleIcon:\"@\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",retrievePage:\"<\",updateKey:\"<\"}})},function(e,t){var n=\"app/edge/components/associated-endpoints-datatable/associatedEndpointsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          auto-focus\\n          placeholder=\"Search...\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'GroupName\\')\">\\n                  Group\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'GroupName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'GroupName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in $ctrl.state.filteredDataSet | itemsPerPage: $ctrl.state.paginatedItemLimit\"\\n              total-items=\"$ctrl.state.totalFilteredDataSet\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span>{{ item.Name }}</span>\\n              </td>\\n\\n              <td>{{ item.GroupName }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.loading\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.state.loading && $ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No environment available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"!$ctrl.state.loading\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" on-page-change=\"$ctrl.onPageChange(newPageNumber, oldPageNumber)\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(1383);i.a.module(\"portainer.edge\").component(\"edgeGroupsSelector\",{templateUrl:s,bindings:{model:\"<\",items:\"<\",onChange:\"<\"}})},function(e,t){var n=\"app/edge/components/edge-groups-selector/edgeGroupsSelector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'\\x3c!-- on-select/on-remove are called with model because ui-select uses 2-way-binding --\\x3e\\n<ui-select\\n  multiple\\n  ng-model=\"$ctrl.model\"\\n  close-on-select=\"false\"\\n  on-select=\"$ctrl.onChange($ctrl.model)\"\\n  on-remove=\"$ctrl.onChange($ctrl.model)\"\\n  data-cy=\"edgeGroupCreate-edgeGroupsSelector\"\\n>\\n  <ui-select-match placeholder=\"Select one or multiple group(s)\">\\n    <span>\\n      {{ $item.Name }}\\n    </span>\\n  </ui-select-match>\\n  <ui-select-choices repeat=\"item.Id as item in $ctrl.items | filter: { Name: $select.search }\">\\n    <span>\\n      {{ item.Name }}\\n    </span>\\n  </ui-select-choices>\\n</ui-select>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(568);const r=n(1385);i.a.module(\"portainer.edge\").component(\"edgeJobForm\",{templateUrl:r,controller:s.EdgeJobFormController,bindings:{model:\"=\",groups:\"<\",tags:\"<\",addLabelAction:\"<\",removeLabelAction:\"<\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\",isEditorDirty:\"=\"}})},function(e,t){var n=\"app/edge/components/edge-job-form/edgeJobForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" name=\"edgeJobForm\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Edge job configuration\\n  </div>\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"edgejob_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n    <div class=\"col-sm-11\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        ng-model=\"$ctrl.model.Name\"\\n        ng-pattern=\"/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/\"\\n        id=\"edgejob_name\"\\n        name=\"edgejob_name\"\\n        placeholder=\"backup-app-prod\"\\n        required\\n        auto-focus\\n      />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"edgeJobForm.edgejob_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"edgeJobForm.edgejob_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        <p ng-message=\"pattern\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Allowed characters are: [a-zA-Z0-9_.-]</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n  \\x3c!-- cron-input --\\x3e\\n  \\x3c!-- edge-job-method-select --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Edge job configuration\\n  </div>\\n  <div class=\"form-group\"></div>\\n  <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n    <div class=\"boxselector_wrapper\">\\n      <div>\\n        <input type=\"radio\" id=\"config_basic\" ng-model=\"$ctrl.formValues.cronMethod\" value=\"basic\" />\\n        <label for=\"config_basic\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-calendar-alt\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            Basic configuration\\n          </div>\\n          <p>Select date from calendar</p>\\n        </label>\\n      </div>\\n      <div>\\n        <input type=\"radio\" id=\"config_advanced\" ng-model=\"$ctrl.formValues.cronMethod\" value=\"advanced\" />\\n        <label for=\"config_advanced\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-edit\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            Advanced configuration\\n          </div>\\n          <p>Write your own cron rule</p>\\n        </label>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !edge-job-method-select --\\x3e\\n  \\x3c!-- basic-edge-job --\\x3e\\n  <div ng-if=\"$ctrl.formValues.cronMethod === \\'basic\\'\">\\n    <div class=\"form-group\">\\n      <label for=\"recurring\" class=\"col-sm-2 control-label text-left\">Recurring Edge job</label>\\n      <div class=\"col-sm-10\">\\n        <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" name=\"recurring\" ng-model=\"$ctrl.model.Recurring\" /><i></i> </label>\\n      </div>\\n    </div>\\n    \\x3c!-- not-recurring --\\x3e\\n    <div ng-if=\"!$ctrl.model.Recurring\">\\n      <div class=\"form-group\">\\n        <label for=\"edgejob_cron\" class=\"col-sm-2 control-label text-left\">Schedule date</label>\\n        <div class=\"col-sm-10\">\\n          <input class=\"form-control\" moment-picker ng-model=\"$ctrl.formValues.datetime\" format=\"YYYY-MM-DD HH:mm\" />\\n        </div>\\n        <div class=\"col-sm-12 small text-muted\" style=\"margin-top: 10px;\">\\n          Time should be set according to the chosen environments\\' timezone.\\n        </div>\\n        <div ng-show=\"edgeJobForm.datepicker.$invalid\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div ng-messages=\"edgeJobForm.datepicker.$error\">\\n              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !not-recurring --\\x3e\\n    \\x3c!-- recurring --\\x3e\\n    <div ng-if=\"$ctrl.model.Recurring\">\\n      <div class=\"form-group\">\\n        <label for=\"edgejob_value\" class=\"col-sm-2 control-label text-left\">Edge job time</label>\\n        <div class=\"col-sm-10\">\\n          <select\\n            id=\"edgejob_value\"\\n            name=\"edgejob_value\"\\n            class=\"form-control\"\\n            ng-model=\"$ctrl.formValues.scheduleValue\"\\n            ng-options=\"value.displayed for value in $ctrl.scheduleValues\"\\n            required\\n          ></select>\\n        </div>\\n        <div ng-show=\"edgeJobForm.edgejob_value.$invalid\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div ng-messages=\"edgeJobForm.edgejob_value.$error\">\\n              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !recurring --\\x3e\\n  </div>\\n  \\x3c!-- !basic-edge-job --\\x3e\\n  \\x3c!-- advanced-schedule --\\x3e\\n  <div ng-if=\"$ctrl.formValues.cronMethod === \\'advanced\\'\">\\n    <div class=\"form-group\">\\n      <label for=\"edgejob_cron\" class=\"col-sm-2 control-label text-left\">Cron rule</label>\\n      <div class=\"col-sm-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          ng-model=\"$ctrl.model.CronExpression\"\\n          id=\"edgejob_cron\"\\n          name=\"edgejob_cron\"\\n          placeholder=\"0 2 * * *\"\\n          required\\n          ng-pattern=\"$ctrl.cronRegex\"\\n        />\\n      </div>\\n      <div class=\"col-sm-12 small text-muted\" style=\"margin-top: 10px;\">\\n        Time should be set according to the chosen environments\\' timezone.\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"edgeJobForm.edgejob_cron.$invalid && edgeJobForm.edgejob_cron.$dirty\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"edgeJobForm.edgejob_cron.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n          <p ng-message=\"pattern\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field format is invalid.</p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !advanced-schedule --\\x3e\\n\\n  \\x3c!-- execution-method --\\x3e\\n  <div ng-if=\"!$ctrl.model.Id\">\\n    <div class=\"col-sm-12 form-section-title\">\\n      Job content\\n    </div>\\n    <div class=\"form-group\"></div>\\n    <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n      <div class=\"boxselector_wrapper\">\\n        <div>\\n          <input type=\"radio\" id=\"method_editor\" ng-model=\"$ctrl.formValues.method\" value=\"editor\" />\\n          <label for=\"method_editor\">\\n            <div class=\"boxselector_header\">\\n              <i class=\"fa fa-edit\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n              Web editor\\n            </div>\\n            <p>Use our Web editor</p>\\n          </label>\\n        </div>\\n        <div>\\n          <input type=\"radio\" id=\"method_upload\" ng-model=\"$ctrl.formValues.method\" value=\"upload\" />\\n          <label for=\"method_upload\">\\n            <div class=\"boxselector_header\">\\n              <i class=\"fa fa-upload\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n              Upload\\n            </div>\\n            <p>Upload from your computer</p>\\n          </label>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !execution-method --\\x3e\\n  \\x3c!-- web-editor --\\x3e\\n  <div ng-show=\"$ctrl.formValues.method === \\'editor\\'\">\\n    <div class=\"col-sm-12 form-section-title\">\\n      Web editor\\n    </div>\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12\">\\n        <code-editor\\n          identifier=\"execute-edge-job-editor\"\\n          placeholder=\"# Define or paste the content of your script file here\"\\n          on-change=\"($ctrl.editorUpdate)\"\\n          value=\"$ctrl.model.FileContent\"\\n        ></code-editor>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !web-editor --\\x3e\\n  \\x3c!-- upload --\\x3e\\n  <div ng-show=\"$ctrl.formValues.method === \\'upload\\'\">\\n    <div class=\"col-sm-12 form-section-title\">\\n      Upload\\n    </div>\\n    <div class=\"form-group\">\\n      <span class=\"col-sm-12 text-muted small\">\\n        You can upload a script file from your computer.\\n      </span>\\n    </div>\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12\">\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.model.File\">Select file</button>\\n        <span style=\"margin-left: 5px;\">\\n          {{ $ctrl.model.File.name }}\\n          <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.model.File\" aria-hidden=\"true\"></i>\\n        </span>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !upload --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Target environments\\n  </div>\\n  \\x3c!-- node-selection --\\x3e\\n  <associated-endpoints-selector\\n    endpoint-ids=\"$ctrl.model.Endpoints\"\\n    tags=\"$ctrl.tags\"\\n    groups=\"$ctrl.groups\"\\n    has-backend-pagination=\"true\"\\n    on-associate=\"($ctrl.associateEndpoint)\"\\n    on-dissociate=\"($ctrl.dissociateEndpoint)\"\\n  ></associated-endpoints-selector>\\n  \\x3c!-- !node-selection --\\x3e\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Actions\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"button\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !edgeJobForm.$valid\\n        || $ctrl.model.Endpoints.length === 0\\n        || ($ctrl.formValues.method === \\'upload\\' && !$ctrl.model.File)\\n        || ($ctrl.formValues.method === \\'editor\\' && !$ctrl.model.FileContent)\\n        \"\\n        ng-click=\"$ctrl.action()\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n      <span class=\"text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px;\">\\n        {{ $ctrl.state.formValidationError }}\\n      </span>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=n},function(e,t){var n=\"app/edge/components/edge-job-results-datatable/edgeJobResultsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable edge-job-results-datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\">\\n          <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n          {{ $ctrl.titleText }}\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input type=\"text\" class=\"searchInput\" ng-model=\"$ctrl.state.textFilter\" placeholder=\"Search...\" auto-focus ng-model-options=\"{ debounce: 300 }\" />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover table-filters nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Endpoint\\')\">\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Endpoint\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Endpoint\\' && $ctrl.state.reverseOrder\"></i>\\n                  Environment\\n                </a>\\n              </th>\\n              <th>\\n                Actions\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n            >\\n              <td>\\n                {{ item.Endpoint.Name }}\\n              </td>\\n              <td>\\n                <button ng-if=\"item.LogsStatus === 0 || item.LogsStatus === 1\" class=\"btn btn-sm btn-primary\" ng-click=\"$ctrl.collectLogs(item.EndpointId)\">\\n                  Retrieve logs\\n                </button>\\n                <button ng-if=\"item.LogsStatus === 3\" class=\"btn btn-sm btn-primary\" ng-click=\"$ctrl.onDownloadLogsClick(item.EndpointId)\">\\n                  Download logs\\n                </button>\\n                <button ng-if=\"item.LogsStatus === 3\" class=\"btn btn-sm btn-primary\" ng-click=\"$ctrl.onClearLogsClick(item.EndpointId)\">\\n                  Clear logs\\n                </button>\\n                <span ng-if=\"item.LogsStatus === 2\">\\n                  Logs marked for collection, please wait until the logs are available.\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"9\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"9\" class=\"text-center text-muted\">No result available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(1388);i.a.module(\"portainer.edge\").component(\"edgeJobsDatatable\",{templateUrl:s,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\"}})},function(e,t){var n=\"app/edge/components/edge-jobs-datatable/edgeJobsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"edge.jobs.new\"> <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add Edge job </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input type=\"text\" class=\"searchInput\" ng-model=\"$ctrl.state.textFilter\" placeholder=\"Search...\" auto-focus ng-model-options=\"{ debounce: 300 }\" />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CronExpression\\')\">\\n                  Cron expression\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CronExpression\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CronExpression\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Created\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Created\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Created\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"edge.jobs.job({id: item.Id})\">{{ item.Name }}</a>\\n              </td>\\n              <td>\\n                {{ item.CronExpression }}\\n              </td>\\n              <td>{{ item.Created | getisodatefromtimestamp }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No Edge job available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"edgeStackDeploymentTypeSelector\",(function(){return r}));var a=n(1),i=n.n(a),s=n(570);const r={templateUrl:n(1390),controller:s.default,bindings:{value:\"<\",onChange:\"<\",hasDockerEndpoint:\"<\"}};i.a.module(\"portainer.edge\").component(\"edgeStackDeploymentTypeSelector\",r)},function(e,t){var n=\"app/edge/components/edge-stack-deployment-type-selector/edge-stack-deployment-type-selector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\">\\n  Deployment type\\n</div>\\n<box-selector radio-name=\"deploymentType\" ng-model=\"$ctrl.value\" options=\"$ctrl.deploymentOptions\" on-change=\"($ctrl.onChange)\"></box-selector>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(571);const r=n(1392);i.a.module(\"portainer.edge\").component(\"edgeStackEndpointsDatatable\",{templateUrl:r,controller:s.EdgeStackEndpointsDatatableController,bindings:{titleText:\"@\",titleIcon:\"@\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",retrievePage:\"<\"}})},function(e,t){var n=\"app/edge/components/edge-stack-endpoints-datatable/edgeStackEndpointsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          auto-focus\\n          placeholder=\"Search...\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Error\\')\">\\n                  Error\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Error\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Error\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in $ctrl.state.filteredDataSet | itemsPerPage: $ctrl.state.paginatedItemLimit\"\\n              total-items=\"$ctrl.state.totalFilteredDataSet\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>{{ item.Name }}</td>\\n              <td>{{ $ctrl.statusMap[item.Status.Type] || \\'Pending\\' }}</td>\\n              <td>{{ item.Status.Error ? item.Status.Error : \\'-\\' }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.loading\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.state.loading && $ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No environment available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"!$ctrl.state.loading\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" on-page-change=\"$ctrl.onPageChange(newPageNumber, oldPageNumber)\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/edge/components/edge-stack-status/edgeStackStatus.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<span class=\"status\" title=\"Acknowledged environments\"><i class=\"acknowledged icon\"></i>{{ $ctrl.status.acknowledged || 0 }}</span>\\n<span class=\"status\" title=\"Successful environments\"><i class=\"ok icon\"></i>{{ $ctrl.status.ok || 0 }}</span>\\n<span class=\"status\" title=\"Failed environments\"><i class=\"error icon\"></i>{{ $ctrl.status.error || 0 }}</span>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(1395);i.a.module(\"portainer.edge\").component(\"edgeStacksDatatable\",{templateUrl:s,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/edge/components/edge-stacks-datatable/edgeStacksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\">\\n          <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n          Edge Stacks\\n        </div>\\n        <div class=\"settings\" data-cy=\"edgeStack-stackTableSettings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle> <i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings </span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input\\n                        id=\"setting_auto_refresh\"\\n                        type=\"checkbox\"\\n                        ng-model=\"$ctrl.settings.repeater.autoRefresh\"\\n                        ng-change=\"$ctrl.onSettingsRepeaterChange()\"\\n                        data-cy=\"edgeStack-autoRefreshCheckbox\"\\n                      />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">\\n                    Close\\n                  </a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"edgeStack-removeStackButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"edge.stacks.new\" data-cy=\"edgeStack-addStackButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add stack\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"edgeStack-stackTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" data-cy=\"edgeStack-selectAllCheckbox\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                Status\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreationDate\\')\">\\n                  Creation Date\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"!$ctrl.allowSelection(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"edge.stacks.edit({ stackId: item.Id })\">\\n                  {{ item.Name }}\\n                </a>\\n              </td>\\n              <td><edge-stack-status stack-status=\"item.Status\"></edge-stack-status></td>\\n              <td>{{ item.CreationDate | getisodatefromtimestamp }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\" data-cy=\"edgeStack-loadingRow\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\" data-cy=\"edgeStack-noStackRow\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">\\n                No stack available.\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(573);const r=n(1397);i.a.module(\"portainer.edge\").component(\"editEdgeStackForm\",{templateUrl:r,controller:s.EditEdgeStackFormController,bindings:{model:\"<\",actionInProgress:\"<\",submitAction:\"<\",edgeGroups:\"<\",isEditorDirty:\"=\"}})},function(e,t){var n=\"app/edge/components/edit-edge-stack-form/editEdgeStackForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Edge Groups\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <edge-groups-selector model=\"$ctrl.model.EdgeGroups\" items=\"$ctrl.edgeGroups\" on-change=\"($ctrl.onChangeGroups)\"></edge-groups-selector>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\" ng-if=\"!$ctrl.validateEndpointsForDeployment()\">\\n    <div class=\"col-sm-12\">\\n      <div class=\"small text-muted space-right text-warning\">\\n        <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i>\\n        One or more of the selected Edge group contains Edge Docker endpoints that cannot be used with a Kubernetes Edge stack.\\n      </div>\\n    </div>\\n  </div>\\n\\n  <edge-stack-deployment-type-selector\\n    value=\"$ctrl.model.DeploymentType\"\\n    has-docker-endpoint=\"$ctrl.hasDockerEndpoint\"\\n    on-change=\"($ctrl.onChangeDeploymentType)\"\\n  ></edge-stack-deployment-type-selector>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.model.DeploymentType === 0 && $ctrl.hasKubeEndpoint()\">\\n    <div class=\"col-sm-12\">\\n      <div class=\"small text-muted space-right\">\\n        <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i>\\n        Portainer uses <a href=\"https://kompose.io/\" target=\"_blank\">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that not all the\\n        Compose format options are supported by Kompose at the moment.\\n      </div>\\n    </div>\\n  </div>\\n\\n  <web-editor-form\\n    ng-if=\"$ctrl.model.DeploymentType === 0\"\\n    value=\"$ctrl.model.StackFileContent\"\\n    yml=\"true\"\\n    identifier=\"compose-editor\"\\n    placeholder=\"# Define or paste the content of your docker-compose file here\"\\n    on-change=\"($ctrl.onChangeComposeConfig)\"\\n  >\\n    <editor-description>\\n      <div>\\n        You can get more information about Compose file format in the\\n        <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\">\\n          official documentation\\n        </a>\\n        .\\n      </div>\\n    </editor-description>\\n  </web-editor-form>\\n\\n  <web-editor-form\\n    ng-if=\"$ctrl.model.DeploymentType === 1\"\\n    value=\"$ctrl.model.StackFileContent\"\\n    yml=\"true\"\\n    identifier=\"kube-manifest-editor\"\\n    placeholder=\"# Define or paste the content of your manifest here\"\\n    on-change=\"($ctrl.onChangeKubeManifest)\"\\n  >\\n    <editor-description>\\n      <p>\\n        You can get more information about Kubernetes file format in the\\n        <a href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/\" target=\"_blank\">official documentation</a>.\\n      </p>\\n    </editor-description>\\n  </web-editor-form>\\n\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Actions\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"button\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !$ctrl.isFormValid()\"\\n        ng-click=\"$ctrl.submitAction()\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">Update the stack</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">Update in progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(574);const r=n(1399);i.a.module(\"portainer.edge\").component(\"edgeGroupForm\",{templateUrl:r,controller:s.EdgeGroupFormController,bindings:{model:\"<\",groups:\"<\",tags:\"<\",formActionLabel:\"@\",formAction:\"<\",actionInProgress:\"<\",loaded:\"<\",pageType:\"@\"}})},function(e,t){var n=\"app/edge/components/group-form/groupForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" name=\"EdgeGroupForm\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"form-group\">\\n    <label for=\"group_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Name\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"group_name\" name=\"group_name\" ng-model=\"$ctrl.model.Name\" required auto-focus data-cy=\"edgeGroupCreate-groupNameInput\" />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"EdgeGroupForm.group_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"EdgeGroupForm.group_name.$error\">\\n        <p ng-message=\"required\">\\n          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n          This field is required.\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"col-sm-12 form-section-title\">\\n    Group type\\n  </div>\\n  <div class=\"form-group col-sm-12\">\\n    <div class=\"boxselector_wrapper\">\\n      <div class=\"boxselector\">\\n        <input type=\"radio\" id=\"static-group\" ng-model=\"$ctrl.model.Dynamic\" ng-value=\"false\" ng-checked=\"!$ctrl.model.Dynamic\" />\\n        <label for=\"static-group\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-list-ol\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            Static\\n          </div>\\n          <p>Manually select Edge environments</p>\\n        </label>\\n      </div>\\n      <div class=\"boxselector\">\\n        <input type=\"radio\" id=\"dynamic-group\" ng-model=\"$ctrl.model.Dynamic\" ng-value=\"true\" ng-checked=\"$ctrl.model.Dynamic\" />\\n        <label for=\"dynamic-group\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-tags\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            Dynamic\\n          </div>\\n          <p>Automatically associate environments via tags</p>\\n        </label>\\n      </div>\\n    </div>\\n  </div>\\n\\n  \\x3c!-- StaticGroup --\\x3e\\n  <div ng-if=\"!$ctrl.model.Dynamic\">\\n    <div ng-if=\"!$ctrl.noEndpoints\">\\n      \\x3c!-- environments --\\x3e\\n      <div class=\"col-sm-12 form-section-title\">\\n        Associated environments\\n      </div>\\n      <div class=\"form-group\">\\n        <associated-endpoints-selector\\n          endpoint-ids=\"$ctrl.model.Endpoints\"\\n          tags=\"$ctrl.tags\"\\n          groups=\"$ctrl.groups\"\\n          has-backend-pagination=\"true\"\\n          on-associate=\"($ctrl.associateEndpoint)\"\\n          on-dissociate=\"($ctrl.dissociateEndpoint)\"\\n        ></associated-endpoints-selector>\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-if=\"$ctrl.noEndpoints\">\\n      <div class=\"col-sm-12 small text-muted\">\\n        No Edge environments are available. Head over to the <a ui-sref=\"portainer.endpoints\">Environments view</a> to add environments.\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !StaticGroup --\\x3e\\n\\n  \\x3c!-- DynamicGroup --\\x3e\\n  <div ng-if=\"$ctrl.model.Dynamic\">\\n    <div class=\"col-sm-12 form-section-title\">\\n      Tags\\n    </div>\\n    <div ng-if=\"$ctrl.tags.length\" class=\"form-group col-sm-12\">\\n      <div class=\"boxselector_wrapper\">\\n        <div class=\"boxselector\">\\n          <input type=\"radio\" id=\"or-selector\" ng-model=\"$ctrl.model.PartialMatch\" ng-value=\"true\" ng-checked=\"$ctrl.model.PartialMatch\" />\\n          <label for=\"or-selector\">\\n            <div class=\"boxselector_header\">\\n              <i class=\"fa fa-tag\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n              Partial match\\n            </div>\\n            <p>Associate any environment matching at least one of the selected tags</p>\\n          </label>\\n        </div>\\n        <div class=\"boxselector\">\\n          <input type=\"radio\" id=\"and-selector\" ng-model=\"$ctrl.model.PartialMatch\" ng-value=\"false\" ng-checked=\"!$ctrl.model.PartialMatch\" />\\n          <label for=\"and-selector\">\\n            <div class=\"boxselector_header\">\\n              <i class=\"fa fa-tag\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n              Full match\\n            </div>\\n            <p>Associate any environment matching all of the selected tags</p>\\n          </label>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\"form-group\">\\n      <tag-selector ng-if=\"$ctrl.tags.length\" tags=\"$ctrl.tags\" model=\"$ctrl.model.TagIds\"></tag-selector>\\n      <div ng-if=\"$ctrl.tags && !$ctrl.tags.length\" class=\"col-sm-12 small text-muted\">\\n        No tags available. Head over to the <a ui-sref=\"portainer.tags\">Tags view</a> to add tags\\n      </div>\\n    </div>\\n    <div class=\"col-sm-12 form-section-title\">\\n      Associated environments by tags\\n    </div>\\n    <div class=\"col-sm-12 form-group\">\\n      <group-association-table\\n        loaded=\"$ctrl.loaded\"\\n        page-type=\"$ctrl.pageType\"\\n        table-type=\"associated\"\\n        retrieve-page=\"$ctrl.getDynamicEndpoints\"\\n        dataset=\"$ctrl.endpoints.value\"\\n        pagination-state=\"$ctrl.endpoints.state\"\\n        empty-dataset-message=\"No associated endpoint\"\\n        tags=\"$ctrl.tags\"\\n        show-tags=\"true\"\\n        groups=\"$ctrl.groups\"\\n        show-groups=\"true\"\\n        has-backend-pagination=\"true\"\\n      ></group-association-table>\\n    </div>\\n  </div>\\n  \\x3c!-- !DynamicGroup --\\x3e\\n\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Actions\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !EdgeGroupForm.$valid || (!$ctrl.model.Dynamic && !$ctrl.model.Endpoints.length) || ($ctrl.model.Dynamic && !$ctrl.model.TagIds.length)\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        data-cy=\"edgeGroupCreate-addGroupButton\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n</form>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(575);const r=n(1401);i.a.module(\"portainer.edge\").component(\"edgeGroupsDatatable\",{templateUrl:r,controller:s.EdgeGroupsDatatableController,bindings:{dataset:\"<\",titleIcon:\"@\",tableKey:\"@\",orderBy:\"@\",removeAction:\"<\",updateAction:\"<\",reverseOrder:\"<\"}})},function(e,t){var n=\"app/edge/components/groups-datatable/groupsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"{{ $ctrl.titleIcon }}\" title-text=\"Edge Groups\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"edgeGroup-removeEdgeGroupButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"edge.groups.new\" data-cy=\"edgeGroup-addEdgeGroupButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add Edge group\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"edgeGroup-searchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"edgeGroup-edgeGroupTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" data-cy=\"edgeGroup-selectAllCheckbox\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Endpoints.length\\')\">\\n                  Environments Count\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Endpoints.length\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Endpoints.length\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Dynamic\\')\">\\n                  Group Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Dynamic\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Dynamic\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-disabled=\"item.HasEdgeStack\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"edge.groups.edit({groupId: item.Id})\">{{ item.Name }}</a>\\n                <span ng-if=\"item.HasEdgeStack\" class=\"label label-info image-tag space-left\">in use</span>\\n              </td>\\n              <td>{{ item.Endpoints.length }}</td>\\n              <td>{{ item.Dynamic ? \\'Dynamic\\' : \\'Static\\' }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">\\n                No Edge group available.\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1);n.n(a).a.module(\"portainer.edge\").factory(\"EdgeGroups\",[\"$resource\",\"API_ENDPOINT_EDGE_GROUPS\",function(e,t){return e(t+\"/:id/:action\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@Id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},function(e,t){function n(e,t){return e(t+\"/:id/tasks/:taskId/:action\",{},{query:{method:\"GET\",isArray:!0,params:{id:\"@id\"}},logFile:{method:\"GET\",params:{id:\"@id\",taskId:\"@taskId\",action:\"logs\"}},clearLogs:{method:\"DELETE\",params:{id:\"@id\",taskId:\"@taskId\",action:\"logs\"}},collectLogs:{method:\"POST\",params:{id:\"@id\",taskId:\"@taskId\",action:\"logs\"}}})}n.$inject=[\"$resource\",\"API_ENDPOINT_EDGE_JOBS\"],angular.module(\"portainer.edge\").factory(\"EdgeJobResults\",n)},function(e,t){function n(e,t){return e(t+\"/:id/:action\",{},{create:{method:\"POST\"},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},file:{method:\"GET\",params:{id:\"@id\",action:\"file\"}},tasks:{method:\"GET\",isArray:!0,params:{id:\"@id\",action:\"tasks\"}}})}n.$inject=[\"$resource\",\"API_ENDPOINT_EDGE_JOBS\"],angular.module(\"portainer.edge\").factory(\"EdgeJobs\",n)},function(e,t,n){\"use strict\";n.r(t);var a=n(1);n.n(a).a.module(\"portainer.edge\").factory(\"EdgeStacks\",[\"$resource\",\"API_ENDPOINT_EDGE_STACKS\",function(e,t){return e(t+\"/:id/:action\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},file:{method:\"GET\",params:{id:\"@id\",action:\"file\"}}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1);n.n(a).a.module(\"portainer.edge\").factory(\"EdgeTemplates\",[\"$resource\",\"API_ENDPOINT_EDGE_TEMPLATES\",function(e,t){return e(t,{},{query:{method:\"GET\",isArray:!0}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1);n.n(a).a.module(\"portainer.edge\").factory(\"EdgeGroupService\",[\"EdgeGroups\",function(e){var t={group:function(t){return e.get({id:t}).$promise},groups:function(){return e.query({}).$promise},remove:function(t){return e.remove({id:t}).$promise},create:function(t){return e.create(t).$promise},update:function(t){return e.update(t).$promise}};return t}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(299);function r(e,t,n){var a={};return a.edgeJob=async function(t){try{return await e.get({id:t}).$promise}catch(e){throw{msg:\"Unable to retrieve edgeJob\",err:e}}},a.edgeJobs=async function(){try{return await e.query().$promise}catch(e){throw{msg:\"Unable to retrieve edgeJobs\",err:e}}},a.jobResults=async function(e){try{return await t.query({id:e}).$promise}catch(e){throw{msg:\"Unable to retrieve results associated to the edgeJob\",err:e}}},a.logFile=function(e,n){return t.logFile({id:e,taskId:n}).$promise},a.collectLogs=function(e,n){return t.collectLogs({id:e,taskId:n}).$promise},a.clearLogs=function(e,n){return t.clearLogs({id:e,taskId:n}).$promise},a.createEdgeJobFromFileContent=function(t){var n=new s.ScheduleCreateRequest(t);return e.create({method:\"string\"},n).$promise},a.createEdgeJobFromFileUpload=function(e){var t=new s.ScheduleCreateRequest(e);return n.createSchedule(t)},a.updateEdgeJob=function(t){var n=new s.ScheduleUpdateRequest(t);return e.update(n).$promise},a.remove=function(t){return e.remove({id:t}).$promise},a.getScriptFile=function(t){return e.file({id:t}).$promise},a}r.$inject=[\"EdgeJobs\",\"EdgeJobResults\",\"FileUploadService\"],i.a.module(\"portainer.edge\").factory(\"EdgeJobService\",r)},function(e,t,n){\"use strict\";n.r(t);var a=n(1);n.n(a).a.module(\"portainer.edge\").factory(\"EdgeStackService\",[\"EdgeStacks\",\"FileUploadService\",function(e,t){var n={stack:function(t){return e.get({id:t}).$promise},stacks:function(){return e.query({}).$promise},remove:function(t){return e.remove({id:t}).$promise},stackFile:async function(t){try{const{StackFileContent:n}=await e.file({id:t}).$promise;return n}catch(e){throw{msg:\"Unable to retrieve stack content\",err:e}}},updateStack:async function(t,n){return e.update({id:t},n).$promise},createStackFromFileContent:async function(t){try{return await e.create({method:\"string\"},t).$promise}catch(e){throw{msg:\"Unable to create the stack\",err:e}}},createStackFromFileUpload:async function(e,n){try{return await t.createEdgeStack(e,n)}catch(e){throw{msg:\"Unable to create the stack\",err:e}}},createStackFromGitRepository:async function(t,n){try{return await e.create({method:\"repository\"},{...t,RepositoryURL:n.RepositoryURL,RepositoryReferenceName:n.RepositoryReferenceName,FilePathInRepository:n.FilePathInRepository,RepositoryAuthentication:n.RepositoryAuthentication,RepositoryUsername:n.RepositoryUsername,RepositoryPassword:n.RepositoryPassword}).$promise}catch(e){throw{msg:\"Unable to create the stack\",err:e}}},update:function(t){return e.update(t).$promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);class s{constructor(e){this.EdgeTemplates=e}edgeTemplates(){return this.EdgeTemplates.query().$promise}async edgeTemplate(e){const t=await fetch(e.stackFile);if(!t.ok)throw new Error(t.statusText);return t.text()}}s.$inject=[\"EdgeTemplates\"],i.a.module(\"portainer.edge\").service(\"EdgeTemplateService\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(576);const r=n(1412);i.a.module(\"portainer.edge\").component(\"createEdgeGroupView\",{templateUrl:r,controller:s.CreateEdgeGroupController})},function(e,t){var n=\"app/edge/views/edge-groups/createEdgeGroupView/createEdgeGroupView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create edge group\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"edge.groups\">Edge groups</a> &gt; Add edge group </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <edge-group-form\\n          loaded=\"$ctrl.state.loaded\"\\n          page-type=\"create\"\\n          form-action-label=\"Add edge group\"\\n          form-action=\"$ctrl.createGroup\"\\n          groups=\"$ctrl.endpointGroups\"\\n          tags=\"$ctrl.tags\"\\n          model=\"$ctrl.model\"\\n          on-change-tags=\"($ctrl.onChangeTags)\"\\n        ></edge-group-form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(577);const r=n(1414);i.a.module(\"portainer.edge\").component(\"edgeGroupsView\",{templateUrl:r,controller:s.EdgeGroupsController})},function(e,t){var n=\"app/edge/views/edge-groups/edgeGroupsView/edgeGroupsView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Edge Groups\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"edge.groups\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Edge Groups</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <edge-groups-datatable title-icon=\"fa-object-group\" table-key=\"EdgeGroups\" order-by=\"Name\" dataset=\"$ctrl.items\" remove-action=\"$ctrl.removeAction\"></edge-groups-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(578);const r=n(1416);i.a.module(\"portainer.edge\").component(\"editEdgeGroupView\",{templateUrl:r,controller:s.EditEdgeGroupController})},function(e,t){var n=\"app/edge/views/edge-groups/editEdgeGroupView/editEdgeGroupView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Edit edge group\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"edge.groups\">Edge Groups</a> &gt; {{ $ctrl.model.Name }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"$ctrl.model\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <edge-group-form\\n          loaded=\"$ctrl.state.loaded\"\\n          page-type=\"edit\"\\n          form-action-label=\"Save edge group\"\\n          form-action=\"$ctrl.updateGroup\"\\n          endpoints=\"$ctrl.endpoints\"\\n          groups=\"$ctrl.endpointGroups\"\\n          tags=\"$ctrl.tags\"\\n          model=\"$ctrl.model\"\\n        ></edge-group-form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(579);const r=n(1418);i.a.module(\"portainer.edge\").component(\"createEdgeJobView\",{templateUrl:r,controller:s.CreateEdgeJobViewController})},function(e,t){var n=\"app/edge/views/edge-jobs/createEdgeJobView/createEdgeJobView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create Edge job\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"edge.jobs\">Edge Jobs</a> &gt; Create Edge job </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <edge-job-form\\n          model=\"$ctrl.model\"\\n          groups=\"$ctrl.groups\"\\n          tags=\"$ctrl.tags\"\\n          form-action=\"$ctrl.create\"\\n          form-action-label=\"Create edge job\"\\n          action-in-progress=\"$ctrl.state.actionInProgress\"\\n          is-editor-dirty=\"$ctrl.state.isEditorDirty\"\\n        ></edge-job-form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(580);const r=n(1420);i.a.module(\"portainer.edge\").component(\"edgeJobView\",{templateUrl:r,controller:s.EdgeJobController})},function(e,t){var n=\"app/edge/views/edge-jobs/edgeJob/edgeJob.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Edge job details\">\\n    <a data-toggle=\"tooltip\" title-text=\"Refresh\" ui-sref=\"edge.jobs.job({id: $ctrl.edgeJob.Id, tab: $ctrl.state.activeTab})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"edge.jobs\">Edge jobs</a> &gt; {{ ::$ctrl.edgeJob.Name }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <uib-tabset active=\"$ctrl.state.activeTab\">\\n          <uib-tab index=\"0\" select=\"$ctrl.showEditor()\">\\n            <uib-tab-heading> <i class=\"fa fa-wrench\" aria-hidden=\"true\"></i> Configuration </uib-tab-heading>\\n\\n            <edge-job-form\\n              ng-if=\"$ctrl.edgeJob && $ctrl.state.showEditorTab\"\\n              model=\"$ctrl.edgeJob\"\\n              endpoints=\"endpoints\"\\n              groups=\"$ctrl.groups\"\\n              tags=\"$ctrl.tags\"\\n              form-action=\"$ctrl.update\"\\n              form-action-label=\"Update Edge job\"\\n              action-in-progress=\"$ctrl.state.actionInProgress\"\\n              is-editor-dirty=\"$ctrl.state.isEditorDirty\"\\n            ></edge-job-form>\\n          </uib-tab>\\n\\n          <uib-tab index=\"1\">\\n            <uib-tab-heading> <i class=\"fa fa-tasks\" aria-hidden=\"true\"></i> Results </uib-tab-heading>\\n\\n            <edge-job-results-datatable\\n              style=\"display: block; margin-top: 10px;\"\\n              ng-if=\"$ctrl.results\"\\n              title-text=\"Results\"\\n              title-icon=\"fa-tasks\"\\n              dataset=\"$ctrl.results\"\\n              table-key=\"edge-job-results\"\\n              order-by=\"Status\"\\n              reverse-order=\"true\"\\n              refresh-callback=\"$ctrl.refresh\"\\n              on-download-logs-click=\"($ctrl.downloadLogs)\"\\n              on-collect-logs-click=\"($ctrl.collectLogs)\"\\n              on-clear-logs-click=\"($ctrl.clearLogs)\"\\n            ></edge-job-results-datatable>\\n          </uib-tab>\\n        </uib-tabset>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(581);const r=n(1422);i.a.module(\"portainer.edge\").component(\"edgeJobsView\",{templateUrl:r,controller:s.EdgeJobsViewController})},function(e,t){var n=\"app/edge/views/edge-jobs/edgeJobsView/edgeJobsView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Edge Jobs\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"edge.jobs\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Edge Jobs</rd-header-content>\\n</rd-header>\\n\\n<beta-panel></beta-panel>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <edge-jobs-datatable\\n      title-text=\"Edge jobs\"\\n      title-icon=\"fa-clock\"\\n      dataset=\"$ctrl.edgeJobs\"\\n      table-key=\"edgeJobs\"\\n      order-by=\"Name\"\\n      remove-action=\"$ctrl.removeAction\"\\n    ></edge-jobs-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(582);const r=n(1424);i.a.module(\"portainer.edge\").component(\"edgeStacksView\",{templateUrl:r,controller:s.EdgeStacksViewController})},function(e,t){var n=\"app/edge/views/edge-stacks/edgeStacksView/edgeStacksView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Edge Stacks list\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"edge.stacks\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Edge Stacks</rd-header-content>\\n</rd-header>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <edge-stacks-datatable\\n      title-text=\"Edge Stacks\"\\n      title-icon=\"fa-th-list\"\\n      dataset=\"$ctrl.stacks\"\\n      table-key=\"edgeStacks\"\\n      order-by=\"Name\"\\n      remove-action=\"$ctrl.removeAction\"\\n      refresh-callback=\"$ctrl.getStacks\"\\n    ></edge-stacks-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(583);const r=n(1426);i.a.module(\"portainer.edge\").component(\"editEdgeStackView\",{templateUrl:r,controller:s.EditEdgeStackViewController})},function(e,t){var n=\"app/edge/views/edge-stacks/editEdgeStackView/editEdgeStackView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Edit Edge stack\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"edge.stacks.edit({stackId:$ctrl.stack.Id, tab: $ctrl.state.activeTab})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"edge.stacks\">Edge Stacks</a> &gt; {{ $ctrl.stack.Name }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"$ctrl.stack\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body classes=\"no-padding\">\\n        <uib-tabset active=\"$ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n          <uib-tab index=\"0\" classes=\"btn-sm\">\\n            <uib-tab-heading> <i class=\"fa fa-layer-group space-right\" aria-hidden=\"true\"></i> Stack</uib-tab-heading>\\n\\n            <div style=\"padding: 20px;\">\\n              <edit-edge-stack-form\\n                edge-groups=\"$ctrl.edgeGroups\"\\n                model=\"$ctrl.formValues\"\\n                action-in-progress=\"$ctrl.state.actionInProgress\"\\n                submit-action=\"$ctrl.deployStack\"\\n                is-editor-dirty=\"$ctrl.state.isEditorDirty\"\\n              ></edit-edge-stack-form>\\n            </div>\\n          </uib-tab>\\n          <uib-tab index=\"1\" classes=\"btn-sm\">\\n            <uib-tab-heading> <i class=\"fa fa-plug space-right\" aria-hidden=\"true\"></i> Environments</uib-tab-heading>\\n\\n            <div style=\"margin-top: 25px;\">\\n              <edge-stack-endpoints-datatable\\n                title-text=\"Environments Status\"\\n                dataset=\"$ctrl.endpoints\"\\n                title-icon=\"fa-plug\"\\n                table-key=\"edgeStackEndpoints\"\\n                order-by=\"Name\"\\n                retrieve-page=\"$ctrl.getPaginatedEndpoints\"\\n              >\\n              </edge-stack-endpoints-datatable>\\n            </div>\\n          </uib-tab>\\n        </uib-tabset>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.integrations\",[\"portainer.integrations.storidge\"])},function(e,t,n){const a=n(1429),i=n(1430),s=n(1431),r=n(1432),o=n(1433),l=n(1434),c=n(1435),d=n(1436),u=n(1437);angular.module(\"portainer.integrations.storidge\",[]).config([\"$stateRegistryProvider\",function(e){\"use strict\";var t={name:\"storidge.profiles\",url:\"/profiles\",views:{\"content@\":{templateUrl:a,controller:\"StoridgeProfilesController\"}}},n={name:\"storidge.profiles.profile\",url:\"/:id\",views:{\"content@\":{templateUrl:i,controller:\"StoridgeProfileController\"}}},p={name:\"storidge.drives\",url:\"/drives\",views:{\"content@\":{templateUrl:s,controller:\"StoridgeDrivesController\"}}},m={name:\"storidge.drives.drive\",url:\"/:id\",views:{\"content@\":{templateUrl:r,controller:\"StoridgeDriveController\"}}},g={name:\"docker.volumes.volume.snapshot\",url:\"/:snapshotId\",views:{\"content@\":{templateUrl:o,controller:\"StoridgeSnapshotController\"}}},h={name:\"storidge.profiles.new\",url:\"/new\",params:{profileName:\"\"},views:{\"content@\":{templateUrl:l,controller:\"StoridgeCreateProfileController\"}}},f={name:\"storidge.cluster\",url:\"/cluster\",views:{\"content@\":{templateUrl:c,controller:\"StoridgeClusterController\"}}},v={name:\"storidge.cluster.node\",url:\"/:name\",views:{\"content@\":{templateUrl:d,controller:\"StoridgeNodeController\"}}},b={name:\"storidge.monitor\",url:\"/events\",views:{\"content@\":{templateUrl:u,controller:\"StoridgeMonitorController\"}}};e.register({name:\"storidge\",parent:\"root\",abstract:!0,url:\"/storidge\"}),e.register(p),e.register(m),e.register(g),e.register(t),e.register(n),e.register(h),e.register(f),e.register(v),e.register(b)}])},function(e,t){var n=\"app/integrations/storidge/views/profiles/profiles.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Storidge profiles\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"storidge.profiles\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"storidge.cluster\">Storidge</a> &gt; <a ui-sref=\"storidge.profiles\">Profiles</a> </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-md-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-plus\" title-text=\"Add a profile\"> </rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"formValues.Name\" id=\"profile_name\" placeholder=\"e.g. myProfile\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          \\x3c!-- tag-note --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <span class=\"small text-muted\">Note: The profile will be created using the default properties.</span>\\n            </div>\\n          </div>\\n          \\x3c!-- !tag-note --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-click=\"create()\"\\n                ng-disabled=\"state.actionInProgress || !formValues.Name\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Create the profile</span>\\n                <span ng-show=\"state.actionInProgress\">Creating profile...</span>\\n              </button>\\n              <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-disabled=\"!formValues.Name\" ui-sref=\"storidge.profiles.new({ profileName: formValues.Name })\"\\n                >Modify defaults...</button\\n              >\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <storidge-profiles-datatable\\n      title-text=\"Profiles\"\\n      title-icon=\"fa-sticky-note\"\\n      dataset=\"profiles\"\\n      table-key=\"storidge_profiles\"\\n      order-by=\"Name\"\\n      remove-action=\"removeAction\"\\n    ></storidge-profiles-datatable>\\n  </div>\\n</div>\\n\\n\\x3c!-- <div class=\"row\">\\n  <div class=\"col-md-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-sticky-note\" title-text=\"Profiles\">\\n        <div class=\"pull-right\">\\n          Items per page:\\n          <select ng-model=\"state.pagination_count\" ng-change=\"changePaginationCount()\">\\n            <option value=\"0\">All</option>\\n            <option value=\"10\">10</option>\\n            <option value=\"25\">25</option>\\n            <option value=\"50\">50</option>\\n            <option value=\"100\">100</option>\\n          </select>\\n        </div>\\n      </rd-widget-header>\\n      <rd-widget-taskbar classes=\"col-md-12\">\\n        <div class=\"pull-left\">\\n          <button type=\"button\" class=\"btn btn-danger\" ng-click=\"removeProfiles()\" ng-disabled=\"!state.selectedItemCount\"><i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove</button>\\n        </div>\\n        <div class=\"pull-right\">\\n          <input type=\"text\" id=\"filter\" ng-model=\"state.filter\" placeholder=\"Filter...\" class=\"form-control input-sm\" />\\n        </div>\\n      </rd-widget-taskbar>\\n      <rd-widget-body classes=\"no-padding\">\\n        <div class=\"table-responsive\">\\n          <table class=\"table table-hover\">\\n            <thead>\\n              <tr>\\n                <th>\\n                  <input type=\"checkbox\" ng-model=\"allSelected\" ng-change=\"selectItems(allSelected)\" />\\n                </th>\\n                <th>\\n                  <a ng-click=\"order(\\'Name\\')\">\\n                    Name\\n                    <span ng-show=\"sortType == \\'Name\\' && !sortReverse\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                    <span ng-show=\"sortType == \\'Name\\' && sortReverse\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n                  </a>\\n                </th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr dir-paginate=\"profile in (state.filteredProfiles = (profiles | filter:state.filter | orderBy:sortType:sortReverse | itemsPerPage: state.pagination_count))\">\\n                <td><input type=\"checkbox\" ng-model=\"profile.Checked\" ng-change=\"selectItem(profile)\" /></td>\\n                <td>\\n                  <a ui-sref=\"storidge.profiles.profile({id: profile.Name})\">{{ profile.Name }}</a>\\n                </td>\\n              </tr>\\n              <tr ng-if=\"!profiles\">\\n                <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n              </tr>\\n              <tr ng-if=\"state.filteredProfiles.length == 0\">\\n                <td colspan=\"3\" class=\"text-center text-muted\">No profiles available.</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n          <div ng-if=\"profiles\" class=\"pull-left pagination-controls\">\\n            <dir-pagination-controls></dir-pagination-controls>\\n          </div>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div> --\\x3e\\n')}]),e.exports=n},function(e,t){var n=\"app/integrations/storidge/views/profiles/edit/profile.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Profile details\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"storidge.cluster\">Storidge</a> &gt; <a ui-sref=\"storidge.profiles\">Profiles</a> &gt; {{ profile.Name }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"profile\">\\n  <div class=\"col-md-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"storidgeUpdateProfileForm\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_name\" class=\"col-sm-2 col-lg-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"profile.Name\" name=\"profile_name\" disabled />\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Profile configuration\\n          </div>\\n          \\x3c!-- directory --\\x3e\\n          <div class=\"form-group\" ng-class=\"{ \\'has-error\\': storidgeUpdateProfileForm.profile_directory.$invalid }\">\\n            <label for=\"profile_directory\" class=\"col-sm-2 col-lg-1 control-label text-left\">Directory</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"profile.Directory\" name=\"profile_directory\" placeholder=\"e.g. /cio/myProfile\" required />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"storidgeUpdateProfileForm.profile_directory.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"storidgeUpdateProfileForm.profile_directory.$error\">\\n                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !directory --\\x3e\\n          \\x3c!-- capacity --\\x3e\\n          <div class=\"form-group\" ng-class=\"{ \\'has-error\\': storidgeUpdateProfileForm.profile_capacity.$invalid }\">\\n            <label for=\"profile_capacity\" class=\"col-sm-2 col-lg-1 control-label text-left\">Capacity</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <input type=\"number\" class=\"form-control\" ng-model=\"profile.Capacity\" name=\"profile_capacity\" ng-min=\"1\" ng-max=\"64000\" placeholder=\"2\" required />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"storidgeUpdateProfileForm.profile_capacity.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"storidgeUpdateProfileForm.profile_capacity.$error\">\\n                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum value for capacity: 1.</p>\\n                <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum value for capacity: 64000.</p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !capacity --\\x3e\\n          \\x3c!-- redundancy --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_redundancy\" class=\"col-sm-2 col-lg-1 control-label text-left\">Redundancy</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select name=\"profile_redundancy\" ng-model=\"profile.Redundancy\" ng-options=\"+(opt.value) as opt.label for opt in RedundancyOptions\" class=\"form-control\"> </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !redudancy --\\x3e\\n          \\x3c!-- provisioning --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_provisioning\" class=\"col-sm-2 col-lg-1 control-label text-left\">Provisioning</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select name=\"profile_provisioning\" ng-model=\"profile.Provisioning\" class=\"form-control\">\\n                <option value=\"thin\">Thin</option>\\n                <option value=\"thick\">Thick</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !provisioning --\\x3e\\n          \\x3c!-- type --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_type\" class=\"col-sm-2 col-lg-1 control-label text-left\">Type</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select name=\"profile_type\" ng-model=\"profile.Type\" class=\"form-control\">\\n                <option value=\"ssd\">SSD</option>\\n                <option value=\"hdd\">HDD</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !type --\\x3e\\n          \\x3c!-- Filesystem --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_filesystem\" class=\"col-sm-2 col-lg-1 control-label text-left\">Filesystem</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select name=\"profile_filesystem\" ng-model=\"profile.Filesystem\" class=\"form-control\">\\n                <option value=\"btrfs\">btrfs</option>\\n                <option value=\"ext4\">ext4</option>\\n                <option value=\"xfs\">xfs</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !Filesystem --\\x3e\\n          \\x3c!-- snapshotEnabled --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_snapshotEnabled\" class=\"col-sm-2 col-lg-1 control-label text-left\">\\n              Enable snapshots\\n            </label>\\n            <label class=\"switch\" style=\"margin-left: 20px;\"> <input name=\"profile_snapshotEnabled\" type=\"checkbox\" ng-model=\"profile.SnapshotEnabled\" /><i></i> </label>\\n          </div>\\n          \\x3c!-- !snapshotEnabled --\\x3e\\n          \\x3c!-- snapshotMax --\\x3e\\n          <div class=\"form-group\" ng-if=\"profile.SnapshotEnabled\">\\n            <label for=\"profile_snapshotMax\" class=\"col-sm-2 col-lg-1 control-label text-left\" style=\"margin-top: 20px;\">\\n              Snapshot max\\n            </label>\\n            <div class=\"col-sm-4\">\\n              <slider model=\"profile.SnapshotMax\" floor=\"1\" ceil=\"100\" step=\"1\"></slider>\\n            </div>\\n            <div class=\"col-sm-2\">\\n              <input type=\"number\" min=\"1\" class=\"form-control\" ng-model=\"profile.SnapshotMax\" id=\"profile_snapshotMax\" />\\n            </div>\\n            <div class=\"col-sm-4\">\\n              <p class=\"small text-muted\" style=\"margin-top: 7px;\">\\n                Snapshot max (<b>count</b>)\\n              </p>\\n            </div>\\n          </div>\\n          \\x3c!-- !snapshotMax --\\x3e\\n          \\x3c!-- snapshotEnabled --\\x3e\\n          <div class=\"form-group\" ng-if=\"profile.SnapshotEnabled\">\\n            <label for=\"profile_recurringSnapshotEnabled\" class=\"col-sm-2 col-lg-1 control-label text-left\">\\n              Enable periodic snapshots\\n            </label>\\n            <label class=\"switch\" style=\"margin-left: 20px;\">\\n              <input name=\"profile_recurringSnapshotEnabled\" type=\"checkbox\" ng-model=\"state.RecurringSnapshotEnabled\" /><i></i>\\n            </label>\\n          </div>\\n          \\x3c!-- !snapshotEnabled --\\x3e\\n          \\x3c!-- snapshotInterval --\\x3e\\n          <div class=\"form-group\" ng-if=\"profile.SnapshotEnabled && state.RecurringSnapshotEnabled\">\\n            <label for=\"profile_snapshotInterval\" class=\"col-sm-2 col-lg-1 control-label text-left\" style=\"margin-top: 20px;\">\\n              Snapshot interval\\n            </label>\\n            <div class=\"col-sm-4\">\\n              <slider model=\"profile.SnapshotInterval\" floor=\"1\" ceil=\"2880\" step=\"1\"></slider>\\n            </div>\\n            <div class=\"col-sm-2\">\\n              <input type=\"number\" min=\"1\" class=\"form-control\" ng-model=\"profile.SnapshotInterval\" id=\"profile_snapshotInterval\" />\\n            </div>\\n            <div class=\"col-sm-4\">\\n              <p class=\"small text-muted\" style=\"margin-top: 7px;\">\\n                Snapshot interval (<b>minutes</b>)\\n              </p>\\n            </div>\\n          </div>\\n          \\x3c!-- !snapshotInterval --\\x3e\\n          \\x3c!-- encryptionEnabled --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_encryptionEnabled\" class=\"col-sm-2 col-lg-1 control-label text-left\">\\n              Enable encryption\\n            </label>\\n            <label class=\"switch\" style=\"margin-left: 20px;\"> <input name=\"profile_encryptionEnabled\" type=\"checkbox\" ng-model=\"profile.EncryptionEnabled\" /><i></i> </label>\\n          </div>\\n          \\x3c!-- !encryptionEnabled --\\x3e\\n          \\x3c!-- interfaceType --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_interfaceType\" class=\"col-sm-2 col-lg-1 control-label text-left\">Interface type</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select name=\"profile_interfaceType\" ng-model=\"profile.InterfaceType\" class=\"form-control\">\\n                <option value=\"\"></option>\\n                <option value=\"nfs\">nfs</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !interfaceType --\\x3e\\n          \\x3c!-- interfaceDriver --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_interfaceDriver\" class=\"col-sm-2 col-lg-1 control-label text-left\">Network driver</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select name=\"profile_interfaceDriver\" ng-model=\"profile.InterfaceDriver\" class=\"form-control\">\\n                <option value=\"\"></option>\\n                <option value=\"macvlan\">macvlan</option>\\n                <option value=\"overlay\">overlay</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !interfaceDriver --\\x3e\\n          \\x3c!-- interfaceNetwork --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_interfaceNetwork\" class=\"col-sm-2 col-lg-1 control-label text-left\">Network name</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"profile.InterfaceNetwork\" name=\"profile_interfaceNetwork\" pattern=\"[a-zA-Z0-9]+\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !interfaceNetwork --\\x3e\\n          \\x3c!-- interfaceConf --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_interfaceConf\" class=\"col-sm-2 col-lg-1 control-label text-left\">Interface conf</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"profile.InterfaceConf\" name=\"profile_interfaceConf\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !interfaceConf --\\x3e\\n          \\x3c!-- labels --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n              <label class=\"control-label text-left\">Labels</label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addLabel()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label </span>\\n            </div>\\n            \\x3c!-- labels-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n              <div ng-repeat=\"label in formValues.Labels\" style=\"margin-top: 2px;\">\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">name</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.name\" placeholder=\"e.g. com.example.foo\" />\\n                </div>\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">value</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                </div>\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel($index)\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !labels-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !labels --\\x3e\\n          \\x3c!-- iops --\\x3e\\n          <div ng-if=\"!state.LimitBandwidth || state.NoLimit\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              IOPS\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label for=\"permissions\" class=\"control-label text-left\">\\n                  Limit IOPS\\n                </label>\\n                <label class=\"switch\" style=\"margin-left: 20px;\">\\n                  <input type=\"checkbox\" ng-model=\"state.LimitIOPS\" ng-change=\"state.NoLimit = (!state.LimitBandwidth && !state.LimitIOPS)\" /><i></i>\\n                </label>\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"state.LimitIOPS\">\\n              <label for=\"min_iops\" class=\"col-sm-1 control-label text-left\">Min</label>\\n              <div class=\"col-sm-5\" ng-class=\"{ \\'has-error\\': storidgeUpdateProfileForm.min_iops.$invalid }\">\\n                <input type=\"number\" class=\"form-control\" ng-model=\"profile.MinIOPS\" name=\"min_iops\" ng-min=\"30\" ng-max=\"999999\" placeholder=\"100\" required />\\n              </div>\\n              <label for=\"max_iops\" class=\"col-sm-1 control-label text-left\">Max</label>\\n              <div class=\"col-sm-5\" ng-class=\"{ \\'has-error\\': storidgeUpdateProfileForm.max_iops.$invalid }\">\\n                <input type=\"number\" class=\"form-control\" ng-model=\"profile.MaxIOPS\" name=\"max_iops\" ng-min=\"30\" ng-max=\"999999\" placeholder=\"2000\" required />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"storidgeUpdateProfileForm.min_iops.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"storidgeUpdateProfileForm.min_iops.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A value is required for Min IOPS.</p>\\n                  <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum value for Min IOPS: 30.</p>\\n                  <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum value for Min IOPS: 999999.</p>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"storidgeUpdateProfileForm.max_iops.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"storidgeUpdateProfileForm.max_iops.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A value is required for Max IOPS.</p>\\n                  <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum value for Max IOPS: 30.</p>\\n                  <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum value for Max IOPS: 999999.</p>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !iops --\\x3e\\n          \\x3c!-- bandwidth --\\x3e\\n          <div ng-if=\"!state.LimitIOPS || state.NoLimit\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Bandwidth\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label for=\"permissions\" class=\"control-label text-left\">\\n                  Limit bandwidth\\n                </label>\\n                <label class=\"switch\" style=\"margin-left: 20px;\">\\n                  <input type=\"checkbox\" ng-model=\"state.LimitBandwidth\" ng-change=\"state.NoLimit = (!state.LimitBandwidth && !state.LimitIOPS)\" /><i></i>\\n                </label>\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"state.LimitBandwidth\">\\n              <label for=\"min_bandwidth\" class=\"col-sm-1 control-label text-left\">Min</label>\\n              <div class=\"col-sm-5\" ng-class=\"{ \\'has-error\\': storidgeUpdateProfileForm.min_bandwidth.$invalid }\">\\n                <input type=\"number\" class=\"form-control\" ng-model=\"profile.MinBandwidth\" name=\"min_bandwidth\" ng-min=\"1\" ng-max=\"5000\" placeholder=\"1\" required />\\n              </div>\\n              <label for=\"max_bandwidth\" class=\"col-sm-1 control-label text-left\">Max</label>\\n              <div class=\"col-sm-5\" ng-class=\"{ \\'has-error\\': storidgeUpdateProfileForm.max_bandwidth.$invalid }\">\\n                <input type=\"number\" class=\"form-control\" ng-model=\"profile.MaxBandwidth\" name=\"max_bandwidth\" ng-min=\"1\" ng-max=\"5000\" placeholder=\"100\" required />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"storidgeUpdateProfileForm.min_bandwidth.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"storidgeUpdateProfileForm.min_bandwidth.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A value is required for Min bandwidth.</p>\\n                  <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum value for Min bandwidth: 1.</p>\\n                  <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum value for Min bandwidth: 5000.</p>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"storidgeUpdateProfileForm.max_bandwidth.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"storidgeUpdateProfileForm.max_bandwidth.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A value is required for Max bandwidth.</p>\\n                  <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum value for Max bandwidth: 1.</p>\\n                  <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum value for Max bandwidth: 5000.</p>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !bandwidth --\\x3e\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-click=\"update()\"\\n                ng-disabled=\"state.updateInProgress || !storidgeUpdateProfileForm.$valid\"\\n                button-spinner=\"state.updateInProgress\"\\n              >\\n                <span ng-hide=\"state.updateInProgress\">Update the profile</span>\\n                <span ng-show=\"state.updateInProgress\">Updating profile...</span>\\n              </button>\\n              <button type=\"button\" class=\"btn btn-danger btn-sm\" ng-click=\"delete()\" ng-disabled=\"state.deleteInProgress\" button-spinner=\"state.deleteInProgress\">\\n                <span ng-hide=\"state.deleteInProgress\">Delete the profile</span>\\n                <span ng-show=\"state.deleteInProgress\">Deleting profile...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/integrations/storidge/views/drives/drives.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Storidge drives\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"storidge.drives\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"storidge.cluster\">Storidge</a> &gt; <a ui-sref=\"storidge.drives\">Drives</a> </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <storidge-drives-datatable\\n      title-text=\"Drives\"\\n      title-icon=\"fa-hdd\"\\n      dataset=\"drives\"\\n      table-key=\"storidge_drives\"\\n      order-by=\"Id\"\\n      rescan-action=\"rescanAction\"\\n      add-action=\"addAction\"\\n      action-in-progress=\"state.actionInProgress\"\\n      addition-in-progress=\"state.additionInProgress\"\\n    ></storidge-drives-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/integrations/storidge/views/drives/inspect/drive.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Drive details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"storidge.cluster\">Storidge</a> &gt; <a ui-sref=\"storidge.drives\">Drives</a> &gt; <a ui-sref=\"storidge.drives.drive({id: drive.Id})\">{{ drive.Id }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-hdd\" title-text=\"Drive details \"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>ID</td>\\n              <td>\\n                {{ drive.Id }}\\n                <button class=\"btn btn-xs btn-danger\" ng-click=\"removeDrive()\" ng-if=\"drive.Status === \\'faulty\\'\" button-spinner=\"actionInProgress\" ng-disabled=\"actionInProgress\">\\n                  <span ng-hide=\"actionInProgress\"><i class=\"fa fa-trash space-right\" aria-hidden=\"true\"></i>Remove from storage pool</span>\\n                  <span ng-show=\"actionInProgress\">Removal in progress...</span>\\n                </button>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Node</td>\\n              <td>{{ drive.Node }}</td>\\n            </tr>\\n            <tr>\\n              <td>Device</td>\\n              <td>{{ drive.Device }}</td>\\n            </tr>\\n            <tr>\\n              <td>Size</td>\\n              <td>{{ drive.Size }}</td>\\n            </tr>\\n            <tr>\\n              <td>Use</td>\\n              <td>{{ drive.Use }}</td>\\n            </tr>\\n            <tr>\\n              <td>Type</td>\\n              <td>{{ drive.Type }}</td>\\n            </tr>\\n            <tr>\\n              <td>Status</td>\\n              <td>\\n                <span class=\"label label-{{ drive.Status | drivestatusbadge }}\">{{ drive.Status | capitalize }}</span>\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/integrations/storidge/views/snapshots/inspect/snapshot.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Snasphot details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"docker.volumes\">Volumes</a> &gt; <a ui-sref=\"docker.volumes.volume({id: volumeId})\">{{ volumeId }}</a> &gt; Snapshots &gt;\\n    <a ui-sref=\"docker.volumes.volume.snapshot({id: snapshot.Id})\">{{ snapshot.Id }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-hdd\" title-text=\"Snapshot details \"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>ID</td>\\n              <td>\\n                {{ snapshot.Id }}\\n                <button class=\"btn btn-xs btn-danger\" ng-click=\"removeSnapshot()\"> <i class=\"fa fa-trash space-right\" aria-hidden=\"true\"></i>Remove snapshot </button>\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Date</td>\\n              <td>{{ snapshot.Date }}</td>\\n            </tr>\\n            <tr>\\n              <td>Description</td>\\n              <td>{{ snapshot.Description }}</td>\\n            </tr>\\n            <tr>\\n              <td>SourceID</td>\\n              <td>{{ snapshot.SourceID }}</td>\\n            </tr>\\n            <tr>\\n              <td>Type</td>\\n              <td>{{ snapshot.Type }}</td>\\n            </tr>\\n            <tr>\\n              <td>Directory</td>\\n              <td>{{ snapshot.Directory }}</td>\\n            </tr>\\n            <tr>\\n              <td>Source</td>\\n              <td>{{ snapshot.Source }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/integrations/storidge/views/profiles/create/createprofile.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create profile\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"storidge.cluster\">Storidge</a> &gt; <a ui-sref=\"storidge.profiles\">Profiles</a> &gt; Add profile </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-md-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"storidgeCreateProfileForm\">\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\" ng-class=\"{ \\'has-error\\': storidgeCreateProfileForm.profile_name.$invalid }\">\\n            <label for=\"profile_name\" class=\"col-sm-2 col-lg-1 control-label text-left\">Name</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"model.Name\" name=\"profile_name\" placeholder=\"e.g. myProfile\" ng-change=\"updatedName()\" required />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"storidgeCreateProfileForm.profile_name.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"storidgeCreateProfileForm.profile_name.$error\">\\n                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Profile configuration\\n          </div>\\n          \\x3c!-- directory --\\x3e\\n          <div class=\"form-group\" ng-class=\"{ \\'has-error\\': storidgeCreateProfileForm.profile_directory.$invalid }\">\\n            <label for=\"profile_directory\" class=\"col-sm-2 col-lg-1 control-label text-left\">Directory</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <input\\n                type=\"text\"\\n                class=\"form-control\"\\n                ng-model=\"model.Directory\"\\n                name=\"profile_directory\"\\n                placeholder=\"e.g. /cio/myProfile\"\\n                ng-change=\"updatedDirectory()\"\\n                required\\n              />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"storidgeCreateProfileForm.profile_directory.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"storidgeCreateProfileForm.profile_directory.$error\">\\n                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !directory --\\x3e\\n          \\x3c!-- capacity --\\x3e\\n          <div class=\"form-group\" ng-class=\"{ \\'has-error\\': storidgeCreateProfileForm.profile_capacity.$invalid }\">\\n            <label for=\"profile_capacity\" class=\"col-sm-2 col-lg-1 control-label text-left\">Capacity</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <input type=\"number\" class=\"form-control\" ng-model=\"model.Capacity\" name=\"profile_capacity\" ng-min=\"1\" ng-max=\"64000\" placeholder=\"2\" required />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"storidgeCreateProfileForm.profile_capacity.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"storidgeCreateProfileForm.profile_capacity.$error\">\\n                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum value for capacity: 1.</p>\\n                <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum value for capacity: 64000.</p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !capacity --\\x3e\\n          \\x3c!-- redundancy --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_redundancy\" class=\"col-sm-2 col-lg-1 control-label text-left\">Redundancy</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select name=\"profile_redundancy\" ng-model=\"model.Redundancy\" ng-options=\"+(opt.value) as opt.label for opt in RedundancyOptions\" class=\"form-control\"> </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !redudancy --\\x3e\\n          \\x3c!-- provisioning --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_provisioning\" class=\"col-sm-2 col-lg-1 control-label text-left\">Provisioning</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select name=\"profile_provisioning\" ng-model=\"model.Provisioning\" class=\"form-control\">\\n                <option value=\"thin\">Thin</option>\\n                <option value=\"thick\">Thick</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !provisioning --\\x3e\\n          \\x3c!-- type --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_type\" class=\"col-sm-2 col-lg-1 control-label text-left\">Type</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select name=\"profile_type\" ng-model=\"model.Type\" class=\"form-control\">\\n                <option value=\"ssd\">SSD</option>\\n                <option value=\"hdd\">HDD</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !type --\\x3e\\n          \\x3c!-- Filesystem --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_filesystem\" class=\"col-sm-2 col-lg-1 control-label text-left\">Filesystem</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select name=\"profile_filesystem\" ng-model=\"model.Filesystem\" class=\"form-control\">\\n                <option value=\"btrfs\">btrfs</option>\\n                <option value=\"ext4\">ext4</option>\\n                <option value=\"xfs\">xfs</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !Filesystem --\\x3e\\n          \\x3c!-- snapshotEnabled --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_snapshotEnabled\" class=\"col-sm-2 col-lg-1 control-label text-left\">\\n              Enable snapshots\\n            </label>\\n            <label class=\"switch\" style=\"margin-left: 20px;\"> <input name=\"profile_snapshotEnabled\" type=\"checkbox\" ng-model=\"model.SnapshotEnabled\" /><i></i> </label>\\n          </div>\\n          \\x3c!-- !snapshotEnabled --\\x3e\\n          \\x3c!-- snapshotMax --\\x3e\\n          <div class=\"form-group\" ng-if=\"model.SnapshotEnabled\">\\n            <label for=\"profile_snapshotMax\" class=\"col-sm-2 col-lg-1 control-label text-left\" style=\"margin-top: 20px;\">\\n              Snapshot max\\n            </label>\\n            <div class=\"col-sm-4\">\\n              <slider model=\"model.SnapshotMax\" floor=\"1\" ceil=\"100\" step=\"1\"></slider>\\n            </div>\\n            <div class=\"col-sm-2\">\\n              <input type=\"number\" min=\"1\" class=\"form-control\" ng-model=\"model.SnapshotMax\" id=\"profile_snapshotMax\" />\\n            </div>\\n            <div class=\"col-sm-4\">\\n              <p class=\"small text-muted\" style=\"margin-top: 7px;\">\\n                Snapshot max (<b>count</b>)\\n              </p>\\n            </div>\\n          </div>\\n          \\x3c!-- !snapshotMax --\\x3e\\n          \\x3c!-- snapshotEnabled --\\x3e\\n          <div class=\"form-group\" ng-if=\"model.SnapshotEnabled\">\\n            <label for=\"profile_recurringSnapshotEnabled\" class=\"col-sm-2 col-lg-1 control-label text-left\">\\n              Enable periodic snapshots\\n            </label>\\n            <label class=\"switch\" style=\"margin-left: 20px;\">\\n              <input name=\"profile_recurringSnapshotEnabled\" type=\"checkbox\" ng-model=\"state.RecurringSnapshotEnabled\" /><i></i>\\n            </label>\\n          </div>\\n          \\x3c!-- !snapshotEnabled --\\x3e\\n          \\x3c!-- snapshotInterval --\\x3e\\n          <div class=\"form-group\" ng-if=\"model.SnapshotEnabled && state.RecurringSnapshotEnabled\">\\n            <label for=\"profile_snapshotInterval\" class=\"col-sm-2 col-lg-1 control-label text-left\" style=\"margin-top: 20px;\">\\n              Snapshot interval\\n            </label>\\n            <div class=\"col-sm-4\">\\n              <slider model=\"model.SnapshotInterval\" floor=\"1\" ceil=\"2880\" step=\"1\"></slider>\\n            </div>\\n            <div class=\"col-sm-2\">\\n              <input type=\"number\" min=\"1\" class=\"form-control\" ng-model=\"model.SnapshotInterval\" id=\"profile_snapshotInterval\" />\\n            </div>\\n            <div class=\"col-sm-4\">\\n              <p class=\"small text-muted\" style=\"margin-top: 7px;\">\\n                Snapshot interval (<b>minutes</b>)\\n              </p>\\n            </div>\\n          </div>\\n          \\x3c!-- !snapshotInterval --\\x3e\\n          \\x3c!-- encryptionEnabled --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_encryptionEnabled\" class=\"col-sm-2 col-lg-1 control-label text-left\">\\n              Enable encryption\\n            </label>\\n            <label class=\"switch\" style=\"margin-left: 20px;\"> <input name=\"profile_encryptionEnabled\" type=\"checkbox\" ng-model=\"model.EncryptionEnabled\" /><i></i> </label>\\n          </div>\\n          \\x3c!-- !encryptionEnabled --\\x3e\\n          \\x3c!-- interfaceType --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_interfaceType\" class=\"col-sm-2 col-lg-1 control-label text-left\">Interface type</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select name=\"profile_interfaceType\" ng-model=\"model.InterfaceType\" class=\"form-control\">\\n                <option value=\"\"></option>\\n                <option value=\"nfs\">nfs</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !interfaceType --\\x3e\\n          \\x3c!-- interfaceDriver --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_interfaceDriver\" class=\"col-sm-2 col-lg-1 control-label text-left\">Network driver</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <select name=\"profile_interfaceDriver\" ng-model=\"model.InterfaceDriver\" class=\"form-control\">\\n                <option value=\"\"></option>\\n                <option value=\"macvlan\">macvlan</option>\\n                <option value=\"overlay\">overlay</option>\\n              </select>\\n            </div>\\n          </div>\\n          \\x3c!-- !interfaceDriver --\\x3e\\n          \\x3c!-- interfaceNetwork --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_interfaceNetwork\" class=\"col-sm-2 col-lg-1 control-label text-left\">Network name</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"model.InterfaceNetwork\" name=\"profile_interfaceNetwork\" pattern=\"[a-zA-Z0-9]+\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !interfaceNetwork --\\x3e\\n          \\x3c!-- interfaceConf --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"profile_interfaceConf\" class=\"col-sm-2 col-lg-1 control-label text-left\">Interface conf</label>\\n            <div class=\"col-sm-10 col-lg-11\">\\n              <input type=\"text\" class=\"form-control\" ng-model=\"model.InterfaceConf\" name=\"profile_interfaceConf\" />\\n            </div>\\n          </div>\\n          \\x3c!-- !interfaceConf --\\x3e\\n          \\x3c!-- labels --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n              <label class=\"control-label text-left\">Labels</label>\\n              <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"addLabel()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label </span>\\n            </div>\\n            \\x3c!-- labels-input-list --\\x3e\\n            <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n              <div ng-repeat=\"label in formValues.Labels\" style=\"margin-top: 2px;\">\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">name</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.name\" placeholder=\"e.g. com.example.foo\" />\\n                </div>\\n                <div class=\"input-group col-sm-5 input-group-sm\">\\n                  <span class=\"input-group-addon\">value</span>\\n                  <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n                </div>\\n                <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"removeLabel($index)\">\\n                  <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !labels-input-list --\\x3e\\n          </div>\\n          \\x3c!-- !labels --\\x3e\\n          \\x3c!-- iops --\\x3e\\n          <div ng-if=\"!state.LimitBandwidth || state.NoLimit\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              IOPS\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-md-1 col-sm-2\">\\n                <label for=\"permissions\" class=\"control-label text-left\">\\n                  Limit IOPS\\n                </label>\\n              </div>\\n              <label class=\"switch\" style=\"margin-left: 20px;\">\\n                <input type=\"checkbox\" ng-model=\"state.LimitIOPS\" ng-change=\"state.NoLimit = (!state.LimitBandwidth && !state.LimitIOPS)\" /><i></i>\\n              </label>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"state.LimitIOPS\">\\n              <label for=\"min_iops\" class=\"col-sm-1 control-label text-left\">Min</label>\\n              <div class=\"col-sm-5\" ng-class=\"{ \\'has-error\\': storidgeCreateProfileForm.min_iops.$invalid }\">\\n                <input type=\"number\" class=\"form-control\" ng-model=\"model.MinIOPS\" name=\"min_iops\" ng-min=\"30\" ng-max=\"999999\" placeholder=\"100\" required />\\n              </div>\\n              <label for=\"max_iops\" class=\"col-sm-1 control-label text-left\">Max</label>\\n              <div class=\"col-sm-5\" ng-class=\"{ \\'has-error\\': storidgeCreateProfileForm.max_iops.$invalid }\">\\n                <input type=\"number\" class=\"form-control\" ng-model=\"model.MaxIOPS\" name=\"max_iops\" ng-min=\"30\" ng-max=\"999999\" placeholder=\"2000\" required />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"storidgeCreateProfileForm.min_iops.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"storidgeCreateProfileForm.min_iops.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A value is required for Min IOPS.</p>\\n                  <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum value for Min IOPS: 30.</p>\\n                  <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum value for Min IOPS: 999999.</p>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"storidgeCreateProfileForm.max_iops.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"storidgeCreateProfileForm.max_iops.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A value is required for Max IOPS.</p>\\n                  <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum value for Max IOPS: 30.</p>\\n                  <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum value for Max IOPS: 999999.</p>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !iops --\\x3e\\n          \\x3c!-- bandwidth --\\x3e\\n          <div ng-if=\"!state.LimitIOPS || state.NoLimit\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Bandwidth\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-md-1 col-sm-2\">\\n                <label for=\"permissions\" class=\"control-label text-left\">\\n                  Limit bandwidth\\n                </label>\\n              </div>\\n              <label class=\"switch\" style=\"margin-left: 20px;\">\\n                <input type=\"checkbox\" ng-model=\"state.LimitBandwidth\" ng-change=\"state.NoLimit = (!state.LimitBandwidth && !state.LimitIOPS)\" /><i></i>\\n              </label>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"state.LimitBandwidth\">\\n              <label for=\"min_bandwidth\" class=\"col-sm-1 control-label text-left\">Min</label>\\n              <div class=\"col-sm-5\" ng-class=\"{ \\'has-error\\': storidgeCreateProfileForm.min_bandwidth.$invalid }\">\\n                <input type=\"number\" class=\"form-control\" ng-model=\"model.MinBandwidth\" name=\"min_bandwidth\" ng-min=\"1\" ng-max=\"5000\" placeholder=\"1\" required />\\n              </div>\\n              <label for=\"max_bandwidth\" class=\"col-sm-1 control-label text-left\">Max</label>\\n              <div class=\"col-sm-5\" ng-class=\"{ \\'has-error\\': storidgeCreateProfileForm.max_bandwidth.$invalid }\">\\n                <input type=\"number\" class=\"form-control\" ng-model=\"model.MaxBandwidth\" name=\"max_bandwidth\" ng-min=\"1\" ng-max=\"5000\" placeholder=\"100\" required />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"storidgeCreateProfileForm.min_bandwidth.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"storidgeCreateProfileForm.min_bandwidth.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A value is required for Min bandwidth.</p>\\n                  <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum value for Min bandwidth: 1.</p>\\n                  <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum value for Min bandwidth: 5000.</p>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"storidgeCreateProfileForm.max_bandwidth.$invalid\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"storidgeCreateProfileForm.max_bandwidth.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A value is required for Max bandwidth.</p>\\n                  <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum value for Max bandwidth: 1.</p>\\n                  <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum value for Max bandwidth: 5000.</p>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !bandwidth --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-click=\"create()\"\\n                ng-disabled=\"state.actionInProgress || !storidgeCreateProfileForm.$valid\"\\n                button-spinner=\"state.actionInProgress\"\\n              >\\n                <span ng-hide=\"state.actionInProgress\">Create the profile</span>\\n                <span ng-show=\"state.actionInProgress\">Creating profile...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/integrations/storidge/views/cluster/cluster.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Storidge cluster\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"storidge.cluster\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"storidge.cluster\">Storidge</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-bolt\" title-text=\"Cluster details\"></rd-widget-header>\\n      <rd-widget-body>\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Domain</td>\\n              <td>{{ clusterInfo.Domain }}</td>\\n            </tr>\\n            <tr>\\n              <td>Condition</td>\\n              <td\\n                ><i class=\"fa fa-heartbeat space-right {{ clusterInfo.Condition | storidgeClusterConditionBadge }}\"></i>\\n                {{ clusterInfo.Condition }}\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Version</td>\\n              <td>{{ clusterVersion }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n        <form class=\"form-horizontal\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button type=\"button\" class=\"btn btn-danger btn-sm\" ng-click=\"shutdownCluster()\" ng-disabled=\"state.shutdownInProgress\" button-spinner=\"state.shutdownInProgress\">\\n                <span ng-hide=\"state.shutdownInProgress\"><i class=\"fa fa-power-off space-right\" aria-hidden=\"true\"></i> Shutdown the cluster</span>\\n                <span ng-show=\"state.shutdownInProgress\">Shutting down cluster...</span>\\n              </button>\\n              <button type=\"button\" class=\"btn btn-danger btn-sm\" ng-click=\"rebootCluster()\" ng-disabled=\"state.rebootInProgress\" button-spinner=\"state.shutdownInProgress\">\\n                <span ng-hide=\"state.rebootInProgress\"><i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i> Reboot the cluster</span>\\n                <span ng-show=\"state.rebootInProgress\">Rebooting cluster...</span>\\n              </button>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <storidge-nodes-datatable title-text=\"Storage nodes\" title-icon=\"fa-object-group\" dataset=\"clusterNodes\" table-key=\"storidge_nodes\" order-by=\"Name\"></storidge-nodes-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/integrations/storidge/views/nodes/inspect/node.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Node details\"></rd-header-title>\\n  <rd-header-content>\\n    <a ui-sref=\"storidge.cluster\">Storidge</a> &gt; <a ui-sref=\"storidge.cluster.node({id: node.Name})\">{{ node.Name }}</a>\\n  </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-object-group\" title-text=\"Node details\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"(node.Status | lowercase) !== \\'normal\\'\" ng-click=\"removeNodeAction()\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove node\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ng-disabled=\"(node.Status | lowercase) !== \\'normal\\'\" ng-click=\"cordonNodeAction()\">\\n          <i class=\"fas fa-wrench space-right\" aria-hidden=\"true\"></i>Enter maintenance mode\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ng-disabled=\"(node.Status | lowercase) !== \\'cordoned\\'\" ng-click=\"uncordonNodeAction()\">\\n          <i class=\"fa fa-power-off space-right\" aria-hidden=\"true\"></i>Exit maintenance mode\\n        </button>\\n      </rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table description-table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>{{ node.Name }}</td>\\n            </tr>\\n            <tr>\\n              <td>Domain</td>\\n              <td>{{ node.Domain }}</td>\\n            </tr>\\n            <tr>\\n              <td>Domain ID</td>\\n              <td>{{ node.DomainID }}</td>\\n            </tr>\\n            <tr>\\n              <td>Node status</td>\\n              <td>\\n                <i class=\"fa fa-heartbeat space-right {{ node.Status | storidgeNodeStatusBadge }}\"></i>\\n                {{ node.Status }}\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Operating condition</td>\\n              <td>\\n                <i class=\"fa fa-heartbeat space-right {{ node.Condition | storidgeClusterConditionBadge }}\"></i>\\n                {{ node.Condition }}\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>Metadata version</td>\\n              <td>{{ node.MetadataVersion }}</td>\\n            </tr>\\n            <tr>\\n              <td>Nodes</td>\\n              <td>{{ node.Nodes }}</td>\\n            </tr>\\n            <tr>\\n              <td>HDDs</td>\\n              <td>{{ node.Hdds }}</td>\\n            </tr>\\n            <tr>\\n              <td>SSDs</td>\\n              <td>{{ node.Ssds }}</td>\\n            </tr>\\n            <tr>\\n              <td>VDisks</td>\\n              <td>{{ node.Vdisks }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-object-group\" title-text=\"Bandwidth details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table description-table\">\\n          <tbody>\\n            <tr>\\n              <td>Free</td>\\n              <td>{{ node.FreeBandwidth }}</td>\\n            </tr>\\n            <tr>\\n              <td>Used</td>\\n              <td>{{ node.UsedBandwidth }}</td>\\n            </tr>\\n            <tr>\\n              <td>Provisioned</td>\\n              <td>{{ node.ProvisionedBandwidth }}</td>\\n            </tr>\\n            <tr>\\n              <td>Total</td>\\n              <td>{{ node.TotalBandwidth }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-object-group\" title-text=\"Capacity details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table description-table\">\\n          <tbody>\\n            <tr>\\n              <td>Free</td>\\n              <td>{{ node.FreeCapacity | bytes }}</td>\\n            </tr>\\n            <tr>\\n              <td>Used</td>\\n              <td>{{ node.UsedCapacity | bytes }}</td>\\n            </tr>\\n            <tr>\\n              <td>Provisioned</td>\\n              <td>{{ node.ProvisionedCapacity | bytes }}</td>\\n            </tr>\\n            <tr>\\n              <td>Total</td>\\n              <td>{{ node.TotalCapacity | bytes }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-object-group\" title-text=\"IOPS details\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table description-table\">\\n          <tbody>\\n            <tr>\\n              <td>Free</td>\\n              <td>{{ node.FreeIOPS }}</td>\\n            </tr>\\n            <tr>\\n              <td>Used</td>\\n              <td>{{ node.UsedIOPS }}</td>\\n            </tr>\\n            <tr>\\n              <td>Provisioned</td>\\n              <td>{{ node.ProvisionedIOPS }}</td>\\n            </tr>\\n            <tr>\\n              <td>Total</td>\\n              <td>{{ node.TotalIOPS }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/integrations/storidge/views/monitor/monitor.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Storidge monitor\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"storidge.monitor\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"storidge.cluster\">Storidge</a> &gt; <a ui-sref=\"storidge.monitor\">Cluster monitoring</a> </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-md-4 col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-tachometer-alt\" title-text=\"Cluster capacity\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"chart-container\" style=\"position: relative;\">\\n          <canvas id=\"capacityChart\" width=\"770\" height=\"400\"></canvas>\\n        </div>\\n        <div style=\"margin-top: 10px;\" ng-if=\"info\">\\n          <table class=\"table\">\\n            <tbody>\\n              <tr>\\n                <td>Capacity available</td>\\n                <td>{{ ((info.FreeCapacity * 100) / info.TotalCapacity).toFixed(1) }}%</td>\\n              </tr>\\n              <tr>\\n                <td>Provisioned capacity</td>\\n                <td>\\n                  {{ info.ProvisionedCapacity | humansize }}\\n                  <span ng-if=\"+info.ProvisionedCapacity >= +info.TotalCapacity\">\\n                    <i class=\"fa fa-exclamation-triangle red-icon\" aria-hidden=\"true\" style=\"margin-left: 2px;\"></i>\\n                  </span>\\n                </td>\\n              </tr>\\n              <tr>\\n                <td>Total capacity</td>\\n                <td>{{ info.TotalCapacity | humansize }}</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n  <div class=\"col-md-4 col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-chart-area\" title-text=\"IOPS usage\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"chart-container\" style=\"position: relative;\">\\n          <canvas id=\"iopsChart\" width=\"770\" height=\"400\"></canvas>\\n        </div>\\n        <div style=\"margin-top: 10px;\" ng-if=\"info\">\\n          <table class=\"table\">\\n            <tbody>\\n              <tr>\\n                <td>IOPS available</td>\\n                <td>{{ ((info.FreeIOPS * 100) / info.TotalIOPS).toFixed(1) }}%</td>\\n              </tr>\\n              <tr>\\n                <td>Provisioned IOPS</td>\\n                <td>\\n                  {{ info.ProvisionedIOPS | number }}\\n                  <span ng-if=\"+info.ProvisionedIOPS >= +info.TotalIOPS\">\\n                    <i class=\"fa fa-exclamation-triangle red-icon\" aria-hidden=\"true\" style=\"margin-left: 2px;\"></i>\\n                  </span>\\n                </td>\\n              </tr>\\n              <tr>\\n                <td>Total IOPS</td>\\n                <td>{{ info.TotalIOPS | number }}</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n  <div class=\"col-md-4 col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-chart-area\" title-text=\"Bandwith usage\"></rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"chart-container\" style=\"position: relative;\">\\n          <canvas id=\"bandwithChart\" width=\"770\" height=\"400\"></canvas>\\n        </div>\\n        <div style=\"margin-top: 10px;\" ng-if=\"info\">\\n          <table class=\"table\">\\n            <tbody>\\n              <tr>\\n                <td>Bandwidth available</td>\\n                <td>{{ ((info.FreeBandwidth * 100) / info.TotalBandwidth).toFixed(1) }}%</td>\\n              </tr>\\n              <tr>\\n                <td>Provisioned bandwidth</td>\\n                <td>\\n                  {{ info.ProvisionedBandwidth | humansize }}\\n                  <span ng-if=\"+info.ProvisionedBandwidth >= +info.TotalBandwidth\">\\n                    <i class=\"fa fa-exclamation-triangle red-icon\" aria-hidden=\"true\" style=\"margin-left: 2px;\"></i>\\n                  </span>\\n                </td>\\n              </tr>\\n              <tr>\\n                <td>Total bandwidth</td>\\n                <td>{{ info.TotalBandwidth | humansize }} /s</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <storidge-cluster-events-datatable\\n      title-text=\"Cluster events\"\\n      title-icon=\"fa-history\"\\n      dataset=\"events\"\\n      table-key=\"storidge_cluster_events\"\\n      order-by=\"Time\"\\n      reverse-order=\"true\"\\n    ></storidge-cluster-events-datatable>\\n  </div>\\n</div>\\n\\n\\x3c!-- <div class=\"row\">\\n  <div class=\"col-md-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-history\" title-text=\"Cluster events\">\\n        <div class=\"pull-right\">\\n          Items per page:\\n          <select ng-model=\"state.pagination_count\" ng-change=\"changePaginationCount()\">\\n            <option value=\"0\">All</option>\\n            <option value=\"10\">10</option>\\n            <option value=\"25\">25</option>\\n            <option value=\"50\">50</option>\\n            <option value=\"100\">100</option>\\n          </select>\\n        </div>\\n      </rd-widget-header>\\n      <rd-widget-taskbar classes=\"col-lg-12\">\\n        <div class=\"pull-right\">\\n          <input type=\"text\" id=\"filter\" ng-model=\"state.filter\" placeholder=\"Filter...\" class=\"form-control input-sm\" />\\n        </div>\\n      </rd-widget-taskbar>\\n      <rd-widget-body classes=\"no-padding\">\\n        <div class=\"table-responsive\">\\n          <table class=\"table table-hover\">\\n            <thead>\\n              <tr>\\n                <th>\\n                  <a ng-click=\"order(\\'Time\\')\">\\n                    Date\\n                    <span ng-show=\"sortType == \\'Time\\' && !sortReverse\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                    <span ng-show=\"sortType == \\'Time\\' && sortReverse\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n                  </a>\\n                </th>\\n                <th>\\n                  <a ng-click=\"order(\\'Category\\')\">\\n                    Category\\n                    <span ng-show=\"sortType == \\'Category\\' && !sortReverse\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                    <span ng-show=\"sortType == \\'Category\\' && sortReverse\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n                  </a>\\n                </th>\\n                <th>\\n                  <a ng-click=\"order(\\'Module\\')\">\\n                    Module\\n                    <span ng-show=\"sortType == \\'Module\\' && !sortReverse\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                    <span ng-show=\"sortType == \\'Module\\' && sortReverse\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n                  </a>\\n                </th>\\n                <th>\\n                  <a ng-click=\"order(\\'Content\\')\">\\n                    Content\\n                    <span ng-show=\"sortType == \\'Content\\' && !sortReverse\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n                    <span ng-show=\"sortType == \\'Content\\' && sortReverse\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n                  </a>\\n                </th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr dir-paginate=\"event in (events | filter:state.filter | orderBy:sortType:sortReverse | itemsPerPage: state.pagination_count)\">\\n                <td>{{ event.Time }}</td>\\n                <td>{{ event.Category }}</td>\\n                <td>{{ event.Module }}</td>\\n                <td>{{ event.Content }}</td>\\n              </tr>\\n              <tr ng-if=\"!events\">\\n                <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n              </tr>\\n              <tr ng-if=\"events.length === 0\">\\n                <td colspan=\"4\" class=\"text-center text-muted\">No events available.</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n          <div ng-if=\"events\" class=\"pull-left pagination-controls\">\\n            <dir-pagination-controls></dir-pagination-controls>\\n          </div>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div> --\\x3e\\n')}]),e.exports=n},function(e,t,n){const a=n(1439);angular.module(\"portainer.integrations.storidge\").component(\"storidgeClusterEventsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}})},function(e,t){var n=\"app/integrations/storidge/components/cluster-events-datatable/storidgeClusterEventsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Time\\')\">\\n                  Date\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Time\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Time\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Category\\')\">\\n                  Category\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Category\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Category\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Module\\')\">\\n                  Module\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Module\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Module\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Content\\')\">\\n                  Content\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Content\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Content\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>{{ item.Time }}</td>\\n              <td>{{ item.Category }}</td>\\n              <td>{{ item.Module }}</td>\\n              <td>{{ item.Content }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">No events available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1441);angular.module(\"portainer.integrations.storidge\").component(\"storidgeDrivesDatatable\",{templateUrl:a,controller:\"StoridgeDrivesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",addAction:\"<\",rescanAction:\"<\",actionInProgress:\"<\",additionInProgress:\"<\"}})},function(e,t){var n=\"app/integrations/storidge/components/drives-datatable/storidgeDrivesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ng-click=\"$ctrl.rescanAction()\"> <i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i>Rescan drives </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Id\\')\">\\n                  Id\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Node\\')\">\\n                  Node\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Node\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Node\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Device\\')\">\\n                  Device\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Device\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Device\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Size\\')\">\\n                  Size\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Size\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Size\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Use\\')\">\\n                  Use\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Use\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Use\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n                  Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                Actions\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <a ui-sref=\"storidge.drives.drive({id: item.Id})\"> {{ item.Id }}</a>\\n              </td>\\n              <td>{{ item.Node }}</td>\\n              <td>{{ item.Device }}</td>\\n              <td>{{ item.Size }}</td>\\n              <td>{{ item.Use }}</td>\\n              <td>{{ item.Type }}</td>\\n              <td>\\n                <span class=\"label label-{{ item.Status | drivestatusbadge }}\">{{ item.Status | capitalize }}</span>\\n              </td>\\n              <td>\\n                <button\\n                  ng-if=\"item.Status === \\'available\\'\"\\n                  type=\"button\"\\n                  class=\"btn btn-sm btn-primary btn-datatable\"\\n                  ng-click=\"$ctrl.addAction(item, $index)\"\\n                  button-spinner=\"$ctrl.additionInProgress[$index]\"\\n                  ng-disabled=\"$ctrl.actionInProgress\"\\n                >\\n                  <span ng-hide=\"$ctrl.additionInProgress[$index]\"><i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add to storage pool</span>\\n                  <span ng-show=\"$ctrl.additionInProgress[$index]\">Addition in progress...</span>\\n                </button>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td class=\"text-center text-muted\">No drives available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"StoridgeDrivesDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.allowSelection=function(e){return\"normal\"!==e.Status},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1444);angular.module(\"portainer.integrations.storidge\").component(\"storidgeNodesDatatable\",{templateUrl:a,controller:\"StoridgeNodesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\"}})},function(e,t){var n=\"app/integrations/storidge/components/nodes-datatable/storidgeNodesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <div class=\"row\">\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ng-click=\"$ctrl.addNodeAction()\"> <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add node </button>\\n          <div style=\"margin-bottom: 0px;\">\\n            <span ng-if=\"$ctrl.addInfo\" class=\"text-muted small\">\\n              To add a node to this cluster, run the following command on your new node\\n              <code>\\n                {{ $ctrl.addInfo }}\\n              </code>\\n              <span class=\"btn btn-primary btn-sm space-left\" ng-click=\"$ctrl.copyAddNodeCommand()\"><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy</span>\\n              <span>\\n                <i id=\"copyNotification\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none;\"></i>\\n              </span>\\n            </span>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IP\\')\">\\n                  IP Address\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IP\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IP\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Role\\')\">\\n                  Role\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <a ui-sref=\"storidge.cluster.node({name: item.Name})\"> {{ item.Name }}</a>\\n              </td>\\n              <td>{{ item.IP }}</td>\\n              <td>{{ item.Role }}</td>\\n              <td>\\n                <i class=\"fa fa-heartbeat space-right {{ item.Status | storidgeNodeStatusBadge }}\"></i>\\n                {{ item.Status }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">No nodes available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){(function(e){angular.module(\"portainer.integrations.storidge\").controller(\"StoridgeNodesDatatableController\",[\"$scope\",\"$controller\",\"clipboard\",\"Notifications\",\"StoridgeNodeService\",\"DatatableService\",function(t,n,a,i,s,r){angular.extend(this,n(\"GenericDatatableController\",{$scope:t}));var o=this;this.addNodeAction=function(){s.add().then((function(e){o.addInfo=e.content})).catch((function(e){i.error(\"Failure\",e,'Unable to retrieve the \"add node\" command')}))},this.copyAddNodeCommand=function(){a.copyText(o.addInfo),e(\"#copyNotification\").show(),e(\"#copyNotification\").fadeOut(2e3)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=r.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=r.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=r.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=r.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}}])}).call(this,n(50))},function(e,t,n){const a=n(1447);angular.module(\"portainer.integrations.storidge\").component(\"storidgeProfileSelector\",{templateUrl:a,controller:\"StoridgeProfileSelectorController\",bindings:{storidgeProfile:\"=\"}})},function(e,t){var n=\"app/integrations/storidge/components/profileSelector/storidgeProfileSelector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group\">\\n  <label for=\"storidge_profile\" class=\"col-sm-2 col-lg-1 control-label text-left\">Profile</label>\\n  <div class=\"col-sm-10 col-lg-11\">\\n    <select id=\"storidge_profile\" ng-model=\"$ctrl.storidgeProfile\" ng-options=\"profile.Name for profile in $ctrl.profiles\" class=\"form-control\">\\n      <option selected disabled hidden value=\"\">Select a profile</option>\\n    </select>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.integrations.storidge\").controller(\"StoridgeProfileSelectorController\",[\"StoridgeProfileService\",\"Notifications\",function(e,t){var n=this;this.$onInit=function(){e.profiles().then((function(e){n.profiles=e})).catch((function(e){t.error(\"Failure\",e,\"Unable to retrieve Storidge profiles\")}))}}])},function(e,t,n){const a=n(1450);angular.module(\"portainer.integrations.storidge\").component(\"storidgeProfilesDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\"}})},function(e,t){var n=\"app/integrations/storidge/components/profiles-datatable/storidgeProfilesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"storidge.profiles.profile({id: item.Name})\">{{ item.Name }}</a>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td class=\"text-center text-muted\">No profile available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1452);angular.module(\"portainer.docker\").component(\"storidgeSnapshotCreation\",{templateUrl:a,controller:\"StoridgeSnapshotCreationController\",bindings:{volumeId:\"<\"}})},function(e,t){var n=\"app/integrations/storidge/components/snapshot-creation/storidgeSnapshotCreation.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-widget>\\n  <rd-widget-header icon=\"fa-plus\" title-text=\"Create snapshot\"> </rd-widget-header>\\n  <rd-widget-body>\\n    <form class=\"form-horizontal\">\\n      <div class=\"form-group\">\\n        <label for=\"description\" class=\"col-sm-3 col-lg-2 control-label text-left\">Description</label>\\n        <div class=\"col-sm-9 col-lg-10\">\\n          <input type=\"text\" class=\"form-control\" id=\"description\" ng-model=\"$ctrl.formValues.Description\" />\\n        </div>\\n      </div>\\n      <div class=\"form-group\">\\n        <div class=\"col-sm-12\">\\n          <button\\n            type=\"button\"\\n            class=\"btn btn-primary btn-sm\"\\n            ng-disabled=\"$ctrl.state.actionInProgress\"\\n            ng-click=\"$ctrl.createSnapshot()\"\\n            button-spinner=\"$ctrl.state.actionInProgress\"\\n          >\\n            <span ng-hide=\"$ctrl.state.actionInProgress\">Create snapshot</span>\\n            <span ng-show=\"$ctrl.state.actionInProgress\">Creating snapshot...</span>\\n          </button>\\n        </div>\\n      </div>\\n    </form>\\n  </rd-widget-body>\\n</rd-widget>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"StoridgeSnapshotCreationController\",[\"StoridgeSnapshotService\",\"Notifications\",\"$state\",function(e,t,n){var a=this;this.formValues={},this.state={actionInProgress:!1},this.createSnapshot=function(){a.state.actionInProgress=!0,e.create(a.volumeId,a.formValues.Description).then((function(){t.success(\"Success\",\"Snapshot successfully created\"),n.reload()})).catch((function(e){t.error(\"Failure\",e,\"Unable to create snapshot\")})).finally((function(){a.state.actionInProgress=!1}))}}])},function(e,t,n){const a=n(1455);angular.module(\"portainer.integrations.storidge\").component(\"storidgeSnapshotsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\"}})},function(e,t){var n=\"app/integrations/storidge/components/snapshots-datatable/storidgeSnapshotsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Id\\')\">\\n                  Id\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Id\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Date\\')\">\\n                  Date\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Date\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Date\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Description\\')\">\\n                  Description\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Description\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Description\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"item.Status === \\'normal\\'\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"docker.volumes.volume.snapshot({snapshotId: item.Id})\"> {{ item.Id }}</a>\\n              </td>\\n              <td>{{ item.Date }}</td>\\n              <td>{{ item.Description }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No snapshots available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1457);angular.module(\"portainer.docker\").component(\"volumeStoridgeInfo\",{templateUrl:a,controller:\"VolumeStoridgeInfoController\",bindings:{volume:\"<\"}})},function(e,t){var n=\"app/integrations/storidge/components/volume-storidge-info/volumeStoridgeInfo.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-widget>\\n  <rd-widget-header icon=\"fa-cube\" title-text=\"Storidge details\">\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12\">\\n        <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-click=\"$ctrl.updateVolume()\" ng-if=\"!$ctrl.state.updateInProgress\">\\n          <span>Update the volume</span>\\n        </button>\\n        <button type=\"button\" class=\"btn btn-primary btn-sm\" ng-click=\"$ctrl.confirmUpdate()\" ng-if=\"$ctrl.state.updateInProgress\" button-spinner=\"$ctrl.state.isUpdating\">\\n          <span ng-hide=\"$ctrl.state.isUpdating\">Confirm</span>\\n          <span ng-show=\"$ctrl.state.isUpdating\">Updating the volume...</span>\\n        </button>\\n        <button type=\"button\" class=\"btn btn-danger btn-sm\" ng-click=\"$ctrl.cancelUpdate()\" ng-if=\"$ctrl.state.updateInProgress\" ng-disabled=\"$ctrl.state.isUpdating\">\\n          <span>Cancel</span>\\n        </button>\\n      </div>\\n    </div>\\n  </rd-widget-header>\\n  <rd-widget-body classes=\"no-padding\" ng-if=\"!$ctrl.state.updateInProgress\">\\n    <table class=\"table\">\\n      <tbody>\\n        <tr>\\n          <td>Name</td>\\n          <td>{{ $ctrl.volume.Name }}</td>\\n        </tr>\\n        <tr>\\n          <td>UUID</td>\\n          <td>{{ $ctrl.volume.Uuid }}</td>\\n        </tr>\\n        <tr>\\n          <td>Node</td>\\n          <td>{{ $ctrl.volume.Node }}</td>\\n        </tr>\\n        <tr>\\n          <td>Node ID</td>\\n          <td>{{ $ctrl.volume.NodeID }}</td>\\n        </tr>\\n        <tr>\\n          <td>Directory</td>\\n          <td>{{ $ctrl.volume.Directory }}</td>\\n        </tr>\\n        <tr>\\n          <td>Capacity</td>\\n          <td>{{ $ctrl.volume.Capacity }}</td>\\n        </tr>\\n        <tr>\\n          <td>Allocated</td>\\n          <td>{{ $ctrl.volume.Allocated }}</td>\\n        </tr>\\n        <tr>\\n          <td>IOPS Min</td>\\n          <td>{{ $ctrl.volume.IOPSMin }}</td>\\n        </tr>\\n        <tr>\\n          <td>IOPS Max</td>\\n          <td>{{ $ctrl.volume.IOPSMax }}</td>\\n        </tr>\\n        <tr>\\n          <td>Bandwidth Min</td>\\n          <td>{{ $ctrl.volume.BandwidthMin }}</td>\\n        </tr>\\n        <tr>\\n          <td>Bandwidth Max</td>\\n          <td>{{ $ctrl.volume.BandwidthMax }}</td>\\n        </tr>\\n        <tr>\\n          <td>Local Drive Only</td>\\n          <td>{{ $ctrl.volume.LocalDriveOnly }}</td>\\n        </tr>\\n        <tr>\\n          <td>Provisioning</td>\\n          <td>{{ $ctrl.volume.Provisioning }}</td>\\n        </tr>\\n        <tr>\\n          <td>Redundancy</td>\\n          <td>{{ $ctrl.volume.Redundancy }}</td>\\n        </tr>\\n        <tr>\\n          <td>Vdisk</td>\\n          <td>{{ $ctrl.volume.Vdisk }}</td>\\n        </tr>\\n        <tr>\\n          <td>IP</td>\\n          <td>{{ $ctrl.volume.IP }}</td>\\n        </tr>\\n        <tr>\\n          <td>Drive Type</td>\\n          <td>{{ $ctrl.volume.DriveType }}</td>\\n        </tr>\\n        <tr>\\n          <td>Encryption</td>\\n          <td>{{ $ctrl.volume.Encryption }}</td>\\n        </tr>\\n        <tr>\\n          <td>Snapshot Enabled</td>\\n          <td>{{ $ctrl.volume.SnapshotEnabled }}</td>\\n        </tr>\\n        <tr>\\n          <td>Snapshot Interval</td>\\n          <td>{{ $ctrl.volume.SnapshotInterval }} minute(s)</td>\\n        </tr>\\n        <tr>\\n          <td>Max Snapshots</td>\\n          <td>{{ $ctrl.volume.SnapshotMax }}</td>\\n        </tr>\\n        <tr>\\n          <td>Filesystem</td>\\n          <td>{{ $ctrl.volume.Filesystem }}</td>\\n        </tr>\\n        <tr ng-if=\"$ctrl.volume.Labels\">\\n          <td>Labels</td>\\n          <td>\\n            <table class=\"table table-bordered table-condensed\">\\n              <tr ng-repeat=\"var in $ctrl.volume.Labels\">\\n                <td>{{ var|key: \\'=\\' }}</td>\\n                <td>{{ var|value: \\'=\\' }}</td>\\n              </tr>\\n            </table>\\n          </td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </rd-widget-body>\\n  <rd-widget-body ng-if=\"$ctrl.state.updateInProgress\">\\n    <form class=\"form-horizontal\" name=\"storidgeUpdateVolumeForm\">\\n      \\x3c!-- Node --\\x3e\\n      <div class=\"form-group\">\\n        <label for=\"volume_node\" class=\"col-sm-2 col-lg-1 control-label text-left\">Node</label>\\n        <div class=\"col-sm-10 col-lg-11\">\\n          <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.formValues.Node\" name=\"volume_node\" placeholder=\"2\" />\\n        </div>\\n      </div>\\n      \\x3c!-- !Node --\\x3e\\n      \\x3c!-- Capacity --\\x3e\\n      <div class=\"form-group\">\\n        <label for=\"volume_capacity\" class=\"col-sm-2 col-lg-1 control-label text-left\">Capacity</label>\\n        <div class=\"col-sm-10 col-lg-11\">\\n          <input type=\"text\" class=\"form-control\" ng-model=\"$ctrl.formValues.Capacity\" name=\"volume_capacity\" placeholder=\"2\" />\\n        </div>\\n      </div>\\n      \\x3c!-- !Capacity --\\x3e\\n      \\x3c!-- IOPS --\\x3e\\n      <div class=\"form-group\">\\n        <label for=\"min_iops\" class=\"col-sm-2 col-lg-1 control-label text-left\">Min IOPS</label>\\n        <div class=\"col-sm-10 col-lg-11\">\\n          <input type=\"number\" class=\"form-control\" ng-model=\"$ctrl.formValues.IOPSMin\" name=\"min_iops\" placeholder=\"100\" />\\n        </div>\\n      </div>\\n      <div class=\"form-group\">\\n        <label for=\"max_iops\" class=\"col-sm-2 col-lg-1 control-label text-left\">Max IOPS</label>\\n        <div class=\"col-sm-10 col-lg-11\">\\n          <input type=\"number\" class=\"form-control\" ng-model=\"$ctrl.formValues.IOPSMax\" name=\"max_iops\" placeholder=\"2000\" />\\n        </div>\\n      </div>\\n      \\x3c!-- !IOPS --\\x3e\\n      \\x3c!-- Bandwidth --\\x3e\\n      <div class=\"form-group\">\\n        <label for=\"min_bandwidth\" class=\"col-sm-2 col-lg-1 control-label text-left\">Min Bandwidth</label>\\n        <div class=\"col-sm-10 col-lg-11\">\\n          <input type=\"number\" class=\"form-control\" ng-model=\"$ctrl.formValues.BandwidthMin\" name=\"min_bandwidth\" placeholder=\"100\" />\\n        </div>\\n      </div>\\n      <div class=\"form-group\">\\n        <label for=\"max_bandwidth\" class=\"col-sm-2 col-lg-1 control-label text-left\">Max Bandwidth</label>\\n        <div class=\"col-sm-10 col-lg-11\">\\n          <input type=\"number\" class=\"form-control\" ng-model=\"$ctrl.formValues.BandwidthMax\" name=\"max_bandwidth\" placeholder=\"2000\" />\\n        </div>\\n      </div>\\n      \\x3c!-- !Bandwidth --\\x3e\\n      \\x3c!-- labels --\\x3e\\n      <div class=\"form-group\">\\n        <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n          <label class=\"control-label text-left\">Labels</label>\\n          <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"$ctrl.addLabel()\">\\n            <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label\\n          </span>\\n        </div>\\n        \\x3c!-- labels-input-list --\\x3e\\n        <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n          <div ng-repeat=\"label in $ctrl.formValues.Labels\" style=\"margin-top: 2px;\">\\n            <div class=\"input-group col-sm-5 input-group-sm\">\\n              <span class=\"input-group-addon\">name</span>\\n              <input type=\"text\" class=\"form-control\" ng-model=\"label.name\" placeholder=\"e.g. com.example.foo\" />\\n            </div>\\n            <div class=\"input-group col-sm-5 input-group-sm\">\\n              <span class=\"input-group-addon\">value</span>\\n              <input type=\"text\" class=\"form-control\" ng-model=\"label.value\" placeholder=\"e.g. bar\" />\\n            </div>\\n            <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.removeLabel($index)\">\\n              <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n            </button>\\n          </div>\\n        </div>\\n        \\x3c!-- !labels-input-list --\\x3e\\n      </div>\\n      \\x3c!-- !labels --\\x3e\\n    </form>\\n  </rd-widget-body>\\n</rd-widget>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.docker\").controller(\"VolumeStoridgeInfoController\",[\"$state\",\"StoridgeVolumeService\",\"Notifications\",function(e,t,n){var a=this;this.state={updateInProgress:!1,isUpdating:!1},this.addLabel=function(){this.formValues.Labels.push({name:\"\",value:\"\"})},this.removeLabel=function(e){this.formValues.Labels.splice(e,1)},this.initLabels=function(){var e=this.volume.Labels;e&&(this.formValues.Labels=Object.keys(e).map((function(t){return{name:t,value:e[t]}})))},this.updateVolume=function(){this.state.updateInProgress=!0,this.formValues={IOPSMin:this.volume.IOPSMin,IOPSMax:this.volume.IOPSMax,Node:this.volume.Node,Capacity:this.volume.Capacity,BandwidthMin:this.volume.BandwidthMin,BandwidthMax:this.volume.BandwidthMax,Labels:[]},this.initLabels()},this.cancelUpdate=function(){this.state.updateInProgress=!1,this.formValues={}},this.prepareLabels=function(e){var t={};this.formValues.Labels.forEach((function(e){e.name&&e.value&&(t[e.name]=e.value)})),e.Labels=t},this.prepareVolume=function(){var e=angular.copy(this.formValues),t=this.volume;return e.Node!==t.Node&&e.Node||delete e.Node,e.Capacity!==t.Capacity&&e.Capacity||delete e.Capacity,e.IOPSMin!==t.IOPSMin&&e.IOPSMin?e.IOPSMin=e.IOPSMin.toString():delete e.IOPSMin,e.IOPSMax!==t.IOPSMax&&e.IOPSMax?e.IOPSMax=e.IOPSMax.toString():delete e.IOPSMax,e.BandwidthMin!==t.BandwidthMin&&e.BandwidthMin||delete e.BandwidthMin,e.BandwidthMax!==t.BandwidthMax&&e.BandwidthMax||delete e.BandwidthMax,this.prepareLabels(e),e},this.confirmUpdate=function(){this.state.isUpdating=!0;var i=this.prepareVolume();i.Name=this.volume.Name,t.update(i).then((function(){n.success(\"Volume successfully updated\"),e.reload()})).catch((function(e){n.error(\"Failure\",e,\"Unable to update volume\"),a.state.isUpdating=!1}))}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(46);angular.module(\"portainer.integrations.storidge\").filter(\"drivestatusbadge\",(function(){return function(e){var t=e?Object(a.a)(e):\"\";return\"available\"===t?\"info\":\"faulty\"===t?\"danger\":\"success\"}})).filter(\"storidgeNodeStatusBadge\",(function(){return function(e){var t=e?Object(a.a)(e):\"\";return\"cordoned\"===t||\"maintenance\"===t?\"orange-icon\":\"leaving\"===t||\"failed\"===t?\"red-icon\":\"green-icon\"}})).filter(\"storidgeClusterConditionBadge\",(function(){return function(e){var t=e?Object(a.a)(e):\"\";return\"alert\"===t?\"red-icon\":\"warning\"===t?\"orange-icon\":\"green-icon\"}})).filter(\"bytes\",(function(){return function(e,t){if(e=parseFloat(e),isNaN(e)||!isFinite(e))return\"-\";t||(t=1);var n=Math.floor(Math.log(e)/Math.log(1024));return 0===e?\"0 B\":(e/Math.pow(1024,Math.floor(n))).toFixed(t)+\" \"+[\"B\",\"kB\",\"MB\",\"GB\",\"TB\",\"PB\"][n]}}))},function(e,t){angular.module(\"portainer.integrations.storidge\").factory(\"Storidge\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return e(t+\"/:endpointId/storidge/:resource/:id/:action\",{endpointId:n.endpointID},{rebootCluster:{method:\"POST\",params:{resource:\"clusters\",action:\"reboot\"}},shutdownCluster:{method:\"POST\",params:{resource:\"clusters\",action:\"shutdown\"}},queryEvents:{method:\"GET\",params:{resource:\"clusters\",action:\"events\"},ignoreLoadingBar:!0,isArray:!0},getVersion:{method:\"GET\",params:{resource:\"clusters\",action:\"version\"}},getInfo:{method:\"GET\",params:{resource:\"clusters\",action:\"info\"},ignoreLoadingBar:!0},queryNodes:{method:\"GET\",params:{resource:\"nodes\"}},getNode:{method:\"GET\",params:{resource:\"nodes\",id:\"@id\"}},addNode:{method:\"POST\",params:{resource:\"nodes\"}},removeNode:{method:\"DELETE\",params:{resource:\"nodes\",id:\"@id\"}},cordonNode:{method:\"POST\",params:{resource:\"nodes\",action:\"cordon\",id:\"@id\"}},uncordonNode:{method:\"POST\",params:{resource:\"nodes\",action:\"uncordon\",id:\"@id\"}},queryProfiles:{method:\"GET\",params:{resource:\"profiles\"}},getProfile:{method:\"GET\",params:{resource:\"profiles\"}},createProfile:{method:\"POST\",params:{resource:\"profiles\"}},updateProfile:{method:\"PUT\",params:{resource:\"profiles\",id:\"@name\"}},deleteProfile:{method:\"DELETE\",params:{resource:\"profiles\"}},queryDrives:{method:\"GET\",params:{resource:\"drives\"}},getDrive:{method:\"GET\",params:{resource:\"drives\",id:\"@id\"}},addDrive:{method:\"POST\",params:{resource:\"drives\"}},removeDrive:{method:\"DELETE\",params:{resource:\"drives\",id:\"@id\"}},rescanDrives:{method:\"POST\",params:{resource:\"drives\",action:\"rescan\"}},queryVolumes:{method:\"GET\",params:{resource:\"volumes\"}},createVolume:{method:\"POST\",params:{resource:\"volumes\"}},getVolume:{method:\"GET\",params:{resource:\"volumes\",id:\"@id\"}},updateVolume:{method:\"POST\",params:{resource:\"volumes\",id:\"@name\"}},removeVolume:{method:\"DELETE\",params:{resource:\"volumes\",id:\"@id\"}},querySnapshots:{method:\"GET\",params:{resource:\"volumes\",id:\"@id\",action:\"snapshots\"}},createSnapshot:{method:\"POST\",params:{resource:\"volumes\",id:\"@id\",action:\"snapshot\"}},getSnapshot:{method:\"GET\",params:{resource:\"snapshots\",id:\"@id\"}},removeSnapshot:{method:\"DELETE\",params:{resource:\"snapshots\",id:\"@id\"}}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(175),i=n.n(a),s=n(172),r=n.n(s);angular.module(\"portainer.integrations.storidge\").factory(\"StoridgeChartService\",[function(){var e={};function t(e){return e>5?r()(e,{base:10,round:1}):e.toFixed(1)+\"B/s\"}return e.CreateCapacityChart=function(e){return new i.a(e,{type:\"doughnut\",data:{datasets:[{data:[],backgroundColor:[\"rgba(171, 213, 255, 0.7)\",\"rgba(229, 57, 53, 0.7)\"]}],labels:[]},options:{tooltips:{callbacks:{label:function(e,t){var n=t.datasets[e.datasetIndex],a=t.labels[e.index],i=n.data[e.index];return a+\": \"+r()(i,{base:10,round:1})}}},animation:{duration:0},responsiveAnimationDuration:0,responsive:!0,hover:{animationDuration:0}}})},e.CreateIOPSChart=function(e){return new i.a(e,{type:\"line\",data:{labels:[],datasets:[{label:\"IOPS\",data:[],fill:!0,backgroundColor:\"rgba(151,187,205,0.4)\",borderColor:\"rgba(151,187,205,0.6)\",pointBackgroundColor:\"rgba(151,187,205,1)\",pointBorderColor:\"rgba(151,187,205,1)\",pointRadius:2,borderWidth:2}]},options:{animation:{duration:0},responsiveAnimationDuration:0,responsive:!0,tooltips:{mode:\"index\",intersect:!1,position:\"nearest\"},hover:{animationDuration:0},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})},e.CreateBandwidthChart=function(e){return new i.a(e,{type:\"line\",data:{labels:[],datasets:[{label:\"Bandwidth\",data:[],fill:!0,backgroundColor:\"rgba(151,187,205,0.4)\",borderColor:\"rgba(151,187,205,0.6)\",pointBackgroundColor:\"rgba(151,187,205,1)\",pointBorderColor:\"rgba(151,187,205,1)\",pointRadius:2,borderWidth:2}]},options:{animation:{duration:0},responsiveAnimationDuration:0,responsive:!0,tooltips:{mode:\"index\",intersect:!1,position:\"nearest\",callbacks:{label:function(e,t){return function(e,t){var n=0;n=t>5?r()(t,{base:10,round:1}):t.toFixed(1)+\"B\";return e+\": \"+n+\"/s\"}(t.datasets[e.datasetIndex].label,e.yLabel)}}},hover:{animationDuration:0},scales:{yAxes:[{ticks:{beginAtZero:!0,callback:t}}]}}})},e.UpdateChart=function(e,t,n){n.data.labels.push(e),n.data.datasets[0].data.push(t),n.data.datasets[0].data.length>600&&(n.data.labels.pop(),n.data.datasets[0].data.pop()),n.update(0)},e.UpdatePieChart=function(e,t,n){var a=n.data.labels.indexOf(e);a>-1?n.data.datasets[0].data[a]=t:(n.data.labels.push(e),n.data.datasets[0].data.push(t)),n.update(0)},e}])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";n.r(t);var a=n(585),i=n(584);angular.module(\"portainer.integrations.storidge\").factory(\"StoridgeClusterService\",[\"$q\",\"Storidge\",function(e,t){var n={reboot:function(){return t.rebootCluster().$promise},shutdown:function(){return t.shutdownCluster().$promise},info:function(){var n=e.defer();return t.getInfo().$promise.then((function(e){var t=new a.StoridgeInfoModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve Storidge information\",err:e})})),n.promise},version:function(){var n=e.defer();return t.getVersion().$promise.then((function(e){var t=e.version;n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve Storidge version\",err:e})})),n.promise},events:function(){var n=e.defer();return t.queryEvents().$promise.then((function(e){var t=e.map((function(e){return new i.StoridgeEventModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve Storidge events\",err:e})})),n.promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(385);angular.module(\"portainer.integrations.storidge\").factory(\"StoridgeDriveService\",[\"$q\",\"Storidge\",function(e,t){var n={drives:function(){var n=e.defer();return t.queryDrives().$promise.then((function(e){var t=e.drives.map((function(e){return new a.StoridgeDriveModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve Storidge drives\",err:e})})),n.promise},drive:function(n){var i=e.defer();return t.getDrive({id:n}).$promise.then((function(e){var n=new a.StoridgeDriveModel(e);t.getNode({id:e.nodeid}).$promise.then((function(e){n.Node=e.name,i.resolve(n)}))})).catch((function(e){i.reject({msg:\"Unable to retrieve Storidge drive\",err:e})})),i.promise},add:function(n,a){var i=e.defer();return t.addDrive({device:n,node:a}).$promise.then((function(){i.resolve()})).catch((function(e){i.reject({msg:\"Unable to add Storidge drive\",err:e})})),i.promise},remove:function(n){var a=e.defer();return t.removeDrive({id:n}).$promise.then((function(){a.resolve()})).catch((function(e){a.reject({msg:\"Unable to remove Storidge drive\",err:e})})),a.promise},rescan:function(){return t.rescanDrives().$promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(386);angular.module(\"portainer.integrations.storidge\").factory(\"StoridgeNodeService\",[\"$q\",\"Storidge\",function(e,t){var n={nodes:function(){var n=e.defer();return t.queryNodes().$promise.then((function(e){var t=e.nodes,i=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.push(new a.StoridgeNodeModel(s,t[s]));n.resolve(i)})).catch((function(e){n.reject({msg:\"Unable to retrieve Storidge nodes\",err:e})})),n.promise},node:function(n){var i=e.defer();return t.getNode({id:n}).$promise.then((function(e){var t=new a.StoridgeNodeDetailedModel(e.name,e.properties);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve Storidge node\",err:e})})),i.promise},add:function(){return t.addNode().$promise},cordon:function(e){return t.cordonNode({id:e}).$promise},uncordon:function(e){return t.uncordonNode({id:e}).$promise},remove:function(e){return t.removeNode({id:e}).$promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(152);angular.module(\"portainer.integrations.storidge\").factory(\"StoridgeProfileService\",[\"$q\",\"Storidge\",function(e,t){var n={create:function(e){var n=new a.StoridgeCreateProfileRequest(e);return t.createProfile(n).$promise},update:function(e){var n=new a.StoridgeCreateProfileRequest(e);return t.updateProfile(n).$promise},delete:function(e){return t.deleteProfile({id:e}).$promise},profile:function(n){var i=e.defer();return t.getProfile({id:n}).$promise.then((function(e){var t=new a.StoridgeProfileModel(n,e);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve Storidge profile details\",err:e})})),i.promise},profiles:function(){var n=e.defer();return t.queryProfiles().$promise.then((function(e){var t=e.profiles.map((function(e){return new a.StoridgeProfileListModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve Storidge profiles\",err:e})})),n.promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(387);angular.module(\"portainer.integrations.storidge\").factory(\"StoridgeSnapshotService\",[\"$q\",\"Storidge\",function(e,t){var n={};return n.snapshots=function(n){var i=e.defer();return t.querySnapshots({id:n}).$promise.then((function(e){var t=e.snapshots;let n=[];for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(t[e]);var s=n.map((function(e){return new a.StoridgeSnapshotModel(e)}));i.resolve(s)})).catch((function(e){i.reject({msg:\"Unable to retrieve Storidge snapshots\",err:e})})),i.promise},n.snapshot=function(n){var i=e.defer();return t.getSnapshot({id:n}).$promise.then((function(e){var t=new a.StoridgeSnapshotModel(e.snapshot);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve Storidge snapshot\",err:e})})),i.promise},n.create=function(n,a){var i=e.defer();return t.createSnapshot({id:n,opts:{description:a}}).$promise.then((function(e){i.resolve(e)})).catch((function(e){i.reject({msg:\"Unable to create Storidge volume snapshot\",err:e})})),i.promise},n.remove=function(n){var a=e.defer();return t.removeSnapshot({id:n}).$promise.then((function(){a.resolve()})).catch((function(e){a.reject({msg:\"Unable to remove Storidge volume snapshot\",err:e})})),a.promise},n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(388);angular.module(\"portainer.integrations.storidge\").factory(\"StoridgeVolumeService\",[\"$q\",\"Storidge\",function(e,t){var n={volume:function(n){var i=e.defer();return t.getVolume({id:n}).$promise.then((function(e){var t=new a.StoridgeVolumeModel(e);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve Storidge volume\",err:e})})),i.promise},update:function(n){var i=e.defer(),s=new a.StoridgeVolumeUpdateModel(n);return t.updateVolume(s).$promise.then((function(e){i.resolve(e)})).catch((function(e){i.reject({msg:\"Unable to update Storidge volume\",err:e})})),i.promise}};return n}])},function(e,t){angular.module(\"portainer.integrations.storidge\").controller(\"StoridgeClusterController\",[\"$q\",\"$scope\",\"$state\",\"Notifications\",\"StoridgeClusterService\",\"StoridgeNodeService\",\"ModalService\",function(e,t,n,a,i,s,r){t.state={shutdownInProgress:!1,rebootInProgress:!1},t.rebootCluster=function(){r.confirm({title:\"Are you sure?\",message:\"All the nodes in the cluster will reboot during the process. Do you want to reboot the Storidge cluster?\",buttons:{confirm:{label:\"Reboot\",className:\"btn-danger\"}},callback:function(e){e&&(t.state.rebootInProgress=!0,i.reboot().finally((function(){t.state.rebootInProgress=!1,a.success(\"Cluster successfully rebooted\"),n.reload()})))}})},t.shutdownCluster=function(){r.confirm({title:\"Are you sure?\",message:\"All the nodes in the cluster will shutdown. Do you want to shutdown the Storidge cluster?\",buttons:{confirm:{label:\"Shutdown\",className:\"btn-danger\"}},callback:function(e){e&&(t.state.shutdownInProgress=!0,i.shutdown().finally((function(){t.state.shutdownInProgress=!1,a.success(\"Cluster successfully shutdown\"),n.go(\"docker.dashboard\")})))}})},e.all({info:i.info(),version:i.version(),nodes:s.nodes()}).then((function(e){t.clusterInfo=e.info,t.clusterVersion=e.version,t.clusterNodes=e.nodes})).catch((function(e){a.error(\"Failure\",e,\"Unable to retrieve cluster information\")}))}])},function(e,t){angular.module(\"portainer.integrations.storidge\").controller(\"StoridgeDrivesController\",[\"$scope\",\"$state\",\"Notifications\",\"StoridgeDriveService\",function(e,t,n,a){e.state={additionInProgress:[],actionInProgress:!1},e.addAction=function(i,s){e.state.additionInProgress[s]=!0,e.state.actionInProgress=!0,a.add(i.Device,i.Node).then((function(){n.success(\"Drive \"+i.Device+\" successfully added on node \"+i.Node),t.reload()})).catch((function(e){n.error(\"Failure\",e,\"Unable to add drive\")})).finally((function(){e.state.additionInProgress[s]=!1,e.state.actionInProgress=!1}))},e.rescanAction=function(){a.rescan().then((function(){t.reload()})).catch((function(e){n.error(\"Failure\",e,\"Unable to scan drives\")}))},a.drives().then((function(t){e.drives=t})).catch((function(e){n.error(\"Failure\",e,\"Unable to retrieve drives\")}))}])},function(e,t){angular.module(\"portainer.integrations.storidge\").controller(\"StoridgeDriveController\",[\"$scope\",\"$state\",\"$transition$\",\"Notifications\",\"ModalService\",\"StoridgeDriveService\",function(e,t,n,a,i,s){e.actionInProgress=!1,e.removeDrive=function(){i.confirm({title:\"Are you sure?\",message:\"Do you want really want to remove this drive from the storage pool?\",buttons:{confirm:{label:\"Remove\",className:\"btn-danger\"}},callback:function(n){n&&(e.actionInProgress=!0,s.remove(e.drive.Id).then((function(){a.success(\"Success\",\"Drive removed from storage pool\"),t.go(\"storidge.drives\",{},{reload:!0})})).catch((function(e){a.error(\"Failure\",e,\"Unable to remove drive from storage pool\")})).finally((function(){e.actionInProgress=!1})))}})},e.id=n.params().id,s.drive(e.id).then((function(t){e.drive=t})).catch((function(e){a.error(\"Failure\",e,\"Unable to retrieve drive details\")}))}])},function(e,t,n){\"use strict\";n.r(t),function(e){var t=n(17),a=n.n(t);angular.module(\"portainer.integrations.storidge\").controller(\"StoridgeMonitorController\",[\"$q\",\"$scope\",\"$interval\",\"$document\",\"Notifications\",\"StoridgeClusterService\",\"StoridgeChartService\",function(t,n,i,s,r,o,l){function c(){var e=n.repeater;angular.isDefined(e)&&(i.cancel(e),e=null)}function d(e,t){var n=e.UsedIOPS,i=a()(new Date).format(\"HH:mm:ss\");l.UpdateChart(i,n,t)}function u(e,t){var n=e.UsedBandwidth,i=a()(new Date).format(\"HH:mm:ss\");l.UpdateChart(i,n,t)}function p(e,t){var n=e.UsedCapacity,a=e.FreeCapacity;l.UpdatePieChart(\"Free\",a,t),l.UpdatePieChart(\"Used\",n,t)}function m(e,a,s){t.all({events:o.events(),info:o.info()}).then((function(l){n.events=l.events;var m=l.info;n.info=m,d(m,e),u(m,a),p(m,s),function(e,a,s){n.repeater=i((function(){t.all({events:o.events(),info:o.info()}).then((function(t){n.events=t.events;var i=t.info;n.info=i,d(i,e),u(i,a),p(i,s)})).catch((function(e){c(),r.error(\"Failure\",e,\"Unable to retrieve cluster information\")}))}),5e3)}(e,a,s)})).catch((function(e){c(),r.error(\"Failure\",e,\"Unable to retrieve cluster information\")}))}n.$on(\"$destroy\",(function(){c()})),s.ready((function(){var t,n,a,i,s;t=e(\"#iopsChart\"),n=l.CreateIOPSChart(t),a=e(\"#bandwithChart\"),i=l.CreateBandwidthChart(a),s=e(\"#capacityChart\"),m(n,i,l.CreateCapacityChart(s))}))}])}.call(this,n(50))},function(e,t){angular.module(\"portainer.integrations.storidge\").controller(\"StoridgeNodeController\",[\"$scope\",\"$state\",\"$transition$\",\"Notifications\",\"StoridgeNodeService\",\"ModalService\",function(e,t,n,a,i,s){e.removeNodeAction=function(n){s.confirm({title:\"Are you sure?\",message:\"Do you want really want to remove the node from the cluster?\",buttons:{confirm:{label:\"Remove\",className:\"btn-danger\"}},callback:function(n){n&&i.remove(e.node.Name).then((function(){a.success(\"Node successfully removed\",e.node.Name),t.go(\"storidge.cluster\")})).catch((function(e){a.error(\"Failure\",e,\"Unable to remove node\")}))}})},e.cordonNodeAction=function(n){s.confirm({title:\"Are you sure?\",message:\"Do you want really want to put the node in maintenance mode?\",buttons:{confirm:{label:\"Enter maintenance\",className:\"btn-danger\"}},callback:function(n){n&&i.cordon(e.node.Name).then((function(){a.success(\"Node successfully put in maintenance\")})).catch((function(e){a.error(\"Failure\",e,\"Unable to put node in maintenance mode\")})).finally((function(){t.reload()}))}})},e.uncordonNodeAction=function(n){s.confirm({title:\"Are you sure?\",message:\"Do you want really want to bring the nodes out of maintenance mode?\",buttons:{confirm:{label:\"Exit maintenance\",className:\"btn-danger\"}},callback:function(n){n&&i.uncordon(e.node.Name).then((function(){a.success(\"Node successfully bringed back\")})).catch((function(e){a.error(\"Failure\",e,\"Unable to put node out of maintenance mode\")})).finally((function(){t.reload()}))}})},e.name=n.params().name,i.node(e.name).then((function(t){e.node=t})).catch((function(e){a.error(\"Failure\",e,\"Unable to retrieve node details\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(46),i=n(152);angular.module(\"portainer.integrations.storidge\").controller(\"StoridgeCreateProfileController\",[\"$scope\",\"$state\",\"$transition$\",\"Notifications\",\"StoridgeProfileService\",function(e,t,n,s,r){var o;e.formValues={Labels:[]},e.state={NoLimit:!0,LimitIOPS:!1,LimitBandwidth:!1,ManualInputDirectory:!1,actionInProgress:!1},e.RedundancyOptions=[{value:2,label:\"2-copy\"},{value:3,label:\"3-copy\"}],e.addLabel=function(){e.formValues.Labels.push({name:\"\",value:\"\"})},e.removeLabel=function(t){e.formValues.Labels.splice(t,1)},e.create=function(){var n=e.model;e.state.LimitIOPS||(delete n.MinIOPS,delete n.MaxIOPS),e.state.LimitBandwidth||(delete n.MinBandwidth,delete n.MaxBandwidth),n.SnapshotEnabled?((!n.SnapshotMax||n.SnapshotMax<=0)&&(n.SnapshotMax=1),e.state.RecurringSnapshotEnabled||delete n.SnapshotInterval,e.state.RecurringSnapshotEnabled&&(!n.SnapshotInterval||n.SnapshotInterval<=0)&&(n.SnapshotInterval=1440)):(delete n.SnapshotMax,delete n.SnapshotInterval),function(t){var n={};e.formValues.Labels.forEach((function(e){e.name&&e.value&&(n[e.name]=e.value)})),t.Labels=n}(n),e.state.actionInProgress=!0,r.create(n).then((function(){s.success(\"Profile successfully created\"),t.go(\"storidge.profiles\")})).catch((function(e){s.error(\"Failure\",e,\"Unable to create profile\")})).finally((function(){e.state.actionInProgress=!1}))},e.updatedName=function(){if(!e.state.ManualInputDirectory){var t=e.model;t.Directory=\"/cio/\"+(t.Name?Object(a.a)(t.Name):\"\")}},e.updatedDirectory=function(){e.state.ManualInputDirectory||(e.state.ManualInputDirectory=!0)},(o=new i.StoridgeProfileDefaultModel).Name=n.params().profileName,o.Directory=o.Directory+Object(a.a)(o.Name),e.model=o}])},function(e,t){angular.module(\"portainer.integrations.storidge\").controller(\"StoridgeProfileController\",[\"$scope\",\"$state\",\"$transition$\",\"Notifications\",\"StoridgeProfileService\",\"ModalService\",function(e,t,n,a,i,s){e.formValues={Labels:[]},e.state={NoLimit:!1,LimitIOPS:!1,LimitBandwidth:!1,updateInProgress:!1,deleteInProgress:!1,RecurringSnapshotEnabled:!1},e.addLabel=function(){e.formValues.Labels.push({name:\"\",value:\"\"})},e.removeLabel=function(t){e.formValues.Labels.splice(t,1)},e.RedundancyOptions=[{value:2,label:\"2-copy\"},{value:3,label:\"3-copy\"}],e.update=function(){var n=e.profile;e.state.LimitIOPS||(delete n.MinIOPS,delete n.MaxIOPS),e.state.LimitBandwidth||(delete n.MinBandwidth,delete n.MaxBandwidth),n.SnapshotEnabled?((!n.SnapshotMax||n.SnapshotMax<=0)&&(n.SnapshotMax=1),e.state.RecurringSnapshotEnabled||delete n.SnapshotInterval,e.state.RecurringSnapshotEnabled&&(!n.SnapshotInterval||n.SnapshotInterval<=0)&&(n.SnapshotInterval=1440)):(delete n.SnapshotMax,delete n.SnapshotInterval),function(t){var n={};e.formValues.Labels.forEach((function(e){e.name&&e.value&&(n[e.name]=e.value)})),t.Labels=n}(n),e.state.updateInProgress=!0,i.update(n).then((function(){a.success(\"Profile successfully updated\"),t.go(\"storidge.profiles\")})).catch((function(e){a.error(\"Failure\",e,\"Unable to update profile\")})).finally((function(){e.state.updateInProgress=!1}))},e.delete=function(){s.confirmDeletion(\"Do you want to remove this profile?\",(function(n){var s;n&&(s=e.profile,e.state.deleteInProgress=!0,i.delete(s.Name).then((function(){a.success(\"Profile successfully deleted\"),t.go(\"storidge.profiles\")})).catch((function(e){a.error(\"Failure\",e,\"Unable to delete profile\")})).finally((function(){e.state.deleteInProgress=!1})))}))},i.profile(n.params().id).then((function(t){var n,a=t;a.MinIOPS&&0!==a.MinIOPS||a.MaxIOPS&&0!==a.MaxIOPS?e.state.LimitIOPS=!0:a.MinBandwidth&&0!==a.MinBandwidth||a.MaxBandwidth&&0!==a.MaxBandwidth?e.state.LimitBandwidth=!0:e.state.NoLimit=!0,a.SnapshotEnabled&&0!==a.SnapshotInterval&&(e.state.RecurringSnapshotEnabled=!0),n=a.Labels,e.formValues.Labels=Object.keys(n).map((function(e){return{name:e,value:n[e]}})),e.profile=a})).catch((function(e){a.error(\"Failure\",e,\"Unable to retrieve profile details\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(46),i=n(152);angular.module(\"portainer.integrations.storidge\").controller(\"StoridgeProfilesController\",[\"$q\",\"$scope\",\"$state\",\"Notifications\",\"StoridgeProfileService\",function(e,t,n,s,r){t.state={actionInProgress:!1},t.formValues={Name:\"\"},t.removeAction=function(e){var a=e.length;angular.forEach(e,(function(e){r.delete(e.Name).then((function(){s.success(\"Profile successfully removed\",e.Name);var n=t.profiles.indexOf(e);t.profiles.splice(n,1)})).catch((function(e){s.error(\"Failure\",e,\"Unable to remove profile\")})).finally((function(){0===--a&&n.reload()}))}))},t.create=function(){var e=new i.StoridgeProfileDefaultModel;e.Labels={},e.Name=t.formValues.Name,e.Directory=e.Directory+Object(a.a)(e.Name),delete e.MinBandwidth,delete e.MaxBandwidth,delete e.MinIOPS,delete e.MaxIOPS,t.state.actionInProgress=!0,r.create(e).then((function(){s.success(\"Profile successfully created\"),n.reload()})).catch((function(e){s.error(\"Failure\",e,\"Unable to create profile\")})).finally((function(){t.state.actionInProgress=!1}))},r.profiles().then((function(e){t.profiles=e})).catch((function(e){s.error(\"Failure\",e,\"Unable to retrieve profiles\")}))}])},function(e,t){angular.module(\"portainer.integrations.storidge\").controller(\"StoridgeSnapshotController\",[\"$scope\",\"$state\",\"$transition$\",\"Notifications\",\"ModalService\",\"StoridgeSnapshotService\",function(e,t,n,a,i,s){e.removeSnapshot=function(){i.confirm({title:\"Are you sure?\",message:\"Do you want really want to remove this snapshot?\",buttons:{confirm:{label:\"Remove\",className:\"btn-danger\"}},callback:function(n){n&&s.remove(e.snapshot.Id).then((function(){a.success(\"Success\",\"Snapshot removed\"),t.go(\"portainer.volumes.volume\",{id:e.volumeId})})).catch((function(e){a.error(\"Failure\",e,\"Unable to remove snapshot\")}))}})},e.volumeId=n.params().id,e.snapshotId=n.params().snapshotId,s.snapshot(e.snapshotId).then((function(t){e.snapshot=t})).catch((function(e){a.error(\"Failure\",e,\"Unable to retrieve snapshot details\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(586),i=n(589);angular.module(\"portainer.kubernetes\",[\"portainer.app\",a.default,i.default]).config([\"$stateRegistryProvider\",function(e){const t={name:\"kubernetes\",url:\"/kubernetes\",parent:\"endpoint\",abstract:!0,onEnter:[\"$async\",\"$state\",\"endpoint\",\"EndpointProvider\",\"KubernetesHealthService\",\"KubernetesNamespaceService\",\"Notifications\",\"StateManager\",function(e,t,n,a,i,s,r,o){return e(async()=>{if([5,6,7].includes(n.Type))try{if(7===n.Type)try{await i.ping(n.Id),n.Status=1}catch(e){n.Status=2}if(a.setEndpointID(n.Id),await o.updateEndpointState(n,[]),7===n.Type&&2===n.Status)throw new Error(\"Unable to contact Edge agent, please ensure that the agent is properly running on the remote environment.\");await s.get()}catch(e){r.error(\"Failed loading environment\",e),t.go(\"portainer.home\",{},{reload:!0})}else t.go(\"portainer.home\")})}]};e.register(t),e.register({name:\"kubernetes.helm\",url:\"/helm/:namespace/:name\",views:{\"content@\":{component:\"kubernetesHelmApplicationView\"}}}),e.register({name:\"kubernetes.templates.helm\",url:\"/helm\",views:{\"content@\":{component:\"helmTemplatesView\"}}}),e.register({name:\"kubernetes.applications\",url:\"/applications\",views:{\"content@\":{component:\"kubernetesApplicationsView\"}}}),e.register({name:\"kubernetes.applications.new\",url:\"/new\",views:{\"content@\":{component:\"kubernetesCreateApplicationView\"}}}),e.register({name:\"kubernetes.applications.application\",url:\"/:namespace/:name\",views:{\"content@\":{component:\"kubernetesApplicationView\"}}}),e.register({name:\"kubernetes.applications.application.edit\",url:\"/edit\",views:{\"content@\":{component:\"kubernetesCreateApplicationView\"}}}),e.register({name:\"kubernetes.applications.application.console\",url:\"/:pod/:container/console\",views:{\"content@\":{component:\"kubernetesApplicationConsoleView\"}}}),e.register({name:\"kubernetes.applications.application.logs\",url:\"/:pod/:container/logs\",views:{\"content@\":{component:\"kubernetesApplicationLogsView\"}}}),e.register({name:\"kubernetes.applications.application.stats\",url:\"/:pod/:container/stats\",views:{\"content@\":{component:\"kubernetesApplicationStatsView\"}}}),e.register({name:\"kubernetes.stacks\",url:\"/stacks\",abstract:!0}),e.register({name:\"kubernetes.stacks.stack\",url:\"/:namespace/:name\",abstract:!0}),e.register({name:\"kubernetes.stacks.stack.logs\",url:\"/logs\",views:{\"content@\":{component:\"kubernetesStackLogsView\"}}}),e.register({name:\"kubernetes.configurations\",url:\"/configurations\",views:{\"content@\":{component:\"kubernetesConfigurationsView\"}}}),e.register({name:\"kubernetes.configurations.new\",url:\"/new\",views:{\"content@\":{component:\"kubernetesCreateConfigurationView\"}}}),e.register({name:\"kubernetes.configurations.configuration\",url:\"/:namespace/:name\",views:{\"content@\":{component:\"kubernetesConfigurationView\"}}}),e.register({name:\"kubernetes.cluster\",url:\"/cluster\",views:{\"content@\":{component:\"kubernetesClusterView\"}}}),e.register({name:\"kubernetes.dashboard\",url:\"/dashboard\",views:{\"content@\":{component:\"kubernetesDashboardView\"}}}),e.register({name:\"kubernetes.deploy\",url:\"/deploy?templateId\",views:{\"content@\":{component:\"kubernetesDeployView\"}},params:{templateId:\"\"}}),e.register({name:\"kubernetes.cluster.node\",url:\"/:name\",views:{\"content@\":{component:\"kubernetesNodeView\"}}}),e.register({name:\"kubernetes.cluster.node.stats\",url:\"/stats\",views:{\"content@\":{component:\"kubernetesNodeStatsView\"}}}),e.register({name:\"kubernetes.resourcePools\",url:\"/pools\",views:{\"content@\":{component:\"kubernetesResourcePoolsView\"}}}),e.register({name:\"kubernetes.resourcePools.new\",url:\"/new\",views:{\"content@\":{component:\"kubernetesCreateResourcePoolView\"}}}),e.register({name:\"kubernetes.resourcePools.resourcePool\",url:\"/:id\",views:{\"content@\":{component:\"kubernetesResourcePoolView\"}}}),e.register({name:\"kubernetes.resourcePools.resourcePool.access\",url:\"/access\",views:{\"content@\":{component:\"kubernetesResourcePoolAccessView\"}}}),e.register({name:\"kubernetes.volumes\",url:\"/volumes\",views:{\"content@\":{component:\"kubernetesVolumesView\"}}}),e.register({name:\"kubernetes.volumes.volume\",url:\"/:namespace/:name\",views:{\"content@\":{component:\"kubernetesVolumeView\"}}}),e.register({name:\"kubernetes.registries\",url:\"/registries\",views:{\"content@\":{component:\"endpointRegistriesView\"}}}),e.register({name:\"kubernetes.registries.access\",url:\"/:id/access\",views:{\"content@\":{component:\"kubernetesRegistryAccessView\"}}})}])},function(e,t){var n=\"app/kubernetes/registries/kube-registry-access-view/kube-registry-access-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Registry access\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"kubernetes.registries\">Registries</a> &gt; {{ $ctrl.registry.Name }} &gt; Access management </rd-header-content>\\n</rd-header>\\n\\n<registry-details registry=\"$ctrl.registry\" ng-if=\"$ctrl.registry\"></registry-details>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-user-lock\" title-text=\"Create access\"></rd-widget-header>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"form-group\">\\n            <label class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"padding-top: 0;\">\\n              Select namespaces\\n            </label>\\n            <div class=\"col-sm-9 col-lg-4\" style=\"margin-bottom: 15px;\">\\n              <span class=\"small text-muted\" ng-if=\"!$ctrl.resourcePools.length\">\\n                No namespaces available.\\n              </span>\\n              <span\\n                isteven-multi-select\\n                ng-if=\"$ctrl.resourcePools.length\"\\n                input-model=\"$ctrl.resourcePools\"\\n                output-model=\"$ctrl.selectedResourcePools\"\\n                button-label=\"name\"\\n                item-label=\"name\"\\n                tick-property=\"ticked\"\\n                helper-elements=\"filter\"\\n                search-property=\"name\"\\n                translation=\"{nothingSelected: \\'Select one or more namespaces\\', search: \\'Search...\\'}\"\\n              >\\n              </span>\\n            </div>\\n            <div class=\"col-sm-12 small text-muted\">\\n              <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n              Note: adding this registry will expose the registry credentials to all users of this namespace\\n            </div>\\n          </div>\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.selectedResourcePools.length === 0 || $ctrl.state.actionInProgress\"\\n                ng-click=\"$ctrl.submit()\"\\n                button-spinner=\"$ctrl.state.actionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Create access</span>\\n                <span ng-show=\"$ctrl.state.actionInProgress\">Creating access...</span>\\n              </button>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <strings-datatable\\n      title-text=\"Access\"\\n      title-icon=\"fa-user-lock\"\\n      table-key=\"access_registry_resourcepools\"\\n      dataset=\"$ctrl.savedResourcePools\"\\n      empty-dataset-message=\"No namespace has been authorized yet.\"\\n      on-remove=\"($ctrl.handleRemove)\"\\n      column-header=\"Namespace\"\\n    >\\n    </strings-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/kubernetes/custom-templates/kube-custom-templates-view/kube-custom-templates-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Custom Templates\" state=\"kubernetes.templates.custom\" view-ready=\"true\">\\n  Custom Templates\\n</kubernetes-view-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <custom-templates-list\\n      ng-if=\"$ctrl.templates\"\\n      title-text=\"Templates\"\\n      title-icon=\"fa-rocket\"\\n      templates=\"$ctrl.templates\"\\n      table-key=\"customTemplates\"\\n      is-edit-allowed=\"$ctrl.isEditAllowed\"\\n      on-select-click=\"($ctrl.selectTemplate)\"\\n      on-delete-click=\"($ctrl.confirmDelete)\"\\n      create-path=\"kubernetes.templates.custom.new\"\\n      edit-path=\"kubernetes.templates.custom.edit\"\\n    ></custom-templates-list>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/kubernetes/custom-templates/kube-edit-custom-template-view/kube-edit-custom-template-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Edit Custom Template\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"kubernetes.templates.custom.edit({id:$ctrl.formValues.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"kubernetes.templates.custom\">Custom templates</a> &gt; {{ $ctrl.formValues.Title }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"$ctrl.formValues\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"$ctrl.form\">\\n          <custom-template-common-fields form-values=\"$ctrl.formValues\"></custom-template-common-fields>\\n\\n          <web-editor-form\\n            identifier=\"template-editor\"\\n            value=\"$ctrl.formValues.FileContent\"\\n            on-change=\"($ctrl.onChangeFileContent)\"\\n            ng-required=\"true\"\\n            yml=\"true\"\\n            placeholder=\"# Define or paste the content of your manifest file here\"\\n          >\\n            <editor-description>\\n              <p>Templates allow deploying any kind of Kubernetes resource (Deployment, Secret, ConfigMap...)</p>\\n              <p>\\n                You can get more information about Kubernetes file format in the\\n                <a href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/\" target=\"_blank\">official documentation</a>.\\n              </p>\\n            </editor-description>\\n          </web-editor-form>\\n\\n          <por-access-control-form form-data=\"$ctrl.formValues.AccessControlData\" resource-control=\"$ctrl.formValues.ResourceControl\"></por-access-control-form>\\n\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.actionInProgress || $ctrl.form.$invalid || !$ctrl.formValues.Title || !$ctrl.formValues.FileContent\"\\n                ng-click=\"$ctrl.submitAction()\"\\n                button-spinner=\"$ctrl.actionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.actionInProgress\">Update the template</span>\\n                <span ng-show=\"$ctrl.actionInProgress\">Update in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px;\">\\n                {{ $ctrl.state.formValidationError }}\\n              </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/kubernetes/custom-templates/kube-create-custom-template-view/kube-create-custom-template-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create Custom template\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"kubernetes.templates.custom\">Custom Templates</a> &gt; Create Custom template </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"$ctrl.form\">\\n          <custom-template-common-fields form-values=\"$ctrl.formValues\"></custom-template-common-fields>\\n\\n          \\x3c!-- build-method --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Build method\\n          </div>\\n          <box-selector radio-name=\"method\" ng-model=\"$ctrl.state.method\" options=\"$ctrl.methodOptions\" on-change=\"($ctrl.onChangeMethod)\"></box-selector>\\n\\n          <web-editor-form\\n            ng-if=\"$ctrl.state.method === \\'editor\\'\"\\n            identifier=\"template-creation-editor\"\\n            value=\"$ctrl.formValues.FileContent\"\\n            on-change=\"($ctrl.onChangeFileContent)\"\\n            ng-required=\"true\"\\n            yml=\"true\"\\n            placeholder=\"# Define or paste the content of your manifest file here\"\\n          >\\n            <editor-description>\\n              <p>Templates allow deploying any kind of Kubernetes resource (Deployment, Secret, ConfigMap...)</p>\\n              <p>\\n                You can get more information about Kubernetes file format in the\\n                <a href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/\" target=\"_blank\">official documentation</a>.\\n              </p>\\n            </editor-description>\\n          </web-editor-form>\\n\\n          <file-upload-form ng-if=\"$ctrl.state.method === \\'upload\\'\" file=\"$ctrl.formValues.File\" on-change=\"($ctrl.onChangeFile)\" ng-required=\"true\">\\n            <file-upload-description>\\n              You can upload a Manifest file from your computer.\\n            </file-upload-description>\\n          </file-upload-form>\\n\\n          <por-access-control-form form-data=\"$ctrl.formValues.AccessControlData\"></por-access-control-form>\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.state.actionInProgress || $ctrl.form.$invalid || ($ctrl.state.method === \\'editor\\' && !$ctrl.formValues.FileContent)\"\\n                ng-click=\"$ctrl.createCustomTemplate()\"\\n                button-spinner=\"$ctrl.state.actionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.state.actionInProgress\">Create custom template</span>\\n                <span ng-show=\"$ctrl.state.actionInProgress\">Creation in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px;\">\\n                {{ $ctrl.state.formValidationError }}\\n              </span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/box-selector/box-selector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"form-group\"></div>\\n\\n<div class=\"form-group\">\\n  <div class=\"boxselector_wrapper\">\\n    <box-selector-item\\n      ng-repeat=\"option in $ctrl.options\"\\n      radio-name=\"{{ $ctrl.radioName }}\"\\n      option=\"option\"\\n      on-change=\"($ctrl.change)\"\\n      is-checked=\"$ctrl.isChecked\"\\n      disabled=\"option.disabled()\"\\n      tooltip=\"option.tooltip()\"\\n    ></box-selector-item>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1526);angular.module(\"portainer.kubernetes\").component(\"kubernetesContainersDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",refreshCallback:\"<\",isPod:\"<\",useServerMetrics:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/datatables/application/containers-datatable/containersDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div ng-if=\"$ctrl.refreshCallback\" class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"k8sAppDetail-containerTable\">\\n          <thead>\\n            <tr>\\n              <th ng-if=\"!$ctrl.isPod\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PodName\\')\">\\n                  Pod\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PodName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PodName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ImagePullPolicy\\')\">\\n                  Image Pull Policy\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ImagePullPolicy\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ImagePullPolicy\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Node\\')\">\\n                  Node\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Node\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Node\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IP\\')\">\\n                  Pod IP\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IP\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IP\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreationDate\\')\">\\n                  Creation date\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Actions</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td ng-if=\"!$ctrl.isPod\">{{ item.PodName }}</td>\\n              <td>{{ item.Name }}</td>\\n              <td title=\"{{ item.Image }}\">{{ item.Image | truncate: 64 }}</td>\\n              <td>{{ item.ImagePullPolicy }}</td>\\n              <td\\n                ><span class=\"label label-{{ item.Status | kubernetesPodStatusColor }}\">{{ item.Status }}</span></td\\n              >\\n              <td>\\n                <span ng-if=\"item.Node\">\\n                  <a ui-sref=\"kubernetes.cluster.node({ name: item.Node })\">\\n                    {{ item.Node }}\\n                  </a>\\n                </span>\\n                <span ng-if=\"!item.Node\">-</span>\\n              </td>\\n              <td>{{ item.PodIP }}</td>\\n              <td>{{ item.CreationDate | getisodate }}</td>\\n              <td>\\n                <a\\n                  ng-if=\"item.Status === \\'Running\\' && $ctrl.useServerMetrics\"\\n                  ui-sref=\"kubernetes.applications.application.stats({ pod: item.PodName, container: item.Name })\"\\n                  style=\"margin-right: 10px;\"\\n                >\\n                  <i class=\"fa fa-chart-area\" aria-hidden=\"true\"></i> Stats\\n                </a>\\n                <a ui-sref=\"kubernetes.applications.application.logs({ pod: item.PodName, container: item.Name })\"> <i class=\"fa fa-file-alt\" aria-hidden=\"true\"></i> Logs </a>\\n                <a ng-if=\"item.Status === \\'Running\\'\" ui-sref=\"kubernetes.applications.application.console({ pod: item.PodName, container: item.Name })\" style=\"margin-left: 10px;\">\\n                  <i class=\"fa fa-terminal\" aria-hidden=\"true\"></i> Console\\n                </a>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">No pod available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(597);const r=n(1528);i.a.module(\"portainer.kubernetes\").component(\"kubernetesApplicationsDatatableDetails\",{templateUrl:r,controller:s.default,bindings:{configurations:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/datatables/applications-datatable-details/applications-datatable-details.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-xs-12 form-section-title\">\\n  Secrets\\n</div>\\n<table style=\"width: 50%;\">\\n  <tbody>\\n    <tr>\\n      <td>\\n        <sensitive-details ng-repeat=\"secret in $ctrl.state.secrets\" key=\"{{ secret.key }}\" value=\"{{ secret.value }}\"> </sensitive-details>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n')}]),e.exports=n},function(e,t){var n=\"app/kubernetes/components/datatables/applications-datatable-url/applications-datatable-url.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"published-url-container\">\\n  <div class=\"text-muted\">\\n    Published URL\\n  </div>\\n  <a ng-href=\"{{ $ctrl.publishedUrl }}\" target=\"_blank\" class=\"publish-url-link\"> <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> {{ $ctrl.publishedUrl }} </a>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/kubernetes/components/datatables/applications-datatable/applicationsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div ng-if=\"$ctrl.isPrimary\" class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <span class=\"small text-muted\" style=\"float: left; margin-top: 5px;\" ng-if=\"$ctrl.isAdmin && !$ctrl.settings.showSystem\">\\n          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n          System resources are hidden, this can be changed in the table settings.\\n        </span>\\n        <div class=\"settings\" data-cy=\"k8sApp-tableSettings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input id=\"applications_setting_show_system\" type=\"checkbox\" ng-model=\"$ctrl.settings.showSystem\" ng-change=\"$ctrl.onSettingsShowSystemChange()\" />\\n                      <label for=\"applications_setting_show_system\">Show system resources</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input\\n                        id=\"setting_auto_refresh\"\\n                        type=\"checkbox\"\\n                        ng-model=\"$ctrl.settings.repeater.autoRefresh\"\\n                        ng-change=\"$ctrl.onSettingsRepeaterChange()\"\\n                        data-cy=\"k8sApp-autoRefreshCheckbox\"\\n                      />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select\\n                        id=\"settings_refresh_rate\"\\n                        ng-model=\"$ctrl.settings.repeater.refreshRate\"\\n                        ng-change=\"$ctrl.onSettingsRepeaterChange()\"\\n                        class=\"small-select\"\\n                        data-cy=\"k8sApp-refreshRateDropdown\"\\n                      >\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\" data-cy=\"k8sApp-tableSettingsCloseButton\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div ng-if=\"$ctrl.isPrimary\" class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"k8sApp-removeAppButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.applications.new\" data-cy=\"k8sApp-addApplicationButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add application with form\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.deploy\" data-cy=\"k8sApp-deployFromManifestButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Create from manifest\\n        </button>\\n      </div>\\n      <div ng-if=\"$ctrl.isPrimary\" class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"k8sApp-searchApplicationsInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"k8sApp-appTable\">\\n          <thead ng-class=\"{ \\'secondary-heading\\': !$ctrl.isPrimary }\">\\n            <tr>\\n              <th class=\"datatable-wide\">\\n                <span ng-if=\"$ctrl.isPrimary\">\\n                  <span class=\"md-checkbox\">\\n                    <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" data-cy=\"k8sApp-selectAllCheckbox\" />\\n                    <label for=\"select_all\"></label>\\n                  </span>\\n                  <a ng-click=\"$ctrl.expandAll()\">\\n                    <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                  </a>\\n                </span>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourcePool\\')\">\\n                  Namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.filters.state.open\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ApplicationType\\')\">\\n                  Application Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ApplicationType\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ApplicationType\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n                <div>\\n                  <span uib-dropdown-toggle class=\"table-filter\" ng-if=\"!$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-filter\" aria-hidden=\"true\"></i></span>\\n                  <span uib-dropdown-toggle class=\"table-filter filter-active\" ng-if=\"$ctrl.filters.state.enabled\">Filter <i class=\"fa fa-check\" aria-hidden=\"true\"></i></span>\\n                </div>\\n                <div class=\"dropdown-menu\" uib-dropdown-menu>\\n                  <div class=\"tableMenu\">\\n                    <div class=\"menuHeader\">\\n                      Filter by application type\\n                    </div>\\n                    <div class=\"menuContent\">\\n                      <div class=\"md-checkbox\" ng-repeat=\"filter in $ctrl.filters.state.values track by $index\">\\n                        <input id=\"filter_state_{{ $index }}\" type=\"checkbox\" ng-model=\"filter.display\" ng-change=\"$ctrl.onStateFilterChange()\" />\\n                        <label for=\"filter_state_{{ $index }}\">{{ filter.type | kubernetesApplicationTypeText }}</label>\\n                      </div>\\n                    </div>\\n                    <div>\\n                      <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.filters.state.open = false;\">Close</a>\\n                    </div>\\n                  </div>\\n                </div>\\n              </th>\\n              <th>\\n                Status\\n              </th>\\n              <th>\\n                Publishing mode\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreationDate\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              ng-click=\"$ctrl.expandItem(item, !$ctrl.isItemExpanded(item))\"\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset  | filter:$ctrl.applyFilters | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              ng-class=\"{ active: item.Checked, interactive: $ctrl.isExpandable(item), \\'secondary-body\\': !$ctrl.isPrimary }\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td>\\n                <span ng-if=\"$ctrl.isPrimary\" class=\"md-checkbox\">\\n                  <input\\n                    id=\"select_{{ $index }}\"\\n                    type=\"checkbox\"\\n                    ng-model=\"item.Checked\"\\n                    ng-click=\"$ctrl.selectItem(item, $event); $event.stopPropagation()\"\\n                    ng-disabled=\"$ctrl.isSystemNamespace(item)\"\\n                  />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ng-if=\"$ctrl.isExpandable(item)\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.isItemExpanded(item), \\'fas fa-angle-right\\': !$ctrl.isItemExpanded(item) }\" class=\"space-right\" aria-hidden=\"true\"></i>\\n                </a>\\n              </td>\\n              <td>\\n                <a ng-if=\"item.KubernetesApplications\" ui-sref=\"kubernetes.helm({ name: item.Name, namespace: item.ResourcePool })\" ng-click=\"$event.stopPropagation()\"\\n                  >{{ item.Name }}\\n                </a>\\n                <a\\n                  ng-if=\"!item.KubernetesApplications\"\\n                  ui-sref=\"kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })\"\\n                  ng-click=\"$event.stopPropagation()\"\\n                  >{{ item.Name }}\\n                </a>\\n                <span class=\"label label-info image-tag label-margins\" ng-if=\"$ctrl.isSystemNamespace(item)\">system</span>\\n                <span class=\"label label-primary image-tag label-margins\" ng-if=\"!$ctrl.isSystemNamespace(item) && $ctrl.isExternalApplication(item)\">external</span>\\n              </td>\\n              <td>{{ item.StackName || \\'-\\' }}</td>\\n              <td>\\n                <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: item.ResourcePool })\" ng-click=\"$event.stopPropagation()\">{{ item.ResourcePool }}</a>\\n              </td>\\n              <td title=\"{{ item.Image }}\"\\n                >{{ item.Image | truncate: 64 }} <span ng-if=\"item.Containers.length > 1\">+ {{ item.Containers.length - 1 }}</span></td\\n              >\\n              <td>{{ item.ApplicationType | kubernetesApplicationTypeText }}</td>\\n              <td ng-if=\"item.ApplicationType !== $ctrl.KubernetesApplicationTypes.POD\">\\n                <status-indicator ok=\"(item.TotalPodsCount > 0 && item.TotalPodsCount === item.RunningPodsCount) || item.Status === \\'Ready\\'\"></status-indicator>\\n                <span ng-if=\"item.DeploymentType === $ctrl.KubernetesApplicationDeploymentTypes.REPLICATED\">Replicated</span>\\n                <span ng-if=\"item.DeploymentType === $ctrl.KubernetesApplicationDeploymentTypes.GLOBAL\">Global</span>\\n                <span ng-if=\"item.RunningPodsCount >= 0 && item.TotalPodsCount >= 0\">\\n                  <code>{{ item.RunningPodsCount }}</code> / <code>{{ item.TotalPodsCount }}</code>\\n                </span>\\n                <span ng-if=\"item.KubernetesApplications\">{{ item.Status }}</span>\\n              </td>\\n              <td ng-if=\"item.ApplicationType === $ctrl.KubernetesApplicationTypes.POD\">\\n                {{ item.Pods[0].Status }}\\n              </td>\\n              <td>\\n                <span ng-if=\"item.PublishedPorts.length\">\\n                  <span>\\n                    <a ng-click=\"$ctrl.onPublishingModeClick(item); $event.stopPropagation()\">\\n                      <i class=\"fa {{ item.ServiceType | kubernetesApplicationServiceTypeIcon }}\" aria-hidden=\"true\" style=\"margin-right: 2px;\"> </i>\\n                      {{ item.ServiceType | kubernetesApplicationServiceTypeText }}\\n                    </a>\\n                  </span>\\n                </span>\\n                <span ng-if=\"item.PublishedPorts.length === 0\">-</span>\\n              </td>\\n              <td>{{ item.CreationDate | getisodate }} {{ item.ApplicationOwner ? \\'by \\' + item.ApplicationOwner : \\'\\' }}</td>\\n            </tr>\\n            <tr dir-paginate-end ng-show=\"$ctrl.isExpandable(item) && $ctrl.isItemExpanded(item)\" ng-class=\"{ \\'secondary-body\\': $ctrl.isPrimary && !item.KubernetesApplications }\">\\n              <td></td>\\n              <td colspan=\"8\" class=\"datatable-padding-vertical\">\\n                <span ng-if=\"item.KubernetesApplications\">\\n                  <kubernetes-applications-datatable\\n                    dataset=\"item.KubernetesApplications\"\\n                    table-key=\"{{ item.Id }}_table\"\\n                    settings-key=\"{{ $ctrl.tableKey }}\"\\n                    order-by=\"Name\"\\n                    remove-action=\"$ctrl.removeAction\"\\n                    refresh-callback=\"$ctrl.refreshCallback\"\\n                    on-publishing-mode-click=\"($ctrl.onPublishingModeClick)\"\\n                    is-primary=\"false\"\\n                  >\\n                  </kubernetes-applications-datatable>\\n                </span>\\n                <span ng-if=\"!item.KubernetesApplications\">\\n                  <kubernetes-applications-datatable-url\\n                    ng-if=\"$ctrl.getPublishedUrl(item)\"\\n                    published-url=\"{{ $ctrl.getPublishedUrl(item) }}\"\\n                  ></kubernetes-applications-datatable-url>\\n                  <kubernetes-applications-datatable-details\\n                    ng-if=\"$ctrl.hasConfigurationSecrets(item)\"\\n                    configurations=\"item.Configurations\"\\n                  ></kubernetes-applications-datatable-details>\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"8\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"8\" class=\"text-center text-muted\">No application available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div ng-if=\"$ctrl.isPrimary\" class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(94),i=n(3),s=n(22),r=n(27),o=n(25);angular.module(\"portainer.docker\").controller(\"KubernetesApplicationsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"Authentication\",function(e,t,n,l){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));const c=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.state=Object.assign(this.state,{expandAll:!1,expandedItems:[]}),this.filters={state:{open:!1,enabled:!1,values:[]}},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,this.state.filteredDataSet.forEach(e=>this.expandItem(e,this.state.expandAll))},this.isItemExpanded=function(e){return this.state.expandedItems.includes(e.Id)},this.isExpandable=function(e){return e.KubernetesApplications||this.hasConfigurationSecrets(e)||!!this.getPublishedUrl(e).length},this.expandItem=function(e,t){t?t&&!this.state.expandedItems.includes(e.Id)&&(this.state.expandedItems=[...this.state.expandedItems,e.Id]):this.state.expandedItems=this.state.expandedItems.filter(t=>t!==e.Id),n.setDataTableExpandedItems(this.tableKey,this.state.expandedItems)},this.expandItems=function(e){this.state.expandedItems=e,this.state.expandedItems.length===this.dataset.length&&(this.state.expandAll=!0)},this.onDataRefresh=function(){const e=n.getDataTableExpandedItems(this.tableKey);null!==e&&this.expandItems(e)},this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isExternalApplication=function(e){return s.default.isExternalApplication(e)},this.isSystemNamespace=function(e){return e.KubernetesApplications&&e.KubernetesApplications.length>0?e.KubernetesApplications.some(e=>r.default.isSystemNamespace(e.ResourcePool)):r.default.isSystemNamespace(e.ResourcePool)},this.isDisplayed=function(e){return!c.isSystemNamespace(e)||c.settings.showSystem},this.getPublishedUrl=function(e){const t=e.PublishedPorts.flatMap(e=>e.IngressRules).filter(({Host:e,IP:t})=>e||t).map(({Host:e,IP:t,Port:n,Path:a})=>`${443===n?\"https\":\"http\"}://${e||t}${80===n||443===n?\"\":\":\"+n}${a}`);let n=[];e.LoadBalancerIPAddress&&(n=e.PublishedPorts.map(t=>`http://${e.LoadBalancerIPAddress}:${t.Port}`));const a=[...t,...n];return a.length>0?a[0]:\"\"},this.hasConfigurationSecrets=function(e){return e.Configurations&&e.Configurations.some(e=>e.Data&&e.Type===o.KubernetesConfigurationTypes.SECRET)},this.allowSelection=function(e){return!this.isSystemNamespace(e)},this.applyFilters=function(e){return c.filters.state.values.some(t=>e.ApplicationType===t.type&&t.display)},this.onStateFilterChange=function(){this.filters.state.enabled=this.filters.state.values.some(e=>!e.display)},this.prepareTableFromDataset=function(){const e=this.dataset.map(e=>({type:e.ApplicationType,display:!0}));this.filters.state.values=Object(a.a)(e,\"type\")},this.$onInit=function(){this.isAdmin=l.isAdmin(),this.KubernetesApplicationDeploymentTypes=i.KubernetesApplicationDeploymentTypes,this.KubernetesApplicationTypes=i.KubernetesApplicationTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;const e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);const t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());const a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);const s=n.getDataTableExpandedItems(this.tableKey);null!==s&&this.expandItems(s);const r=n.getDataTableSettings(this.settingsKey);null!==r&&(this.settings=r,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},,,function(e,t,n){const a=n(1535);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationsPortsDatatable\",{templateUrl:a,controller:\"KubernetesApplicationsPortsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/datatables/applications-ports-datatable/applicationsPortsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <span class=\"small text-muted\" style=\"float: left; margin-top: 5px;\" ng-if=\"$ctrl.isAdmin && !$ctrl.settings.showSystem\">\\n          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n          System resources are hidden, this can be changed in the table settings.\\n        </span>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input id=\"ports_setting_show_system\" type=\"checkbox\" ng-model=\"$ctrl.settings.showSystem\" ng-change=\"$ctrl.onSettingsShowSystemChange()\" />\\n                      <label for=\"ports_setting_show_system\">Show system resources</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Application\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                Publishing mode\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'TargetPort\\')\">\\n                  Exposed port\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'TargetPort\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'TargetPort\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Port\\')\">\\n                  Container port\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Port\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Port\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                HTTP route\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            \\x3c!-- main rows --\\x3e\\n            \\x3c!-- dir-paginate-start track by $index --\\x3e\\n            <tr\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter: $ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              ng-class=\"{ active: item.Checked, \\'datatable-highlighted\\': item.Highlighted }\"\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              \\x3c!-- expandable --\\x3e\\n              <td>\\n                <a ng-if=\"$ctrl.itemCanExpand(item)\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i>\\n                </a>\\n              </td>\\n              \\x3c!-- Application --\\x3e\\n              <td>\\n                <a ui-sref=\"kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })\">{{ item.Name }}</a>\\n                <span class=\"label label-info image-tag label-margins\" ng-if=\"$ctrl.isSystemNamespace(item)\">system</span>\\n                <span class=\"label label-primary image-tag label-margins\" ng-if=\"!$ctrl.isSystemNamespace(item) && $ctrl.isExternalApplication(item)\">external</span>\\n              </td>\\n              \\x3c!-- Publishing mode --\\x3e\\n              <td>\\n                \\x3c!-- LB --\\x3e\\n                <span ng-if=\"item.ServiceType === $ctrl.KubernetesServiceTypes.LOAD_BALANCER\">\\n                  <span> <i class=\"fa fa-project-diagram\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> LoadBalancer </span>\\n                  <span class=\"text-muted small\" style=\"margin-left: 5px;\">\\n                    <span ng-if=\"item.LoadBalancerIPAddress\">{{ item.LoadBalancerIPAddress }}</span>\\n                    <span ng-if=\"!item.LoadBalancerIPAddress\">pending</span>\\n                  </span>\\n                </span>\\n                \\x3c!-- Internal --\\x3e\\n                <span ng-if=\"item.ServiceType === $ctrl.KubernetesServiceTypes.CLUSTER_IP\">\\n                  <i class=\"fa fa-list-alt\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> ClusterIP\\n                </span>\\n                \\x3c!-- Cluster --\\x3e\\n                <span ng-if=\"item.ServiceType === $ctrl.KubernetesServiceTypes.NODE_PORT\"> <i class=\"fa fa-list\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> NodePort </span>\\n              </td>\\n              \\x3c!-- Exposed port --\\x3e\\n              <td>\\n                <span ng-if=\"!$ctrl.itemCanExpand(item)\">\\n                  {{ item.Ports[0].Port }}\\n                  <a ng-if=\"item.LoadBalancerIPAddress\" ng-href=\"http://{{ item.LoadBalancerIPAddress }}:{{ item.Ports[0].Port }}\" target=\"_blank\" style=\"margin-left: 5px;\">\\n                    <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> access\\n                  </a>\\n                </span>\\n              </td>\\n              \\x3c!-- Container port --\\x3e\\n              <td>\\n                <span ng-if=\"!$ctrl.itemCanExpand(item)\"> {{ item.Ports[0].TargetPort }}/{{ item.Ports[0].Protocol }} </span>\\n              </td>\\n              \\x3c!-- HTTP route --\\x3e\\n              <td>\\n                <span ng-if=\"!$ctrl.itemCanExpand(item)\">\\n                  <span ng-if=\"!$ctrl.portHasIngressRules(item.Ports[0])\">-</span>\\n                  <span ng-if=\"$ctrl.portHasIngressRules(item.Ports[0])\">\\n                    <span\\n                      ng-if=\"!$ctrl.ruleCanBeDisplayed(item.Ports[0].IngressRules[0])\"\\n                      class=\"text-muted\"\\n                      tooltip-append-to-body=\"true\"\\n                      tooltip-placement=\"bottom\"\\n                      tooltip-class=\"portainer-tooltip\"\\n                      uib-tooltip=\"Ingress controller IP address not available yet\"\\n                      style=\"cursor: pointer;\"\\n                      >pending\\n                    </span>\\n                    <span ng-if=\"$ctrl.ruleCanBeDisplayed(item.Ports[0].IngressRules[0])\">\\n                      <a ng-href=\"{{ $ctrl.buildIngressRuleURL(item.Ports[0].IngressRules[0]) }}\" target=\"_blank\">\\n                        {{ $ctrl.buildIngressRuleURL(item.Ports[0].IngressRules[0]) | stripprotocol }}\\n                      </a>\\n                    </span>\\n                  </span>\\n                </span>\\n              </td>\\n            </tr>\\n            \\x3c!-- sub rows --\\x3e\\n            <tr ng-show=\"item.Expanded\" ng-repeat-start=\"port in item.Ports\" ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\">\\n              <td ng-if=\"!$ctrl.portHasIngressRules(port)\"></td>\\n              <td ng-if=\"!$ctrl.portHasIngressRules(port)\">-</td>\\n              <td ng-if=\"!$ctrl.portHasIngressRules(port)\">-</td>\\n              <td ng-if=\"!$ctrl.portHasIngressRules(port)\">\\n                {{ port.Port }}\\n                <a ng-if=\"item.LoadBalancerIPAddress\" ng-href=\"http://{{ item.LoadBalancerIPAddress }}:{{ port.Port }}\" target=\"_blank\" style=\"margin-left: 5px;\">\\n                  <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> access\\n                </a>\\n              </td>\\n              <td ng-if=\"!$ctrl.portHasIngressRules(port)\">{{ port.TargetPort }}/{{ port.Protocol }}</td>\\n              <td ng-if=\"!$ctrl.portHasIngressRules(port)\">-</td>\\n            </tr>\\n            <tr\\n              ng-show=\"item.Expanded\"\\n              ng-repeat-end\\n              ng-repeat=\"rule in port.IngressRules\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td></td>\\n              <td>-</td>\\n              <td>-</td>\\n              <td>\\n                {{ port.Port }}\\n                <a ng-if=\"item.LoadBalancerIPAddress\" ng-href=\"http://{{ item.LoadBalancerIPAddress }}:{{ port.Port }}\" target=\"_blank\" style=\"margin-left: 5px;\">\\n                  <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> access\\n                </a>\\n              </td>\\n              <td>{{ port.TargetPort }}/{{ port.Protocol }}</td>\\n              <td>\\n                <span\\n                  ng-if=\"!$ctrl.ruleCanBeDisplayed(rule)\"\\n                  class=\"text-muted\"\\n                  tooltip-append-to-body=\"true\"\\n                  tooltip-placement=\"bottom\"\\n                  tooltip-class=\"portainer-tooltip\"\\n                  uib-tooltip=\"Ingress controller IP address not available yet\"\\n                  style=\"cursor: pointer;\"\\n                  >pending\\n                </span>\\n                <span ng-if=\"$ctrl.ruleCanBeDisplayed(rule)\">\\n                  <a ng-href=\"{{ $ctrl.buildIngressRuleURL(rule) }}\" target=\"_blank\">\\n                    {{ $ctrl.buildIngressRuleURL(rule) | stripprotocol }}\\n                  </a>\\n                </span>\\n              </td>\\n            </tr>\\n            <tr dir-paginate-end></tr>\\n            \\x3c!-- no dataset --\\x3e\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            \\x3c!-- no values in filtered dataset --\\x3e\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">No application port mapping available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(6),s=n(3),r=n(22),o=n(27),l=n(42);angular.module(\"portainer.docker\").controller(\"KubernetesApplicationsPortsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"Authentication\",function(e,t,n,c){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1});var d=this;this.KubernetesServiceTypes=l.KubernetesServiceTypes,this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isExternalApplication=function(e){return r.default.isExternalApplication(e)},this.isSystemNamespace=function(e){return o.default.isSystemNamespace(e.ResourcePool)},this.isDisplayed=function(e){return!d.isSystemNamespace(e)||d.settings.showSystem},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Ports.length>1||e.Ports[0].IngressRules.length>1},this.buildIngressRuleURL=function(e){return\"http://\"+(e.Host?e.Host:e.IP)+e.Path},this.portHasIngressRules=function(e){return e.IngressRules.length>0},this.ruleCanBeDisplayed=function(e){return!(!e.Host&&!e.IP)},this.hasExpandableItems=function(){return Object(i.a)(this.state.filteredDataSet,e=>this.itemCanExpand(e)).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,Object(a.a)(this.state.filteredDataSet,e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)})},this.$onInit=function(){this.isAdmin=c.isAdmin(),this.KubernetesApplicationDeploymentTypes=s.KubernetesApplicationDeploymentTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1538);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationsStacksDatatable\",{templateUrl:a,controller:\"KubernetesApplicationsStacksDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\",removeAction:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/datatables/applications-stacks-datatable/applicationsStacksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <span class=\"small text-muted\" style=\"float: left; margin-top: 5px;\" ng-if=\"$ctrl.isAdmin && !$ctrl.settings.showSystem\">\\n          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n          System resources are hidden, this can be changed in the table settings.\\n        </span>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input id=\"stacks_setting_show_system\" type=\"checkbox\" ng-model=\"$ctrl.settings.showSystem\" ng-change=\"$ctrl.onSettingsShowSystemChange()\" />\\n                      <label for=\"stacks_setting_show_system\">Show system resources</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th style=\"width: 55px;\">\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourcePool\\')\">\\n                  Namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Applications.length\\')\">\\n                  Applications\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Applications.length\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Applications.length\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                Actions\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter: $ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              ng-class=\"{ active: item.Checked, \\'datatable-highlighted\\': item.Highlighted }\"\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input\\n                    id=\"select_{{ $index }}\"\\n                    type=\"checkbox\"\\n                    ng-model=\"item.Checked\"\\n                    ng-click=\"$ctrl.selectItem(item, $event); $event.stopPropagation();\"\\n                    ng-disabled=\"!$ctrl.allowSelection(item)\"\\n                  />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ng-if=\"$ctrl.itemCanExpand(item)\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i>\\n                </a>\\n              </td>\\n              <td>\\n                {{ item.Name }}\\n              </td>\\n              <td>\\n                <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: item.ResourcePool })\" ng-click=\"$event.stopPropagation();\">{{ item.ResourcePool }}</a>\\n                <span class=\"label label-info image-tag label-margins\" ng-if=\"$ctrl.isSystemNamespace(item.ResourcePool)\">system</span>\\n              </td>\\n              <td>{{ item.Applications.length }}</td>\\n              <td>\\n                <a ui-sref=\"kubernetes.stacks.stack.logs({ namespace: item.ResourcePool, name: item.Name })\"> <i class=\"fa fa-file-alt\" aria-hidden=\"true\"></i> Logs </a>\\n              </td>\\n            </tr>\\n            <tr\\n              dir-paginate-end\\n              ng-show=\"item.Expanded\"\\n              ng-repeat=\"app in item.Applications\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td></td>\\n              <td colspan=\"4\">\\n                <a ui-sref=\"kubernetes.applications.application({ name: app.Name, namespace: app.ResourcePool })\">{{ app.Name }}</a>\\n                <span style=\"margin-left: 5px;\" class=\"label label-primary image-tag\" ng-if=\"!$ctrl.isSystemNamespace(app.ResourcePool) && $ctrl.isExternalApplication(app)\"\\n                  >external</span\\n                >\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No stack available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(6),s=n(3),r=n(22),o=n(27);angular.module(\"portainer.kubernetes\").controller(\"KubernetesApplicationsStacksDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"Authentication\",function(e,t,n,l){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1});var c=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isExternalApplication=function(e){return r.default.isExternalApplication(e)},this.allowSelection=function(e){return!this.isSystemNamespace(e.ResourcePool)},this.isSystemNamespace=function(e){return o.default.isSystemNamespace(e)},this.isDisplayed=function(e){return!c.isSystemNamespace(e.ResourcePool)||c.settings.showSystem},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Applications.length>0},this.hasExpandableItems=function(){return Object(i.a)(this.state.filteredDataSet,e=>this.itemCanExpand(e)).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,Object(a.a)(this.state.filteredDataSet,e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)})},this.$onInit=function(){this.isAdmin=l.isAdmin(),this.KubernetesApplicationDeploymentTypes=s.KubernetesApplicationDeploymentTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1541);angular.module(\"portainer.kubernetes\").component(\"kubernetesConfigurationsDatatable\",{templateUrl:a,controller:\"KubernetesConfigurationsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",refreshCallback:\"<\",removeAction:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/datatables/configurations-datatable/configurationsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <span class=\"small text-muted\" style=\"float: left; margin-top: 5px;\" ng-if=\"$ctrl.isAdmin && !$ctrl.settings.showSystem\">\\n          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n          System resources are hidden, this can be changed in the table settings.\\n        </span>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle data-cy=\"k8sConfig-configSettingsButton\"><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input\\n                        id=\"setting_show_system\"\\n                        type=\"checkbox\"\\n                        ng-model=\"$ctrl.settings.showSystem\"\\n                        ng-change=\"$ctrl.onSettingsShowSystemChange()\"\\n                        data-cy=\"k8sConfig-systemResourceCheckbox\"\\n                      />\\n                      <label for=\"setting_show_system\">Show system resources</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\" data-cy=\"k8sConfig-closeSettingsButton\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"k8sConfig-removeConfigButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.configurations.new\" data-cy=\"k8sConfig-addConfigWithFormButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add with form\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.deploy\" data-cy=\"k8sConfig-deployFromManifestButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Create from manifest\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"k8sConfig-searchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"k8sConfig-tableSettingsButtonconfigsTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Namespace\\')\">\\n                  Namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n                  Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreationDate\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"!$ctrl.allowSelection(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"kubernetes.configurations.configuration({ name: item.Name, namespace: item.Namespace })\">{{ item.Name }}</a>\\n                <span class=\"label label-primary image-tag label-margins\" ng-if=\"!$ctrl.isSystemConfig(item) && $ctrl.isExternalConfiguration(item)\">external</span>\\n                <span class=\"label label-warning image-tag label-margins\" ng-if=\"!item.Used && !$ctrl.isSystemNamespace(item) && !$ctrl.isSystemConfig(item)\">unused</span>\\n                <span class=\"label label-info image-tag label-margins\" ng-if=\"$ctrl.isSystemConfig(item)\">system</span>\\n              </td>\\n              <td>\\n                <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: item.Namespace })\">{{ item.Namespace }}</a>\\n              </td>\\n              <td>{{ item.Type | kubernetesConfigurationTypeText }}</td>\\n              <td>{{ item.CreationDate | getisodate }} {{ item.ConfigurationOwner ? \\'by \\' + item.ConfigurationOwner : \\'\\' }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">No configuration available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"k8sConfig-paginationDropdown\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(80),i=n(27);angular.module(\"portainer.docker\").controller(\"KubernetesConfigurationsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"Authentication\",function(e,t,n,s){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));const r=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.isSystemNamespace=function(e){return i.default.isSystemNamespace(e.Namespace)},this.isSystemToken=function(e){return a.default.isSystemToken(e)},this.isSystemConfig=function(e){return r.isSystemNamespace(e)||r.isSystemToken(e)||e.IsRegistrySecret},this.isExternalConfiguration=function(e){return a.default.isExternalConfiguration(e)},this.isDisplayed=function(e){return!r.isSystemConfig(e)||r.settings.showSystem&&r.isAdmin},this.allowSelection=function(e){return!this.isSystemConfig(e)&&!e.Used},this.$onInit=function(){this.isAdmin=s.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},,,,,function(e,t,n){const a=n(1548);angular.module(\"portainer.kubernetes\").component(\"kubernetesEventsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",loading:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/datatables/events-datatable/eventsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"k8sConfigDetail-eventsTableSearchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"k8sConfigDetail-eventsTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Date\\')\">\\n                  Date\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Date\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Date\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Involved.kind\\')\">\\n                  Kind\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Involved.kind\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Involved.kind\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n                  Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Message\\')\">\\n                  Message\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Message\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Message\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td>{{ item.Date | getisodate }}</td>\\n              <td>{{ item.Involved.kind }}</td>\\n              <td\\n                ><span class=\"label label-{{ item.Type | kubernetesEventTypeColor }}\">{{ item.Type }}</span></td\\n              >\\n              <td>{{ item.Message }}</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.loading\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.loading && (!$ctrl.dataset || $ctrl.state.filteredDataSet.length === 0)\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">No event available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select\\n                class=\"form-control\"\\n                ng-model=\"$ctrl.state.paginatedItemLimit\"\\n                ng-change=\"$ctrl.changePaginationLimit()\"\\n                data-cy=\"k8sConfigDetail-eventsTablePaginationDropdown\"\\n              >\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1550);angular.module(\"portainer.kubernetes\").component(\"kubernetesIntegratedApplicationsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/datatables/integrated-applications-datatable/integratedApplicationsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\">\\n          <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n          {{ $ctrl.titleText }}\\n        </div>\\n        <div ng-if=\"$ctrl.refreshCallback\" class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle> <i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings </span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n            >\\n              <td\\n                ><a ui-sref=\"kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })\">{{ item.Name }}</a></td\\n              >\\n              <td>{{ item.StackName || \\'-\\' }}</td>\\n              <td title=\"{{ item.Image }}\">{{ item.Image | truncate: 64 }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No application available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1552);angular.module(\"portainer.kubernetes\").component(\"kubernetesNodeApplicationsDatatable\",{templateUrl:a,controller:\"KubernetesNodeApplicationsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/datatables/node-applications-datatable/nodeApplicationsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\">\\n          <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n          {{ $ctrl.titleText }}\\n        </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle> <i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings </span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourcePool\\')\">\\n                  Namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CPU\\')\">\\n                  CPU reservation\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPU\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPU\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Memory\\')\">\\n                  Memory reservation\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n            >\\n              <td>\\n                <a ui-sref=\"kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })\">{{ item.Name }}</a>\\n                <span style=\"margin-left: 5px;\" class=\"label label-info image-tag\" ng-if=\"$ctrl.isSystemNamespace(item)\">system</span>\\n                <span style=\"margin-left: 5px;\" class=\"label label-primary image-tag\" ng-if=\"!$ctrl.isSystemNamespace(item) && $ctrl.isExternalApplication(item)\">external</span>\\n              </td>\\n              <td>{{ item.StackName || \\'-\\' }}</td>\\n              <td>\\n                <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: item.ResourcePool })\">{{ item.ResourcePool }}</a>\\n              </td>\\n              <td title=\"{{ item.Image }}\"\\n                >{{ item.Image | truncate: 64 }} <span ng-if=\"item.Containers.length > 1\">+ {{ item.Containers.length - 1 }}</span></td\\n              >\\n              <td>{{ item.CPU | kubernetesApplicationCPUValue }}</td>\\n              <td>{{ item.Memory | humansize }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">No stack available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(3),i=n(22),s=n(27);angular.module(\"portainer.docker\").controller(\"KubernetesNodeApplicationsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.isSystemNamespace=function(e){return s.default.isSystemNamespace(e.ResourcePool)},this.isExternalApplication=function(e){return i.default.isExternalApplication(e)},this.$onInit=function(){this.KubernetesApplicationDeploymentTypes=a.KubernetesApplicationDeploymentTypes,this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var i=n.getDataTableFilters(this.tableKey);null!==i&&(this.filters=i),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1555);angular.module(\"portainer.kubernetes\").component(\"kubernetesNodesDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",refreshCallback:\"<\",isAdmin:\"<\",useServerMetrics:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/datatables/nodes-datatable/nodesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Role\\')\">\\n                  Role\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Role\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CPU\\')\">\\n                  CPU\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPU\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPU\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Memory\\')\">\\n                  Memory\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Version\\')\">\\n                  Version\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Version\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Version\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'IPAddress\\')\">\\n                  IP Address\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAddress\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'IPAddress\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.useServerMetrics\">\\n                Actions\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n            >\\n              <td ng-if=\"$ctrl.isAdmin\">\\n                <a ui-sref=\"kubernetes.cluster.node({ name: item.Name })\">\\n                  {{ item.Name }}\\n                </a>\\n                <span class=\"label label-primary image-tag\" style=\"margin-left: 5px;\" ng-if=\"item.Api\">api</span>\\n              </td>\\n              <td ng-if=\"!$ctrl.isAdmin\"> {{ item.Name }}</td>\\n              <td>{{ item.Role }}</td>\\n              <td\\n                ><span class=\"label label-{{ item.Status | kubernetesNodeStatusColor }}\">{{ item.Status }}</span></td\\n              >\\n              <td>{{ item.CPU }}</td>\\n              <td>{{ item.Memory | humansize }}</td>\\n              <td>{{ item.Version }}</td>\\n              <td>{{ item.IPAddress }}</td>\\n              <td ng-if=\"$ctrl.useServerMetrics\">\\n                <a ui-sref=\"kubernetes.cluster.node.stats({ name: item.Name })\" style=\"cursor: pointer;\"> <i class=\"fa fa-chart-area\" aria-hidden=\"true\"></i> Stats </a>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"7\" class=\"text-center text-muted\">No node available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1557);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourcePoolApplicationsDatatable\",{templateUrl:a,controller:\"KubernetesResourcePoolApplicationsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/datatables/resource-pool-applications-datatable/resourcePoolApplicationsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\">\\n          <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n          {{ $ctrl.titleText }}\\n        </div>\\n        <div ng-if=\"$ctrl.refreshCallback\" class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle> <i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings </span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'StackName\\')\">\\n                  Stack\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'StackName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Image\\')\">\\n                  Image\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Image\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CPU\\')\">\\n                  CPU reservation\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPU\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CPU\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Memory\\')\">\\n                  Memory reservation\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Memory\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n            >\\n              <td>\\n                <a ui-sref=\"kubernetes.applications.application({ name: item.Name, namespace: item.ResourcePool })\">{{ item.Name }}</a>\\n                <span style=\"margin-left: 5px;\" class=\"label label-primary image-tag\" ng-if=\"$ctrl.isExternalApplication(item)\">external</span>\\n              </td>\\n              <td>{{ item.StackName || \\'-\\' }}</td>\\n              <td title=\"{{ item.Image }}\"\\n                >{{ item.Image | truncate: 64 }} <span ng-if=\"item.Containers.length > 1\">+ {{ item.Containers.length - 1 }}</span></td\\n              >\\n              <td>{{ item.CPU | kubernetesApplicationCPUValue }}</td>\\n              <td>{{ item.Memory | humansize }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No application available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(22);angular.module(\"portainer.docker\").controller(\"KubernetesResourcePoolApplicationsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.isExternalApplication=function(e){return a.default.isExternalApplication(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1560);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourcePoolsDatatable\",{templateUrl:a,controller:\"KubernetesResourcePoolsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",refreshCallback:\"<\",endpoint:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/datatables/resource-pools-datatable/resourcePoolsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <span class=\"small text-muted\" style=\"float: left; margin-top: 5px;\" ng-if=\"$ctrl.isAdmin && !$ctrl.settings.showSystem\">\\n          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n          System resources are hidden, this can be changed in the table settings.\\n        </span>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input id=\"setting_show_system\" type=\"checkbox\" ng-model=\"$ctrl.settings.showSystem\" ng-change=\"$ctrl.onSettingsShowSystemChange()\" />\\n                      <label for=\"setting_show_system\">Show system resources</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div ng-if=\"$ctrl.isAdmin\" class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"k8sNamespace-removeNamespaceButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.resourcePools.new\" data-cy=\"k8sNamespace-addNamespaceWithFormButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add namespace with form\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.deploy\" data-cy=\"k8sNamespace-deployFromManifestButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Create from manifest\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"k8sNamespace-namespaceSearchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span ng-if=\"$ctrl.isAdmin\" class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Namespace.Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace.Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace.Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Namespace.Status\\')\">\\n                  Status\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace.Status\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace.Status\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Quota\\')\">\\n                  Quota\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Quota\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Quota\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'CreationDate\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.isAdmin\">\\n                Actions\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span ng-if=\"$ctrl.isAdmin\" class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"$ctrl.disableRemove(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: item.Namespace.Name })\">{{ item.Namespace.Name }}</a>\\n                <span style=\"margin-left: 5px;\" class=\"label label-info image-tag\" ng-if=\"$ctrl.isSystemNamespace(item)\">system</span>\\n              </td>\\n              <td>\\n                <span class=\"label label-{{ $ctrl.namespaceStatusColor(item.Namespace.Status) }}\">{{ item.Namespace.Status }}</span>\\n              </td>\\n              <td> <i class=\"fa {{ item.Quota ? \\'fa-toggle-on\\' : \\'fa-toggle-off\\' }}\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ item.Quota ? \\'Yes\\' : \\'No\\' }} </td>\\n              <td>{{ item.Namespace.CreationDate | getisodate }} {{ item.Namespace.ResourcePoolOwner ? \\'by \\' + item.Namespace.ResourcePoolOwner : \\'\\' }}</td>\\n              <td ng-if=\"$ctrl.isAdmin\">\\n                <a ng-if=\"$ctrl.canManageAccess(item)\" ui-sref=\"kubernetes.resourcePools.resourcePool.access({id: item.Namespace.Name})\">\\n                  <i class=\"fa fa-users\" aria-hidden=\"true\"></i> Manage access\\n                </a>\\n                <span ng-if=\"!$ctrl.canManageAccess(item)\">-</span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">No namespace available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(27);angular.module(\"portainer.docker\").controller(\"KubernetesResourcePoolsDatatableController\",[\"$scope\",\"$controller\",\"Authentication\",\"DatatableService\",function(e,t,n,i){angular.extend(this,t(\"GenericDatatableController\",{$scope:e}));var s=this;this.settings=Object.assign(this.settings,{showSystem:!1}),this.onSettingsShowSystemChange=function(){i.setDataTableSettings(this.tableKey,this.settings)},this.canManageAccess=function(e){return(this.endpoint.Kubernetes.Configuration.RestrictDefaultNamespace||!a.default.isDefaultNamespace(e.Namespace.Name))&&!this.isSystemNamespace(e)},this.disableRemove=function(e){return this.isSystemNamespace(e)||a.default.isDefaultNamespace(e.Namespace.Name)},this.isSystemNamespace=function(e){return a.default.isSystemNamespace(e.Namespace.Name)},this.isDisplayed=function(e){return!s.isSystemNamespace(e)||s.settings.showSystem&&s.isAdmin},this.namespaceStatusColor=function(e){switch(e.toLowerCase()){case\"active\":return\"success\";case\"terminating\":return\"danger\";default:return\"primary\"}},this.allowSelection=function(e){return!this.disableRemove(e)},this.$onInit=function(){this.isAdmin=n.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=i.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=i.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=i.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=i.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1563);angular.module(\"portainer.kubernetes\").component(\"kubernetesVolumesDatatable\",{templateUrl:a,controller:\"KubernetesVolumesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/datatables/volumes-datatable/volumesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <span class=\"small text-muted\" style=\"float: left; margin-top: 5px;\" ng-if=\"$ctrl.isAdmin && !$ctrl.settings.showSystem\">\\n          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n          System resources are hidden, this can be changed in the table settings.\\n        </span>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input id=\"setting_show_system\" type=\"checkbox\" ng-model=\"$ctrl.settings.showSystem\" ng-change=\"$ctrl.onSettingsShowSystemChange()\" />\\n                      <label for=\"setting_show_system\">Show system resources</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"kubernetes.deploy\" data-cy=\"k8sVolume-deployFromManifestButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Create from manifest\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PersistentVolumeClaim.Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourcePool.Namespace.Name\\')\">\\n                  Namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool.Namespace.Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourcePool.Namespace.Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PersistentVolumeClaim.Applications[0].Name\\')\">\\n                  Used by\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.Applications[0].Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.Applications[0].Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PersistentVolumeClaim.StorageClass.Name\\')\">\\n                  Storage\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.StorageClass.Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.StorageClass.Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PersistentVolumeClaim.Storage\\')\">\\n                  Size\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.Storage\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.Storage\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PersistentVolumeClaim.CreationDate\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PersistentVolumeClaim.CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter:$ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"$ctrl.disableRemove(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"kubernetes.volumes.volume({ namespace: item.ResourcePool.Namespace.Name, name: item.PersistentVolumeClaim.Name })\">{{\\n                  item.PersistentVolumeClaim.Name\\n                }}</a>\\n                <span class=\"label label-info image-tag label-margins\" ng-if=\"$ctrl.isSystemNamespace(item)\">system</span>\\n                <span class=\"label label-primary image-tag label-margins\" ng-if=\"!$ctrl.isSystemNamespace(item) && $ctrl.isExternalVolume(item)\">external</span>\\n                <span class=\"label label-warning image-tag label-margins\" ng-if=\"!$ctrl.isSystemNamespace(item) && !$ctrl.isUsed(item)\">unused</span>\\n              </td>\\n              <td>\\n                <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: item.ResourcePool.Namespace.Name })\">{{ item.ResourcePool.Namespace.Name }}</a>\\n              </td>\\n              <td>\\n                <a\\n                  ng-if=\"item.Applications.length\"\\n                  ui-sref=\"kubernetes.applications.application({ name: item.Applications[0].Name, namespace: item.ResourcePool.Namespace.Name })\"\\n                  >{{ item.Applications[0].Name }}</a\\n                >\\n                <span ng-if=\"item.Applications.length > 1\"> + {{ item.Applications.length - 1 }}</span>\\n                <span ng-if=\"!item.Applications.length\">-</span>\\n              </td>\\n              <td>\\n                {{ item.PersistentVolumeClaim.StorageClass.Name }}\\n              </td>\\n              <td>\\n                {{ item.PersistentVolumeClaim.Storage }}\\n              </td>\\n              <td>\\n                {{ item.PersistentVolumeClaim.CreationDate | getisodate }}\\n                {{ item.PersistentVolumeClaim.ApplicationOwner ? \\'by \\' + item.PersistentVolumeClaim.ApplicationOwner : \\'\\' }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">No volume available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(99),r=n(27);class o{constructor(e,t,n,a){this.$async=e,this.$controller=t,this.Authentication=n,this.DatatableService=a,this.onInit=this.onInit.bind(this),this.allowSelection=this.allowSelection.bind(this),this.isDisplayed=this.isDisplayed.bind(this)}onSettingsShowSystemChange(){this.DatatableService.setDataTableSettings(this.tableKey,this.settings)}disableRemove(e){return this.isSystemNamespace(e)||this.isUsed(e)}isUsed(e){return s.default.isUsed(e)}isSystemNamespace(e){return r.default.isSystemNamespace(e.ResourcePool.Namespace.Name)}isDisplayed(e){return!this.isSystemNamespace(e)||this.settings.showSystem}isExternalVolume(e){return s.default.isExternalVolume(e)}allowSelection(e){return!this.disableRemove(e)}async onInit(){this.setDefaults(),this.prepareTableFromDataset(),this.isAdmin=this.Authentication.isAdmin(),this.settings.showSystem=!1,this.state.orderBy=this.orderBy;var e=this.DatatableService.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=this.DatatableService.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=this.DatatableService.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=this.DatatableService.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange()}$onInit(){const e=i.a.extend({},this.$controller(\"GenericDatatableController\"),this);return i.a.extend(this,e),this.$async(this.onInit)}}o.$inject=[\"$async\",\"$controller\",\"Authentication\",\"DatatableService\"],t.default=o,i.a.module(\"portainer.kubernetes\").controller(\"KubernetesVolumesDatatableController\",o)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(598);const r=n(1566);i.a.module(\"portainer.kubernetes\").component(\"helmAddRepository\",{templateUrl:r,controller:s.default,bindings:{repos:\"<\",endpoint:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/helm/helm-templates/helm-add-repository/helm-add-repository.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-widget>\\n  <rd-widget-header icon=\"fa-dharmachakra\" title-text=\"Additional repositories\"></rd-widget-header>\\n  <rd-widget-body>\\n    <div class=\"actionBar\">\\n      <form class=\"form-horizontal\" name=\"addUserHelmRepoForm\">\\n        <div class=\"form-group\">\\n          <span class=\"col-sm-12 text-muted small\">\\n            Add a Helm repository. All Helm charts in the repository will be added to the list.\\n          </span>\\n        </div>\\n\\n        <div class=\"form-group\">\\n          <div class=\"col-sm-12\">\\n            <input\\n              type=\"url\"\\n              name=\"repo\"\\n              class=\"form-control\"\\n              ng-model=\"$ctrl.state.repository\"\\n              placeholder=\"https://charts.bitnami.com/bitnami\"\\n              ng-pattern=\"/^https?:///\"\\n              required\\n            />\\n          </div>\\n        </div>\\n\\n        <div class=\"form-group nomargin\" ng-show=\"addUserHelmRepoForm.repo.$invalid\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div ng-messages=\"addUserHelmRepoForm.repo.$error\">\\n              <p ng-message=\"pattern\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A valid URL beginning with http(s) is required.</p>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\"form-group\" ng-show=\"$ctrl.doesRepoExist()\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Helm repo already exists. </div>\\n          </div>\\n        </div>\\n\\n        <div class=\"form-group\">\\n          <div class=\"col-sm-12\">\\n            <button\\n              type=\"button\"\\n              class=\"btn btn-sm btn-default nomargin\"\\n              ng-click=\"$ctrl.addRepository()\"\\n              ng-disabled=\"$ctrl.state.isAddingRepo || addUserHelmRepoForm.repo.$invalid || $ctrl.doesRepoExist()\"\\n              analytics-on\\n              analytics-category=\"kubernetes\"\\n              analytics-event=\"kubernetes-helm-add-repository\"\\n            >\\n              Add repository\\n            </button>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n  </rd-widget-body>\\n</rd-widget>\\n')}]),e.exports=n},function(e,t){var n=\"app/kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list-item/helm-templates-list-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'\\x3c!-- helm chart --\\x3e\\n<div ng-class=\"{ \\'blocklist-item--selected\\': $ctrl.model.Selected }\" class=\"blocklist-item template-item\" ng-click=\"$ctrl.onSelect($ctrl.model)\">\\n  <div class=\"blocklist-item-box\">\\n    \\x3c!-- helmchart-image --\\x3e\\n    <span ng-if=\"$ctrl.model.icon\">\\n      <img class=\"blocklist-item-logo\" ng-src=\"{{ $ctrl.model.icon }}\" />\\n    </span>\\n    <span class=\"blocklist-item-logo\" ng-if=\"!$ctrl.model.icon\">\\n      <i class=\"fa fa-dharmachakra fa-4x blue-icon\" aria-hidden=\"true\"></i>\\n    </span>\\n    \\x3c!-- !helmchart-image --\\x3e\\n    \\x3c!-- helmchart-details --\\x3e\\n    <div class=\"col-sm-12 helm-template-item-details\">\\n      \\x3c!-- blocklist-item-line1 --\\x3e\\n      <div class=\"blocklist-item-line\">\\n        <span>\\n          <span class=\"blocklist-item-title\">\\n            {{ $ctrl.model.name }}\\n          </span>\\n          <span class=\"space-left blocklist-item-subtitle\">\\n            <span>\\n              <i class=\"fa fa-dharmachakra\" aria-hidden=\"true\"></i>\\n            </span>\\n            <span>\\n              Helm\\n            </span>\\n          </span>\\n        </span>\\n      </div>\\n      \\x3c!-- !blocklist-item-line1 --\\x3e\\n      <span class=\"blocklist-item-actions\" ng-transclude=\"actions\"></span>\\n      \\x3c!-- blocklist-item-line2 --\\x3e\\n      <div class=\"blocklist-item-line helm-template-item-details-sub\">\\n        <span class=\"blocklist-item-desc\">\\n          {{ $ctrl.model.description }}\\n        </span>\\n        <span class=\"small text-muted\" ng-if=\"$ctrl.model.annotations.category\">\\n          {{ $ctrl.model.annotations.category }}\\n        </span>\\n      </div>\\n      \\x3c!-- !blocklist-item-line2 --\\x3e\\n    </div>\\n    \\x3c!-- !helmchart-details --\\x3e\\n  </div>\\n  \\x3c!-- !helm chart --\\x3e\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(599);const r=n(1569);i.a.module(\"portainer.kubernetes\").component(\"helmTemplatesList\",{templateUrl:r,controller:s.default,bindings:{loading:\"<\",titleText:\"@\",titleIcon:\"@\",charts:\"<\",tableKey:\"@\",selectAction:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/helm/helm-templates/helm-templates-list/helm-templates-list.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n\\n      <div class=\"actionBar\">\\n        <div>\\n          <span style=\"width: 25%;\">\\n            <ui-select ng-model=\"$ctrl.state.selectedCategory\" theme=\"bootstrap\">\\n              <ui-select-match placeholder=\"Select a category\">\\n                <a class=\"btn btn-xs btn-link pull-right\" ng-click=\"$ctrl.clearCategory()\"><i class=\"glyphicon glyphicon-remove\"></i></a>\\n                <span>{{ $select.selected }}</span>\\n              </ui-select-match>\\n              <ui-select-choices repeat=\"category in ($ctrl.state.categories | filter: $select.search)\">\\n                <span>{{ category }}</span>\\n              </ui-select-choices>\\n            </ui-select>\\n          </span>\\n        </div>\\n      </div>\\n\\n      <div class=\"searchBar\" style=\"border-top: 2px solid #f6f6f6;\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n\\n      <div class=\"blocklist\">\\n        <helm-templates-list-item\\n          ng-repeat=\"chart in $ctrl.charts | filter:$ctrl.state.textFilter | filter: $ctrl.state.selectedCategory \"\\n          model=\"chart\"\\n          type-label=\"helm\"\\n          on-select=\"($ctrl.selectAction)\"\\n        >\\n        </helm-templates-list-item>\\n        <div ng-if=\"$ctrl.loading\" class=\"text-center text-muted\">\\n          Loading...\\n          <div class=\"text-center text-muted\">\\n            Initial download of Helm Charts can take a few minutes\\n          </div>\\n        </div>\\n        <div ng-if=\"!$ctrl.loading && $ctrl.charts.length === 0\" class=\"text-center text-muted\">\\n          No helm charts available.\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(600);const r=n(1571);i.a.module(\"portainer.kubernetes\").component(\"helmTemplatesView\",{templateUrl:r,controller:s.default,bindings:{endpoint:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/helm/helm-templates/helm-templates.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header id=\"view-top\" title=\"Helm\" state=\"kubernetes.templates.helm\" view-ready=\"true\">\\n  Charts\\n</kubernetes-view-header>\\n\\n<information-panel title-text=\"Information\" ng-if=\"!$ctrl.state.chart\">\\n  <span class=\"small text-muted\">\\n    <p>\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      This is a first version for Helm charts, for more information see this <a href=\"https://www.portainer.io/blog/portainer-now-with-helm-support\" target=\"_blank\">blog post</a>.\\n    </p>\\n    <p ng-if=\"$ctrl.state.globalRepository === \\'\\'\">\\n      <i class=\"fa fa-exclamation-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      <span>The Global Helm Repository is not configured.</span>\\n      <a ng-if=\"$ctrl.state.isAdmin\" ui-sref=\"portainer.settings\">Configure Global Helm Repository in Settings</a>\\n    </p>\\n  </span>\\n</information-panel>\\n\\n<div class=\"row\">\\n  \\x3c!-- helmchart-form --\\x3e\\n  <div class=\"col-sm-12\" ng-if=\"$ctrl.state.chart\">\\n    <rd-widget>\\n      <rd-widget-custom-header icon=\"$ctrl.state.chart.icon\" title-text=\"$ctrl.state.chart.name\"></rd-widget-custom-header>\\n      <rd-widget-body classes=\"padding\">\\n        <form class=\"form-horizontal\" name=\"$ctrl.helmTemplateCreationForm\">\\n          \\x3c!-- description --\\x3e\\n          <div>\\n            <div class=\"col-sm-12 form-section-title\">\\n              Description\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <div class=\"template-note\" ng-bind-html=\"$ctrl.state.chart.description\"></div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !description --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Configuration\\n          </div>\\n          \\x3c!-- namespace-input --\\x3e\\n          <div class=\"form-group\" ng-if=\"$ctrl.state.resourcePool\">\\n            <label for=\"resource-pool-selector\" class=\"col-sm-2 control-label text-left\">Namespace</label>\\n            <div class=\"col-sm-10\">\\n              <select\\n                class=\"form-control\"\\n                id=\"resource-pool-selector\"\\n                ng-model=\"$ctrl.state.resourcePool\"\\n                ng-options=\"resourcePool.Namespace.Name for resourcePool in $ctrl.state.resourcePools\"\\n                ng-change=\"\"\\n                ng-disabled=\"$ctrl.state.isEdit\"\\n              ></select>\\n            </div>\\n          </div>\\n\\n          <div class=\"form-group\" ng-if=\"!$ctrl.state.resourcePool\">\\n            <div class=\"col-sm-12 small text-muted\">\\n              <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n              You do not have access to any namespace. Contact your administrator to get access to a namespace.\\n            </div>\\n          </div>\\n          \\x3c!-- !namespace-input --\\x3e\\n          \\x3c!-- name-input --\\x3e\\n          <div class=\"form-group\">\\n            <label for=\"release_name\" class=\"col-sm-2 control-label text-left\">Name</label>\\n            <div class=\"col-sm-10\">\\n              <input\\n                type=\"text\"\\n                name=\"release_name\"\\n                class=\"form-control\"\\n                ng-model=\"$ctrl.state.appName\"\\n                placeholder=\"e.g. my-app\"\\n                required\\n                ng-pattern=\"/^[a-z]([-a-z0-9]*[a-z0-9])?$/\"\\n              />\\n            </div>\\n          </div>\\n          <div class=\"form-group\" ng-show=\"$ctrl.helmTemplateCreationForm.release_name.$invalid\">\\n            <div class=\"col-sm-12 small text-warning\">\\n              <div ng-messages=\"$ctrl.helmTemplateCreationForm.release_name.$error\">\\n                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                <p ng-message=\"pattern\">\\n                  <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field must consist of lower case alphanumeric characters or \\'-\\', start with an alphabetic\\n                  character, and end with an alphanumeric character (e.g. \\'my-name\\', or \\'abc-123\\').\\n                </p>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !name-input --\\x3e\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <a class=\"small interactive\" ng-if=\"!$ctrl.state.showCustomValues && !$ctrl.state.loadingValues\" ng-click=\"$ctrl.state.showCustomValues = true;\">\\n                <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i> Show custom values\\n              </a>\\n              <span class=\"small interactive\" ng-if=\"$ctrl.state.loadingValues\"> <i class=\"fa fa-sync-alt space-right\" aria-hidden=\"true\"></i> Loading values.yaml... </span>\\n              <a class=\"small interactive\" ng-if=\"$ctrl.state.showCustomValues\" ng-click=\"$ctrl.state.showCustomValues = false;\">\\n                <i class=\"fa fa-minus space-right\" aria-hidden=\"true\"></i> Hide custom values\\n              </a>\\n            </div>\\n          </div>\\n          \\x3c!-- values override --\\x3e\\n          <div ng-if=\"$ctrl.state.showCustomValues\">\\n            \\x3c!-- web-editor --\\x3e\\n            <div>\\n              <div class=\"col-sm-12 form-section-title\">\\n                Web editor\\n              </div>\\n              <div class=\"form-group\">\\n                <span class=\"col-sm-12 text-muted small\">\\n                  You can get more information about Helm values file format in the\\n                  <a href=\"https://helm.sh/docs/chart_template_guide/values_files/\" target=\"_blank\">official documentation</a>.\\n                </span>\\n              </div>\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\">\\n                  <code-editor\\n                    identifier=\"helm-app-creation-editor\"\\n                    placeholder=\"# Define or paste the content of your values yaml file here\"\\n                    yml=\"true\"\\n                    on-change=\"($ctrl.editorUpdate)\"\\n                    value=\"$ctrl.state.values\"\\n                  ></code-editor>\\n                </div>\\n              </div>\\n            </div>\\n            \\x3c!-- !web-editor --\\x3e\\n          </div>\\n          \\x3c!-- !values override --\\x3e\\n          \\x3c!-- helm actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"!($ctrl.state.appName && $ctrl.state.resourcePool && !$ctrl.state.loadingValues && !$ctrl.state.actionInProgress)\"\\n                ng-click=\"$ctrl.installHelmchart()\"\\n                button-spinner=\"$ctrl.state.actionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.state.actionInProgress\">Install</span>\\n                <span ng-hide=\"!$ctrl.state.actionInProgress\">Helm installing in progress</span>\\n              </button>\\n              <button type=\"button\" class=\"btn btn-sm btn-default\" ng-click=\"$ctrl.state.chart = null\">Hide</button>\\n            </div>\\n          </div>\\n          \\x3c!-- !helm actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n  \\x3c!-- helmchart-form --\\x3e\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <helm-add-repository repos=\"$ctrl.state.repos\"></helm-add-repository>\\n  </div>\\n</div>\\n\\n\\x3c!-- Helm Charts Component --\\x3e\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <helm-templates-list\\n      title-text=\"Charts\"\\n      title-icon=\"fa-rocket\"\\n      charts=\"$ctrl.state.charts\"\\n      table-key=\"$ctrl.state.charts\"\\n      select-action=\"$ctrl.selectHelmChart\"\\n      loading=\"$ctrl.state.chartsLoading || $ctrl.state.resourcePoolsLoading\"\\n    >\\n    </helm-templates-list>\\n  </div>\\n</div>\\n\\x3c!-- !Helm Charts Component --\\x3e\\n')}]),e.exports=n},function(e,t){var n=\"app/kubernetes/components/kubectl-shell/kubectl-shell.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<button\\n  type=\"button\"\\n  class=\"btn btn-xs btn-primary\"\\n  ng-click=\"$ctrl.connectConsole()\"\\n  ng-disabled=\"$ctrl.state.shell.connected\"\\n  data-cy=\"k8sSidebar-shellButton\"\\n  analytics-on\\n  analytics-category=\"kubernetes\"\\n  analytics-event=\"kubernetes-kubectl-shell\"\\n>\\n  <i class=\"fa fa-terminal space-right\"></i> kubectl shell\\n</button>\\n\\n<div ng-if=\"$ctrl.state.shell.connected\" class=\"{{ $ctrl.state.css }}-kubectl-shell\">\\n  <div class=\"shell-container\">\\n    <div class=\"shell-item\"><i class=\"fas fa-terminal\" style=\"margin-right: 5px;\"></i>kubectl shell</div>\\n    <div class=\"shell-item-right\">\\n      <i class=\"fas fa-redo-alt\" ng-click=\"$ctrl.screenClear();\" data-cy=\"k8sShell-refreshButton\"></i>\\n      <i\\n        class=\"fas {{ $ctrl.state.icon }}\"\\n        ng-click=\"$ctrl.miniRestore();\"\\n        data-cy=\"{{ $ctrl.state.icon === \\'.fa-window-minimize\\' ? \\'k8sShell-restore\\' : \\'k8sShell-minimise\\' }}\"\\n      ></i>\\n      <i class=\"fas fa-times\" ng-click=\"$ctrl.disconnect()\" data-cy=\"k8sShell-closeButton\"></i>\\n    </div>\\n  </div>\\n  <div>\\n    <div class=\"nopadding\">\\n      <div>\\n        <div id=\"terminal-container\" class=\"terminal-container\">\\n          <div style=\"position: fixed; color: #fff;\">Loading Terminal...</div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1574);angular.module(\"portainer.kubernetes\").component(\"kubernetesConfigurationData\",{templateUrl:a,controller:\"KubernetesConfigurationDataController\",bindings:{formValues:\"=\",isValid:\"=\",isCreation:\"=\",isEditorDirty:\"=\"}})},function(e,t){var n=\"app/kubernetes/components/kubernetes-configuration-data/kubernetesConfigurationData.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ng-form name=\"kubernetesConfigurationDataCreationForm\">\\n  <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 10px;\">\\n    Data\\n  </div>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.isCreation\">\\n    <div class=\"col-sm-12\">\\n      <p>\\n        <a class=\"small interactive\" ng-if=\"$ctrl.formValues.IsSimple\" ng-click=\"$ctrl.showAdvancedMode()\">\\n          <i class=\"fa fa-list-ol space-right\" aria-hidden=\"true\"></i> Advanced mode\\n        </a>\\n        <a class=\"small interactive\" ng-if=\"!$ctrl.formValues.IsSimple\" ng-click=\"$ctrl.showSimpleMode()\">\\n          <i class=\"fa fa-edit space-right\" aria-hidden=\"true\"></i> Simple mode\\n        </a>\\n      </p>\\n    </div>\\n    <div class=\"col-sm-12 small text-muted\" ng-if=\"$ctrl.formValues.IsSimple\">\\n      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      Switch to advanced mode to copy and paste multiple key/values\\n    </div>\\n    <div class=\"col-sm-12 small text-muted\" ng-if=\"!$ctrl.formValues.IsSimple\">\\n      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      Generate a configuration entry per line, use YAML format\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.formValues.IsSimple\">\\n    <div class=\"col-sm-12\">\\n      <button type=\"button\" class=\"btn btn-sm btn-default\" style=\"margin-left: 0;\" ng-click=\"$ctrl.addEntry()\" data-cy=\"k8sConfigCreate-createEntryButton\">\\n        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Create entry\\n      </button>\\n      <button type=\"button\" class=\"btn btn-sm btn-default\" ngf-select=\"$ctrl.addEntryFromFile($file)\" style=\"margin-left: 0;\" data-cy=\"k8sConfigCreate-createConfigsFromFileButton\">\\n        <i class=\"fa fa-file-upload\" aria-hidden=\"true\"></i> Create key/value from file\\n      </button>\\n    </div>\\n  </div>\\n\\n  <div ng-repeat=\"(index, entry) in $ctrl.formValues.Data\" ng-if=\"$ctrl.formValues.IsSimple\">\\n    <div class=\"form-group\">\\n      <label for=\"configuration_data_key_{{ index }}\" class=\"col-sm-1 control-label text-left\">Key</label>\\n      <div class=\"col-sm-11\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"configuration_data_key_{{ index }}\"\\n          name=\"configuration_data_key_{{ index }}\"\\n          ng-model=\"$ctrl.formValues.Data[index].Key\"\\n          ng-disabled=\"entry.Used\"\\n          required\\n          ng-change=\"$ctrl.onChangeKey(entry)\"\\n        />\\n      </div>\\n      <div\\n        class=\"col-sm-11 small text-warning\"\\n        style=\"margin-top: 5px;\"\\n        ng-show=\"\\n          kubernetesConfigurationDataCreationForm[\\'configuration_data_key_\\' + index].$invalid ||\\n          (!entry.Used && $ctrl.state.duplicateKeys[index] !== undefined) ||\\n          $ctrl.state.invalidKeys[index]\\n        \"\\n      >\\n        <ng-messages for=\"kubernetesConfigurationDataCreationForm[\\'configuration_data_key_\\' + index].$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </ng-messages>\\n        <p ng-if=\"$ctrl.state.duplicateKeys[index] !== undefined\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This key is already defined.</p>\\n        <p ng-if=\"$ctrl.state.invalidKeys[index]\"\\n          ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This key is invalid. A valid key must consist of alphanumeric characters, \\'-\\', \\'_\\' or \\'.\\'</p\\n        >\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\" ng-if=\"$ctrl.formValues.IsSimple && !entry.IsBinary\">\\n      <label for=\"configuration_data_value_{{ index }}\" class=\"col-sm-1 control-label text-left\">Value</label>\\n      <div class=\"col-sm-11\">\\n        <textarea\\n          class=\"form-control\"\\n          rows=\"5\"\\n          id=\"configuration_data_value_{{ index }}\"\\n          name=\"configuration_data_value_{{ index }}\"\\n          ng-model=\"$ctrl.formValues.Data[index].Value\"\\n          required\\n        ></textarea>\\n      </div>\\n      <div class=\"col-sm-11 small text-warning\" style=\"margin-top: 5px;\" ng-show=\"kubernetesConfigurationDataCreationForm[\\'configuration_data_value_\\' + index].$invalid\">\\n        <ng-messages for=\"kubernetesConfigurationDataCreationForm[\\'configuration_data_value_\\' + index].$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </ng-messages>\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\" ng-if=\"$ctrl.formValues.IsSimple && entry.IsBinary\">\\n      <label for=\"configuration_data_value_{{ index }}\" class=\"col-sm-1 control-label text-left\">Value</label>\\n      <div class=\"col-sm-11 control-label small text-muted text-left\"\\n        >Binary data <portainer-tooltip position=\"bottom\" message=\"This key holds binary data and cannot be displayed.\"></portainer-tooltip\\n      ></div>\\n    </div>\\n\\n    <div class=\"form-group\" ng-if=\"$ctrl.formValues.IsSimple\">\\n      <div class=\"col-sm-1\"></div>\\n      <div class=\"col-sm-11\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger space-right\"\\n          style=\"margin-left: 0;\"\\n          ng-disabled=\"entry.Used\"\\n          ng-click=\"$ctrl.removeEntry(index, entry)\"\\n          data-cy=\"k8sConfigDetail-removeEntryButton{{ index }}\"\\n        >\\n          <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i> Remove entry\\n        </button>\\n        <span class=\"small text-muted\" ng-if=\"entry.Used\">\\n          <i class=\"fa fa-info-circle blue-icon space-right\" aria-hidden=\"true\"></i>\\n          This key is currently used by one or more applications\\n        </span>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\" ng-if=\"!$ctrl.formValues.IsSimple\">\\n    <input type=\"text\" ng-model=\"$ctrl.formValues.DataYaml\" required style=\"display: none;\" />\\n    <code-editor identifier=\"kubernetes-configuration-editor\" value=\"$ctrl.formValues.DataYaml\" read-only=\"false\" yml=\"true\" on-change=\"($ctrl.editorUpdate)\"></code-editor>\\n  </div>\\n</ng-form>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),function(e){var a=n(2),i=n(1),s=n.n(i),r=n(814),o=n.n(r),l=n(815),c=n(71),d=n(80),u=n(86);class p{constructor(e){this.$async=e,this.editorUpdate=this.editorUpdate.bind(this),this.editorUpdateAsync=this.editorUpdateAsync.bind(this),this.onFileLoad=this.onFileLoad.bind(this),this.onFileLoadAsync=this.onFileLoadAsync.bind(this),this.showSimpleMode=this.showSimpleMode.bind(this),this.showAdvancedMode=this.showAdvancedMode.bind(this)}onChangeKey(e){e&&e.Used||(this.state.duplicateKeys=c.default.getDuplicates(Object(a.a)(this.formValues.Data,e=>e.Key)),this.state.invalidKeys=c.default.getInvalidKeys(Object(a.a)(this.formValues.Data,e=>e.Key)),this.isValid=0===Object.keys(this.state.duplicateKeys).length&&0===Object.keys(this.state.invalidKeys).length)}addEntry(){this.formValues.Data.push(new u.KubernetesConfigurationFormValuesEntry)}removeEntry(e,t){t.Used||(this.formValues.Data.splice(e,1),this.onChangeKey())}async editorUpdateAsync(e){this.formValues.DataYaml!==e.getValue()&&(this.formValues.DataYaml=e.getValue(),this.isEditorDirty=!0)}editorUpdate(e){return this.$async(this.editorUpdateAsync,e)}async onFileLoadAsync(t){const n=new u.KubernetesConfigurationFormValuesEntry,a=o.a.detect(e.from(t.target.result)),i=new TextDecoder(a);if(n.Key=t.target.fileName,n.IsBinary=d.default.isBinary(a),n.IsBinary){const e=i.decode(t.target.result);n.Value=l.a.encode(e)}else n.Value=i.decode(t.target.result);this.formValues.Data.push(n),this.onChangeKey()}onFileLoad(e){return this.$async(this.onFileLoadAsync,e)}addEntryFromFile(e){if(e){const t=new FileReader;t.fileName=e.name,t.onload=this.onFileLoad,t.readAsArrayBuffer(e)}}showSimpleMode(){this.formValues.IsSimple=!0,this.formValues.Data=d.default.parseYaml(this.formValues),this.onChangeKey()}showAdvancedMode(){this.formValues.IsSimple=!1,this.formValues.DataYaml=d.default.parseData(this.formValues)}$onInit(){this.state={duplicateKeys:[],invalidKeys:{}}}}p.$inject=[\"$async\"],t.default=p,s.a.module(\"portainer.kubernetes\").controller(\"KubernetesConfigurationDataController\",p)}.call(this,n(328).Buffer)},,,,,,,function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(1583);i.a.module(\"portainer.kubernetes\").component(\"kubernetesSidebar\",{templateUrl:s,bindings:{endpointId:\"<\",isSidebarOpen:\"<\",adminAccess:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/kubernetes-sidebar/kubernetes-sidebar.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<sidebar-menu-item\\n  path=\"kubernetes.dashboard\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-tachometer-alt fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"k8sSidebar-dashboard\"\\n>\\n  Dashboard\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"kubernetes.templates.custom\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-rocket fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"k8sSidebar-customTemplates\"\\n>\\n  Custom Templates\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"kubernetes.resourcePools\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-layer-group fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"k8sSidebar-namespaces\"\\n>\\n  Namespaces\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"kubernetes.templates.helm\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-dharmachakra fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"k8sSidebar-helm\"\\n>\\n  Helm\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"kubernetes.applications\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-laptop-code fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"k8sSidebar-applications\"\\n>\\n  Applications\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item\\n  path=\"kubernetes.configurations\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  icon-class=\"fa-file-code fa-fw\"\\n  class-name=\"sidebar-list\"\\n  data-cy=\"k8sSidebar-configurations\"\\n>\\n  ConfigMaps & Secrets\\n</sidebar-menu-item>\\n\\n<sidebar-menu-item path=\"kubernetes.volumes\" path-params=\"{ endpointId: $ctrl.endpointId }\" icon-class=\"fa-database fa-fw\" class-name=\"sidebar-list\" data-cy=\"k8sSidebar-volumes\">\\n  Volumes\\n</sidebar-menu-item>\\n\\n<sidebar-menu\\n  icon-class=\"fa-server fa-fw\"\\n  label=\"Cluster\"\\n  path=\"kubernetes.cluster\"\\n  path-params=\"{ endpointId: $ctrl.endpointId }\"\\n  is-sidebar-open=\"$ctrl.isSidebarOpen\"\\n  children-paths=\"[\\'kubernetes.cluster\\', \\'portainer.k8sendpoint.kubernetesConfig\\', \\'kubernetes.registries\\', \\'kubernetes.registries.access\\']\"\\n>\\n  <div ng-if=\"$ctrl.adminAccess\">\\n    <sidebar-menu-item\\n      authorization=\"K8sClusterSetupRW\"\\n      path=\"portainer.k8sendpoint.kubernetesConfig\"\\n      path-params=\"{ id: $ctrl.endpointId }\"\\n      class-name=\"sidebar-sublist\"\\n      data-cy=\"k8sSidebar-setup\"\\n    >\\n      Setup\\n    </sidebar-menu-item>\\n\\n    <sidebar-menu-item\\n      authorization=\"PortainerRegistryList\"\\n      path=\"kubernetes.registries\"\\n      path-params=\"{ endpointId: $ctrl.endpointId }\"\\n      class-name=\"sidebar-sublist\"\\n      data-cy=\"k8sSidebar-registries\"\\n    >\\n      Registries\\n    </sidebar-menu-item>\\n  </div>\\n</sidebar-menu>\\n')}]),e.exports=n},function(e,t,n){const a=n(1585);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourceReservation\",{templateUrl:a,controller:\"KubernetesResourceReservationController\",bindings:{description:\"@\",cpuReservation:\"<\",cpuUsage:\"<\",cpuLimit:\"<\",memoryReservation:\"<\",memoryUsage:\"<\",memoryLimit:\"<\",displayUsage:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/resource-reservation/resourceReservation.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"row\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Resource reservation\\n  </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\">\\n      <p>\\n        {{ $ctrl.description }}\\n      </p>\\n    </span>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.memoryLimit !== 0\">\\n    <label for=\"memory-reservation\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Memory reservation\\n    </label>\\n    <div class=\"col-sm-9\" style=\"margin-top: 4px;\">\\n      <uib-progressbar\\n        animate=\"false\"\\n        value=\"$ctrl.memoryReservationPercent\"\\n        type=\"{{ $ctrl.memoryReservationPercent | kubernetesUsageLevelInfo }}\"\\n        data-cy=\"k8sNamespaceDetail-memoryUsage\"\\n      >\\n        <b style=\"white-space: nowrap;\"> {{ $ctrl.memoryReservation }} / {{ $ctrl.memoryLimit }} MB - {{ $ctrl.memoryReservationPercent }}% </b>\\n      </uib-progressbar>\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.displayUsage && $ctrl.memoryLimit !== 0\">\\n    <label for=\"memory-usage\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Memory used\\n    </label>\\n    <div class=\"col-sm-9\" style=\"margin-top: 4px;\">\\n      <uib-progressbar animate=\"false\" value=\"$ctrl.memoryUsagePercent\" type=\"{{ $ctrl.memoryUsagePercent | kubernetesUsageLevelInfo }}\">\\n        <b style=\"white-space: nowrap;\"> {{ $ctrl.memoryUsage }} / {{ $ctrl.memoryLimit }} MB - {{ $ctrl.memoryUsagePercent }}% </b>\\n      </uib-progressbar>\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.cpuLimit !== 0\">\\n    <label for=\"cpu-reservation\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      CPU reservation\\n    </label>\\n    <div class=\"col-sm-9\" style=\"margin-top: 4px;\">\\n      <uib-progressbar animate=\"false\" value=\"$ctrl.cpuReservationPercent\" type=\"{{ $ctrl.cpuReservationPercent | kubernetesUsageLevelInfo }}\">\\n        <b style=\"white-space: nowrap;\"> {{ $ctrl.cpuReservation | kubernetesApplicationCPUValue }} / {{ $ctrl.cpuLimit }} - {{ $ctrl.cpuReservationPercent }}% </b>\\n      </uib-progressbar>\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-if=\"$ctrl.displayUsage && $ctrl.cpuLimit !== 0\">\\n    <label for=\"cpu-usage\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      CPU used\\n    </label>\\n    <div class=\"col-sm-9\" style=\"margin-top: 4px;\">\\n      <uib-progressbar animate=\"false\" value=\"$ctrl.cpuUsagePercent\" type=\"{{ $ctrl.cpuUsagePercent | kubernetesUsageLevelInfo }}\">\\n        <b style=\"white-space: nowrap;\"> {{ $ctrl.cpuUsage | kubernetesApplicationCPUValue }} / {{ $ctrl.cpuLimit }} - {{ $ctrl.cpuUsagePercent }}% </b>\\n      </uib-progressbar>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);class s{usageValues(){this.cpuLimit&&(this.cpuReservationPercent=Math.round(this.cpuReservation/this.cpuLimit*100)),this.memoryLimit&&(this.memoryReservationPercent=Math.round(this.memoryReservation/this.memoryLimit*100)),this.displayUsage&&this.cpuLimit&&this.memoryLimit&&(this.cpuUsagePercent=Math.round(this.cpuUsage/this.cpuLimit*100),this.memoryUsagePercent=Math.round(this.memoryUsage/this.memoryLimit*100))}$onInit(){this.usageValues()}$onChanges(){this.usageValues()}}t.default=s,i.a.module(\"portainer.kubernetes\").controller(\"KubernetesResourceReservationController\",s)},function(e,t,n){const a=n(1588);angular.module(\"portainer.kubernetes\").component(\"kubernetesViewHeader\",{templateUrl:a,transclude:!0,bindings:{viewReady:\"<\",title:\"@\",state:\"@\"}})},function(e,t){var n=\"app/kubernetes/components/view-header/viewHeader.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header ng-if=\"$ctrl.viewReady\">\\n  <rd-header-title title-text=\"{{ $ctrl.title }}\">\\n    <a data-toggle=\"tooltip\" title=\"refresh the view\" ui-sref=\"{{ $ctrl.state }}\" ui-sref-opts=\"{reload: $ctrl.state}\" ng-if=\"$ctrl.viewReady\">\\n      <i class=\"fa fa-sm fa-sync\" aria-hidden=\"true\" data-cy=\"component-refreshTableButton\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>\\n    <ng-transclude></ng-transclude>\\n  </rd-header-content>\\n</rd-header>\\n')}]),e.exports=n},function(e,t,n){const a=n(1590);angular.module(\"portainer.kubernetes\").component(\"kubernetesViewLoading\",{templateUrl:a,bindings:{viewReady:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/view-loading/viewLoading.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"loading-view-area\" ng-if=\"!$ctrl.viewReady\">\\n  <div class=\"sk-fold sk-center\">\\n    <div class=\"sk-fold-cube\"></div>\\n    <div class=\"sk-fold-cube\"></div>\\n    <div class=\"sk-fold-cube\"></div>\\n    <div class=\"sk-fold-cube\"></div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1592);angular.module(\"portainer.kubernetes\").component(\"kubernetesYamlInspector\",{templateUrl:a,controller:\"KubernetesYamlInspectorController\",bindings:{key:\"@\",data:\"<\"}})},function(e,t){var n=\"app/kubernetes/components/yaml-inspector/yamlInspector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <code-editor identifier=\"application-details-yaml\" read-only=\"true\" value=\"$ctrl.data\"></code-editor>\\n  <div style=\"margin: 15px;\">\\n    <span class=\"btn btn-primary btn-sm\" ng-click=\"$ctrl.copyYAML()\"><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy to clipboard</span>\\n    <span class=\"btn btn-primary btn-sm space-left\" ng-click=\"$ctrl.toggleYAMLInspectorExpansion()\">\\n      <i class=\"fa fa-{{ $ctrl.expanded ? \\'minus\\' : \\'plus\\' }} space-right\" aria-hidden=\"true\"></i>{{ $ctrl.expanded ? \\'Collapse\\' : \\'Expand\\' }}</span>\\n    <span id=\"copyNotificationYAML\" style=\"margin-left: 7px; display: none; color: #23ae89;\" class=\"small\"> <i class=\"fa fa-check\" aria-hidden=\"true\"></i> copied </span>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),function(e){var a=n(1),i=n.n(a);class s{constructor(e){this.clipboard=e,this.expanded=!1}copyYAML(){this.clipboard.copyText(this.data),e(\"#copyNotificationYAML\").show().fadeOut(2500)}toggleYAMLInspectorExpansion(){let t=this.expanded?\"500px\":\"80vh\";e(\"kubernetes-yaml-inspector code-editor > div.CodeMirror\").css({height:t}),this.expanded=!this.expanded}}s.$inject=[\"clipboard\"],t.default=s,i.a.module(\"portainer.kubernetes\").controller(\"KubernetesYamlInspectorController\",s)}.call(this,n(50))},function(e,t){angular.module(\"portainer.kubernetes\").factory(\"KubernetesEndpoints\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return function(a){return e(t+\"/:endpointId/kubernetes/api/v1\"+(a?\"/namespaces/:namespace\":\"\")+\"/endpoints/:id\",{endpointId:n.endpointID,namespace:a},{get:{method:\"GET\",ignoreLoadingBar:!0}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(1),s=n.n(i),r=n(11),o=n(613);class l{constructor(e,t){this.$async=e,this.KubernetesEndpoints=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{const t=await this.KubernetesEndpoints(e).get().$promise;return Object(a.a)(t.items,e=>o.default.apiToEndpoint(e))}catch(e){throw new r.default(\"Unable to retrieve environments\",e)}}get(e){return this.$async(this.getAllAsync,e)}}l.$inject=[\"$async\",\"KubernetesEndpoints\"],t.default=l,s.a.module(\"portainer.kubernetes\").service(\"KubernetesEndpointService\",l)},function(e,t,n){\"use strict\";n.r(t);var a=n(818),i=n(46),s=n(3),r=n(49);angular.module(\"portainer.kubernetes\").filter(\"kubernetesApplicationServiceTypeIcon\",(function(){return function(e){switch(Object(i.a)(e)){case\"loadbalancer\":return\"fa-project-diagram\";case\"clusterip\":return\"fa-list-alt\";case\"nodeport\":return\"fa-list\"}}})).filter(\"kubernetesApplicationServiceTypeText\",(function(){return function(e){switch(Object(i.a)(e)){case\"loadbalancer\":return\"LoadBalancer\";case\"clusterip\":return\"ClusterIP\";case\"nodeport\":return\"NodePort\"}}})).filter(\"kubernetesApplicationTypeText\",(function(){return function(e){switch(e){case s.KubernetesApplicationTypes.DEPLOYMENT:return s.KubernetesApplicationTypeStrings.DEPLOYMENT;case s.KubernetesApplicationTypes.DAEMONSET:return s.KubernetesApplicationTypeStrings.DAEMONSET;case s.KubernetesApplicationTypes.STATEFULSET:return s.KubernetesApplicationTypeStrings.STATEFULSET;case s.KubernetesApplicationTypes.POD:return s.KubernetesApplicationTypeStrings.POD;case s.KubernetesApplicationTypes.HELM:return s.KubernetesApplicationTypeStrings.HELM;default:return\"-\"}}})).filter(\"kubernetesApplicationCPUValue\",(function(){return function(e){return Object(a.a)(e,2)}})).filter(\"kubernetesApplicationDataAccessPolicyIcon\",(function(){return function(e){switch(e){case s.KubernetesApplicationDataAccessPolicies.ISOLATED:return\"fa-cubes\";case s.KubernetesApplicationDataAccessPolicies.SHARED:return\"fa-cube\"}}})).filter(\"kubernetesApplicationDataAccessPolicyText\",(function(){return function(e){switch(e){case s.KubernetesApplicationDataAccessPolicies.ISOLATED:return\"Isolated\";case s.KubernetesApplicationDataAccessPolicies.SHARED:return\"Shared\"}}})).filter(\"kubernetesApplicationDataAccessPolicyTooltip\",(function(){return function(e){switch(e){case s.KubernetesApplicationDataAccessPolicies.ISOLATED:return\"All the instances of this application are using their own data.\";case s.KubernetesApplicationDataAccessPolicies.SHARED:return\"All the instances of this application are sharing the same data.\"}}})).filter(\"kubernetesApplicationConstraintNodeAffinityValue\",(function(){return function(e,t){return t===r.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.IN||t===r.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.NOT_IN?e:t===r.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.EXISTS||t===r.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.DOES_NOT_EXIST?\"\":t===r.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.GREATER_THAN||t===r.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.LOWER_THAN?e[0]:\"\"}})).filter(\"kubernetesNodeLabelHumanReadbleText\",(function(){return function(e){return{\"kubernetes.io/os\":\"Operating system\",\"kubernetes.io/arch\":\"Architecture\",\"kubernetes.io/hostname\":\"Node\"}[e]||e}})).filter(\"kubernetesApplicationIngressEmptyHostname\",(function(){return function(e){return\"\"===e?\"<use IP>\":e}}))},function(e,t,n){\"use strict\";n.r(t);var a=n(25);angular.module(\"portainer.kubernetes\").filter(\"kubernetesConfigurationTypeText\",(function(){return function(e){switch(e){case a.KubernetesConfigurationTypes.SECRET:return\"Secret\";case a.KubernetesConfigurationTypes.CONFIGMAP:return\"ConfigMap\"}}}))},function(e,t,n){\"use strict\";n.r(t);var a=n(46);angular.module(\"portainer.kubernetes\").filter(\"kubernetesEventTypeColor\",(function(){return function(e){switch(Object(a.a)(e)){case\"normal\":return\"info\";case\"warning\":return\"warning\";default:return\"danger\"}}}))},function(e,t){angular.module(\"portainer.kubernetes\").filter(\"kubernetesUsageLevelInfo\",(function(){return function(e){return e>=80?\"danger\":e>50&&e<80?\"warning\":\"success\"}}))},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e,t){const n=t+\"/:endpointId/kubernetes/helm\";return e(n,{},{templates:{url:\"/api/templates/helm\",method:\"GET\",params:{repo:\"@repo\"},cache:!0},show:{url:\"/api/templates/helm/:type\",method:\"GET\",params:{repo:\"@repo\",chart:\"@chart\"},transformResponse:function(e){return{values:e}}},getHelmRepositories:{method:\"GET\",url:n+\"/repositories\"},addHelmRepository:{method:\"POST\",url:n+\"/repositories\"},list:{method:\"GET\",isArray:!0,params:{namespace:\"@namespace\",selector:\"@selector\",filter:\"@filter\",output:\"@output\"}},install:{method:\"POST\"},uninstall:{url:n+\"/:release\",method:\"DELETE\",params:{namespace:\"@namespace\"}}})}s.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\"],i.a.module(\"portainer.kubernetes\").factory(\"HelmFactory\",s)},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"HelmService\",(function(){return r}));var a=n(1),i=n.n(a),s=n(11);function r(e){return{search:async function(t){try{return await e.templates({repo:t}).$promise}catch(e){throw new s.default(\"Unable to retrieve helm charts\",e)}},values:async function(t,n){try{return await e.show({repo:t,chart:n,type:\"values\"}).$promise}catch(e){throw new s.default(\"Unable to retrieve values from chart\",e)}},getHelmRepositories:async function(t){return await e.getHelmRepositories({endpointId:t}).$promise},addHelmRepository:async function(t,n){return await e.addHelmRepository({endpointId:t},n).$promise},install:async function(t,n){return await e.install({endpointId:t},n).$promise},uninstall:async function(t,{Name:n,ResourcePool:a}){try{await e.uninstall({endpointId:t,release:n,namespace:a}).$promise}catch(e){throw new s.default(\"Unable to delete release\",e)}},listReleases:async function(t,{namespace:n,selector:a,filter:i,output:r}){try{return await e.list({endpointId:t,selector:a,namespace:n,filter:i,output:r}).$promise}catch(e){throw new s.default(\"Unable to retrieve release list\",e)}}}}r.$inject=[\"HelmFactory\"],i.a.module(\"portainer.kubernetes\").factory(\"HelmService\",r)},function(e,t,n){\"use strict\";n.r(t);var a=n(293);describe(\"stacksFromApplications\",()=>{const{stacksFromApplications:e}=a.default;test(\"should return an empty array when passed an empty array\",()=>{expect(e([])).toHaveLength(0)}),test(\"should return an empty array when passed a list of applications without stacks\",()=>{expect(e([{StackName:\"\"},{StackName:\"\"},{StackName:\"\"},{StackName:\"\"}])).toHaveLength(0)})})},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesHorizontalPodAutoScalers\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(i){return e(t+\"/:endpointId/kubernetes/apis/autoscaling/v1\"+(i?\"/namespaces/:namespace\":\"\")+\"/horizontalpodautoscalers/:id/:action\",{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},rollback:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(1),s=n.n(i),r=n(11),o=n(18),l=n(105);class c{constructor(e,t){this.$async=e,this.KubernetesHorizontalPodAutoScalers=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new o.KubernetesCommonParams;n.id=t;const[a,i]=await Promise.all([this.KubernetesHorizontalPodAutoScalers(e).get(n).$promise,this.KubernetesHorizontalPodAutoScalers(e).getYaml(n).$promise]);return l.KubernetesHorizontalPodAutoScalerConverter.apiToModel(a,i)}catch(e){throw new r.default(\"Unable to retrieve HorizontalPodAutoScaler\",e)}}async getAllAsync(e){try{const t=await this.KubernetesHorizontalPodAutoScalers(e).get().$promise;return Object(a.a)(t.items,e=>l.KubernetesHorizontalPodAutoScalerConverter.apiToModel(e))}catch(e){throw new r.default(\"Unable to retrieve HorizontalPodAutoScalers\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=l.KubernetesHorizontalPodAutoScalerConverter.createPayload(e),a=n.metadata.namespace;return await this.KubernetesHorizontalPodAutoScalers(a).create(t,n).$promise}catch(e){throw new r.default(\"Unable to create horizontalPodAutoScaler\",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new o.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,i=l.KubernetesHorizontalPodAutoScalerConverter.patchPayload(e,t);if(!i.length)return;return await this.KubernetesHorizontalPodAutoScalers(a).patch(n,i).$promise}catch(e){throw new r.default(\"Unable to patch horizontalPodAutoScaler\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new o.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesHorizontalPodAutoScalers(n).delete(t).$promise}catch(e){throw new r.default(\"Unable to remove horizontalPodAutoScaler\",e)}}delete(e){return this.$async(this.deleteAsync,e)}}c.$inject=[\"$async\",\"KubernetesHorizontalPodAutoScalers\"],t.default=c,s.a.module(\"portainer.kubernetes\").service(\"KubernetesHorizontalPodAutoScalerService\",c)},function(e,t,n){\"use strict\";n.r(t);var a=n(36);function i(e,t,n){return function(i){return e(`${t}/:endpointId/kubernetes/apis/networking.k8s.io/v1${i?\"/namespaces/:namespace\":\"\"}/ingresses/:id/:action`,{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},rollback:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}i.$inject=[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\"],angular.module(\"portainer.kubernetes\").factory(\"KubernetesIngresses\",i)},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesIngressService\",(function(){return d}));var a=n(32),i=n(34),s=n(1),r=n.n(s),o=n(11),l=n(18),c=n(62);function d(e,t){return{get:function(t,a){if(a)return e(n,t,a);return e(s,t)},create:function(n){return e(async()=>{try{const e={},a=c.KubernetesIngressConverter.createPayload(n),i=a.metadata.namespace;return await t(i).create(e,a).$promise}catch(e){throw new o.default(\"Unable to create ingress\",e)}})},patch:function(n,a){return e(async()=>{try{const e=new l.KubernetesCommonParams;e.id=a.Name;const i=a.Namespace,s=c.KubernetesIngressConverter.patchPayload(n,a);if(!s.length)return;return await t(i).patch(e,s).$promise}catch(e){throw new o.default(\"Unable to patch ingress\",e)}})},delete:function(n,a){return e(async()=>{try{const e=new l.KubernetesCommonParams;e.id=a,await t(n).delete(e).$promise}catch(e){throw new o.default(\"Unable to delete ingress\",e)}})}};async function n(e,n){try{const a=new l.KubernetesCommonParams;a.id=n;const[i,s]=await Promise.all([t(e).get(a).$promise,t(e).getYaml(a).$promise]);return{Raw:c.KubernetesIngressConverter.apiToModel(i),Yaml:s.data}}catch(e){throw new o.default(\"Unable to retrieve Ingress\",e)}}async function s(e){try{const n=await t(e).get().$promise;return Object(i.a)(n.items,(e,t)=>Object(a.a)(e,c.KubernetesIngressConverter.apiToModel(t)),[])}catch(e){throw new o.default(\"Unable to retrieve Ingresses\",e)}}}d.$inject=[\"$async\",\"KubernetesIngresses\"],r.a.module(\"portainer.kubernetes\").service(\"KubernetesIngressService\",d)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(11),r=n(18);class o{constructor(e,t){this.$async=e,this.KubernetesMetrics=t,this.capabilitiesAsync=this.capabilitiesAsync.bind(this),this.getPodAsync=this.getPodAsync.bind(this),this.getNodeAsync=this.getNodeAsync.bind(this),this.getPodsAsync=this.getPodsAsync.bind(this),this.getNodesAsync=this.getNodesAsync.bind(this)}async capabilitiesAsync(e){try{await this.KubernetesMetrics().capabilities({endpointId:e}).$promise}catch(e){throw new s.default(\"Unable to retrieve metrics\",e)}}capabilities(e){return this.$async(this.capabilitiesAsync,e)}async getNodeAsync(e){try{const t=new r.KubernetesCommonParams;t.id=e;return await this.KubernetesMetrics().getNode(t).$promise}catch(e){throw new s.default(\"Unable to retrieve node stats\",e)}}getNode(e){return this.$async(this.getNodeAsync,e)}async getPodAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t;return await this.KubernetesMetrics(e).getPod(n).$promise}catch(e){throw new s.default(\"Unable to retrieve pod stats\",e)}}getPod(e,t){return this.$async(this.getPodAsync,e,t)}async getNodesAsync(e){try{return await this.KubernetesMetrics().getNodes({endpointId:e}).$promise}catch(e){throw new s.default(\"Unable to retrieve nodes stats\",e)}}getNodes(e){return this.$async(this.getNodesAsync,e)}async getPodsAsync(e){try{return await this.KubernetesMetrics(e).getPods().$promise}catch(e){throw new s.default(\"Unable to retrieve pod stats\",e)}}getPods(e){return this.$async(this.getPodsAsync,e)}}o.$inject=[\"$async\",\"KubernetesMetrics\"],t.default=o,i.a.module(\"portainer.kubernetes\").service(\"KubernetesMetricsService\",o)},function(e,t){angular.module(\"portainer.kubernetes\").factory(\"KubernetesMetrics\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return function(a){const i=t+\"/:endpointId/kubernetes/apis/metrics.k8s.io/v1beta1\",s=`${i}${a?\"/namespaces/:namespace\":\"\"}/pods/:id`;return e(i,{endpointId:n.endpointID,namespace:a},{capabilities:{method:\"GET\"},getPod:{method:\"GET\",url:s},getNode:{method:\"GET\",url:i+\"/nodes/:id\"},getPods:{method:\"GET\",url:i+\"/namespaces/:namespace/pods\"},getNodes:{method:\"GET\",url:i+\"/nodes\"}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(46);angular.module(\"portainer.kubernetes\").filter(\"kubernetesNodeStatusColor\",(function(){return function(e){switch(Object(a.a)(e)){case\"ready\":return\"success\";case\"warning\":return\"warning\";default:return\"danger\"}}})).filter(\"kubernetesNodeConditionsMessage\",(function(){return function(e){return e.MemoryPressure?\"Node memory is running low\":e.PIDPressure?\"Too many processes running on the node\":e.DiskPressure?\"Node disk capacity is running low\":e.NetworkUnavailable?\"Incorrect node network configuration\":void 0}}))},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesNodes\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(){return e(t+\"/:endpointId/kubernetes/api/v1/nodes/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(1),s=n.n(i),r=n(11),o=n(129),l=n(18);class c{constructor(e,t){this.$async=e,this.KubernetesNodes=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.patchAsync=this.patchAsync.bind(this)}async getAsync(e){try{const t=new l.KubernetesCommonParams;t.id=e;const[n,a]=await Promise.all([this.KubernetesNodes().get(t).$promise,this.KubernetesNodes().getYaml(t).$promise]);return o.default.apiToNodeDetails(n,a)}catch(e){const t=e.data;throw new r.default(\"Unable to retrieve node details\",t)}}async getAllAsync(){try{const e=await this.KubernetesNodes().get().$promise;return Object(a.a)(e.items,e=>o.default.apiToNode(e))}catch(e){throw{msg:\"Unable to retrieve nodes\",err:e}}}get(e){return e?this.$async(this.getAsync,e):this.$async(this.getAllAsync)}async patchAsync(e,t){try{const n=new l.KubernetesCommonParams;n.id=e.Name;const a=o.default.formValuesToNode(e,t),i=o.default.patchPayload(e,a),s=await this.KubernetesNodes().patch(n,i).$promise;return o.default.apiToNodeDetails(s)}catch(e){throw{msg:\"Unable to patch node\",err:e}}}patch(e,t){return this.$async(this.patchAsync,e,t)}}c.$inject=[\"$async\",\"KubernetesNodes\"],t.default=c,s.a.module(\"portainer.kubernetes\").service(\"KubernetesNodeService\",c)},function(e,t,n){\"use strict\";n.r(t);var a=n(46);angular.module(\"portainer.kubernetes\").filter(\"kubernetesPodStatusColor\",(function(){return function(e){switch(Object(a.a)(e)){case\"running\":return\"success\";case\"waiting\":return\"warning\";case\"terminated\":return\"info\";default:return\"danger\"}}})).filter(\"kubernetesPodConditionStatusBadge\",(function(){return function(e,t){switch(t){case\"Unschedulable\":switch(e){case\"True\":return\"fa-exclamation-triangle red-icon\";case\"False\":return\"fa-check green-icon\";case\"Unknown\":return\"fa-exclamation-circle orange-icon\"}break;case\"PodScheduled\":case\"Ready\":case\"Initialized\":case\"ContainersReady\":switch(e){case\"True\":return\"fa-check green-icon\";case\"False\":return\"fa-exclamation-triangle red-icon\";case\"Unknown\":return\"fa-exclamation-circle orange-icon\"}break;default:return\"fa-question-circle red-icon\"}}})).filter(\"kubernetesPodConditionStatusText\",(function(){return function(e,t){switch(t){case\"Unschedulable\":switch(e){case\"True\":return\"Alert\";case\"False\":return\"OK\";case\"Unknown\":return\"Warning\"}break;case\"PodScheduled\":case\"Ready\":case\"Initialized\":case\"ContainersReady\":switch(e){case\"True\":return\"Ok\";case\"False\":return\"Alert\";case\"Unknown\":return\"Warning\"}break;default:return\"Unknown\"}}}))},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(11),r=n(18),o=n(170);class l{constructor(e,t){this.$async=e,this.KubernetesPods=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.logsAsync=this.logsAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.evictionAsync=this.evictionAsync.bind(this)}async getAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t;const[a,i]=await Promise.all([this.KubernetesPods(e).get(n).$promise,this.KubernetesPods(e).getYaml(n).$promise]);return{Raw:a,Yaml:i.data}}catch(e){throw new s.default(\"Unable to retrieve pod\",e)}}async getAllAsync(e){try{return(await this.KubernetesPods(e).get().$promise).items}catch(e){throw new s.default(\"Unable to retrieve pods\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async logsAsync(e,t,n){try{const a=new r.KubernetesCommonParams;a.id=t,n&&(a.container=n);const i=await this.KubernetesPods(e).logs(a).$promise;return 0===i.logs.length?[]:i.logs.split(\"\\n\")}catch(e){throw new s.default(\"Unable to retrieve pod logs\",e)}}logs(e,t,n){return this.$async(this.logsAsync,e,t,n)}async patchAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,i=o.default.patchPayload(e,t);if(!i.length)return;return await this.KubernetesPods(a).patch(n,i).$promise}catch(e){throw new s.default(\"Unable to patch pod\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new r.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesPods(n).delete(t).$promise}catch(e){throw new s.default(\"Unable to remove pod\",e)}}delete(e){return this.$async(this.deleteAsync,e)}async evictionAsync(e){try{const t=new r.KubernetesCommonParams;t.id=e.Name,t.action=\"eviction\";const n=e.Namespace,a=o.default.evictionPayload(e);await this.KubernetesPods(n).evict(t,a).$promise}catch(e){throw new s.default(\"Unable to evict pod\",e)}}eviction(e){return this.$async(this.evictionAsync,e)}}l.$inject=[\"$async\",\"KubernetesPods\"],t.default=l,i.a.module(\"portainer.kubernetes\").service(\"KubernetesPodService\",l)},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesConfigMaps\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(i){return e(t+\"/:endpointId/kubernetes/api/v1\"+(i?\"/namespaces/:namespace\":\"\")+\"/configmaps/:id/:action\",{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},delete:{method:\"DELETE\"}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesControllerRevisions\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(i){return e(t+\"/:endpointId/kubernetes/apis/apps/v1\"+(i?\"/namespaces/:namespace\":\"\")+\"/controllerrevisions/:id/:action\",{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesDaemonSets\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(i){return e(t+\"/:endpointId/kubernetes/apis/apps/v1\"+(i?\"/namespaces/:namespace\":\"\")+\"/daemonsets/:id/:action\",{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},rollback:{method:\"PATCH\",headers:{\"Content-Type\":\"application/strategic-merge-patch+json\"}},delete:{method:\"DELETE\"}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesDeployments\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(i){return e(t+\"/:endpointId/kubernetes/apis/apps/v1\"+(i?\"/namespaces/:namespace\":\"\")+\"/deployments/:id/:action\",{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},rollback:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},function(e,t){angular.module(\"portainer.kubernetes\").factory(\"KubernetesEndpoints\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){\"use strict\";return function(a){return e(t+\"/:endpointId/kubernetes/api/v1\"+(a?\"/namespaces/:namespace\":\"\")+\"/endpoints/:id\",{endpointId:n.endpointID,namespace:a},{get:{method:\"GET\",ignoreLoadingBar:!0}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesEvents\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(i){return e(t+\"/:endpointId/kubernetes/api/v1\"+(i?\"/namespaces/:namespace\":\"\")+\"/events/:id/:action\",{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},delete:{method:\"DELETE\"}})}}])},function(e,t){angular.module(\"portainer.kubernetes\").factory(\"KubernetesHealth\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",function(e,t){\"use strict\";return e(t+\"/:id/kubernetes/healthz\",{},{ping:{method:\"GET\",params:{id:\"id\"}}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e,t,n){return{get:async function(t){return e({method:\"GET\",url:n+\"/config\",params:{ids:t.map(e=>parseInt(e))},responseType:\"blob\",headers:{Accept:\"text/yaml\"}})}}}s.$inject=[\"$http\",\"EndpointProvider\",\"API_ENDPOINT_KUBERNETES\"],i.a.module(\"portainer.kubernetes\").factory(\"KubernetesConfig\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesNamespaces\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(){return e(t+\"/:endpointId/kubernetes/api/v1/namespaces/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},delete:{method:\"DELETE\"},status:{method:\"GET\",params:{action:\"status\"},ignoreLoadingBar:!0}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e,t,n){return e(t+\"/:endpointId/nodes_limits\",{endpointId:n.endpointID},{get:{method:\"GET\",ignoreLoadingBar:!0,transformResponse:e=>({data:JSON.parse(e)})}})}s.$inject=[\"$resource\",\"API_ENDPOINT_KUBERNETES\",\"EndpointProvider\"],i.a.module(\"portainer.kubernetes\").factory(\"KubernetesNodesLimits\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesPersistentVolumeClaims\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(i){return e(t+\"/:endpointId/kubernetes/api/v1\"+(i?\"/namespaces/:namespace\":\"\")+\"/persistentvolumeclaims/:id/:action\",{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(36),i=n(37);angular.module(\"portainer.kubernetes\").factory(\"KubernetesPods\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(s){return e(t+\"/:endpointId/kubernetes/api/v1\"+(s?\"/namespaces/:namespace\":\"\")+\"/pods/:id/:action\",{endpointId:n.endpointID,namespace:s},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},delete:{method:\"DELETE\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},logs:{method:\"GET\",params:{action:\"log\"},transformResponse:i.logsHandler},evict:{method:\"POST\"}})}}])},function(e,t){function n(e){return e(\"/api/kubernetes/:endpointId/namespaces/:namespaceName/:action\",{},{toggleSystem:{method:\"PUT\",params:{action:\"system\"}}})}n.$inject=[\"$resource\"],angular.module(\"portainer.kubernetes\").factory(\"KubernetesPortainerNamespaces\",n)},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesReplicaSets\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(i){return e(t+\"/:endpointId/kubernetes/apis/apps/v1\"+(i?\"/namespaces/:namespace\":\"\")+\"/replicasets/:id/:action\",{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesResourceQuotas\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(i){return e(t+\"/:endpointId/kubernetes/api/v1\"+(i?\"/namespaces/:namespace\":\"\")+\"/resourcequotas/:id/:action\",{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesSecrets\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(i){return e(t+\"/:endpointId/kubernetes/api/v1\"+(i?\"/namespaces/:namespace\":\"\")+\"/secrets/:id/:action\",{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},delete:{method:\"DELETE\"}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesServices\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(i){return e(t+\"/:endpointId/kubernetes/api/v1\"+(i?\"/namespaces/:namespace\":\"\")+\"/services/:id/:action\",{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesStatefulSets\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(i){return e(t+\"/:endpointId/kubernetes/apis/apps/v1\"+(i?\"/namespaces/:namespace\":\"\")+\"/statefulsets/:id/:action\",{endpointId:n.endpointID,namespace:i},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},rollback:{method:\"PATCH\",headers:{\"Content-Type\":\"application/strategic-merge-patch+json\"}},delete:{method:\"DELETE\"}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(36);angular.module(\"portainer.kubernetes\").factory(\"KubernetesStorage\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",\"EndpointProvider\",function(e,t,n){return function(){return e(t+\"/:endpointId/kubernetes/apis/storage.k8s.io/v1/storageclasses/:id/:action\",{endpointId:n.endpointID},{get:{method:\"GET\",ignoreLoadingBar:!0},getYaml:{method:\"GET\",headers:{Accept:\"application/yaml\"},transformResponse:a.rawResponse,ignoreLoadingBar:!0},create:{method:\"POST\"},update:{method:\"PUT\"},patch:{method:\"PATCH\",headers:{\"Content-Type\":\"application/json-patch+json\"}},delete:{method:\"DELETE\"}})}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(69),i=n(6),s=n(75),r=n(7),o=n(28),l=n(41),c=n(32),d=n(5),u=n(2),p=n(1),m=n.n(p),g=n(11),h=n(3),f=n(22),v=n(614),b=n(82),y=n(161),w=n(112),x=n(162),$=n(257),C=n(140),S=n(105),k=n(62),A=n(170);class P{constructor(e,t,n,a,i,s,r,o,l,c,d,u,p){this.$async=e,this.Authentication=t,this.KubernetesDeploymentService=n,this.KubernetesDaemonSetService=a,this.KubernetesStatefulSetService=i,this.KubernetesServiceService=s,this.KubernetesSecretService=r,this.KubernetesPersistentVolumeClaimService=o,this.KubernetesNamespaceService=l,this.KubernetesPodService=c,this.KubernetesHistoryService=d,this.KubernetesHorizontalPodAutoScalerService=u,this.KubernetesIngressService=p,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.patchPartialAsync=this.patchPartialAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}_getApplicationApiService(e){let t;if(e instanceof y.KubernetesDeployment||e instanceof h.KubernetesApplication&&e.ApplicationType===h.KubernetesApplicationTypes.DEPLOYMENT)t=this.KubernetesDeploymentService;else if(e instanceof x.KubernetesDaemonSet||e instanceof h.KubernetesApplication&&e.ApplicationType===h.KubernetesApplicationTypes.DAEMONSET)t=this.KubernetesDaemonSetService;else if(e instanceof w.KubernetesStatefulSet||e instanceof h.KubernetesApplication&&e.ApplicationType===h.KubernetesApplicationTypes.STATEFULSET)t=this.KubernetesStatefulSetService;else{if(!(e instanceof h.KubernetesApplication&&e.ApplicationType===h.KubernetesApplicationTypes.POD))throw new g.default(\"Unable to determine which association to use to retrieve API Service\");t=this.KubernetesPodService}return t}_generateIngressPatchPromises(e,t){return Object(u.a)(t,t=>{const n=Object(d.a)(e,{Name:t.Name});return this.KubernetesIngressService.patch(n,t)})}async getAsync(e,t){const[n,a,i,s,r,o,l]=await Promise.allSettled([this.KubernetesDeploymentService.get(e,t),this.KubernetesDaemonSetService.get(e,t),this.KubernetesStatefulSetService.get(e,t),this.KubernetesPodService.get(e,t),this.KubernetesPodService.get(e),this.KubernetesHorizontalPodAutoScalerService.get(e),this.KubernetesIngressService.get(e)]);let c,d;if(\"fulfilled\"===n.status)c=n,d=b.default.apiDeploymentToApplication;else if(\"fulfilled\"===a.status)c=a,d=b.default.apiDaemonSetToApplication;else if(\"fulfilled\"===i.status)c=i,d=b.default.apiStatefulSetToapplication;else{if(\"fulfilled\"!==s.status)throw new g.default(\"Unable to determine which association to use to convert application\");c=s,d=b.default.apiPodToApplication}const p=await this.KubernetesServiceService.get(e),m=$.default.findApplicationBoundService(p,c.value.Raw),h=m?await this.KubernetesServiceService.get(e,m.metadata.name):{},v=d(c.value.Raw,r.value,h.Raw,l.value);v.Yaml=c.value.Yaml,v.Raw=c.value.Raw,v.Pods=Object(u.a)(v.Pods,e=>A.default.apiToModel(e)),v.Containers=f.default.associateContainersAndApplication(v);const y=C.KubernetesHorizontalPodAutoScalerHelper.findApplicationBoundScaler(o.value,v),w=y?await this.KubernetesHorizontalPodAutoScalerService.get(e,y.Name):void 0;return v.AutoScaler=w,await this.KubernetesHistoryService.get(v),h.Yaml&&(v.Yaml+=\"---\\n\"+h.Yaml),w&&w.Yaml&&(v.Yaml+=\"---\\n\"+w.Yaml),v}async getAllAsync(e){const t=e?[e]:Object(u.a)(await this.KubernetesNamespaceService.get(),\"Name\"),n=(e,t,n,a,i)=>{const s=t(e,a,$.default.findApplicationBoundService(n,e),i);return s.Containers=f.default.associateContainersAndApplication(s),s},a=await Promise.all(Object(u.a)(t,async e=>{const[t,a,i,s,d,p,m]=await Promise.all([this.KubernetesDeploymentService.get(e),this.KubernetesDaemonSetService.get(e),this.KubernetesStatefulSetService.get(e),this.KubernetesServiceService.get(e),this.KubernetesPodService.get(e),this.KubernetesIngressService.get(e),this.KubernetesHorizontalPodAutoScalerService.get(e)]),g=Object(u.a)(t,e=>n(e,b.default.apiDeploymentToApplication,s,d,p)),h=Object(u.a)(a,e=>n(e,b.default.apiDaemonSetToApplication,s,d,p)),f=Object(u.a)(i,e=>n(e,b.default.apiStatefulSetToapplication,s,d,p)),v=Object(c.a)(Object(l.a)(g,\"Pods\"),Object(l.a)(h,\"Pods\"),Object(l.a)(f,\"Pods\")),y=Object(o.a)(d,...v),w=Object(u.a)(y,e=>n(e,b.default.apiPodToApplication,s,d,p)),x=Object(c.a)(g,h,f,w);return Object(r.a)(x,e=>{e.Pods=Object(u.a)(e.Pods,e=>A.default.apiToModel(e))}),await Promise.all(Object(r.a)(x,async t=>{const n=C.KubernetesHorizontalPodAutoScalerHelper.findApplicationBoundScaler(m,t),a=n?await this.KubernetesHorizontalPodAutoScalerService.get(e,n.Name):void 0;t.AutoScaler=a})),x}));return Object(s.a)(a)}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){let[t,n,a,i]=b.default.applicationFormValuesToApplication(e);if(a&&(await this.KubernetesServiceService.create(a),e.PublishingType===h.KubernetesApplicationPublishingTypes.INGRESS)){const t=k.KubernetesIngressConverter.applicationFormValuesToIngresses(e,a.Name);await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,t))}const s=this._getApplicationApiService(t);if(t instanceof w.KubernetesStatefulSet)t.VolumeClaims=i,n=await this.KubernetesServiceService.create(n),t.ServiceName=n.metadata.name;else{const e=Object(u.a)(i,e=>{if(!e.PreviousName&&!e.Id)return this.KubernetesPersistentVolumeClaimService.create(e)});await Promise.all(Object(o.a)(e,void 0))}if(e.AutoScaler.IsUsed&&e.DeploymentType!==h.KubernetesApplicationDeploymentTypes.GLOBAL){const n=C.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(t),a=S.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,n);await this.KubernetesHorizontalPodAutoScalerService.create(a)}await s.create(t)}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){const[n,a,i,s]=b.default.applicationFormValuesToApplication(e),[r,o,l,c]=b.default.applicationFormValuesToApplication(t),p=this._getApplicationApiService(n),m=this._getApplicationApiService(r);if(p!==m)return await this.delete(n),i&&await this.KubernetesServiceService.delete(i),await this.create(t);if(r instanceof w.KubernetesStatefulSet)await this.KubernetesServiceService.patch(a,o);else{const e=Object(u.a)(c,e=>{if(!e.PreviousName&&!e.Id)return this.KubernetesPersistentVolumeClaimService.create(e);if(!e.Id){const t=Object(d.a)(s,{Name:e.PreviousName});return this.KubernetesPersistentVolumeClaimService.patch(t,e)}});await Promise.all(e)}if(await m.patch(n,r),i&&l){if(await this.KubernetesServiceService.patch(i,l),t.PublishingType===h.KubernetesApplicationPublishingTypes.INGRESS||e.PublishingType===h.KubernetesApplicationPublishingTypes.INGRESS){const n=k.KubernetesIngressConverter.applicationFormValuesToIngresses(e,i.Name),a=k.KubernetesIngressConverter.applicationFormValuesToIngresses(t,l.Name);await Promise.all(this._generateIngressPatchPromises(n,a))}}else if(!i&&l){if(await this.KubernetesServiceService.create(l),t.PublishingType===h.KubernetesApplicationPublishingTypes.INGRESS){const e=k.KubernetesIngressConverter.applicationFormValuesToIngresses(t,l.Name);await Promise.all(this._generateIngressPatchPromises(t.OriginalIngresses,e))}}else if(i&&!l&&(await this.KubernetesServiceService.delete(i),e.PublishingType===h.KubernetesApplicationPublishingTypes.INGRESS)){const n=k.KubernetesIngressConverter.applicationFormValuesToIngresses(t,i.Name);await Promise.all(this._generateIngressPatchPromises(e.OriginalIngresses,n))}const g=C.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(r),f=S.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(t,g);if(e.AutoScaler.IsUsed){const a=C.KubernetesHorizontalPodAutoScalerHelper.getApplicationTypeString(n),i=S.KubernetesHorizontalPodAutoScalerConverter.applicationFormValuesToModel(e,a);t.AutoScaler.IsUsed?await this.KubernetesHorizontalPodAutoScalerService.patch(i,f):await this.KubernetesHorizontalPodAutoScalerService.delete(i)}else t.AutoScaler.IsUsed&&await this.KubernetesHorizontalPodAutoScalerService.create(f)}async patchPartialAsync(e,t){const n={Name:e.Name,Namespace:e.ResourcePool,StackName:e.StackName,Note:e.Note},a={Name:t.Name,Namespace:t.ResourcePool,StackName:t.StackName,Note:t.Note},i=this._getApplicationApiService(e);await i.patch(n,a)}patch(e,t,n=!1){return n?this.$async(this.patchPartialAsync,e,t):this.$async(this.patchAsync,e,t)}async deleteAsync(e){const t={Namespace:e.ResourcePool||e.Namespace,Name:e.Name},n=m.a.copy(t);n.Name=e.Name;const s=this._getApplicationApiService(e);if(await s.delete(t),s===this.KubernetesStatefulSetService){const n=m.a.copy(t);n.Name=e instanceof w.KubernetesStatefulSet?e.ServiceName:e.HeadlessServiceName,await this.KubernetesServiceService.delete(n)}if(e.ServiceType){await this.KubernetesServiceService.delete(n);if(Object(i.a)(e.PublishedPorts,e=>e.IngressRules.length).length){const a={OriginalIngresses:await this.KubernetesIngressService.get(t.Namespace),PublishedPorts:f.default.generatePublishedPortsFormValuesFromPublishedPorts(e.ServiceType,e.PublishedPorts)};Object(r.a)(a.PublishedPorts,e=>e.NeedsDeletion=!0);const i=k.KubernetesIngressConverter.applicationFormValuesToIngresses(a,n.Name);await Promise.all(this._generateIngressPatchPromises(a.OriginalIngresses,i))}}Object(a.a)(e.AutoScaler)||await this.KubernetesHorizontalPodAutoScalerService.delete(e.AutoScaler)}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t){const n=v.default.getPatchPayload(e,t),a=this._getApplicationApiService(e);await a.rollback(e.ResourcePool,e.Name,n)}rollback(e,t){return this.$async(this.rollbackAsync,e,t)}}P.$inject=[\"$async\",\"Authentication\",\"KubernetesDeploymentService\",\"KubernetesDaemonSetService\",\"KubernetesStatefulSetService\",\"KubernetesServiceService\",\"KubernetesSecretService\",\"KubernetesPersistentVolumeClaimService\",\"KubernetesNamespaceService\",\"KubernetesPodService\",\"KubernetesHistoryService\",\"KubernetesHorizontalPodAutoScalerService\",\"KubernetesIngressService\"],t.default=P,m.a.module(\"portainer.kubernetes\").service(\"KubernetesApplicationService\",P)},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(125),s=n(1),r=n.n(s),o=n(11),l=n(88),c=n(18),d=n(81);class u{constructor(e,t){this.$async=e,this.KubernetesConfigMaps=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.updateAsync=this.updateAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}getAccess(e,t){return this.$async(async()=>{try{const n=new c.KubernetesCommonParams;n.id=t;const a=await this.KubernetesConfigMaps(e).get(n).$promise;return l.default.apiToPortainerAccessConfigMap(a)}catch(e){if(404===e.status)return new d.KubernetesPortainerAccessConfigMap;throw new o.default(\"Unable to retrieve Portainer accesses\",e)}})}createAccess(e){return this.$async(async()=>{try{const t=l.default.createAccessPayload(e),n={},a=t.metadata.namespace,i=await this.KubernetesConfigMaps(a).create(n,t).$promise;return l.default.apiToPortainerAccessConfigMap(i)}catch(e){throw new o.default(\"Unable to create Portainer accesses\",e)}})}updateAccess(e){return this.$async(async()=>{try{if(!e.Id)return await this.createAccess(e);const t=l.default.updateAccessPayload(e),n=new c.KubernetesCommonParams;n.id=t.metadata.name;const a=t.metadata.namespace,i=await this.KubernetesConfigMaps(a).update(n,t).$promise;return l.default.apiToPortainerAccessConfigMap(i)}catch(e){throw new o.default(\"Unable to update Portainer accesses\",e)}})}async getAsync(e,t){try{const n=new c.KubernetesCommonParams;n.id=t;const[a,s]=await Promise.allSettled([this.KubernetesConfigMaps(e).get(n).$promise,this.KubernetesConfigMaps(e).getYaml(n).$promise]);if(404===Object(i.a)(a,\"reason.status\")&&404===Object(i.a)(s,\"reason.status\"))return l.default.defaultConfigMap(e,t);if(a.value)return l.default.apiToConfigMap(a.value,s.value);throw new o.default(\"Unable to retrieve config map \",t)}catch(n){if(404===n.status)return l.default.defaultConfigMap(e,t);throw new o.default(\"Unable to retrieve config map\",n)}}async getAllAsync(e){try{const t=await this.KubernetesConfigMaps(e).get().$promise;return Object(a.a)(t.items,e=>l.default.apiToConfigMap(e))}catch(e){throw new o.default(\"Unable to retrieve config maps\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t=l.default.createPayload(e),n={},a=t.metadata.namespace,i=await this.KubernetesConfigMaps(a).create(n,t).$promise;return l.default.apiToConfigMap(i)}catch(e){throw new o.default(\"Unable to create config map\",e)}}create(e){return this.$async(this.createAsync,e)}async updateAsync(e){try{if(!e.Id)return await this.create(e);const t=l.default.updatePayload(e),n=new c.KubernetesCommonParams;n.id=t.metadata.name;const a=t.metadata.namespace,i=await this.KubernetesConfigMaps(a).update(n,t).$promise;return l.default.apiToConfigMap(i)}catch(e){throw new o.default(\"Unable to update config map\",e)}}update(e){return this.$async(this.updateAsync,e)}async deleteAsync(e){try{const t=new c.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesConfigMaps(n).delete(t).$promise}catch(e){throw new o.default(\"Unable to delete config map\",e)}}delete(e){return this.$async(this.deleteAsync,e)}}u.$inject=[\"$async\",\"KubernetesConfigMaps\"],t.default=u,r.a.module(\"portainer.kubernetes\").service(\"KubernetesConfigMapService\",u)},function(e,t,n){\"use strict\";n.r(t);var a=n(75),i=n(32),s=n(2),r=n(1),o=n.n(r),l=n(173),c=n(88),d=n(154),u=n(25),p=n(51);class m{constructor(e,t,n,a,i){this.$async=e,this.Authentication=t,this.KubernetesNamespaceService=n,this.KubernetesConfigMapService=a,this.KubernetesSecretService=i,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.updateAsync=this.updateAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){const[n,a]=await Promise.allSettled([this.KubernetesConfigMapService.get(e,t),this.KubernetesSecretService.get(e,t)]);let i;return\"fulfilled\"===a.status?(i=l.default.secretToConfiguration(a.value),i):(i=l.default.configMapToConfiguration(n.value),i)}async getAllAsync(e){const t=e?[e]:Object(s.a)(await this.KubernetesNamespaceService.get(),\"Name\"),n=await Promise.all(Object(s.a)(t,async e=>{const[t,n]=await Promise.all([this.KubernetesConfigMapService.get(e),this.KubernetesSecretService.get(e)]),a=Object(s.a)(n,e=>l.default.secretToConfiguration(e)),r=Object(s.a)(t,e=>l.default.configMapToConfiguration(e));return Object(i.a)(r,a)}));return Object(a.a)(n)}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){if(e.ConfigurationOwner=p.default.ownerToLabel(e.ConfigurationOwner),e.Type===u.KubernetesConfigurationTypes.CONFIGMAP){const t=c.default.configurationFormValuesToConfigMap(e);await this.KubernetesConfigMapService.create(t)}else{const t=d.default.configurationFormValuesToSecret(e);await this.KubernetesSecretService.create(t)}}create(e){return this.$async(this.createAsync,e)}async updateAsync(e,t){if(e.Type===u.KubernetesConfigurationTypes.CONFIGMAP){const n=c.default.configurationFormValuesToConfigMap(e);n.ConfigurationOwner=t.ConfigurationOwner,await this.KubernetesConfigMapService.update(n)}else{const n=d.default.configurationFormValuesToSecret(e);n.ConfigurationOwner=t.ConfigurationOwner,await this.KubernetesSecretService.update(n)}}update(e,t){return this.$async(this.updateAsync,e,t)}async deleteAsync(e){e.Type===u.KubernetesConfigurationTypes.CONFIGMAP?await this.KubernetesConfigMapService.delete(e):await this.KubernetesSecretService.delete(e)}delete(e){return this.$async(this.deleteAsync,e)}}m.$inject=[\"$async\",\"Authentication\",\"KubernetesNamespaceService\",\"KubernetesConfigMapService\",\"KubernetesSecretService\"],t.default=m,o.a.module(\"portainer.kubernetes\").service(\"KubernetesConfigurationService\",m)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(11);class r{constructor(e,t){this.$async=e,this.KubernetesControllerRevisions=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{return(await this.KubernetesControllerRevisions(e).get().$promise).items}catch(e){throw new s.default(\"Unable to retrieve ControllerRevisions\",e)}}get(e){return this.$async(this.getAllAsync,e)}}r.$inject=[\"$async\",\"KubernetesControllerRevisions\"],t.default=r,i.a.module(\"portainer.kubernetes\").service(\"KubernetesControllerRevisionService\",r)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(11),r=n(18),o=n(254);class l{constructor(e,t){this.$async=e,this.KubernetesDaemonSets=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t;const[a,i]=await Promise.all([this.KubernetesDaemonSets(e).get(n).$promise,this.KubernetesDaemonSets(e).getYaml(n).$promise]);return{Raw:a,Yaml:i.data}}catch(e){throw new s.default(\"Unable to retrieve DaemonSet\",e)}}async getAllAsync(e){try{return(await this.KubernetesDaemonSets(e).get().$promise).items}catch(e){throw new s.default(\"Unable to retrieve DaemonSets\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesDaemonSets(a).create(t,n).$promise}catch(e){throw new s.default(\"Unable to create daemonset\",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,i=o.default.patchPayload(e,t);if(!i.length)return;return await this.KubernetesDaemonSets(a).patch(n,i).$promise}catch(e){throw new s.default(\"Unable to patch daemonSet\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new r.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesDaemonSets(n).delete(t).$promise}catch(e){throw new s.default(\"Unable to remove daemonset\",e)}}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t,n){try{const a=new r.KubernetesCommonParams;a.id=t,await this.KubernetesDaemonSets(e).rollback(a,n).$promise}catch(e){throw new s.default(\"Unable to rollback daemonset\",e)}}rollback(e,t,n){return this.$async(this.rollbackAsync,e,t,n)}}l.$inject=[\"$async\",\"KubernetesDaemonSets\"],t.default=l,i.a.module(\"portainer.kubernetes\").service(\"KubernetesDaemonSetService\",l)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(11),r=n(18),o=n(253);class l{constructor(e,t){this.$async=e,this.KubernetesDeployments=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t;const[a,i]=await Promise.all([this.KubernetesDeployments(e).get(n).$promise,this.KubernetesDeployments(e).getYaml(n).$promise]);return{Raw:a,Yaml:i.data}}catch(e){throw new s.default(\"Unable to retrieve Deployment\",e)}}async getAllAsync(e){try{return(await this.KubernetesDeployments(e).get().$promise).items}catch(e){throw new s.default(\"Unable to retrieve Deployments\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesDeployments(a).create(t,n).$promise}catch(e){throw new s.default(\"Unable to create deployment\",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,i=o.default.patchPayload(e,t);if(!i.length)return;return await this.KubernetesDeployments(a).patch(n,i).$promise}catch(e){throw new s.default(\"Unable to patch deployment\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new r.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesDeployments(n).delete(t).$promise}catch(e){throw new s.default(\"Unable to remove deployment\",e)}}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t,n){try{const a=new r.KubernetesCommonParams;a.id=t,await this.KubernetesDeployments(e).rollback(a,n).$promise}catch(e){throw new s.default(\"Unable to rollback deployment\",e)}}rollback(e,t,n){return this.$async(this.rollbackAsync,e,t,n)}}l.$inject=[\"$async\",\"KubernetesDeployments\"],t.default=l,i.a.module(\"portainer.kubernetes\").service(\"KubernetesDeploymentService\",l)},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(1),s=n.n(i),r=n(11),o=n(608);class l{constructor(e,t){this.$async=e,this.KubernetesEvents=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{const t=await this.KubernetesEvents(e).get().$promise;return Object(a.a)(t.items,e=>o.default.apiToEvent(e))}catch(e){throw new r.default(\"Unable to retrieve events\",e)}}get(e){return this.$async(this.getAllAsync,e)}}l.$inject=[\"$async\",\"KubernetesEvents\"],t.default=l,s.a.module(\"portainer.kubernetes\").service(\"KubernetesEventService\",l)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(11);class r{constructor(e,t){this.$async=e,this.KubernetesHealth=t,this.pingAsync=this.pingAsync.bind(this)}async pingAsync(e){try{return await this.KubernetesHealth.ping({id:e}).$promise}catch(e){throw new s.default(\"Unable to retrieve environment health\",e)}}ping(e){return this.$async(this.pingAsync,e)}}r.$inject=[\"$async\",\"KubernetesHealth\"],t.default=r,i.a.module(\"portainer.kubernetes\").service(\"KubernetesHealthService\",r)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(11),r=n(615),o=n(3);class l{constructor(e,t,n){this.$async=e,this.KubernetesReplicaSetService=t,this.KubernetesControllerRevisionService=n,this.getAsync=this.getAsync.bind(this)}async getAsync(e){try{const t=e.ResourcePool;let n;switch(e.ApplicationType){case o.KubernetesApplicationTypes.DEPLOYMENT:n=await this.KubernetesReplicaSetService.get(t);break;case o.KubernetesApplicationTypes.DAEMONSET:case o.KubernetesApplicationTypes.STATEFULSET:n=await this.KubernetesControllerRevisionService.get(t);break;case o.KubernetesApplicationTypes.POD:n=[];break;default:throw new s.default(\"Unable to determine which association to use for history\")}if(n.length){const[t,a]=r.default.getRevisions(n,e);e.CurrentRevision=t,e.Revisions=a}return e}catch(e){throw new s.default(\"\",e)}}get(e){return this.$async(this.getAsync,e)}}l.$inject=[\"$async\",\"KubernetesReplicaSetService\",\"KubernetesControllerRevisionService\"],t.default=l,i.a.module(\"portainer.kubernetes\").service(\"KubernetesHistoryService\",l)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);class s{constructor(e,t,n){this.KubernetesConfig=e,this.FileSaver=t,this.SettingsService=n}async downloadKubeconfigFile(e){const t=await this.KubernetesConfig.get(e),n=t.headers()[\"content-disposition\"].replace(\"attachment;\",\"\").trim();return this.FileSaver.saveAs(t.data,n)}async expiryMessage(){const e=\"Kubeconfig file will \";switch((await this.SettingsService.publicSettings()).KubeconfigExpiry){case\"0\":return e+\"not expire.\";case\"24h\":return e+\"expire in 1 day.\";case\"168h\":return e+\"expire in 7 days.\";case\"720h\":return e+\"expire in 30 days.\";case\"8640h\":return e+\"expire in 1 year.\"}return\"\"}}s.$inject=[\"KubernetesConfig\",\"FileSaver\",\"SettingsService\"],t.default=s,i.a.module(\"portainer.kubernetes\").service(\"KubernetesConfigService\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(1),s=n.n(i),r=n(11),o=n(18),l=n(302),c=n(252),d=n(294);class u{constructor(e,t){this.$async=e,this.KubernetesNamespaces=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e){try{const t=new o.KubernetesCommonParams;t.id=e,await this.KubernetesNamespaces().status(t).$promise;const[n,a]=await Promise.all([this.KubernetesNamespaces().get(t).$promise,this.KubernetesNamespaces().getYaml(t).$promise]),i=l.default.apiToNamespace(n,a);return Object(c.updateNamespaces)([i]),i}catch(e){throw new r.default(\"Unable to retrieve namespace\",e)}}async getAllAsync(){try{const e=await this.KubernetesNamespaces().get().$promise,t=Object(a.a)(e.items,e=>this.KubernetesNamespaces().status({id:e.metadata.name}).$promise),n=await Object(d.default)(t),i=Object(a.a)(n.fulfilled,e=>l.default.apiToNamespace(e));return Object(c.updateNamespaces)(i),i}catch(e){throw new r.default(\"Unable to retrieve namespaces\",e)}}get(e){return e?this.$async(this.getAsync,e):this.$async(this.getAllAsync)}async createAsync(e){try{const t=l.default.createPayload(e),n={};return await this.KubernetesNamespaces().create(n,t).$promise}catch(e){throw new r.default(\"Unable to create namespace\",e)}}create(e){return this.$async(this.createAsync,e)}async deleteAsync(e){try{const t=new o.KubernetesCommonParams;t.id=e.Name,await this.KubernetesNamespaces().delete(t).$promise}catch(e){throw new r.default(\"Unable to delete namespace\",e)}}delete(e){return this.$async(this.deleteAsync,e)}}u.$inject=[\"$async\",\"KubernetesNamespaces\"],t.default=u,s.a.module(\"portainer.kubernetes\").service(\"KubernetesNamespaceService\",u)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(11),r=n(618);class o{constructor(e){this.KubernetesNodesLimits=e}async get(){try{const e=await this.KubernetesNodesLimits.get().$promise;return new r.KubernetesNodesLimits(e.data)}catch(e){throw new s.default(\"Unable to retrieve nodes limits\",e)}}}o.$inject=[\"KubernetesNodesLimits\"],t.default=o,i.a.module(\"portainer.kubernetes\").service(\"KubernetesNodesLimitsService\",o)},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(1),s=n.n(i),r=n(11),o=n(126),l=n(18);class c{constructor(e,t,n){this.$async=e,this.EndpointProvider=t,this.KubernetesPersistentVolumeClaims=n,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new l.KubernetesCommonParams;n.id=t;const[a,i]=await Promise.all([this.KubernetesPersistentVolumeClaims(e).get(n).$promise,this.KubernetesPersistentVolumeClaims(e).getYaml(n).$promise]),s=this.EndpointProvider.currentEndpoint().Kubernetes.Configuration.StorageClasses;return o.default.apiToPersistentVolumeClaim(a,s,i)}catch(e){throw new r.default(\"Unable to retrieve persistent volume claim\",e)}}async getAllAsync(e){try{const t=await this.KubernetesPersistentVolumeClaims(e).get().$promise,n=this.EndpointProvider.currentEndpoint().Kubernetes.Configuration.StorageClasses;return Object(a.a)(t.items,e=>o.default.apiToPersistentVolumeClaim(e,n))}catch(e){throw new r.default(\"Unable to retrieve persistent volume claims\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesPersistentVolumeClaims(a).create(t,n).$promise}catch(e){throw new r.default(\"Unable to create persistent volume claim\",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new l.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,i=o.default.patchPayload(e,t);if(!i.length)return;return await this.KubernetesPersistentVolumeClaims(a).patch(n,i).$promise}catch(e){throw new r.default(\"Unable to patch persistent volume claim\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new l.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesPersistentVolumeClaims(n).delete(t).$promise}catch(e){throw new r.default(\"Unable to delete persistent volume claim\",e)}}delete(e){return this.$async(this.deleteAsync,e)}}c.$inject=[\"$async\",\"EndpointProvider\",\"KubernetesPersistentVolumeClaims\"],t.default=c,s.a.module(\"portainer.kubernetes\").service(\"KubernetesPersistentVolumeClaimService\",c)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(11);class r{constructor(e,t){this.$async=e,this.KubernetesReplicaSets=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){try{return(await this.KubernetesReplicaSets(e).get().$promise).items}catch(e){throw new s.default(\"Unable to retrieve ReplicaSets\",e)}}get(e){return this.$async(this.getAllAsync,e)}}r.$inject=[\"$async\",\"KubernetesReplicaSets\"],t.default=r,i.a.module(\"portainer.kubernetes\").service(\"KubernetesReplicaSetService\",r)},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesResourcePoolService\",(function(){return h}));var a=n(32),i=n(310),s=n(819),r=n(75),o=n(28),l=n(5),c=n(6),d=n(2),u=n(1),p=n.n(u),m=n(153),g=n(150);function h(e,t,n,u,h,f){return{get:function(t){if(t)return e(v,t);return e(b)},create:function(a){return e(async()=>{const[e,i,s,r]=m.default.formValuesToResourcePool(a);await n.create(e),i&&await u.create(i);const o=Object(d.a)(s,e=>h.create(e));await Promise.all(o);const l=a.EndpointId,c=Object(d.a)(r,e=>t.updateRegistryAccess(l,e.Id,e.RegistryAccesses[l]));await Promise.all(c)})},patch:function(n,g){return e(async()=>{const[,e,f,v]=m.default.formValuesToResourcePool(n),[,b,y,w]=m.default.formValuesToResourcePool(g);e&&b?await u.patch(e,b):!e&&b?await u.create(b):e&&!b&&await u.delete(e);const x=Object(c.a)(y,e=>!Object(l.a)(f,{Name:e.Name})),$=Object(c.a)(f,e=>!Object(l.a)(y,{Name:e.Name})),C=Object(o.a)(y,...x),S=Object(d.a)(x,e=>h.create(e)),k=Object(d.a)($,e=>h.delete(e.Namespace,e.Name)),A=Object(d.a)(C,e=>{const t=Object(l.a)(f,{Name:e.Name});return e.Paths=p.a.copy(t.Paths),e.PreviousHost=t.Host,h.patch(t,e)}),P=Object(r.a)([S,k,A]);await Promise.all(P);const I=g.EndpointId,T=Object(s.a)(v,w,\"Id\"),N=Object(o.a)(v,...T),E=Object(d.a)(w,e=>t.updateRegistryAccess(I,e.Id,e.RegistryAccesses[I])),R=Object(d.a)(N,e=>(Object(i.a)(e.RegistryAccesses[I].Namespaces,g.Name),t.updateRegistryAccess(I,e.Id,e.RegistryAccesses[I])));await Promise.all(Object(a.a)(E,R))})},delete:function(t){return e(async()=>{await n.delete(t.Namespace)})},toggleSystem:function(e,t,n){return f.toggleSystem({namespaceName:t,endpointId:e},{system:n}).$promise}};async function v(e){const t=await n.get(e),[a]=await Promise.allSettled([u.get(e,g.default.generateResourceQuotaName(e))]),i=m.default.apiToResourcePool(t);return\"fulfilled\"===a.status&&(i.Quota=a.value,i.Yaml+=\"---\\n\"+a.value.Yaml),i}async function b(){const e=await n.get();return await Promise.all(Object(d.a)(e,async e=>{const t=e.Name,[n]=await Promise.allSettled([u.get(t,g.default.generateResourceQuotaName(t))]),a=m.default.apiToResourcePool(e);return\"fulfilled\"===n.status&&(a.Quota=n.value,a.Yaml+=\"---\\n\"+n.value.Yaml),a}))}}h.$inject=[\"$async\",\"EndpointService\",\"KubernetesNamespaceService\",\"KubernetesResourceQuotaService\",\"KubernetesIngressService\",\"KubernetesPortainerNamespaces\"],p.a.module(\"portainer.kubernetes\").service(\"KubernetesResourcePoolService\",h)},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"KubernetesResourceQuotaService\",(function(){return c}));var a=n(2),i=n(1),s=n.n(i),r=n(11),o=n(18),l=n(139);function c(e,t){return{get:function(t,a){if(a)return e(n,t,a);return e(i,t)},create:function(n){return e(async()=>{try{const e=l.default.createPayload(n),a=e.metadata.namespace,i={},s=await t(a).create(i,e).$promise;return l.default.apiToResourceQuota(s)}catch(e){throw new r.default(\"Unable to create quota\",e)}})},patch:function(n,a){return e(async()=>{try{const e=new o.KubernetesCommonParams;e.id=a.Name;const i=a.Namespace,s=l.default.patchPayload(n,a);if(!s.length)return;return await t(i).patch(e,s).$promise}catch(e){throw new r.default(\"Unable to update resource quota\",e)}})},delete:function(n){return e(async()=>{try{const e=new o.KubernetesCommonParams;e.id=n.Name,await t(n.Namespace).delete(e).$promise}catch(e){throw new r.default(\"Unable to delete quota\",e)}})}};async function n(e,n){try{const a=new o.KubernetesCommonParams;a.id=n;const[i,s]=await Promise.all([t(e).get(a).$promise,t(e).getYaml(a).$promise]);return l.default.apiToResourceQuota(i,s)}catch(e){throw new r.default(\"Unable to retrieve resource quota\",e)}}async function i(e){try{const n=await t(e).get().$promise;return Object(a.a)(n.items,e=>l.default.apiToResourceQuota(e))}catch(e){throw new r.default(\"Unable to retrieve resource quotas\",e)}}}c.$inject=[\"$async\",\"KubernetesResourceQuotas\"],s.a.module(\"portainer.kubernetes\").service(\"KubernetesResourceQuotaService\",c)},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(1),s=n.n(i),r=n(11),o=n(154),l=n(18);class c{constructor(e,t){this.$async=e,this.KubernetesSecrets=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.updateAsync=this.updateAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new l.KubernetesCommonParams;n.id=t;const[a,i]=await Promise.all([this.KubernetesSecrets(e).get(n).$promise,this.KubernetesSecrets(e).getYaml(n).$promise]);return o.default.apiToSecret(a,i)}catch(e){throw new r.default(\"Unable to retrieve secret\",e)}}async getAllAsync(e){try{const t=await this.KubernetesSecrets(e).get().$promise;return Object(a.a)(t.items,e=>o.default.apiToSecret(e))}catch(e){throw new r.default(\"Unable to retrieve secrets\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t=o.default.createPayload(e),n=t.metadata.namespace,a={};return await this.KubernetesSecrets(n).create(a,t).$promise}catch(e){throw new r.default(\"Unable to create secret\",e)}}create(e){return this.$async(this.createAsync,e)}async updateAsync(e){try{const t=o.default.updatePayload(e),n=new l.KubernetesCommonParams;n.id=t.metadata.name;const a=t.metadata.namespace,i=await this.KubernetesSecrets(a).update(n,t).$promise;return o.default.apiToSecret(i)}catch(e){throw new r.default(\"Unable to update secret\",e)}}update(e){return this.$async(this.updateAsync,e)}async deleteAsync(e){try{const t=new l.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesSecrets(n).delete(t).$promise}catch(e){throw new r.default(\"Unable to delete secret\",e)}}delete(e){return this.$async(this.deleteAsync,e)}}c.$inject=[\"$async\",\"KubernetesSecrets\"],t.default=c,s.a.module(\"portainer.kubernetes\").service(\"KubernetesSecretService\",c)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(11),r=n(18),o=n(169);class l{constructor(e,t){this.$async=e,this.KubernetesServices=t,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t;const[a,i]=await Promise.all([this.KubernetesServices(e).get(n).$promise,this.KubernetesServices(e).getYaml(n).$promise]);return{Raw:a,Yaml:i.data}}catch(e){throw new s.default(\"Unable to retrieve service\",e)}}async getAllAsync(e){try{return(await this.KubernetesServices(e).get().$promise).items}catch(e){throw new s.default(\"Unable to retrieve services\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesServices(a).create(t,n).$promise}catch(e){throw new s.default(\"Unable to create service\",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,i=o.default.patchPayload(e,t);if(!i.length)return;return await this.KubernetesServices(a).patch(n,i).$promise}catch(e){throw new s.default(\"Unable to patch service\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new r.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesServices(n).delete(t).$promise}catch(e){console.error(\"unable to remove service\",e)}}delete(e){return this.$async(this.deleteAsync,e)}}l.$inject=[\"$async\",\"KubernetesServices\"],t.default=l,i.a.module(\"portainer.kubernetes\").service(\"KubernetesServiceService\",l)},function(e,t,n){\"use strict\";n.r(t);var a=n(28),i=n(68),s=n(2),r=n(1),o=n.n(r);class l{constructor(e,t){this.$async=e,this.KubernetesApplicationService=t,this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(e){const t=await this.KubernetesApplicationService.get(e),n=Object(s.a)(t,e=>e.StackName);return Object(i.a)(Object(a.a)(n,\"-\",\"\"))}get(e){return this.$async(this.getAllAsync,e)}}l.$inject=[\"$async\",\"KubernetesApplicationService\"],t.default=l,o.a.module(\"portainer.kubernetes\").service(\"KubernetesStackService\",l)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(11),r=n(18),o=n(255);class l{constructor(e,t,n){this.$async=e,this.KubernetesStatefulSets=t,this.KubernetesServiceService=n,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.createAsync=this.createAsync.bind(this),this.patchAsync=this.patchAsync.bind(this),this.rollbackAsync=this.rollbackAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t;const[a,i]=await Promise.all([this.KubernetesStatefulSets(e).get(n).$promise,this.KubernetesStatefulSets(e).getYaml(n).$promise]),s={Raw:a,Yaml:i.data},o=a.spec.serviceName;if(o)try{const t=await this.KubernetesServiceService.get(e,o);s.Yaml+=\"---\\n\"+t.Yaml}catch(e){}return s}catch(e){throw new s.default(\"Unable to retrieve StatefulSet\",e)}}async getAllAsync(e){try{return(await this.KubernetesStatefulSets(e).get().$promise).items}catch(e){throw new s.default(\"Unable to retrieve StatefulSets\",e)}}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async createAsync(e){try{const t={},n=o.default.createPayload(e),a=n.metadata.namespace;return await this.KubernetesStatefulSets(a).create(t,n).$promise}catch(e){throw new s.default(\"Unable to create statefulSet\",e)}}create(e){return this.$async(this.createAsync,e)}async patchAsync(e,t){try{const n=new r.KubernetesCommonParams;n.id=t.Name;const a=t.Namespace,i=o.default.patchPayload(e,t);if(!i.length)return;return await this.KubernetesStatefulSets(a).patch(n,i).$promise}catch(e){throw new s.default(\"Unable to patch statefulSet\",e)}}patch(e,t){return this.$async(this.patchAsync,e,t)}async deleteAsync(e){try{const t=new r.KubernetesCommonParams;t.id=e.Name;const n=e.Namespace;await this.KubernetesStatefulSets(n).delete(t).$promise}catch(e){throw new s.default(\"Unable to remove statefulSet\",e)}}delete(e){return this.$async(this.deleteAsync,e)}async rollbackAsync(e,t,n){try{const a=new r.KubernetesCommonParams;a.id=t,await this.KubernetesStatefulSets(e).rollback(a,n).$promise}catch(e){throw new s.default(\"Unable to rollback statefulSet\",e)}}rollback(e,t,n){return this.$async(this.rollbackAsync,e,t,n)}}l.$inject=[\"$async\",\"KubernetesStatefulSets\",\"KubernetesServiceService\"],t.default=l,i.a.module(\"portainer.kubernetes\").service(\"KubernetesStatefulSetService\",l)},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(1),s=n.n(i),r=n(11),o=n(395),l=n(18);class c{constructor(e,t){this.$async=e,this.KubernetesStorage=t,this.getAsync=this.getAsync.bind(this),this.patchAsync=this.patchAsync.bind(this)}async getAsync(e){try{const t={endpointId:e},n=await this.KubernetesStorage().get(t).$promise;return Object(a.a)(n.items,e=>o.default.apiToStorageClass(e))}catch(e){throw new r.default(\"Unable to retrieve storage classes\",e)}}get(e){return this.$async(this.getAsync,e)}async patchAsync(e,t,n){try{const a=new l.KubernetesCommonParams;a.id=n.Name,a.endpointId=e;const i=o.default.patchPayload(t,n);await this.KubernetesStorage().patch(a,i).$promise}catch(e){throw new r.default(\"Unable to patch storage class\",e)}}patch(e,t,n){return this.$async(this.patchAsync,e,t,n)}}c.$inject=[\"$async\",\"KubernetesStorage\"],t.default=c,s.a.module(\"portainer.kubernetes\").service(\"KubernetesStorageService\",c)},function(e,t,n){\"use strict\";n.r(t);var a=n(75),i=n(2),s=n(1),r=n.n(s),o=n(396);class l{constructor(e,t,n,a){this.$async=e,this.KubernetesResourcePoolService=t,this.KubernetesApplicationService=n,this.KubernetesPersistentVolumeClaimService=a,this.getAsync=this.getAsync.bind(this),this.getAllAsync=this.getAllAsync.bind(this),this.deleteAsync=this.deleteAsync.bind(this)}async getAsync(e,t){const[n,a]=await Promise.all([this.KubernetesPersistentVolumeClaimService.get(e,t),this.KubernetesResourcePoolService.get(e)]);return o.default.pvcToVolume(n,a)}async getAllAsync(e){const t=await this.KubernetesResourcePoolService.get(e),n=t instanceof Array?t:[t],s=await Promise.all(Object(i.a)(n,async e=>{const t=await this.KubernetesPersistentVolumeClaimService.get(e.Namespace.Name);return Object(i.a)(t,t=>o.default.pvcToVolume(t,e))}));return Object(a.a)(s)}get(e,t){return t?this.$async(this.getAsync,e,t):this.$async(this.getAllAsync,e)}async deleteAsync(e){await this.KubernetesPersistentVolumeClaimService.delete(e.PersistentVolumeClaim)}delete(e){return this.$async(this.deleteAsync,e)}}l.$inject=[\"$async\",\"KubernetesResourcePoolService\",\"KubernetesApplicationService\",\"KubernetesPersistentVolumeClaimService\"],t.default=l,r.a.module(\"portainer.kubernetes\").service(\"KubernetesVolumeService\",l)},function(e,t,n){const a=n(1656);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationsView\",{templateUrl:a,controller:\"KubernetesApplicationsController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\",endpoint:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/applications/applications.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Application list\" state=\"kubernetes.applications\" view-ready=\"ctrl.state.viewReady\">\\n  Applications\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\" data-cy=\"k8sApp-appList\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\">\\n              <uib-tab-heading> <i class=\"fa fa-laptop-code space-right\" aria-hidden=\"true\"></i> Applications </uib-tab-heading>\\n              <kubernetes-applications-datatable\\n                dataset=\"ctrl.state.applications\"\\n                table-key=\"kubernetes.applications\"\\n                settings-key=\"kubernetes.applications\"\\n                order-by=\"Name\"\\n                remove-action=\"ctrl.removeAction\"\\n                refresh-callback=\"ctrl.getApplications\"\\n                on-publishing-mode-click=\"(ctrl.onPublishingModeClick)\"\\n                is-primary=\"true\"\\n              >\\n              </kubernetes-applications-datatable>\\n            </uib-tab>\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\">\\n              <uib-tab-heading> <i class=\"fa fa-exchange-alt space-right\" aria-hidden=\"true\"></i> Port mappings </uib-tab-heading>\\n              <kubernetes-applications-ports-datatable dataset=\"ctrl.state.ports\" table-key=\"kubernetes.applications.ports\" order-by=\"Name\" refresh-callback=\"ctrl.getApplications\">\\n              </kubernetes-applications-ports-datatable>\\n            </uib-tab>\\n            <uib-tab index=\"2\" classes=\"btn-sm\" select=\"ctrl.selectTab(2)\">\\n              <uib-tab-heading> <i class=\"fa fa-th-list space-right\" aria-hidden=\"true\"></i> Stacks </uib-tab-heading>\\n              <kubernetes-applications-stacks-datatable\\n                dataset=\"ctrl.state.stacks\"\\n                table-key=\"kubernetes.applications.stacks\"\\n                order-by=\"Name\"\\n                refresh-callback=\"ctrl.getApplications\"\\n                remove-action=\"ctrl.removeStacksAction\"\\n              >\\n              </kubernetes-applications-stacks-datatable>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(33),s=n(2),r=n(1),o=n.n(r),l=n(293),c=n(22),d=n(80),u=n(3);class p{constructor(e,t,n,a,i,s,r,o,l,c){this.$async=e,this.$state=t,this.Notifications=n,this.KubernetesApplicationService=a,this.HelmService=i,this.KubernetesConfigurationService=s,this.Authentication=r,this.ModalService=o,this.LocalStorage=l,this.StackService=c,this.onInit=this.onInit.bind(this),this.getApplications=this.getApplications.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this),this.removeStacksAction=this.removeStacksAction.bind(this),this.removeStacksActionAsync=this.removeStacksActionAsync.bind(this),this.onPublishingModeClick=this.onPublishingModeClick.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab(\"applications\",e)}async removeStacksActionAsync(e){let t=e.length;for(const n of e)try{if(n.Applications.some(e=>!e.ApplicationKind)){const e=Object(s.a)(n.Applications,e=>this.KubernetesApplicationService.delete(e));await Promise.all(e)}else{const e=n.Applications.find(e=>null!==e.StackId);e&&e.StackId&&await this.StackService.remove({Id:e.StackId},!1,this.endpoint.Id)}this.Notifications.success(\"Stack successfully removed\",n.Name),Object(i.a)(this.state.stacks,{Name:n.Name})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove stack\")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeStacksAction(e){this.ModalService.confirmDeletion(\"Are you sure that you want to remove the selected stack(s) ? This will remove all the applications associated to the stack(s).\",t=>{if(t)return this.$async(this.removeStacksActionAsync,e)})}async removeActionAsync(e){let t=e.length;for(const n of e)try{if(n.ApplicationType===u.KubernetesApplicationTypes.HELM)await this.HelmService.uninstall(this.endpoint.Id,n);else if(await this.KubernetesApplicationService.delete(n),n.Metadata.labels[u.KubernetesPortainerApplicationStackNameLabel]){const e=this.state.stacks.find(e=>e.Name===n.StackName),t=e.Applications.indexOf(n);e.Applications.splice(t,1),0===e.Applications.length&&n.StackId&&await this.StackService.remove({Id:n.StackId},!1,this.endpoint.Id)}this.Notifications.success(\"Application successfully removed\",n.Name);const e=this.state.applications.indexOf(n);this.state.applications.splice(e,1)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove application\")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion(\"Do you want to remove the selected application(s)?\",t=>{if(t)return this.$async(this.removeActionAsync,e)})}onPublishingModeClick(e){this.state.activeTab=1,Object(a.a)(this.state.ports,t=>{t.Expanded=!1,t.Highlighted=!1,t.Name===e.Name&&t.Ports.length>1&&(t.Expanded=!0,t.Highlighted=!0)})}async getApplicationsAsync(){try{const[e,t]=await Promise.all([this.KubernetesApplicationService.get(),this.KubernetesConfigurationService.get()]),n=d.default.getApplicationConfigurations(e,t),{helmApplications:a,nonHelmApplications:i}=c.default.getNestedApplications(n);this.state.applications=[...a,...i],this.state.stacks=l.default.stacksFromApplications(e),this.state.ports=c.default.portMappingsFromApplications(e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications\")}}getApplications(){return this.$async(this.getApplicationsAsync)}async onInit(){this.state={activeTab:this.LocalStorage.getActiveTab(\"applications\"),currentName:this.$state.$current.name,isAdmin:this.Authentication.isAdmin(),viewReady:!1,applications:[],stacks:[],ports:[]},await this.getApplications(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"applications\",0)}}p.$inject=[\"$async\",\"$state\",\"Notifications\",\"KubernetesApplicationService\",\"HelmService\",\"KubernetesConfigurationService\",\"Authentication\",\"ModalService\",\"LocalStorage\",\"StackService\"],t.default=p,o.a.module(\"portainer.kubernetes\").controller(\"KubernetesApplicationsController\",p)},function(e,t,n){const a=n(1659);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationConsoleView\",{templateUrl:a,controller:\"KubernetesApplicationConsoleController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/applications/console/console.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Application console\" state=\"kubernetes.applications.application.console\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })\">{{ ctrl.application.ResourcePool }}</a> &gt;\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt;\\n  <a ui-sref=\"kubernetes.applications.application({ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool })\">{{ ctrl.application.Name }}</a> &gt; Pods &gt;\\n  {{ ctrl.podName }} &gt; Containers &gt; {{ ctrl.containerName }} &gt; Console\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" autocomplete=\"off\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Console\\n            </div>\\n            \\x3c!-- Command --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"console_command\" class=\"col-sm-1 control-label text-left\">Command</label>\\n              <div class=\"col-sm-10 input-group\">\\n                <span class=\"input-group-addon\">\\n                  <i class=\"fas fa-terminal\" aria-hidden=\"true\"></i>\\n                </span>\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  placeholder=\"/bin/bash\"\\n                  ng-model=\"ctrl.state.command\"\\n                  name=\"console_command\"\\n                  uib-typeahead=\"command for command in ctrl.state.availableCommands | filter:$viewValue | limitTo:5\"\\n                  typeahead-show-hint=\"true\"\\n                  typeahead-min-length=\"0\"\\n                  auto-focus\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !command --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  style=\"margin: 0;\"\\n                  ng-if=\"!ctrl.state.connected\"\\n                  ng-disabled=\"!ctrl.state.command || ctrl.state.connected\"\\n                  ng-click=\"ctrl.connectConsole()\"\\n                  button-spinner=\"ctrl.state.actionInProgress\"\\n                >\\n                  <span ng-hide=\"ctrl.state.actionInProgress\">Connect</span>\\n                  <span ng-show=\"ctrl.state.actionInProgress\">Connection in progress...</span>\\n                </button>\\n                <button type=\"button\" class=\"btn btn-primary btn-sm\" style=\"margin: 0;\" ng-if=\"ctrl.state.connected\" ng-click=\"ctrl.disconnect()\">\\n                  Disconnect\\n                </button>\\n              </div>\\n            </div>\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <div id=\"terminal-container\" class=\"terminal-container\"></div>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(167);class r{constructor(e,t,n,a,i,s){this.$async=e,this.$state=t,this.Notifications=n,this.KubernetesApplicationService=a,this.EndpointProvider=i,this.LocalStorage=s,this.onInit=this.onInit.bind(this)}disconnect(){this.state.socket.close(),this.state.term.dispose(),this.state.connected=!1}configureSocketAndTerminal(e,t){e.onopen=function(){const e=document.getElementById(\"terminal-container\");t.open(e),t.setOption(\"cursorBlink\",!0),t.focus()},t.on(\"data\",(function(t){e.send(t)})),e.onmessage=function(e){t.write(e.data)},e.onerror=function(e){this.disconnect(),this.Notifications.error(\"Failure\",e,\"Websocket connection error\")}.bind(this),this.state.socket.onclose=function(){this.disconnect()}.bind(this),this.state.connected=!0}connectConsole(){const e={token:this.LocalStorage.getJWT(),endpointId:this.EndpointProvider.endpointID(),namespace:this.application.ResourcePool,podName:this.podName,containerName:this.containerName,command:this.state.command};let t=window.location.href.split(\"#\")[0]+\"api/websocket/pod?\"+Object.keys(e).map(t=>t+\"=\"+e[t]).join(\"&\");t=t.indexOf(\"https\")>-1?t.replace(\"https://\",\"wss://\"):t.replace(\"http://\",\"ws://\"),this.state.socket=new WebSocket(t),this.state.term=new s.Terminal,this.configureSocketAndTerminal(this.state.socket,this.state.term)}async onInit(){const e=[\"/bin/bash\",\"/bin/sh\"];this.state={actionInProgress:!1,availableCommands:e,command:e[1],connected:!1,socket:null,term:null,viewReady:!1};const t=this.$transition$.params().pod,n=this.$transition$.params().name,a=this.$transition$.params().namespace,i=this.$transition$.params().container;this.podName=t,this.containerName=i;try{this.application=await this.KubernetesApplicationService.get(a,n)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application logs\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}r.$inject=[\"$async\",\"$state\",\"Notifications\",\"KubernetesApplicationService\",\"EndpointProvider\",\"LocalStorage\"],t.default=r,i.a.module(\"portainer.kubernetes\").controller(\"KubernetesApplicationConsoleController\",r)},function(e,t,n){const a=n(1662);angular.module(\"portainer.kubernetes\").component(\"kubernetesCreateApplicationView\",{templateUrl:a,controller:\"KubernetesCreateApplicationController\",controllerAs:\"ctrl\",bindings:{endpoint:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/applications/create/createApplication.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header ng-if=\"!ctrl.state.isEdit\" title=\"Create application\" state=\"kubernetes.applications.new\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt; Create an application\\n</kubernetes-view-header>\\n<kubernetes-view-header ng-if=\"ctrl.state.isEdit\" title=\"Edit application\" state=\"kubernetes.applications.application.edit\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })\">{{ ctrl.application.ResourcePool }}</a> &gt;\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt;\\n  <a ui-sref=\"kubernetes.applications.application({ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool })\">{{ ctrl.application.Name }}</a> &gt; Edit\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-xs-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" name=\"kubernetesApplicationCreationForm\" autocomplete=\"off\">\\n            <git-form-info-panel\\n              ng-if=\"ctrl.state.appType == ctrl.KubernetesDeploymentTypes.GIT\"\\n              class-name=\"text-muted\"\\n              url=\"ctrl.stack.GitConfig.URL\"\\n              config-file-path=\"ctrl.stack.GitConfig.ConfigFilePath\"\\n              additional-files=\"ctrl.stack.AdditionalFiles\"\\n              type=\"application\"\\n            ></git-form-info-panel>\\n            <div class=\"col-sm-12 form-section-title\" ng-if=\"ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM\">\\n              Namespace\\n            </div>\\n            \\x3c!-- #region NAMESPACE --\\x3e\\n            <div class=\"form-group\" ng-if=\"ctrl.formValues.ResourcePool\">\\n              <label for=\"resource-pool-selector\" class=\"col-sm-1 control-label text-left\">Namespace</label>\\n              <div class=\"col-sm-11\">\\n                <select\\n                  class=\"form-control\"\\n                  id=\"resource-pool-selector\"\\n                  ng-model=\"ctrl.formValues.ResourcePool\"\\n                  ng-options=\"resourcePool.Namespace.Name for resourcePool in ctrl.resourcePools\"\\n                  ng-change=\"ctrl.onResourcePoolSelectionChange()\"\\n                  ng-disabled=\"ctrl.state.isEdit\"\\n                  data-cy=\"k8sAppCreate-nsSelect\"\\n                ></select>\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded() && ctrl.formValues.ResourcePool\">\\n              <div class=\"col-sm-12 small text-danger\">\\n                <i class=\"fa fa-exclamation-circle red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                This namespace has exhausted its resource capacity and you will not be able to deploy the application. Contact your administrator to expand the capacity of the\\n                namespace.\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"!ctrl.formValues.ResourcePool\">\\n              <div class=\"col-sm-12 small text-muted\">\\n                <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                You do not have access to any namespace. Contact your administrator to get access to a namespace.\\n              </div>\\n            </div>\\n            \\x3c!-- #endregion --\\x3e\\n\\n            \\x3c!-- #region Git repository --\\x3e\\n            <kubernetes-redeploy-app-git-form\\n              ng-if=\"ctrl.state.appType === ctrl.KubernetesDeploymentTypes.GIT\"\\n              stack=\"ctrl.stack\"\\n              namespace=\"ctrl.formValues.ResourcePool.Namespace.Name\"\\n            ></kubernetes-redeploy-app-git-form>\\n            \\x3c!-- #endregion --\\x3e\\n\\n            \\x3c!-- #region web editor --\\x3e\\n            <web-editor-form\\n              ng-if=\"ctrl.state.appType === ctrl.KubernetesDeploymentTypes.CONTENT\"\\n              value=\"ctrl.stackFileContent\"\\n              yml=\"true\"\\n              identifier=\"kubernetes-deploy-editor\"\\n              placeholder=\"# Define or paste the content of your manifest file here\"\\n              on-change=\"(ctrl.onChangeFileContent)\"\\n            >\\n              <editor-description>\\n                <span class=\"text-muted small\" ng-show=\"ctrl.stack.IsComposeFormat\">\\n                  <p>\\n                    <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Portainer uses <a href=\"https://kompose.io/\" target=\"_blank\">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that not\\n                    all the Compose format options are supported by Kompose at the moment.\\n                  </p>\\n                  <p>\\n                    You can get more information about Compose file format in the\\n                    <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\">official documentation</a>.\\n                  </p>\\n                </span>\\n                <span class=\"text-muted small\" ng-show=\"!ctrl.stack.IsComposeFormat\">\\n                  <p>\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    This feature allows you to deploy any kind of Kubernetes resource in this environment (Deployment, Secret, ConfigMap...).\\n                  </p>\\n                  <p>\\n                    You can get more information about Kubernetes file format in the\\n                    <a href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/\" target=\"_blank\">official documentation</a>.\\n                  </p>\\n                </span>\\n              </editor-description>\\n            </web-editor-form>\\n            \\x3c!-- #endregion --\\x3e\\n            <div ng-if=\"ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM\">\\n              <div class=\"col-sm-12 form-section-title\">\\n                Application\\n              </div>\\n              \\x3c!-- #region NAME FIELD --\\x3e\\n              <div class=\"form-group\">\\n                <label for=\"application_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n                <div class=\"col-sm-11\">\\n                  <input\\n                    type=\"text\"\\n                    class=\"form-control\"\\n                    name=\"application_name\"\\n                    ng-model=\"ctrl.formValues.Name\"\\n                    ng-change=\"ctrl.onChangeName()\"\\n                    placeholder=\"my-app\"\\n                    ng-pattern=\"/^[a-z]([-a-z0-9]*[a-z0-9])?$/\"\\n                    auto-focus\\n                    required\\n                    ng-disabled=\"ctrl.state.isEdit\"\\n                    data-cy=\"k8sAppCreate-applicationName\"\\n                  />\\n                </div>\\n              </div>\\n              <div class=\"form-group\" ng-show=\"kubernetesApplicationCreationForm.application_name.$invalid || ctrl.state.alreadyExists\">\\n                <div class=\"col-sm-12 small text-warning\">\\n                  <div ng-messages=\"kubernetesApplicationCreationForm.application_name.$error\">\\n                    <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                    <p ng-message=\"pattern\"\\n                      ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field must consist of lower case alphanumeric characters or \\'-\\', start with an alphabetic\\n                      character, and end with an alphanumeric character (e.g. \\'my-name\\', or \\'abc-123\\').</p\\n                    >\\n                  </div>\\n                  <p ng-if=\"ctrl.state.alreadyExists\"\\n                    ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> An application with the same name already exists inside the selected namespace.</p\\n                  >\\n                </div>\\n              </div>\\n              \\x3c!-- #endregion --\\x3e\\n\\n              \\x3c!-- #region IMAGE FIELD --\\x3e\\n\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12\">\\n                  <por-image-registry\\n                    model=\"ctrl.formValues.ImageModel\"\\n                    ng-if=\"ctrl.formValues.ResourcePool\"\\n                    auto-complete=\"false\"\\n                    label-class=\"col-sm-1\"\\n                    input-class=\"col-sm-11\"\\n                    namespace=\"ctrl.formValues.ResourcePool.Namespace.Name\"\\n                    endpoint=\"ctrl.endpoint\"\\n                    is-admin=\"ctrl.isAdmin\"\\n                    check-rate-limits=\"true\"\\n                    set-validity=\"ctrl.setPullImageValidity\"\\n                  ></por-image-registry>\\n                </div>\\n              </div>\\n              <div ng-if=\"ctrl.formValues.ResourcePool\">\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Stack\\n                </div>\\n                \\x3c!-- #region STACK --\\x3e\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12 small text-muted\">\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Portainer can automatically bundle multiple applications inside a stack. Enter a name of a new stack or select an existing stack in the list. Leave empty to use\\n                    the application name.\\n                  </div>\\n                </div>\\n\\n                <div class=\"form-group\">\\n                  <label for=\"stack_name\" class=\"col-sm-1 control-label text-left\">Stack</label>\\n                  <div class=\"col-sm-11\">\\n                    <input\\n                      type=\"text\"\\n                      class=\"form-control\"\\n                      placeholder=\"myStack\"\\n                      ng-model=\"ctrl.formValues.StackName\"\\n                      name=\"stack_name\"\\n                      uib-typeahead=\"stack for stack in ctrl.stacks | filter:$viewValue | limitTo:7\"\\n                      typeahead-show-hint=\"true\"\\n                      typeahead-min-length=\"0\"\\n                      data-cy=\"k8sAppCreate-stackName\"\\n                    />\\n                  </div>\\n                </div>\\n                \\x3c!-- #endregion --\\x3e\\n\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Environment\\n                </div>\\n                \\x3c!-- #region ENVIRONMENT VARIABLES --\\x3e\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <label class=\"control-label text-left\">Environment variables</label>\\n                    <span\\n                      ng-if=\"ctrl.formValues.Containers.length <= 1\"\\n                      class=\"label label-default interactive\"\\n                      style=\"margin-left: 10px;\"\\n                      ng-click=\"ctrl.addEnvironmentVariable()\"\\n                      data-cy=\"k8sAppCreate-addEnvVarButton\"\\n                    >\\n                      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add environment variable\\n                    </span>\\n                  </div>\\n\\n                  <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                    <div ng-repeat=\"envVar in ctrl.formValues.EnvironmentVariables | orderBy: \\'NameIndex\\'\" style=\"margin-top: 2px;\">\\n                      <div style=\"margin-top: 2px;\">\\n                        <div class=\"col-sm-4 input-group input-group-sm\">\\n                          <div class=\"input-group col-sm-12 input-group-sm\" ng-class=\"{ striked: envVar.NeedsDeletion }\">\\n                            <span class=\"input-group-addon\">name</span>\\n                            <input\\n                              type=\"text\"\\n                              name=\"environment_variable_name_{{ $index }}\"\\n                              class=\"form-control\"\\n                              ng-model=\"envVar.Name\"\\n                              ng-change=\"ctrl.onChangeEnvironmentName()\"\\n                              ng-pattern=\"/^[-._a-zA-Z][-._a-zA-Z0-9]*$/\"\\n                              placeholder=\"foo\"\\n                              ng-disabled=\"ctrl.formValues.Containers.length > 1\"\\n                              data-cy=\"k8sAppCreate-envVarName_{{ $index }}\"\\n                              required\\n                            />\\n                          </div>\\n                        </div>\\n\\n                        <div class=\"col-sm-4 input-group input-group-sm\" ng-class=\"{ striked: envVar.NeedsDeletion }\">\\n                          <span class=\"input-group-addon\">value</span>\\n                          <input\\n                            type=\"text\"\\n                            name=\"environment_variable_value_{{ $index }}\"\\n                            class=\"form-control\"\\n                            ng-model=\"envVar.Value\"\\n                            placeholder=\"bar\"\\n                            ng-disabled=\"ctrl.formValues.Containers.length > 1\"\\n                            data-cy=\"k8sAppCreate-envVarValue_{{ $index }}\"\\n                          />\\n                        </div>\\n\\n                        <div class=\"col-sm-2 input-group input-group-sm\" ng-if=\"ctrl.formValues.Containers.length <= 1\">\\n                          <button ng-if=\"!envVar.NeedsDeletion\" class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"ctrl.removeEnvironmentVariable(envVar)\">\\n                            <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                          </button>\\n                          <button\\n                            ng-if=\"envVar.NeedsDeletion\"\\n                            class=\"btn btn-sm btn-primary\"\\n                            type=\"button\"\\n                            ng-click=\"ctrl.restoreEnvironmentVariable(envVar)\"\\n                            data-cy=\"k8sAppCreate-removeEnvVarButton_{{ $index }}\"\\n                          >\\n                            <i class=\"fa fa-trash-restore\" aria-hidden=\"true\"></i>\\n                          </button>\\n                        </div>\\n                      </div>\\n                      <div\\n                        ng-show=\"\\n                          kubernetesApplicationCreationForm[\\'environment_variable_name_\\' + $index].$invalid || ctrl.state.duplicates.environmentVariables.refs[$index] !== undefined\\n                        \"\\n                      >\\n                        <div class=\"col-sm-4 input-group input-group-sm\">\\n                          <div\\n                            class=\"small text-warning\"\\n                            style=\"margin-top: 5px;\"\\n                            ng-show=\"\\n                              kubernetesApplicationCreationForm[\\'environment_variable_name_\\' + $index].$invalid ||\\n                              ctrl.state.duplicates.environmentVariables.refs[$index] !== undefined\\n                            \"\\n                          >\\n                            <ng-messages for=\"kubernetesApplicationCreationForm[\\'environment_variable_name_\\' + $index].$error\">\\n                              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Environment variable name is required.</p>\\n                              <p ng-message=\"pattern\"\\n                                ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field must consist of alphabetic characters, digits, \\'_\\', \\'-\\', or \\'.\\', and must\\n                                not start with a digit (e.g. \\'my.env-name\\', or \\'MY_ENV.NAME\\', or \\'MyEnvName1\\'.</p\\n                              >\\n                            </ng-messages>\\n                            <p ng-if=\"ctrl.state.duplicates.environmentVariables.refs[$index] !== undefined\"\\n                              ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This environment variable is already defined.</p\\n                            >\\n                          </div>\\n                        </div>\\n                        <div class=\"col-sm-4 input-group input-group-sm\"></div>\\n                        <div class=\"col-sm-2 input-group input-group-sm\"></div>\\n                      </div>\\n                    </div>\\n                  </div>\\n                </div>\\n                \\x3c!-- #endregion --\\x3e\\n\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Configurations\\n                </div>\\n                \\x3c!-- #region CONFIGURATIONS --\\x3e\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <label class=\"control-label text-left\">Configurations</label>\\n                    <span\\n                      class=\"label label-default interactive\"\\n                      style=\"margin-left: 10px;\"\\n                      ng-click=\"ctrl.addConfiguration()\"\\n                      ng-if=\"ctrl.formValues.Containers.length <= 1\"\\n                      data-cy=\"k8sAppCreate-addConfigButton\"\\n                    >\\n                      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add configuration\\n                    </span>\\n                  </div>\\n                  <div class=\"col-sm-12 small text-muted\" style=\"margin-top: 15px;\" ng-if=\"ctrl.formValues.Configurations.length\">\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Portainer will automatically expose all the keys of a configuration as environment variables. This behavior can be overriden to filesystem mounts for each key\\n                    via the override button.\\n                  </div>\\n                </div>\\n\\n                \\x3c!-- config-element --\\x3e\\n                <div class=\"form-group\" ng-repeat=\"(index, config) in ctrl.formValues.Configurations\">\\n                  <label for=\"stack_name\" class=\"col-md-1 col-sm-2 control-label text-left\">Configuration</label>\\n                  <div class=\"col-sm-5\">\\n                    <select\\n                      class=\"form-control\"\\n                      ng-model=\"config.SelectedConfiguration\"\\n                      ng-options=\"c as c.Name for c in ctrl.configurations track by c.Name\"\\n                      ng-change=\"ctrl.resetConfiguration(index)\"\\n                      ng-disabled=\"ctrl.formValues.Containers.length > 1\"\\n                      data-cy=\"k8sAppCreate-addConfigSelect_{{ $index }}\"\\n                    ></select>\\n                  </div>\\n                  <div class=\"col-sm-6\" style=\"margin-top: 2px;\">\\n                    <button\\n                      class=\"btn btn-sm btn-primary\"\\n                      type=\"button\"\\n                      ng-if=\"!config.Overriden\"\\n                      ng-click=\"ctrl.overrideConfiguration(index)\"\\n                      ng-disabled=\"!config.SelectedConfiguration || ctrl.formValues.Containers.length > 1\"\\n                      data-cy=\"k8sAppCreate-configOverrideButton_{{ $index }}\"\\n                    >\\n                      <i class=\"fa fa-list\" aria-hidden=\"true\"></i> Override\\n                    </button>\\n                    <button\\n                      class=\"btn btn-sm btn-primary\"\\n                      type=\"button\"\\n                      ng-if=\"config.Overriden\"\\n                      ng-click=\"ctrl.resetConfiguration(index)\"\\n                      ng-disabled=\"ctrl.formValues.Containers.length > 1\"\\n                      data-cy=\"k8sAppCreate-configAutoButton_{{ $index }}\"\\n                    >\\n                      <i class=\"fa fa-undo\" aria-hidden=\"true\"></i> Auto\\n                    </button>\\n                    <button\\n                      class=\"btn btn-sm btn-danger\"\\n                      type=\"button\"\\n                      ng-click=\"ctrl.removeConfiguration(index)\"\\n                      ng-if=\"ctrl.formValues.Containers.length <= 1\"\\n                      data-cy=\"k8sAppCreate-configRemoveButton\"\\n                    >\\n                      <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i> Remove\\n                    </button>\\n                  </div>\\n                  \\x3c!-- no-override --\\x3e\\n                  <div class=\"col-sm-12\" style=\"margin-top: 10px;\" ng-if=\"config.SelectedConfiguration && !config.Overriden\">\\n                    <div class=\"col-md-1 col-sm-2\"></div>\\n                    <div class=\"col-md-11 col-sm-10 small text-muted\" style=\"padding-left: 5px;\">\\n                      The following keys will be loaded from the <code>{{ config.SelectedConfiguration.Name }}</code> configuration as environment variables:\\n                      <span ng-repeat=\"(key, _) in config.SelectedConfiguration.Data\">\\n                        <code>{{ key }}</code\\n                        >{{ $last ? \\'\\' : \\', \\' }}\\n                      </span>\\n                    </div>\\n                  </div>\\n                  \\x3c!-- !no-override --\\x3e\\n\\n                  \\x3c!-- has-override --\\x3e\\n                  <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\" ng-if=\"config.Overriden\">\\n                    <div ng-repeat=\"(keyIndex, overridenKey) in config.OverridenKeys\" style=\"margin-top: 2px;\">\\n                      <div style=\"margin-top: 2px;\">\\n                        <div class=\"col-sm-1 input-group input-group-sm\" style=\"margin-left: 3px;\"></div>\\n                        <div class=\"col-sm-3 input-group input-group-sm\">\\n                          <span class=\"input-group-addon\">configuration key</span>\\n                          <input type=\"text\" class=\"form-control\" ng-value=\"overridenKey.Key\" disabled />\\n                        </div>\\n\\n                        <div class=\"col-sm-3 input-group input-group-sm\" ng-if=\"overridenKey.Type === ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM\">\\n                          <div class=\"col-sm-12 input-group input-group-sm\">\\n                            <span class=\"input-group-addon\">path on disk</span>\\n                            <input\\n                              type=\"text\"\\n                              class=\"form-control\"\\n                              ng-model=\"overridenKey.Path\"\\n                              placeholder=\"/etc/myapp/conf.d\"\\n                              name=\"overriden_key_path_{{ index }}_{{ keyIndex }}\"\\n                              ng-disabled=\"ctrl.formValues.Containers.length > 1\"\\n                              required\\n                              ng-change=\"ctrl.onChangeConfigurationPath()\"\\n                              data-cy=\"k8sAppCreate-pathOnDiskInput\"\\n                            />\\n                          </div>\\n                        </div>\\n\\n                        <div class=\"input-group col-sm-4 btn-group btn-group-sm\">\\n                          <label class=\"btn btn-primary\" ng-model=\"overridenKey.Type\" uib-btn-radio=\"ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.ENVIRONMENT\">\\n                            <i class=\"fa fa-list\" aria-hidden=\"true\"></i> Environment\\n                          </label>\\n                          <label class=\"btn btn-primary\" ng-model=\"overridenKey.Type\" uib-btn-radio=\"ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM\">\\n                            <i class=\"fa fa-file\" aria-hidden=\"true\"></i> Filesystem\\n                          </label>\\n                        </div>\\n                      </div>\\n\\n                      <div\\n                        ng-show=\"\\n                          kubernetesApplicationCreationForm[\\'overriden_key_path_\\' + index + \\'_\\' + keyIndex].$invalid ||\\n                          ctrl.state.duplicates.configurationPaths.refs[index + \\'_\\' + keyIndex] !== undefined\\n                        \"\\n                      >\\n                        <div class=\"col-sm-1 input-group input-group-sm\" style=\"margin-left: 3px;\"></div>\\n                        <div class=\"col-sm-3 input-group input-group-sm\"></div>\\n                        <div class=\"col-sm-3 input-group input-group-sm\" ng-if=\"overridenKey.Type === ctrl.ApplicationConfigurationFormValueOverridenKeyTypes.FILESYSTEM\">\\n                          <div\\n                            class=\"small text-warning\"\\n                            style=\"margin-top: 5px;\"\\n                            ng-show=\"\\n                              kubernetesApplicationCreationForm[\\'overriden_key_path_\\' + index + \\'_\\' + keyIndex].$invalid ||\\n                              ctrl.state.duplicates.configurationPaths.refs[index + \\'_\\' + keyIndex] !== undefined\\n                            \"\\n                          >\\n                            <ng-messages for=\"kubernetesApplicationCreationForm[\\'overriden_key_path_\\' + index + \\'_\\' + keyIndex].$error\">\\n                              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Path is required.</p>\\n                            </ng-messages>\\n                            <p ng-if=\"ctrl.state.duplicates.configurationPaths.refs[index + \\'_\\' + keyIndex] !== undefined\"\\n                              ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This path is already used.</p\\n                            >\\n                          </div>\\n                        </div>\\n                        <div class=\"col-sm-4 input-group input-group-sm\"></div>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  \\x3c!-- !has-override --\\x3e\\n                </div>\\n                \\x3c!-- !config-element --\\x3e\\n                \\x3c!-- #endregion --\\x3e\\n\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Persisting data\\n                </div>\\n                \\x3c!-- #region PERSISTED FOLDERS --\\x3e\\n                <div class=\"form-group\" ng-if=\"!ctrl.storageClassAvailable()\">\\n                  <div class=\"col-sm-12 small text-muted\">\\n                    <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    No storage option is available to persist data, contact your administrator to enable a storage option.\\n                  </div>\\n                </div>\\n\\n                <div class=\"form-group\" ng-if=\"ctrl.storageClassAvailable()\">\\n                  <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                    <label class=\"control-label text-left\">Persisted folders</label>\\n                    <span\\n                      class=\"label label-default interactive\"\\n                      style=\"margin-left: 10px;\"\\n                      ng-click=\"ctrl.addPersistedFolder()\"\\n                      ng-if=\"ctrl.isAddPersistentFolderButtonShowed()\"\\n                      data-cy=\"k8sAppCreate-addPersistentFolderButton\"\\n                    >\\n                      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add persisted folder\\n                    </span>\\n                  </div>\\n\\n                  <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\" ng-repeat=\"persistedFolder in ctrl.formValues.PersistedFolders\">\\n                    <div style=\"margin-top: 2px;\">\\n                      <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: persistedFolder.NeedsDeletion }\">\\n                        <span class=\"input-group-addon\">path in container</span>\\n                        <input\\n                          type=\"text\"\\n                          class=\"form-control\"\\n                          name=\"persisted_folder_path_{{ $index }}\"\\n                          ng-model=\"persistedFolder.ContainerPath\"\\n                          ng-change=\"ctrl.onChangePersistedFolderPath()\"\\n                          ng-disabled=\"ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1\"\\n                          placeholder=\"/data\"\\n                          required\\n                          data-cy=\"k8sAppCreate-containerPathInput_{{ $index }}\"\\n                        />\\n                      </div>\\n\\n                      <div class=\"input-group col-sm-2 input-group-sm\">\\n                        <span\\n                          class=\"btn-group btn-group-sm\"\\n                          ng-class=\"{ striked: persistedFolder.NeedsDeletion }\"\\n                          ng-if=\"\\n                            !ctrl.isEditAndExistingPersistedFolder($index) &&\\n                            ctrl.application.ApplicationType !== ctrl.ApplicationTypes.STATEFULSET &&\\n                            ctrl.formValues.Containers.length <= 1\\n                          \"\\n                        >\\n                          <label\\n                            class=\"btn btn-primary\"\\n                            ng-model=\"persistedFolder.UseNewVolume\"\\n                            uib-btn-radio=\"true\"\\n                            ng-change=\"ctrl.useNewVolume($index)\"\\n                            ng-disabled=\"ctrl.isNewVolumeButtonDisabled($index)\"\\n                            >New volume</label\\n                          >\\n                          <label\\n                            class=\"btn btn-primary\"\\n                            ng-model=\"persistedFolder.UseNewVolume\"\\n                            uib-btn-radio=\"false\"\\n                            ng-change=\"ctrl.useExistingVolume($index)\"\\n                            ng-disabled=\"ctrl.isExistingVolumeButtonDisabled()\"\\n                            >Existing volume</label\\n                          >\\n                        </span>\\n                      </div>\\n\\n                      <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: persistedFolder.NeedsDeletion }\" ng-if=\"persistedFolder.UseNewVolume\">\\n                        <span class=\"input-group-addon\">requested size</span>\\n                        <input\\n                          type=\"number\"\\n                          class=\"form-control\"\\n                          name=\"persisted_folder_size_{{ $index }}\"\\n                          ng-model=\"persistedFolder.Size\"\\n                          placeholder=\"20\"\\n                          ng-min=\"0\"\\n                          required\\n                          ng-disabled=\"ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1\"\\n                        />\\n                        <span class=\"input-group-addon\" style=\"padding: 0;\">\\n                          <select\\n                            ng-model=\"persistedFolder.SizeUnit\"\\n                            ng-style=\"{ width: \\'100%\\', height: \\'100%\\', cursor: ctrl.isEditAndExistingPersistedFolder($index) ? \\'not-allowed\\' : \\'auto\\' }\"\\n                            ng-options=\"unit for unit in ctrl.state.availableSizeUnits\"\\n                            ng-disabled=\"ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1\"\\n                          ></select>\\n                        </span>\\n                      </div>\\n\\n                      <div class=\"input-group col-sm-2 input-group-sm\" ng-class=\"{ striked: persistedFolder.NeedsDeletion }\" ng-if=\"persistedFolder.UseNewVolume\">\\n                        <span class=\"input-group-addon\">storage</span>\\n                        <select\\n                          ng-if=\"ctrl.hasMultipleStorageClassesAvailable()\"\\n                          class=\"form-control\"\\n                          ng-model=\"persistedFolder.StorageClass\"\\n                          ng-options=\"storageClass as storageClass.Name for storageClass in ctrl.storageClasses\"\\n                          ng-disabled=\"ctrl.state.isEdit || ctrl.formValues.Containers.length > 1\"\\n                          data-cy=\"k8sAppCreate-storageSelect_{{ $index }}\"\\n                        ></select>\\n                        <input\\n                          ng-if=\"!ctrl.hasMultipleStorageClassesAvailable()\"\\n                          type=\"text\"\\n                          class=\"form-control\"\\n                          disabled\\n                          ng-model=\"persistedFolder.StorageClass.Name\"\\n                          data-cy=\"k8sAppCreate-storageClassNameInput_{{ $index }}\"\\n                        />\\n                      </div>\\n\\n                      <div class=\"input-group col-sm-5 input-group-sm\" ng-if=\"!persistedFolder.UseNewVolume\" ng-class=\"{ striked: persistedFolder.NeedsDeletion }\">\\n                        <span class=\"input-group-addon\">volume</span>\\n                        <select\\n                          class=\"form-control\"\\n                          name=\"existing_volumes_{{ $index }}\"\\n                          ng-model=\"ctrl.formValues.PersistedFolders[$index].ExistingVolume\"\\n                          ng-options=\"vol as vol.PersistentVolumeClaim.Name for vol in ctrl.availableVolumes\"\\n                          ng-change=\"ctrl.onChangeExistingVolumeSelection()\"\\n                          ng-disabled=\"ctrl.isEditAndExistingPersistedFolder($index) || ctrl.formValues.Containers.length > 1\"\\n                          required\\n                        >\\n                          <option selected disabled hidden value=\"\">Select a volume</option>\\n                        </select>\\n                      </div>\\n\\n                      <div class=\"input-group col-sm-1 input-group-sm\">\\n                        <div ng-if=\"!ctrl.isEditAndStatefulSet() && !ctrl.state.useExistingVolume[$index] && ctrl.formValues.Containers.length <= 1\">\\n                          <button\\n                            ng-if=\"!persistedFolder.NeedsDeletion\"\\n                            class=\"btn btn-sm btn-danger\"\\n                            type=\"button\"\\n                            ng-click=\"ctrl.removePersistedFolder($index)\"\\n                            data-cy=\"k8sAppCreate-rmPersistentFolderButton\"\\n                          >\\n                            <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                          </button>\\n                          <button\\n                            ng-if=\"persistedFolder.NeedsDeletion\"\\n                            class=\"btn btn-sm btn-primary\"\\n                            type=\"button\"\\n                            ng-click=\"ctrl.restorePersistedFolder($index)\"\\n                            data-cy=\"k8sAppCreate-restorePersistentButton\"\\n                          >\\n                            <i class=\"fa fa-trash-restore\" aria-hidden=\"true\"></i>\\n                          </button>\\n                        </div>\\n                      </div>\\n                    </div>\\n\\n                    <div\\n                      ng-show=\"\\n                        kubernetesApplicationCreationForm[\\'persisted_folder_path_\\' + $index].$invalid ||\\n                        ctrl.state.duplicates.persistedFolders.refs[$index] !== undefined ||\\n                        kubernetesApplicationCreationForm[\\'persisted_folder_size_\\' + $index].$invalid ||\\n                        kubernetesApplicationCreationForm[\\'existing_volumes_\\' + $index].$invalid ||\\n                        ctrl.state.duplicates.existingVolumes.refs[$index] !== undefined\\n                      \"\\n                    >\\n                      <div class=\"input-group col-sm-3 input-group-sm\">\\n                        <div\\n                          class=\"small text-warning\"\\n                          style=\"margin-top: 5px;\"\\n                          ng-show=\"\\n                            kubernetesApplicationCreationForm[\\'persisted_folder_path_\\' + $index].$invalid || ctrl.state.duplicates.persistedFolders.refs[$index] !== undefined\\n                          \"\\n                        >\\n                          <ng-messages for=\"kubernetesApplicationCreationForm[\\'persisted_folder_path_\\' + $index].$error\">\\n                            <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Path is required.</p>\\n                          </ng-messages>\\n                          <p ng-if=\"ctrl.state.duplicates.persistedFolders.refs[$index] !== undefined\"\\n                            ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This path is already defined.</p\\n                          >\\n                        </div>\\n                      </div>\\n\\n                      <div class=\"input-group col-sm-2 input-group-sm\"></div>\\n\\n                      <div class=\"input-group col-sm-5 input-group-sm\">\\n                        <div class=\"small text-warning\" style=\"margin-top: 5px;\" ng-show=\"kubernetesApplicationCreationForm[\\'persisted_folder_size_\\' + $index].$invalid\">\\n                          <ng-messages for=\"kubernetesApplicationCreationForm[\\'persisted_folder_size_\\' + $index].$error\">\\n                            <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Size is required.</p>\\n                            <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This value must be greater than zero.</p>\\n                          </ng-messages>\\n                        </div>\\n                        <div\\n                          class=\"small text-warning\"\\n                          ng-show=\"kubernetesApplicationCreationForm[\\'existing_volumes_\\' + $index].$invalid || ctrl.state.duplicates.existingVolumes.refs[$index] !== undefined\"\\n                        >\\n                          <ng-messages for=\"kubernetesApplicationCreationForm[\\'existing_volumes_\\' + $index].$error\">\\n                            <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Volume is required.</p>\\n                          </ng-messages>\\n                          <p ng-if=\"ctrl.state.duplicates.existingVolumes.refs[$index] !== undefined\"\\n                            ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This volume is already used.</p\\n                          >\\n                        </div>\\n                      </div>\\n\\n                      <div class=\"input-group col-sm-1 input-group-sm\"> </div>\\n                    </div>\\n                  </div>\\n                </div>\\n                \\x3c!-- #endregion --\\x3e\\n\\n                \\x3c!-- #region DATA ACCESS POLICY --\\x3e\\n                <div ng-if=\"ctrl.showDataAccessPolicySection()\">\\n                  <div class=\"form-group\">\\n                    <div class=\"col-sm-12\">\\n                      <label class=\"control-label text-left\">Data access policy</label>\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\">\\n                    <div class=\"col-sm-12 small text-muted\">\\n                      Specify how the data will be used across instances.\\n                    </div>\\n                  </div>\\n\\n                  \\x3c!-- access policy options --\\x3e\\n                  <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n                    <div class=\"boxselector_wrapper\">\\n                      <div\\n                        ng-if=\"\\n                          (!ctrl.state.isEdit && !ctrl.state.persistedFoldersUseExistingVolumes) ||\\n                          (ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.ISOLATED)\\n                        \"\\n                      >\\n                        <input\\n                          type=\"radio\"\\n                          id=\"data_access_isolated\"\\n                          ng-value=\"ctrl.ApplicationDataAccessPolicies.ISOLATED\"\\n                          ng-model=\"ctrl.formValues.DataAccessPolicy\"\\n                          ng-change=\"ctrl.resetDeploymentType()\"\\n                        />\\n                        <label for=\"data_access_isolated\">\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-cubes\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                            Isolated\\n                          </div>\\n                          <p>Application will be deployed as a StatefulSet with each instantiating their own data</p>\\n                        </label>\\n                      </div>\\n                      <div\\n                        style=\"color: #767676;\"\\n                        ng-if=\"\\n                          (ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.SHARED) || ctrl.state.persistedFoldersUseExistingVolumes\\n                        \"\\n                      >\\n                        <input type=\"radio\" id=\"data_access_isolated\" disabled />\\n                        <label\\n                          for=\"data_access_isolated\"\\n                          tooltip-append-to-body=\"true\"\\n                          tooltip-placement=\"bottom\"\\n                          tooltip-class=\"portainer-tooltip\"\\n                          uib-tooltip=\"Changing the data access policy is not allowed\"\\n                          style=\"cursor: pointer; border-color: #767676;\"\\n                        >\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-cubes\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                            Isolated\\n                          </div>\\n                          <p>Application will be deployed as a StatefulSet with each instantiating their own data</p>\\n                        </label>\\n                      </div>\\n                      <div ng-if=\"!ctrl.state.isEdit || (ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.SHARED)\">\\n                        <input\\n                          type=\"radio\"\\n                          id=\"data_access_shared\"\\n                          ng-value=\"ctrl.ApplicationDataAccessPolicies.SHARED\"\\n                          ng-model=\"ctrl.formValues.DataAccessPolicy\"\\n                          ng-change=\"ctrl.resetDeploymentType()\"\\n                        />\\n                        <label for=\"data_access_shared\">\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-cube\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                            Shared\\n                          </div>\\n                          <p>Application will be deployed as a Deployment with a shared storage access</p>\\n                        </label>\\n                      </div>\\n                      <div style=\"color: #767676;\" ng-if=\"ctrl.state.isEdit && ctrl.formValues.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.ISOLATED\">\\n                        <input type=\"radio\" id=\"data_access_shared\" disabled />\\n                        <label\\n                          for=\"data_access_shared\"\\n                          tooltip-append-to-body=\"true\"\\n                          tooltip-placement=\"bottom\"\\n                          tooltip-class=\"portainer-tooltip\"\\n                          uib-tooltip=\"Changing the data access policy is not allowed\"\\n                          style=\"cursor: pointer; border-color: #767676;\"\\n                        >\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-cube\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                            Shared\\n                          </div>\\n                          <p>Application will be deployed as a Deployment with a shared storage access</p>\\n                        </label>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  \\x3c!-- !access policy options --\\x3e\\n                </div>\\n                \\x3c!-- #endregion --\\x3e\\n\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Resource reservations\\n                </div>\\n                \\x3c!-- #region RESOURCE RESERVATIONS --\\x3e\\n                <div class=\"form-group\" ng-if=\"!ctrl.state.resourcePoolHasQuota\">\\n                  <div class=\"col-sm-12 small text-muted\">\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Resource reservations are applied per instance of the application.\\n                  </div>\\n                </div>\\n\\n                <div class=\"form-group\" ng-if=\"ctrl.state.resourcePoolHasQuota && !ctrl.resourceQuotaCapacityExceeded()\">\\n                  <div class=\"col-sm-12 small text-muted\">\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    A resource quota is set on this namespace, you must specify resource reservations. Resource reservations are applied per instance of the application. Maximums\\n                    are inherited from the namespace quota.\\n                  </div>\\n                </div>\\n\\n                <div class=\"form-group\" ng-if=\"ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded()\">\\n                  <div class=\"col-sm-12 small text-danger\">\\n                    <i class=\"fa fa-exclamation-circle red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    This namespace has exhausted its resource capacity and you will not be able to deploy the application. Contact your administrator to expand the capacity of the\\n                    namespace.\\n                  </div>\\n                </div>\\n\\n                \\x3c!-- memory-limit-input --\\x3e\\n                <div\\n                  class=\"form-group\"\\n                  ng-if=\"(!ctrl.state.resourcePoolHasQuota || (ctrl.state.resourcePoolHasQuota && !ctrl.resourceQuotaCapacityExceeded())) && ctrl.formValues.Containers.length <= 1\"\\n                >\\n                  <label for=\"memory-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px;\">\\n                    Memory\\n                    <portainer-tooltip\\n                      position=\"bottom\"\\n                      message=\"An instance of this application will reserve this amount of memory. If the instance memory usage exceeds the reservation, it might be subject to OOM.\"\\n                    >\\n                    </portainer-tooltip>\\n                  </label>\\n                  <div class=\"col-sm-3\">\\n                    <slider model=\"ctrl.formValues.MemoryLimit\" floor=\"ctrl.state.sliders.memory.min\" ceil=\"ctrl.state.sliders.memory.max\" step=\"128\"></slider>\\n                  </div>\\n                  <div class=\"col-sm-2\">\\n                    <input\\n                      name=\"memory_limit\"\\n                      ng-model=\"ctrl.formValues.MemoryLimit\"\\n                      type=\"number\"\\n                      min=\"{{ ctrl.state.sliders.memory.min }}\"\\n                      max=\"{{ ctrl.state.sliders.memory.max }}\"\\n                      class=\"form-control\"\\n                      id=\"memory-limit\"\\n                      required\\n                      data-cy=\"k8sAppCreate-memoryLimit\"\\n                    />\\n                  </div>\\n                  <div class=\"col-sm-4\">\\n                    <p class=\"small text-muted\" style=\"margin-top: 7px;\">\\n                      Maximum memory usage (<b>MB</b>)\\n                    </p>\\n                  </div>\\n                </div>\\n                <div class=\"form-group\" ng-show=\"kubernetesApplicationCreationForm.memory_limit.$invalid\">\\n                  <div class=\"col-sm-12 small text-warning\">\\n                    <div ng-messages=\"kubernetesApplicationCreationForm.memory_limit.$error\">\\n                      <p\\n                        ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Value must be between {{ ctrl.state.sliders.memory.min }} and\\n                        {{ ctrl.state.sliders.memory.max }}\\n                      </p>\\n                    </div>\\n                  </div>\\n                </div>\\n                \\x3c!-- !memory-limit-input --\\x3e\\n                \\x3c!-- cpu-limit-input --\\x3e\\n                <div\\n                  class=\"form-group\"\\n                  ng-if=\"(!ctrl.state.resourcePoolHasQuota || (ctrl.state.resourcePoolHasQuota && !ctrl.resourceQuotaCapacityExceeded())) && ctrl.formValues.Containers.length <= 1\"\\n                >\\n                  <label for=\"cpu-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px;\">\\n                    CPU\\n                    <portainer-tooltip\\n                      position=\"bottom\"\\n                      message=\"An instance of this application will reserve this amount of CPU. If the instance CPU usage exceeds the reservation, it might be subject to CPU throttling.\"\\n                    >\\n                    </portainer-tooltip>\\n                  </label>\\n                  <div class=\"col-sm-5\">\\n                    <slider model=\"ctrl.formValues.CpuLimit\" floor=\"ctrl.state.sliders.cpu.min\" ceil=\"ctrl.state.sliders.cpu.max\" step=\"0.10\" precision=\"2\"></slider>\\n                  </div>\\n                  <div class=\"col-sm-4\" style=\"margin-top: 20px;\">\\n                    <p class=\"small text-muted\">\\n                      Maximum CPU usage\\n                    </p>\\n                  </div>\\n                </div>\\n\\n                <div class=\"form-group\" ng-if=\"ctrl.nodeLimitsOverflow()\">\\n                  <div class=\"col-sm-12 small text-danger\">\\n                    <i class=\"fa fa-exclamation-circle red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    These reservations would exceed the resources currently available in the cluster.\\n                  </div>\\n                </div>\\n                \\x3c!-- !cpu-limit-input --\\x3e\\n                \\x3c!-- #endregion --\\x3e\\n\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Deployment\\n                </div>\\n                \\x3c!-- #region DEPLOYMENT --\\x3e\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12 small text-muted\">\\n                    Select how you want to deploy your application inside the cluster.\\n                  </div>\\n                </div>\\n\\n                \\x3c!-- deployment options --\\x3e\\n                <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n                  <div class=\"boxselector_wrapper\">\\n                    <div>\\n                      <input\\n                        type=\"radio\"\\n                        id=\"deployment_replicated\"\\n                        ng-value=\"ctrl.ApplicationDeploymentTypes.REPLICATED\"\\n                        ng-model=\"ctrl.formValues.DeploymentType\"\\n                        data-cy=\"k8sAppCreate-replicatedDeploymentButton\"\\n                      />\\n                      <label for=\"deployment_replicated\">\\n                        <div class=\"boxselector_header\">\\n                          <i class=\"fa fa-cube\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                          Replicated\\n                        </div>\\n                        <p>Run one or multiple instances of this container</p>\\n                      </label>\\n                    </div>\\n                    <div style=\"color: #767676;\" ng-if=\"!ctrl.supportGlobalDeployment()\">\\n                      <input type=\"radio\" id=\"deployment_global\" disabled />\\n                      <label\\n                        for=\"deployment_global\"\\n                        tooltip-append-to-body=\"true\"\\n                        tooltip-placement=\"bottom\"\\n                        tooltip-class=\"portainer-tooltip\"\\n                        uib-tooltip=\"The storage or access policy used for persisted folders cannot be used with this option\"\\n                        style=\"cursor: pointer; border-color: #767676;\"\\n                      >\\n                        <div class=\"boxselector_header\">\\n                          <i class=\"fa fa-cubes\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                          Global\\n                        </div>\\n                        <p>Application will be deployed as a DaemonSet with an instance on each node of the cluster</p>\\n                      </label>\\n                    </div>\\n                    <div ng-if=\"ctrl.supportGlobalDeployment()\">\\n                      <input\\n                        type=\"radio\"\\n                        id=\"deployment_global\"\\n                        ng-value=\"ctrl.ApplicationDeploymentTypes.GLOBAL\"\\n                        ng-model=\"ctrl.formValues.DeploymentType\"\\n                        ng-click=\"ctrl.unselectAutoScaler()\"\\n                        data-cy=\"k8sAppCreate-globalDeployButton\"\\n                      />\\n                      <label for=\"deployment_global\">\\n                        <div class=\"boxselector_header\">\\n                          <i class=\"fa fa-cubes\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                          Global\\n                        </div>\\n                        <p>Application will be deployed as a DaemonSet with an instance on each node of the cluster</p>\\n                      </label>\\n                    </div>\\n                  </div>\\n                </div>\\n                \\x3c!-- !deployment options --\\x3e\\n\\n                \\x3c!-- replica count --\\x3e\\n                <div class=\"form-group form-inline\" ng-if=\"ctrl.formValues.DeploymentType === ctrl.ApplicationDeploymentTypes.REPLICATED\">\\n                  <div class=\"col-sm-12\">\\n                    <label class=\"control-label text-left\">\\n                      Instance count\\n                    </label>\\n                    <input\\n                      type=\"number\"\\n                      name=\"replica_count\"\\n                      class=\"form-control\"\\n                      min=\"1\"\\n                      max=\"9999\"\\n                      placeholder=\"1\"\\n                      style=\"margin-left: 20px;\"\\n                      ng-model=\"ctrl.formValues.ReplicaCount\"\\n                      ng-disabled=\"!ctrl.supportScalableReplicaDeployment()\"\\n                      ng-change=\"ctrl.enforceReplicaCountMinimum()\"\\n                      required\\n                      data-cy=\"k8sAppCreate-replicaCountInput\"\\n                    />\\n                  </div>\\n                </div>\\n                <div class=\"form-group\" ng-if=\"kubernetesApplicationCreationForm[\\'replica_count\\'].$invalid\">\\n                  <div class=\"col-sm-12 small text-warning\">\\n                    <ng-messages for=\"kubernetesApplicationCreationForm[\\'replica_count\\'].$error\">\\n                      <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Instance count is required.</p>\\n                      <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Instance count must be greater than 0.</p>\\n                    </ng-messages>\\n                  </div>\\n                </div>\\n                \\x3c!-- !replica count --\\x3e\\n\\n                <div\\n                  class=\"form-group\"\\n                  ng-if=\"!ctrl.resourceReservationsOverflow() && ctrl.formValues.ReplicaCount > 1 && (ctrl.formValues.CpuLimit !== 0 || ctrl.formValues.MemoryLimit !== 0)\"\\n                >\\n                  <div class=\"col-sm-12 small text-muted\">\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    This application will reserve the following resources:\\n                    <b>{{ ctrl.formValues.CpuLimit * ctrl.formValues.ReplicaCount | kubernetesApplicationCPUValue }} CPU</b> and\\n                    <b>{{ ctrl.formValues.MemoryLimit * ctrl.formValues.ReplicaCount }} MB</b> of memory.\\n                  </div>\\n                </div>\\n\\n                <div class=\"form-group\" ng-if=\"ctrl.resourceReservationsOverflow()\">\\n                  <div class=\"col-sm-12 small text-danger\">\\n                    <i class=\"fa fa-exclamation-circle red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    This application would exceed available resources. Please review resource reservations or the instance count.\\n                  </div>\\n                </div>\\n\\n                <div class=\"form-group\" ng-if=\"!ctrl.supportScalableReplicaDeployment()\">\\n                  <div class=\"col-sm-12 small text-muted\">\\n                    <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    The following storage option(s) do not support concurrent access from multiples instances: <code>{{ ctrl.getNonScalableStorage() }}</code\\n                    >. You will not be able to scale that application.\\n                  </div>\\n                </div>\\n                \\x3c!-- #endregion --\\x3e\\n\\n                \\x3c!-- #region AUTO SCALING --\\x3e\\n                <div class=\"col-sm-12 form-section-title\" ng-if=\"ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL\">\\n                  Auto-scaling\\n                </div>\\n\\n                <div class=\"form-group\" ng-if=\"ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL && ctrl.state.useServerMetrics\">\\n                  <div class=\"col-sm-12\">\\n                    <label for=\"enable_auto_scaling\" class=\"control-label text-left\">\\n                      Enable auto scaling for this application\\n                    </label>\\n                    <label class=\"switch\" style=\"margin-left: 20px;\">\\n                      <input\\n                        type=\"checkbox\"\\n                        class=\"form-control\"\\n                        name=\"enable_auto_scaling\"\\n                        ng-model=\"ctrl.formValues.AutoScaler.IsUsed\"\\n                        data-cy=\"k8sAppCreate-autoScaleCheckbox\"\\n                      />\\n                      <i></i>\\n                    </label>\\n                  </div>\\n                </div>\\n\\n                <div class=\"form-group\" ng-if=\"ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL && !ctrl.state.useServerMetrics\">\\n                  <div class=\"col-sm-12 small text-muted\">\\n                    <p ng-if=\"!ctrl.isAdmin\">\\n                      This feature is currently disabled and must be enabled by an administrator user.\\n                    </p>\\n                    <p ng-if=\"ctrl.isAdmin\">\\n                      Server metrics features must be enabled in the\\n                      <a ui-sref=\"portainer.k8sendpoint.kubernetesConfig({id: ctrl.endpoint.Id})\" class=\"ctrl.isAdmin\">environment configuration view</a>.\\n                    </p>\\n                  </div>\\n                </div>\\n\\n                <div class=\"form-inline\" ng-if=\"ctrl.formValues.DeploymentType !== ctrl.ApplicationDeploymentTypes.GLOBAL && ctrl.formValues.AutoScaler.IsUsed\">\\n                  <table class=\"table\" style=\"margin-bottom: 0px;\">\\n                    <tbody>\\n                      <tr class=\"small\">\\n                        <td style=\"width: 33%; border: none; padding: 2px 0 2px 0;\">Minimum instances</td>\\n                        <td style=\"width: 33%; border: none; padding: 2px 0 2px 0;\">Maximum instances</td>\\n                        <td style=\"width: 33%; border: none; padding: 2px 0 2px 0;\">\\n                          Target CPU usage (<b>%</b>)\\n                          <portainer-tooltip\\n                            position=\"bottom\"\\n                            message=\"The autoscaler will ensure enough instances are running to maintain an average CPU usage across all instances.\"\\n                          >\\n                          </portainer-tooltip>\\n                        </td>\\n                      </tr>\\n                      <tr>\\n                        <td style=\"padding: 8px 5px 5px 0; border: none;\">\\n                          <div class=\"input-group input-group-sm\" style=\"width: 100%;\">\\n                            <input\\n                              type=\"number\"\\n                              class=\"form-control\"\\n                              name=\"auto_scaler_min\"\\n                              min=\"0\"\\n                              ng-max=\"ctrl.formValues.AutoScaler.MaxReplicas\"\\n                              ng-model=\"ctrl.formValues.AutoScaler.MinReplicas\"\\n                              data-cy=\"k8sAppCreate-autoScaleMin\"\\n                              required\\n                            />\\n                          </div>\\n                          <div class=\"input-group input-group-sm\" ng-show=\"kubernetesApplicationCreationForm[\\'auto_scaler_min\\'].$invalid\">\\n                            <div class=\"small text-warning\" style=\"margin-top: 5px;\">\\n                              <ng-messages for=\"kubernetesApplicationCreationForm[\\'auto_scaler_min\\'].$error\">\\n                                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum instances is required.</p>\\n                                <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum instances must be greater than 0.</p>\\n                                <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Minimum instances must be smaller than maximum instances.</p>\\n                              </ng-messages>\\n                            </div>\\n                          </div>\\n                        </td>\\n                        <td style=\"padding: 8px 5px 5px 0; border: none;\">\\n                          <div class=\"input-group input-group-sm\" style=\"width: 100%;\">\\n                            <input\\n                              type=\"number\"\\n                              class=\"form-control\"\\n                              name=\"auto_scaler_max\"\\n                              ng-min=\"ctrl.formValues.AutoScaler.MinReplicas\"\\n                              ng-model=\"ctrl.formValues.AutoScaler.MaxReplicas\"\\n                            />\\n                          </div>\\n                          <div class=\"input-group input-group-sm\" ng-show=\"kubernetesApplicationCreationForm[\\'auto_scaler_max\\'].$invalid || ctrl.autoScalerOverflow()\">\\n                            <div class=\"small text-warning\" style=\"margin-top: 5px;\">\\n                              <ng-messages for=\"kubernetesApplicationCreationForm[\\'auto_scaler_max\\'].$error\">\\n                                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum instances is required.</p>\\n                                <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Maximum instances must be greater than minimum instances.</p>\\n                              </ng-messages>\\n                            </div>\\n                          </div>\\n                        </td>\\n                        <td style=\"padding: 8px 5px 5px 0; border: none;\">\\n                          <div class=\"input-group input-group-sm\" style=\"width: 100%;\">\\n                            <input\\n                              type=\"number\"\\n                              class=\"form-control\"\\n                              name=\"auto_scaler_cpu\"\\n                              ng-model=\"ctrl.formValues.AutoScaler.TargetCPUUtilization\"\\n                              min=\"1\"\\n                              max=\"100\"\\n                              required\\n                              data-cy=\"k8sAppCreate-targetCPUInput\"\\n                            />\\n                          </div>\\n                          <div class=\"input-group input-group-sm\" ng-show=\"kubernetesApplicationCreationForm[\\'auto_scaler_cpu\\'].$invalid\">\\n                            <div class=\"small text-warning\" style=\"margin-top: 5px;\">\\n                              <ng-messages for=\"kubernetesApplicationCreationForm[\\'auto_scaler_cpu\\'].$error\">\\n                                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Target CPU usage is required.</p>\\n                                <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Target CPU usage must be greater than 0.</p>\\n                                <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Target CPU usage must be smaller than 100.</p>\\n                              </ng-messages>\\n                            </div>\\n                          </div>\\n                        </td>\\n                      </tr>\\n                    </tbody>\\n                  </table>\\n\\n                  <div class=\"form-group\" ng-if=\"ctrl.autoScalerOverflow()\" style=\"margin-bottom: 10px;\">\\n                    <div class=\"col-sm-12 small text-danger\">\\n                      <i class=\"fa fa-exclamation-circle red-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                      This application would exceed available resources. Please review resource reservations or the maximum instance count of the auto-scaling policy.\\n                    </div>\\n                  </div>\\n                </div>\\n                \\x3c!-- #endregion --\\x3e\\n\\n                <div ng-if=\"ctrl.formValues.DeploymentType === ctrl.ApplicationDeploymentTypes.REPLICATED\">\\n                  <div class=\"col-sm-12 form-section-title\">\\n                    Placement preferences and constraints\\n                  </div>\\n\\n                  \\x3c!-- #region PLACEMENTS --\\x3e\\n                  <div class=\"form-group\">\\n                    <div class=\"col-sm-12\">\\n                      <label class=\"control-label text-left\">Placement rules</label>\\n                      <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"ctrl.addPlacement()\">\\n                        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add rule\\n                      </span>\\n                    </div>\\n\\n                    <div class=\"col-sm-12 small text-muted\" ng-if=\"ctrl.formValues.Placements.length > 0\" style=\"margin-top: 10px;\">\\n                      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                      Deploy this application on nodes that respect <b>ALL</b> of the following placement rules. Placement rules are based on node labels.\\n                    </div>\\n\\n                    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                      <div ng-repeat-start=\"placement in ctrl.formValues.Placements\" style=\"margin-top: 2px;\">\\n                        <div class=\"col-sm-5 input-group\" ng-class=\"{ striked: placement.NeedsDeletion }\">\\n                          <select\\n                            class=\"form-control\"\\n                            ng-model=\"placement.Label\"\\n                            ng-options=\"label as (label.Key | kubernetesNodeLabelHumanReadbleText) for label in ctrl.nodesLabels\"\\n                            ng-change=\"ctrl.onChangePlacementLabel($index)\"\\n                            ng-disabled=\"ctrl.isEditAndNotNewPlacement($index)\"\\n                            data-cy=\"k8sAppCreate-placementLabel_{{ $index }}\"\\n                          >\\n                          </select>\\n                        </div>\\n                        <div class=\"col-sm-5 input-group\" ng-class=\"{ striked: placement.NeedsDeletion }\">\\n                          <select\\n                            class=\"form-control\"\\n                            ng-model=\"placement.Value\"\\n                            ng-options=\"value for value in placement.Label.Values\"\\n                            ng-disabled=\"ctrl.isEditAndNotNewPlacement($index)\"\\n                            data-cy=\"k8sAppCreate-placementName_{{ $index }}\"\\n                          >\\n                          </select>\\n                        </div>\\n\\n                        <div class=\"col-sm-1 input-group\">\\n                          <button\\n                            ng-if=\"!placement.NeedsDeletion\"\\n                            class=\"btn btn-sm btn-danger\"\\n                            type=\"button\"\\n                            ng-click=\"ctrl.removePlacement($index)\"\\n                            data-cy=\"k8sAppCreate-deletePlacementButton\"\\n                          >\\n                            <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                          </button>\\n                          <button\\n                            ng-if=\"placement.NeedsDeletion\"\\n                            class=\"btn btn-sm btn-primary\"\\n                            type=\"button\"\\n                            ng-click=\"ctrl.restorePlacement($index)\"\\n                            data-cy=\"k8sAppCreate-restorePlacementButton\"\\n                          >\\n                            <i class=\"fa fa-trash-restore\" aria-hidden=\"true\"></i>\\n                          </button>\\n                        </div>\\n                      </div>\\n                      <div ng-repeat-end ng-show=\"ctrl.state.duplicates.placements.refs[$index] !== undefined\">\\n                        <div class=\"col-sm-5 input-group\">\\n                          <div class=\"small text-warning\" style=\"margin-top: 5px;\" ng-if=\"ctrl.state.duplicates.placements.refs[$index] !== undefined\">\\n                            <p ng-if=\"ctrl.state.duplicates.placements.refs[$index] !== undefined\">\\n                              <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This label is already defined.\\n                            </p>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  <div ng-if=\"ctrl.showPlacementPolicySection()\">\\n                    <div class=\"form-group\">\\n                      <div class=\"col-sm-12\">\\n                        <label class=\"control-label text-left\">Placement policy</label>\\n                      </div>\\n                    </div>\\n\\n                    <div class=\"form-group\">\\n                      <div class=\"col-sm-12 small text-muted\">\\n                        Specify the policy associated to the placement rules.\\n                      </div>\\n                    </div>\\n\\n                    \\x3c!-- placement policy options --\\x3e\\n                    <div class=\"form-group\" style=\"margin-bottom: 0;\" ng-if=\"ctrl.formValues.Placements.length\">\\n                      <div class=\"boxselector_wrapper\">\\n                        <div>\\n                          <input\\n                            type=\"radio\"\\n                            id=\"placement_hard\"\\n                            ng-value=\"ctrl.ApplicationPlacementTypes.MANDATORY\"\\n                            ng-model=\"ctrl.formValues.PlacementType\"\\n                            data-cy=\"k8sAppCreate-mandatoryPlacementButton\"\\n                          />\\n                          <label for=\"placement_hard\">\\n                            <div class=\"boxselector_header\">\\n                              <i class=\"fa fa-tasks\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                              Mandatory\\n                            </div>\\n                            <p>Schedule this application <b>ONLY</b> on nodes that match <b>ALL</b> Rules</p>\\n                          </label>\\n                        </div>\\n                        <div>\\n                          <input\\n                            type=\"radio\"\\n                            id=\"placement_soft\"\\n                            ng-value=\"ctrl.ApplicationPlacementTypes.PREFERRED\"\\n                            ng-model=\"ctrl.formValues.PlacementType\"\\n                            data-cy=\"k8sAppCreate-prefferedPlacementButton\"\\n                          />\\n                          <label for=\"placement_soft\">\\n                            <div class=\"boxselector_header\">\\n                              <i class=\"fa fa-list\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                              Preferred\\n                            </div>\\n                            <p>Schedule this application on nodes that match the rules if possible</p>\\n                          </label>\\n                        </div>\\n                      </div>\\n                    </div>\\n                    \\x3c!-- !placement policy options --\\x3e\\n                  </div>\\n                  \\x3c!-- #endregion --\\x3e\\n                </div>\\n\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Publishing the application\\n                </div>\\n                \\x3c!-- #region PUBLISHING OPTIONS --\\x3e\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <label for=\"enable_port_publishing\" class=\"control-label text-left\">\\n                      Enable publishing for this application\\n                    </label>\\n                    <label class=\"switch\" style=\"margin-left: 20px;\">\\n                      <input\\n                        type=\"checkbox\"\\n                        class=\"form-control\"\\n                        name=\"enable_port_publishing\"\\n                        ng-model=\"ctrl.formValues.IsPublishingService\"\\n                        ng-change=\"ctrl.onServicePublishChange()\"\\n                      />\\n                      <i></i>\\n                    </label>\\n                  </div>\\n                </div>\\n\\n                <span ng-if=\"ctrl.formValues.IsPublishingService\">\\n                  <div class=\"form-group\">\\n                    <div class=\"col-sm-12 small text-muted\">\\n                      Select how you want to publish your application.\\n                    </div>\\n                  </div>\\n\\n                  \\x3c!-- publishing options --\\x3e\\n                  <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n                    <div class=\"boxselector_wrapper\">\\n                      <div ng-style=\"{ color: ctrl.isPublishingTypeEditDisabled() ? \\'#767676\\' : \\'\\' }\">\\n                        <input\\n                          type=\"radio\"\\n                          id=\"publishing_internal\"\\n                          ng-value=\"ctrl.ApplicationPublishingTypes.CLUSTER_IP\"\\n                          ng-model=\"ctrl.formValues.PublishingType\"\\n                          ng-change=\"ctrl.onChangePublishedPorts()\"\\n                          ng-disabled=\"ctrl.isPublishingTypeEditDisabled()\"\\n                          data-cy=\"k8sAppCreate-internalPublishButton\"\\n                        />\\n                        <label\\n                          for=\"publishing_internal\"\\n                          ng-if=\"\\n                            !ctrl.isPublishingTypeEditDisabled() ||\\n                            (ctrl.isPublishingTypeEditDisabled() && ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.CLUSTER_IP)\\n                          \"\\n                        >\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-list-alt\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                            ClusterIP\\n                          </div>\\n                          <p>Internal communications inside the cluster only</p>\\n                        </label>\\n                        <label\\n                          for=\"publishing_internal\"\\n                          ng-if=\"ctrl.isPublishingTypeEditDisabled() && ctrl.formValues.PublishingType !== ctrl.ApplicationPublishingTypes.CLUSTER_IP\"\\n                          tooltip-append-to-body=\"true\"\\n                          tooltip-placement=\"bottom\"\\n                          tooltip-class=\"portainer-tooltip\"\\n                          uib-tooltip=\"Changing the publishing mode is not allowed until you delete all previously existing ports\"\\n                          style=\"cursor: pointer; border-color: #767676;\"\\n                        >\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-list-alt\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                            ClusterIP\\n                          </div>\\n                          <p>Internal communications inside the cluster only</p>\\n                        </label>\\n                      </div>\\n\\n                      <div ng-style=\"{ color: ctrl.isPublishingTypeEditDisabled() ? \\'#767676\\' : \\'\\' }\">\\n                        <input\\n                          type=\"radio\"\\n                          id=\"publishing_cluster\"\\n                          ng-value=\"ctrl.ApplicationPublishingTypes.NODE_PORT\"\\n                          ng-model=\"ctrl.formValues.PublishingType\"\\n                          ng-change=\"ctrl.onChangePublishedPorts()\"\\n                          ng-disabled=\"ctrl.isPublishingTypeEditDisabled()\"\\n                          data-cy=\"k8sAppCreate-clusterPublishButton\"\\n                        />\\n                        <label\\n                          for=\"publishing_cluster\"\\n                          ng-if=\"\\n                            !ctrl.isPublishingTypeEditDisabled() ||\\n                            (ctrl.isPublishingTypeEditDisabled() && ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.NODE_PORT)\\n                          \"\\n                        >\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-list\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                            NodePort\\n                          </div>\\n                          <p>Publish this application via a port on all nodes of the cluster</p>\\n                        </label>\\n                        <label\\n                          for=\"publishing_cluster\"\\n                          ng-if=\"ctrl.isPublishingTypeEditDisabled() && ctrl.formValues.PublishingType !== ctrl.ApplicationPublishingTypes.NODE_PORT\"\\n                          tooltip-append-to-body=\"true\"\\n                          tooltip-placement=\"bottom\"\\n                          tooltip-class=\"portainer-tooltip\"\\n                          uib-tooltip=\"Changing the publishing mode is not allowed until you delete all previously existing ports\"\\n                          style=\"cursor: pointer; border-color: #767676;\"\\n                        >\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-list\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                            NodePort\\n                          </div>\\n                          <p>Publish this application via a port on all nodes of the cluster</p>\\n                        </label>\\n                      </div>\\n                      <div ng-if=\"ctrl.publishViaIngressEnabled()\" ng-style=\"{ color: ctrl.isPublishingTypeEditDisabled() ? \\'#767676\\' : \\'\\' }\">\\n                        <input\\n                          type=\"radio\"\\n                          id=\"publishing_ingress\"\\n                          ng-value=\"ctrl.ApplicationPublishingTypes.INGRESS\"\\n                          ng-model=\"ctrl.formValues.PublishingType\"\\n                          ng-change=\"ctrl.onChangePublishedPorts()\"\\n                          ng-disabled=\"ctrl.isPublishingTypeEditDisabled()\"\\n                          data-cy=\"k8sAppCreate-ingressPublishButton\"\\n                        />\\n                        <label\\n                          for=\"publishing_ingress\"\\n                          ng-if=\"\\n                            !ctrl.isPublishingTypeEditDisabled() ||\\n                            (ctrl.isPublishingTypeEditDisabled() && ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.INGRESS)\\n                          \"\\n                        >\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-route\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                            Ingress\\n                          </div>\\n                          <p>Publish this application via a HTTP route</p>\\n                        </label>\\n                        <label\\n                          for=\"publishing_ingress\"\\n                          ng-if=\"ctrl.isPublishingTypeEditDisabled() && ctrl.formValues.PublishingType !== ctrl.ApplicationPublishingTypes.INGRESS\"\\n                          tooltip-append-to-body=\"true\"\\n                          tooltip-placement=\"bottom\"\\n                          tooltip-class=\"portainer-tooltip\"\\n                          uib-tooltip=\"Changing the publishing mode is not allowed until you delete all previously existing ports\"\\n                          style=\"cursor: pointer; border-color: #767676;\"\\n                        >\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-route\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                            Ingress\\n                          </div>\\n                          <p>Publish this application via a HTTP route</p>\\n                        </label>\\n                      </div>\\n                      <div ng-if=\"ctrl.publishViaLoadBalancerEnabled()\" ng-style=\"{ color: ctrl.isPublishingTypeEditDisabled() ? \\'#767676\\' : \\'\\' }\">\\n                        <input\\n                          type=\"radio\"\\n                          id=\"publishing_loadbalancer\"\\n                          ng-value=\"ctrl.ApplicationPublishingTypes.LOAD_BALANCER\"\\n                          ng-model=\"ctrl.formValues.PublishingType\"\\n                          ng-change=\"ctrl.onChangePublishedPorts()\"\\n                          ng-disabled=\"ctrl.isPublishingTypeEditDisabled()\"\\n                          data-cy=\"k8sAppCreate-lbPublichButton\"\\n                        />\\n                        <label\\n                          for=\"publishing_loadbalancer\"\\n                          ng-if=\"\\n                            !ctrl.isPublishingTypeEditDisabled() ||\\n                            (ctrl.isPublishingTypeEditDisabled() && ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.LOAD_BALANCER)\\n                          \"\\n                        >\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-project-diagram\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                            Load balancer\\n                          </div>\\n                          <p>Publish this application via a load balancer</p>\\n                        </label>\\n                        <label\\n                          for=\"publishing_loadbalancer\"\\n                          ng-if=\"ctrl.isPublishingTypeEditDisabled() && ctrl.formValues.PublishingType !== ctrl.ApplicationPublishingTypes.LOAD_BALANCER\"\\n                          tooltip-append-to-body=\"true\"\\n                          tooltip-placement=\"bottom\"\\n                          tooltip-class=\"portainer-tooltip\"\\n                          uib-tooltip=\"Changing the publishing mode is not allowed until you delete all previously existing ports\"\\n                          style=\"cursor: pointer; border-color: #767676;\"\\n                        >\\n                          <div class=\"boxselector_header\">\\n                            <i class=\"fa fa-project-diagram\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                            Load balancer\\n                          </div>\\n                          <p>Publish this application via a load balancer</p>\\n                        </label>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  \\x3c!-- #endregion --\\x3e\\n\\n                  \\x3c!-- #region PUBLISHED PORTS --\\x3e\\n                  <div class=\"form-group\">\\n                    <div class=\"col-sm-12\" style=\"margin-top: 5px;\">\\n                      <label class=\"control-label text-left\">Published ports</label>\\n                      <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"ctrl.addPublishedPort()\" data-cy=\"k8sAppCreate-addNewPortButton\">\\n                        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> publish a new port\\n                      </span>\\n                    </div>\\n\\n                    <div\\n                      class=\"col-sm-12 small text-muted\"\\n                      style=\"margin-top: 15px;\"\\n                      ng-if=\"ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.NODE_PORT && ctrl.formValues.PublishedPorts.length > 0\"\\n                    >\\n                      <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                      When publishing a port in cluster mode, the node port is optional. If left empty Kubernetes will use a random port number. If you wish to specify a port, use\\n                      a port number inside the default range <code>30000-32767</code>.\\n                    </div>\\n                    <div ng-if=\"ctrl.hasNoPublishedPorts()\" class=\"col-sm-12 small text-warning\" style=\"margin-top: 12px;\">\\n                      <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> At least one published port must be defined.\\n                    </div>\\n\\n                    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\">\\n                      \\x3c!-- #region INPUTS --\\x3e\\n                      <div\\n                        ng-repeat-start=\"publishedPort in ctrl.formValues.PublishedPorts\"\\n                        style=\"margin-top: 2px;\"\\n                        tooltip-append-to-body=\"true\"\\n                        tooltip-placement=\"bottom\"\\n                        tooltip-class=\"portainer-tooltip\"\\n                        tooltip-enable=\"ctrl.disableLoadBalancerEdit()\"\\n                        uib-tooltip=\"Edition is not allowed while the Load Balancer is in \\'Pending\\' state\"\\n                      >\\n                        <div\\n                          class=\"input-group input-group-sm\"\\n                          ng-class=\"{\\n                            striked: publishedPort.NeedsDeletion,\\n                            \\'col-sm-2\\': ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.INGRESS,\\n                            \\'col-sm-3\\': ctrl.formValues.PublishingType !== ctrl.ApplicationPublishingTypes.INGRESS\\n                          }\"\\n                        >\\n                          <span class=\"input-group-addon\">container port</span>\\n                          <input\\n                            type=\"number\"\\n                            class=\"form-control\"\\n                            name=\"container_port_{{ $index }}\"\\n                            ng-model=\"publishedPort.ContainerPort\"\\n                            placeholder=\"80\"\\n                            ng-min=\"1\"\\n                            ng-max=\"65535\"\\n                            ng-required=\"!publishedPort.NeedsDeletion\"\\n                            ng-change=\"ctrl.onChangePortMappingContainerPort()\"\\n                            ng-disabled=\"ctrl.disableLoadBalancerEdit() || ctrl.isEditAndNotNewPublishedPort($index)\"\\n                            data-cy=\"k8sAppCreate-containerPort_{{ $index }}\"\\n                          />\\n                        </div>\\n\\n                        <div\\n                          class=\"col-sm-3 input-group input-group-sm\"\\n                          ng-class=\"{ striked: publishedPort.NeedsDeletion }\"\\n                          ng-if=\"\\n                            (publishedPort.IsNew && ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.NODE_PORT) ||\\n                            (!publishedPort.IsNew && ctrl.savedFormValues.PublishingType === ctrl.ApplicationPublishingTypes.NODE_PORT)\\n                          \"\\n                        >\\n                          <span class=\"input-group-addon\">node port</span>\\n                          <input\\n                            name=\"published_node_port_{{ $index }}\"\\n                            type=\"number\"\\n                            class=\"form-control\"\\n                            ng-model=\"publishedPort.NodePort\"\\n                            placeholder=\"30080\"\\n                            ng-min=\"30000\"\\n                            ng-max=\"32767\"\\n                            ng-change=\"ctrl.onChangePortMappingNodePort()\"\\n                            ng-disabled=\"ctrl.disableLoadBalancerEdit() || ctrl.isEditAndNotNewPublishedPort($index)\"\\n                            data-cy=\"k8sAppCreate-nodePort_{{ $index }}\"\\n                          />\\n                        </div>\\n\\n                        <div\\n                          class=\"col-sm-3 input-group input-group-sm\"\\n                          ng-class=\"{ striked: publishedPort.NeedsDeletion }\"\\n                          ng-if=\"\\n                            (publishedPort.IsNew && ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.LOAD_BALANCER) ||\\n                            (!publishedPort.IsNew && ctrl.savedFormValues.PublishingType === ctrl.ApplicationPublishingTypes.LOAD_BALANCER)\\n                          \"\\n                        >\\n                          <span class=\"input-group-addon\">load balancer port</span>\\n                          <input\\n                            type=\"number\"\\n                            class=\"form-control\"\\n                            name=\"load_balancer_port_{{ $index }}\"\\n                            ng-model=\"publishedPort.LoadBalancerPort\"\\n                            placeholder=\"80\"\\n                            value=\"8080\"\\n                            ng-min=\"1\"\\n                            ng-max=\"65535\"\\n                            ng-required=\"!publishedPort.NeedsDeletion\"\\n                            ng-change=\"ctrl.onChangePortMappingLoadBalancer()\"\\n                            ng-disabled=\"ctrl.disableLoadBalancerEdit() || ctrl.isEditAndNotNewPublishedPort($index)\"\\n                            data-cy=\"k8sAppCreate-lbPortInput_{{ $index }}\"\\n                          />\\n                        </div>\\n\\n                        <div\\n                          class=\"col-sm-2 input-group input-group-sm\"\\n                          ng-class=\"{ striked: publishedPort.NeedsDeletion }\"\\n                          ng-if=\"\\n                            (publishedPort.IsNew && ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.INGRESS) ||\\n                            (!publishedPort.IsNew && ctrl.savedFormValues.PublishingType === ctrl.ApplicationPublishingTypes.INGRESS)\\n                          \"\\n                        >\\n                          <span class=\"input-group-addon\">ingress</span>\\n                          <select\\n                            class=\"form-control\"\\n                            name=\"ingress_class_{{ $index }}\"\\n                            ng-model=\"publishedPort.IngressName\"\\n                            ng-options=\"ingress.Name as ingress.Name for ingress in ctrl.ingresses\"\\n                            ng-required=\"!publishedPort.NeedsDeletion\"\\n                            ng-change=\"ctrl.onChangePortMappingIngress($index)\"\\n                            ng-disabled=\"ctrl.disableLoadBalancerEdit() || ctrl.isEditAndNotNewPublishedPort($index)\"\\n                            data-cy=\"k8sAppCreate-ingressSelect_{{ $index }}\"\\n                          >\\n                            <option selected disabled hidden value=\"\">Select an ingress</option>\\n                          </select>\\n                        </div>\\n\\n                        <div\\n                          class=\"col-sm-2 input-group input-group-sm\"\\n                          ng-class=\"{ striked: publishedPort.NeedsDeletion }\"\\n                          ng-if=\"\\n                            (publishedPort.IsNew && ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.INGRESS) ||\\n                            (!publishedPort.IsNew && ctrl.savedFormValues.PublishingType === ctrl.ApplicationPublishingTypes.INGRESS)\\n                          \"\\n                        >\\n                          <span class=\"input-group-addon\">hostname</span>\\n                          <select\\n                            class=\"form-control\"\\n                            name=\"ingress_hostname_{{ $index }}\"\\n                            ng-model=\"publishedPort.IngressHost\"\\n                            ng-options=\"host as (host | kubernetesApplicationIngressEmptyHostname) for host in publishedPort.IngressHosts\"\\n                            ng-change=\"ctrl.onChangePublishedPorts()\"\\n                            ng-disabled=\"ctrl.disableLoadBalancerEdit() || ctrl.isEditAndNotNewPublishedPort($index)\"\\n                            data-cy=\"k8sAppCreate-hostnameSelect_{{ $index }}\"\\n                          >\\n                            <option selected disabled hidden value=\"\">Select a hostname</option>\\n                          </select>\\n                        </div>\\n\\n                        <div\\n                          class=\"col-sm-2 input-group input-group-sm\"\\n                          ng-class=\"{ striked: publishedPort.NeedsDeletion }\"\\n                          ng-if=\"\\n                            (publishedPort.IsNew && ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.INGRESS) ||\\n                            (!publishedPort.IsNew && ctrl.savedFormValues.PublishingType === ctrl.ApplicationPublishingTypes.INGRESS)\\n                          \"\\n                        >\\n                          <span class=\"input-group-addon\">route</span>\\n                          <input\\n                            class=\"form-control\"\\n                            name=\"ingress_route_{{ $index }}\"\\n                            ng-model=\"publishedPort.IngressRoute\"\\n                            placeholder=\"route\"\\n                            ng-required=\"!publishedPort.NeedsDeletion\"\\n                            ng-change=\"ctrl.onChangePortMappingIngressRoute()\"\\n                            ng-pattern=\"/^(\\\\/?[a-zA-Z0-9]+([a-zA-Z0-9-/_]*[a-zA-Z0-9])?|[a-zA-Z0-9]+)|(\\\\/){1}$/\"\\n                            ng-disabled=\"ctrl.disableLoadBalancerEdit() || ctrl.isEditAndNotNewPublishedPort($index)\"\\n                            data-cy=\"k8sAppCreate-ingressRoute_{{ $index }}\"\\n                          />\\n                        </div>\\n\\n                        <div class=\"input-group col-sm-2 input-group-sm\">\\n                          <div class=\"btn-group btn-group-sm\" ng-class=\"{ striked: publishedPort.NeedsDeletion }\">\\n                            <label\\n                              class=\"btn btn-primary\"\\n                              ng-model=\"publishedPort.Protocol\"\\n                              uib-btn-radio=\"\\'TCP\\'\"\\n                              ng-change=\"ctrl.onChangePortProtocol($index)\"\\n                              ng-disabled=\"ctrl.isProtocolOptionDisabled($index, \\'TCP\\')\"\\n                              data-cy=\"k8sAppCreate-TCPButton_{{ $index }}\"\\n                              >TCP</label\\n                            >\\n                            <label\\n                              class=\"btn btn-primary\"\\n                              ng-model=\"publishedPort.Protocol\"\\n                              uib-btn-radio=\"\\'UDP\\'\"\\n                              ng-change=\"ctrl.onChangePortProtocol($index)\"\\n                              ng-disabled=\"ctrl.isProtocolOptionDisabled($index, \\'UDP\\')\"\\n                              data-cy=\"k8sAppCreate-UDPButton_{{ $index }}\"\\n                              >UDP</label\\n                            >\\n                          </div>\\n                          <button\\n                            ng-if=\"!ctrl.disableLoadBalancerEdit() && !publishedPort.NeedsDeletion\"\\n                            class=\"btn btn-sm btn-danger\"\\n                            type=\"button\"\\n                            ng-click=\"ctrl.removePublishedPort($index)\"\\n                            data-cy=\"k8sAppCreate-rmPortButton_{{ $index }}\"\\n                          >\\n                            <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                          </button>\\n                          <button\\n                            ng-if=\"publishedPort.NeedsDeletion && ctrl.formValues.PublishingType === ctrl.savedFormValues.PublishingType\"\\n                            class=\"btn btn-sm btn-primary\"\\n                            type=\"button\"\\n                            ng-click=\"ctrl.restorePublishedPort($index)\"\\n                            data-cy=\"k8sAppCreate-restorePortButton_{{ $index }}\"\\n                          >\\n                            <i class=\"fa fa-trash-restore\" aria-hidden=\"true\"></i>\\n                          </button>\\n                        </div>\\n                      </div>\\n                      \\x3c!-- #endregion --\\x3e\\n\\n                      \\x3c!-- #region VALIDATION --\\x3e\\n                      <div\\n                        ng-repeat-end\\n                        ng-show=\"\\n                          kubernetesApplicationCreationForm[\\'container_port_\\' + $index].$invalid ||\\n                          kubernetesApplicationCreationForm[\\'published_node_port_\\' + $index].$invalid ||\\n                          kubernetesApplicationCreationForm[\\'load_balancer_port_\\' + $index].$invalid ||\\n                          kubernetesApplicationCreationForm[\\'ingress_class_\\' + $index].$invalid ||\\n                          kubernetesApplicationCreationForm[\\'ingress_route_\\' + $index].$invalid ||\\n                          ctrl.state.duplicates.publishedPorts.containerPorts.refs[$index] !== undefined ||\\n                          (ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.NODE_PORT &&\\n                            ctrl.state.duplicates.publishedPorts.nodePorts.refs[$index] !== undefined) ||\\n                          (ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.INGRESS &&\\n                            ctrl.state.duplicates.publishedPorts.ingressRoutes.refs[$index] !== undefined) ||\\n                          (ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.LOAD_BALANCER &&\\n                            ctrl.state.duplicates.publishedPorts.loadBalancerPorts.refs[$index] !== undefined)\\n                        \"\\n                      >\\n                        <div class=\"col-sm-3 input-group input-group-sm\">\\n                          <div\\n                            class=\"small text-warning\"\\n                            style=\"margin-top: 5px;\"\\n                            ng-if=\"\\n                              kubernetesApplicationCreationForm[\\'container_port_\\' + $index].$invalid ||\\n                              ctrl.state.duplicates.publishedPorts.containerPorts.refs[$index] !== undefined\\n                            \"\\n                          >\\n                            <div ng-messages=\"kubernetesApplicationCreationForm[\\'container_port_\\'+$index].$error\">\\n                              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Container port number is required.</p>\\n                              <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Container port number must be inside the range 1-65535.</p>\\n                              <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Container port number must be inside the range 1-65535.</p>\\n                            </div>\\n                            <p ng-if=\"ctrl.state.duplicates.publishedPorts.containerPorts.refs[$index] !== undefined\">\\n                              <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This port is already used.\\n                            </p>\\n                          </div>\\n                        </div>\\n\\n                        <div class=\"col-sm-3 input-group input-group-sm\" ng-if=\"ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.NODE_PORT\">\\n                          <div\\n                            class=\"small text-warning\"\\n                            style=\"margin-top: 5px;\"\\n                            ng-if=\"\\n                              kubernetesApplicationCreationForm[\\'published_node_port_\\' + $index].$invalid ||\\n                              ctrl.state.duplicates.publishedPorts.nodePorts.refs[$index] !== undefined\\n                            \"\\n                          >\\n                            <div ng-messages=\"kubernetesApplicationCreationForm[\\'published_node_port_\\'+$index].$error\">\\n                              <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Node port number must be inside the range 30000-32767.</p>\\n                              <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Node port number must be inside the range 30000-32767.</p>\\n                            </div>\\n                            <p ng-if=\"ctrl.state.duplicates.publishedPorts.nodePorts.refs[$index] !== undefined\">\\n                              <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This port is already used.\\n                            </p>\\n                          </div>\\n                        </div>\\n\\n                        <div class=\"col-sm-3 input-group input-group-sm\" ng-if=\"ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.INGRESS\">\\n                          <div class=\"small text-warning\" style=\"margin-top: 5px;\" ng-if=\"kubernetesApplicationCreationForm[\\'ingress_class_\\' + $index].$invalid\">\\n                            <div ng-messages=\"kubernetesApplicationCreationForm[\\'ingress_class_\\'+$index].$error\">\\n                              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Ingress selection is required.</p>\\n                            </div>\\n                          </div>\\n                        </div>\\n                        <div class=\"col-sm-3 input-group input-group-sm\" ng-if=\"ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.INGRESS\">\\n                          <div\\n                            class=\"small text-warning\"\\n                            style=\"margin-top: 5px;\"\\n                            ng-if=\"\\n                              kubernetesApplicationCreationForm[\\'ingress_route_\\' + $index].$invalid || ctrl.state.duplicates.publishedPorts.ingressRoutes.refs[$index] !== undefined\\n                            \"\\n                          >\\n                            <div ng-messages=\"kubernetesApplicationCreationForm[\\'ingress_route_\\'+$index].$error\">\\n                              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Route is required.</p>\\n                              <p ng-message=\"pattern\"\\n                                ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field must consist of alphanumeric characters or the special characters: \\'-\\',\\n                                \\'_\\' or \\'/\\'. It must start and end with an alphanumeric character (e.g. \\'my-route\\', or \\'route-123\\').</p\\n                              >\\n                            </div>\\n                            <p ng-if=\"ctrl.state.duplicates.publishedPorts.ingressRoutes.refs[$index] !== undefined\">\\n                              <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This route is already used.\\n                            </p>\\n                          </div>\\n                        </div>\\n\\n                        <div class=\"col-sm-3 input-group input-group-sm\" ng-if=\"ctrl.formValues.PublishingType === ctrl.ApplicationPublishingTypes.LOAD_BALANCER\">\\n                          <div\\n                            class=\"small text-warning\"\\n                            style=\"margin-top: 5px;\"\\n                            ng-if=\"\\n                              kubernetesApplicationCreationForm[\\'load_balancer_port_\\' + $index].$invalid ||\\n                              ctrl.state.duplicates.publishedPorts.loadBalancerPorts.refs[$index] !== undefined\\n                            \"\\n                          >\\n                            <div ng-messages=\"kubernetesApplicationCreationForm[\\'load_balancer_port_\\'+$index].$error\">\\n                              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Load balancer port number is required.</p>\\n                              <p ng-message=\"min\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Load balancer port number must be inside the range 1-65535.</p>\\n                              <p ng-message=\"max\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Load balancer port number must be inside the range 1-65535.</p>\\n                            </div>\\n                            <p ng-if=\"ctrl.state.duplicates.publishedPorts.loadBalancerPorts.refs[$index] !== undefined\">\\n                              <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                              This port is already used.\\n                            </p>\\n                          </div>\\n                        </div>\\n\\n                        <div class=\"input-group col-sm-1 input-group-sm\"> </div>\\n                      </div>\\n                      \\x3c!-- #endregion --\\x3e\\n                    </div>\\n                  </div>\\n                </span>\\n                \\x3c!-- #endregion --\\x3e\\n\\n                \\x3c!-- summary --\\x3e\\n                <kubernetes-summary-view\\n                  ng-if=\"!(!kubernetesApplicationCreationForm.$valid || ctrl.isDeployUpdateButtonDisabled() || !ctrl.state.pullImageValidity)\"\\n                  form-values=\"ctrl.formValues\"\\n                  old-form-values=\"ctrl.savedFormValues\"\\n                ></kubernetes-summary-view>\\n              </div>\\n            </div>\\n\\n            <div class=\"col-sm-12 form-section-title\" ng-if=\"ctrl.state.appType !== ctrl.KubernetesDeploymentTypes.GIT\">\\n              Actions\\n            </div>\\n            \\x3c!-- #region ACTIONS --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  ng-if=\"ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM\"\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"!kubernetesApplicationCreationForm.$valid || ctrl.isDeployUpdateButtonDisabled() || !ctrl.imageValidityIsValid()\"\\n                  ng-click=\"ctrl.deployApplication()\"\\n                  button-spinner=\"ctrl.state.actionInProgress\"\\n                  data-cy=\"k8sAppCreate-deployButton\"\\n                >\\n                  <span ng-show=\"!ctrl.state.isEdit && !ctrl.state.actionInProgress\">Deploy application</span>\\n                  <span ng-show=\"!ctrl.state.isEdit && ctrl.state.actionInProgress\">Deployment in progress...</span>\\n                  <span ng-show=\"ctrl.state.isEdit && !ctrl.state.actionInProgress\">Update application</span>\\n                  <span ng-show=\"ctrl.state.isEdit && ctrl.state.actionInProgress\">Update in progress...</span>\\n                </button>\\n                <button\\n                  ng-if=\"ctrl.state.isEdit && !ctrl.state.actionInProgress && ctrl.state.appType === ctrl.KubernetesDeploymentTypes.APPLICATION_FORM\"\\n                  type=\"button\"\\n                  class=\"btn btn-sm btn-default\"\\n                  ui-sref=\"kubernetes.applications.application({ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool })\"\\n                  data-cy=\"k8sAppCreate-appCancelButton\"\\n                >\\n                  Cancel\\n                </button>\\n                \\x3c!-- #Web editor buttons --\\x3e\\n                <button\\n                  class=\"btn btn-sm btn-primary\"\\n                  ng-click=\"ctrl.updateApplicationViaWebEditor()\"\\n                  ng-if=\"ctrl.state.appType === ctrl.KubernetesDeploymentTypes.CONTENT || ctrl.state.updateWebEditorInProgress\"\\n                  ng-disabled=\"!kubernetesApplicationCreationForm.$valid || !ctrl.state.isEditorDirty || ctrl.state.updateWebEditorInProgress\"\\n                  style=\"margin-top: 7px; margin-left: 0;\"\\n                  button-spinner=\"ctrl.state.updateWebEditorInProgress\"\\n                >\\n                  <span ng-show=\"!ctrl.state.updateWebEditorInProgress\">Update the application</span>\\n                  <span ng-show=\"ctrl.state.updateWebEditorInProgress\">Update in progress...</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- #endregion --\\x3e\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(67),i=n(33),s=n(820),r=n(149),o=n(6),l=n(16),c=n(41),d=n(7),u=n(32),p=n(68),m=n(34),g=n(63),h=n(2),f=n(5),v=n(1),b=n.n(v),y=n(56),w=n.n(y),x=n(53),$=n(30),C=n(3),S=n(24),k=n(71),A=n(82),P=n(20),I=n(42),T=n(22),N=n(99),E=n(27),R=n(231);class D{constructor(e,t,n,a,i,s,r,o,l,c,d,u,p,m,g,h,f){this.$scope=e,this.$async=t,this.$state=n,this.Notifications=a,this.Authentication=i,this.ModalService=s,this.KubernetesResourcePoolService=r,this.KubernetesApplicationService=o,this.KubernetesStackService=l,this.KubernetesConfigurationService=c,this.KubernetesNodeService=d,this.KubernetesVolumeService=m,this.KubernetesIngressService=u,this.KubernetesPersistentVolumeClaimService=p,this.RegistryService=g,this.StackService=h,this.KubernetesNodesLimitsService=f,this.ApplicationDeploymentTypes=C.KubernetesApplicationDeploymentTypes,this.ApplicationDataAccessPolicies=C.KubernetesApplicationDataAccessPolicies,this.ApplicationPublishingTypes=C.KubernetesApplicationPublishingTypes,this.ApplicationPlacementTypes=C.KubernetesApplicationPlacementTypes,this.ApplicationTypes=C.KubernetesApplicationTypes,this.ApplicationConfigurationFormValueOverridenKeyTypes=S.KubernetesApplicationConfigurationFormValueOverridenKeyTypes,this.ServiceTypes=I.KubernetesServiceTypes,this.KubernetesDeploymentTypes=C.KubernetesDeploymentTypes,this.state={appType:this.KubernetesDeploymentTypes.APPLICATION_FORM,updateWebEditorInProgress:!1,actionInProgress:!1,useLoadBalancer:!1,useServerMetrics:!1,sliders:{cpu:{min:0,max:0},memory:{min:0,max:0}},nodes:{memory:0,cpu:0},namespaceLimits:{memory:0,cpu:0},resourcePoolHasQuota:!1,viewReady:!1,availableSizeUnits:[\"MB\",\"GB\",\"TB\"],alreadyExists:!1,duplicates:{environmentVariables:new S.KubernetesFormValidationReferences,persistedFolders:new S.KubernetesFormValidationReferences,configurationPaths:new S.KubernetesFormValidationReferences,existingVolumes:new S.KubernetesFormValidationReferences,publishedPorts:{containerPorts:new S.KubernetesFormValidationReferences,nodePorts:new S.KubernetesFormValidationReferences,ingressRoutes:new S.KubernetesFormValidationReferences,loadBalancerPorts:new S.KubernetesFormValidationReferences},placements:new S.KubernetesFormValidationReferences},isEdit:this.$state.params.namespace&&this.$state.params.name,persistedFoldersUseExistingVolumes:!1,pullImageValidity:!1},this.isAdmin=this.Authentication.isAdmin(),this.editChanges=[],this.storageClasses=[],this.state.useLoadBalancer=!1,this.state.useServerMetrics=!1,this.formValues=new S.KubernetesApplicationFormValues,this.updateApplicationAsync=this.updateApplicationAsync.bind(this),this.deployApplicationAsync=this.deployApplicationAsync.bind(this),this.setPullImageValidity=this.setPullImageValidity.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.onServicePublishChange=this.onServicePublishChange.bind(this)}onChangeFileContent(e){this.stackFileContent.replace(/(\\r\\n|\\n|\\r)/gm,\"\")!==e.replace(/(\\r\\n|\\n|\\r)/gm,\"\")&&(this.state.isEditorDirty=!0,this.stackFileContent=e)}async updateApplicationViaWebEditor(){return this.$async(async()=>{try{if(!await this.ModalService.confirmAsync({title:\"Are you sure?\",message:\"Any changes to this application will be overriden and may cause a service interruption. Do you wish to continue?\",buttons:{confirm:{label:\"Update\",className:\"btn-warning\"}}}))return;this.state.updateWebEditorInProgress=!0,await this.StackService.updateKubeStack({EndpointId:this.endpoint.Id,Id:this.application.StackId},this.stackFileContent,null),this.state.isEditorDirty=!1,await this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Failed redeploying application\")}finally{this.state.updateWebEditorInProgress=!1}})}async uiCanExit(){if(this.stackFileContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}setPullImageValidity(e){this.state.pullImageValidity=e}imageValidityIsValid(){return this.state.pullImageValidity||this.formValues.ImageModel.Registry.Type!==$.RegistryTypes.DOCKERHUB}onChangeName(){const e=Object(f.a)(this.applications,{Name:this.formValues.Name});this.state.alreadyExists=this.state.isEdit&&e&&this.application.Id!==e.Id||!this.state.isEdit&&e}unselectAutoScaler(){this.formValues.DeploymentType===this.ApplicationDeploymentTypes.GLOBAL&&(this.formValues.AutoScaler.IsUsed=!1)}addConfiguration(){let e=new S.KubernetesApplicationConfigurationFormValue;e.SelectedConfiguration=this.configurations[0],this.formValues.Configurations.push(e)}removeConfiguration(e){this.formValues.Configurations.splice(e,1),this.onChangeConfigurationPath()}overrideConfiguration(e){const t=this.formValues.Configurations[e];t.Overriden=!0,t.OverridenKeys=Object(h.a)(Object(g.a)(t.SelectedConfiguration.Data),e=>{const t=new S.KubernetesApplicationConfigurationFormValueOverridenKey;return t.Key=e,t})}resetConfiguration(e){const t=this.formValues.Configurations[e];t.Overriden=!1,t.OverridenKeys=[],this.onChangeConfigurationPath()}clearConfigurations(){this.formValues.Configurations=[]}onChangeConfigurationPath(){this.state.duplicates.configurationPaths.refs=[];const e=Object(m.a)(this.formValues.Configurations,(e,t)=>{const n=Object(p.a)(Object(h.a)(t.OverridenKeys,\"Path\"));return Object(u.a)(e,n)},[]),t=k.default.getDuplicates(e);Object(d.a)(this.formValues.Configurations,(e,n)=>{Object(d.a)(e.OverridenKeys,(e,a)=>{const i=Object(f.a)(t,t=>t===e.Path);i&&(this.state.duplicates.configurationPaths.refs[n+\"_\"+a]=i)})}),this.state.duplicates.configurationPaths.hasRefs=Object.keys(this.state.duplicates.configurationPaths.refs).length>0}addEnvironmentVariable(){this.formValues.EnvironmentVariables.push(new S.KubernetesApplicationEnvironmentVariableFormValue)}restoreEnvironmentVariable(e){e.NeedsDeletion=!1}removeEnvironmentVariable(e){const t=this.formValues.EnvironmentVariables.indexOf(e);if(-1!==t){const e=this.formValues.EnvironmentVariables[t];e.IsNew?this.formValues.EnvironmentVariables.splice(t,1):e.NeedsDeletion=!0}this.onChangeEnvironmentName()}onChangeEnvironmentName(){this.state.duplicates.environmentVariables.refs=k.default.getDuplicates(Object(h.a)(this.formValues.EnvironmentVariables,\"Name\")),this.state.duplicates.environmentVariables.hasRefs=Object.keys(this.state.duplicates.environmentVariables.refs).length>0}addPersistedFolder(){let e={};this.storageClasses.length>0&&(e=this.storageClasses[0]);const t=new S.KubernetesApplicationPersistedFolderFormValue(e);this.formValues.PersistedFolders.push(t),this.resetDeploymentType()}restorePersistedFolder(e){this.formValues.PersistedFolders[e].NeedsDeletion=!1,this.validatePersistedFolders()}resetPersistedFolders(){this.formValues.PersistedFolders=Object(d.a)(this.formValues.PersistedFolders,e=>{e.ExistingVolume=null,e.UseNewVolume=!0}),this.validatePersistedFolders()}removePersistedFolder(e){this.state.isEdit&&this.formValues.PersistedFolders[e].PersistentVolumeClaimName?this.formValues.PersistedFolders[e].NeedsDeletion=!0:this.formValues.PersistedFolders.splice(e,1),this.validatePersistedFolders()}useNewVolume(e){this.formValues.PersistedFolders[e].UseNewVolume=!0,this.formValues.PersistedFolders[e].ExistingVolume=null,this.state.persistedFoldersUseExistingVolumes=!Object(m.a)(this.formValues.PersistedFolders,(e,t)=>e&&t.UseNewVolume,!0),this.validatePersistedFolders()}useExistingVolume(e){this.formValues.PersistedFolders[e].UseNewVolume=!1,this.state.persistedFoldersUseExistingVolumes=!!Object(f.a)(this.formValues.PersistedFolders,{UseNewVolume:!1}),this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED&&(this.formValues.DataAccessPolicy=this.ApplicationDataAccessPolicies.SHARED,this.resetDeploymentType()),this.validatePersistedFolders()}validatePersistedFolders(){this.onChangePersistedFolderPath(),this.onChangeExistingVolumeSelection()}onChangePersistedFolderPath(){this.state.duplicates.persistedFolders.refs=k.default.getDuplicates(Object(h.a)(this.formValues.PersistedFolders,e=>{if(!e.NeedsDeletion)return e.ContainerPath})),this.state.duplicates.persistedFolders.hasRefs=Object.keys(this.state.duplicates.persistedFolders.refs).length>0}onChangeExistingVolumeSelection(){this.state.duplicates.existingVolumes.refs=k.default.getDuplicates(Object(h.a)(this.formValues.PersistedFolders,e=>{if(!e.NeedsDeletion)return e.ExistingVolume?e.ExistingVolume.PersistentVolumeClaim.Name:\"\"})),this.state.duplicates.existingVolumes.hasRefs=Object.keys(this.state.duplicates.existingVolumes.refs).length>0}addPlacement(){const e=new S.KubernetesApplicationPlacementFormValue,t=this.nodesLabels[0];e.Label=t,e.Value=t.Values[0],this.formValues.Placements.push(e),this.onChangePlacement()}restorePlacement(e){this.formValues.Placements[e].NeedsDeletion=!1,this.onChangePlacement()}removePlacement(e){this.state.isEdit&&!this.formValues.Placements[e].IsNew?this.formValues.Placements[e].NeedsDeletion=!0:this.formValues.Placements.splice(e,1),this.onChangePlacement()}onChangePlacement(){this.onChangePlacementLabelValidate()}onChangePlacementLabel(e){this.formValues.Placements[e].Value=this.formValues.Placements[e].Label.Values[0],this.onChangePlacementLabelValidate()}onChangePlacementLabelValidate(){const e=this.state.duplicates.placements,t=Object(h.a)(this.formValues.Placements,e=>e.NeedsDeletion?void 0:e.Label.Key),n=k.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}onServicePublishChange(){!this.formValues.IsPublishingService||this.formValues.PublishedPorts.length?this.formValues.IsPublishingService?this.formValues.PublishedPorts.forEach(e=>e.NeedsDeletion=!1):this.formValues.PublishedPorts=this.formValues.PublishedPorts.filter(e=>!e.IsNew).map(e=>({...e,NeedsDeletion:!0})):this.addPublishedPort()}addPublishedPort(){const e=new S.KubernetesApplicationPublishedPortFormValue,t=this.ingresses;this.formValues.PublishingType===C.KubernetesApplicationPublishingTypes.INGRESS&&(e.IngressName=t&&t.length?t[0].Name:void 0,e.IngressHost=t&&t.length?t[0].Hosts[0]:void 0,e.IngressHosts=t&&t.length?t[0].Hosts:void 0),this.formValues.PublishedPorts.length&&(e.Protocol=this.formValues.PublishedPorts[0].Protocol),this.formValues.PublishedPorts.push(e)}resetPublishedPorts(){const e=this.ingresses;Object(d.a)(this.formValues.PublishedPorts,t=>{t.IngressName=e&&e.length?e[0].Name:void 0,t.IngressHost=e&&e.length?e[0].Hosts[0]:void 0})}restorePublishedPort(e){this.formValues.PublishedPorts[e].NeedsDeletion=!1,this.onChangePublishedPorts()}removePublishedPort(e){this.state.isEdit&&!this.formValues.PublishedPorts[e].IsNew?this.formValues.PublishedPorts[e].NeedsDeletion=!0:this.formValues.PublishedPorts.splice(e,1),this.onChangePublishedPorts()}onChangePublishedPorts(){this.onChangePortMappingContainerPort(),this.onChangePortMappingNodePort(),this.onChangePortMappingIngressRoute(),this.onChangePortMappingLoadBalancer(),this.onChangePortProtocol()}onChangePortMappingContainerPort(){const e=this.state.duplicates.publishedPorts.containerPorts;if(this.formValues.PublishingType!==C.KubernetesApplicationPublishingTypes.INGRESS){const t=Object(h.a)(this.formValues.PublishedPorts,e=>e.NeedsDeletion?void 0:e.ContainerPort+e.Protocol),n=k.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}else e.refs={},e.hasRefs=!1}onChangePortMappingNodePort(){const e=this.state.duplicates.publishedPorts.nodePorts;if(this.formValues.PublishingType===C.KubernetesApplicationPublishingTypes.NODE_PORT){const t=Object(h.a)(this.formValues.PublishedPorts,e=>e.NeedsDeletion?void 0:e.NodePort),n=k.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}else e.refs={},e.hasRefs=!1}onChangePortMappingIngress(e){const t=this.formValues.PublishedPorts[e],n=Object(f.a)(this.ingresses,{Name:t.IngressName});t.IngressHosts=n.Hosts,this.ingressHostnames=n.Hosts,t.IngressHost=this.ingressHostnames.length?this.ingressHostnames[0]:[],this.onChangePublishedPorts()}onChangePortMappingIngressRoute(){const e=this.state.duplicates.publishedPorts.ingressRoutes;if(this.formValues.PublishingType===C.KubernetesApplicationPublishingTypes.INGRESS){const t=Object(h.a)(this.formValues.PublishedPorts,e=>e.IsNew&&e.IngressRoute?`${e.IngressHost||e.IngressName}${e.IngressRoute}`:void 0),n=Object(h.a)(this.formValues.PublishedPorts,e=>e.NeedsDeletion&&e.IngressRoute?`${e.IngressHost||e.IngressName}${e.IngressRoute}`:void 0),a=Object(c.a)(this.ingresses,e=>Object(h.a)(e.Paths,t=>`${t.Host||e.Name}${t.Path}`)),i=k.default.getDuplicates(t);Object(d.a)(t,(e,t)=>{Object(l.a)(a,e)&&!Object(l.a)(n,e)&&(i[t]=e)}),e.refs=i,e.hasRefs=Object.keys(i).length>0}else e.refs={},e.hasRefs=!1}onChangePortMappingLoadBalancer(){const e=this.state.duplicates.publishedPorts.loadBalancerPorts;if(this.formValues.PublishingType===C.KubernetesApplicationPublishingTypes.LOAD_BALANCER){const t=Object(h.a)(this.formValues.PublishedPorts,e=>e.NeedsDeletion?void 0:e.LoadBalancerPort),n=k.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}else e.refs={},e.hasRefs=!1}onChangePortProtocol(e){if(this.formValues.PublishingType===C.KubernetesApplicationPublishingTypes.LOAD_BALANCER){const t=Object(o.a)(this.formValues.PublishedPorts,{IsNew:!0});Object(d.a)(t,n=>{n.Protocol=e?this.formValues.PublishedPorts[e].Protocol:t[0].Protocol}),this.onChangePortMappingLoadBalancer()}this.onChangePortMappingContainerPort()}isValid(){return!(this.state.alreadyExists||this.state.duplicates.environmentVariables.hasRefs||this.state.duplicates.persistedFolders.hasRefs||this.state.duplicates.configurationPaths.hasRefs||this.state.duplicates.existingVolumes.hasRefs||this.state.duplicates.publishedPorts.containerPorts.hasRefs||this.state.duplicates.publishedPorts.nodePorts.hasRefs||this.state.duplicates.publishedPorts.ingressRoutes.hasRefs||this.state.duplicates.publishedPorts.loadBalancerPorts.hasRefs)}storageClassAvailable(){return this.storageClasses&&this.storageClasses.length>0}hasMultipleStorageClassesAvailable(){return this.storageClasses&&this.storageClasses.length>1}resetDeploymentType(){this.formValues.DeploymentType=this.ApplicationDeploymentTypes.REPLICATED}showDataAccessPolicySection(){return 0!==this.formValues.PersistedFolders.length}supportGlobalDeployment(){const e=0!==this.formValues.PersistedFolders.length,t=T.default.hasRWOOnly(this.formValues),n=this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED;return!e||!t&&!n}isEditAndStatefulSet(){return this.state.isEdit&&this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED}supportScalableReplicaDeployment(){const e=0!==this.formValues.PersistedFolders.length,t=T.default.hasRWOOnly(this.formValues),n=this.formValues.DataAccessPolicy===this.ApplicationDataAccessPolicies.ISOLATED;return!(e&&!n&&(!e||t))}getNonScalableStorage(){let e=[];for(let t=0;t<this.formValues.PersistedFolders.length;t++){const n=this.formValues.PersistedFolders[t];n.StorageClass&&Object(r.a)(n.StorageClass.AccessModes,[\"RWO\"])?e.push(n.StorageClass.Name):e.push(\"<no storage option available>\")}return Object(p.a)(e).join(\", \")}enforceReplicaCountMinimum(){null===this.formValues.ReplicaCount&&(this.formValues.ReplicaCount=1)}resourceQuotaCapacityExceeded(){return!this.state.sliders.memory.max||!this.state.sliders.cpu.max}nodeLimitsOverflow(){const e=this.formValues.CpuLimit,t=P.default.bytesValue(this.formValues.MemoryLimit);return this.nodesLimits.overflowForReplica(e,t,1)}effectiveInstances(){return this.formValues.DeploymentType===this.ApplicationDeploymentTypes.GLOBAL?this.nodeNumber:this.formValues.ReplicaCount}resourceReservationsOverflow(){const e=this.effectiveInstances(),t=this.formValues.CpuLimit,n=this.state.namespaceLimits.cpu,a=P.default.bytesValue(this.formValues.MemoryLimit),i=this.state.namespaceLimits.memory;return 1e3*t*e>1e3*n||(a*e>i||(this.formValues.DeploymentType===this.ApplicationDeploymentTypes.REPLICATED?this.nodesLimits.overflowForReplica(t,a,e):this.nodesLimits.overflowForGlobal(t,a)))}autoScalerOverflow(){const e=this.formValues.AutoScaler.MaxReplicas,t=this.formValues.CpuLimit,n=this.state.namespaceLimits.cpu,a=P.default.bytesValue(this.formValues.MemoryLimit),i=this.state.namespaceLimits.memory;return 1e3*t*e>1e3*n||(a*e>i||this.nodesLimits.overflowForReplica(t,a,e))}publishViaLoadBalancerEnabled(){return this.state.useLoadBalancer}publishViaIngressEnabled(){return this.ingresses.length}isEditAndNoChangesMade(){if(!this.state.isEdit)return!1;const e=x.a(this.savedFormValues,this.formValues);return this.editChanges=Object(o.a)(e,e=>!Object(l.a)(e.path,\"$$hashKey\")&&\"/ApplicationType\"!==e.path),!this.editChanges.length}isAddPersistentFolderButtonShowed(){return!this.isEditAndStatefulSet()&&this.formValues.Containers.length<=1}isNewVolumeButtonDisabled(e){return this.isEditAndExistingPersistedFolder(e)}isExistingVolumeButtonDisabled(){return!this.hasAvailableVolumes()||this.isEdit&&this.application.ApplicationType===this.ApplicationTypes.STATEFULSET}hasAvailableVolumes(){return this.availableVolumes.length>0}isEditAndExistingPersistedFolder(e){return this.state.isEdit&&this.formValues.PersistedFolders[e].PersistentVolumeClaimName}isEditAndNotNewPublishedPort(e){return this.state.isEdit&&!this.formValues.PublishedPorts[e].IsNew}hasNoPublishedPorts(){return 0===this.formValues.PublishedPorts.filter(e=>!e.NeedsDeletion).length}isEditAndNotNewPlacement(e){return this.state.isEdit&&!this.formValues.Placements[e].IsNew}isNewAndNotFirst(e){return!this.state.isEdit&&0!==e}showPlacementPolicySection(){return 0!==Object(o.a)(this.formValues.Placements,{NeedsDeletion:!1}).length}isNonScalable(){const e=this.supportScalableReplicaDeployment(),t=this.supportGlobalDeployment(),n=this.formValues.ReplicaCount>1,a=this.formValues.DeploymentType===this.ApplicationDeploymentTypes.REPLICATED;return a&&!e&&n||!a&&!t}isDeployUpdateButtonDisabled(){const e=this.resourceReservationsOverflow(),t=this.autoScalerOverflow(),n=this.state.actionInProgress,a=!this.isValid(),i=this.isEditAndNoChangesMade(),s=this.isNonScalable(),r=this.formValues.IsPublishingService&&this.hasNoPublishedPorts();return e||t||n||a||i||s||r}disableLoadBalancerEdit(){return this.state.isEdit&&this.application.ServiceType===this.ServiceTypes.LOAD_BALANCER&&!this.application.LoadBalancerIPAddress&&this.formValues.PublishingType===this.ApplicationPublishingTypes.LOAD_BALANCER}isPublishingTypeEditDisabled(){const e=Object(o.a)(this.formValues.PublishedPorts,{IsNew:!1,NeedsDeletion:!1});return this.state.isEdit&&this.formValues.PublishedPorts.length>0&&e.length>0}isEditLBWithPorts(){return this.formValues.PublishingType===C.KubernetesApplicationPublishingTypes.LOAD_BALANCER&&0===Object(o.a)(this.formValues.PublishedPorts,{IsNew:!1}).length}isProtocolOptionDisabled(e,t){return this.disableLoadBalancerEdit()||this.isEditAndNotNewPublishedPort(e)&&this.formValues.PublishedPorts[e].Protocol!==t||this.isEditLBWithPorts()&&this.formValues.PublishedPorts[e].Protocol!==t&&this.isNewAndNotFirst(e)}updateSliders(){const e=this.formValues.ResourcePool.Quota;let t=0,n=0,a=this.state.namespaceLimits.cpu,i=this.state.namespaceLimits.memory;e&&(e.CpuLimit&&(t=C.KubernetesApplicationQuotaDefaults.CpuLimit),e.MemoryLimit&&(n=P.default.bytesValue(C.KubernetesApplicationQuotaDefaults.MemoryLimit))),a=Math.min(a,this.nodesLimits.MaxCPU),i=Math.min(i,this.nodesLimits.MaxMemory),i<n&&(n=0,i=0),this.state.sliders.memory.min=P.default.megaBytesValue(n),this.state.sliders.memory.max=P.default.megaBytesValue(i),this.state.sliders.cpu.min=t,this.state.sliders.cpu.max=Object(s.a)(a,2),this.state.isEdit||(this.formValues.CpuLimit=t,this.formValues.MemoryLimit=P.default.megaBytesValue(n))}updateNamespaceLimits(){let e=this.state.nodes.cpu,t=this.state.nodes.memory;const n=this.formValues.ResourcePool.Quota;this.state.resourcePoolHasQuota=!1,n&&(n.CpuLimit&&(this.state.resourcePoolHasQuota=!0,e=n.CpuLimit-n.CpuLimitUsed,this.state.isEdit&&this.savedFormValues.CpuLimit&&(e+=this.savedFormValues.CpuLimit*this.effectiveInstances())),n.MemoryLimit&&(this.state.resourcePoolHasQuota=!0,t=n.MemoryLimit-n.MemoryLimitUsed,this.state.isEdit&&this.savedFormValues.MemoryLimit&&(t+=P.default.bytesValue(this.savedFormValues.MemoryLimit)*this.effectiveInstances()))),this.state.namespaceLimits.cpu=e,this.state.namespaceLimits.memory=t}refreshStacks(e){return this.$async(async()=>{try{this.stacks=await this.KubernetesStackService.get(e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve stacks\")}})}refreshConfigurations(e){return this.$async(async()=>{try{this.configurations=await this.KubernetesConfigurationService.get(e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve configurations\")}})}refreshApplications(e){return this.$async(async()=>{try{this.applications=await this.KubernetesApplicationService.get(e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications\")}})}refreshVolumes(e){return this.$async(async()=>{try{const t=await this.KubernetesVolumeService.get(e);Object(d.a)(t,e=>{e.Applications=N.default.getUsingApplications(e,this.applications)}),this.volumes=t;const n=Object(o.a)(this.volumes,e=>{const t=!N.default.isUsed(e),n=e.PersistentVolumeClaim.StorageClass&&Object(l.a)(e.PersistentVolumeClaim.StorageClass.AccessModes,\"RWX\");return t||n});this.availableVolumes=n}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve volumes\")}})}refreshIngresses(e){return this.$async(async()=>{try{this.ingresses=await this.KubernetesIngressService.get(e),this.ingressHostnames=this.ingresses.length?this.ingresses[0].Hosts:[],this.publishViaIngressEnabled()||(this.savedFormValues?this.formValues.PublishingType=this.savedFormValues.PublishingType:this.formValues.PublishingType=this.ApplicationPublishingTypes.CLUSTER_IP),this.formValues.OriginalIngresses=this.ingresses}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve ingresses\")}})}refreshNamespaceData(e){return this.$async(async()=>{await Promise.all([this.refreshStacks(e),this.refreshConfigurations(e),this.refreshApplications(e),this.refreshIngresses(e),this.refreshVolumes(e)]),this.onChangeName()})}resetFormValues(){this.clearConfigurations(),this.resetPersistedFolders(),this.resetPublishedPorts()}onResourcePoolSelectionChange(){return this.$async(async()=>{const e=this.formValues.ResourcePool.Namespace.Name;this.updateNamespaceLimits(),this.updateSliders(),await this.refreshNamespaceData(e),this.resetFormValues()})}async deployApplicationAsync(){this.state.actionInProgress=!0;try{this.formValues.ApplicationOwner=this.Authentication.getUserDetails().username,Object(i.a)(this.formValues.Configurations,e=>void 0===e.SelectedConfiguration),await this.KubernetesApplicationService.create(this.formValues),this.Notifications.success(\"Application successfully deployed\",this.formValues.Name),this.$state.go(\"kubernetes.applications\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create application\")}finally{this.state.actionInProgress=!1}}async updateApplicationAsync(){try{this.state.actionInProgress=!0,await this.KubernetesApplicationService.patch(this.savedFormValues,this.formValues),this.Notifications.success(\"Application successfully updated\"),this.$state.go(\"kubernetes.applications.application\",{name:this.application.Name,namespace:this.application.ResourcePool})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update application\")}finally{this.state.actionInProgress=!1}}deployApplication(){if(!this.state.isEdit)return this.$async(this.deployApplicationAsync);this.ModalService.confirmUpdate(\"Updating the application may cause a service interruption. Do you wish to continue?\",e=>{if(e)return this.$async(this.updateApplicationAsync)})}getApplication(){return this.$async(async()=>{try{const e=this.$state.params.namespace;[this.application,this.persistentVolumeClaims]=await Promise.all([this.KubernetesApplicationService.get(e,this.$state.params.name),this.KubernetesPersistentVolumeClaimService.get(e)])}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application details\")}})}async parseImageConfiguration(e){return this.$async(async()=>{try{return await this.RegistryService.retrievePorRegistryModelFromRepository(e.Image,this.endpoint.Id,e.Registry.Id,this.$state.params.namespace)}catch(t){return this.Notifications.error(\"Failure\",t,\"Unable to retrieve registry\"),e}})}$onInit(){return this.$async(async()=>{try{this.storageClasses=this.endpoint.Kubernetes.Configuration.StorageClasses,this.state.useLoadBalancer=this.endpoint.Kubernetes.Configuration.UseLoadBalancer,this.state.useServerMetrics=this.endpoint.Kubernetes.Configuration.UseServerMetrics;const[e,t,n]=await Promise.all([this.KubernetesResourcePoolService.get(),this.KubernetesNodeService.get(),this.KubernetesNodesLimitsService.get()]);this.nodesLimits=n;const i=Object(o.a)(e,e=>!E.default.isSystemNamespace(e.Namespace.Name));if(this.resourcePools=Object(a.a)(i,({Namespace:e})=>\"default\"===e.Name?0:1),this.formValues.ResourcePool=this.resourcePools[0],!this.formValues.ResourcePool)return;Object(d.a)(t,e=>{this.state.nodes.memory+=w()(e.Memory),this.state.nodes.cpu+=e.CPU}),this.nodesLabels=R.KubernetesNodeHelper.generateNodeLabelsFromNodes(t),this.nodeNumber=t.length;const s=this.state.isEdit?this.$state.params.namespace:this.formValues.ResourcePool.Namespace.Name;await this.refreshNamespaceData(s),this.state.isEdit?(await this.getApplication(),this.formValues=A.default.applicationToFormValues(this.application,this.resourcePools,this.configurations,this.persistentVolumeClaims,this.nodesLabels,this.ingresses),this.application.ApplicationKind&&(this.state.appType=C.KubernetesDeploymentTypes[this.application.ApplicationKind.toUpperCase()],this.application.ApplicationKind===C.KubernetesDeploymentTypes.URL&&(this.state.appType=C.KubernetesDeploymentTypes.CONTENT),this.application.StackId&&(this.stack=await this.StackService.stack(this.application.StackId),this.state.appType===C.KubernetesDeploymentTypes.CONTENT&&(this.stackFileContent=await this.StackService.getStackFile(this.application.StackId)))),this.formValues.OriginalIngresses=this.ingresses,this.formValues.ImageModel=await this.parseImageConfiguration(this.formValues.ImageModel),this.savedFormValues=b.a.copy(this.formValues),delete this.formValues.ApplicationType,this.application.ApplicationType!==C.KubernetesApplicationTypes.STATEFULSET&&Object(d.a)(this.formValues.PersistedFolders,e=>{const t=Object(f.a)(this.availableVolumes,[\"PersistentVolumeClaim.Name\",e.PersistentVolumeClaimName]);t&&(e.UseNewVolume=!1,e.ExistingVolume=t)}),await this.refreshNamespaceData(s)):this.formValues.AutoScaler=T.default.generateAutoScalerFormValueFromHorizontalPodAutoScaler(null,this.formValues.ReplicaCount),this.state.isEdit&&this.nodesLimits.excludesPods(this.application.Pods,this.formValues.CpuLimit,P.default.bytesValue(this.formValues.MemoryLimit)),this.formValues.IsPublishingService=this.formValues.PublishedPorts.length>0,this.updateNamespaceLimits(),this.updateSliders()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load view data\")}finally{this.state.viewReady=!0}})}}D.$inject=[\"$scope\",\"$async\",\"$state\",\"Notifications\",\"Authentication\",\"ModalService\",\"KubernetesResourcePoolService\",\"KubernetesApplicationService\",\"KubernetesStackService\",\"KubernetesConfigurationService\",\"KubernetesNodeService\",\"KubernetesIngressService\",\"KubernetesPersistentVolumeClaimService\",\"KubernetesVolumeService\",\"RegistryService\",\"StackService\",\"KubernetesNodesLimitsService\"],t.default=D,b.a.module(\"portainer.kubernetes\").controller(\"KubernetesCreateApplicationController\",D)},function(e,t,n){const a=n(1665);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationView\",{templateUrl:a,controller:\"KubernetesApplicationController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/applications/edit/application.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Application details\" state=\"kubernetes.applications.application\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })\">{{ ctrl.application.ResourcePool }}</a> &gt;\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt; {{ ctrl.application.Name }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\">\\n              <uib-tab-heading> <i class=\"fa fa-laptop-code space-right\" aria-hidden=\"true\"></i> Application </uib-tab-heading>\\n              <div style=\"padding: 20px;\">\\n                <table class=\"table\">\\n                  <tbody>\\n                    <tr>\\n                      <td>Name</td>\\n                      <td data-cy=\"k8sAppDetail-appName\">\\n                        {{ ctrl.application.Name }}\\n                        <span class=\"label label-primary image-tag label-margins\" ng-if=\"!ctrl.isSystemNamespace() && ctrl.isExternalApplication()\">external</span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Stack</td>\\n                      <td data-cy=\"k8sAppDetail-stackName\">{{ ctrl.application.StackName || \\'-\\' }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Namespace</td>\\n                      <td data-cy=\"k8sAppDetail-resourcePoolName\">\\n                        <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })\">{{ ctrl.application.ResourcePool }}</a>\\n                        <span style=\"margin-left: 5px;\" class=\"label label-info image-tag\" ng-if=\"ctrl.isSystemNamespace()\">system</span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Application Type</td>\\n                      <td data-cy=\"k8sAppDetail-appType\">\\n                        {{ ctrl.application.ApplicationType | kubernetesApplicationTypeText }}\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Status</td>\\n                      <td ng-if=\"ctrl.application.ApplicationType !== ctrl.KubernetesApplicationTypes.POD\">\\n                        <span ng-if=\"ctrl.application.DeploymentType === ctrl.KubernetesApplicationDeploymentTypes.REPLICATED\" data-cy=\"k8sAppDetail-deployType\">Replicated</span>\\n                        <span ng-if=\"ctrl.application.DeploymentType === ctrl.KubernetesApplicationDeploymentTypes.GLOBAL\" data-cy=\"k8sAppDetail-appType\">Global</span>\\n                        <code data-cy=\"k8sAppDetail-runningPods\">{{ ctrl.application.RunningPodsCount }}</code> /\\n                        <code data-cy=\"k8sAppDetail-totalPods\">{{ ctrl.application.TotalPodsCount }}</code>\\n                      </td>\\n                      <td ng-if=\"ctrl.application.ApplicationType === ctrl.KubernetesApplicationTypes.POD\">\\n                        {{ ctrl.application.Pods[0].Status }}\\n                      </td>\\n                    </tr>\\n                    <tr ng-if=\"ctrl.application.Requests.Cpu || ctrl.application.Requests.Memory\">\\n                      <td>\\n                        <div>Resource reservations</div>\\n                        <div ng-if=\"ctrl.application.ApplicationType !== ctrl.KubernetesApplicationTypes.POD\" class=\"text-muted small\"> per instance </div>\\n                      </td>\\n                      <td>\\n                        <div ng-if=\"ctrl.application.Requests.Cpu\" data-cy=\"k8sAppDetail-cpuReservation\"\\n                          >CPU {{ ctrl.application.Requests.Cpu | kubernetesApplicationCPUValue }}</div\\n                        >\\n                        <div ng-if=\"ctrl.application.Requests.Memory\" data-cy=\"k8sAppDetail-memoryReservation\">Memory {{ ctrl.application.Requests.Memory | humansize }}</div>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Creation</td>\\n                      <td>\\n                        <span ng-if=\"ctrl.application.ApplicationOwner\" style=\"margin-right: 5px;\"> <i class=\"fas fa-user\"></i> {{ ctrl.application.ApplicationOwner }} </span>\\n                        <span> <i class=\"fas fa-clock\"></i> {{ ctrl.application.CreationDate | getisodate }}</span>\\n                        <span ng-if=\"ctrl.application.ApplicationOwner\">\\n                          <i class=\"fa fa-file-code space-left space-right\" aria-hidden=\"true\"></i> Deployed from {{ ctrl.state.appType }}</span\\n                        >\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td colspan=\"2\">\\n                        <form class=\"form-horizontal\" name=\"kubernetesApplicationNoteForm\">\\n                          <div class=\"form-group\">\\n                            <div class=\"col-sm-12\">\\n                              <i class=\"fa fa-edit\" aria-hidden=\"true\"></i> Note\\n                              <button class=\"btn btn-xs btn-primary\" ng-click=\"ctrl.state.expandedNote = !ctrl.state.expandedNote;\" data-cy=\"k8sAppDetail-expandNoteButton\"\\n                                >{{ ctrl.state.expandedNote ? \\'Collapse\\' : \\'Expand\\' }}\\n                                <i class=\"fas {{ ctrl.state.expandedNote ? \\'fa-angle-up\\' : \\'fa-angle-down\\' }}\" aria-hidden=\"true\"></i\\n                              ></button>\\n                            </div>\\n                          </div>\\n                          <div class=\"form-group\" ng-if=\"ctrl.state.expandedNote\">\\n                            <div class=\"col-sm-12\">\\n                              <textarea\\n                                class=\"form-control\"\\n                                name=\"application_note\"\\n                                id=\"application_note\"\\n                                ng-model=\"ctrl.formValues.Note\"\\n                                rows=\"5\"\\n                                placeholder=\"Enter a note about this application...\"\\n                              ></textarea>\\n                            </div>\\n                          </div>\\n                          <div class=\"form-group\" ng-if=\"ctrl.state.expandedNote\">\\n                            <div class=\"col-sm-12\">\\n                              <button\\n                                class=\"btn btn-primary btn-sm\"\\n                                style=\"margin-left: 0px;\"\\n                                type=\"button\"\\n                                ng-click=\"ctrl.updateApplication()\"\\n                                ng-disabled=\"ctrl.formValues.Note === ctrl.application.Note\"\\n                                data-cy=\"k8sAppDetail-saveNoteButton\"\\n                                >{{ ctrl.application.Note ? \\'Update\\' : \\'Save\\' }} note</button\\n                              >\\n                            </div>\\n                          </div>\\n                        </form>\\n                      </td>\\n                    </tr>\\n                    \\x3c!-- <tr>\\n                      <td colspan=\"2\">\\n                        <form class=\"form-horizontal\" name=\"KubernetesApplicationRollbackForm\">\\n                          <div class=\"form-group\">\\n                            <label for=\"resource-pool-selector\" class=\"col-sm-2 col-lg-1 control-label text-left\">Version</label>\\n                            <div class=\"col-sm-2\">\\n                              <select class=\"form-control\" id=\"resource-pool-selector\" ng-model=\"ctrl.formValues.SelectedRevision\"\\n                                ng-options=\"revision as revision.revision for revision in ctrl.application.Revisions\"></select>\\n                            </div>\\n                            <div class=\"col-sm-2\">\\n                              <button class=\"btn btn-primary btn-sm\" style=\"margin-left: 0px;\" type=\"button\" ng-click=\"ctrl.rollbackApplication()\"\\n                                ng-disabled=\"ctrl.formValues.SelectedRevision.revision === ctrl.application.CurrentRevision.revision\">Rollback</button>\\n                            </div>\\n                          </div>\\n                        </form>\\n                      </td>\\n                    </tr> --\\x3e\\n                  </tbody>\\n                </table>\\n              </div>\\n            </uib-tab>\\n\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\">\\n              <uib-tab-heading>\\n                <i class=\"fas fa-compress-arrows-alt space-right\" aria-hidden=\"true\"></i> Placement\\n                <div ng-if=\"ctrl.state.placementWarning\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  warning\\n                </div>\\n              </uib-tab-heading>\\n              <div class=\"small text-muted\" style=\"padding: 20px;\">\\n                <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                The placement component helps you understand whether or not this application can be deployed on a specific node.\\n              </div>\\n              <kubernetes-application-placements-datatable\\n                title-text=\"Placement constraints/preferences\"\\n                title-icon=\"fa-compress-arrows-alt\"\\n                dataset=\"ctrl.placements\"\\n                table-key=\"kubernetes.application.placements\"\\n                order-by=\"Name\"\\n                reverse-order=\"false\"\\n                loading=\"ctrl.state.dataLoading\"\\n                refresh-callback=\"ctrl.getApplication\"\\n              ></kubernetes-application-placements-datatable>\\n            </uib-tab>\\n\\n            <uib-tab index=\"2\" classes=\"btn-sm\" select=\"ctrl.selectTab(2)\">\\n              <uib-tab-heading>\\n                <i class=\"fa fa-history space-right\" aria-hidden=\"true\"></i> Events\\n                <div ng-if=\"ctrl.hasEventWarnings()\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  {{ ctrl.state.eventWarningCount }} warning(s)\\n                </div>\\n              </uib-tab-heading>\\n              <kubernetes-events-datatable\\n                title-text=\"Events\"\\n                title-icon=\"fa-history\"\\n                dataset=\"ctrl.events\"\\n                table-key=\"kubernetes.application.events\"\\n                order-by=\"Date\"\\n                reverse-order=\"true\"\\n                loading=\"ctrl.state.eventsLoading\"\\n                refresh-callback=\"ctrl.getEvents\"\\n              ></kubernetes-events-datatable>\\n            </uib-tab>\\n\\n            <uib-tab index=\"3\" ng-if=\"ctrl.application.Yaml\" select=\"ctrl.showEditor()\" classes=\"btn-sm\">\\n              <uib-tab-heading> <i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i> YAML </uib-tab-heading>\\n              <div style=\"padding-right: 25px;\" ng-if=\"ctrl.state.showEditorTab\">\\n                <kubernetes-yaml-inspector key=\"application-yaml\" data=\"ctrl.application.Yaml\"></kubernetes-yaml-inspector>\\n              </div>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <div ng-if=\"!ctrl.isSystemNamespace()\" style=\"margin-bottom: 15px;\">\\n            <button\\n              ng-if=\"!ctrl.isExternalApplication()\"\\n              type=\"button\"\\n              class=\"btn btn-sm btn-primary\"\\n              ui-sref=\"kubernetes.applications.application.edit\"\\n              style=\"margin-left: 0;\"\\n              data-cy=\"k8sAppDetail-editAppButton\"\\n            >\\n              <i class=\"fa fa-file-code space-right\" aria-hidden=\"true\"></i>Edit this application\\n            </button>\\n            <button\\n              ng-if=\"ctrl.application.ApplicationType !== ctrl.KubernetesApplicationTypes.POD\"\\n              type=\"button\"\\n              class=\"btn btn-sm btn-primary\"\\n              style=\"margin-left: 0;\"\\n              ng-click=\"ctrl.redeployApplication()\"\\n              data-cy=\"k8sAppDetail-redeployButton\"\\n            >\\n              <i class=\"fa fa-redo space-right\" aria-hidden=\"true\"></i>Redeploy\\n            </button>\\n            <button\\n              ng-if=\"!ctrl.isExternalApplication()\"\\n              type=\"button\"\\n              class=\"btn btn-sm btn-primary\"\\n              style=\"margin-left: 0;\"\\n              ng-click=\"ctrl.rollbackApplication()\"\\n              ng-disabled=\"ctrl.application.Revisions.length < 2 || ctrl.state.appType !== ctrl.KubernetesDeploymentTypes.APPLICATION_FORM\"\\n              data-cy=\"k8sAppDetail-rollbackButton\"\\n            >\\n              <i class=\"fas fa-history space-right\" aria-hidden=\"true\"></i>Rollback to previous configuration\\n            </button>\\n            <a\\n              ng-if=\"ctrl.isStack() && ctrl.stackFileContent\"\\n              class=\"btn btn-sm btn-primary space-left\"\\n              ui-sref=\"kubernetes.templates.custom.new({fileContent: ctrl.stackFileContent})\"\\n            >\\n              <i class=\"fas fa-plus space-right\" aria-hidden=\"true\"></i>Create template from application\\n            </a>\\n          </div>\\n\\n          \\x3c!-- ACCESSING APPLICATION --\\x3e\\n          <div class=\"text-muted\" style=\"margin-bottom: 15px;\">\\n            <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> Accessing the application\\n          </div>\\n\\n          <div class=\"small text-muted\" ng-if=\"ctrl.application.PublishedPorts.length === 0\" style=\"margin-bottom: 15px;\">\\n            <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            This application is not exposing any port.\\n          </div>\\n\\n          <div ng-if=\"ctrl.application.PublishedPorts.length > 0\">\\n            \\x3c!-- LB notice --\\x3e\\n            <div ng-if=\"ctrl.application.ServiceType === ctrl.KubernetesServiceTypes.LOAD_BALANCER\">\\n              <div class=\"small text-muted\">\\n                <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                This application is exposed through a service of type <span class=\"bold\">{{ ctrl.application.ServiceType }}</span\\n                >. Refer to the port configuration below to access it.\\n              </div>\\n              <div style=\"margin-top: 10px;\" class=\"small text-muted\">\\n                <span ng-if=\"!ctrl.application.LoadBalancerIPAddress\">\\n                  <p> Load balancer status: <i class=\"fa fa-cog fa-spin\" style=\"margin-left: 2px;\"></i> pending </p>\\n                  <p>\\n                    <u>what does the \"pending\" status means?</u>\\n                    <portainer-tooltip\\n                      position=\"bottom\"\\n                      message=\"A pending status means that Portainer delegated the request to the provider responsible for creating the external load balancer. If it stays in pending state for long, this means that this capability might not be supported or you might have an issue with your cluster provider. Contact your cluster administrator for more information.\"\\n                    >\\n                    </portainer-tooltip>\\n                  </p>\\n                </span>\\n                <span ng-if=\"ctrl.application.LoadBalancerIPAddress\">\\n                  <p> Load balancer status: <i class=\"fa fa-check green-icon\" style=\"margin-left: 2px;\"></i> available </p>\\n                  <p>\\n                    Load balancer IP address: {{ ctrl.application.LoadBalancerIPAddress }}\\n                    <span class=\"btn btn-primary btn-xs\" ng-click=\"ctrl.copyLoadBalancerIP()\" style=\"margin-left: 5px;\">\\n                      <i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy\\n                    </span>\\n                    <span id=\"copyNotificationLB\" style=\"margin-left: 7px; display: none; color: #23ae89;\" class=\"small\">\\n                      <i class=\"fa fa-check\" aria-hidden=\"true\"></i> copied\\n                    </span>\\n                  </p>\\n                </span>\\n              </div>\\n            </div>\\n\\n            \\x3c!-- NodePort notice --\\x3e\\n            <div ng-if=\"ctrl.application.ServiceType === ctrl.KubernetesServiceTypes.NODE_PORT\">\\n              <div class=\"small text-muted\">\\n                <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                This application is exposed through a service of type <span class=\"bold\">{{ ctrl.application.ServiceType }}</span\\n                >. It can be reached using the IP address of any node in your cluster using the port configuration below.\\n              </div>\\n            </div>\\n\\n            \\x3c!-- ClusterIP notice --\\x3e\\n            <div ng-if=\"ctrl.application.ServiceType === ctrl.KubernetesServiceTypes.CLUSTER_IP && !ctrl.state.useIngress\">\\n              <div class=\"small text-muted\">\\n                <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                This application is exposed through a service of type <span class=\"bold\">{{ ctrl.application.ServiceType }}</span\\n                >. It can be reached via the application name <code>{{ ctrl.application.ServiceName }}</code> and the port configuration below.\\n                <span class=\"btn btn-primary btn-xs\" ng-click=\"ctrl.copyApplicationName()\"><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy</span>\\n                <span id=\"copyNotificationApplicationName\" style=\"margin-left: 7px; display: none; color: #23ae89;\" class=\"small\"\\n                  ><i class=\"fa fa-check\" aria-hidden=\"true\"></i> copied</span\\n                >\\n              </div>\\n            </div>\\n\\n            \\x3c!-- Ingress notice --\\x3e\\n            <div ng-if=\"ctrl.application.ServiceType === ctrl.KubernetesServiceTypes.CLUSTER_IP && ctrl.state.useIngress\">\\n              <div class=\"small text-muted\">\\n                <p>\\n                  <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  This application is exposed through a service of type <span class=\"bold\">{{ ctrl.application.ServiceType }}</span\\n                  >. It can be reached via the application name <code>{{ ctrl.application.ServiceName }}</code> and the port configuration below.\\n                  <span class=\"btn btn-primary btn-xs\" ng-click=\"ctrl.copyApplicationName()\"><i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy</span>\\n                  <span id=\"copyNotificationApplicationName\" style=\"margin-left: 7px; display: none; color: #23ae89;\" class=\"small\"\\n                    ><i class=\"fa fa-check\" aria-hidden=\"true\"></i> copied</span\\n                  >\\n                </p>\\n                <p>It is also associated to an <span class=\"bold\">Ingress</span> and can be accessed via specific HTTP route(s).</p>\\n              </div>\\n            </div>\\n\\n            \\x3c!-- table --\\x3e\\n            <div style=\"margin-top: 15px;\">\\n              <table class=\"table\">\\n                <tbody>\\n                  <tr class=\"text-muted\">\\n                    <td style=\"width: 25%;\">Container port</td>\\n                    <td style=\"width: 25%;\">Service port</td>\\n                    <td style=\"width: 50%;\">HTTP route</td>\\n                  </tr>\\n                  <tr ng-repeat-start=\"port in ctrl.application.PublishedPorts\">\\n                    <td ng-if=\"!ctrl.portHasIngressRules(port)\" data-cy=\"k8sAppDetail-containerPort\">{{ port.TargetPort }}/{{ port.Protocol }}</td>\\n                    <td ng-if=\"!ctrl.portHasIngressRules(port)\">\\n                      <span ng-if=\"ctrl.application.ServiceType === ctrl.KubernetesServiceTypes.NODE_PORT\" data-cy=\"k8sAppDetail-nodePort\">\\n                        {{ port.NodePort }}\\n                      </span>\\n                      <span ng-if=\"ctrl.application.ServiceType !== ctrl.KubernetesServiceTypes.NODE_PORT\" data-cy=\"k8sAppDetail-containerPort\">\\n                        {{ port.Port }}\\n                      </span>\\n                      <a\\n                        ng-if=\"ctrl.application.LoadBalancerIPAddress\"\\n                        ng-href=\"http://{{ ctrl.application.LoadBalancerIPAddress }}:{{ port.Port }}\"\\n                        target=\"_blank\"\\n                        style=\"margin-left: 5px;\"\\n                        data-cy=\"k8sAppDetail-accessLink\"\\n                      >\\n                        <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> access\\n                      </a>\\n                    </td>\\n                    <td ng-if=\"!ctrl.portHasIngressRules(port)\">-</td>\\n                  </tr>\\n                  <tr ng-repeat-end ng-repeat=\"rule in port.IngressRules\">\\n                    <td data-cy=\"k8sAppDetail-httpRoute\">{{ port.TargetPort }}/{{ port.Protocol }}</td>\\n                    <td>\\n                      <span ng-if=\"ctrl.application.ServiceType === ctrl.KubernetesServiceTypes.NODE_PORT\" data-cy=\"k8sAppDetail-nodePort\">\\n                        {{ port.NodePort }}\\n                      </span>\\n                      <span ng-if=\"ctrl.application.ServiceType !== ctrl.KubernetesServiceTypes.NODE_PORT\" data-cy=\"k8sAppDetail-port\">\\n                        {{ port.Port }}\\n                      </span>\\n                      <a\\n                        ng-if=\"ctrl.application.LoadBalancerIPAddress\"\\n                        ng-href=\"http://{{ ctrl.application.LoadBalancerIPAddress }}:{{ port.Port }}\"\\n                        target=\"_blank\"\\n                        style=\"margin-left: 5px;\"\\n                      >\\n                        <i class=\"fa fa-external-link-alt\" aria-hidden=\"true\"></i> access\\n                      </a>\\n                    </td>\\n                    <td>\\n                      <span\\n                        ng-if=\"!ctrl.ruleCanBeDisplayed(rule)\"\\n                        class=\"text-muted\"\\n                        tooltip-append-to-body=\"true\"\\n                        tooltip-placement=\"bottom\"\\n                        tooltip-class=\"portainer-tooltip\"\\n                        uib-tooltip=\"Ingress controller IP address not available yet\"\\n                        style=\"cursor: pointer;\"\\n                        >pending\\n                      </span>\\n                      <span ng-if=\"ctrl.ruleCanBeDisplayed(rule)\">\\n                        <a ng-href=\"{{ ctrl.buildIngressRuleURL(rule) }}\" target=\"_blank\" data-cy=\"k8sAppDetail-httpRouteLink\">\\n                          {{ ctrl.buildIngressRuleURL(rule) | stripprotocol }}\\n                        </a>\\n                      </span>\\n                    </td>\\n                  </tr>\\n                </tbody>\\n              </table>\\n            </div>\\n          </div>\\n          \\x3c!-- !ACCESSING APPLICATION --\\x3e\\n          \\x3c!-- AUTO SCALING --\\x3e\\n          <div class=\"text-muted\" style=\"margin-bottom: 15px;\"> <i class=\"fa fa-expand-arrows-alt\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> Auto-scaling</div>\\n\\n          <div class=\"small text-muted\" ng-if=\"!ctrl.application.AutoScaler\" style=\"margin-bottom: 15px;\">\\n            <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            This application does not have an autoscaling policy defined.\\n          </div>\\n\\n          <div ng-if=\"ctrl.application.AutoScaler\">\\n            <div style=\"margin-top: 15px; width: 50%;\">\\n              <table class=\"table\">\\n                <tbody>\\n                  <tr class=\"text-muted\">\\n                    <td style=\"width: 33%;\">Minimum instances</td>\\n                    <td style=\"width: 33%;\">Maximum instances</td>\\n                    <td style=\"width: 33%;\">\\n                      Target CPU usage\\n                      <portainer-tooltip position=\"bottom\" message=\"The autoscaler will ensure enough instances are running to maintain an average CPU usage across all instances.\">\\n                      </portainer-tooltip>\\n                    </td>\\n                  </tr>\\n                  <tr>\\n                    <td data-cy=\"k8sAppDetail-minReplicas\">{{ ctrl.application.AutoScaler.MinReplicas }}</td>\\n                    <td data-cy=\"k8sAppDetail-maxReplicas\">{{ ctrl.application.AutoScaler.MaxReplicas }}</td>\\n                    <td data-cy=\"k8sAppDetail-targetCPU\">{{ ctrl.application.AutoScaler.TargetCPUUtilization }}%</td>\\n                  </tr>\\n                </tbody>\\n              </table>\\n            </div>\\n          </div>\\n          \\x3c!-- !AUTO SCALING --\\x3e\\n\\n          \\x3c!-- CONFIGURATIONS --\\x3e\\n          <div class=\"text-muted\" style=\"margin-bottom: 15px; margin-top: 25px;\"> <i class=\"fa fa-file-code\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> Configuration </div>\\n\\n          <div class=\"small text-muted\" ng-if=\"!ctrl.application.Env.length > 0 && !ctrl.hasVolumeConfiguration()\" style=\"margin-bottom: 15px;\">\\n            <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            This application is not using any environment variable or configuration.\\n          </div>\\n\\n          <table class=\"table\" ng-if=\"ctrl.application.Env.length > 0\">\\n            <tr class=\"text-muted\">\\n              <td style=\"width: 25%;\">Container</td>\\n              <td style=\"width: 25%;\">Environment variable</td>\\n              <td style=\"width: 25%;\">Value</td>\\n              <td style=\"width: 25%;\">Configuration</td>\\n            </tr>\\n            <tbody ng-repeat=\"container in ctrl.application.Containers\" style=\"border-top: 0;\">\\n              <tr ng-repeat=\"envvar in container.Env | orderBy: \\'name\\'\">\\n                <td data-cy=\"k8sAppDetail-containerName\">\\n                  {{ container.Name }}\\n                  <span ng-if=\"container.Type === ctrl.KubernetesPodContainerTypes.INIT\"\\n                    ><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\\n                      href=\"https://kubernetes.io/docs/concepts/workloads/pods/init-containers/\"\\n                      target=\"_blank\"\\n                      >init container</a\\n                    >)</span\\n                  >\\n                </td>\\n                <td data-cy=\"k8sAppDetail-envVarName\">{{ envvar.name }}</td>\\n                <td>\\n                  <span ng-if=\"envvar.value\" data-cy=\"k8sAppDetail-envVarValue\">{{ envvar.value }}</span>\\n                  <span ng-if=\"envvar.valueFrom.configMapKeyRef\" data-cy=\"k8sAppDetail-envVarValue\"\\n                    ><i class=\"fa fa-key\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.configMapKeyRef.key }}</span\\n                  >\\n                  <span ng-if=\"envvar.valueFrom.secretKeyRef\" data-cy=\"k8sAppDetail-envVarValue\"\\n                    ><i class=\"fa fa-key\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.secretKeyRef.key }}</span\\n                  >\\n                  <span ng-if=\"envvar.valueFrom.fieldRef\" data-cy=\"k8sAppDetail-envVarValue\"\\n                    ><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\\n                      href=\"https://kubernetes.io/docs/tasks/inject-data-application/downward-api-volume-expose-pod-information/#capabilities-of-the-downward-api\"\\n                      target=\"_blank\"\\n                      >downward API</a\\n                    >)</span\\n                  >\\n                  <span ng-if=\"!envvar.value && !envvar.valueFrom.secretKeyRef && !envvar.valueFrom.configMapKeyRef && !envvar.valueFrom.fieldRef\">-</span>\\n                </td>\\n                <td>\\n                  <span ng-if=\"envvar.value || envvar.valueFrom.fieldRef || (!envvar.valueFrom.secretKeyRef && !envvar.valueFrom.configMapKeyRef)\">-</span>\\n                  <span ng-if=\"envvar.valueFrom.configMapKeyRef\" data-cy=\"k8sAppDetail-configName\"\\n                    ><a ui-sref=\"kubernetes.configurations.configuration({ name: envvar.valueFrom.configMapKeyRef.name, namespace: ctrl.application.ResourcePool })\"\\n                      ><i class=\"fa fa-file-code\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.configMapKeyRef.name }}</a\\n                    ></span\\n                  >\\n                  <span ng-if=\"envvar.valueFrom.secretKeyRef\" data-cy=\"k8sAppDetail-configName\"\\n                    ><a ui-sref=\"kubernetes.configurations.configuration({ name: envvar.valueFrom.secretKeyRef.name, namespace: ctrl.application.ResourcePool })\"\\n                      ><i class=\"fa fa-file-code\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.secretKeyRef.name }}</a\\n                    ></span\\n                  >\\n                </td>\\n              </tr>\\n            </tbody>\\n          </table>\\n\\n          <table class=\"table\" ng-if=\"ctrl.hasVolumeConfiguration()\">\\n            <tr class=\"text-muted\">\\n              <td style=\"width: 25%;\">Container</td>\\n              <td style=\"width: 25%;\">Configuration path</td>\\n              <td style=\"width: 25%;\">Value</td>\\n              <td style=\"width: 25%;\">Configuration</td>\\n            </tr>\\n            <tbody ng-repeat=\"container in ctrl.application.Containers\" style=\"border-top: 0;\">\\n              <tr ng-repeat=\"volume in container.ConfigurationVolumes track by $index\" style=\"border-top: 0;\">\\n                <td>\\n                  {{ container.Name }}\\n                  <span ng-if=\"container.Type === ctrl.KubernetesPodContainerTypes.INIT\"\\n                    ><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\\n                      href=\"https://kubernetes.io/docs/concepts/workloads/pods/init-containers/\"\\n                      target=\"_blank\"\\n                      >init container</a\\n                    >)</span\\n                  >\\n                </td>\\n                <td>\\n                  {{ volume.fileMountPath }}\\n                </td>\\n                <td> <i class=\"fa fa-key\" ng-if=\"volume.configurationKey\" aria-hidden=\"true\"></i> {{ volume.configurationKey ? volume.configurationKey : \\'-\\' }} </td>\\n                <td>\\n                  <a ui-sref=\"kubernetes.configurations.configuration({ name: volume.configurationName, namespace: ctrl.application.ResourcePool })\"\\n                    ><i class=\"fa fa-file-code\" aria-hidden=\"true\"></i> {{ volume.configurationName }}</a\\n                  >\\n                </td>\\n              </tr>\\n            </tbody>\\n          </table>\\n          \\x3c!-- !CONFIGURATIONS --\\x3e\\n\\n          \\x3c!-- DATA PERSISTENCE --\\x3e\\n          <div class=\"text-muted\" style=\"margin-bottom: 15px; margin-top: 25px;\">\\n            <i class=\"fa fa-database\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> Data persistence\\n          </div>\\n\\n          <div class=\"small text-muted\" ng-if=\"!ctrl.hasPersistedFolders()\">\\n            <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            This application has no persisted folders.\\n          </div>\\n\\n          <div ng-if=\"ctrl.hasPersistedFolders()\">\\n            <div class=\"small text-muted\" style=\"margin-bottom: 15px;\">\\n              Data access policy: <i class=\"fa {{ ctrl.application.DataAccessPolicy | kubernetesApplicationDataAccessPolicyIcon }}\" aria-hidden=\"true\"></i>\\n              {{ ctrl.application.DataAccessPolicy | kubernetesApplicationDataAccessPolicyText }}\\n              <portainer-tooltip position=\"right\" message=\"{{ ctrl.application.DataAccessPolicy | kubernetesApplicationDataAccessPolicyTooltip }}\"> </portainer-tooltip>\\n            </div>\\n\\n            <table class=\"table\" ng-if=\"ctrl.application.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.SHARED\">\\n              <tr class=\"text-muted\">\\n                <td style=\"width: 33%;\">Persisted folder</td>\\n                <td style=\"width: 66%;\">Persistence</td>\\n              </tr>\\n              <tbody ng-repeat=\"container in ctrl.application.Containers\" style=\"border-top: 0;\">\\n                <tr ng-repeat=\"volume in container.PersistedFolders track by $index\">\\n                  <td data-cy=\"k8sAppDetail-volMountPath\">\\n                    {{ volume.MountPath }}\\n                  </td>\\n                  <td ng-if=\"volume.PersistentVolumeClaimName\">\\n                    <a ui-sref=\"kubernetes.volumes.volume({ name: volume.PersistentVolumeClaimName, namespace: ctrl.application.ResourcePool })\" data-cy=\"k8sAppDetail-volClaimName\"\\n                      ><i class=\"fa fa-database\" aria-hidden=\"true\"></i> {{ volume.PersistentVolumeClaimName }}</a\\n                    >\\n                  </td>\\n                  <td ng-if=\"volume.HostPath\"> {{ volume.HostPath }} on host filesystem </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n\\n            <table class=\"table\" ng-if=\"ctrl.application.DataAccessPolicy === ctrl.ApplicationDataAccessPolicies.ISOLATED\">\\n              <thead>\\n                <tr class=\"text-muted\">\\n                  <td style=\"width: 25%;\">Container name</td>\\n                  <td style=\"width: 25%;\">Pod name</td>\\n                  <td style=\"width: 25%;\">Persisted folder</td>\\n                  <td style=\"width: 25%;\">Persistence</td>\\n                </tr>\\n              </thead>\\n              <tbody ng-repeat=\"container in ctrl.allContainers track by $index\" style=\"border-top: none;\">\\n                <tr ng-repeat=\"volume in container.PersistedFolders track by $index\">\\n                  <td>\\n                    {{ container.Name }}\\n                    <span ng-if=\"container.Type === ctrl.KubernetesPodContainerTypes.INIT\"\\n                      ><i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i> {{ envvar.valueFrom.fieldRef.fieldPath }} (<a\\n                        href=\"https://kubernetes.io/docs/concepts/workloads/pods/init-containers/\"\\n                        target=\"_blank\"\\n                        >init container</a\\n                      >)</span\\n                    >\\n                  </td>\\n                  <td>{{ container.PodName }}</td>\\n                  <td>\\n                    {{ volume.MountPath }}\\n                  </td>\\n                  <td ng-if=\"volume.PersistentVolumeClaimName\">\\n                    <a ui-sref=\"kubernetes.volumes.volume({ name: volume.PersistentVolumeClaimName + \\'-\\' + container.PodName, namespace: ctrl.application.ResourcePool })\">\\n                      <i class=\"fa fa-database\" aria-hidden=\"true\"></i> {{ volume.PersistentVolumeClaimName + \\'-\\' + container.PodName }}</a\\n                    >\\n                  </td>\\n                  <td ng-if=\"volume.HostPath\"> {{ volume.HostPath }} on host filesystem </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n            \\x3c!-- !DATA PERSISTENCE --\\x3e\\n          </div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-containers-datatable\\n        title-text=\"Application containers\"\\n        title-icon=\"fa-server\"\\n        dataset=\"ctrl.allContainers\"\\n        table-key=\"kubernetes.application.containers\"\\n        is-pod=\"ctrl.application.ApplicationType === ctrl.KubernetesApplicationTypes.POD\"\\n        order-by=\"{{ ctrl.application.ApplicationType === ctrl.KubernetesApplicationTypes.POD ? \\'Name\\' : \\'PodName\\' }}\"\\n        use-server-metrics=\"ctrl.state.useServerMetrics\"\\n      >\\n      </kubernetes-containers-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),function(e){var a=n(6),i=n(832),s=n(28),r=n(16),o=n(414),l=n(2),c=n(33),d=n(5),u=n(7),p=n(1),m=n.n(p),g=n(53),h=n(3),f=n(133),v=n(22),b=n(42),y=n(49),w=n(27);function x(e,t){return e=function(e,t){if(!t.Pods||0===t.Pods.length)return e;const n=t.Pods[0];return Object(u.a)(e,e=>{if(n.NodeSelector){const t=g.a(e.Labels,n.NodeSelector);Object(c.a)(t,{op:\"remove\"}),e.UnmatchedNodeSelectorLabels=Object(l.a)(t,e=>({key:Object(o.a)(e.path,\"/\"),value:e.value})),e.UnmatchedNodeSelectorLabels.length&&(e.AcceptsApplication=!1)}if(n.Affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution){const t=Object(l.a)(n.Affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms,t=>{const n=Object(l.a)(t.matchExpressions,t=>{const n={}.hasOwnProperty.call(e.Labels,t.key),a=n&&Object(r.a)(t.values,e.Labels[t.key]);if(!(t.operator===y.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.EXISTS&&n||t.operator===y.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.DOES_NOT_EXIST&&!n||t.operator===y.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.IN&&a||t.operator===y.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.NOT_IN&&!a||t.operator===y.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.GREATER_THAN&&n&&parseInt(e.Labels[t.key],10)>parseInt(t.values[0],10)||t.operator===y.KubernetesPodNodeAffinityNodeSelectorRequirementOperators.LOWER_THAN&&n&&parseInt(e.Labels[t.key],10)<parseInt(t.values[0],10)))return t});return Object(s.a)(n,void 0)});Object(c.a)(t,e=>0===e.length),e.UnmatchedNodeAffinities=t,e.UnmatchedNodeAffinities.length&&(e.AcceptsApplication=!1)}}),e}(e=function(e,t){const n=t.Pods[0];return Object(u.a)(e,e=>{e.AcceptsApplication=!0,e.Expanded=!1,n&&(e.UnmetTaints=[],Object(u.a)(e.Taints,t=>{const a=Object(d.a)(n.Tolerations,{Key:t.Key,Operator:\"Equal\",Value:t.Value,Effect:t.Effect}),i=Object(d.a)(n.Tolerations,{Key:t.Key,Operator:\"Exists\",Effect:t.Effect}),s=Object(d.a)(n.Tolerations,{Key:t.Key,Operator:\"Equal\",Value:t.Value,Effect:\"\"}),r=Object(d.a)(n.Tolerations,{Key:t.Key,Operator:\"Exists\",Effect:\"\"}),o=Object(d.a)(n.Tolerations,{Key:\"\",Operator:\"Exists\",Effect:\"\"});a||i||s||r||o?e.AcceptsApplication=!0:(e.AcceptsApplication=!1,e.UnmetTaints.push(t))}))}),e}(e,t),t)}class ${constructor(e,t,n,a,i,s,r,o,l,c,d,u,p){this.$async=e,this.$state=t,this.clipboard=n,this.Notifications=a,this.LocalStorage=i,this.ModalService=s,this.StackService=p,this.KubernetesApplicationService=r,this.KubernetesEventService=o,this.KubernetesStackService=l,this.KubernetesPodService=c,this.KubernetesNodeService=d,this.KubernetesApplicationDeploymentTypes=h.KubernetesApplicationDeploymentTypes,this.KubernetesApplicationTypes=h.KubernetesApplicationTypes,this.EndpointProvider=u,this.KubernetesDeploymentTypes=h.KubernetesDeploymentTypes,this.ApplicationDataAccessPolicies=h.KubernetesApplicationDataAccessPolicies,this.KubernetesServiceTypes=b.KubernetesServiceTypes,this.KubernetesPodContainerTypes=y.KubernetesPodContainerTypes,this.onInit=this.onInit.bind(this),this.getApplication=this.getApplication.bind(this),this.getApplicationAsync=this.getApplicationAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this),this.updateApplicationKindText=this.updateApplicationKindText.bind(this),this.updateApplicationAsync=this.updateApplicationAsync.bind(this),this.redeployApplicationAsync=this.redeployApplicationAsync.bind(this),this.rollbackApplicationAsync=this.rollbackApplicationAsync.bind(this),this.copyLoadBalancerIP=this.copyLoadBalancerIP.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab(\"application\",e)}showEditor(){this.state.showEditorTab=!0,this.selectTab(3)}isSystemNamespace(){return w.default.isSystemNamespace(this.application.ResourcePool)}isExternalApplication(){return v.default.isExternalApplication(this.application)}copyLoadBalancerIP(){this.clipboard.copyText(this.application.LoadBalancerIPAddress),e(\"#copyNotificationLB\").show().fadeOut(2500)}copyApplicationName(){this.clipboard.copyText(this.application.Name),e(\"#copyNotificationApplicationName\").show().fadeOut(2500)}hasPersistedFolders(){return this.application&&this.application.PersistedFolders.length}hasVolumeConfiguration(){return this.application&&this.application.ConfigurationVolumes.length}hasEventWarnings(){return this.state.eventWarningCount}buildIngressRuleURL(e){return\"http://\"+(e.Host?e.Host:e.IP)+e.Path}portHasIngressRules(e){return e.IngressRules.length>0}ruleCanBeDisplayed(e){return!(!e.Host&&!e.IP)}isStack(){return this.application.StackId}async rollbackApplicationAsync(){try{const e=Object(i.a)(this.application.Revisions,-2);await this.KubernetesApplicationService.rollback(this.application,e),this.Notifications.success(\"Application successfully rolled back\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to rollback the application\")}}rollbackApplication(){this.ModalService.confirmUpdate(\"Rolling back the application to a previous configuration may cause a service interruption. Do you wish to continue?\",e=>{if(e)return this.$async(this.rollbackApplicationAsync)})}async redeployApplicationAsync(){try{const e=Object(l.a)(this.application.Pods,e=>this.KubernetesPodService.delete(e));await Promise.all(e),this.Notifications.success(\"Application successfully redeployed\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to redeploy the application\")}}redeployApplication(){this.ModalService.confirmUpdate(\"Redeploying the application may cause a service interruption. Do you wish to continue?\",e=>{if(e)return this.$async(this.redeployApplicationAsync)})}async updateApplicationAsync(){try{const e=m.a.copy(this.application);e.Note=this.formValues.Note,await this.KubernetesApplicationService.patch(this.application,e,!0),this.Notifications.success(\"Application successfully updated\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update application\")}}updateApplication(){return this.$async(this.updateApplicationAsync)}updateApplicationKindText(){this.application.ApplicationKind===this.KubernetesDeploymentTypes.GIT?this.state.appType=\"git repository\":(this.application.ApplicationKind===this.KubernetesDeploymentTypes.CONTENT||this.application.ApplicationKind===this.KubernetesDeploymentTypes.URL)&&(this.state.appType=\"manifest\")}async getEventsAsync(){try{this.state.eventsLoading=!0;const e=await this.KubernetesEventService.get(this.state.params.namespace);this.events=Object(a.a)(e,e=>e.Involved.uid===this.application.Id||e.Involved.uid===this.application.ServiceId||void 0!==Object(d.a)(this.application.Pods,t=>t.Id===e.Involved.uid)),this.state.eventWarningCount=f.default.warningCount(this.events)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application related events\")}finally{this.state.eventsLoading=!1}}getEvents(){return this.$async(this.getEventsAsync)}async getApplicationAsync(){try{this.state.dataLoading=!0;const[e,t]=await Promise.all([this.KubernetesApplicationService.get(this.state.params.namespace,this.state.params.name),this.KubernetesNodeService.get()]);if(this.application=e,this.allContainers=v.default.associateAllContainersAndApplication(e),this.formValues.Note=this.application.Note,this.application.Note&&(this.state.expandedNote=!0),this.application.CurrentRevision&&(this.formValues.SelectedRevision=Object(d.a)(this.application.Revisions,{revision:this.application.CurrentRevision.revision})),this.state.useIngress=Object(d.a)(e.PublishedPorts,e=>this.portHasIngressRules(e)),this.placements=x(t,this.application),this.state.placementWarning=!Object(d.a)(this.placements,{AcceptsApplication:!0}),e.StackId){const t=await this.StackService.getStackFile(e.StackId);this.stackFileContent=t}}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application details\")}finally{this.state.dataLoading=!1}}getApplication(){return this.$async(this.getApplicationAsync)}async onInit(){this.state={activeTab:0,currentName:this.$state.$current.name,showEditorTab:!1,DisplayedPanel:\"pods\",eventsLoading:!0,dataLoading:!0,viewReady:!1,params:{namespace:this.$transition$.params().namespace,name:this.$transition$.params().name},appType:this.KubernetesDeploymentTypes.APPLICATION_FORM,eventWarningCount:0,placementWarning:!1,expandedNote:!1,useIngress:!1,useServerMetrics:this.EndpointProvider.currentEndpoint().Kubernetes.Configuration.UseServerMetrics},this.state.activeTab=this.LocalStorage.getActiveTab(\"application\"),this.formValues={Note:\"\",SelectedRevision:void 0},await this.getApplication(),await this.getEvents(),this.updateApplicationKindText(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"application\",0)}}$.$inject=[\"$async\",\"$state\",\"clipboard\",\"Notifications\",\"LocalStorage\",\"ModalService\",\"KubernetesApplicationService\",\"KubernetesEventService\",\"KubernetesStackService\",\"KubernetesPodService\",\"KubernetesNodeService\",\"EndpointProvider\",\"StackService\"],t.default=$,m.a.module(\"portainer.kubernetes\").controller(\"KubernetesApplicationController\",$)}.call(this,n(50))},function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(6);angular.module(\"portainer.docker\").controller(\"KubernetesApplicationPlacementsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"Authentication\",function(e,t,n,s){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1}),this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return!e.AcceptsApplication},this.hasExpandableItems=function(){return Object(i.a)(this.state.filteredDataSet,e=>this.itemCanExpand(e)).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,Object(a.a)(this.state.filteredDataSet,e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)})},this.$onInit=function(){this.isAdmin=s.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1669);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationPlacementsDatatable\",{templateUrl:a,controller:\"KubernetesApplicationPlacementsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\",loading:\"<\",removeAction:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/applications/edit/components/placements-datatable/template.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th style=\"width: 2%;\">\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th style=\"width: 98%;\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Node\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | filter: $ctrl.isDisplayed | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              ng-class=\"{ active: item.Checked, \\'datatable-highlighted\\': item.Highlighted }\"\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td>\\n                <a ng-if=\"$ctrl.itemCanExpand(item)\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i>\\n                </a>\\n                <i ng-if=\"item.AcceptsApplication\" class=\"fa fa-check green-icon\" aria-hidden=\"true\"></i>\\n                <i ng-if=\"!item.AcceptsApplication\" class=\"fa fa-times red-icon\" aria-hidden=\"true\"></i>\\n              </td>\\n              <td>\\n                {{ item.Name }}\\n              </td>\\n            </tr>\\n            \\x3c!-- ADMIN + UNMET TAINTS --\\x3e\\n            <tr\\n              ng-if=\"$ctrl.isAdmin\"\\n              ng-show=\"item.Expanded\"\\n              ng-repeat=\"taint in item.UnmetTaints\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td colspan=\"2\">\\n                This application is missing a toleration for the taint <code>{{ taint.Key }}{{ taint.Value ? \\'=\\' + taint.Value : \\'\\' }}:{{ taint.Effect }}</code>\\n              </td>\\n            </tr>\\n            \\x3c!-- !ADMIN + UNMET TAINTS --\\x3e\\n            \\x3c!-- USER + UNMET TAINTS --\\x3e\\n            <tr\\n              ng-if=\"!$ctrl.isAdmin && item.UnmetTaints.length\"\\n              ng-show=\"item.Expanded\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td colspan=\"2\">\\n                Placement constraint not respected for that node.\\n              </td>\\n            </tr>\\n            \\x3c!-- ! USER + UNMET TAINTS --\\x3e\\n            \\x3c!-- ADMIN + UNMET NODE SELECTOR LABELS --\\x3e\\n            <tr\\n              ng-if=\"$ctrl.isAdmin\"\\n              ng-show=\"item.Expanded\"\\n              ng-repeat=\"label in item.UnmatchedNodeSelectorLabels\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td colspan=\"2\">\\n                This application can only be scheduled on a node where the label <code>{{ label.key }}</code> is set to <code>{{ label.value }}</code>\\n              </td>\\n            </tr>\\n            \\x3c!-- ! ADMIN + UNMET NODE SELECTOR LABELS --\\x3e\\n            \\x3c!-- USER + UNMET NODE SELECTOR LABELS || UNMET NODE AFFINITIES --\\x3e\\n            <tr\\n              ng-if=\"!$ctrl.isAdmin && (item.UnmatchedNodeSelectorLabels.length || item.UnmatchedNodeAffinities.length)\"\\n              ng-show=\"item.Expanded\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td colspan=\"2\">\\n                Placement label not respected for that node.\\n              </td>\\n            </tr>\\n            \\x3c!-- ! USER + UNMET NODE SELECTOR LABELS || UNMET NODE AFFINITIES --\\x3e\\n            \\x3c!-- ADMIN + UNMET NODE AFFINITIES --\\x3e\\n            <tr\\n              ng-if=\"$ctrl.isAdmin\"\\n              ng-show=\"item.Expanded && item.UnmatchedNodeAffinities.length\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td colspan=\"2\">\\n                This application can only be scheduled on nodes respecting one of the following labels combination:\\n              </td>\\n            </tr>\\n            <tr\\n              dir-paginate-end\\n              ng-if=\"$ctrl.isAdmin\"\\n              ng-show=\"item.Expanded\"\\n              ng-repeat=\"aff in item.UnmatchedNodeAffinities\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td></td>\\n              <td>\\n                <code ng-repeat-start=\"term in aff track by $index\">\\n                  {{ term.key }} {{ term.operator }} {{ term.values | kubernetesApplicationConstraintNodeAffinityValue: term.operator }}\\n                </code>\\n                <span ng-repeat-end>{{ $last ? \\'\\' : \\' + \\' }}</span>\\n              </td>\\n            </tr>\\n            \\x3c!-- ! ADMIN + UNMET NODE AFFINITIES --\\x3e\\n            <tr ng-if=\"$ctrl.loading\">\\n              <td colspan=\"2\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.loading && (!$ctrl.dataset || $ctrl.state.filteredDataSet.length === 0)\">\\n              <td colspan=\"2\" class=\"text-center text-muted\">No node available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/kubernetes/views/applications/helm/helm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Helm details\" state=\"kubernetes.helm\" view-ready=\"$ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt; {{ $ctrl.state.params.name }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"$ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"$ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <div class=\"col-sm-12 form-section-title\">\\n        Information\\n      </div>\\n      <p class=\"text-muted\">\\n        <i class=\"fa fa-flask orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n        This is a first version for Helm charts, for more information see this\\n        <a href=\"https://www.portainer.io/blog/portainer-now-with-helm-support\" target=\"_blank\">blog post</a>.\\n      </p>\\n    </div>\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-dharmachakra\" title-text=\"Release\"></rd-widget-header>\\n        <rd-widget-body classes=\"no-padding\">\\n          <table class=\"table\">\\n            <tbody class=\"release-table\">\\n              <tr>\\n                <td>Name</td>\\n                <td>\\n                  {{ $ctrl.state.release.name }}\\n                </td>\\n              </tr>\\n              <tr>\\n                <td>Chart</td>\\n                <td>\\n                  {{ $ctrl.state.release.chart }}\\n                </td>\\n              </tr>\\n              <tr>\\n                <td>App version</td>\\n                <td>\\n                  {{ $ctrl.state.release.app_version }}\\n                </td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1672);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationLogsView\",{templateUrl:a,controller:\"KubernetesApplicationLogsController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/applications/logs/logs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Application logs\" state=\"kubernetes.applications.application.logs\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.application.ResourcePool })\">{{ ctrl.application.ResourcePool }}</a> &gt;\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt;\\n  <a ui-sref=\"kubernetes.applications.application({ name: ctrl.application.Name, namespace: ctrl.application.ResourcePool })\">{{ ctrl.application.Name }}</a> &gt; Pods &gt;\\n  {{ ctrl.podName }} &gt; Containers &gt; {{ ctrl.containerName }} &gt; Logs\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\" style=\"height: 100%;\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" autocomplete=\"off\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Actions\\n            </div>\\n            \\x3c!-- auto-refresh --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">\\n                  Auto-refresh\\n                  <portainer-tooltip position=\"bottom\" message=\"Automatically refresh logs every 5 seconds\"></portainer-tooltip>\\n                </label>\\n                <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"ctrl.state.autoRefresh\" ng-change=\"ctrl.updateAutoRefresh()\" /><i></i> </label>\\n              </div>\\n            </div>\\n            \\x3c!-- !auto-refresh --\\x3e\\n            \\x3c!-- search --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"logs_search\" class=\"col-sm-1 control-label text-left\">\\n                Search\\n              </label>\\n              <div class=\"col-sm-11\">\\n                <input\\n                  class=\"form-control\"\\n                  type=\"text\"\\n                  name=\"logs_search\"\\n                  ng-model=\"ctrl.state.search\"\\n                  ng-change=\"ctrl.state.selectedLines.length = 0;\"\\n                  placeholder=\"Filter...\"\\n                  auto-focus\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !search --\\x3e\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button class=\"btn btn-primary btn-sm\" type=\"button\" ng-click=\"ctrl.downloadLogs()\" style=\"margin-left: 0;\"><i class=\"fa fa-download\"></i> Download logs</button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" style=\"height: 54%;\">\\n    <div class=\"col-sm-12\" style=\"height: 100%;\">\\n      <pre\\n        class=\"log_viewer\"\\n      ><div ng-repeat=\"line in ctrl.state.filteredLogs = (ctrl.applicationLogs | filter:ctrl.state.search) track by $index\" class=\"line\" ng-if=\"line\"><p class=\"inner_line\">{{ line }}</p></div><div ng-if=\"ctrl.applicationLogs.length && !ctrl.state.filteredLogs.length\" class=\"line\"><p class=\"inner_line\">No log line matching the \\'{{ ctrl.state.search }}\\' filter</p></div><div ng-if=\"ctrl.applicationLogs.length === 0\" class=\"line\"><p class=\"inner_line\">No logs available</p></div></pre>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(34),i=n(1),s=n.n(i);class r{constructor(e,t,n,a,i,s,r,o){this.$async=e,this.$state=t,this.$interval=n,this.Notifications=a,this.KubernetesApplicationService=i,this.KubernetesPodService=s,this.Blob=r,this.FileSaver=o,this.onInit=this.onInit.bind(this),this.stopRepeater=this.stopRepeater.bind(this),this.getApplicationLogsAsync=this.getApplicationLogsAsync.bind(this)}updateAutoRefresh(){this.state.autoRefresh?this.setUpdateRepeater():this.stopRepeater()}stopRepeater(){s.a.isDefined(this.repeater)&&(this.$interval.cancel(this.repeater),this.repeater=null)}setUpdateRepeater(){this.repeater=this.$interval(this.getApplicationLogsAsync,this.state.refreshRate)}downloadLogs(){const e=new this.Blob([Object(a.a)(this.applicationLogs,(e,t)=>e+\"\\n\"+t,\"\")]);this.FileSaver.saveAs(e,this.podName+\"_logs.txt\")}async getApplicationLogsAsync(){try{this.applicationLogs=await this.KubernetesPodService.logs(this.application.ResourcePool,this.podName,this.containerName)}catch(e){this.stopRepeater(),this.Notifications.error(\"Failure\",e,\"Unable to retrieve application logs\")}}async onInit(){this.state={autoRefresh:!1,refreshRate:5e3,search:\"\",viewReady:!1};const e=this.$transition$.params().pod,t=this.$transition$.params().name,n=this.$transition$.params().namespace,a=this.$transition$.params().container;this.applicationLogs=[],this.podName=e,this.containerName=a;try{const[i,s]=await Promise.all([this.KubernetesApplicationService.get(n,t),this.KubernetesPodService.logs(n,e,a)]);this.application=i,this.applicationLogs=s}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application logs\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.stopRepeater()}}r.$inject=[\"$async\",\"$state\",\"$interval\",\"Notifications\",\"KubernetesApplicationService\",\"KubernetesPodService\",\"Blob\",\"FileSaver\"],t.default=r,s.a.module(\"portainer.kubernetes\").controller(\"KubernetesApplicationLogsController\",r)},function(e,t,n){const a=n(1675);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationStatsView\",{templateUrl:a,controller:\"KubernetesApplicationStatsController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/applications/stats/stats.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Application stats\" state=\"kubernetes.applications.application.stats\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.state.transition.namespace })\">{{ ctrl.state.transition.namespace }}</a> &gt;\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt;\\n  <a ui-sref=\"kubernetes.applications.application({ name: ctrl.state.transition.applicationName, namespace: ctrl.state.transition.namespace })\">{{\\n    ctrl.state.transition.applicationName\\n  }}</a>\\n  &gt; Pods &gt; {{ ctrl.state.transition.podName }} &gt; Containers &gt; {{ ctrl.state.transition.containerName }} &gt; Stats\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <information-panel ng-if=\"!ctrl.state.getMetrics\" title-text=\"Unable to retrieve container metrics\">\\n    <span class=\"small text-muted\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      Portainer was unable to retrieve any metrics associated to that container. Please contact your administrator to ensure that the Kubernetes metrics feature is properly\\n      configured.\\n    </span>\\n  </information-panel>\\n  <div class=\"row\" ng-if=\"ctrl.state.getMetrics\">\\n    <div class=\"col-md-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-info-circle\" title-text=\"About statistics\"> </rd-widget-header>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\">\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\">\\n                  This view displays real-time statistics about the container <b>{{ ctrl.state.transition.containerName | trimcontainername }}</b\\n                  >.\\n                </span>\\n              </div>\\n            </div>\\n            <div class=\"form-group\">\\n              <label for=\"refreshRate\" class=\"col-sm-3 col-md-2 col-lg-2 margin-sm-top control-label text-left\">\\n                Refresh rate\\n              </label>\\n              <div class=\"col-sm-3 col-md-2\">\\n                <select id=\"refreshRate\" ng-model=\"ctrl.state.refreshRate\" ng-change=\"ctrl.changeUpdateRepeater()\" class=\"form-control\">\\n                  <option value=\"30\">30s</option>\\n                  <option value=\"60\">60s</option>\\n                </select>\\n              </div>\\n              <span>\\n                <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n              </span>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"ctrl.state.networkStatsUnavailable\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\"> <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\"></i> Network stats are unavailable for this container. </span>\\n              </div>\\n            </div>\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-if=\"ctrl.state.getMetrics\">\\n    <div class=\"col-lg-6 col-md-12 col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-chart-area\" title-text=\"Memory usage\"></rd-widget-header>\\n        <rd-widget-body>\\n          <div class=\"chart-container\" style=\"position: relative;\">\\n            <canvas id=\"memoryChart\" width=\"770\" height=\"300\"></canvas>\\n          </div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n    <div class=\"col-lg-6 col-md-12 col-sm-12\" ng-if=\"!ctrl.state.networkStatsUnavailable\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-chart-area\" title-text=\"CPU usage\"></rd-widget-header>\\n        <rd-widget-body>\\n          <div class=\"chart-container\" style=\"position: relative;\">\\n            <canvas id=\"cpuChart\" width=\"770\" height=\"300\"></canvas>\\n          </div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),function(e){var a=n(5),i=n(1),s=n.n(i),r=n(17),o=n.n(r),l=n(56),c=n.n(l),d=n(20),u=n(170);class p{constructor(e,t,n,a,i,s,r,o,l){this.$async=e,this.$state=t,this.$interval=n,this.$document=a,this.Notifications=i,this.KubernetesPodService=s,this.KubernetesNodeService=r,this.KubernetesMetricsService=o,this.ChartService=l,this.onInit=this.onInit.bind(this)}changeUpdateRepeater(){var t=this.cpuChart,n=this.memoryChart;this.stopRepeater(),this.setUpdateRepeater(t,n),e(\"#refreshRateChange\").show(),e(\"#refreshRateChange\").fadeOut(1500)}updateCPUChart(){const e=o()(this.stats.read).format(\"HH:mm:ss\");this.ChartService.UpdateCPUChart(e,this.stats.CPUUsage,this.cpuChart)}updateMemoryChart(){const e=o()(this.stats.read).format(\"HH:mm:ss\");this.ChartService.UpdateMemoryChart(e,this.stats.MemoryUsage,this.stats.MemoryCache,this.memoryChart)}stopRepeater(){var e=this.repeater;s.a.isDefined(e)&&(this.$interval.cancel(e),e=void 0)}setUpdateRepeater(){const e=this.state.refreshRate;this.repeater=this.$interval(async()=>{try{await this.getStats(),this.updateCPUChart(),this.updateMemoryChart()}catch(e){this.stopRepeater(),this.Notifications.error(\"Failure\",e)}},1e3*e)}initCharts(){const t=e(\"#cpuChart\"),n=this.ChartService.CreateCPUChart(t);this.cpuChart=n;const a=e(\"#memoryChart\"),i=this.ChartService.CreateMemoryChart(a);this.memoryChart=i,this.updateCPUChart(),this.updateMemoryChart(),this.setUpdateRepeater()}getStats(){return this.$async(async()=>{try{const e=await this.KubernetesMetricsService.getPod(this.state.transition.namespace,this.state.transition.podName),t=Object(a.a)(e.containers,{name:this.state.transition.containerName});if(t){const n=c()(t.usage.memory),a=d.default.parseCPU(t.usage.cpu);this.stats={read:e.timestamp,preread:\"\",MemoryCache:0,MemoryUsage:n,NumProcs:\"\",isWindows:!1,PreviousCPUTotalUsage:0,CPUUsage:a/this.nodeCPU*100,CPUCores:0}}}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application stats\")}})}$onDestroy(){this.stopRepeater()}async onInit(){this.state={autoRefresh:!1,refreshRate:\"30\",viewReady:!1,transition:{podName:this.$transition$.params().pod,containerName:this.$transition$.params().container,namespace:this.$transition$.params().namespace,applicationName:this.$transition$.params().name},getMetrics:!1};try{await this.KubernetesMetricsService.getPod(this.state.transition.namespace,this.state.transition.podName)}catch(e){return this.state.getMetrics=!1,void(this.state.viewReady=!0)}try{const e=await this.KubernetesPodService.get(this.state.transition.namespace,this.state.transition.podName),t=u.default.apiToModel(e.Raw);if(!t)throw new Error(\"Unable to find pod\");{const e=await this.KubernetesNodeService.get(t.Node);this.nodeCPU=e.CPU}await this.getStats(),this.state.getMetrics=!0,this.$document.ready(()=>{this.initCharts()})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application stats\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}p.$inject=[\"$async\",\"$state\",\"$interval\",\"$document\",\"Notifications\",\"KubernetesPodService\",\"KubernetesNodeService\",\"KubernetesMetricsService\",\"ChartService\"],t.default=p,s.a.module(\"portainer.kubernetes\").controller(\"KubernetesApplicationStatsController\",p)}.call(this,n(50))},function(e,t,n){const a=n(1678);angular.module(\"portainer.kubernetes\").component(\"kubernetesClusterView\",{templateUrl:a,controller:\"KubernetesClusterController\",controllerAs:\"ctrl\",bindings:{endpoint:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/cluster/cluster.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Cluster\" state=\"kubernetes.cluster\" view-ready=\"ctrl.state.viewReady\">\\n  Cluster information\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\" ng-if=\"ctrl.isAdmin\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          \\x3c!-- resource-reservation --\\x3e\\n          <form class=\"form-horizontal\" ng-if=\"ctrl.resourceReservation\">\\n            <kubernetes-resource-reservation\\n              description=\"Resource reservation represents the total amount of resource assigned to all the applications inside the cluster.\"\\n              cpu-reservation=\"ctrl.resourceReservation.CPU\"\\n              cpu-limit=\"ctrl.CPULimit\"\\n              memory-reservation=\"ctrl.resourceReservation.Memory\"\\n              memory-limit=\"ctrl.MemoryLimit\"\\n              display-usage=\"ctrl.hasResourceUsageAccess()\"\\n              cpu-usage=\"ctrl.resourceUsage.CPU\"\\n              memory-usage=\"ctrl.resourceUsage.Memory\"\\n            >\\n            </kubernetes-resource-reservation>\\n          </form>\\n          \\x3c!-- !resource-reservation --\\x3e\\n\\n          \\x3c!-- leader-status --\\x3e\\n          <div ng-if=\"ctrl.systemEndpoints.length > 0\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Leader status\\n            </div>\\n\\n            <table class=\"table\">\\n              <tbody>\\n                <tr class=\"text-muted\">\\n                  <td style=\"border-top: none; width: 25%;\">Component</td>\\n                  <td style=\"border-top: none; width: 25%;\">Leader node</td>\\n                </tr>\\n                <tr ng-repeat=\"ep in ctrl.systemEndpoints\">\\n                  <td style=\"width: 25%;\">\\n                    {{ ep.Name }}\\n                  </td>\\n                  <td style=\"width: 25%;\">\\n                    {{ ep.HolderIdentity }}\\n                  </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n          </div>\\n          \\x3c!-- !leader-status --\\x3e\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-nodes-datatable\\n        title-text=\"Nodes\"\\n        title-icon=\"fa-hdd\"\\n        dataset=\"ctrl.nodes\"\\n        table-key=\"kubernetes.nodes\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.getNodes\"\\n        is-admin=\"ctrl.isAdmin\"\\n        use-server-metrics=\"ctrl.state.useServerMetrics\"\\n      ></kubernetes-nodes-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(34),i=n(16),s=n(7),r=n(2),o=n(75),l=n(5),c=n(6),d=n(1),u=n.n(d),p=n(56),m=n.n(p),g=n(20),h=n(137);class f{constructor(e,t,n,a,i,s,r,o,l){this.$async=e,this.$state=t,this.Authentication=n,this.Notifications=a,this.LocalStorage=i,this.KubernetesNodeService=s,this.KubernetesMetricsService=r,this.KubernetesApplicationService=o,this.KubernetesEndpointService=l,this.onInit=this.onInit.bind(this),this.getNodes=this.getNodes.bind(this),this.getNodesAsync=this.getNodesAsync.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.getEndpointsAsync=this.getEndpointsAsync.bind(this),this.hasResourceUsageAccess=this.hasResourceUsageAccess.bind(this)}async getEndpointsAsync(){try{const e=await this.KubernetesEndpointService.get(),t=Object(c.a)(e,{Namespace:\"kube-system\"});this.systemEndpoints=Object(c.a)(t,e=>e.HolderIdentity);const n=Object(l.a)(e,{Name:\"kubernetes\"});if(n&&n.Subsets){const e=Object(o.a)(Object(r.a)(n.Subsets,\"Ips\"));Object(s.a)(this.nodes,t=>{t.Api=Object(i.a)(e,t.IPAddress)})}}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environments\")}}getEndpoints(){return this.$async(this.getEndpointsAsync)}async getNodesAsync(){try{const e=await this.KubernetesNodeService.get();Object(s.a)(e,e=>e.Memory=m()(e.Memory)),this.nodes=e,this.CPULimit=Object(a.a)(this.nodes,(e,t)=>t.CPU+e,0),this.MemoryLimit=Object(a.a)(this.nodes,(e,t)=>g.default.megaBytesValue(t.Memory)+e,0)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve nodes\")}}getNodes(){return this.$async(this.getNodesAsync)}async getApplicationsAsync(){try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get();const e=Object(r.a)(this.nodes,e=>e.Name);this.resourceReservation=Object(a.a)(this.applications,(t,n)=>{n.Pods=Object(c.a)(n.Pods,t=>e.includes(t.Node));const a=g.default.computeResourceReservation(n.Pods);return t.CPU+=a.CPU,t.Memory+=a.Memory,t},new h.KubernetesResourceReservation),this.resourceReservation.Memory=g.default.megaBytesValue(this.resourceReservation.Memory),this.hasResourceUsageAccess()&&await this.getResourceUsage(this.endpoint.Id)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications\")}finally{this.state.applicationsLoading=!1}}getApplications(){return this.$async(this.getApplicationsAsync)}async getResourceUsage(e){try{const t=await this.KubernetesMetricsService.getNodes(e),n=t.items.map(e=>e.usage).reduce((e,t)=>(e.CPU+=g.default.parseCPU(t.cpu),e.Memory+=g.default.megaBytesValue(t.memory),e),new h.KubernetesResourceReservation);this.resourceUsage=n}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve cluster resource usage\")}}hasResourceUsageAccess(){return this.isAdmin&&this.state.useServerMetrics}async onInit(){this.isAdmin=this.Authentication.isAdmin();const e=this.endpoint.Kubernetes.Configuration.UseServerMetrics;this.state={applicationsLoading:!0,viewReady:!1,useServerMetrics:e},await this.getNodes(),this.isAdmin&&(await this.getEndpoints(),await this.getApplications()),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}f.$inject=[\"$async\",\"$state\",\"Authentication\",\"Notifications\",\"LocalStorage\",\"KubernetesNodeService\",\"KubernetesMetricsService\",\"KubernetesApplicationService\",\"KubernetesEndpointService\"],t.default=f,u.a.module(\"portainer.kubernetes\").controller(\"KubernetesClusterController\",f)},function(e,t,n){const a=n(1681);angular.module(\"portainer.kubernetes\").component(\"kubernetesNodeView\",{templateUrl:a,controller:\"KubernetesNodeController\",controllerAs:\"ctrl\",bindings:{endpoint:\"<\",$transition$:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/cluster/node/node.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Node details\" state=\"kubernetes.cluster.node\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.cluster\">Cluster</a> &gt; {{ ctrl.node.Name }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\">\\n              <uib-tab-heading> <i class=\"fa fa-hdd space-right\" aria-hidden=\"true\"></i> Node </uib-tab-heading>\\n\\n              <form class=\"form-horizontal\" name=\"kubernetesNodeUpdateForm\" style=\"padding: 20px;\" autocomplete=\"off\">\\n                <table class=\"table\">\\n                  <tbody ng-if=\"ctrl.node\">\\n                    <tr>\\n                      <td>Hostname</td>\\n                      <td>\\n                        {{ ctrl.node.Name }}\\n                        <span class=\"label label-primary image-tag\" style=\"margin-left: 5px;\" ng-if=\"ctrl.node.Api\">api</span>\\n                      </td>\\n                    </tr>\\n                    <tr ng-if=\"ctrl.node.Api\">\\n                      <td>\\n                        Kubernetes API\\n                      </td>\\n                      <td>{{ ctrl.node.IPAddress }}:{{ ctrl.node.Port }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Role</td>\\n                      <td>{{ ctrl.node.Role }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Kubelet version</td>\\n                      <td>{{ ctrl.node.Version }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Creation date</td>\\n                      <td>{{ ctrl.node.CreationDate | getisodate }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Status</td>\\n                      <td>\\n                        <span class=\"label label-{{ ctrl.node.Status | kubernetesNodeStatusColor }}\">\\n                          {{ ctrl.node.Status }}\\n                        </span>\\n                        <span ng-if=\"ctrl.node.Status == \\'Warning\\'\" class=\"text text-warning\">\\n                          {{ ctrl.node.Conditions | kubernetesNodeConditionsMessage }}\\n                        </span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td class=\"col-xs-3\">\\n                        Availability\\n                      </td>\\n                      <td class=\"col-xs-9\">\\n                        <select class=\"form-control\" name=\"availability\" style=\"display: inline-block; width: 16rem;\" ng-model=\"ctrl.formValues.Availability\">\\n                          <option>{{ ctrl.availabilities.ACTIVE }}</option>\\n                          <option>{{ ctrl.availabilities.PAUSE }}</option>\\n                          <option>{{ ctrl.availabilities.DRAIN }}</option>\\n                        </select>\\n                        <span class=\"small text-warning\" ng-if=\"ctrl.state.isDrainOperation && ctrl.formValues.Availability === ctrl.availabilities.DRAIN\">\\n                          <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                          Cannot use this action while another node is currently being drained.\\n                        </span>\\n                        <span class=\"small text-warning\" ng-if=\"ctrl.state.isContainPortainer && ctrl.formValues.Availability === ctrl.availabilities.DRAIN\">\\n                          <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                          Cannot drain a node where this Portainer instance is running.\\n                        </span>\\n                      </td>\\n                    </tr>\\n                  </tbody>\\n                </table>\\n\\n                <div style=\"padding: 8px;\">\\n                  <kubernetes-resource-reservation\\n                    ng-if=\"ctrl.resourceReservation\"\\n                    cpu-reservation=\"ctrl.resourceReservation.CPU\"\\n                    cpu-usage=\"ctrl.resourceUsage.CPU\"\\n                    cpu-limit=\"ctrl.node.CPU\"\\n                    memory-reservation=\"ctrl.resourceReservation.Memory\"\\n                    memory-usage=\"ctrl.resourceUsage.Memory\"\\n                    memory-limit=\"ctrl.memoryLimit\"\\n                    description=\"Resource reservation represents the total amount of resource assigned to all the applications running on this node.\"\\n                    display-usage=\"ctrl.hasResourceUsageAccess()\"\\n                  >\\n                  </kubernetes-resource-reservation>\\n                </div>\\n\\n                <div style=\"padding: 8px;\">\\n                  \\x3c!-- #region labels --\\x3e\\n                  <div class=\"col-sm-12 form-section-title\">\\n                    Labels\\n                  </div>\\n\\n                  <div style=\"margin-bottom: 10px;\">\\n                    <span class=\"label label-default interactive\" ng-click=\"ctrl.addLabel()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add label </span>\\n                  </div>\\n\\n                  <div class=\"form-inline\" ng-repeat=\"label in ctrl.formValues.Labels\" style=\"padding: 3px 0 3px 0;\">\\n                    <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: label.NeedsDeletion }\">\\n                      <span class=\"input-group-addon\">Key</span>\\n                      <input\\n                        type=\"text\"\\n                        class=\"form-control\"\\n                        name=\"label_key_{{ $index }}\"\\n                        ng-model=\"label.Key\"\\n                        ng-change=\"ctrl.onChangeLabelKey($index)\"\\n                        ng-disabled=\"ctrl.isSystemLabel($index)\"\\n                        required\\n                      />\\n                    </div>\\n                    <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: label.NeedsDeletion }\">\\n                      <span class=\"input-group-addon\">Value</span>\\n                      <input\\n                        type=\"text\"\\n                        class=\"form-control\"\\n                        name=\"label_value_{{ $index }}\"\\n                        ng-change=\"ctrl.onChangeLabel($index)\"\\n                        ng-model=\"label.Value\"\\n                        ng-disabled=\"ctrl.isSystemLabel($index)\"\\n                      />\\n                    </div>\\n                    <div class=\"input-group col-sm-1 input-group-sm\">\\n                      <div style=\"white-space: nowrap;\">\\n                        <button ng-if=\"!ctrl.isSystemLabel($index) && !label.NeedsDeletion\" class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"ctrl.removeLabel($index)\">\\n                          <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\\n                        </button>\\n                        <button ng-if=\"!ctrl.isSystemLabel($index) && label.NeedsDeletion\" class=\"btn btn-sm btn-primary\" type=\"button\" ng-click=\"ctrl.restoreLabel($index)\">\\n                          Restore\\n                        </button>\\n                        <span class=\"label label-warning label-sm image-tag\" ng-if=\"label.IsUsed && !ctrl.isSystemLabel($index)\" style=\"margin-left: 5px;\">used</span>\\n                        <span class=\"label label-info image-tag\" ng-if=\"ctrl.isSystemLabel($index)\" style=\"margin-left: 5px;\">system</span>\\n                      </div>\\n                    </div>\\n                    <div\\n                      class=\"small text-warning\"\\n                      style=\"margin-top: 5px;\"\\n                      ng-show=\"kubernetesNodeUpdateForm[\\'label_key_\\' + $index].$invalid || ctrl.state.duplicateLabelKeys[$index] !== undefined\"\\n                    >\\n                      <ng-messages for=\"kubernetesNodeUpdateForm[\\'label_key_\\' + $index].$error\">\\n                        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Label key is required.</p>\\n                      </ng-messages>\\n                      <p ng-if=\"ctrl.state.duplicateLabelKeys[$index] !== undefined\"\\n                        ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This label key is already defined.</p\\n                      >\\n                    </div>\\n                  </div>\\n\\n                  \\x3c!-- #endregion --\\x3e\\n\\n                  \\x3c!-- #region taints --\\x3e\\n\\n                  <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 20px;\">\\n                    Taints\\n                  </div>\\n\\n                  <div style=\"margin-bottom: 10px;\">\\n                    <span class=\"label label-default interactive\" ng-click=\"ctrl.addTaint()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add taint </span>\\n                  </div>\\n\\n                  <div class=\"form-inline\" ng-repeat=\"taint in ctrl.formValues.Taints\" style=\"padding: 3px 0 3px 0;\">\\n                    <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: taint.NeedsDeletion }\">\\n                      <span class=\"input-group-addon\">Key</span>\\n                      <input type=\"text\" class=\"form-control\" name=\"taint_key_{{ $index }}\" ng-model=\"taint.Key\" ng-change=\"ctrl.onChangeTaintKey($index)\" required />\\n                    </div>\\n                    <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: taint.NeedsDeletion }\">\\n                      <span class=\"input-group-addon\">Value</span>\\n                      <input type=\"text\" class=\"form-control\" name=\"taint_value_{{ $index }}\" ng-model=\"taint.Value\" ng-change=\"ctrl.onChangeTaint($index)\" />\\n                    </div>\\n                    <div class=\"input-group col-sm-3 input-group-sm\" ng-class=\"{ striked: taint.NeedsDeletion }\">\\n                      <span class=\"input-group-addon\">Effect</span>\\n                      <select\\n                        id=\"taint_effect_{{ $index }}\"\\n                        name=\"taint_effect_{{ $index }}\"\\n                        class=\"form-control\"\\n                        ng-model=\"taint.Effect\"\\n                        ng-change=\"ctrl.onChangeTaint($index)\"\\n                        ;\\n                        ng-options=\"effect as effect for effect in ctrl.availableEffects\"\\n                      ></select>\\n                    </div>\\n                    <div class=\"input-group col-sm-1 input-group-sm\">\\n                      <div>\\n                        <button ng-if=\"!taint.NeedsDeletion\" class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"ctrl.removeTaint($index)\">\\n                          <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\\n                        </button>\\n                        <button ng-if=\"taint.NeedsDeletion\" class=\"btn btn-sm btn-primary\" type=\"button\" ng-click=\"ctrl.restoreTaint($index)\">\\n                          Restore\\n                        </button>\\n                      </div>\\n                    </div>\\n                    <div\\n                      class=\"small text-warning\"\\n                      style=\"margin-top: 5px;\"\\n                      ng-show=\"kubernetesNodeUpdateForm[\\'taint_key_\\' + $index].$invalid || ctrl.state.duplicateTaintKeys[$index] !== undefined\"\\n                    >\\n                      <ng-messages for=\"kubernetesNodeUpdateForm[\\'taint_key_\\' + $index].$error\">\\n                        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Taint key is required.</p>\\n                      </ng-messages>\\n                      <p ng-if=\"ctrl.state.duplicateTaintKeys[$index] !== undefined\"\\n                        ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This taint key is already defined.</p\\n                      >\\n                    </div>\\n                  </div>\\n\\n                  \\x3c!-- #endregion --\\x3e\\n\\n                  \\x3c!-- #region actions --\\x3e\\n\\n                  <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 20px;\">\\n                    Actions\\n                  </div>\\n\\n                  <div class=\"form-group\">\\n                    <div class=\"col-sm-12\">\\n                      <button\\n                        class=\"btn btn-primary btn-sm\"\\n                        type=\"button\"\\n                        style=\"margin-left: 0;\"\\n                        ng-click=\"ctrl.updateNode()\"\\n                        ng-disabled=\"kubernetesNodeUpdateForm.$invalid || !ctrl.isFormValid()\"\\n                      >\\n                        Update node\\n                      </button>\\n                      <button class=\"btn btn-default btn-sm\" type=\"button\" ng-click=\"ctrl.resetFormValues()\" ng-disabled=\"ctrl.isNoChangesMade()\">\\n                        Cancel\\n                      </button>\\n                    </div>\\n                  </div>\\n\\n                  \\x3c!-- #endregion --\\x3e\\n                </div>\\n              </form>\\n            </uib-tab>\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\">\\n              <uib-tab-heading>\\n                <i class=\"fa fa-history space-right\" aria-hidden=\"true\"></i> Events\\n                <div ng-if=\"ctrl.hasEventWarnings()\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  {{ ctrl.state.eventWarningCount }} warning(s)\\n                </div>\\n              </uib-tab-heading>\\n              <kubernetes-events-datatable\\n                title-text=\"Events\"\\n                title-icon=\"fa-history\"\\n                dataset=\"ctrl.events\"\\n                table-key=\"kubernetes.node.events\"\\n                order-by=\"Date\"\\n                reverse-order=\"true\"\\n                loading=\"ctrl.state.eventsLoading\"\\n                refresh-callback=\"ctrl.getEvents\"\\n              >\\n              </kubernetes-events-datatable>\\n            </uib-tab>\\n            <uib-tab index=\"2\" ng-if=\"ctrl.node.Yaml\" select=\"ctrl.showEditor()\" classes=\"btn-sm\">\\n              <uib-tab-heading> <i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i> YAML </uib-tab-heading>\\n              <div style=\"padding-right: 25px;\" ng-if=\"ctrl.state.showEditorTab\">\\n                <kubernetes-yaml-inspector key=\"node-yaml\" data=\"ctrl.node.Yaml\"> </kubernetes-yaml-inspector>\\n              </div>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-if=\"ctrl.applications && ctrl.applications.length > 0\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-node-applications-datatable\\n        dataset=\"ctrl.applications\"\\n        table-key=\"kubernetes.node.applications\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.getApplications\"\\n        loading=\"ctrl.state.applicationsLoading\"\\n        title-text=\"Applications running on this node\"\\n        title-icon=\"fa-laptop-code\"\\n      >\\n      </kubernetes-node-applications-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(151),i=n(7),s=n(5),r=n(75),o=n(6),l=n(2),c=n(1),d=n.n(c),u=n(20),p=n(137),m=n(133),g=n(129),h=n(206),f=n(83),v=n(71),b=n(231);class y{constructor(e,t,n,a,i,s,r,o,l,c,d,u){this.$async=e,this.$state=t,this.Notifications=n,this.LocalStorage=a,this.ModalService=i,this.KubernetesNodeService=s,this.KubernetesEventService=r,this.KubernetesPodService=o,this.KubernetesApplicationService=l,this.KubernetesEndpointService=c,this.KubernetesMetricsService=d,this.Authentication=u,this.onInit=this.onInit.bind(this),this.getNodesAsync=this.getNodesAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.getEndpointsAsync=this.getEndpointsAsync.bind(this),this.updateNodeAsync=this.updateNodeAsync.bind(this),this.drainNodeAsync=this.drainNodeAsync.bind(this),this.hasResourceUsageAccess=this.hasResourceUsageAccess.bind(this),this.getNodeUsageAsync=this.getNodeUsageAsync.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab(\"node\",e)}onChangeTaintKey(e){this.state.duplicateTaintKeys=v.default.getDuplicates(Object(l.a)(this.formValues.Taints,e=>{if(!e.NeedsDeletion)return e.Key})),this.state.hasDuplicateTaintKeys=Object.keys(this.state.duplicateTaintKeys).length>0,this.onChangeTaint(e)}onChangeTaint(e){this.formValues.Taints[e]&&(this.formValues.Taints[e].IsChanged=!0)}addTaint(){const e=new h.KubernetesNodeTaintFormValues;e.IsNew=!0,e.Effect=f.KubernetesNodeTaintEffects.NOSCHEDULE,this.formValues.Taints.push(e)}removeTaint(e){const t=this.formValues.Taints[e];t.IsNew?this.formValues.Taints.splice(e,1):t.NeedsDeletion=!0,this.onChangeTaintKey()}restoreTaint(e){this.formValues.Taints[e].NeedsDeletion=!1,this.onChangeTaintKey()}computeTaintsWarning(){return Object(o.a)(this.formValues.Taints,e=>e.Effect===f.KubernetesNodeTaintEffects.NOEXECUTE&&(e.IsNew||e.IsChanged)).length}onChangeLabelKey(e){this.state.duplicateLabelKeys=v.default.getDuplicates(Object(l.a)(this.formValues.Labels,e=>{if(!e.NeedsDeletion)return e.Key})),this.state.hasDuplicateLabelKeys=Object.keys(this.state.duplicateLabelKeys).length>0,this.onChangeLabel(e)}onChangeLabel(e){this.formValues.Labels[e]&&(this.formValues.Labels[e].IsChanged=!0)}addLabel(){const e=new h.KubernetesNodeLabelFormValues;e.IsNew=!0,this.formValues.Labels.push(e)}removeLabel(e){const t=this.formValues.Labels[e];t.IsNew?this.formValues.Labels.splice(e,1):t.NeedsDeletion=!0,this.onChangeLabelKey()}restoreLabel(e){this.formValues.Labels[e].NeedsDeletion=!1,this.onChangeLabelKey()}isSystemLabel(e){return b.KubernetesNodeHelper.isSystemLabel(this.formValues.Labels[e])}computeLabelsWarning(){return Object(o.a)(this.formValues.Labels,e=>e.IsUsed&&(e.NeedsDeletion||e.IsChanged)).length}computeCordonWarning(){return this.formValues.Availability===this.availabilities.PAUSE}computeDrainWarning(){return this.formValues.Availability===this.availabilities.DRAIN}async drainNodeAsync(){const e=Object(r.a)(Object(l.a)(this.applications,e=>e.Pods));let t=e.length;for(const n of e)try{await this.KubernetesPodService.eviction(n),this.Notifications.success(\"Pod successfully evicted\",n.Name)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to evict pod\"),this.formValues.Availability=this.availabilities.PAUSE,await this.KubernetesNodeService.patch(this.node,this.formValues)}finally{--t,0===t&&(this.formValues.Availability=this.availabilities.PAUSE,await this.KubernetesNodeService.patch(this.node,this.formValues))}}drainNode(){return this.$async(this.drainNodeAsync)}isNoChangesMade(){const e=g.default.formValuesToNode(this.node,this.formValues);return!g.default.patchPayload(this.node,e).length}isDrainError(){return(this.state.isDrainOperation||this.state.isContainPortainer)&&this.formValues.Availability===this.availabilities.DRAIN}isFormValid(){return!(this.state.hasDuplicateTaintKeys||this.state.hasDuplicateLabelKeys||this.isNoChangesMade()||this.isDrainError())}resetFormValues(){this.formValues=g.default.nodeToFormValues(this.node)}async getEndpointsAsync(){try{const e=await this.KubernetesEndpointService.get();this.endpoint=Object(s.a)(e,{Name:\"kubernetes\"}),this.endpoint&&this.endpoint.Subsets&&Object(i.a)(this.endpoint.Subsets,e=>Object(i.a)(e.Ips,t=>{if(t===this.node.IPAddress)return this.node.Api=!0,this.node.Port=e.Port,!1}))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environments\")}}getEndpoints(){return this.$async(this.getEndpointsAsync)}async updateNodeAsync(){try{this.node=await this.KubernetesNodeService.patch(this.node,this.formValues),\"Drain\"===this.formValues.Availability&&await this.drainNode(),this.Notifications.success(\"Node updated successfully\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update node\")}}updateNode(){const e=this.computeTaintsWarning(),t=this.computeLabelsWarning(),n=this.computeCordonWarning(),a=this.computeDrainWarning();if(e&&!t)this.ModalService.confirmUpdate(\"Changes to taints will immediately deschedule applications running on this node without the corresponding tolerations. Do you wish to continue?\",e=>{if(e)return this.$async(this.updateNodeAsync)});else if(!e&&t)this.ModalService.confirmUpdate(\"Removing or changing a label that is used might prevent applications from being scheduled on this node in the future. Do you wish to continue?\",e=>{if(e)return this.$async(this.updateNodeAsync)});else if(e&&t)this.ModalService.confirmUpdate(\"Changes to taints will immediately deschedule applications running on this node without the corresponding tolerations.<br/></br/>Removing or changing a label that is used might prevent applications from scheduling on this node in the future.\\n\\nDo you wish to continue?\",e=>{if(e)return this.$async(this.updateNodeAsync)});else if(n)this.ModalService.confirmUpdate(\"Marking this node as unschedulable will effectively cordon the node and prevent any new workload from being scheduled on that node. Are you sure?\",e=>{if(e)return this.$async(this.updateNodeAsync)});else{if(!a)return this.$async(this.updateNodeAsync);this.ModalService.confirmUpdate(\"Draining this node will cause all workloads to be evicted from that node. This might lead to some service interruption. Are you sure?\",e=>{if(e)return this.$async(this.updateNodeAsync)})}}async getNodesAsync(){try{this.state.dataLoading=!0;const e=this.$transition$.params().name;this.nodes=await this.KubernetesNodeService.get(),this.node=Object(s.a)(this.nodes,{Name:e}),this.state.isDrainOperation=Object(s.a)(this.nodes,{Availability:this.availabilities.DRAIN})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve node\")}finally{this.state.dataLoading=!1}}getNodes(){return this.$async(this.getNodesAsync)}hasResourceUsageAccess(){return this.state.isAdmin&&this.state.useServerMetrics}async getNodeUsageAsync(){try{const e=this.$transition$.params().name,t=await this.KubernetesMetricsService.getNode(e);this.resourceUsage=new p.KubernetesResourceReservation,this.resourceUsage.CPU=u.default.parseCPU(t.usage.cpu),this.resourceUsage.Memory=u.default.megaBytesValue(t.usage.memory)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve node resource usage\")}}getNodeUsage(){return this.$async(this.getNodeUsageAsync)}hasEventWarnings(){return this.state.eventWarningCount}async getEventsAsync(){try{this.state.eventsLoading=!0;const e=await this.KubernetesEventService.get();this.events=e.filter(e=>\"Node\"===e.Involved.kind),this.state.eventWarningCount=m.default.warningCount(this.events)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve node events\")}finally{this.state.eventsLoading=!1}}getEvents(){return this.$async(this.getEventsAsync)}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}async getApplicationsAsync(){try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get(),this.resourceReservation=new p.KubernetesResourceReservation,this.applications=Object(l.a)(this.applications,e=>(e.Pods=Object(o.a)(e.Pods,e=>e.Node===this.node.Name),e)),this.applications=Object(o.a)(this.applications,e=>0!==e.Pods.length),this.applications=Object(l.a)(this.applications,e=>{const t=u.default.computeResourceReservation(e.Pods);return e.CPU=t.CPU,e.Memory=t.Memory,this.resourceReservation.CPU+=t.CPU,this.resourceReservation.Memory+=t.Memory,e}),this.resourceReservation.Memory=u.default.megaBytesValue(this.resourceReservation.Memory),this.memoryLimit=u.default.megaBytesValue(this.node.Memory),this.state.isContainPortainer=Object(s.a)(this.applications,{ApplicationName:\"portainer\"}),this.hasResourceUsageAccess()&&await this.getNodeUsage()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications\")}finally{this.state.applicationsLoading=!1}}getApplications(){return this.$async(this.getApplicationsAsync)}async onInit(){this.availabilities=f.KubernetesNodeAvailabilities,this.state={isAdmin:this.Authentication.isAdmin(),activeTab:this.LocalStorage.getActiveTab(\"node\"),currentName:this.$state.$current.name,dataLoading:!0,eventsLoading:!0,applicationsLoading:!0,showEditorTab:!1,viewReady:!1,eventWarningCount:0,duplicateTaintKeys:[],hasDuplicateTaintKeys:!1,duplicateLabelKeys:[],hasDuplicateLabelKeys:!1,isDrainOperation:!1,isContainPortainer:!1,useServerMetrics:this.endpoint.Kubernetes.Configuration.UseServerMetrics},await this.getNodes(),await this.getEvents(),await this.getApplications(),await this.getEndpoints(),this.availableEffects=Object(a.a)(f.KubernetesNodeTaintEffects),this.formValues=g.default.nodeToFormValues(this.node),this.formValues.Labels=b.KubernetesNodeHelper.computeUsedLabels(this.applications,this.formValues.Labels),this.formValues.Labels=b.KubernetesNodeHelper.reorderLabels(this.formValues.Labels),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"node\",0)}}y.$inject=[\"$async\",\"$state\",\"Notifications\",\"LocalStorage\",\"ModalService\",\"KubernetesNodeService\",\"KubernetesEventService\",\"KubernetesPodService\",\"KubernetesApplicationService\",\"KubernetesEndpointService\",\"KubernetesMetricsService\",\"Authentication\"],t.default=y,d.a.module(\"portainer.kubernetes\").controller(\"KubernetesNodeController\",y)},function(e,t,n){const a=n(1684);angular.module(\"portainer.kubernetes\").component(\"kubernetesNodeStatsView\",{templateUrl:a,controller:\"KubernetesNodeStatsController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/cluster/node/stats/stats.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Node stats\" state=\"kubernetes.cluster.node.stats\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.cluster\">Cluster</a> &gt; <a ui-sref=\"kubernetes.cluster.node({name: ctrl.state.transition.nodeName})\"> {{ ctrl.state.transition.nodeName }} </a> >\\n  {{ ctrl.state.transition.nodeName }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <information-panel ng-if=\"!ctrl.state.getMetrics\" title-text=\"Unable to retrieve node metrics\">\\n    <span class=\"small text-muted\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      Portainer was unable to retrieve any metrics associated to that node. Please contact your administrator to ensure that the Kubernetes metrics feature is properly configured.\\n    </span>\\n  </information-panel>\\n  <div class=\"row\" ng-if=\"ctrl.state.getMetrics\">\\n    <div class=\"col-md-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-info-circle\" title-text=\"About statistics\"> </rd-widget-header>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\">\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <span class=\"small text-muted\">\\n                  This view displays real-time statistics about the node <b>{{ ctrl.state.transition.nodeName }}</b\\n                  >.\\n                </span>\\n              </div>\\n            </div>\\n            <div class=\"form-group\">\\n              <label for=\"refreshRate\" class=\"col-sm-3 col-md-2 col-lg-2 margin-sm-top control-label text-left\">\\n                Refresh rate\\n              </label>\\n              <div class=\"col-sm-3 col-md-2\">\\n                <select id=\"refreshRate\" ng-model=\"ctrl.state.refreshRate\" ng-change=\"ctrl.changeUpdateRepeater()\" class=\"form-control\">\\n                  <option value=\"30\">30s</option>\\n                  <option value=\"60\">60s</option>\\n                </select>\\n              </div>\\n              <span>\\n                <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n              </span>\\n            </div>\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-show=\"ctrl.state.getMetrics\">\\n    <div class=\"col-lg-6 col-md-12 col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-chart-area\" title-text=\"Memory usage\"></rd-widget-header>\\n        <rd-widget-body>\\n          <div class=\"chart-node\" style=\"position: relative;\">\\n            <canvas id=\"memoryChart\" width=\"770\" height=\"300\"></canvas>\\n          </div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n    <div class=\"col-lg-6 col-md-12 col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-chart-area\" title-text=\"CPU usage\"></rd-widget-header>\\n        <rd-widget-body>\\n          <div class=\"chart-node\" style=\"position: relative;\">\\n            <canvas id=\"cpuChart\" width=\"770\" height=\"300\"></canvas>\\n          </div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),function(e){var a=n(1),i=n.n(a),s=n(17),r=n.n(s),o=n(56),l=n.n(o),c=n(20),d=n(103);class u{constructor(e,t,n,a,i,s,r,o){this.$async=e,this.$state=t,this.$interval=n,this.$document=a,this.Notifications=i,this.KubernetesNodeService=s,this.KubernetesMetricsService=r,this.ChartService=o,this.onInit=this.onInit.bind(this)}changeUpdateRepeater(){var t=this.cpuChart,n=this.memoryChart;this.stopRepeater(),this.setUpdateRepeater(t,n),e(\"#refreshRateChange\").show(),e(\"#refreshRateChange\").fadeOut(d.PORTAINER_FADEOUT)}updateCPUChart(){const e=r()(this.stats.read).format(\"HH:mm:ss\");this.ChartService.UpdateCPUChart(e,this.stats.CPUUsage,this.cpuChart)}updateMemoryChart(){const e=r()(this.stats.read).format(\"HH:mm:ss\");this.ChartService.UpdateMemoryChart(e,this.stats.MemoryUsage,0,this.memoryChart)}stopRepeater(){var e=this.repeater;i.a.isDefined(e)&&(this.$interval.cancel(e),this.repeater=void 0)}setUpdateRepeater(){const e=this.state.refreshRate;this.repeater=this.$interval(async()=>{try{await this.getStats(),this.updateCPUChart(),this.updateMemoryChart()}catch(e){this.stopRepeater(),this.Notifications.error(\"Failure\",e)}},1e3*e)}initCharts(){const t=e(\"#cpuChart\"),n=this.ChartService.CreateCPUChart(t);this.cpuChart=n;const a=e(\"#memoryChart\"),i=this.ChartService.CreateMemoryChart(a);this.memoryChart=i,this.updateCPUChart(),this.updateMemoryChart(),this.setUpdateRepeater()}getStats(){return this.$async(async()=>{try{const e=await this.KubernetesMetricsService.getNode(this.state.transition.nodeName);if(e){const t=l()(e.usage.memory),n=c.default.parseCPU(e.usage.cpu);this.stats={read:e.creationTimestamp,MemoryUsage:t,CPUUsage:n/this.nodeCPU*100}}}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve node stats\")}})}$onDestroy(){this.stopRepeater()}async onInit(){this.state={autoRefresh:!1,refreshRate:\"30\",viewReady:!1,transition:{nodeName:this.$transition$.params().name},getMetrics:!0};try{if(await this.KubernetesMetricsService.getNode(this.state.transition.nodeName)){const e=await this.KubernetesNodeService.get(this.state.transition.nodeName);this.nodeCPU=e.CPU||1,await this.getStats(),this.state.getMetrics&&this.$document.ready(()=>{this.initCharts()})}else this.state.getMetrics=!1}catch(e){this.state.getMetrics=!1,this.Notifications.error(\"Failure\",e,\"Unable to retrieve node stats\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}u.$inject=[\"$async\",\"$state\",\"$interval\",\"$document\",\"Notifications\",\"KubernetesNodeService\",\"KubernetesMetricsService\",\"ChartService\"],t.default=u,i.a.module(\"portainer.kubernetes\").controller(\"KubernetesNodeStatsController\",u)}.call(this,n(50))},function(e,t,n){const a=n(1687);angular.module(\"portainer.kubernetes\").component(\"kubernetesConfigurationsView\",{templateUrl:a,controller:\"KubernetesConfigurationsController\",controllerAs:\"ctrl\"})},function(e,t){var n=\"app/kubernetes/views/configurations/configurations.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"ConfigMaps & Secrets list\" state=\"kubernetes.configurations\" view-ready=\"ctrl.state.viewReady\">\\n  ConfigMaps & Secrets\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-configurations-datatable\\n        dataset=\"ctrl.configurations\"\\n        table-key=\"kubernetes.configurations\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.refreshCallback\"\\n        remove-action=\"ctrl.removeAction\"\\n      ></kubernetes-configurations-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(80);class r{constructor(e,t,n,a,i,s,r){this.$async=e,this.$state=t,this.Notifications=n,this.Authentication=a,this.KubernetesConfigurationService=i,this.KubernetesApplicationService=s,this.ModalService=r,this.onInit=this.onInit.bind(this),this.getConfigurations=this.getConfigurations.bind(this),this.getConfigurationsAsync=this.getConfigurationsAsync.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this),this.refreshCallback=this.refreshCallback.bind(this),this.refreshCallbackAsync=this.refreshCallbackAsync.bind(this)}async getConfigurationsAsync(){try{this.state.configurationsLoading=!0,this.configurations=await this.KubernetesConfigurationService.get(),s.default.setConfigurationsUsed(this.configurations,this.applications)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve configurations\")}finally{this.state.configurationsLoading=!1}}getConfigurations(){return this.$async(this.getConfigurationsAsync)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.KubernetesConfigurationService.delete(n),this.Notifications.success(\"Configurations successfully removed\",n.Name);const e=this.configurations.indexOf(n);this.configurations.splice(e,1)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove configuration\")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion(\"Do you want to remove the selected configuration(s)?\",t=>{if(t)return this.$async(this.removeActionAsync,e)})}async getApplicationsAsync(){try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications\")}finally{this.state.applicationsLoading=!1}}getApplications(){return this.$async(this.getApplicationsAsync)}async refreshCallbackAsync(){await this.getConfigurations(),await this.getApplications()}refreshCallback(){return this.$async(this.refreshCallbackAsync)}async onInit(){this.state={configurationsLoading:!0,applicationsLoading:!0,viewReady:!1,isAdmin:this.Authentication.isAdmin()},await this.getApplications(),await this.getConfigurations(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}r.$inject=[\"$async\",\"$state\",\"Notifications\",\"Authentication\",\"KubernetesConfigurationService\",\"KubernetesApplicationService\",\"ModalService\"],t.default=r,i.a.module(\"portainer.kubernetes\").controller(\"KubernetesConfigurationsController\",r)},function(e,t,n){const a=n(1690);angular.module(\"portainer.kubernetes\").component(\"kubernetesCreateConfigurationView\",{templateUrl:a,controller:\"KubernetesCreateConfigurationController\",controllerAs:\"ctrl\"})},function(e,t){var n=\"app/kubernetes/views/configurations/create/createConfiguration.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Create configuration\" state=\"kubernetes.configurations.new\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.configurations\">ConfigMaps and Secrets</a> &gt; Create a configuration\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-xs-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" name=\"kubernetesConfigurationCreationForm\" autocomplete=\"off\">\\n            \\x3c!-- name --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"configuration_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n              <div class=\"col-sm-11\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"configuration_name\"\\n                  ng-model=\"ctrl.formValues.Name\"\\n                  ng-pattern=\"/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/\"\\n                  ng-change=\"ctrl.onChangeName()\"\\n                  placeholder=\"my-configuration\"\\n                  auto-focus\\n                  required\\n                  data-cy=\"k8sConfigCreate-nameInput\"\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"kubernetesConfigurationCreationForm.configuration_name.$invalid || ctrl.state.alreadyExist\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"kubernetesConfigurationCreationForm.configuration_name.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                  <p ng-message=\"pattern\"\\n                    ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field must consist of lower case alphanumeric characters, \\'-\\' or \\'.\\', and must start and end\\n                    with an alphanumeric character.</p\\n                  >\\n                </div>\\n                <p ng-if=\"ctrl.state.alreadyExist\"\\n                  ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A configuration with the same name already exists inside the selected namespace.</p\\n                >\\n              </div>\\n            </div>\\n            \\x3c!-- !name --\\x3e\\n\\n            <div class=\"col-sm-12 form-section-title\">\\n              Namespace\\n            </div>\\n\\n            \\x3c!-- resource-pool --\\x3e\\n            <div class=\"form-group\" ng-if=\"ctrl.formValues.ResourcePool\">\\n              <label for=\"resource-pool-selector\" class=\"col-sm-1 control-label text-left\">Namespace</label>\\n              <div class=\"col-sm-11\">\\n                <select\\n                  class=\"form-control\"\\n                  id=\"resource-pool-selector\"\\n                  ng-model=\"ctrl.formValues.ResourcePool\"\\n                  ng-options=\"resourcePool.Namespace.Name for resourcePool in ctrl.resourcePools\"\\n                  ng-change=\"ctrl.onResourcePoolSelectionChange()\"\\n                  data-cy=\"k8sConfigCreate-namespaceDropdown\"\\n                ></select>\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"ctrl.state.resourcePoolHasQuota && ctrl.resourceQuotaCapacityExceeded()\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <i class=\"fa fa-exclamation-triangle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                This namespace has exhausted its resource capacity and you will not be able to deploy the configuration. Contact your administrator to expand the capacity of the\\n                namespace.\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"!ctrl.formValues.ResourcePool\">\\n              <div class=\"col-sm-12 small text-muted\">\\n                <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                You do not have access to any namespace. Contact your administrator to get access to a namespace.\\n              </div>\\n            </div>\\n            \\x3c!-- !resource-pool --\\x3e\\n            <div ng-if=\"ctrl.formValues.ResourcePool\">\\n              <div class=\"col-sm-12 form-section-title\">\\n                Configuration type\\n              </div>\\n\\n              <div class=\"form-group\">\\n                <div class=\"col-sm-12 small text-muted\">\\n                  Select the type of data that you want to save in the configuration.\\n                </div>\\n              </div>\\n\\n              \\x3c!-- type options --\\x3e\\n              <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n                <div class=\"boxselector_wrapper\">\\n                  <div>\\n                    <input type=\"radio\" id=\"type_basic\" ng-value=\"ctrl.KubernetesConfigurationTypes.CONFIGMAP\" ng-model=\"ctrl.formValues.Type\" />\\n                    <label for=\"type_basic\" data-cy=\"k8sConfigCreate-nonSensitiveButton\">\\n                      <div class=\"boxselector_header\">\\n                        <i class=\"fa fa-file-code\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                        ConfigMap\\n                      </div>\\n                      <p>This configuration holds non-sensitive information</p>\\n                    </label>\\n                  </div>\\n                  <div>\\n                    <input type=\"radio\" id=\"type_secret\" ng-value=\"ctrl.KubernetesConfigurationTypes.SECRET\" ng-model=\"ctrl.formValues.Type\" />\\n                    <label for=\"type_secret\" data-cy=\"k8sConfigCreate-sensitiveButton\">\\n                      <div class=\"boxselector_header\">\\n                        <i class=\"fa fa-user-secret\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                        Secret\\n                      </div>\\n                      <p>This configuration holds sensitive information</p>\\n                    </label>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- !type options --\\x3e\\n\\n              <div class=\"col-sm-12 form-section-title\" ng-if=\"ctrl.formValues.Type == ctrl.KubernetesConfigurationTypes.SECRET\">\\n                Information\\n              </div>\\n              <div class=\"form-group\" ng-if=\"ctrl.formValues.Type == ctrl.KubernetesConfigurationTypes.SECRET\">\\n                <div class=\"col-sm-12 small text-muted\">\\n                  Creating a sensitive configuration will create a Kubernetes Secret of type <code>Opaque</code>. You can find more information about this in the\\n                  <a href=\"https://kubernetes.io/docs/concepts/configuration/secret/#secret-types\" target=\"_blank\">official documentation</a>.\\n                </div>\\n              </div>\\n\\n              <kubernetes-configuration-data\\n                ng-if=\"ctrl.formValues\"\\n                form-values=\"ctrl.formValues\"\\n                is-valid=\"ctrl.state.isDataValid\"\\n                is-creation=\"true\"\\n                is-editor-dirty=\"ctrl.state.isEditorDirty\"\\n              ></kubernetes-configuration-data>\\n\\n              \\x3c!-- summary --\\x3e\\n              <kubernetes-summary-view\\n                ng-if=\"!(!kubernetesConfigurationCreationForm.$valid || !ctrl.isFormValid() || ctrl.state.actionInProgress)\"\\n                form-values=\"ctrl.formValues\"\\n              ></kubernetes-summary-view>\\n            </div>\\n\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 10px;\">\\n              Actions\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"!kubernetesConfigurationCreationForm.$valid || !ctrl.isFormValid() || ctrl.state.actionInProgress || !ctrl.formValues.ResourcePool\"\\n                  ng-click=\"ctrl.createConfiguration()\"\\n                  button-spinner=\"ctrl.state.actionInProgress\"\\n                  data-cy=\"k8sConfigCreate-CreateConfigButton\"\\n                >\\n                  <span ng-hide=\"ctrl.state.actionInProgress\">Create {{ ctrl.formValues.Type | kubernetesConfigurationTypeText }}</span>\\n                  <span ng-show=\"ctrl.state.actionInProgress\">Creation in progress...</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(5),i=n(6),s=n(1),r=n.n(s),o=n(86),l=n(25),c=n(80),d=n(27);class u{constructor(e,t,n,a,i,s,r,o){this.$async=e,this.$state=t,this.$window=n,this.ModalService=a,this.Notifications=i,this.Authentication=s,this.KubernetesConfigurationService=r,this.KubernetesResourcePoolService=o,this.KubernetesConfigurationTypes=l.KubernetesConfigurationTypes,this.onInit=this.onInit.bind(this),this.createConfigurationAsync=this.createConfigurationAsync.bind(this),this.getConfigurationsAsync=this.getConfigurationsAsync.bind(this)}onChangeName(){const e=Object(i.a)(this.configurations,e=>e.Namespace===this.formValues.ResourcePool.Namespace.Name);this.state.alreadyExist=void 0!==Object(a.a)(e,e=>e.Name===this.formValues.Name)}onResourcePoolSelectionChange(){this.onChangeName()}isFormValid(){const e=!this.state.alreadyExist&&this.state.isDataValid;return this.formValues.IsSimple?this.formValues.Data.length>0&&e:e}async createConfigurationAsync(){try{this.state.actionInProgress=!0,this.formValues.ConfigurationOwner=this.Authentication.getUserDetails().username,this.formValues.IsSimple||(this.formValues.Data=c.default.parseYaml(this.formValues)),await this.KubernetesConfigurationService.create(this.formValues),this.Notifications.success(\"Configuration succesfully created\"),this.state.isEditorDirty=!1,this.$state.go(\"kubernetes.configurations\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create configuration\")}finally{this.state.actionInProgress=!1}}createConfiguration(){return this.$async(this.createConfigurationAsync)}async getConfigurationsAsync(){try{this.configurations=await this.KubernetesConfigurationService.get()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve configurations\")}}getConfigurations(){return this.$async(this.getConfigurationsAsync)}async uiCanExit(){if(!this.formValues.IsSimple&&this.formValues.DataYaml&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async onInit(){this.state={actionInProgress:!1,viewReady:!1,alreadyExist:!1,isDataValid:!0,isEditorDirty:!1},this.formValues=new o.KubernetesConfigurationFormValues,this.formValues.Data.push(new o.KubernetesConfigurationFormValuesEntry);try{const e=await this.KubernetesResourcePoolService.get();this.resourcePools=Object(i.a)(e,e=>!d.default.isSystemNamespace(e.Namespace.Name)),this.formValues.ResourcePool=this.resourcePools[0],await this.getConfigurations()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load view data\")}finally{this.state.viewReady=!0}this.$window.onbeforeunload=()=>{if(!this.formValues.IsSimple&&this.formValues.DataYaml&&this.state.isEditorDirty)return\"\"}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.isEditorDirty=!1}}u.$inject=[\"$async\",\"$state\",\"$window\",\"ModalService\",\"Notifications\",\"Authentication\",\"KubernetesConfigurationService\",\"KubernetesResourcePoolService\"],t.default=u,r.a.module(\"portainer.kubernetes\").controller(\"KubernetesCreateConfigurationController\",u)},function(e,t,n){const a=n(1693);angular.module(\"portainer.kubernetes\").component(\"kubernetesConfigurationView\",{templateUrl:a,controller:\"KubernetesConfigurationController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/configurations/edit/configuration.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Configuration details\" state=\"kubernetes.configurations.configuration\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.configuration.Namespace })\">{{ ctrl.configuration.Namespace }}</a> &gt;\\n  <a ui-sref=\"kubernetes.configurations\">ConfigMaps and Secrets</a> &gt; {{ ctrl.configuration.Name }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\" data-cy=\"k8sConfigDetail-configTab\">\\n              <uib-tab-heading> <i class=\"fa fa-file-code space-right\" aria-hidden=\"true\"></i> Configuration </uib-tab-heading>\\n              <div style=\"padding: 20px;\">\\n                <table class=\"table\" data-cy=\"k8sConfigDetail-configTable\">\\n                  <tbody>\\n                    <tr>\\n                      <td>Name</td>\\n                      <td>\\n                        {{ ctrl.configuration.Name }}\\n                        <span style=\"margin-left: 5px;\" class=\"label label-info image-tag\" ng-if=\"ctrl.configuration.IsRegistrySecret\">system</span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Namespace</td>\\n                      <td>\\n                        <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.configuration.Namespace })\">{{ ctrl.configuration.Namespace }}</a>\\n                        <span style=\"margin-left: 5px;\" class=\"label label-info image-tag\" ng-if=\"ctrl.isSystemNamespace()\">system</span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Configuration type</td>\\n                      <td>\\n                        {{ ctrl.configuration.Type | kubernetesConfigurationTypeText }}\\n                      </td>\\n                    </tr>\\n                  </tbody>\\n                </table>\\n              </div>\\n            </uib-tab>\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\" data-cy=\"k8sConfigDetail-eventsTab\">\\n              <uib-tab-heading>\\n                <i class=\"fa fa-history space-right\" aria-hidden=\"true\"></i> Events\\n                <div ng-if=\"ctrl.hasEventWarnings()\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  {{ ctrl.state.eventWarningCount }} warning(s)\\n                </div>\\n              </uib-tab-heading>\\n              <kubernetes-events-datatable\\n                title-text=\"Events\"\\n                title-icon=\"fa-history\"\\n                dataset=\"ctrl.events\"\\n                table-key=\"kubernetes.configuration.events\"\\n                order-by=\"Date\"\\n                reverse-order=\"true\"\\n                loading=\"ctrl.state.eventsLoading\"\\n                refresh-callback=\"ctrl.getEvents\"\\n              >\\n              </kubernetes-events-datatable>\\n            </uib-tab>\\n            <uib-tab index=\"2\" ng-if=\"ctrl.configuration.Yaml\" classes=\"btn-sm\" select=\"ctrl.showEditor()\" data-cy=\"k8sConfigDetail-yamlTab\">\\n              <uib-tab-heading> <i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i> YAML </uib-tab-heading>\\n              <div style=\"padding-right: 25px;\" ng-if=\"ctrl.state.showEditorTab\">\\n                <kubernetes-yaml-inspector key=\"configuration-yaml\" data=\"ctrl.configuration.Yaml\"> </kubernetes-yaml-inspector>\\n              </div>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form ng-if=\"!ctrl.isSystemConfig()\" class=\"form-horizontal\" name=\"kubernetesConfigurationCreationForm\" autocomplete=\"off\">\\n            <kubernetes-configuration-data\\n              ng-if=\"ctrl.formValues\"\\n              form-values=\"ctrl.formValues\"\\n              is-valid=\"ctrl.state.isDataValid\"\\n              is-creation=\"false\"\\n              is-editor-dirty=\"ctrl.state.isEditorDirty\"\\n            ></kubernetes-configuration-data>\\n\\n            \\x3c!-- summary --\\x3e\\n            <kubernetes-summary-view\\n              ng-if=\"!(!ctrl.isFormValid() || !kubernetesConfigurationCreationForm.$valid || ctrl.state.actionInProgress)\"\\n              form-values=\"ctrl.formValues\"\\n            ></kubernetes-summary-view>\\n\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 10px;\">\\n              Actions\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"!ctrl.isFormValid() || !kubernetesConfigurationCreationForm.$valid || ctrl.state.actionInProgress\"\\n                  ng-click=\"ctrl.updateConfiguration()\"\\n                  button-spinner=\"ctrl.state.actionInProgress\"\\n                  data-cy=\"k8sConfigDetail-updateConfig\"\\n                >\\n                  <span ng-hide=\"ctrl.state.actionInProgress\">Update {{ ctrl.configuration.Type | kubernetesConfigurationTypeText }}</span>\\n                  <span ng-show=\"ctrl.state.actionInProgress\">Update in progress...</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n          <div ng-if=\"ctrl.isSystemConfig()\">\\n            <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 10px;\">\\n              Data\\n            </div>\\n            <table class=\"table\">\\n              <tbody>\\n                <tr class=\"text-muted\">\\n                  <td style=\"width: 10%; border-top: none;\">Key</td>\\n                  <td style=\"width: 90%; border-top: none;\">Value</td>\\n                </tr>\\n\\n                <tr ng-repeat=\"item in ctrl.formValues.Data track by $index\">\\n                  <td>{{ item.Key }}</td>\\n                  <td>\\n                    <div style=\"white-space: pre-wrap;\">{{ item.Value }}</div>\\n                    <div style=\"margin-top: 2px;\">\\n                      <span class=\"btn btn-primary btn-xs\" ng-click=\"ctrl.copyConfigurationValue($index)\"> <i class=\"fa fa-copy space-right\" aria-hidden=\"true\"></i>Copy </span>\\n                      <span id=\"copyValueNotification_{{ $index }}\" style=\"display: none; color: #23ae89; margin-left: 5px;\" class=\"small\">\\n                        <i class=\"fa fa-check\" aria-hidden=\"true\"></i> copied\\n                      </span>\\n                    </div>\\n                  </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n          </div>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-if=\"ctrl.configuration.Used\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-integrated-applications-datatable\\n        dataset=\"ctrl.configuration.Applications\"\\n        table-key=\"kubernetes.configurations.applications\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.getApplications\"\\n        title-text=\"Applications using this configuration\"\\n        title-icon=\"fa-laptop-code\"\\n      >\\n      </kubernetes-integrated-applications-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),function(e){var a=n(68),i=n(6),s=n(5),r=n(1),o=n.n(r),l=n(86),c=n(25),d=n(80),u=n(173),p=n(133),m=n(27);class g{constructor(e,t,n,a,i,s,r,o,l,d,u,p,m){this.$async=e,this.$state=t,this.$window=n,this.clipboard=a,this.Notifications=i,this.LocalStorage=s,this.ModalService=u,this.KubernetesConfigurationService=r,this.KubernetesResourcePoolService=d,this.KubernetesApplicationService=p,this.KubernetesEventService=m,this.KubernetesConfigurationTypes=c.KubernetesConfigurationTypes,this.KubernetesConfigMapService=o,this.KubernetesSecretService=l,this.onInit=this.onInit.bind(this),this.getConfigurationAsync=this.getConfigurationAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this),this.getApplications=this.getApplications.bind(this),this.getApplicationsAsync=this.getApplicationsAsync.bind(this),this.getConfigurationsAsync=this.getConfigurationsAsync.bind(this),this.updateConfiguration=this.updateConfiguration.bind(this),this.updateConfigurationAsync=this.updateConfigurationAsync.bind(this)}isSystemNamespace(){return m.default.isSystemNamespace(this.configuration.Namespace)}isSystemConfig(){return this.isSystemNamespace()||this.configuration.IsRegistrySecret}selectTab(e){this.LocalStorage.storeActiveTab(\"configuration\",e)}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}copyConfigurationValue(t){this.clipboard.copyText(this.formValues.Data[t].Value),e(\"#copyValueNotification_\"+t).show().fadeOut(2500)}isFormValid(){return this.formValues.IsSimple?this.formValues.Data.length>0&&this.state.isDataValid:this.state.isDataValid}async updateConfigurationAsync(){try{this.state.actionInProgress=!0,this.formValues.Type!==this.configuration.Type||this.formValues.ResourcePool.Namespace.Name!==this.configuration.Namespace||this.formValues.Name!==this.configuration.Name?(await this.KubernetesConfigurationService.create(this.formValues),await this.KubernetesConfigurationService.delete(this.configuration),this.Notifications.success(\"Configuration succesfully updated\"),this.$state.go(\"kubernetes.configurations.configuration\",{namespace:this.formValues.ResourcePool.Namespace.Name,name:this.formValues.Name},{reload:!0})):(await this.KubernetesConfigurationService.update(this.formValues,this.configuration),this.Notifications.success(\"Configuration succesfully updated\"),this.$state.reload(this.$state.current))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update configuration\")}finally{this.state.actionInProgress=!1}}updateConfiguration(){if(!this.configuration.Used)return this.$async(this.updateConfigurationAsync);{const e=this.configuration.Applications.length>1?\"s\":\"\";this.ModalService.confirmUpdate(`The changes will be propagated to ${this.configuration.Applications.length} running application${e}. Are you sure you want to update this configuration?`,e=>{if(e)return this.$async(this.updateConfigurationAsync)})}}async getConfigurationAsync(){try{this.state.configurationLoading=!0;const e=this.$transition$.params().name,t=this.$transition$.params().namespace,[n,a]=await Promise.allSettled([this.KubernetesConfigMapService.get(t,e),this.KubernetesSecretService.get(t,e)]);if(\"rejected\"===a.status&&403===a.reason.err.status)throw this.$state.go(\"kubernetes.configurations\"),new Error(\"Not authorized to edit secret\");return\"fulfilled\"===a.status?(this.configuration=u.default.secretToConfiguration(a.value),this.formValues.Data=a.value.Data):(this.configuration=u.default.configMapToConfiguration(n.value),this.formValues.Data=n.value.Data),this.formValues.ResourcePool=Object(s.a)(this.resourcePools,e=>e.Namespace.Name===this.configuration.Namespace),this.formValues.Id=this.configuration.Id,this.formValues.Name=this.configuration.Name,this.formValues.Type=this.configuration.Type,this.oldDataYaml=this.formValues.DataYaml,this.configuration}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve configuration\")}finally{this.state.configurationLoading=!1}}getConfiguration(){return this.$async(this.getConfigurationAsync)}async getApplicationsAsync(e){try{this.state.applicationsLoading=!0;const t=await this.KubernetesApplicationService.get(e);this.configuration.Applications=d.default.getUsingApplications(this.configuration,t),d.default.setConfigurationUsed(this.configuration)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications\")}finally{this.state.applicationsLoading=!1}}getApplications(e){return this.$async(this.getApplicationsAsync,e)}hasEventWarnings(){return this.state.eventWarningCount}async getEventsAsync(e){try{this.state.eventsLoading=!0,this.events=await this.KubernetesEventService.get(e),this.events=Object(i.a)(this.events,e=>e.Involved.uid===this.configuration.Id),this.state.eventWarningCount=p.default.warningCount(this.events)}catch(e){this.Notifications(\"Failure\",e,\"Unable to retrieve events\")}finally{this.state.eventsLoading=!1}}getEvents(e){return this.$async(this.getEventsAsync,e)}async getConfigurationsAsync(){try{this.configurations=await this.KubernetesConfigurationService.get()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve configurations\")}}getConfigurations(){return this.$async(this.getConfigurationsAsync)}tagUsedDataKeys(){const e=this.$transition$.params().name,t=Object(a.a)(this.configuration.Applications.flatMap(t=>t.Env.filter(t=>t.valueFrom&&t.valueFrom.configMapKeyRef&&t.valueFrom.configMapKeyRef.name===e).map(e=>e.name)));this.formValues.Data=this.formValues.Data.map(e=>t.includes(e.Key)?{...e,Used:!0}:e)}async uiCanExit(){if(!this.formValues.IsSimple&&this.formValues.DataYaml!==this.oldDataYaml&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}async onInit(){try{this.state={actionInProgress:!1,configurationLoading:!0,applicationsLoading:!0,eventsLoading:!0,showEditorTab:!1,viewReady:!1,eventWarningCount:0,activeTab:0,currentName:this.$state.$current.name,isDataValid:!0,isEditorDirty:!1},this.state.activeTab=this.LocalStorage.getActiveTab(\"configuration\"),this.formValues=new l.KubernetesConfigurationFormValues,this.resourcePools=await this.KubernetesResourcePoolService.get();await this.getConfiguration()&&(await this.getApplications(this.configuration.Namespace),await this.getEvents(this.configuration.Namespace),await this.getConfigurations()),this.tagUsedDataKeys()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load view data\")}finally{this.state.viewReady=!0}this.$window.onbeforeunload=()=>{if(!this.formValues.IsSimple&&this.formValues.DataYaml!==this.oldDataYaml&&this.state.isEditorDirty)return\"\"}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"configuration\",0),this.state.isEditorDirty=!1}}g.$inject=[\"$async\",\"$state\",\"$window\",\"clipboard\",\"Notifications\",\"LocalStorage\",\"KubernetesConfigurationService\",\"KubernetesConfigMapService\",\"KubernetesSecretService\",\"KubernetesResourcePoolService\",\"ModalService\",\"KubernetesApplicationService\",\"KubernetesEventService\"],t.default=g,o.a.module(\"portainer.kubernetes\").controller(\"KubernetesConfigurationController\",g)}.call(this,n(50))},function(e,t,n){\"use strict\";n.r(t);var a=n(6),i=n(28),s=n(310),r=n(5),o=n(16),l=n(2),c=n(7),d=n(1),u=n.n(d),p=n(198),m=n(24),g=n(205),h=n(71),f=n(87),v=n(27),b=n(19);class y{constructor(e,t,n,a,i,s,r,o,l,c){this.$async=e,this.$state=t,this.Notifications=n,this.KubernetesStorageService=a,this.EndpointService=i,this.EndpointProvider=s,this.ModalService=r,this.KubernetesResourcePoolService=o,this.KubernetesIngressService=l,this.KubernetesMetricsService=c,this.IngressClassTypes=f.KubernetesIngressClassTypes,this.onInit=this.onInit.bind(this),this.configureAsync=this.configureAsync.bind(this),this.limitedFeature=b.K8S_SETUP_DEFAULT,this.limitedFeatureAutoWindow=b.HIDE_AUTO_UPDATE_WINDOW}storageClassAvailable(){return this.StorageClasses&&this.StorageClasses.length>0}hasValidStorageConfiguration(){let e=!0;return Object(c.a)(this.StorageClasses,t=>{t.selected&&0===t.AccessModes.length&&(e=!1)}),e}addIngressClass(){this.formValues.IngressClasses.push(new g.KubernetesIngressClass),this.onChangeIngressClass()}restoreIngressClass(e){this.formValues.IngressClasses[e].NeedsDeletion=!1,this.onChangeIngressClass()}removeIngressClass(e){this.formValues.IngressClasses[e].IsNew?this.formValues.IngressClasses.splice(e,1):this.formValues.IngressClasses[e].NeedsDeletion=!0,this.onChangeIngressClass()}onChangeIngressClass(){const e=this.state.duplicates.ingressClasses,t=Object(l.a)(this.formValues.IngressClasses,e=>e.NeedsDeletion?void 0:e.Name),n=h.default.getDuplicates(t);e.refs=n,e.hasRefs=Object.keys(n).length>0}onChangeIngressClassName(e){const t=this.formValues.IngressClasses[e];Object(o.a)(t.Name,f.KubernetesIngressClassTypes.NGINX)?t.Type=f.KubernetesIngressClassTypes.NGINX:Object(o.a)(t.Name,f.KubernetesIngressClassTypes.TRAEFIK)&&(t.Type=f.KubernetesIngressClassTypes.TRAEFIK),this.onChangeIngressClass()}hasTraefikIngress(){return Object(r.a)(this.formValues.IngressClasses,{Type:this.IngressClassTypes.TRAEFIK})}assignFormValuesToEndpoint(e,t,n){e.Kubernetes.Configuration.StorageClasses=t,e.Kubernetes.Configuration.UseLoadBalancer=this.formValues.UseLoadBalancer,e.Kubernetes.Configuration.UseServerMetrics=this.formValues.UseServerMetrics,e.Kubernetes.Configuration.IngressClasses=n,e.Kubernetes.Configuration.RestrictDefaultNamespace=this.formValues.RestrictDefaultNamespace}transformFormValues(){const e=Object(l.a)(this.StorageClasses,e=>{if(e.selected){const t=new p.KubernetesStorageClass;return t.Name=e.Name,t.AccessModes=Object(l.a)(e.AccessModes,\"Name\"),t.Provisioner=e.Provisioner,t.AllowVolumeExpansion=e.AllowVolumeExpansion,t}});Object(s.a)(e,void 0);const t=Object(i.a)(Object(l.a)(this.formValues.IngressClasses,e=>e.NeedsDeletion?void 0:e),void 0);return Object(s.a)(t,void 0),[e,t]}async removeIngressesAcrossNamespaces(){const e=Object(a.a)(this.formValues.IngressClasses,{NeedsDeletion:!0});if(!e.length)return;const t=[],n=this.EndpointProvider.endpointID();this.EndpointProvider.setEndpointID(this.endpoint.Id);try{const i=await this.KubernetesResourcePoolService.get(),s=Object(a.a)(i,e=>!v.default.isSystemNamespace(e.Namespace.Name)&&!v.default.isDefaultNamespace(e.Namespace.Name));e.forEach(e=>{s.forEach(n=>{t.push(this.KubernetesIngressService.delete(n.Namespace.Name,e.Name))})})}finally{this.EndpointProvider.setEndpointID(n)}(await Promise.allSettled(t)).forEach(e=>{if(\"rejected\"==e.status&&404!=e.reason.err.status)throw e.reason})}enableMetricsServer(){this.formValues.UseServerMetrics?(this.state.metrics.userClick=!0,this.state.metrics.pending=!0,this.KubernetesMetricsService.capabilities(this.endpoint.Id).then(()=>{this.state.metrics.isServerRunning=!0,this.state.metrics.pending=!1,this.formValues.UseServerMetrics=!0}).catch(()=>{this.state.metrics.isServerRunning=!1,this.state.metrics.pending=!1,this.formValues.UseServerMetrics=!1})):(this.state.metrics.userClick=!1,this.formValues.UseServerMetrics=!1)}async configureAsync(){try{this.state.actionInProgress=!0;const[e,t]=this.transformFormValues();await this.removeIngressesAcrossNamespaces(),this.assignFormValuesToEndpoint(this.endpoint,e,t),await this.EndpointService.updateEndpoint(this.endpoint.Id,this.endpoint);const n=Object(l.a)(e,e=>{const t=Object(r.a)(this.oldStorageClasses,{Name:e.Name});if(t)return this.KubernetesStorageService.patch(this.state.endpointId,t,e)});await Promise.all(n);const a=this.EndpointProvider.endpoints(),i=Object(r.a)(a,e=>e.Id===this.endpoint.Id);i&&(this.assignFormValuesToEndpoint(i,e,t),this.EndpointProvider.setEndpoints(a)),this.Notifications.success(\"Configuration successfully applied\"),this.$state.go(\"portainer.home\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to apply configuration\")}finally{this.state.actionInProgress=!1}}configure(){if(!Object(a.a)(this.formValues.IngressClasses,{NeedsDeletion:!0}).length)return this.$async(this.configureAsync);this.ModalService.confirmUpdate(\"Removing ingress controllers may cause applications to be unaccessible. All ingress configurations from affected applications will be removed.<br/><br/>Do you wish to continue?\",e=>{if(e)return this.$async(this.configureAsync)})}restrictDefaultToggledOn(){return this.formValues.RestrictDefaultNamespace&&!this.oldFormValues.RestrictDefaultNamespace}async onInit(){this.state={actionInProgress:!1,displayConfigureClassPanel:{},viewReady:!1,endpointId:this.$state.params.id,duplicates:{ingressClasses:new m.KubernetesFormValidationReferences},metrics:{pending:!1,isServerRunning:!1,userClick:!1}},this.formValues={UseLoadBalancer:!1,UseServerMetrics:!1,IngressClasses:[],RestrictDefaultNamespace:!1};try{[this.StorageClasses,this.endpoint]=await Promise.all([this.KubernetesStorageService.get(this.state.endpointId),this.EndpointService.endpoint(this.state.endpointId)]),Object(c.a)(this.StorageClasses,e=>{e.availableAccessModes=new p.KubernetesStorageClassAccessPolicies;const t=Object(r.a)(this.endpoint.Kubernetes.Configuration.StorageClasses,t=>t.Name===e.Name);t&&(e.selected=!0,Object(c.a)(t.AccessModes,t=>{const n=Object(r.a)(e.availableAccessModes,{Name:t});n&&(n.selected=!0)}))}),this.oldStorageClasses=u.a.copy(this.StorageClasses),this.formValues.UseLoadBalancer=this.endpoint.Kubernetes.Configuration.UseLoadBalancer,this.formValues.UseServerMetrics=this.endpoint.Kubernetes.Configuration.UseServerMetrics,this.formValues.RestrictDefaultNamespace=this.endpoint.Kubernetes.Configuration.RestrictDefaultNamespace,this.formValues.IngressClasses=Object(l.a)(this.endpoint.Kubernetes.Configuration.IngressClasses,e=>(e.IsNew=!1,e.NeedsDeletion=!1,e)),this.oldFormValues=Object.assign({},this.formValues)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environment configuration\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}}y.$inject=[\"$async\",\"$state\",\"Notifications\",\"KubernetesStorageService\",\"EndpointService\",\"EndpointProvider\",\"ModalService\",\"KubernetesResourcePoolService\",\"KubernetesIngressService\",\"KubernetesMetricsService\"],t.default=y,u.a.module(\"portainer.kubernetes\").controller(\"KubernetesConfigureController\",y)},function(e,t,n){const a=n(1697);angular.module(\"portainer.kubernetes\").component(\"kubernetesDashboardView\",{templateUrl:a,controller:\"KubernetesDashboardController\",controllerAs:\"ctrl\"})},function(e,t){var n=\"app/kubernetes/views/dashboard/dashboard.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Dashboard\" state=\"kubernetes.dashboard\" view-ready=\"ctrl.state.viewReady\">\\n  Environment summary\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\" ng-if=\"ctrl.endpoint\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-tachometer-alt\" title-text=\"Environment info\"></rd-widget-header>\\n        <rd-widget-body classes=\"no-padding\">\\n          <table class=\"table\">\\n            <tbody>\\n              <tr>\\n                <td>Environment</td>\\n                <td>\\n                  {{ ctrl.endpoint.Name }}\\n                </td>\\n              </tr>\\n              <tr>\\n                <td>URL</td>\\n                <td>{{ ctrl.endpoint.URL | stripprotocol }}</td>\\n              </tr>\\n              <tr>\\n                <td>Tags</td>\\n                <td>{{ ctrl.endpointTags }}</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-xs-12 col-md-6\" ng-if=\"ctrl.pools\" data-cy=\"k8sDashboard-namespaces\">\\n      <a ui-sref=\"kubernetes.resourcePools\">\\n        <rd-widget>\\n          <rd-widget-body>\\n            <div class=\"widget-icon blue pull-left\">\\n              <i class=\"fa fa-layer-group\"></i>\\n            </div>\\n            <div class=\"title\">{{ ctrl.pools.length }}</div>\\n            <div class=\"comment\">{{ ctrl.pools.length === 1 ? \\'Namespace\\' : \\'Namespaces\\' }}</div>\\n          </rd-widget-body>\\n        </rd-widget>\\n      </a>\\n    </div>\\n    <div class=\"col-xs-12 col-md-6\" ng-if=\"ctrl.applications\" data-cy=\"k8sDashboard-applications\">\\n      <a ui-sref=\"kubernetes.applications\">\\n        <rd-widget>\\n          <rd-widget-body>\\n            <div class=\"widget-icon blue pull-left\">\\n              <i class=\"fa fa-laptop-code\"></i>\\n            </div>\\n            <div class=\"title\">{{ ctrl.applications.length }}</div>\\n            <div class=\"comment\">{{ ctrl.applications.length === 1 ? \\'Application\\' : \\'Applications\\' }}</div>\\n          </rd-widget-body>\\n        </rd-widget>\\n      </a>\\n    </div>\\n    <div class=\"col-xs-12 col-md-6\" ng-if=\"ctrl.configurations\" data-cy=\"k8sDashboard-configurations\">\\n      <a ui-sref=\"kubernetes.configurations\">\\n        <rd-widget>\\n          <rd-widget-body>\\n            <div class=\"widget-icon blue pull-left\">\\n              <i class=\"fa fa-file-code\"></i>\\n            </div>\\n            <div class=\"title\">{{ ctrl.configurations.length }}</div>\\n            <div class=\"comment\">{{ ctrl.configurations.length === 1 ? \\'Configuration\\' : \\'Configurations\\' }}</div>\\n          </rd-widget-body>\\n        </rd-widget>\\n      </a>\\n    </div>\\n    <div class=\"col-xs-12 col-md-6\" ng-if=\"ctrl.volumes\" data-cy=\"k8sDashboard-volumes\">\\n      <a ui-sref=\"kubernetes.volumes\">\\n        <rd-widget>\\n          <rd-widget-body>\\n            <div class=\"widget-icon blue pull-left\">\\n              <i class=\"fa fa-database\"></i>\\n            </div>\\n            <div class=\"title\">{{ ctrl.volumes.length }}</div>\\n            <div class=\"comment\">{{ ctrl.volumes.length === 1 ? \\'Volume\\' : \\'Volumes\\' }}</div>\\n          </rd-widget-body>\\n        </rd-widget>\\n      </a>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(6),s=n(117),r=n(1),o=n.n(r),l=n(80),c=n(27);class d{constructor(e,t,n,a,i,s,r,o,l,c){this.$async=e,this.Notifications=t,this.EndpointService=n,this.EndpointProvider=a,this.KubernetesResourcePoolService=i,this.KubernetesApplicationService=s,this.KubernetesConfigurationService=r,this.KubernetesVolumeService=o,this.Authentication=l,this.TagService=c,this.onInit=this.onInit.bind(this),this.getAll=this.getAll.bind(this),this.getAllAsync=this.getAllAsync.bind(this)}async getAllAsync(){const e=this.Authentication.isAdmin();try{const t=this.EndpointProvider.endpointID(),[n,r,o,d,u,p]=await Promise.all([this.EndpointService.endpoint(t),this.KubernetesResourcePoolService.get(),this.KubernetesApplicationService.get(),this.KubernetesConfigurationService.get(),this.KubernetesVolumeService.get(),this.TagService.tags()]);this.endpoint=n,this.applications=o,this.volumes=u,this.endpointTags=this.endpoint.TagIds.length?Object(s.a)(Object(i.a)(Object(a.a)(this.endpoint.TagIds,e=>{const t=p.find(t=>t.Id===e);return t?t.Name:\"\"}),Boolean),\", \"):\"-\",e?(this.pools=r,this.configurations=d):(this.pools=Object(i.a)(r,e=>!c.default.isSystemNamespace(e.Namespace.Name)),this.configurations=Object(i.a)(d,e=>!l.default.isSystemToken(e)))}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load dashboard data\")}}getAll(){return this.$async(this.getAllAsync)}async onInit(){this.state={viewReady:!1},await this.getAll(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}d.$inject=[\"$async\",\"Notifications\",\"EndpointService\",\"EndpointProvider\",\"KubernetesResourcePoolService\",\"KubernetesApplicationService\",\"KubernetesConfigurationService\",\"KubernetesVolumeService\",\"Authentication\",\"TagService\"],t.default=d,o.a.module(\"portainer.kubernetes\").controller(\"KubernetesDashboardController\",d)},function(e,t,n){const a=n(1700);angular.module(\"portainer.kubernetes\").component(\"kubernetesDeployView\",{templateUrl:a,controller:\"KubernetesDeployController\",controllerAs:\"ctrl\"})},function(e,t){var n=\"app/kubernetes/views/deploy/deploy.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Advanced deployment\" state=\"kubernetes.deploy\" view-ready=\"ctrl.state.viewReady\">\\n  Deploy Kubernetes resources\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <kubernetes-feedback-panel></kubernetes-feedback-panel>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\">\\n              <uib-tab-heading> <i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i> Deploy </uib-tab-heading>\\n\\n              <form class=\"form-horizontal\" style=\"margin-top: 20px;\">\\n                <div class=\"form-group\" ng-if=\"ctrl.formValues.Namespace\">\\n                  <label for=\"target_node\" class=\"col-lg-1 col-sm-2 control-label text-left\">Namespace</label>\\n                  <div class=\"col-lg-11 col-sm-10\">\\n                    <select class=\"form-control\" ng-model=\"ctrl.formValues.Namespace\" ng-options=\"namespace.Name as namespace.Name for namespace in ctrl.namespaces\"></select>\\n                  </div>\\n                </div>\\n                <div class=\"form-group\" ng-if=\"!ctrl.formValues.Namespace\">\\n                  <div class=\"col-sm-12 small text-muted\">\\n                    <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    You do not have access to any namespace. Contact your administrator to get access to a namespace.\\n                  </div>\\n                </div>\\n\\n                <div class=\"form-group\">\\n                  <label for=\"stack_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n                  <div class=\"col-lg-11 col-sm-10\">\\n                    <input type=\"text\" class=\"form-control\" ng-model=\"ctrl.formValues.StackName\" id=\"stack_name\" placeholder=\"my-app\" auto-focus />\\n                  </div>\\n                </div>\\n\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Build method\\n                </div>\\n                <box-selector radio-name=\"method\" ng-model=\"ctrl.state.BuildMethod\" options=\"ctrl.methodOptions\" data-cy=\"k8sAppDeploy-buildSelector\"></box-selector>\\n\\n                <div ng-if=\"ctrl.state.BuildMethod !== ctrl.BuildMethods.CUSTOM_TEMPLATE\">\\n                  <div class=\"col-sm-12 form-section-title\">\\n                    Deployment type\\n                  </div>\\n                  <box-selector\\n                    radio-name=\"deploy\"\\n                    ng-model=\"ctrl.state.DeployType\"\\n                    on-change=\"(ctrl.onDeployTypeChange)\"\\n                    options=\"ctrl.deployOptions\"\\n                    data-cy=\"k8sAppDeploy-deploymentSelector\"\\n                  ></box-selector>\\n                </div>\\n\\n                \\x3c!-- repository --\\x3e\\n                <git-form\\n                  ng-if=\"ctrl.state.BuildMethod === ctrl.BuildMethods.GIT\"\\n                  model=\"ctrl.formValues\"\\n                  on-change=\"(ctrl.onChangeFormValues)\"\\n                  additional-file=\"true\"\\n                  auto-update=\"true\"\\n                  show-auth-explanation=\"true\"\\n                  path-text-title=\"Manifest path\"\\n                  path-placeholder=\"deployment.yml\"\\n                  deploy-method=\"{{ ctrl.DeployMethod }}\"\\n                ></git-form>\\n                \\x3c!-- !repository --\\x3e\\n\\n                <custom-template-selector\\n                  ng-show=\"ctrl.state.BuildMethod === ctrl.BuildMethods.CUSTOM_TEMPLATE\"\\n                  new-template-path=\"kubernetes.templates.custom.new\"\\n                  stack-type=\"3\"\\n                  on-change=\"(ctrl.onChangeTemplateId)\"\\n                  value=\"ctrl.state.templateId\"\\n                ></custom-template-selector>\\n\\n                \\x3c!-- editor --\\x3e\\n                <web-editor-form\\n                  ng-if=\"ctrl.state.BuildMethod === ctrl.BuildMethods.WEB_EDITOR || (ctrl.state.BuildMethod === ctrl.BuildMethods.CUSTOM_TEMPLATE && ctrl.state.templateId)\"\\n                  identifier=\"kubernetes-deploy-editor\"\\n                  value=\"ctrl.formValues.EditorContent\"\\n                  on-change=\"(ctrl.onChangeFileContent)\"\\n                  ng-required=\"true\"\\n                  yml=\"true\"\\n                  placeholder=\"# Define or paste the content of your manifest file here\"\\n                >\\n                  <editor-description>\\n                    <span class=\"col-sm-12 text-muted small\" ng-show=\"ctrl.state.DeployType === ctrl.ManifestDeployTypes.COMPOSE\">\\n                      <p>\\n                        <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                        Portainer uses <a href=\"https://kompose.io/\" target=\"_blank\">Kompose</a> to convert your Compose manifest to a Kubernetes compliant manifest. Be wary that\\n                        not all the Compose format options are supported by Kompose at the moment.\\n                      </p>\\n                      <p>\\n                        You can get more information about Compose file format in the\\n                        <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\">official documentation</a>.\\n                      </p>\\n                    </span>\\n                    <span\\n                      class=\"col-sm-12 text-muted small\"\\n                      ng-show=\"ctrl.state.DeployType === ctrl.ManifestDeployTypes.KUBERNETES && ctrl.state.BuildMethod === ctrl.BuildMethods.WEB_EDITOR\"\\n                    >\\n                      <p>\\n                        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                        This feature allows you to deploy any kind of Kubernetes resource in this environment (Deployment, Secret, ConfigMap...).\\n                      </p>\\n                      <p>\\n                        You can get more information about Kubernetes file format in the\\n                        <a href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/kubernetes-objects/\" target=\"_blank\">official documentation</a>.\\n                      </p>\\n                    </span>\\n                  </editor-description>\\n                </web-editor-form>\\n\\n                \\x3c!-- !editor --\\x3e\\n\\n                \\x3c!-- url --\\x3e\\n                <div ng-show=\"ctrl.state.BuildMethod === ctrl.BuildMethods.URL\">\\n                  <div class=\"col-sm-12 form-section-title\">\\n                    URL\\n                  </div>\\n                  <div class=\"form-group\">\\n                    <span class=\"col-sm-12 text-muted small\">\\n                      Indicate the URL to the manifest.\\n                    </span>\\n                  </div>\\n                  <div class=\"form-group\">\\n                    <label for=\"manifest_url\" class=\"col-sm-1 control-label text-left\">URL</label>\\n                    <div class=\"col-sm-11\">\\n                      <input\\n                        type=\"text\"\\n                        class=\"form-control\"\\n                        ng-model=\"ctrl.formValues.ManifestURL\"\\n                        id=\"manifest_url\"\\n                        placeholder=\"https://raw.githubusercontent.com/kubernetes/website/main/content/en/examples/controllers/nginx-deployment.yaml\"\\n                        data-cy=\"k8sAppDeploy-urlFileUrl\"\\n                      />\\n                    </div>\\n                  </div>\\n                </div>\\n                \\x3c!-- !url --\\x3e\\n\\n                \\x3c!-- actions --\\x3e\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Actions\\n                </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <button\\n                      type=\"button\"\\n                      class=\"btn btn-primary btn-sm\"\\n                      ng-disabled=\"ctrl.disableDeploy()\"\\n                      ng-click=\"ctrl.deploy()\"\\n                      button-spinner=\"ctrl.state.actionInProgress\"\\n                      data-cy=\"k8sAppDeploy-deployButton\"\\n                      analytics-on\\n                      analytics-category=\"kubernetes\"\\n                      analytics-event=\"kubernetes-application-advanced-deployment\"\\n                      analytics-properties=\"ctrl.buildAnalyticsProperties()\"\\n                    >\\n                      <span ng-hide=\"ctrl.state.actionInProgress\">Deploy</span>\\n                      <span ng-show=\"ctrl.state.actionInProgress\">Deployment in progress...</span>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !actions --\\x3e\\n              </form>\\n            </uib-tab>\\n\\n            <uib-tab index=\"1\" disable=\"ctrl.state.tabLogsDisabled\">\\n              <uib-tab-heading> <i class=\"fa fa-file space-right\" aria-hidden=\"true\"></i> Logs </uib-tab-heading>\\n              <form class=\"form-horizontal\" style=\"margin-top: 20px;\">\\n                <div class=\"form-group\" ng-if=\"ctrl.state.activeTab === 1\">\\n                  <div class=\"col-sm-12\">\\n                    <code-editor identifier=\"kubernetes-deploy-logs\" read-only=\"true\" yml=\"false\" value=\"ctrl.errorLog\"></code-editor>\\n                  </div>\\n                </div>\\n              </form>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(69),s=n(1),r=n.n(s),o=n(821),l=n.n(o),c=n(95),d=n.n(c),u=n(11),p=n(21),m=n(47);class g{constructor(e,t,n,a,i,s,r,o,l,c,u){this.$async=e,this.$state=t,this.$window=n,this.Authentication=a,this.ModalService=i,this.Notifications=s,this.EndpointProvider=r,this.KubernetesResourcePoolService=o,this.StackService=l,this.WebhookHelper=c,this.CustomTemplateService=u,this.DeployMethod=\"manifest\",this.deployOptions=[Object(m.buildOption)(\"method_kubernetes\",\"fa fa-cubes\",\"Kubernetes\",\"Kubernetes manifest format\",p.KubernetesDeployManifestTypes.KUBERNETES),Object(m.buildOption)(\"method_compose\",\"fab fa-docker\",\"Compose\",\"docker-compose format\",p.KubernetesDeployManifestTypes.COMPOSE)],this.methodOptions=[Object(m.buildOption)(\"method_repo\",\"fab fa-github\",\"Git Repository\",\"Use a git repository\",p.KubernetesDeployBuildMethods.GIT),Object(m.buildOption)(\"method_editor\",\"fa fa-edit\",\"Web editor\",\"Use our Web editor\",p.KubernetesDeployBuildMethods.WEB_EDITOR),Object(m.buildOption)(\"method_url\",\"fa fa-globe\",\"URL\",\"Specify a URL to a file\",p.KubernetesDeployBuildMethods.URL),Object(m.buildOption)(\"method_template\",\"fa fa-rocket\",\"Custom Template\",\"Use a custom template\",p.KubernetesDeployBuildMethods.CUSTOM_TEMPLATE)],this.state={DeployType:p.KubernetesDeployManifestTypes.KUBERNETES,BuildMethod:p.KubernetesDeployBuildMethods.GIT,tabLogsDisabled:!0,activeTab:0,viewReady:!1,isEditorDirty:!1,templateId:null},this.formValues={StackName:\"\",RepositoryURL:\"\",RepositoryReferenceName:\"\",RepositoryAuthentication:!0,RepositoryUsername:\"\",RepositoryPassword:\"\",AdditionalFiles:[],ComposeFilePathInRepository:\"\",RepositoryAutomaticUpdates:!0,RepositoryMechanism:p.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:\"5m\",RepositoryWebhookURL:this.WebhookHelper.returnStackWebhookUrl(d()())},this.ManifestDeployTypes=p.KubernetesDeployManifestTypes,this.BuildMethods=p.KubernetesDeployBuildMethods,this.endpointId=this.EndpointProvider.endpointID(),this.onChangeTemplateId=this.onChangeTemplateId.bind(this),this.deployAsync=this.deployAsync.bind(this),this.onChangeFileContent=this.onChangeFileContent.bind(this),this.getNamespacesAsync=this.getNamespacesAsync.bind(this),this.onChangeFormValues=this.onChangeFormValues.bind(this),this.buildAnalyticsProperties=this.buildAnalyticsProperties.bind(this),this.onDeployTypeChange=this.onDeployTypeChange.bind(this)}buildAnalyticsProperties(){const e={type:function(e){switch(e){case p.KubernetesDeployBuildMethods.GIT:return\"git\";case p.KubernetesDeployBuildMethods.WEB_EDITOR:return\"web-editor\"}}(this.state.BuildMethod),format:function(e){switch(e){case p.KubernetesDeployManifestTypes.COMPOSE:return\"compose\";case p.KubernetesDeployManifestTypes.KUBERNETES:return\"manifest\"}}(this.state.DeployType),role:function(e){if(e)return\"admin\";return\"standard\"}(this.Authentication.isAdmin()),\"automatic-updates\":function(e,t){switch(e&&t){case p.RepositoryMechanismTypes.INTERVAL:return\"polling\";case p.RepositoryMechanismTypes.WEBHOOK:return\"webhook\";default:return\"off\"}}(this.formValues.RepositoryAutomaticUpdates,this.formValues.RepositoryMechanism)};return this.state.BuildMethod===p.KubernetesDeployBuildMethods.GIT&&(e.auth=this.formValues.RepositoryAuthentication),{metadata:e}}disableDeploy(){const e=this.state.BuildMethod===p.KubernetesDeployBuildMethods.GIT&&(!this.formValues.RepositoryURL||!this.formValues.FilePathInRepository||this.formValues.RepositoryAuthentication&&!this.formValues.RepositoryPassword)&&Object(i.a)(this.formValues.Namespace),t=this.state.BuildMethod===p.KubernetesDeployBuildMethods.WEB_EDITOR&&Object(i.a)(this.formValues.EditorContent)&&Object(i.a)(this.formValues.Namespace),n=this.state.BuildMethod==p.KubernetesDeployBuildMethods.WEB_EDITOR.URL&&Object(i.a)(this.formValues.ManifestURL),a=Object(i.a)(this.formValues.Namespace);return!this.formValues.StackName||e||t||n||this.state.actionInProgress||a}onChangeFormValues(e){this.formValues={...this.formValues,...e}}onChangeTemplateId(e){return this.$async(async()=>{if(this.state.templateId!==e){this.state.templateId=e;try{const t=await this.CustomTemplateService.customTemplateFile(e);this.onChangeFileContent(t)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load template file\")}}})}onChangeFileContent(e){this.formValues.EditorContent=e,this.state.isEditorDirty=!0}displayErrorLog(e){this.errorLog=l()(e),this.state.tabLogsDisabled=!1,this.state.activeTab=1}async deployAsync(){this.errorLog=\"\",this.state.actionInProgress=!0;try{let e,t=this.state.DeployType===this.ManifestDeployTypes.COMPOSE;switch(this.state.BuildMethod){case this.BuildMethods.GIT:e=p.KubernetesDeployRequestMethods.REPOSITORY;break;case this.BuildMethods.WEB_EDITOR:e=p.KubernetesDeployRequestMethods.STRING;break;case p.KubernetesDeployBuildMethods.CUSTOM_TEMPLATE:e=p.KubernetesDeployRequestMethods.STRING,t=!1;break;case this.BuildMethods.URL:e=p.KubernetesDeployRequestMethods.URL;break;default:throw new u.default(\"Unable to determine build method\")}let n=\"\";\"default\"!==this.formValues.Namespace&&(n=this.formValues.Namespace);const a={ComposeFormat:t,Namespace:n,StackName:this.formValues.StackName};e===p.KubernetesDeployRequestMethods.REPOSITORY?(a.RepositoryURL=this.formValues.RepositoryURL,a.RepositoryReferenceName=this.formValues.RepositoryReferenceName,a.RepositoryAuthentication=!!this.formValues.RepositoryAuthentication,a.RepositoryAuthentication&&(a.RepositoryUsername=this.formValues.RepositoryUsername,a.RepositoryPassword=this.formValues.RepositoryPassword),a.ManifestFile=this.formValues.ComposeFilePathInRepository,a.AdditionalFiles=this.formValues.AdditionalFiles,this.formValues.RepositoryAutomaticUpdates&&(a.AutoUpdate={},this.formValues.RepositoryMechanism===p.RepositoryMechanismTypes.INTERVAL?a.AutoUpdate.Interval=this.formValues.RepositoryFetchInterval:this.formValues.RepositoryMechanism===p.RepositoryMechanismTypes.WEBHOOK&&(a.AutoUpdate.Webhook=this.formValues.RepositoryWebhookURL.split(\"/\").reverse()[0]))):e===p.KubernetesDeployRequestMethods.STRING?a.StackFileContent=this.formValues.EditorContent:a.ManifestURL=this.formValues.ManifestURL,await this.StackService.kubernetesDeploy(this.endpointId,e,a),this.Notifications.success(\"Manifest successfully deployed\"),this.state.isEditorDirty=!1,this.$state.go(\"kubernetes.applications\")}catch(e){this.Notifications.error(\"Unable to deploy manifest\",e,\"Unable to deploy resources\"),this.displayErrorLog(e.err.data.details)}finally{this.state.actionInProgress=!1}}deploy(){return this.$async(this.deployAsync)}async getNamespacesAsync(){try{const e=await this.KubernetesResourcePoolService.get(),t=Object(a.a)(e,\"Namespace\").sort((e,t)=>\"default\"===e.Name?-1:\"default\"===t.Name?1:0);this.namespaces=t,this.namespaces.length>0&&(this.formValues.Namespace=this.namespaces[0].Name)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load namespaces data\")}}getNamespaces(){return this.$async(this.getNamespacesAsync)}onDeployTypeChange(e){e==this.ManifestDeployTypes.COMPOSE?this.DeployMethod=\"compose\":this.DeployMethod=\"manifest\"}async uiCanExit(){if(this.formValues.EditorContent&&this.state.isEditorDirty)return this.ModalService.confirmWebEditorDiscard()}$onInit(){return this.$async(async()=>{if(await this.getNamespaces(),this.$state.params.templateId){const e=parseInt(this.$state.params.templateId,10);e&&!Number.isNaN(e)&&(this.state.BuildMethod=p.KubernetesDeployBuildMethods.CUSTOM_TEMPLATE,this.onChangeTemplateId(e))}this.state.viewReady=!0,this.$window.onbeforeunload=()=>{if(this.formValues.EditorContent&&this.state.isEditorDirty)return\"\"}})}$onDestroy(){this.state.isEditorDirty=!1}}g.$inject=[\"$async\",\"$state\",\"$window\",\"Authentication\",\"ModalService\",\"Notifications\",\"EndpointProvider\",\"KubernetesResourcePoolService\",\"StackService\",\"WebhookHelper\",\"CustomTemplateService\"],t.default=g,r.a.module(\"portainer.kubernetes\").controller(\"KubernetesDeployController\",g)},,function(e,t,n){const a=n(1704);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourcePoolAccessView\",{templateUrl:a,controller:\"KubernetesResourcePoolAccessController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/resource-pools/access/resourcePoolAccess.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Namespace access management\" state=\"kubernetes.resourcePools.resourcePool.access\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({id: ctrl.pool.Namespace.Name})\">{{ ctrl.pool.Namespace.Name }}</a> &gt; Access management\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\" ng-if=\"ctrl.pool\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-header icon=\"fa-plug\" title-text=\"Namespace\"></rd-widget-header>\\n        <rd-widget-body classes=\"no-padding\">\\n          <table class=\"table\">\\n            <tbody>\\n              <tr>\\n                <td>Name</td>\\n                <td>\\n                  {{ ctrl.pool.Namespace.Name }}\\n                </td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget ng-if=\"ctrl.availableUsersAndTeams\">\\n        <rd-widget-header icon=\"fa-user-lock\" title-text=\"Create access\"></rd-widget-header>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\">\\n            <div class=\"form-group\">\\n              <label class=\"col-sm-3 col-lg-2 control-label text-left\">\\n                Select user(s) and/or team(s)\\n              </label>\\n              <div class=\"col-sm-9 col-lg-4\">\\n                <span class=\"small text-muted\" ng-if=\"ctrl.availableUsersAndTeams.length === 0\">\\n                  No user nor team access has been set on the environment. Head over to the\\n                  <a ui-sref=\"portainer.endpoints.endpoint.access({id: ctrl.endpointId})\">environment access view</a> to manage them.\\n                </span>\\n                <span\\n                  isteven-multi-select\\n                  ng-if=\"ctrl.availableUsersAndTeams.length > 0\"\\n                  input-model=\"ctrl.availableUsersAndTeams\"\\n                  output-model=\"ctrl.formValues.multiselectOutput\"\\n                  button-label=\"icon \\'-\\' Name\"\\n                  item-label=\"icon \\'-\\' Name\"\\n                  tick-property=\"ticked\"\\n                  helper-elements=\"filter\"\\n                  search-property=\"Name\"\\n                  translation=\"{nothingSelected: \\'Select one or more users and/or teams\\', search: \\'Search...\\'}\"\\n                >\\n                </span>\\n              </div>\\n            </div>\\n\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"submit\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"(ctrl.availableUsersAndTeams | filter:{ticked:true}).length === 0 || ctrl.actionInProgress\"\\n                  ng-click=\"ctrl.authorizeAccess()\"\\n                  button-spinner=\"ctrl.actionInProgress\"\\n                >\\n                  <span ng-hide=\"ctrl.state.actionInProgress\"><i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Create access</span>\\n                  <span ng-show=\"ctrl.state.actionInProgress\">Creating access...</span>\\n                </button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <access-datatable\\n        ng-if=\"ctrl.authorizedUsersAndTeams\"\\n        title-text=\"Access\"\\n        title-icon=\"fa-user-lock\"\\n        table-key=\"kubernetes_resourcepool_access\"\\n        order-by=\"Name\"\\n        dataset=\"ctrl.authorizedUsersAndTeams\"\\n        remove-action=\"ctrl.unauthorizeAccess\"\\n      >\\n      </access-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(32),i=n(28),s=n(6),r=n(1),o=n.n(r),l=n(81),c=n(111),d=n(305);class u{constructor(e,t,n,a,i,s,r,o,l){this.$async=e,this.$state=t,this.Notifications=n,this.KubernetesResourcePoolService=a,this.KubernetesConfigMapService=i,this.EndpointProvider=s,this.EndpointService=r,this.GroupService=o,this.AccessService=l,this.onInit=this.onInit.bind(this),this.authorizeAccessAsync=this.authorizeAccessAsync.bind(this),this.unauthorizeAccessAsync=this.unauthorizeAccessAsync.bind(this),this.unauthorizeAccess=this.unauthorizeAccess.bind(this)}initAccessConfigMap(e){return e.Name=l.KubernetesPortainerConfigMapConfigName,e.Namespace=l.KubernetesPortainerConfigMapNamespace,e.Data[l.KubernetesPortainerConfigMapAccessKey]={},e}async onInit(){this.state={actionInProgress:!1,viewReady:!1},this.formValues={multiselectOutput:[]},this.endpointId=this.EndpointProvider.endpointID();try{const e=this.$transition$.params().id;let[t,n,a]=await Promise.all([this.EndpointService.endpoint(this.endpointId),this.KubernetesResourcePoolService.get(e),this.KubernetesConfigMapService.getAccess(l.KubernetesPortainerConfigMapNamespace,l.KubernetesPortainerConfigMapConfigName)]);const r=await this.GroupService.group(t.GroupId),o=[],u=await this.AccessService.accesses(t,r,o);this.pool=n,0===a.Id&&(a=this.initAccessConfigMap(a)),a=d.default.parseJSONData(a),this.authorizedUsersAndTeams=[],this.accessConfigMap=a;const p=a.Data[l.KubernetesPortainerConfigMapAccessKey][e];p&&(this.authorizedUsersAndTeams=Object(s.a)(u.authorizedUsersAndTeams,e=>e instanceof c.UserAccessViewModel&&p.UserAccessPolicies?void 0!==p.UserAccessPolicies[e.Id]:!!(e instanceof c.TeamAccessViewModel&&p.TeamAccessPolicies)&&void 0!==p.TeamAccessPolicies[e.Id])),this.availableUsersAndTeams=Object(i.a)(u.authorizedUsersAndTeams,...this.authorizedUsersAndTeams)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve namespace information\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}async authorizeAccessAsync(){try{this.state.actionInProgress=!0;const e=Object(a.a)(this.authorizedUsersAndTeams,this.formValues.multiselectOutput),t=d.default.modifiyNamespaceAccesses(o.a.copy(this.accessConfigMap),this.pool.Namespace.Name,e);await this.KubernetesConfigMapService.updateAccess(t),this.Notifications.success(\"Access successfully created\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create accesses\")}}authorizeAccess(){return this.$async(this.authorizeAccessAsync)}async unauthorizeAccessAsync(e){try{this.state.actionInProgress=!0;const t=Object(i.a)(this.authorizedUsersAndTeams,...e),n=d.default.modifiyNamespaceAccesses(o.a.copy(this.accessConfigMap),this.pool.Namespace.Name,t);await this.KubernetesConfigMapService.updateAccess(n),this.Notifications.success(\"Access successfully removed\"),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove accesses\")}finally{this.state.actionInProgress=!1}}unauthorizeAccess(e){return this.$async(this.unauthorizeAccessAsync,e)}}u.$inject=[\"$async\",\"$state\",\"Notifications\",\"KubernetesResourcePoolService\",\"KubernetesConfigMapService\",\"EndpointProvider\",\"EndpointService\",\"GroupService\",\"AccessService\"],t.default=u,o.a.module(\"portainer.kubernetes\").controller(\"KubernetesResourcePoolAccessController\",u)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(621);const r=n(1707);i.a.module(\"portainer.kubernetes\").component(\"kubernetesCreateResourcePoolView\",{templateUrl:r,controller:s.default,bindings:{endpoint:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/resource-pools/create/createResourcePool.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Create a namespace\" state=\"kubernetes.resourcePools.new\" view-ready=\"$ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt; Create a namespace\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"$ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"$ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" autocomplete=\"off\" name=\"resourcePoolCreationForm\">\\n            \\x3c!-- #region NAME INPUT --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"pool_name\" class=\"col-sm-1 control-label text-left\">Name</label>\\n              <div class=\"col-sm-11\">\\n                <input\\n                  type=\"text\"\\n                  class=\"form-control\"\\n                  name=\"pool_name\"\\n                  ng-model=\"$ctrl.formValues.Name\"\\n                  ng-pattern=\"/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/\"\\n                  ng-change=\"$ctrl.onChangeName()\"\\n                  placeholder=\"my-project\"\\n                  data-cy=\"k8sNamespaceCreate-namespaceNameInput\"\\n                  required\\n                  auto-focus\\n                />\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-show=\"resourcePoolCreationForm.pool_name.$invalid || $ctrl.state.isAlreadyExist\">\\n              <div class=\"col-sm-12 small text-warning\">\\n                <div ng-messages=\"resourcePoolCreationForm.pool_name.$error\">\\n                  <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                  <p ng-message=\"pattern\"\\n                    ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field must consist of lower case alphanumeric characters, \\'-\\' or \\'.\\', and must start and end\\n                    with an alphanumeric character.</p\\n                  >\\n                </div>\\n                <p ng-if=\"$ctrl.state.isAlreadyExist\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> A namespace with the same name already exists.</p>\\n              </div>\\n            </div>\\n            \\x3c!-- #endregion --\\x3e\\n\\n            <div class=\"col-sm-12 form-section-title\">\\n              Quota\\n            </div>\\n            \\x3c!-- #region QUOTA --\\x3e\\n            \\x3c!-- quotas-switch --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12 small text-muted\">\\n                <p>\\n                  <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  A namespace segments the underlying physical Kubernetes cluster into smaller virtual clusters. You should assign a capped limit of resources to this namespace or\\n                  disable for the safe operation of your platform.\\n                </p>\\n              </div>\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">\\n                  Resource assignment\\n                </label>\\n                <label class=\"switch\" style=\"margin-left: 20px;\">\\n                  <input type=\"checkbox\" ng-model=\"$ctrl.formValues.HasQuota\" /><i data-cy=\"k8sNamespaceCreate-resourceAssignmentToggle\"></i>\\n                </label>\\n              </div>\\n            </div>\\n            <div class=\"form-group\" ng-if=\"$ctrl.formValues.HasQuota && !$ctrl.isQuotaValid()\">\\n              <span class=\"col-sm-12 text-warning small\">\\n                <p> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> At least a single limit must be set for the quota to be valid. </p>\\n              </span>\\n            </div>\\n            \\x3c!-- !quotas-switch --\\x3e\\n            <div ng-if=\"$ctrl.formValues.HasQuota\">\\n              <div class=\"col-sm-12 form-section-title\">\\n                Resource limits\\n              </div>\\n              <div>\\n                \\x3c!-- memory-limit-input --\\x3e\\n                <div class=\"form-group\">\\n                  <label for=\"memory-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px;\">\\n                    Memory\\n                  </label>\\n                  <div class=\"col-sm-3\">\\n                    <slider\\n                      model=\"$ctrl.formValues.MemoryLimit\"\\n                      floor=\"$ctrl.defaults.MemoryLimit\"\\n                      ceil=\"$ctrl.state.sliderMaxMemory\"\\n                      step=\"128\"\\n                      ng-if=\"$ctrl.state.sliderMaxMemory\"\\n                      data-cy=\"k8sNamespaceCreate-memoryLimitSlider\"\\n                    >\\n                    </slider>\\n                  </div>\\n                  <div class=\"col-sm-2\">\\n                    <input\\n                      name=\"memory_limit\"\\n                      type=\"number\"\\n                      min=\"{{ $ctrl.defaults.MemoryLimit }}\"\\n                      max=\"{{ $ctrl.state.sliderMaxMemory }}\"\\n                      class=\"form-control\"\\n                      ng-model=\"$ctrl.formValues.MemoryLimit\"\\n                      id=\"memory-limit\"\\n                      data-cy=\"k8sNamespaceCreate-memoryLimitInput\"\\n                      required\\n                    />\\n                  </div>\\n                  <div class=\"col-sm-4\">\\n                    <p class=\"small text-muted\" style=\"margin-top: 7px;\">\\n                      Maximum memory usage (<b>MB</b>)\\n                    </p>\\n                  </div>\\n                </div>\\n                <div class=\"form-group\" ng-show=\"resourcePoolCreationForm.memory_limit.$invalid\">\\n                  <div class=\"col-sm-12 small text-warning\">\\n                    <div ng-messages=\"resourcePoolCreationForm.pool_name.$error\">\\n                      <p\\n                        ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Value must be between {{ $ctrl.defaults.MemoryLimit }} and {{ $ctrl.state.sliderMaxMemory }}\\n                      </p>\\n                    </div>\\n                  </div>\\n                </div>\\n                \\x3c!-- !memory-limit-input --\\x3e\\n                \\x3c!-- cpu-limit-input --\\x3e\\n                <div class=\"form-group\">\\n                  <label for=\"cpu-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px;\">\\n                    CPU\\n                  </label>\\n                  <div class=\"col-sm-5\">\\n                    <slider\\n                      model=\"$ctrl.formValues.CpuLimit\"\\n                      floor=\"$ctrl.defaults.CpuLimit\"\\n                      ceil=\"$ctrl.state.sliderMaxCpu\"\\n                      step=\"0.1\"\\n                      precision=\"2\"\\n                      ng-if=\"$ctrl.state.sliderMaxCpu\"\\n                      data-cy=\"k8sNamespaceCreate-cpuLimitSlider\"\\n                    >\\n                    </slider>\\n                  </div>\\n                  <div class=\"col-sm-4\" style=\"margin-top: 20px;\">\\n                    <p class=\"small text-muted\">\\n                      Maximum CPU usage\\n                    </p>\\n                  </div>\\n                </div>\\n                \\x3c!-- !cpu-limit-input --\\x3e\\n              </div>\\n            </div>\\n            \\x3c!-- #endregion --\\x3e\\n\\n            \\x3c!-- #region LOAD-BALANCERS --\\x3e\\n            <div class=\"col-sm-12 form-section-title\">\\n              Load balancers\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                You can set a quota on the amount of external load balancers that can be created inside this namespace. Set this quota to 0 to effectively disable the use of load\\n                balancers in this namespace.\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <por-switch-field\\n                  ng-data-cy=\"k8sNamespaceCreate-loadBalancerQuotaToggle\"\\n                  label=\"Load Balancer quota\"\\n                  name=\"k8s-resourcepool-Ibquota\"\\n                  feature=\"$ctrl.LBQuotaFeatureId\"\\n                  ng-model=\"lbquota\"\\n                ></por-switch-field>\\n              </div>\\n            </div>\\n            \\x3c!-- #endregion --\\x3e\\n\\n            \\x3c!-- #region STORAGES --\\x3e\\n            <div class=\"col-sm-12 form-section-title\">\\n              Storage\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                Quotas can be set on each storage option to prevent users from exceeding a specific threshold when deploying applications. You can set a quota to 0 to effectively\\n                prevent the usage of a specific storage option inside this namespace.\\n              </span>\\n            </div>\\n            <div class=\"col-sm-12 form-section-title\">\\n              <i class=\"fa fa-route\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n              standard\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <por-switch-field\\n                  ng-data-cy=\"k8sNamespaceCreate-enableQuotaToggle\"\\n                  label=\"Enable quota\"\\n                  name=\"k8s-resourcepool-storagequota\"\\n                  feature=\"$ctrl.StorageQuotaFeatureId\"\\n                  ng-model=\"storagequota\"\\n                ></por-switch-field>\\n              </div>\\n            </div>\\n            \\x3c!-- #endregion --\\x3e\\n\\n            <div ng-if=\"$ctrl.state.canUseIngress\">\\n              <div class=\"col-sm-12 form-section-title\">\\n                Ingresses\\n              </div>\\n              \\x3c!-- #region INGRESSES --\\x3e\\n              <div class=\"form-group\" ng-if=\"$ctrl.formValues.IngressClasses.length === 0\">\\n                <div class=\"col-sm-12 small text-muted\">\\n                  The ingress feature must be enabled in the\\n                  <a ui-sref=\"portainer.k8sendpoint.kubernetesConfig({id: $ctrl.endpoint.Id})\">environment configuration view</a> to be able to register ingresses inside this\\n                  namespace.\\n                </div>\\n              </div>\\n\\n              <div class=\"form-group\" ng-if=\"$ctrl.formValues.IngressClasses.length > 0\">\\n                <div class=\"col-sm-12 small text-muted\">\\n                  <p>\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Enable and configure ingresses available to users when deploying applications.\\n                  </p>\\n                </div>\\n              </div>\\n\\n              <div class=\"form-group\" ng-repeat-start=\"ic in $ctrl.formValues.IngressClasses track by ic.IngressClass.Name\">\\n                <div class=\"text-muted col-sm-12\" style=\"width: 100%;\">\\n                  <div style=\"border-bottom: 1px solid #cdcdcd; padding-bottom: 5px;\">\\n                    <i class=\"fa fa-route\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ ic.IngressClass.Name }}\\n                  </div>\\n                </div>\\n\\n                <div class=\"col-sm-12\" style=\"margin-top: 10px;\">\\n                  <label class=\"control-label text-left\">\\n                    Allow users to use this ingress\\n                  </label>\\n                  <label class=\"switch\" style=\"margin-left: 20px;\">\\n                    <input type=\"checkbox\" ng-model=\"ic.Selected\" /><i data-cy=\"namespaceCreate-ingressToggle{{ ic.IngressClass.Name }}\"></i>\\n                  </label>\\n                </div>\\n              </div>\\n\\n              <div ng-if=\"ic.Selected\">\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <label class=\"control-label text-left\">\\n                      Hostnames\\n                      <portainer-tooltip\\n                        position=\"bottom\"\\n                        message=\"Hostnames associated to the ingress inside this namespace. Users will be able to expose and access their applications over the ingress via one of these hostname.\"\\n                      >\\n                      </portainer-tooltip>\\n                    </label>\\n                    <span\\n                      class=\"label label-default interactive\"\\n                      style=\"margin-left: 10px;\"\\n                      ng-click=\"$ctrl.addHostname(ic)\"\\n                      data-cy=\"namespaceCreate-addHostButton{{ ic.IngressClass.Name }}\"\\n                    >\\n                      <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add hostname\\n                    </span>\\n                  </div>\\n                  <div class=\"col-sm-12\" style=\"margin-top: 10px;\">\\n                    <div ng-repeat=\"item in ic.Hosts track by $index\" style=\"margin-top: 2px;\">\\n                      <div class=\"form-inline\">\\n                        <div class=\"col-sm-10 input-group input-group-sm\">\\n                          <span class=\"input-group-addon\">Hostname</span>\\n                          <input\\n                            type=\"text\"\\n                            class=\"form-control\"\\n                            name=\"hostname_{{ ic.IngressClass.Name }}_{{ $index }}\"\\n                            ng-model=\"item.Host\"\\n                            ng-change=\"$ctrl.onChangeIngressHostname()\"\\n                            placeholder=\"foo\"\\n                            pattern=\"[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\"\\n                            required\\n                            data-cy=\"namespaceCreate-hostnameInput{{ ic.IngressClass.Name }}_{{ $index }}\"\\n                          />\\n                        </div>\\n                        <div class=\"col-sm-1 input-group input-group-sm\" ng-if=\"$index > 0\">\\n                          <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.removeHostname(ic, $index)\">\\n                            <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                          </button>\\n                        </div>\\n                      </div>\\n                      <div\\n                        class=\"small text-warning\"\\n                        style=\"margin-top: 5px;\"\\n                        ng-show=\"\\n                          resourcePoolCreationForm[\\'hostname_\\' + ic.IngressClass.Name + \\'_\\' + $index].$invalid ||\\n                          $ctrl.state.duplicates.ingressHosts.refs[ic.IngressClass.Name][$index] !== undefined\\n                        \"\\n                      >\\n                        <ng-messages for=\"resourcePoolCreationForm[\\'hostname_\\' + ic.IngressClass.Name + \\'_\\' + $index].$error\">\\n                          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Hostname is required.</p>\\n                          <p ng-message=\"pattern\">\\n                            <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                            This field must consist of lower case alphanumeric characters, \\'-\\' or \\'.\\', and must start and end with an alphanumeric character (e.g. \\'example.com\\').\\n                          </p>\\n                        </ng-messages>\\n                        <p ng-if=\"$ctrl.state.duplicates.ingressHosts.refs[ic.IngressClass.Name][$index] !== undefined\">\\n                          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This hostname is already used.\\n                        </p>\\n                      </div>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div class=\"form-group\" ng-if=\"ic.IngressClass.Type === $ctrl.IngressClassTypes.NGINX\">\\n                  <div class=\"col-sm-12\">\\n                    <label class=\"control-label text-left\">\\n                      Redirect published routes to / in application\\n                      <portainer-tooltip\\n                        position=\"bottom\"\\n                        message=\"Enables the redirection of any route published via ingress to the root path of the application, e.g. /path remaps to /\"\\n                      >\\n                      </portainer-tooltip>\\n                    </label>\\n                    <label class=\"switch\" style=\"margin-left: 20px;\">\\n                      <input type=\"checkbox\" ng-model=\"ic.RewriteTarget\" /><i data-cy=\"namespaceCreate-redirectRoutesToggle{{ ic.IngressClass.Name }}\"></i>\\n                    </label>\\n                  </div>\\n                </div>\\n              </div>\\n              <div ng-repeat-end class=\"form-group\" ng-if=\"ic.Selected\" style=\"margin-bottom: 20px;\">\\n                <div class=\"col-sm-12\">\\n                  <p>\\n                    <a class=\"small interactive\" ng-if=\"!ic.AdvancedConfig\" ng-click=\"ic.AdvancedConfig = true\" data-cy=\"namespaceCreate-advancedConfig{{ ic.IngressClass.Name }}\">\\n                      <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i> Advanced configuration\\n                    </a>\\n                    <a class=\"small interactive\" ng-if=\"ic.AdvancedConfig\" ng-click=\"ic.AdvancedConfig = false\" data-cy=\"namespaceCreate-hideConfig{{ ic.IngressClass.Name }}\">\\n                      <i class=\"fa fa-minus space-right\" aria-hidden=\"true\"></i> Hide configuration\\n                    </a>\\n                  </p>\\n                </div>\\n\\n                <div class=\"col-sm-12 small text-muted\" ng-if=\"ic.AdvancedConfig\" style=\"margin-top: 5px;\">\\n                  <p>\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    You can specify a list of annotations that will be associated to the ingress.\\n                  </p>\\n                </div>\\n\\n                <div class=\"col-sm-12\" ng-if=\"ic.AdvancedConfig\">\\n                  <label class=\"control-label text-left\">Annotations</label>\\n                  <span\\n                    class=\"label label-default interactive\"\\n                    style=\"margin-left: 10px;\"\\n                    ng-click=\"$ctrl.addAnnotation(ic)\"\\n                    data-cy=\"namespaceCreate-addAnnotation{{ ic.IngressClass.Name }}\"\\n                  >\\n                    <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add annotation\\n                  </span>\\n                </div>\\n\\n                <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\" ng-if=\"ic.AdvancedConfig\">\\n                  <div ng-repeat=\"annotation in ic.Annotations track by $index\" style=\"margin-top: 2px;\">\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">Key</span>\\n                      <input\\n                        type=\"text\"\\n                        class=\"form-control\"\\n                        ng-model=\"annotation.Key\"\\n                        placeholder=\"nginx.ingress.kubernetes.io/rewrite-target\"\\n                        required\\n                        data-cy=\"namespaceCreate-annotationKey{{ ic.IngressClass.Name }}\"\\n                      />\\n                    </div>\\n                    <div class=\"input-group col-sm-5 input-group-sm\">\\n                      <span class=\"input-group-addon\">Value</span>\\n                      <input\\n                        type=\"text\"\\n                        class=\"form-control\"\\n                        ng-model=\"annotation.Value\"\\n                        placeholder=\"/$1\"\\n                        required\\n                        data-cy=\"namespaceCreate-annotationValue{{ ic.IngressClass.Name }}\"\\n                      />\\n                    </div>\\n                    <div class=\"col-sm-1 input-group input-group-sm\">\\n                      <button\\n                        class=\"btn btn-sm btn-danger\"\\n                        type=\"button\"\\n                        ng-click=\"$ctrl.removeAnnotation(ic, $index)\"\\n                        data-cy=\"namespaceCreate-deleteAnnotationButton{{ ic.IngressClass.Name }}\"\\n                      >\\n                        <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                      </button>\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n              \\x3c!-- #endregion --\\x3e\\n            </div>\\n\\n            \\x3c!-- #region REGISTRIES --\\x3e\\n            <div class=\"col-sm-12 form-section-title\">\\n              Registries\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12 small text-muted\">\\n                <p>\\n                  <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  Define which registry can be used by users who have access to this namespace.\\n                </p>\\n              </div>\\n            </div>\\n\\n            <div class=\"form-group\">\\n              <label class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"padding-top: 0;\">\\n                Select registries\\n              </label>\\n              <div class=\"col-sm-9 col-lg-4\">\\n                <span class=\"small text-muted\" ng-if=\"!$ctrl.registries.length && $ctrl.state.isAdmin\">\\n                  No registries available. Head over <a ui-sref=\"portainer.registries\">registry view</a> to define container registry.\\n                </span>\\n                <span class=\"small text-muted\" ng-if=\"!$ctrl.registries.length && !$ctrl.state.isAdmin\">\\n                  No registries available. Contact your administrator to create a container registry.\\n                </span>\\n                <span\\n                  isteven-multi-select\\n                  ng-if=\"$ctrl.registries.length\"\\n                  input-model=\"$ctrl.registries\"\\n                  output-model=\"$ctrl.formValues.Registries\"\\n                  button-label=\"Name\"\\n                  item-label=\"Name\"\\n                  tick-property=\"Checked\"\\n                  helper-elements=\"filter\"\\n                  search-property=\"Name\"\\n                  translation=\"{nothingSelected: \\'Select one or more registry\\', search: \\'Search...\\'}\"\\n                  data-cy=\"namespaceCreate-registrySelect\"\\n                >\\n                </span>\\n              </div>\\n            </div>\\n            \\x3c!-- #endregion --\\x3e\\n\\n            \\x3c!-- summary --\\x3e\\n            <kubernetes-summary-view ng-if=\"resourcePoolCreationForm.$valid && !$ctrl.isCreateButtonDisabled()\" form-values=\"$ctrl.formValues\"></kubernetes-summary-view>\\n            \\x3c!-- !summary --\\x3e\\n\\n            <div class=\"col-sm-12 form-section-title\">\\n              Actions\\n            </div>\\n            \\x3c!-- #region ACTIONS --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button\\n                  type=\"button\"\\n                  class=\"btn btn-primary btn-sm\"\\n                  ng-disabled=\"!resourcePoolCreationForm.$valid || $ctrl.isCreateButtonDisabled()\"\\n                  ng-click=\"$ctrl.createResourcePool()\"\\n                  button-spinner=\"$ctrl.state.actionInProgress\"\\n                >\\n                  <span ng-hide=\"$ctrl.state.actionInProgress\" data-cy=\"k8sNamespace-createNamespaceButton\">Create namespace</span>\\n                  <span ng-show=\"$ctrl.state.actionInProgress\">Creation in progress...</span>\\n                </button>\\n              </div>\\n            </div>\\n\\n            \\x3c!-- #endregion --\\x3e\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(6);angular.module(\"portainer.kubernetes\").controller(\"KubernetesResourcePoolIngressesDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1}),this.onSettingsRepeaterChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Paths.length>0},this.hasExpandableItems=function(){return Object(i.a)(this.state.filteredDataSet,e=>this.itemCanExpand(e)).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,Object(a.a)(this.state.filteredDataSet,e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)})},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1710);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourcePoolIngressesDatatable\",{templateUrl:a,controller:\"KubernetesResourcePoolIngressesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/resource-pools/edit/components/ingresses-datatable/template.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\" style=\"margin-right: 5px;\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Ingress\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              ng-class=\"{ active: item.Checked, \\'datatable-highlighted\\': item.Highlighted }\"\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td colspan=\"3\">\\n                <a ng-if=\"$ctrl.itemCanExpand(item)\" style=\"margin-right: 5px;\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i> </a\\n                >{{ item.Name }}\\n              </td>\\n            </tr>\\n            <tr\\n              dir-paginate-end\\n              ng-show=\"item.Expanded\"\\n              ng-repeat=\"path in item.Paths\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td>\\n                <a style=\"margin-left: 15px;\" ng-href=\"http://{{ path.Host ? path.Host : path.IP }}{{ path.Path }}\" target=\"_blank\">\\n                  {{ path.Host ? path.Host : path.IP }}{{ path.Path }}\\n                </a>\\n                <span ng-if=\"path.ApplicationName !== \\'-\\'\">\\n                  <i class=\"fas fa-long-arrow-alt-right\" style=\"margin: 2px;\"></i>\\n                  <a ui-sref=\"kubernetes.applications.application({ name: path.ApplicationName, namespace: item.Namespace })\">{{ path.ApplicationName }}</a>\\n                </span>\\n                <span class=\"label label-warning image-tag label-margins\" ng-if=\"path.ApplicationName === \\'-\\'\">unused</span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">No ingresses available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1712);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourcePoolView\",{templateUrl:a,controller:\"KubernetesResourcePoolController\",controllerAs:\"ctrl\",bindings:{endpoint:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/resource-pools/edit/resourcePool.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Namespace details\" state=\"kubernetes.resourcePools.resourcePool\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt; {{ ctrl.pool.Namespace.Name }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\">\\n              <uib-tab-heading> <i class=\"fa fa-layer-group space-right\" aria-hidden=\"true\"></i> Namespace </uib-tab-heading>\\n              <form class=\"form-horizontal\" autocomplete=\"off\" name=\"resourcePoolEditForm\" style=\"padding: 20px; margin-top: 10px;\">\\n                \\x3c!-- name-input --\\x3e\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <table class=\"table\">\\n                      <tbody>\\n                        <tr>\\n                          <td>Name</td>\\n                          <td>\\n                            {{ ctrl.pool.Namespace.Name }}\\n                            <span class=\"label label-info image-tag label-margins\" ng-if=\"ctrl.isSystem\">system</span>\\n                          </td>\\n                        </tr>\\n                      </tbody>\\n                    </table>\\n                  </div>\\n                </div>\\n                \\x3c!-- !name-input --\\x3e\\n                <div ng-if=\"ctrl.isAdmin && ctrl.isEditable\" class=\"col-sm-12 form-section-title\">Quota</div>\\n                \\x3c!-- quotas-switch --\\x3e\\n                <div ng-if=\"ctrl.isAdmin && ctrl.isEditable\" class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <label class=\"control-label text-left\">\\n                      Resource assignment\\n                    </label>\\n                    <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"ctrl.formValues.HasQuota\" /><i></i> </label>\\n                  </div>\\n                </div>\\n                <div class=\"form-group\" ng-if=\"ctrl.formValues.HasQuota && ctrl.isAdmin && ctrl.isEditable && !ctrl.isQuotaValid()\">\\n                  <span class=\"col-sm-12 text-warning small\">\\n                    <p> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> At least a single limit must be set for the quota to be valid. </p>\\n                  </span>\\n                </div>\\n                <div ng-if=\"ctrl.formValues.HasQuota\">\\n                  <kubernetes-resource-reservation\\n                    ng-if=\"ctrl.pool.Quota\"\\n                    description=\"Resource reservation represents the total amount of resource assigned to all the applications deployed inside this namespace.\"\\n                    cpu-reservation=\"ctrl.state.resourceReservation.CPU\"\\n                    memory-reservation=\"ctrl.state.resourceReservation.Memory\"\\n                    cpu-limit=\"ctrl.formValues.CpuLimit\"\\n                    memory-limit=\"ctrl.formValues.MemoryLimit\"\\n                    display-usage=\"ctrl.state.useServerMetrics\"\\n                    cpu-usage=\"ctrl.state.resourceUsage.CPU\"\\n                    memory-usage=\"ctrl.state.resourceUsage.Memory\"\\n                  >\\n                  </kubernetes-resource-reservation>\\n                </div>\\n                \\x3c!-- !quotas-switch --\\x3e\\n                <div ng-if=\"ctrl.formValues.HasQuota && ctrl.isAdmin && ctrl.isEditable\">\\n                  <div class=\"col-sm-12 form-section-title\">\\n                    Resource limits\\n                  </div>\\n                  <div>\\n                    \\x3c!-- memory-limit-input --\\x3e\\n                    <div class=\"form-group\">\\n                      <label for=\"memory-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px;\">\\n                        Memory limit\\n                      </label>\\n                      <div class=\"col-sm-3\">\\n                        <slider\\n                          model=\"ctrl.formValues.MemoryLimit\"\\n                          floor=\"ctrl.ResourceQuotaDefaults.MemoryLimit\"\\n                          ceil=\"ctrl.state.sliderMaxMemory\"\\n                          step=\"128\"\\n                          ng-if=\"ctrl.state.sliderMaxMemory\"\\n                        ></slider>\\n                      </div>\\n                      <div class=\"col-sm-2\">\\n                        <input\\n                          name=\"memory_limit\"\\n                          type=\"number\"\\n                          min=\"{{ ctrl.ResourceQuotaDefaults.MemoryLimit }}\"\\n                          max=\"{{ ctrl.state.sliderMaxMemory }}\"\\n                          class=\"form-control\"\\n                          ng-model=\"ctrl.formValues.MemoryLimit\"\\n                          id=\"memory-limit\"\\n                          required\\n                        />\\n                      </div>\\n                      <div class=\"col-sm-4\">\\n                        <p class=\"small text-muted\" style=\"margin-top: 7px;\">\\n                          Memory limit (<b>MB</b>)\\n                        </p>\\n                      </div>\\n                    </div>\\n                    <div class=\"form-group\" ng-show=\"resourcePoolEditForm.memory_limit.$invalid\">\\n                      <div class=\"col-sm-12 small text-warning\">\\n                        <div ng-messages=\"resourcePoolEditForm.pool_name.$error\">\\n                          <p\\n                            ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Value must be between {{ ctrl.ResourceQuotaDefaults.MemoryLimit }} and\\n                            {{ ctrl.state.sliderMaxMemory }}</p\\n                          >\\n                        </div>\\n                      </div>\\n                    </div>\\n                    \\x3c!-- !memory-limit-input --\\x3e\\n                    \\x3c!-- cpu-limit-input --\\x3e\\n                    <div class=\"form-group\">\\n                      <label for=\"cpu-limit\" class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"margin-top: 20px;\">\\n                        CPU limit\\n                      </label>\\n                      <div class=\"col-sm-5\">\\n                        <slider\\n                          model=\"ctrl.formValues.CpuLimit\"\\n                          floor=\"ctrl.ResourceQuotaDefaults.CpuLimit\"\\n                          ceil=\"ctrl.state.sliderMaxCpu\"\\n                          step=\"0.1\"\\n                          precision=\"2\"\\n                          ng-if=\"ctrl.state.sliderMaxCpu\"\\n                        ></slider>\\n                      </div>\\n                      <div class=\"col-sm-4\" style=\"margin-top: 20px;\">\\n                        <p class=\"small text-muted\">\\n                          Maximum CPU usage\\n                        </p>\\n                      </div>\\n                    </div>\\n                    \\x3c!-- !cpu-limit-input --\\x3e\\n                  </div>\\n                </div>\\n                \\x3c!-- #region LOADBALANCERS --\\x3e\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Load balancers\\n                </div>\\n\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\">\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    You can set a quota on the amount of external load balancers that can be created inside this namespace. Set this quota to 0 to effectively disable the use of\\n                    load balancers in this namespace.\\n                  </span>\\n                </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <por-switch-field\\n                      ng-data-cy=\"k8sNamespaceCreate-loadBalancerQuotaToggle\"\\n                      label=\"Load Balancer quota\"\\n                      name=\"k8s-resourcepool-Lbquota\"\\n                      feature=\"ctrl.LBQuotaFeatureId\"\\n                      ng-model=\"lbquota\"\\n                    ></por-switch-field>\\n                  </div>\\n                </div>\\n                \\x3c!-- #endregion --\\x3e\\n                <div ng-if=\"ctrl.isAdmin && ctrl.isEditable && ctrl.state.canUseIngress\">\\n                  <div class=\"col-sm-12 form-section-title\">\\n                    Ingresses\\n                  </div>\\n                  \\x3c!-- #region INGRESSES --\\x3e\\n                  <div class=\"form-group\" ng-if=\"ctrl.formValues.IngressClasses.length === 0\">\\n                    <div class=\"col-sm-12 small text-muted\">\\n                      The ingress feature must be enabled in the\\n                      <a ui-sref=\"portainer.k8sendpoint.kubernetesConfig({id: ctrl.endpoint.Id})\">environment configuration view</a> to be able to register ingresses inside this\\n                      namespace.\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\" ng-if=\"ctrl.formValues.IngressClasses.length > 0\">\\n                    <div class=\"col-sm-12 small text-muted\">\\n                      <p>\\n                        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                        Enable and configure ingresses available to users when deploying applications.\\n                      </p>\\n                    </div>\\n                  </div>\\n\\n                  <div class=\"form-group\" ng-repeat-start=\"ic in ctrl.formValues.IngressClasses track by ic.IngressClass.Name\">\\n                    <div class=\"text-muted col-sm-12\" style=\"width: 100%;\">\\n                      <div style=\"border-bottom: 1px solid #cdcdcd; padding-bottom: 5px;\">\\n                        <i class=\"fa fa-route\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ ic.IngressClass.Name }}\\n                      </div>\\n                    </div>\\n\\n                    <div class=\"col-sm-12\" style=\"margin-top: 10px;\">\\n                      <label class=\"control-label text-left\">\\n                        Allow users to use this ingress\\n                      </label>\\n                      <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"ic.Selected\" /><i></i> </label>\\n                    </div>\\n                  </div>\\n\\n                  <div ng-if=\"ic.Selected\">\\n                    <div class=\"form-group\">\\n                      <div class=\"col-sm-12\">\\n                        <label class=\"control-label text-left\">\\n                          Hostnames\\n                          <portainer-tooltip\\n                            position=\"bottom\"\\n                            message=\"Hostnames associated to the ingress inside this namespace. Users will be able to expose and access their applications over the ingress via one of these hostname.\"\\n                          >\\n                          </portainer-tooltip>\\n                        </label>\\n                        <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"ctrl.addHostname(ic)\">\\n                          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add hostname\\n                        </span>\\n                      </div>\\n                      <div class=\"col-sm-12\" style=\"margin-top: 10px;\">\\n                        <div ng-repeat=\"item in ic.Hosts track by $index\" style=\"margin-top: 2px;\">\\n                          <div class=\"form-inline\">\\n                            <div class=\"col-sm-10 input-group input-group-sm\" ng-class=\"{ striked: item.NeedsDeletion }\">\\n                              <span class=\"input-group-addon\">Hostname</span>\\n                              <input\\n                                type=\"text\"\\n                                class=\"form-control\"\\n                                name=\"hostname_{{ ic.IngressClass.Name }}_{{ $index }}\"\\n                                ng-model=\"item.Host\"\\n                                ng-change=\"ctrl.onChangeIngressHostname()\"\\n                                placeholder=\"foo\"\\n                                pattern=\"[a-z0-9]([-a-z0-9]*[a-z0-9])?(\\\\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\"\\n                                required\\n                              />\\n                            </div>\\n                            <div class=\"col-sm-1 input-group input-group-sm\" ng-if=\"$index > 0\">\\n                              <button ng-if=\"!item.NeedsDeletion\" class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"ctrl.removeHostname(ic, $index)\">\\n                                <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                              </button>\\n                              <button ng-if=\"item.NeedsDeletion\" class=\"btn btn-sm btn-primary\" type=\"button\" ng-click=\"ctrl.restoreHostname(item)\">\\n                                <i class=\"fa fa-trash-restore\" aria-hidden=\"true\"></i>\\n                              </button>\\n                            </div>\\n                          </div>\\n                          <div\\n                            class=\"small text-warning\"\\n                            style=\"margin-top: 5px;\"\\n                            ng-show=\"resourcePoolEditForm[\\'hostname_\\' + ic.IngressClass.Name + \\'_\\' + $index].$invalid || item.Duplicate\"\\n                          >\\n                            <ng-messages for=\"resourcePoolEditForm[\\'hostname_\\' + ic.IngressClass.Name + \\'_\\' + $index].$error\">\\n                              <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Hostname is required.</p>\\n                              <p ng-message=\"pattern\">\\n                                <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                                This field must consist of lower case alphanumeric characters, \\'-\\' or \\'.\\', and must start and end with an alphanumeric character (e.g.\\n                                \\'example.com\\').\\n                              </p>\\n                            </ng-messages>\\n                            <p ng-if=\"item.Duplicate\">\\n                              <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                              This hostname is already used.\\n                            </p>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n\\n                    <div class=\"form-group\" ng-if=\"ic.IngressClass.Type === ctrl.IngressClassTypes.NGINX\">\\n                      <div class=\"col-sm-12\">\\n                        <label class=\"control-label text-left\">\\n                          Redirect published routes to / in application\\n                          <portainer-tooltip\\n                            position=\"bottom\"\\n                            message=\"Enables the redirection of any route published via ingress to the root path of the application, e.g. /path remaps to /\"\\n                          >\\n                          </portainer-tooltip>\\n                        </label>\\n                        <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"ic.RewriteTarget\" /><i></i> </label>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  <div ng-repeat-end class=\"form-group\" ng-if=\"ic.Selected\" style=\"margin-bottom: 20px;\">\\n                    <div class=\"col-sm-12\">\\n                      <p>\\n                        <a class=\"small interactive\" ng-if=\"!ic.AdvancedConfig\" ng-click=\"ic.AdvancedConfig = true\">\\n                          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i> Advanced configuration\\n                        </a>\\n                        <a class=\"small interactive\" ng-if=\"ic.AdvancedConfig\" ng-click=\"ic.AdvancedConfig = false\">\\n                          <i class=\"fa fa-minus space-right\" aria-hidden=\"true\"></i> Hide configuration\\n                        </a>\\n                      </p>\\n                    </div>\\n\\n                    <div class=\"col-sm-12 small text-muted\" ng-if=\"ic.AdvancedConfig\" style=\"margin-top: 5px;\">\\n                      <p>\\n                        <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                        You can specify a list of annotations that will be associated to the ingress.\\n                      </p>\\n                    </div>\\n\\n                    <div class=\"col-sm-12\" ng-if=\"ic.AdvancedConfig\">\\n                      <label class=\"control-label text-left\">Annotations</label>\\n                      <span class=\"label label-default interactive\" style=\"margin-left: 10px;\" ng-click=\"ctrl.addAnnotation(ic)\">\\n                        <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add annotation\\n                      </span>\\n                    </div>\\n\\n                    <div class=\"col-sm-12 form-inline\" style=\"margin-top: 10px;\" ng-if=\"ic.AdvancedConfig\">\\n                      <div ng-repeat=\"annotation in ic.Annotations track by $index\" style=\"margin-top: 2px;\">\\n                        <div class=\"input-group col-sm-5 input-group-sm\">\\n                          <span class=\"input-group-addon\">Key</span>\\n                          <input type=\"text\" class=\"form-control\" ng-model=\"annotation.Key\" placeholder=\"nginx.ingress.kubernetes.io/rewrite-target\" required />\\n                        </div>\\n                        <div class=\"input-group col-sm-5 input-group-sm\">\\n                          <span class=\"input-group-addon\">Value</span>\\n                          <input type=\"text\" class=\"form-control\" ng-model=\"annotation.Value\" placeholder=\"/$1\" required />\\n                        </div>\\n                        <div class=\"col-sm-1 input-group input-group-sm\">\\n                          <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"ctrl.removeAnnotation(ic, $index)\">\\n                            <i class=\"fa fa-trash-alt\" aria-hidden=\"true\"></i>\\n                          </button>\\n                        </div>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  \\x3c!-- #endregion --\\x3e\\n                </div>\\n\\n                \\x3c!-- #region REGISTRIES --\\x3e\\n                <div>\\n                  <div class=\"col-sm-12 form-section-title\">\\n                    Registries\\n                  </div>\\n\\n                  <div class=\"form-group\" ng-if=\"!ctrl.isAdmin || ctrl.isSystem\">\\n                    <label class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"padding-top: 0;\">\\n                      Selected registries\\n                    </label>\\n                    <div class=\"col-sm-9 col-lg-4\">\\n                      {{ ctrl.selectedRegistries ? ctrl.selectedRegistries : \\'None\\' }}\\n                    </div>\\n                  </div>\\n\\n                  <div ng-if=\"ctrl.isAdmin && !ctrl.isSystem\">\\n                    <div class=\"form-group\">\\n                      <div class=\"col-sm-12 small text-muted\">\\n                        <p>\\n                          <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                          Define which registry can be used by users who have access to this namespace.\\n                        </p>\\n                      </div>\\n                    </div>\\n                    <div class=\"form-group\">\\n                      <label class=\"col-sm-3 col-lg-2 control-label text-left\" style=\"padding-top: 0;\">\\n                        Select registries\\n                      </label>\\n                      <div class=\"col-sm-9 col-lg-4\">\\n                        <span class=\"small text-muted\" ng-if=\"!ctrl.registries.length && ctrl.state.isAdmin\">\\n                          No registries available. Head over <a ui-sref=\"portainer.registries\">registry view</a> to define container registry.\\n                        </span>\\n                        <span class=\"small text-muted\" ng-if=\"!ctrl.registries.length && !ctrl.state.isAdmin\">\\n                          No registries available. Contact your administrator to create a container registry.\\n                        </span>\\n                        <span\\n                          isteven-multi-select\\n                          ng-if=\"ctrl.registries.length\"\\n                          input-model=\"ctrl.registries\"\\n                          output-model=\"ctrl.formValues.Registries\"\\n                          button-label=\"Name\"\\n                          item-label=\"Name\"\\n                          tick-property=\"Checked\"\\n                          helper-elements=\"filter\"\\n                          search-property=\"Name\"\\n                          translation=\"{nothingSelected: \\'Select one or more registry\\', search: \\'Search...\\'}\"\\n                        >\\n                        </span>\\n                      </div>\\n                    </div>\\n                  </div>\\n                </div>\\n                \\x3c!-- #endregion --\\x3e\\n\\n                \\x3c!-- #region STORAGES --\\x3e\\n                <div class=\"col-sm-12 form-section-title\">\\n                  Storage\\n                </div>\\n\\n                <div class=\"form-group\">\\n                  <span class=\"col-sm-12 text-muted small\">\\n                    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Quotas can be set on each storage option to prevent users from exceeding a specific threshold when deploying applications. You can set a quota to 0 to\\n                    effectively prevent the usage of a specific storage option inside this namespace.\\n                  </span>\\n                </div>\\n                <div class=\"col-sm-12 form-section-title\">\\n                  <i class=\"fa fa-route\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  standard\\n                </div>\\n                <div class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <por-switch-field\\n                      ng-data-cy=\"k8sNamespaceCreate-enableQuotaToggle\"\\n                      label=\"Enable quota\"\\n                      name=\"k8s-resourcepool-storagequota\"\\n                      feature=\"ctrl.StorageQuotaFeatureId\"\\n                      ng-model=\"storagequota\"\\n                    ></por-switch-field>\\n                  </div>\\n                </div>\\n                \\x3c!-- #endregion --\\x3e\\n\\n                \\x3c!-- summary --\\x3e\\n                <kubernetes-summary-view\\n                  ng-if=\"resourcePoolEditForm.$valid && !ctrl.isUpdateButtonDisabled()\"\\n                  form-values=\"ctrl.formValues\"\\n                  old-form-values=\"ctrl.savedFormValues\"\\n                ></kubernetes-summary-view>\\n                \\x3c!-- !summary --\\x3e\\n\\n                \\x3c!-- actions --\\x3e\\n                <div ng-if=\"ctrl.isAdmin\" class=\"col-sm-12 form-section-title\">\\n                  Actions\\n                </div>\\n                <div ng-if=\"ctrl.isAdmin\" class=\"form-group\">\\n                  <div class=\"col-sm-12\">\\n                    <button\\n                      type=\"button\"\\n                      ng-if=\"!ctrl.isSystem\"\\n                      class=\"btn btn-primary btn-sm\"\\n                      ng-disabled=\"!resourcePoolEditForm.$valid || ctrl.isUpdateButtonDisabled()\"\\n                      ng-click=\"ctrl.updateResourcePool()\"\\n                      button-spinner=\"ctrl.state.actionInProgress\"\\n                    >\\n                      <span ng-hide=\"ctrl.state.actionInProgress\" data-cy=\"k8sNamespaceEdit-updateNamespaceButton\">Update namespace</span>\\n                      <span ng-show=\"ctrl.state.actionInProgress\">Update in progress...</span>\\n                    </button>\\n                    <button\\n                      ng-if=\"!ctrl.isDefaultNamespace\"\\n                      type=\"button\"\\n                      class=\"btn btn-primary btn-sm\"\\n                      ng-click=\"ctrl.markUnmarkAsSystem()\"\\n                      button-spinner=\"ctrl.state.actionInProgress\"\\n                    >\\n                      <span ng-if=\"ctrl.isSystem\">Unmark as system</span>\\n                      <span ng-if=\"!ctrl.isSystem\">Mark as system</span>\\n                    </button>\\n                  </div>\\n                </div>\\n                \\x3c!-- !actions --\\x3e\\n              </form>\\n            </uib-tab>\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\">\\n              <uib-tab-heading>\\n                <i class=\"fa fa-history space-right\" aria-hidden=\"true\"></i> Events\\n                <div ng-if=\"ctrl.hasEventWarnings()\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  {{ ctrl.state.eventWarningCount }} warning(s)\\n                </div>\\n              </uib-tab-heading>\\n              <kubernetes-events-datatable\\n                title-text=\"Events\"\\n                title-icon=\"fa-history\"\\n                dataset=\"ctrl.events\"\\n                table-key=\"kubernetes.resourcepool.events\"\\n                order-by=\"Date\"\\n                reverse-order=\"true\"\\n                loading=\"ctrl.state.eventsLoading\"\\n                refresh-callback=\"ctrl.getEvents\"\\n              ></kubernetes-events-datatable>\\n            </uib-tab>\\n            <uib-tab index=\"2\" ng-if=\"ctrl.pool.Yaml\" select=\"ctrl.showEditor()\" classes=\"btn-sm\">\\n              <uib-tab-heading> <i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i> YAML </uib-tab-heading>\\n              <div style=\"padding-right: 25px;\" ng-if=\"ctrl.state.showEditorTab\">\\n                <kubernetes-yaml-inspector key=\"resource-pool-yaml\" data=\"ctrl.pool.Yaml\"></kubernetes-yaml-inspector>\\n              </div>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-if=\"ctrl.applications && ctrl.applications.length > 0\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-resource-pool-applications-datatable\\n        dataset=\"ctrl.applications\"\\n        table-key=\"kubernetes.resourcepool.applications\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.getApplications\"\\n        loading=\"ctrl.state.applicationsLoading\"\\n        title-text=\"Applications running in this namespace\"\\n        title-icon=\"fa-laptop-code\"\\n      >\\n      </kubernetes-resource-pool-applications-datatable>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-if=\"ctrl.ingresses && ctrl.ingresses.length > 0\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-resource-pool-ingresses-datatable\\n        dataset=\"ctrl.ingresses\"\\n        table-key=\"kubernetes.resourcepool.ingresses\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.getIngresses\"\\n        loading=\"ctrl.state.ingressesLoading\"\\n        title-text=\"Ingress routes and applications\"\\n        title-icon=\"fa-route\"\\n      >\\n      </kubernetes-resource-pool-ingresses-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(5),i=n(16),s=n(7),r=n(2),o=n(6),l=n(41),c=n(28),d=n(1),u=n.n(d),p=n(56),m=n.n(p),g=n(38),h=n(20),f=n(137),v=n(133),b=n(73),y=n(62),w=n(24),x=n(71),$=n(87),C=n(139),S=n(27),k=n(19);class A{constructor(e,t,n,a,i,s,r,o,l,c,d,u,p,m,h,f){Object.assign(this,{$async:e,$state:t,Authentication:n,Notifications:a,LocalStorage:i,EndpointService:s,ModalService:r,KubernetesNodeService:o,KubernetesMetricsService:l,KubernetesResourceQuotaService:c,KubernetesResourcePoolService:d,KubernetesEventService:u,KubernetesPodService:p,KubernetesApplicationService:m,KubernetesIngressService:h,KubernetesVolumeService:f}),this.IngressClassTypes=$.KubernetesIngressClassTypes,this.ResourceQuotaDefaults=g.KubernetesResourceQuotaDefaults,this.LBQuotaFeatureId=k.K8S_RESOURCE_POOL_LB_QUOTA,this.StorageQuotaFeatureId=k.K8S_RESOURCE_POOL_STORAGE_QUOTA,this.updateResourcePoolAsync=this.updateResourcePoolAsync.bind(this),this.getEvents=this.getEvents.bind(this)}addAnnotation(e){e.Annotations.push(new b.KubernetesResourcePoolIngressClassAnnotationFormValue)}removeAnnotation(e,t){e.Annotations.splice(t,1),this.onChangeIngressHostname()}onChangeIngressHostname(){const e=this.state.duplicates.ingressHosts,t=Object(c.a)(this.allIngresses,...this.ingresses),n=Object(l.a)(t,\"Hosts\"),a=Object(l.a)(this.formValues.IngressClasses,\"Hosts\"),d=Object(o.a)(a,{NeedsDeletion:!1}),u=Object(r.a)(d,\"Host\"),p=x.default.getDuplicates(u);Object(s.a)(u,(e,t)=>{void 0!==e&&Object(i.a)(n,e)&&(p[t]=e)});const m=Object.values(p);e.hasRefs=!1,Object(s.a)(this.formValues.IngressClasses,t=>{Object(s.a)(t.Hosts,t=>{Object(i.a)(m,t.Host)&&!1===t.NeedsDeletion?(t.Duplicate=!0,e.hasRefs=!0):t.Duplicate=!1})})}addHostname(e){e.Hosts.push(new b.KubernetesResourcePoolIngressClassHostFormValue)}removeHostname(e,t){e.Hosts[t].IsNew?e.Hosts.splice(t,1):e.Hosts[t].NeedsDeletion=!0,this.onChangeIngressHostname()}restoreHostname(e){e.IsNew||(e.NeedsDeletion=!1)}selectTab(e){this.LocalStorage.storeActiveTab(\"resourcePool\",e)}isUpdateButtonDisabled(){return this.state.actionInProgress||this.formValues.HasQuota&&!this.isQuotaValid()||this.state.duplicates.ingressHosts.hasRefs}isQuotaValid(){return!(this.state.sliderMaxCpu<this.formValues.CpuLimit||this.state.sliderMaxMemory<this.formValues.MemoryLimit||0===this.formValues.CpuLimit&&0===this.formValues.MemoryLimit)}checkDefaults(){this.formValues.CpuLimit<g.KubernetesResourceQuotaDefaults.CpuLimit&&(this.formValues.CpuLimit=g.KubernetesResourceQuotaDefaults.CpuLimit),this.formValues.MemoryLimit<h.default.megaBytesValue(g.KubernetesResourceQuotaDefaults.MemoryLimit)&&(this.formValues.MemoryLimit=h.default.megaBytesValue(g.KubernetesResourceQuotaDefaults.MemoryLimit))}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}hasResourceQuotaBeenReduced(){if(this.formValues.HasQuota&&this.oldQuota){const e=this.formValues.CpuLimit,t=h.default.bytesValue(this.formValues.MemoryLimit);if(e<this.oldQuota.CpuLimit||t<this.oldQuota.MemoryLimit)return!0}return!1}async updateResourcePoolAsync(e,t){this.state.actionInProgress=!0;try{this.checkDefaults(),await this.KubernetesResourcePoolService.patch(e,t),this.Notifications.success(\"Namespace successfully updated\",this.pool.Namespace.Name),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create namespace\")}finally{this.state.actionInProgress=!1}}updateResourcePool(){const e=Object(o.a)(this.formValues.IngressClasses,{WasSelected:!0,Selected:!1}),t=Object(o.a)(this.registries,{WasChecked:!0,Checked:!1}),n=this.hasResourceQuotaBeenReduced(),a=0!==e.length,i=0!==t.length;if(!(n||a||i))return this.$async(this.updateResourcePoolAsync,this.savedFormValues,this.formValues);{const e={quota:'Reducing the quota assigned to an \"in-use\" namespace may have unintended consequences, including preventing running applications from functioning correctly and potentially even blocking them from running at all.',ingress:\"Deactivating ingresses may cause applications to be unaccessible. All ingress configurations from affected applications will be removed.\",registries:\"Some registries you removed might be used by one or more applications inside this environment. Removing the registries access could lead to a service interruption for these applications.\"},t=`${n?e.quota+\"<br/><br/>\":\"\"}\\n      ${a?e.ingress+\"<br/><br/>\":\"\"}\\n      ${i?e.registries+\"<br/><br/>\":\"\"}\\n      Do you wish to continue?`;this.ModalService.confirmUpdate(t,e=>{if(e)return this.$async(this.updateResourcePoolAsync,this.savedFormValues,this.formValues)})}}async confirmMarkUnmarkAsSystem(){const e=this.isSystem?\"Unmarking this namespace as system will allow non administrator users to manage it and the resources in contains depending on the access control settings. Are you sure?\":\"Marking this namespace as a system namespace will prevent non administrator users from managing it and the resources it contains. Are you sure?\";return new Promise(t=>{this.ModalService.confirmUpdate(e,t)})}markUnmarkAsSystem(){return this.$async(async()=>{try{const e=this.$state.params.id;this.state.actionInProgress=!0;if(!await this.confirmMarkUnmarkAsSystem())return;await this.KubernetesResourcePoolService.toggleSystem(this.endpoint.Id,e,!this.isSystem),this.Notifications.success(\"Namespace successfully updated\",e),this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to create namespace\")}finally{this.state.actionInProgress=!1}})}hasEventWarnings(){return this.state.eventWarningCount}getEvents(){return this.$async(async()=>{try{this.state.eventsLoading=!0,this.events=await this.KubernetesEventService.get(this.pool.Namespace.Name),this.state.eventWarningCount=v.default.warningCount(this.events)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve namespace related events\")}finally{this.state.eventsLoading=!1}})}getApplications(){return this.$async(async()=>{try{this.state.applicationsLoading=!0,this.applications=await this.KubernetesApplicationService.get(this.pool.Namespace.Name),this.applications=Object(r.a)(this.applications,e=>{const t=h.default.computeResourceReservation(e.Pods);return e.CPU=t.CPU,e.Memory=t.Memory,e}),this.state.useServerMetrics&&await this.getResourceUsage(this.pool.Namespace.Name)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve applications.\")}finally{this.state.applicationsLoading=!1}})}getIngresses(){return this.$async(async()=>{this.state.ingressesLoading=!0;try{const e=this.pool.Namespace.Name;this.allIngresses=await this.KubernetesIngressService.get(this.state.hasWriteAuthorization?\"\":e),this.ingresses=Object(o.a)(this.allIngresses,{Namespace:e}),Object(s.a)(this.ingresses,t=>{t.Namespace=e,Object(s.a)(t.Paths,e=>{const t=Object(a.a)(this.applications,{ServiceName:e.ServiceName});e.ApplicationName=t&&t.Name?t.Name:\"-\"})})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve ingresses.\")}finally{this.state.ingressesLoading=!1}})}getRegistries(){return this.$async(async()=>{try{const e=this.$state.params.id;if(this.isAdmin)return this.registries=await this.EndpointService.registries(this.endpoint.Id),this.registries.forEach(t=>{t.RegistryAccesses&&t.RegistryAccesses[this.endpoint.Id]&&t.RegistryAccesses[this.endpoint.Id].Namespaces.includes(e)&&(t.Checked=!0,t.WasChecked=!0,this.formValues.Registries.push(t))}),void(this.selectedRegistries=this.formValues.Registries.map(e=>e.Name).join(\", \"));const t=await this.EndpointService.registries(this.endpoint.Id,e);this.selectedRegistries=t.map(e=>e.Name).join(\", \")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registries\")}})}async getResourceUsage(e){try{const t=await this.KubernetesMetricsService.getPods(e),n=t.items.flatMap(e=>e.containers.map(e=>e.usage)).reduce((e,t)=>(e.CPU+=h.default.parseCPU(t.cpu),e.Memory+=h.default.megaBytesValue(t.memory),e),new f.KubernetesResourceReservation);this.state.resourceUsage=n}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve namespace resource usage\")}}$onInit(){return this.$async(async()=>{try{this.isAdmin=this.Authentication.isAdmin(),this.state={actionInProgress:!1,sliderMaxMemory:0,sliderMaxCpu:0,cpuUsage:0,memoryUsage:0,resourceReservation:{CPU:0,Memory:0},activeTab:0,currentName:this.$state.$current.name,showEditorTab:!1,eventsLoading:!0,applicationsLoading:!0,ingressesLoading:!0,viewReady:!1,eventWarningCount:0,canUseIngress:this.endpoint.Kubernetes.Configuration.IngressClasses.length,useServerMetrics:this.endpoint.Kubernetes.Configuration.UseServerMetrics,duplicates:{ingressHosts:new w.KubernetesFormValidationReferences}},this.state.activeTab=this.LocalStorage.getActiveTab(\"resourcePool\");const e=this.$state.params.id,[t,n]=await Promise.all([this.KubernetesNodeService.get(),this.KubernetesResourcePoolService.get()]);this.pool=Object(a.a)(n,{Namespace:{Name:e}}),this.formValues=new b.KubernetesResourcePoolFormValues(g.KubernetesResourceQuotaDefaults),this.formValues.Name=this.pool.Namespace.Name,this.formValues.EndpointId=this.endpoint.Id,this.formValues.IsSystem=this.pool.Namespace.IsSystem,Object(s.a)(t,e=>{this.state.sliderMaxMemory+=m()(e.Memory),this.state.sliderMaxCpu+=e.CPU}),this.state.sliderMaxMemory=h.default.megaBytesValue(this.state.sliderMaxMemory);const i=this.pool.Quota;if(i&&(this.oldQuota=u.a.copy(i),this.formValues=C.default.quotaToResourcePoolFormValues(i),this.formValues.EndpointId=this.endpoint.Id,this.state.resourceReservation.CPU=i.CpuLimitUsed,this.state.resourceReservation.Memory=h.default.megaBytesValue(i.MemoryLimitUsed)),this.isSystem=S.default.isSystemNamespace(this.pool.Namespace.Name),this.isDefaultNamespace=S.default.isDefaultNamespace(this.pool.Namespace.Name),this.isEditable=!this.isSystem&&!this.isDefaultNamespace,await this.getEvents(),await this.getApplications(),this.state.canUseIngress){await this.getIngresses();const e=this.endpoint.Kubernetes.Configuration.IngressClasses;this.formValues.IngressClasses=y.KubernetesIngressConverter.ingressClassesToFormValues(e,this.ingresses),Object(s.a)(this.formValues.IngressClasses,e=>{0===e.Hosts.length&&e.Hosts.push(new b.KubernetesResourcePoolIngressClassHostFormValue)})}await this.getRegistries(),this.savedFormValues=u.a.copy(this.formValues)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load view data\")}finally{this.state.viewReady=!0}})}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"resourcePool\",0)}}A.$inject=[\"$async\",\"$state\",\"Authentication\",\"Notifications\",\"LocalStorage\",\"EndpointService\",\"ModalService\",\"KubernetesNodeService\",\"KubernetesMetricsService\",\"KubernetesResourceQuotaService\",\"KubernetesResourcePoolService\",\"KubernetesEventService\",\"KubernetesPodService\",\"KubernetesApplicationService\",\"KubernetesIngressService\",\"KubernetesVolumeService\"],t.default=A,u.a.module(\"portainer.kubernetes\").controller(\"KubernetesResourcePoolController\",A)},function(e,t,n){const a=n(1715);angular.module(\"portainer.kubernetes\").component(\"kubernetesResourcePoolsView\",{templateUrl:a,controller:\"KubernetesResourcePoolsController\",controllerAs:\"ctrl\",bindings:{endpoint:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/resource-pools/resourcePools.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Namespace list\" state=\"kubernetes.resourcePools\" view-ready=\"ctrl.state.viewReady\">\\n  Namespaces\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-resource-pools-datatable\\n        dataset=\"ctrl.resourcePools\"\\n        table-key=\"kubernetes.resourcePools\"\\n        order-by=\"Namespace.Name\"\\n        remove-action=\"ctrl.removeAction\"\\n        refresh-callback=\"ctrl.getResourcePools\"\\n        endpoint=\"ctrl.endpoint\"\\n        data-cy=\"k8sNamespace-namespaceTable\"\\n      ></kubernetes-resource-pools-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);class s{constructor(e,t,n,a,i){this.$async=e,this.$state=t,this.Notifications=n,this.ModalService=a,this.KubernetesResourcePoolService=i,this.onInit=this.onInit.bind(this),this.getResourcePools=this.getResourcePools.bind(this),this.getResourcePoolsAsync=this.getResourcePoolsAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.KubernetesResourcePoolService.delete(n),this.Notifications.success(\"Namespace successfully removed\",n.Namespace.Name);const e=this.resourcePools.indexOf(n);this.resourcePools.splice(e,1)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove namespace\")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion(\"Do you want to remove the selected namespace(s)? All the resources associated to the selected namespace(s) will be removed too.\",t=>{if(t)return this.$async(this.removeActionAsync,e)})}async getResourcePoolsAsync(){try{this.resourcePools=await this.KubernetesResourcePoolService.get()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retreive namespaces\")}}getResourcePools(){return this.$async(this.getResourcePoolsAsync)}async onInit(){this.state={viewReady:!1},await this.getResourcePools(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}}s.$inject=[\"$async\",\"$state\",\"Notifications\",\"ModalService\",\"KubernetesResourcePoolService\"],t.default=s,i.a.module(\"portainer.kubernetes\").controller(\"KubernetesResourcePoolsController\",s)},function(e,t,n){const a=n(1718);angular.module(\"portainer.kubernetes\").component(\"kubernetesStackLogsView\",{templateUrl:a,controller:\"KubernetesStackLogsController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/stacks/logs/logs.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Stacks logs\" state=\"kubernetes.stacks.stack.logs\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a>\\n  &gt; <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.state.transition.namespace })\">{{ ctrl.state.transition.namespace }}</a> &gt;\\n  <a ui-sref=\"kubernetes.applications\">Applications</a> &gt; Stacks &gt; {{ ctrl.state.transition.name }} &gt; Logs\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\" style=\"height: 100%;\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body>\\n          <form class=\"form-horizontal\" autocomplete=\"off\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Actions\\n            </div>\\n            \\x3c!-- auto-refresh --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <label class=\"control-label text-left\">\\n                  Auto-refresh\\n                  <portainer-tooltip position=\"bottom\" message=\"Automatically refresh logs every 30 seconds\"></portainer-tooltip>\\n                </label>\\n                <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"ctrl.state.autoRefresh\" ng-change=\"ctrl.updateAutoRefresh()\" /><i></i> </label>\\n              </div>\\n            </div>\\n            \\x3c!-- !auto-refresh --\\x3e\\n            \\x3c!-- search --\\x3e\\n            <div class=\"form-group\">\\n              <label for=\"logs_search\" class=\"col-sm-1 control-label text-left\">\\n                Search\\n              </label>\\n              <div class=\"col-sm-11\">\\n                <input\\n                  class=\"form-control\"\\n                  type=\"text\"\\n                  name=\"logs_search\"\\n                  ng-model=\"ctrl.state.search\"\\n                  ng-change=\"ctrl.state.selectedLines.length = 0;\"\\n                  placeholder=\"Filter...\"\\n                  auto-focus\\n                />\\n              </div>\\n            </div>\\n            \\x3c!-- !search --\\x3e\\n            \\x3c!-- actions --\\x3e\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button class=\"btn btn-primary btn-sm\" type=\"button\" ng-click=\"ctrl.downloadLogs()\" style=\"margin-left: 0;\"><i class=\"fa fa-download\"></i> Download logs</button>\\n              </div>\\n            </div>\\n            \\x3c!-- !actions --\\x3e\\n          </form>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" style=\"height: 54%;\">\\n    <div class=\"col-sm-12\" style=\"height: 100%;\">\\n      <pre\\n        class=\"log_viewer\"\\n      ><div ng-repeat=\"line in ctrl.state.filteredLogs = (ctrl.stackLogs | filter:ctrl.state.search) track by $index\" class=\"line\" ng-if=\"line\"><p class=\"inner_line\"><span ng-style=\"{\\'color\\': line.Color, \\'font-weight\\': \\'bold\\'};\">{{ line.AppName }}</span> {{ line.Line }}</p></div><div ng-if=\"ctrl.stackLogs.length && !ctrl.state.filteredLogs.length\" class=\"line\"><p class=\"inner_line\">No log line matching the \\'{{ ctrl.state.search }}\\' filter</p></div><div ng-if=\"ctrl.stackLogs.length === 0\" class=\"line\"><p class=\"inner_line\">No logs available</p></div></pre>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(34),i=n(6),s=n(2),r=n(41),o=n(1),l=n.n(o),c=n(294);const d=[\"red\",\"orange\",\"lime\",\"green\",\"darkgreen\",\"cyan\",\"turquoise\",\"teal\",\"deepskyblue\",\"blue\",\"darkblue\",\"slateblue\",\"magenta\",\"darkviolet\"];class u{constructor(e,t,n,a,i,s,r,o){this.$async=e,this.$state=t,this.$interval=n,this.Notifications=a,this.KubernetesApplicationService=i,this.KubernetesPodService=s,this.Blob=o,this.FileSaver=r,this.onInit=this.onInit.bind(this),this.stopRepeater=this.stopRepeater.bind(this),this.generateLogsPromise=this.generateLogsPromise.bind(this),this.generateAppPromise=this.generateAppPromise.bind(this),this.getStackLogsAsync=this.getStackLogsAsync.bind(this)}updateAutoRefresh(){this.state.autoRefresh?this.setUpdateRepeater():this.stopRepeater()}stopRepeater(){l.a.isDefined(this.repeater)&&(this.$interval.cancel(this.repeater),this.repeater=null)}setUpdateRepeater(){this.repeater=this.$interval(this.getStackLogsAsync,this.state.refreshRate)}async generateLogsPromise(e,t){const n={Pod:e,Logs:[]};return n.Logs=await this.KubernetesPodService.logs(e.Namespace,e.Name,t.Name),n}async generateAppPromise(e){const t={Application:e,Pods:[]},n=Object(r.a)(Object(s.a)(e.Pods,e=>Object(s.a)(e.Containers,t=>this.generateLogsPromise(e,t)))),a=await Object(c.default)(n);return t.Pods=a.fulfilled,t}async getStackLogsAsync(){try{const e=await this.KubernetesApplicationService.get(this.state.transition.namespace),t=Object(i.a)(e,e=>e.StackName===this.state.transition.name),n=Object(s.a)(t,this.generateAppPromise),a=await Promise.all(n),o=Object(r.a)(a,(e,t)=>Object(r.a)(e.Pods,e=>Object(s.a)(e.Logs,n=>({Color:d[t%d.length],Line:n,AppName:e.Pod.Name}))));this.stackLogs=o}catch(e){this.stopRepeater(),this.Notifications.error(\"Failure\",e,\"Unable to retrieve application logs\")}}downloadLogs(){const e=new this.Blob([this.dataLogs=Object(a.a)(this.stackLogs,(e,t)=>e+\"\\n\"+t.AppName+\" \"+t.Line,\"\")]);this.FileSaver.saveAs(e,this.state.transition.name+\"_logs.txt\")}async onInit(){this.state={autoRefresh:!1,refreshRate:3e4,search:\"\",viewReady:!1,transition:{namespace:this.$transition$.params().namespace,name:this.$transition$.params().name}},this.stackLogs=[];try{await this.getStackLogsAsync()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve stack logs\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.stopRepeater()}}u.$inject=[\"$async\",\"$state\",\"$interval\",\"Notifications\",\"KubernetesApplicationService\",\"KubernetesPodService\",\"FileSaver\",\"Blob\"],t.default=u,l.a.module(\"portainer.kubernetes\").controller(\"KubernetesStackLogsController\",u)},function(e,t,n){const a=n(1721);angular.module(\"portainer.kubernetes\").component(\"kubernetesSummaryView\",{templateUrl:a,controller:\"KubernetesSummaryController\",controllerAs:\"$ctrl\",bindings:{formValues:\"<\",oldFormValues:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/summary/summary.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div\\n  class=\"col-xs-12 form-section-title interactive\"\\n  ng-click=\"$ctrl.toggleSummary()\"\\n  style=\"display: flex; justify-content: space-between;\"\\n  ng-if=\"$ctrl.state.resources.length > 0\"\\n>\\n  Summary\\n  <span class=\"small space-left\">\\n    <a ng-if=\"!$ctrl.state.expandedTemplate\"><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i> expand</a>\\n    <a ng-if=\"$ctrl.state.expandedTemplate\"><i class=\"fa fa-angle-up\" aria-hidden=\"true\"></i> collapse</a>\\n  </span>\\n</div>\\n\\n<div class=\"form-group\" ng-if=\"$ctrl.state.expandedTemplate\">\\n  <div class=\"col-sm-12 small text-muted\">\\n    <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n    Portainer will execute the following Kubernetes actions.\\n  </div>\\n\\n  <div class=\"col-sm-12 small text-muted\" style=\"padding-top: 1em;\" ng-if=\"$ctrl.state.resources.length > 0\">\\n    <ul>\\n      <li ng-repeat=\"summary in $ctrl.state.resources\" ng-if=\"summary.action && summary.kind && summary.name\">\\n        {{ summary.action }}\\n        {{ $ctrl.getArticle(summary.kind, summary.action) }}\\n        <span class=\"bold\">{{ summary.kind }}</span> named <code>{{ summary.name }}</code>\\n        <span ng-if=\"summary.type\">\\n          of type <code>{{ summary.type }}</code></span\\n        >\\n      </li>\\n      <li ng-if=\"$ctrl.state.limits.memory\">\\n        Set the memory resources limits and requests to <code>{{ $ctrl.state.limits.memory }}M</code>\\n      </li>\\n      <li ng-if=\"$ctrl.state.limits.cpu\">\\n        Set the CPU resources limits and requests to <code>{{ $ctrl.state.limits.cpu }}</code>\\n      </li>\\n    </ul>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(86),r=n(73),o=n(24),l=n(39),c=n(622),d=n(624),u=n(623);class p{constructor(e,t,n){this.LocalStorage=t,this.KubernetesResourcePoolService=n,this.toggleSummary=this.toggleSummary.bind(this),this.generateResourceSummaryList=this.generateResourceSummaryList.bind(this),e.$watch(\"$ctrl.formValues\",e=>{this.state.resources=this.generateResourceSummaryList(i.a.copy(e))},!0)}getArticle(e,t){let n=\"a\";return t===l.KubernetesResourceActions.CREATE?e===l.KubernetesResourceTypes.INGRESS&&(n=\"an\"):n=\"the\",n}toggleSummary(){this.state.expandedTemplate=!this.state.expandedTemplate,this.LocalStorage.storeKubernetesSummaryToggle(this.state.expandedTemplate)}generateResourceSummaryList(e){const t=this.oldFormValues;return e instanceof s.KubernetesConfigurationFormValues?Object(u.default)(e):e instanceof r.KubernetesResourcePoolFormValues?Object(d.default)(e,t):e instanceof o.KubernetesApplicationFormValues?(this.state.limits={cpu:e.CpuLimit,memory:e.MemoryLimit},Object(c.default)(e,t)):[]}$onInit(){const e=this.LocalStorage.getKubernetesSummaryToggle(),t=\"boolean\"!=typeof e||e;this.state={expandedTemplate:t,resources:[],limits:{cpu:null,memory:null}}}}p.$inject=[\"$scope\",\"LocalStorage\",\"KubernetesResourcePoolService\"],t.default=p,i.a.module(\"portainer.kubernetes\").controller(\"KubernetesSummaryController\",p)},function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(6);angular.module(\"portainer.kubernetes\").controller(\"KubernetesVolumesStoragesDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{expandedItems:[],expandAll:!1}),this.onSettingsRepeaterChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.expandItem=function(e,t){this.itemCanExpand(e)&&(e.Expanded=t,t||(e.Highlighted=!1))},this.itemCanExpand=function(e){return e.Volumes.length>0},this.hasExpandableItems=function(){return Object(i.a)(this.state.filteredDataSet,e=>this.itemCanExpand(e)).length},this.expandAll=function(){this.state.expandAll=!this.state.expandAll,Object(a.a)(this.state.filteredDataSet,e=>{this.itemCanExpand(e)&&this.expandItem(e,this.state.expandAll)})},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1725);angular.module(\"portainer.kubernetes\").component(\"kubernetesVolumesStoragesDatatable\",{templateUrl:a,controller:\"KubernetesVolumesStoragesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",refreshCallback:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/volumes/components/volumes-storages-datatable/template.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Table settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th style=\"width: 20px;\">\\n                <a ng-click=\"$ctrl.expandAll()\" ng-if=\"$ctrl.hasExpandableItems()\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': $ctrl.state.expandAll, \\'fas fa-angle-right\\': !$ctrl.state.expandAll }\" aria-hidden=\"true\"></i>\\n                </a>\\n              </th>\\n              <th style=\"width: 60%;\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Storage\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th style=\"width: 38%;\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Size\\')\">\\n                  Usage\\n                  <i class=\"fa fa-sort-numeric-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Size\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-numeric-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Size\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate-start=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit: $ctrl.tableKey))\"\\n              ng-class=\"{ active: item.Checked, \\'datatable-highlighted\\': item.Highlighted }\"\\n              ng-click=\"$ctrl.expandItem(item, !item.Expanded)\"\\n              pagination-id=\"$ctrl.tableKey\"\\n            >\\n              <td>\\n                <a ng-if=\"$ctrl.itemCanExpand(item)\">\\n                  <i ng-class=\"{ \\'fas fa-angle-down\\': item.Expanded, \\'fas fa-angle-right\\': !item.Expanded }\" class=\"space-right\" aria-hidden=\"true\"></i>\\n                </a>\\n              </td>\\n              <td>{{ item.Name }}</td>\\n              <td>{{ item.Size }}</td>\\n            </tr>\\n            <tr\\n              dir-paginate-end\\n              ng-show=\"item.Expanded\"\\n              ng-repeat=\"vol in item.Volumes\"\\n              ng-class=\"{ \\'datatable-highlighted\\': item.Highlighted, \\'datatable-unhighlighted\\': !item.Highlighted }\"\\n            >\\n              <td></td>\\n              <td>\\n                <a ui-sref=\"kubernetes.volumes.volume({ name: vol.PersistentVolumeClaim.Name, namespace: vol.PersistentVolumeClaim.Namespace })\">\\n                  {{ vol.PersistentVolumeClaim.Name }}\\n                </a>\\n              </td>\\n              <td>\\n                {{ vol.PersistentVolumeClaim.Storage }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No storage available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" pagination-id=\"$ctrl.tableKey\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1727);angular.module(\"portainer.kubernetes\").component(\"kubernetesVolumeView\",{templateUrl:a,controller:\"KubernetesVolumeController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/volumes/edit/volume.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Volume details\" state=\"kubernetes.volumes.volume\" view-ready=\"ctrl.state.viewReady\">\\n  <a ui-sref=\"kubernetes.resourcePools\">Namespaces</a> &gt;\\n  <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.volume.ResourcePool.Namespace.Name })\">{{ ctrl.volume.ResourcePool.Namespace.Name }}</a> &gt;\\n  <a ui-sref=\"kubernetes.volumes\">Volumes</a> &gt; {{ ctrl.volume.PersistentVolumeClaim.Name }}\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\">\\n              <uib-tab-heading data-cy=\"k8sVolDetail-volTab\"> <i class=\"fa fa-database space-right\" aria-hidden=\"true\"></i> Volume </uib-tab-heading>\\n\\n              <div style=\"padding: 20px;\">\\n                <table class=\"table\">\\n                  <tbody>\\n                    <tr>\\n                      <td>Name</td>\\n                      <td data-cy=\"k8sVolDetail-volName\">\\n                        {{ ctrl.volume.PersistentVolumeClaim.Name }}\\n                        <span class=\"label label-primary image-tag label-margins\" ng-if=\"!ctrl.isSystemNamespace() && ctrl.isExternalVolume()\">external</span>\\n                        <span class=\"label label-warning image-tag label-margins\" ng-if=\"!ctrl.isSystemNamespace() && !ctrl.isUsed()\">unused</span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Namespace</td>\\n                      <td>\\n                        <a ui-sref=\"kubernetes.resourcePools.resourcePool({ id: ctrl.volume.ResourcePool.Namespace.Name })\" data-cy=\"k8sVolDetail-volNamespace\">{{\\n                          ctrl.volume.ResourcePool.Namespace.Name\\n                        }}</a>\\n                        <span style=\"margin-left: 5px;\" class=\"label label-info image-tag\" ng-if=\"ctrl.isSystemNamespace()\">system</span>\\n                      </td>\\n                    </tr>\\n                    <tr>\\n                      <td>Storage</td>\\n                      <td data-cy=\"k8sVolDetail-volStorageClassname\">{{ ctrl.volume.PersistentVolumeClaim.StorageClass.Name }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Shared Access Policy</td>\\n                      <td data-cy=\"k8sVolDetail-volAccessPolicy\"\\n                        >{{ ctrl.state.volumeSharedAccessPolicy }}\\n                        <portainer-tooltip\\n                          position=\"bottom\"\\n                          ng-if=\"ctrl.state.volumeSharedAccessPolicyTooltip\"\\n                          message=\"{{ ctrl.state.volumeSharedAccessPolicyTooltip }}\"\\n                        ></portainer-tooltip\\n                      ></td>\\n                    </tr>\\n                    <tr>\\n                      <td>Provisioner</td>\\n                      <td data-cy=\"k8sVolDetail-volProvisioner\">{{\\n                        ctrl.volume.PersistentVolumeClaim.StorageClass.Provisioner ? ctrl.volume.PersistentVolumeClaim.StorageClass.Provisioner : \\'-\\'\\n                      }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Creation date</td>\\n                      <td data-cy=\"k8sVolDetail-volCreatedAt\">{{ ctrl.volume.PersistentVolumeClaim.CreationDate | getisodate }}</td>\\n                    </tr>\\n                    <tr>\\n                      <td>Size</td>\\n                      <td ng-if=\"!ctrl.state.increaseSize\">\\n                        {{ ctrl.volume.PersistentVolumeClaim.Storage }}\\n                        <button\\n                          type=\"button\"\\n                          class=\"btn btn-sm btn-primary\"\\n                          ng-click=\"ctrl.state.increaseSize = true\"\\n                          ng-if=\"ctrl.volume.PersistentVolumeClaim.StorageClass.AllowVolumeExpansion\"\\n                          data-cy=\"k8sVolDetail-increaseSizeButton\"\\n                          >Increase size</button\\n                        >\\n                      </td>\\n                      <td ng-if=\"ctrl.state.increaseSize\">\\n                        <form name=\"kubernetesVolumeUpdateForm\">\\n                          <div class=\"form-inline\">\\n                            <div class=\"input-group input-group-sm\">\\n                              <input\\n                                type=\"number\"\\n                                class=\"form-control\"\\n                                name=\"size\"\\n                                ng-model=\"ctrl.state.volumeSize\"\\n                                placeholder=\"20\"\\n                                ng-min=\"0\"\\n                                min=\"0\"\\n                                ng-change=\"ctrl.onChangeSize()\"\\n                                required\\n                                data-cy=\"k8sVolDetail-increaseSizeInput\"\\n                              />\\n                              <span class=\"input-group-addon\" style=\"padding: 0;\">\\n                                <select\\n                                  ng-model=\"ctrl.state.volumeSizeUnit\"\\n                                  ng-change=\"ctrl.onChangeSize()\"\\n                                  ng-options=\"unit for unit in ctrl.state.availableSizeUnits\"\\n                                  style=\"width: 100%; height: 100%;\"\\n                                  data-cy=\"k8sVolDetail-increaseSizeUnits\"\\n                                ></select>\\n                              </span>\\n                            </div>\\n                            <button\\n                              type=\"button\"\\n                              class=\"btn btn-sm btn-primary\"\\n                              ng-disabled=\"!ctrl.sizeIsValid()\"\\n                              ng-click=\"ctrl.updateVolume()\"\\n                              data-cy=\"k8sVolDetail-updateSizeConfirm\"\\n                            >\\n                              Update size\\n                            </button>\\n                            <button type=\"button\" class=\"btn btn-sm btn-default\" ng-click=\"ctrl.state.increaseSize = false\" data-cy=\"k8sVolDetail-cancelUpdateSize\">\\n                              Cancel\\n                            </button>\\n                          </div>\\n\\n                          <div class=\"form-inline\">\\n                            <div class=\"small text-warning\" style=\"margin-top: 5px;\" ng-show=\"ctrl.state.errors.volumeSize || kubernetesVolumeUpdateForm.size.$invalid\">\\n                              <div ng-messages=\"kubernetesVolumeUpdateForm.size.$error\">\\n                                <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n                              </div>\\n                              <p ng-show=\"ctrl.state.errors.volumeSize && !kubernetesVolumeUpdateForm.size.$invalid\"\\n                                ><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> The new size must be greater than the actual size.</p\\n                              >\\n                            </div>\\n                          </div>\\n                        </form>\\n                      </td>\\n                    </tr>\\n                  </tbody>\\n                </table>\\n              </div>\\n            </uib-tab>\\n\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\">\\n              <uib-tab-heading data-cy=\"k8sVolDetail-volEventsTab\">\\n                <i class=\"fa fa-history space-right\" aria-hidden=\"true\"></i> Events\\n                <div ng-if=\"ctrl.hasEventWarnings()\">\\n                  <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  {{ ctrl.state.eventWarningCount }} warning(s)\\n                </div>\\n              </uib-tab-heading>\\n              <kubernetes-events-datatable\\n                title-text=\"Events\"\\n                title-icon=\"fa-history\"\\n                dataset=\"ctrl.events\"\\n                table-key=\"kubernetes.volume.events\"\\n                order-by=\"Date\"\\n                reverse-order=\"true\"\\n                loading=\"ctrl.state.eventsLoading\"\\n                refresh-callback=\"ctrl.getEvents\"\\n              >\\n              </kubernetes-events-datatable>\\n            </uib-tab>\\n\\n            <uib-tab index=\"2\" ng-if=\"ctrl.volume.PersistentVolumeClaim.Yaml\" select=\"ctrl.showEditor()\" classes=\"btn-sm\">\\n              <uib-tab-heading data-cy=\"k8sVolDetail-volYamlTab\"> <i class=\"fa fa-code space-right\" aria-hidden=\"true\"></i> YAML </uib-tab-heading>\\n              <div style=\"padding-right: 25px;\" ng-if=\"ctrl.state.showEditorTab\">\\n                <kubernetes-yaml-inspector key=\"volume-yaml\" data=\"ctrl.volume.PersistentVolumeClaim.Yaml\"></kubernetes-yaml-inspector>\\n              </div>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n\\n  <div class=\"row\" ng-if=\"ctrl.isUsed(item)\">\\n    <div class=\"col-sm-12\">\\n      <kubernetes-integrated-applications-datatable\\n        dataset=\"ctrl.volume.Applications\"\\n        table-key=\"kubernetes.volume.applications\"\\n        order-by=\"Name\"\\n        refresh-callback=\"ctrl.getVolume\"\\n        title-text=\"Applications using this volume\"\\n        title-icon=\"fa-laptop-code\"\\n      >\\n      </kubernetes-integrated-applications-datatable>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(6),i=n(2),s=n(75),r=n(1),o=n.n(r),l=n(56),c=n.n(l),d=n(99),u=n(133),p=n(198),m=n(27);class g{constructor(e,t,n,a,i,s,r,o,l,c){this.$async=e,this.$state=t,this.Notifications=n,this.LocalStorage=a,this.KubernetesVolumeService=i,this.KubernetesEventService=s,this.KubernetesApplicationService=r,this.KubernetesPersistentVolumeClaimService=o,this.ModalService=l,this.KubernetesPodService=c,this.onInit=this.onInit.bind(this),this.getVolume=this.getVolume.bind(this),this.getVolumeAsync=this.getVolumeAsync.bind(this),this.updateVolumeAsync=this.updateVolumeAsync.bind(this),this.getEvents=this.getEvents.bind(this),this.getEventsAsync=this.getEventsAsync.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab(\"volume\",e)}showEditor(){this.state.showEditorTab=!0,this.selectTab(2)}isExternalVolume(){return d.default.isExternalVolume(this.volume)}isSystemNamespace(){return m.default.isSystemNamespace(this.volume.ResourcePool.Namespace.Name)}isUsed(){return d.default.isUsed(this.volume)}onChangeSize(){if(this.state.volumeSize){const e=c()(this.state.volumeSize+this.state.volumeSizeUnit,{base:10});this.state.oldVolumeSize>e?this.state.errors.volumeSize=!0:this.state.errors.volumeSize=!1}}sizeIsValid(){return!this.state.errors.volumeSize&&this.state.volumeSize&&this.state.oldVolumeSize!==c()(this.state.volumeSize+this.state.volumeSizeUnit,{base:10})}async updateVolumeAsync(e){try{if(this.volume.PersistentVolumeClaim.Storage=this.state.volumeSize+this.state.volumeSizeUnit.charAt(0),await this.KubernetesPersistentVolumeClaimService.patch(this.oldVolume.PersistentVolumeClaim,this.volume.PersistentVolumeClaim),this.Notifications.success(\"Volume successfully updated\"),e){const e=Object(s.a)(Object(i.a)(this.volume.Applications,e=>Object(i.a)(e.Pods,e=>this.KubernetesPodService.delete(e))));await Promise.all(e),this.Notifications.success(\"Applications successfully redeployed\")}this.$state.reload(this.$state.current)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to update volume.\")}}updateVolume(){if(!d.default.isUsed(this.volume))return this.$async(this.updateVolumeAsync,!1);this.ModalService.confirmRedeploy(\"One or multiple applications are currently using this volume.</br> For the change to be taken into account these applications will need to be redeployed. Do you want us to reschedule it now?\",e=>this.$async(this.updateVolumeAsync,e))}async getVolumeAsync(){try{const[e,t]=await Promise.all([this.KubernetesVolumeService.get(this.state.namespace,this.state.name),this.KubernetesApplicationService.get(this.state.namespace)]);e.Applications=d.default.getUsingApplications(e,t),this.volume=e,this.oldVolume=o.a.copy(e),this.state.volumeSize=parseInt(e.PersistentVolumeClaim.Storage.slice(0,-2),10),this.state.volumeSizeUnit=e.PersistentVolumeClaim.Storage.slice(-2),this.state.oldVolumeSize=c()(e.PersistentVolumeClaim.Storage,{base:10})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve volume\")}}getVolume(){return this.$async(this.getVolumeAsync)}hasEventWarnings(){return this.state.eventWarningCount}async getEventsAsync(){try{this.state.eventsLoading=!0;const e=await this.KubernetesEventService.get(this.state.namespace);this.events=Object(a.a)(e,e=>e.Involved.uid===this.volume.PersistentVolumeClaim.Id),this.state.eventWarningCount=u.default.warningCount(this.events)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve application related events\")}finally{this.state.eventsLoading=!1}}getEvents(){return this.$async(this.getEventsAsync)}async onInit(){this.state={activeTab:0,currentName:this.$state.$current.name,showEditorTab:!1,eventsLoading:!0,viewReady:!1,namespace:this.$transition$.params().namespace,name:this.$transition$.params().name,eventWarningCount:0,availableSizeUnits:[\"MB\",\"GB\",\"TB\"],increaseSize:!1,volumeSize:0,volumeSizeUnit:\"GB\",volumeSharedAccessPolicy:\"\",volumeSharedAccessPolicyTooltip:\"\",errors:{volumeSize:!1}},this.state.activeTab=this.LocalStorage.getActiveTab(\"volume\");try{if(await this.getVolume(),await this.getEvents(),void 0!==this.volume.PersistentVolumeClaim.StorageClass){this.state.volumeSharedAccessPolicy=this.volume.PersistentVolumeClaim.StorageClass.AccessModes[this.volume.PersistentVolumeClaim.StorageClass.AccessModes.length-1],Object(p.KubernetesStorageClassAccessPolicies)().forEach(e=>{e.Name==this.state.volumeSharedAccessPolicy&&(this.state.volumeSharedAccessPolicyTooltip=e.Description)})}}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to load view data\")}finally{this.state.viewReady=!0}}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"volume\",0)}}g.$inject=[\"$async\",\"$state\",\"Notifications\",\"LocalStorage\",\"KubernetesVolumeService\",\"KubernetesEventService\",\"KubernetesApplicationService\",\"KubernetesPersistentVolumeClaimService\",\"ModalService\",\"KubernetesPodService\"],t.default=g,o.a.module(\"portainer.kubernetes\").controller(\"KubernetesVolumeController\",g)},function(e,t,n){const a=n(1730);angular.module(\"portainer.kubernetes\").component(\"kubernetesVolumesView\",{templateUrl:a,controller:\"KubernetesVolumesController\",controllerAs:\"ctrl\",bindings:{$transition$:\"<\"}})},function(e,t){var n=\"app/kubernetes/views/volumes/volumes.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<kubernetes-view-header title=\"Volume list\" state=\"kubernetes.volumes\" view-ready=\"ctrl.state.viewReady\">\\n  Volumes\\n</kubernetes-view-header>\\n\\n<kubernetes-view-loading view-ready=\"ctrl.state.viewReady\"></kubernetes-view-loading>\\n\\n<div ng-if=\"ctrl.state.viewReady\">\\n  <div class=\"row\">\\n    <div class=\"col-sm-12\">\\n      <rd-widget>\\n        <rd-widget-body classes=\"no-padding\">\\n          <uib-tabset active=\"ctrl.state.activeTab\" justified=\"true\" type=\"pills\">\\n            <uib-tab index=\"0\" classes=\"btn-sm\" select=\"ctrl.selectTab(0)\">\\n              <uib-tab-heading> <i class=\"fa fa-database space-right\" aria-hidden=\"true\"></i> Volumes</uib-tab-heading>\\n              <kubernetes-volumes-datatable\\n                dataset=\"ctrl.volumes\"\\n                table-key=\"kubernetes.volumes\"\\n                order-by=\"PersistentVolumeClaim.Name\"\\n                remove-action=\"ctrl.removeAction\"\\n                refresh-callback=\"ctrl.getVolumes\"\\n              >\\n              </kubernetes-volumes-datatable>\\n            </uib-tab>\\n            <uib-tab index=\"1\" classes=\"btn-sm\" select=\"ctrl.selectTab(1)\">\\n              <uib-tab-heading> <i class=\"fa fa-hdd space-right\" aria-hidden=\"true\"></i> Storage</uib-tab-heading>\\n              <kubernetes-volumes-storages-datatable dataset=\"ctrl.storages\" table-key=\"kubernetes.volumes.storages\" order-by=\"Name\" refresh-callback=\"ctrl.getVolumes\">\\n              </kubernetes-volumes-storages-datatable>\\n            </uib-tab>\\n          </uib-tabset>\\n        </rd-widget-body>\\n      </rd-widget>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(415),s=n(6),r=n(7),o=n(56),l=n.n(o),c=n(1),d=n.n(c),u=n(99),p=n(150);function m(e,t){return Object(r.a)(e,e=>{const n=Object(s.a)(t,[\"PersistentVolumeClaim.StorageClass.Name\",e.Name,\"PersistentVolumeClaim.StorageClass.Provisioner\",e.Provisioner]);e.Volumes=n,e.Size=function(e){const t=Object(i.a)(e,e=>l()(e.PersistentVolumeClaim.Storage,{base:10})),n=p.default.formatBytes(t);return`${n.Size}${n.SizeUnit}`}(n)}),e}class g{constructor(e,t,n,a,i,s,r,o,l,c){this.$async=e,this.$state=t,this.Notifications=n,this.Authentication=a,this.ModalService=i,this.LocalStorage=s,this.EndpointProvider=r,this.KubernetesStorageService=o,this.KubernetesVolumeService=l,this.KubernetesApplicationService=c,this.onInit=this.onInit.bind(this),this.getVolumes=this.getVolumes.bind(this),this.getVolumesAsync=this.getVolumesAsync.bind(this),this.removeAction=this.removeAction.bind(this),this.removeActionAsync=this.removeActionAsync.bind(this)}selectTab(e){this.LocalStorage.storeActiveTab(\"volumes\",e)}async removeActionAsync(e){let t=e.length;for(const n of e)try{await this.KubernetesVolumeService.delete(n),this.Notifications.success(\"Volume successfully removed\",n.PersistentVolumeClaim.Name);const e=this.volumes.indexOf(n);this.volumes.splice(e,1)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to remove volume\")}finally{--t,0===t&&this.$state.reload(this.$state.current)}}removeAction(e){this.ModalService.confirmDeletion(\"Do you want to remove the selected volume(s)?\",t=>{if(t)return this.$async(this.removeActionAsync,e)})}async getVolumesAsync(){try{const[e,t,n]=await Promise.all([this.KubernetesVolumeService.get(),this.KubernetesApplicationService.get(),this.KubernetesStorageService.get(this.state.endpointId)]);this.volumes=Object(a.a)(e,e=>(e.Applications=u.default.getUsingApplications(e,t),e)),this.storages=m(n,e)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retreive namespaces\")}}getVolumes(){return this.$async(this.getVolumesAsync)}async onInit(){this.state={viewReady:!1,currentName:this.$state.$current.name,endpointId:this.EndpointProvider.endpointID(),activeTab:this.LocalStorage.getActiveTab(\"volumes\"),isAdmin:this.Authentication.isAdmin()},await this.getVolumes(),this.state.viewReady=!0}$onInit(){return this.$async(this.onInit)}$onDestroy(){this.state.currentName!==this.$state.$current.name&&this.LocalStorage.storeActiveTab(\"volumes\",0)}}g.$inject=[\"$async\",\"$state\",\"Notifications\",\"Authentication\",\"ModalService\",\"LocalStorage\",\"EndpointProvider\",\"KubernetesStorageService\",\"KubernetesVolumeService\",\"KubernetesApplicationService\"],t.default=g,d.a.module(\"portainer.kubernetes\").controller(\"KubernetesVolumesController\",g)},function(e,t,n){const a=n(1733);angular.module(\"portainer.app\").component(\"accessDatatable\",{templateUrl:a,controller:\"AccessDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",roles:\"<\",tableKey:\"@\",orderBy:\"@\",removeAction:\"<\",updateAction:\"<\",reverseOrder:\"<\",inheritFrom:\"<\"}})},function(e,t){var n=\"app/portainer/components/access-datatable/accessDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"{{ $ctrl.titleIcon }}\" title-text=\"{{ $ctrl.titleText }}\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar small\" ng-if=\"$ctrl.inheritFrom\">\\n        Access tagged as <code>inherited</code> are inherited from the group access. They cannot be removed or modified at the environment level but they can be overriden.\\n      </div>\\n      <div class=\"toolBar small\" ng-if=\"$ctrl.inheritFrom\"> Access tagged as <code>override</code> are overriding the group access for the related users/teams. </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n                  Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-disabled=\"$ctrl.disableRemove(item)\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                {{ item.Name }}\\n                <span ng-if=\"$ctrl.inheritFrom && item.Inherited\" class=\"text-muted small\" style=\"margin-left: 2px;\"\\n                  ><code style=\"font-size: 85% !important;\">inherited</code></span\\n                >\\n                <span ng-if=\"$ctrl.inheritFrom && item.Override\" class=\"text-muted small\" style=\"margin-left: 2px;\"><code style=\"font-size: 85% !important;\">override</code></span>\\n              </td>\\n              <td>{{ item.Type }}</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"4\" class=\"text-center text-muted\">No authorized users or teams.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.app\").controller(\"AccessDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.disableRemove=function(e){return e.Inherited&&this.inheritFrom},this.allowSelection=function(e){return!this.disableRemove(e)},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1736);angular.module(\"portainer.app\").component(\"accessTable\",{templateUrl:a,controller:function(){this.state={orderBy:\"Name\",reverseOrder:!1,paginatedItemLimit:\"10\",textFilter:\"\"},this.changeOrderBy=function(e){this.state.reverseOrder=this.state.orderBy===e&&!this.state.reverseOrder,this.state.orderBy=e}},bindings:{dataset:\"<\",entryClick:\"<\",emptyDatasetMessage:\"@\"}})},function(e,t){var n=\"app/portainer/components/access-table/accessTable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <table class=\"table table-hover\">\\n    <div class=\"col-sm-12\">\\n      <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n      <input\\n        type=\"text\"\\n        class=\"searchInput\"\\n        ng-model=\"$ctrl.state.textFilter\"\\n        ng-change=\"$ctrl.onTextFilterChange()\"\\n        placeholder=\"Search...\"\\n        ng-model-options=\"{ debounce: 300 }\"\\n      />\\n    </div>\\n    <thead>\\n      <tr>\\n        <th>\\n          <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n            Name\\n            <span ng-show=\"$ctrl.state.orderBy == \\'Name\\' && !$ctrl.state.reverseOrder\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n            <span ng-show=\"$ctrl.state.orderBy == \\'Name\\' && $ctrl.state.reverseOrder\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n          </a>\\n        </th>\\n        <th>\\n          <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n            Type\\n            <span ng-show=\"$ctrl.state.orderBy == \\'Type\\' && !$ctrl.state.reverseOrder\" class=\"glyphicon glyphicon-chevron-down\"></span>\\n            <span ng-show=\"$ctrl.state.orderBy == \\'Type\\' && $ctrl.state.reverseOrder\" class=\"glyphicon glyphicon-chevron-up\"></span>\\n          </a>\\n        </th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr\\n        ng-click=\"!item.Inherited && $ctrl.entryClick(item)\"\\n        ng-class=\"{ interactive: !item.Inherited }\"\\n        dir-paginate=\"item in $ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit\"\\n      >\\n        <td>\\n          {{ item.Name }}\\n          \\x3c!-- <span class=\"image-tag label label-\">inherited</span> --\\x3e\\n          <span ng-if=\"item.Inherited\" class=\"text-muted small\" style=\"margin-left: 2px;\"><code style=\"font-size: 85% !important;\">inherited</code></span>\\n        </td>\\n        <td>\\n          <i class=\"fa\" ng-class=\"item.Type === \\'user\\' ? \\'fa-user\\' : \\'fa-users\\'\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n          {{ item.Type }}\\n        </td>\\n      </tr>\\n      <tr ng-if=\"!$ctrl.dataset\">\\n        <td colspan=\"2\" class=\"text-center text-muted\">Loading...</td>\\n      </tr>\\n      <tr\\n        ng-if=\"\\n          $ctrl.dataset.length === 0 ||\\n          ($ctrl.dataset | filter: $ctrl.state.textFilter | orderBy: $ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit).length === 0\\n        \"\\n      >\\n        <td colspan=\"2\" class=\"text-center text-muted\">{{ $ctrl.emptyDatasetMessage }}</td>\\n      </tr>\\n    </tbody>\\n  </table>\\n  <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n    <div class=\"paginationControls\">\\n      <form class=\"form-inline\">\\n        <span class=\"limitSelector\">\\n          <span style=\"margin-right: 5px;\">\\n            Items per page\\n          </span>\\n          <select ng-model=\"$ctrl.state.paginatedItemLimit\">\\n            <option value=\"0\">All</option>\\n            <option value=\"10\">10</option>\\n            <option value=\"25\">25</option>\\n            <option value=\"50\">50</option>\\n            <option value=\"100\">100</option>\\n          </select>\\n        </span>\\n        <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1738);angular.module(\"portainer.app\").component(\"porAccessControlForm\",{templateUrl:a,controller:\"porAccessControlFormController\",bindings:{formData:\"=\",resourceControl:\"<\",hideTitle:\"<\"}})},function(e,t){var n=\"app/portainer/components/accessControlForm/porAccessControlForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <div ng-if=\"!$ctrl.hideTitle\" class=\"col-sm-12 form-section-title\">\\n    Access control\\n  </div>\\n  \\x3c!-- access-control-switch --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <label for=\"ownership\" class=\"control-label text-left\">\\n        Enable access control\\n        <portainer-tooltip position=\"bottom\" message=\"When enabled, you can restrict the access and management of this resource.\"></portainer-tooltip>\\n      </label>\\n      <label class=\"switch\" style=\"margin-left: 20px;\"> <input name=\"ownership\" type=\"checkbox\" ng-model=\"$ctrl.formData.AccessControlEnabled\" /><i></i> </label>\\n    </div>\\n  </div>\\n  \\x3c!-- !access-control-switch --\\x3e\\n  \\x3c!-- restricted-access --\\x3e\\n  <div class=\"form-group\" ng-if=\"$ctrl.formData.AccessControlEnabled\" style=\"margin-bottom: 0;\">\\n    <div class=\"boxselector_wrapper\">\\n      <div ng-if=\"$ctrl.isAdmin\">\\n        <input type=\"radio\" id=\"access_administrators\" ng-model=\"$ctrl.formData.Ownership\" value=\"administrators\" />\\n        <label for=\"access_administrators\">\\n          <div class=\"boxselector_header\">\\n            <i ng-class=\"\\'administrators\\' | ownershipicon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            Administrators\\n          </div>\\n          <p>I want to restrict the management of this resource to administrators only</p>\\n        </label>\\n      </div>\\n      <div ng-if=\"$ctrl.isAdmin\">\\n        <input type=\"radio\" id=\"access_restricted\" ng-model=\"$ctrl.formData.Ownership\" value=\"restricted\" />\\n        <label for=\"access_restricted\">\\n          <div class=\"boxselector_header\">\\n            <i ng-class=\"\\'restricted\\' | ownershipicon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            Restricted\\n          </div>\\n          <p>\\n            I want to restrict the management of this resource to a set of users and/or teams\\n          </p>\\n        </label>\\n      </div>\\n      <div ng-if=\"!$ctrl.isAdmin\">\\n        <input type=\"radio\" id=\"access_private\" ng-model=\"$ctrl.formData.Ownership\" value=\"private\" />\\n        <label for=\"access_private\">\\n          <div class=\"boxselector_header\">\\n            <i ng-class=\"\\'private\\' | ownershipicon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            Private\\n          </div>\\n          <p>\\n            I want to this resource to be manageable by myself only\\n          </p>\\n        </label>\\n      </div>\\n      <div ng-if=\"!$ctrl.isAdmin && $ctrl.availableTeams.length > 0\">\\n        <input type=\"radio\" id=\"access_restricted\" ng-model=\"$ctrl.formData.Ownership\" value=\"restricted\" />\\n        <label for=\"access_restricted\">\\n          <div class=\"boxselector_header\">\\n            <i ng-class=\"\\'restricted\\' | ownershipicon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            Restricted\\n          </div>\\n          <p ng-if=\"$ctrl.availableTeams.length === 1\">\\n            I want any member of my team (<b>{{ $ctrl.availableTeams[0].Name }}</b\\n            >) to be able to manage this resource\\n          </p>\\n          <p ng-if=\"$ctrl.availableTeams.length > 1\">\\n            I want to restrict the management of this resource to one or more of my teams\\n          </p>\\n        </label>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- restricted-access --\\x3e\\n  \\x3c!-- authorized-teams --\\x3e\\n  <div\\n    class=\"form-group\"\\n    ng-if=\"$ctrl.formData.AccessControlEnabled && $ctrl.formData.Ownership === $ctrl.RCO.RESTRICTED && ($ctrl.isAdmin || (!$ctrl.isAdmin && $ctrl.availableTeams.length > 1))\"\\n  >\\n    <div class=\"col-sm-12\">\\n      <label for=\"group-access\" class=\"control-label text-left\">\\n        Authorized teams\\n        <portainer-tooltip\\n          ng-if=\"$ctrl.isAdmin && $ctrl.availableTeams.length > 0\"\\n          position=\"bottom\"\\n          message=\"You can select which teams(s) will be able to manage this resource.\"\\n        ></portainer-tooltip>\\n        <portainer-tooltip\\n          ng-if=\"!$ctrl.isAdmin && $ctrl.availableTeams.length > 1\"\\n          position=\"bottom\"\\n          message=\"As you are a member of multiple teams, you can select which teams(s) will be able to manage this resource.\"\\n        ></portainer-tooltip>\\n      </label>\\n      <span ng-if=\"$ctrl.isAdmin && $ctrl.availableTeams.length === 0\" class=\"small text-muted\" style=\"margin-left: 20px;\">\\n        You have not yet created any teams. Head over to the <a ui-sref=\"portainer.teams\">Teams view</a> to manage teams.\\n      </span>\\n      <span\\n        isteven-multi-select\\n        ng-if=\"($ctrl.isAdmin && $ctrl.availableTeams.length > 0) || (!$ctrl.isAdmin && $ctrl.availableTeams.length > 1)\"\\n        input-model=\"$ctrl.availableTeams\"\\n        output-model=\"$ctrl.formData.AuthorizedTeams\"\\n        button-label=\"Name\"\\n        item-label=\"Name\"\\n        tick-property=\"selected\"\\n        helper-elements=\"filter\"\\n        search-property=\"Name\"\\n        translation=\"{nothingSelected: \\'Select one or more teams\\', search: \\'Search...\\'}\"\\n        style=\"margin-left: 20px;\"\\n      >\\n      </span>\\n    </div>\\n  </div>\\n  \\x3c!-- !authorized-teams --\\x3e\\n  \\x3c!-- authorized-users --\\x3e\\n  <div class=\"form-group\" ng-if=\"$ctrl.formData.AccessControlEnabled && $ctrl.formData.Ownership === $ctrl.RCO.RESTRICTED && $ctrl.isAdmin\">\\n    <div class=\"col-sm-12\">\\n      <label for=\"group-access\" class=\"control-label text-left\">\\n        Authorized users\\n        <portainer-tooltip\\n          ng-if=\"$ctrl.isAdmin && $ctrl.availableUsers.length > 0\"\\n          position=\"bottom\"\\n          message=\"You can select which user(s) will be able to manage this resource.\"\\n        ></portainer-tooltip>\\n      </label>\\n      <span ng-if=\"$ctrl.availableUsers.length === 0\" class=\"small text-muted\" style=\"margin-left: 20px;\">\\n        You have not yet created any users. Head over to the <a ui-sref=\"portainer.users\">Users view</a> to manage users.\\n      </span>\\n      <span\\n        isteven-multi-select\\n        ng-if=\"$ctrl.availableUsers.length > 0\"\\n        input-model=\"$ctrl.availableUsers\"\\n        output-model=\"$ctrl.formData.AuthorizedUsers\"\\n        button-label=\"Username\"\\n        item-label=\"Username\"\\n        tick-property=\"selected\"\\n        helper-elements=\"filter\"\\n        search-property=\"Username\"\\n        translation=\"{nothingSelected: \\'Select one or more users\\', search: \\'Search...\\'}\"\\n        style=\"margin-left: 20px;\"\\n      >\\n      </span>\\n    </div>\\n  </div>\\n  \\x3c!-- !authorized-users --\\x3e\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(76),i=n(5),s=n(29);angular.module(\"portainer.app\").controller(\"porAccessControlFormController\",[\"$q\",\"UserService\",\"TeamService\",\"Notifications\",\"Authentication\",\"ResourceControlService\",function(e,t,n,r,o,l){var c=this;c.RCO=s.ResourceControlOwnership,c.availableTeams=[],c.availableUsers=[],this.$onInit=function(){var d=o.isAdmin();c.isAdmin=d,d&&(c.formData.Ownership=c.RCO.ADMINISTRATORS);e.all({availableTeams:n.teams(),availableUsers:d?t.users(!1):[]}).then((function(t){c.availableUsers=Object(a.a)(t.availableUsers,\"Username\",\"asc\");var n=Object(a.a)(t.availableTeams,\"Name\",\"asc\");return c.availableTeams=n,d||1!==n.length||(c.formData.AuthorizedTeams=n),e.when(c.resourceControl&&l.retrieveOwnershipDetails(c.resourceControl))})).then((function(e){if(e){var t=e.authorizedUsers,n=e.authorizedTeams;!function(e,t){t&&e.Ownership===s.ResourceControlOwnership.PRIVATE?c.formData.Ownership=s.ResourceControlOwnership.RESTRICTED:c.formData.Ownership=e.Ownership,c.formData.Ownership===s.ResourceControlOwnership.PUBLIC&&(c.formData.AccessControlEnabled=!1)}(c.resourceControl,d),function(e,t){angular.forEach(c.availableUsers,(function(t){Object(i.a)(e,{Id:t.Id})&&(t.selected=!0)})),angular.forEach(c.availableTeams,(function(e){Object(i.a)(t,{Id:e.Id})&&(e.selected=!0)}))}(t,n)}})).catch((function(e){r.error(\"Failure\",e,\"Unable to retrieve access control information\")}))}}])},function(e,t,n){const a=n(1741);angular.module(\"portainer.app\").component(\"porAccessControlPanel\",{templateUrl:a,controller:\"porAccessControlPanelController\",bindings:{resourceId:\"<\",resourceControl:\"=\",resourceType:\"<\",disableOwnershipChange:\"<\"}})},function(e,t){var n=\"app/portainer/components/accessControlPanel/porAccessControlPanel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"row\">\\n  <div class=\"col-sm-12\" ng-if=\"$ctrl.state.displayAccessControlPanel\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-eye\" title-text=\"Access control\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            \\x3c!-- ownership --\\x3e\\n            <tr>\\n              <td>Ownership</td>\\n              <td>\\n                <i ng-class=\"$ctrl.resourceControl.Ownership | ownershipicon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                <span ng-if=\"!$ctrl.resourceControl\">\\n                  administrators\\n                  <portainer-tooltip message=\"This resource can only be managed by administrators.\" position=\"bottom\" style=\"margin-left: -3px;\"></portainer-tooltip>\\n                </span>\\n                <span ng-if=\"$ctrl.resourceControl\">\\n                  {{ $ctrl.resourceControl.Ownership }}\\n                  <portainer-tooltip\\n                    ng-if=\"$ctrl.resourceControl.Ownership === $ctrl.RCO.PUBLIC\"\\n                    message=\"This resource can be managed by any user with access to this environment.\"\\n                    position=\"bottom\"\\n                    style=\"margin-left: -3px;\"\\n                  ></portainer-tooltip>\\n                  <portainer-tooltip\\n                    ng-if=\"$ctrl.resourceControl.Ownership === $ctrl.RCO.PRIVATE\"\\n                    message=\"Management of this resource is restricted to a single user.\"\\n                    position=\"bottom\"\\n                    style=\"margin-left: -3px;\"\\n                  ></portainer-tooltip>\\n                  <portainer-tooltip\\n                    ng-if=\"$ctrl.resourceControl.Ownership === $ctrl.RCO.RESTRICTED\"\\n                    message=\"This resource can be managed by a restricted set of users and/or teams.\"\\n                    position=\"bottom\"\\n                    style=\"margin-left: -3px;\"\\n                  ></portainer-tooltip>\\n                </span>\\n              </td>\\n            </tr>\\n            \\x3c!-- !ownership --\\x3e\\n            <tr ng-if=\"$ctrl.resourceControl.Type === $ctrl.RCTI.SERVICE && $ctrl.resourceType === $ctrl.RCTS.CONTAINER\">\\n              <td colspan=\"2\">\\n                <i class=\"fa fa-info-circle\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                Access control on this resource is inherited from the following service:\\n                <a ui-sref=\"docker.services.service({ id: $ctrl.resourceControl.ResourceId })\">{{ $ctrl.resourceControl.ResourceId | truncate }}</a>\\n                <portainer-tooltip\\n                  message=\"Access control applied on a service is also applied on each container of that service.\"\\n                  position=\"bottom\"\\n                  style=\"margin-left: 2px;\"\\n                ></portainer-tooltip>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.resourceControl.Type === $ctrl.RCTI.CONTAINER && $ctrl.resourceType === $ctrl.RCTS.VOLUME\">\\n              <td colspan=\"2\">\\n                <i class=\"fa fa-info-circle\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                Access control on this resource is inherited from the following container:\\n                <a ui-sref=\"docker.containers.container({ id: $ctrl.resourceControl.ResourceId })\">{{ $ctrl.resourceControl.ResourceId | truncate }}</a>\\n                <portainer-tooltip\\n                  message=\"Access control applied on a container created using a template is also applied on each volume associated to the container.\"\\n                  position=\"bottom\"\\n                  style=\"margin-left: 2px;\"\\n                ></portainer-tooltip>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.resourceControl.Type === $ctrl.RCTI.STACK && $ctrl.resourceType !== $ctrl.RCTS.STACK\">\\n              <td colspan=\"2\">\\n                <i class=\"fa fa-info-circle\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                Access control on this resource is inherited from the following stack: {{ $ctrl.resourceControl.ResourceId }}\\n                <portainer-tooltip\\n                  message=\"Access control applied on a stack is also applied on each resource in the stack.\"\\n                  position=\"bottom\"\\n                  style=\"margin-left: 2px;\"\\n                ></portainer-tooltip>\\n              </td>\\n            </tr>\\n            \\x3c!-- authorized-users --\\x3e\\n            <tr ng-if=\"$ctrl.resourceControl.UserAccesses.length > 0\">\\n              <td>Authorized users</td>\\n              <td>\\n                <span ng-repeat=\"user in $ctrl.authorizedUsers\">{{ user.Username }}{{ $last ? \\'\\' : \\', \\' }} </span>\\n              </td>\\n            </tr>\\n            \\x3c!-- !authorized-users --\\x3e\\n            \\x3c!-- authorized-teams --\\x3e\\n            <tr ng-if=\"$ctrl.resourceControl.TeamAccesses.length > 0\">\\n              <td>Authorized teams</td>\\n              <td>\\n                <span ng-repeat=\"team in $ctrl.authorizedTeams\">{{ team.Name }}{{ $last ? \\'\\' : \\', \\' }} </span>\\n              </td>\\n            </tr>\\n            \\x3c!-- !authorized-teams --\\x3e\\n            \\x3c!-- edit-ownership --\\x3e\\n            <tr ng-if=\"$ctrl.canEditOwnership();\">\\n              <td colspan=\"2\">\\n                <a ng-click=\"$ctrl.state.editOwnership = true\"><i class=\"fa fa-edit space-right\" aria-hidden=\"true\"></i>Change ownership</a>\\n              </td>\\n            </tr>\\n            \\x3c!-- !edit-ownership --\\x3e\\n            \\x3c!-- edit-ownership-choices --\\x3e\\n            <tr ng-if=\"$ctrl.state.editOwnership\">\\n              <td colspan=\"2\" style=\"white-space: inherit;\">\\n                <div class=\"boxselector_wrapper\">\\n                  <div ng-if=\"$ctrl.isAdmin\">\\n                    <input type=\"radio\" id=\"access_administrators\" ng-model=\"$ctrl.formValues.Ownership\" ng-value=\"$ctrl.RCO.ADMINISTRATORS\" />\\n                    <label for=\"access_administrators\">\\n                      <div class=\"boxselector_header\">\\n                        <i ng-class=\"\\'administrators\\' | ownershipicon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                        Administrators\\n                      </div>\\n                      <p>I want to restrict the management of this resource to administrators only</p>\\n                    </label>\\n                  </div>\\n                  <div ng-if=\"$ctrl.isAdmin\">\\n                    <input type=\"radio\" id=\"access_restricted\" ng-model=\"$ctrl.formValues.Ownership\" ng-value=\"$ctrl.RCO.RESTRICTED\" />\\n                    <label for=\"access_restricted\">\\n                      <div class=\"boxselector_header\">\\n                        <i ng-class=\"\\'restricted\\' | ownershipicon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                        Restricted\\n                      </div>\\n                      <p>\\n                        I want to restrict the management of this resource to a set of users and/or teams\\n                      </p>\\n                    </label>\\n                  </div>\\n                  <div ng-if=\"!$ctrl.isAdmin && $ctrl.state.canChangeOwnershipToTeam && $ctrl.availableTeams.length > 0\">\\n                    <input type=\"radio\" id=\"access_restricted\" ng-model=\"$ctrl.formValues.Ownership\" ng-value=\"$ctrl.RCO.RESTRICTED\" />\\n                    <label for=\"access_restricted\">\\n                      <div class=\"boxselector_header\">\\n                        <i ng-class=\"\\'restricted\\' | ownershipicon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                        Restricted\\n                      </div>\\n                      <p ng-if=\"$ctrl.availableTeams.length === 1\">\\n                        I want any member of my team (<b>{{ $ctrl.availableTeams[0].Name }}</b\\n                        >) to be able to manage this resource\\n                      </p>\\n                      <p ng-if=\"$ctrl.availableTeams.length > 1\">\\n                        I want to restrict the management of this resource to one or more of my teams\\n                      </p>\\n                    </label>\\n                  </div>\\n                  <div>\\n                    <input type=\"radio\" id=\"access_public\" ng-model=\"$ctrl.formValues.Ownership\" ng-value=\"$ctrl.RCO.PUBLIC\" />\\n                    <label for=\"access_public\">\\n                      <div class=\"boxselector_header\">\\n                        <i ng-class=\"\\'public\\' | ownershipicon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                        Public\\n                      </div>\\n                      <p>I want any user with access to this environment to be able to manage this resource</p>\\n                    </label>\\n                  </div>\\n                </div>\\n              </td>\\n            </tr>\\n            \\x3c!-- edit-ownership-choices --\\x3e\\n            \\x3c!-- select-teams --\\x3e\\n            <tr ng-if=\"$ctrl.state.editOwnership && $ctrl.formValues.Ownership === $ctrl.RCO.RESTRICTED && ($ctrl.isAdmin || (!$ctrl.isAdmin && $ctrl.availableTeams.length > 1))\">\\n              <td colspan=\"2\">\\n                <span>Teams</span>\\n                <span ng-if=\"$ctrl.isAdmin && $ctrl.availableTeams.length === 0\" class=\"small text-muted\" style=\"margin-left: 10px;\">\\n                  You have not yet created any teams. Head over to the <a ui-sref=\"portainer.teams\">Teams view</a> to manage teams.\\n                </span>\\n                <span\\n                  isteven-multi-select\\n                  ng-if=\"($ctrl.isAdmin && $ctrl.availableTeams.length > 0) || (!$ctrl.isAdmin && $ctrl.availableTeams.length > 1)\"\\n                  input-model=\"$ctrl.availableTeams\"\\n                  output-model=\"$ctrl.formValues.Ownership_Teams\"\\n                  button-label=\"Name\"\\n                  item-label=\"Name\"\\n                  tick-property=\"selected\"\\n                  helper-elements=\"filter\"\\n                  search-property=\"Name\"\\n                  max-labels=\"3\"\\n                  translation=\"{nothingSelected: \\'Select one or more teams\\', search: \\'Search...\\'}\"\\n                >\\n                </span>\\n              </td>\\n            </tr>\\n            \\x3c!-- !select-teams --\\x3e\\n            \\x3c!-- select-users --\\x3e\\n            <tr ng-if=\"$ctrl.isAdmin && $ctrl.state.editOwnership && $ctrl.formValues.Ownership === $ctrl.RCO.RESTRICTED\">\\n              <td colspan=\"2\">\\n                <span>Users</span>\\n                <span ng-if=\"$ctrl.availableUsers.length === 0\" class=\"small text-muted\" style=\"margin-left: 10px;\">\\n                  You have not yet created any users. Head over to the <a ui-sref=\"portainer.users\">Users view</a> to manage users.\\n                </span>\\n                <span\\n                  isteven-multi-select\\n                  ng-if=\"$ctrl.availableUsers.length > 0\"\\n                  input-model=\"$ctrl.availableUsers\"\\n                  output-model=\"$ctrl.formValues.Ownership_Users\"\\n                  button-label=\"Username\"\\n                  item-label=\"Username\"\\n                  tick-property=\"selected\"\\n                  helper-elements=\"filter\"\\n                  search-property=\"Username\"\\n                  max-labels=\"3\"\\n                  translation=\"{nothingSelected: \\'Select one or more users\\', search: \\'Search...\\'}\"\\n                >\\n                </span>\\n              </td>\\n            </tr>\\n            \\x3c!-- !select-users --\\x3e\\n            \\x3c!-- ownership-actions --\\x3e\\n            <tr ng-if=\"$ctrl.state.editOwnership\">\\n              <td colspan=\"2\">\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.state.editOwnership = false\">Cancel</a>\\n                  <a type=\"button\" class=\"btn btn-primary btn-sm\" ng-click=\"$ctrl.confirmUpdateOwnership()\">Update ownership</a>\\n                  <span class=\"text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px;\">{{ $ctrl.state.formValidationError }}</span>\\n                </div>\\n              </td>\\n            </tr>\\n            \\x3c!-- !ownership-actions --\\x3e\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(5),i=n(76),s=n(29),r=n(156),o=n(625);angular.module(\"portainer.app\").controller(\"porAccessControlPanelController\",[\"$q\",\"$state\",\"UserService\",\"TeamService\",\"ResourceControlHelper\",\"ResourceControlService\",\"Notifications\",\"Authentication\",\"ModalService\",\"FormValidator\",function(e,t,n,l,c,d,u,p,m,g){var h=this;h.RCO=s.ResourceControlOwnership,h.RCTS=r.ResourceControlTypeString,h.RCTI=r.ResourceControlTypeInt,h.state={displayAccessControlPanel:!1,canEditOwnership:!1,editOwnership:!1,formValidationError:\"\"},h.formValues=new o.AccessControlPanelData,h.authorizedUsers=[],h.availableUsers=[],h.authorizedTeams=[],h.availableTeams=[],h.canEditOwnership=function(){const e=h.resourceControl,t=e&&h.resourceControl.Type===r.ResourceControlTypeInt.CONTAINER&&h.resourceType===r.ResourceControlTypeString.VOLUME,n=e&&h.resourceControl.Type===r.ResourceControlTypeInt.SERVICE&&h.resourceType===r.ResourceControlTypeString.CONTAINER,a=e&&h.resourceControl.Type===r.ResourceControlTypeInt.STACK&&h.resourceType!==r.ResourceControlTypeString.STACK,i=h.disableOwnershipChange;return!t&&!n&&!a&&!i&&!h.state.editOwnership&&(h.isAdmin||h.state.canEditOwnership)},h.confirmUpdateOwnership=function(){(function(){h.state.formValidationError=\"\";var e,t={AccessControlEnabled:h.formValues.Ownership!==s.ResourceControlOwnership.PUBLIC,Ownership:h.formValues.Ownership,AuthorizedUsers:h.formValues.Ownership_Users,AuthorizedTeams:h.formValues.Ownership_Teams},n=h.isAdmin;if(e=g.validateAccessControl(t,n))return h.state.formValidationError=e,!1;return!0})()&&m.confirmAccessControlUpdate((function(e){e&&d.applyResourceControlChange(h.resourceType,h.resourceId,h.resourceControl,h.formValues).then((function(){u.success(\"Access control successfully updated\"),t.reload()})).catch((function(e){u.error(\"Failure\",e,\"Unable to update access control\")}))}))},this.$onInit=function(){var t=p.getUserDetails(),r=p.isAdmin(),o=t.ID;h.isAdmin=r;var c=h.resourceControl;h.formValues.Ownership=r&&c?c.Ownership===s.ResourceControlOwnership.PRIVATE?s.ResourceControlOwnership.RESTRICTED:c.Ownership:s.ResourceControlOwnership.ADMINISTRATORS;d.retrieveOwnershipDetails(c).then((function(e){return h.authorizedUsers=e.authorizedUsers,h.authorizedTeams=e.authorizedTeams,d.retrieveUserPermissionsOnResource(o,r,c)})).then((function(t){return h.state.canEditOwnership=t.isPartOfRestrictedUsers||t.isLeaderOfAnyRestrictedTeams,h.state.canChangeOwnershipToTeam=t.isPartOfRestrictedUsers,e.all({availableUsers:r?n.users(!1):[],availableTeams:r||t.isPartOfRestrictedUsers?l.teams():[]})})).then((function(e){h.availableUsers=Object(i.a)(e.availableUsers,\"Username\",\"asc\"),angular.forEach(h.availableUsers,(function(e){Object(a.a)(h.authorizedUsers,{Id:e.Id})&&(e.selected=!0)})),h.availableTeams=Object(i.a)(e.availableTeams,\"Name\",\"asc\"),angular.forEach(e.availableTeams,(function(e){Object(a.a)(h.authorizedTeams,{Id:e.Id})&&(e.selected=!0)})),1===e.availableTeams.length&&h.formValues.Ownership_Teams.push(e.availableTeams[0]),h.state.displayAccessControlPanel=!0})).catch((function(e){u.error(\"Failure\",e,\"Unable to retrieve access control information\")}))}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(76),i=n(7),s=n(6),r=n(1),o=n.n(r),l=n(101);class c{constructor(e,t,n,a){Object.assign(this,{Notifications:e,AccessService:t,RoleService:n,featureService:a}),this.limitedToBE=!1,this.unauthorizeAccess=this.unauthorizeAccess.bind(this),this.updateAction=this.updateAction.bind(this)}updateAction(){const e=this.accessControlledEntity,t=e.UserAccessPolicies,n=e.TeamAccessPolicies,a=Object(s.a)(this.authorizedUsersAndTeams,{Updated:!0,Type:\"user\",Inherited:!1}),i=Object(s.a)(this.authorizedUsersAndTeams,{Updated:!0,Type:\"team\",Inherited:!1}),r=this.AccessService.generateAccessPolicies(t,n,a,i);this.accessControlledEntity.UserAccessPolicies=r.userAccessPolicies,this.accessControlledEntity.TeamAccessPolicies=r.teamAccessPolicies,this.updateAccess()}authorizeAccess(){const e=this.accessControlledEntity,t=e.UserAccessPolicies,n=e.TeamAccessPolicies,a=this.formValues.selectedRole.Id,i=Object(s.a)(this.formValues.multiselectOutput,e=>\"user\"===e.Type),r=Object(s.a)(this.formValues.multiselectOutput,e=>\"team\"===e.Type),o=this.AccessService.generateAccessPolicies(t,n,i,r,a);this.accessControlledEntity.UserAccessPolicies=o.userAccessPolicies,this.accessControlledEntity.TeamAccessPolicies=o.teamAccessPolicies,this.updateAccess()}unauthorizeAccess(e){const t=this.accessControlledEntity,n=t.UserAccessPolicies,a=t.TeamAccessPolicies,r=Object(s.a)(e,e=>\"user\"===e.Type),o=Object(s.a)(e,e=>\"team\"===e.Type);Object(i.a)(r,e=>delete n[e.Id]),Object(i.a)(o,e=>delete a[e.Id]),this.updateAccess()}isRoleLimitedToBE(e){return!!this.limitedToBE&&e.ID!==l.RoleTypes.STANDARD}roleLabel(e){return this.limitedToBE?this.isRoleLimitedToBE(e)?e.Name+\" (Business Edition Feature)\":e.Name+\" (Default)\":e.Name}async $onInit(){try{this.limitedFeature&&(this.limitedToBE=this.featureService.isLimitedToBE(this.limitedFeature));const e=this.accessControlledEntity,t=this.inheritFrom,n=await this.RoleService.roles();this.roles=Object(a.a)(n,\"Priority\",\"asc\"),this.formValues={selectedRole:this.roles.find(e=>!this.isRoleLimitedToBE(e))};const i=await this.AccessService.accesses(e,t,this.roles);this.filterUsers&&(i.availableUsersAndTeams=this.filterUsers(i.availableUsersAndTeams)),this.availableUsersAndTeams=Object(a.a)(i.availableUsersAndTeams,\"Name\",\"asc\"),this.authorizedUsersAndTeams=i.authorizedUsersAndTeams}catch(e){this.availableUsersAndTeams=[],this.authorizedUsersAndTeams=[],this.Notifications.error(\"Failure\",e,\"Unable to retrieve accesses\")}}}c.$inject=[\"Notifications\",\"AccessService\",\"RoleService\",\"featureService\"],t.default=c,o.a.module(\"portainer.app\").controller(\"porAccessManagementController\",c)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(626);const r=n(1745);i.a.module(\"portainer.app\").component(\"associatedEndpointsSelector\",{templateUrl:r,controller:s.default,bindings:{endpointIds:\"<\",tags:\"<\",groups:\"<\",hasBackendPagination:\"<\",onAssociate:\"<\",onDissociate:\"<\"}})},function(e,t){var n=\"app/portainer/components/associated-endpoints-selector/associatedEndpointsSelector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 small text-muted\">\\n  You can select which environment should be part of this group by moving them to the associated environments table. Simply click on any environment entry to move it from one table\\n  to the other.\\n</div>\\n<div class=\"col-sm-12\" style=\"margin-top: 20px;\">\\n  \\x3c!-- available-endpoints --\\x3e\\n  <div class=\"col-sm-6\">\\n    <div class=\"text-center small text-muted\">Available environments</div>\\n    <div style=\"margin-top: 10px;\">\\n      <group-association-table\\n        loaded=\"$ctrl.loaded\"\\n        page-type=\"$ctrl.pageType\"\\n        table-type=\"available\"\\n        retrieve-page=\"$ctrl.getPaginatedEndpoints\"\\n        dataset=\"$ctrl.endpoints.available\"\\n        entry-click=\"$ctrl.associateEndpoint\"\\n        pagination-state=\"$ctrl.state.available\"\\n        empty-dataset-message=\"No environment available\"\\n        tags=\"$ctrl.tags\"\\n        show-tags=\"true\"\\n        groups=\"$ctrl.groups\"\\n        show-groups=\"true\"\\n        has-backend-pagination=\"true\"\\n        data-cy=\"edgeGroupCreate-availableEndpoints\"\\n      ></group-association-table>\\n    </div>\\n  </div>\\n  \\x3c!-- !available-endpoints --\\x3e\\n  \\x3c!-- associated-endpoints --\\x3e\\n  <div class=\"col-sm-6\">\\n    <div class=\"text-center small text-muted\">Associated environments</div>\\n    <div style=\"margin-top: 10px;\">\\n      <group-association-table\\n        loaded=\"$ctrl.loaded\"\\n        page-type=\"$ctrl.pageType\"\\n        table-type=\"associated\"\\n        retrieve-page=\"$ctrl.getPaginatedEndpoints\"\\n        dataset=\"$ctrl.endpoints.associated\"\\n        entry-click=\"$ctrl.dissociateEndpoint\"\\n        pagination-state=\"$ctrl.state.associated\"\\n        empty-dataset-message=\"No associated environment\"\\n        tags=\"$ctrl.tags\"\\n        show-tags=\"true\"\\n        groups=\"$ctrl.groups\"\\n        show-groups=\"true\"\\n        has-backend-pagination=\"true\"\\n        data-cy=\"edgeGroupCreate-associatedEndpoints\"\\n      ></group-association-table>\\n    </div>\\n  </div>\\n  \\x3c!-- !associated-endpoints --\\x3e\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.app\").directive(\"autoFocus\",[\"$timeout\",function(e){return{restrict:\"A\",link:function(t,n){e((function(){n[0].focus()}))}}}])},function(e,t){var n=\"app/portainer/components/be-feature-indicator/be-feature-indicator.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<a class=\"be-indicator\" href=\"{{ $ctrl.url }}\" target=\"_blank\" rel=\"noopener\" ng-if=\"$ctrl.limitedToBE\">\\n  <ng-transclude></ng-transclude>\\n  <i class=\"be-indicator-icon fas fa-briefcase space-right\"></i>\\n  <span class=\"be-indicator-label\">Business Edition Feature</span>\\n</a>\\n')}]),e.exports=n},function(e,t,n){const a=n(1749);angular.module(\"portainer.app\").component(\"betaPanel\",{templateUrl:a})},function(e,t){var n=\"app/portainer/components/beta-panel/betaPanel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<information-panel title-text=\"Information\">\\n  <span class=\"small\">\\n    <p class=\"text-muted\">\\n      <i class=\"fa fa-flask orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      This is a beta feature.\\n    </p>\\n  </span>\\n</information-panel>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/box-selector/box-selector-item/box-selector-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div\\n  class=\"box-selector-item\"\\n  ng-class=\"{ business: $ctrl.limitedToBE, limited: $ctrl.limitedToBE }\"\\n  tooltip-append-to-body=\"true\"\\n  tooltip-placement=\"bottom\"\\n  tooltip-class=\"portainer-tooltip\"\\n  tooltip-enable=\"$ctrl.tooltip\"\\n  uib-tooltip=\"{{ $ctrl.tooltip }}\"\\n>\\n  <input\\n    type=\"radio\"\\n    name=\"{{ $ctrl.radioName }}\"\\n    id=\"{{ $ctrl.option.id }}\"\\n    ng-checked=\"$ctrl.isChecked($ctrl.option.value)\"\\n    ng-value=\"$ctrl.option.value\"\\n    ng-disabled=\"$ctrl.disabled\"\\n  />\\n  <label for=\"{{ $ctrl.option.id }}\" ng-click=\"$ctrl.handleChange($ctrl.option.value)\" data-cy=\"{{ $ctrl.radioName }}_{{ $ctrl.option.value }}\">\\n    <i class=\"fas fa-briefcase limited-icon\" ng-if=\"$ctrl.limitedToBE\"></i>\\n\\n    <div class=\"boxselector_header\">\\n      <i ng-class=\"$ctrl.option.icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      {{ $ctrl.option.label }}\\n    </div>\\n    <p class=\"box-selector-item-description\">{{ $ctrl.option.description }}</p>\\n  </label>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.app\").directive(\"buttonSpinner\",(function(){return{restrict:\"A\",scope:{spinning:\"=buttonSpinner\"},transclude:!0,template:'<ng-transclude></ng-transclude><span ng-show=\"spinning\"><i class=\"fa fa-circle-notch fa-spin\" style=\"margin-left: 2px;\"></i>&nbsp;</span>'}}))},function(e,t,n){const a=n(1753);angular.module(\"portainer.app\").component(\"codeEditor\",{templateUrl:a,controller:\"CodeEditorController\",bindings:{identifier:\"@\",placeholder:\"@\",yml:\"<\",readOnly:\"<\",onChange:\"<\",value:\"<\"}})},function(e,t){var n=\"app/portainer/components/code-editor/codeEditor.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<textarea id=\"{{ $ctrl.identifier }}\" class=\"form-control\" placeholder=\"{{ $ctrl.placeholder }}\"></textarea>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.app\").controller(\"CodeEditorController\",[\"$document\",\"CodeMirrorService\",\"$scope\",function(e,t,n){var a=this;this.$onChanges=function({value:e}){e&&e.currentValue&&a.editor&&a.editor.getValue()!==e.currentValue&&a.editor.setValue(e.currentValue)},this.$onInit=function(){e.ready((function(){var i=e[0].getElementById(a.identifier);a.editor=t.applyCodeMirrorOnElement(i,a.yml,a.readOnly),a.onChange&&a.editor.on(\"change\",(...e)=>n.$evalAsync(()=>a.onChange(...e))),a.value&&a.editor.setValue(a.value)}))}}])},function(e,t){var n=\"app/portainer/components/copy-button/copy-button.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<span>\\n  <button type=\"button\" class=\"btn btn-link nopadding\" ng-click=\"$ctrl.copyValueText()\" title=\"Copy Value\"> <i class=\"fa fa-copy\"></i> Copy </button>\\n  <span ng-class=\"{ \\'copy-button-fadeout\\': $ctrl.state.isFading }\" class=\"copy-button-copy-text\"> <i class=\"fa fa-check\" aria-hidden=\"true\"></i> copied </span>\\n</span>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(630);const i=n(1757);angular.module(\"portainer.app\").component(\"customTemplateCommonFields\",{templateUrl:i,controller:a.default,bindings:{formValues:\"=\",showPlatformField:\"<\",showTypeField:\"<\",nameRegex:\"<\"}})},function(e,t){var n=\"app/portainer/components/custom-template-common-fields/customTemplateCommonFields.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ng-form name=\"commonCustomTemplateForm\">\\n  \\x3c!-- title-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"template_title\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Title\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        ng-model=\"$ctrl.formValues.Title\"\\n        ng-pattern=\"$ctrl.nameRegex\"\\n        id=\"template_title\"\\n        name=\"template_title\"\\n        placeholder=\"e.g. mytemplate\"\\n        auto-focus\\n        required\\n      />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"commonCustomTemplateForm.template_title.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"commonCustomTemplateForm.template_title.$error\">\\n        <p ng-message=\"pattern\">\\n          <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n          <span>This field must consist of lower case alphanumeric characters, \\'_\\' or \\'-\\' (e.g. \\'my-name\\', or \\'abc-123\\').</span>\\n        </p>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"commonCustomTemplateForm.template_title.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"commonCustomTemplateForm.template_title.$error\">\\n        <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Title is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !title-input --\\x3e\\n\\n  \\x3c!-- description-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"description\" class=\"col-sm-3 col-lg-2 control-label text-left\">Description</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"description\" ng-model=\"$ctrl.formValues.Description\" name=\"description\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"commonCustomTemplateForm.description.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"commonCustomTemplateForm.description.$error\">\\n        <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Description is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !description-input --\\x3e\\n\\n  \\x3c!-- note-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"note\" class=\"col-sm-3 col-lg-2 control-label text-left\">Note</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"note\" ng-model=\"$ctrl.formValues.Note\" />\\n    </div>\\n  </div>\\n  \\x3c!-- !note-input --\\x3e\\n\\n  \\x3c!-- icon-url-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"icon-url\" class=\"col-sm-3 col-lg-2 control-label text-left\">Icon URL</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"icon-url\" ng-model=\"$ctrl.formValues.Logo\" />\\n    </div>\\n  </div>\\n  \\x3c!-- !icon-url-input --\\x3e\\n\\n  \\x3c!-- platform-input --\\x3e\\n  <div ng-if=\"$ctrl.showPlatformField\" class=\"form-group\">\\n    <label for=\"platform\" class=\"col-sm-3 col-lg-2 control-label text-left\">Platform</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <select class=\"form-control\" ng-model=\"$ctrl.formValues.Platform\" ng-options=\"+(opt.value) as opt.label for opt in $ctrl.platformTypes\"> </select>\\n    </div>\\n  </div>\\n  \\x3c!-- !platform-input --\\x3e\\n\\n  \\x3c!-- platform-input --\\x3e\\n  <div ng-if=\"$ctrl.showTypeField\" class=\"form-group\">\\n    <label for=\"platform\" class=\"col-sm-3 col-lg-2 control-label text-left\">Type</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <select class=\"form-control\" ng-model=\"$ctrl.formValues.Type\" ng-options=\"+(opt.value) as opt.label for opt in $ctrl.templateTypes\"> </select>\\n    </div>\\n  </div>\\n  \\x3c!-- !platform-input --\\x3e\\n</ng-form>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"customTemplateSelector\",(function(){return r}));var a=n(1),i=n.n(a),s=n(631);const r={templateUrl:n(1759),controller:s.default,bindings:{newTemplatePath:\"@\",stackType:\"<\",value:\"<\",onChange:\"<\"}};i.a.module(\"portainer.app\").component(\"customTemplateSelector\",r)},function(e,t){var n=\"app/portainer/components/custom-template-selector/custom-template-selector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <div class=\"form-group\">\\n    <label for=\"stack_template\" class=\"col-sm-1 control-label text-left\">\\n      Template\\n    </label>\\n    <div class=\"col-sm-11\">\\n      <select\\n        ng-if=\"$ctrl.templates.length\"\\n        class=\"form-control\"\\n        ng-model=\"$ctrl.value\"\\n        ng-options=\"template.Id as template.label for template in $ctrl.templates\"\\n        ng-change=\"$ctrl.handleChangeTemplate($ctrl.value)\"\\n      >\\n        <option value=\"\" label=\"Select a Custom template\" disabled selected=\"selected\"> </option>\\n      </select>\\n      <span ng-if=\"!$ctrl.templates.length\"> No custom templates are available. Head over to the <a ui-state=\"$ctrl.newTemplatePath\">custom template view</a> to create one. </span>\\n    </div>\\n  </div>\\n\\n  \\x3c!-- description --\\x3e\\n  <div ng-if=\"$ctrl.selectedTemplate.note\">\\n    <div class=\"col-sm-12 form-section-title\">\\n      Information\\n    </div>\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12\">\\n        <div class=\"template-note\" ng-bind-html=\"$ctrl.selectedTemplate.note\"></div>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !description --\\x3e\\n</div>\\n')}]),e.exports=n},function(e,t){const n=1,a=2,i=3;angular.module(\"portainer.docker\").controller(\"CustomTemplatesListController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,s){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.typeLabel=function(e){switch(e){case n:return\"swarm\";case i:return\"manifest\";case a:default:return\"standalone\"}},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=s.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=s.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=s.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n);this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=s.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1);this.onSettingsRepeaterChange()}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(1762);i.a.module(\"portainer.app\").component(\"customTemplatesList\",{templateUrl:s,controller:\"CustomTemplatesListController\",bindings:{titleText:\"@\",titleIcon:\"@\",templates:\"<\",tableKey:\"@\",onSelectClick:\"<\",showSwarmStacks:\"<\",onDeleteClick:\"<\",isEditAllowed:\"<\",createPath:\"@\",editPath:\"@\"}})},function(e,t){var n=\"app/portainer/components/custom-templates-list/customTemplatesList.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-state=\"$ctrl.createPath\"> <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add Custom Template </button>\\n      </div>\\n\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n\\n      <div class=\"blocklist\">\\n        <template-item\\n          ng-repeat=\"template in $ctrl.templates | filter:$ctrl.state.textFilter\"\\n          model=\"template\"\\n          type-label=\"{{ $ctrl.typeLabel(template.Type) }}\"\\n          on-select=\"($ctrl.onSelectClick)\"\\n        >\\n          <template-item-actions>\\n            <div ng-if=\"$ctrl.isEditAllowed(template)\" style=\"display: flex;\">\\n              <a ui-state=\"$ctrl.editPath\" ui-state-params=\"{id: template.Id}\" ng-click=\"$event.stopPropagation();\" class=\"btn btn-primary btn-xs\" style=\"margin-right: 10px;\">\\n                Edit\\n              </a>\\n              <button class=\"btn btn-danger btn-xs\" ng-click=\"$ctrl.onDeleteClick(template.Id); $event.stopPropagation();\">Delete</button>\\n            </div>\\n          </template-item-actions>\\n        </template-item>\\n        <div ng-if=\"!$ctrl.templates\" class=\"text-center text-muted\">\\n          Loading...\\n        </div>\\n        <div ng-if=\"($ctrl.templates | filter: $ctrl.state.textFilter).length === 0\" class=\"text-center text-muted\">\\n          No templates available.\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(632);const r=n(1764);i.a.module(\"portainer.app\").component(\"accessTokensDatatable\",{templateUrl:r,controller:s.default,bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",removeAction:\"<\"}})},function(e,t){var n=\"app/portainer/components/datatables/access-tokens-datatable/access-tokens-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\" style=\"margin-top: 25px;\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button\\n          ng-if=\"!$ctrl.endpointType\"\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"portainer.account.new-access-token\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add access token\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'description\\')\">\\n                  Description\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'description\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'description\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'prefix\\')\">\\n                  Prefix\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'prefix\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'prefix\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'dateCreated\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'dateCreated\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'dateCreated\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'lastUsed\\')\">\\n                  Last Used\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'lastUsed\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'lastUsed\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                {{ item.description }}\\n              </td>\\n              <td>\\n                {{ item.prefix }}\\n              </td>\\n              <td>\\n                {{ item.dateCreated | getisodatefromtimestamp }}\\n              </td>\\n              <td>\\n                <span ng-if=\"item.lastUsed > 0\">{{ item.lastUsed | getisodatefromtimestamp }}</span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(633);const r=n(1766);i.a.module(\"portainer.app\").component(\"datatableColumnsVisibility\",{templateUrl:r,controller:s.default,bindings:{columns:\"<\",onChange:\"<\"}})},function(e,t){var n=\"app/portainer/components/datatables/datatable-columns-visibility/datatable-columns-visibility.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.state.isOpen }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.state.isOpen\">\\n  <span uib-dropdown-toggle><i class=\"fa fa-columns space-right\" aria-hidden=\"true\"></i>Columns</span>\\n  <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n    <div class=\"tableMenu\">\\n      <div class=\"menuHeader\">\\n        Show / Hide Columns\\n      </div>\\n      <div class=\"menuContent\">\\n        <div class=\"md-checkbox\" ng-repeat=\"(key, value) in $ctrl.columns\">\\n          <input id=\"col_vis_{{::key}}\" ng-change=\"$ctrl.onChange($ctrl.columns)\" type=\"checkbox\" ng-model=\"value.display\" />\\n          <label for=\"col_vis_{{::key}}\">{{ value.label }}</label>\\n        </div>\\n      </div>\\n      <div>\\n        <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.state.isOpen = false;\">Close</a>\\n      </div>\\n    </div>\\n  </div>\\n</span>\\n')}]),e.exports=n},function(e,t,n){const a=n(1768);angular.module(\"portainer.app\").component(\"endpointsDatatable\",{templateUrl:a,controller:\"EndpointsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",retrievePage:\"<\"}})},function(e,t){var n=\"app/portainer/components/datatables/endpoints-datatable/endpointsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"endpoint-removeEndpointButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"portainer.endpoints.new\" data-cy=\"endpoint-addEndpointButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add environment\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          auto-focus\\n          placeholder=\"Search...\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"endpoint-searchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"endpoint-endpointTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n                  Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'URL\\')\">\\n                  URL\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'URL\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'URL\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'GroupName\\')\">\\n                  Group\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'GroupName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'GroupName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Actions</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in $ctrl.state.filteredDataSet | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit\"\\n              total-items=\"$ctrl.state.totalFilteredDataSet\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"portainer.endpoints.endpoint({id: item.Id})\">{{ item.Name }}</a>\\n              </td>\\n              <td>\\n                <span>\\n                  <i ng-class=\"item.Type | endpointtypeicon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                  {{ item.Type | endpointtypename }}\\n                </span>\\n              </td>\\n              <td>\\n                <span ng-if=\"item.Type !== 4\">{{ item.URL | stripprotocol }}</span>\\n                <span ng-if=\"item.Type === 4\">-</span>\\n              </td>\\n              <td>{{ item.GroupName }}</td>\\n              <td>\\n                <a ui-sref=\"portainer.endpoints.endpoint.access({id: item.Id})\"> <i class=\"fa fa-users\" aria-hidden=\"true\"></i> Manage access </a>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.loading\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.state.loading && $ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"5\" class=\"text-center text-muted\">No environment available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"!$ctrl.state.loading\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" on-page-change=\"$ctrl.onPageChange(newPageNumber, oldPageNumber)\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.app\").controller(\"EndpointsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"PaginationService\",function(e,t,n,a){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.state=Object.assign(this.state,{orderBy:this.orderBy,loading:!0,filteredDataSet:[],totalFilteredDataset:0,pageNumber:1}),this.paginationChanged=function(){this.state.loading=!0,this.state.filteredDataSet=[];const e=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1;this.retrievePage(e,this.state.paginatedItemLimit,this.state.textFilter).then(e=>{this.state.filteredDataSet=e.endpoints,this.state.totalFilteredDataSet=e.totalCount}).finally(()=>{this.state.loading=!1})},this.onPageChange=function(e){this.state.pageNumber=e,this.paginationChanged()},this.onTextFilterChange=function(){var e=this.state.textFilter;n.setDataTableTextFilters(this.tableKey,e),this.paginationChanged()},this.changePaginationLimit=function(){a.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChanged()},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset();var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1),this.paginationChanged()}}])},function(e,t){var n=\"app/portainer/components/datatables/filter/datatable-filter.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div uib-dropdown dropdown-append-to-body auto-close=\"outsideClick\" is-open=\"$ctrl.isOpen\">\\n  <span ng-transclude></span>\\n  <div class=\"filter-button\">\\n    <span uib-dropdown-toggle class=\"table-filter\" ng-class=\"{ \\'filter-active\\': $ctrl.isEnabled() }\">\\n      Filter\\n      <i class=\"fa\" ng-class=\"[$ctrl.isEnabled() ? \\'fa-check\\' : \\'fa-filter\\']\" aria-hidden=\"true\"></i>\\n    </span>\\n  </div>\\n  <div class=\"dropdown-menu\" style=\"min-width: 0;\" uib-dropdown-menu>\\n    <div class=\"tableMenu\">\\n      <div class=\"menuContent\">\\n        <div class=\"md-checkbox\" ng-repeat=\"filter in $ctrl.labels track by filter.value\">\\n          <input\\n            id=\"filter_{{ $ctrl.filterKey }}_{{ $index }}\"\\n            type=\"checkbox\"\\n            ng-value=\"filter.value\"\\n            ng-checked=\"$ctrl.state.includes(filter.value)\"\\n            ng-click=\"$ctrl.onChangeItem(filter.value)\"\\n          />\\n          <label for=\"filter_{{ $ctrl.filterKey }}_{{ $index }}\">\\n            {{ filter.label }}\\n          </label>\\n        </div>\\n      </div>\\n      <div>\\n        <a class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.isOpen = false;\">\\n          Close\\n        </a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),function(e){var t=n(32),a=n(68),i=n(7),s=n(6),r=n(2),o=(n(1772),n(29));angular.module(\"portainer.app\").controller(\"GenericDatatableController\",[\"$interval\",\"PaginationService\",\"DatatableService\",\"PAGINATION_MAX_ITEMS\",function(n,l,c,d){this.RCO=o.ResourceControlOwnership,this.state={selectAll:!1,orderBy:this.orderBy,paginatedItemLimit:d,displayTextFilter:!1,get selectedItemCount(){return this.selectedItems.length||0},selectedItems:[]},this.settings={open:!1,repeater:{autoRefresh:!1,refreshRate:\"30\"}},this.resetSelectionState=function(){this.state.selectAll=!1,this.state.selectedItems=[],Object(r.a)(this.state.filteredDataSet,e=>e.Checked=!1)},this.onTextFilterChange=function(){c.setDataTableTextFilters(this.tableKey,this.state.textFilter)},this.changeOrderBy=function(e){this.state.reverseOrder=this.state.orderBy===e&&!this.state.reverseOrder,this.state.orderBy=e,c.setDataTableOrder(this.tableKey,e,this.state.reverseOrder)},this.selectItem=function(e,n){if(n&&n.originalEvent.shiftKey&&this.state.firstClickedItem){const t=this.state.filteredDataSet.indexOf(this.state.firstClickedItem),n=this.state.filteredDataSet.indexOf(e),a=Object(s.a)(this.state.filteredDataSet,(e,a)=>function(e,t,n){return e>=t&&e<=n||e>=n&&e<=t}(a,t,n)),r=this.state.firstClickedItem.Checked;Object(i.a)(a,e=>{this.allowSelection(e)&&(e.Checked=r)}),this.state.firstClickedItem=e}else n&&(e.Checked=!e.Checked,this.state.firstClickedItem=e);this.state.selectedItems=Object(a.a)(Object(t.a)(this.state.selectedItems,this.state.filteredDataSet)).filter(e=>e.Checked),n&&this.state.selectAll&&this.state.selectedItems.length!==this.state.filteredDataSet.length&&(this.state.selectAll=!1),this.onSelectionChanged()},this.selectAll=function(){this.state.firstClickedItem=null;for(var e=0;e<this.state.filteredDataSet.length;e++){var t=this.state.filteredDataSet[e];this.allowSelection(t)&&t.Checked!==this.state.selectAll&&(t.Checked=this.state.selectAll,this.selectItem(t))}this.onSelectionChanged()},this.allowSelection=function(){return!0},this.prepareTableFromDataset=function(){},this.onSelectionChanged=function(){},this.changePaginationLimit=function(){l.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit)},this.setDefaults=function(){this.showTextFilter=!!this.showTextFilter&&this.showTextFilter,this.state.reverseOrder=!!this.reverseOrder&&this.reverseOrder,this.state.paginatedItemLimit=l.getPaginationLimit(this.tableKey)},this.$onInit=function(){this.$onInitGeneric()},this.$onInitGeneric=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=c.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=c.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=c.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=c.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange();var i=c.getColumnVisibilitySettings(this.tableKey);null!==i&&(this.columnVisibility=i)},this.repeater=void 0,this.$onDestroy=function(){this.stopRepeater()},this.stopRepeater=function(){angular.isDefined(this.repeater)&&(n.cancel(this.repeater),this.repeater=void 0)},this.startRepeater=function(){this.repeater=n(async()=>{await this.refreshCallback(),this.onDataRefresh()},1e3*this.settings.repeater.refreshRate)},this.onSettingsRepeaterChange=function(){this.stopRepeater(),angular.isDefined(this.refreshCallback)&&this.settings.repeater.autoRefresh&&(this.startRepeater(),e(\"#refreshRateChange\").show(),e(\"#refreshRateChange\").fadeOut(1500)),c.setDataTableSettings(this.tableKey,this.settings)},this.onDataRefresh=function(){}}])}.call(this,n(50))},function(e,t,n){},function(e,t,n){const a=n(1774);angular.module(\"portainer.app\").component(\"groupsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\"}})},function(e,t){var n=\"app/portainer/components/datatables/groups-datatable/groupsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"endpointGroup-removeGroupButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"portainer.groups.new\" data-cy=\"endpointGroup-addGroupButton\">\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add group\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"endpointGroup-searchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"endpointGroup-endpointGroupTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" data-cy=\"endpointGroup-selectAllCheckbox\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Actions</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"portainer.groups.group({id: item.Id})\">{{ item.Name }}</a>\\n              </td>\\n              <td>\\n                <a ui-sref=\"portainer.groups.group.access({id: item.Id})\"> <i class=\"fa fa-users\" aria-hidden=\"true\"></i> Manage access </a>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No group available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=(n(801),n(636)),r=n(637),o=n(638),l=n(640),c=n(635);t.default=i.a.module(\"portainer.shared.datatable\",[\"angularUtils.directives.dirPagination\"]).component(\"datatableTitlebar\",s.datatableTitlebar).component(\"datatableSearchbar\",r.datatableSearchbar).component(\"datatableSortIcon\",o.datatableSortIcon).component(\"datatablePagination\",l.datatablePagination).component(\"datatableFilter\",c.datatableFilter).name},,function(e,t){var n=\"app/portainer/components/datatables/titlebar/datatable-titlebar.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"toolBar\">\\n  <div class=\"toolBarTitle\">\\n    <i class=\"fa\" ng-class=\"$ctrl.icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n    <span style=\"margin-right: 10px;\">{{ $ctrl.title }}</span>\\n    <be-feature-indicator feature=\"$ctrl.feature\"></be-feature-indicator>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/datatables/searchbar/datatable-searchbar.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"searchBar\">\\n  <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n  <input type=\"text\" class=\"searchInput\" ng-model=\"$ctrl.filter\" ng-change=\"$ctrl.onChange($ctrl.filter)\" placeholder=\"Search...\" ng-model-options=\"{ debounce: 300 }\" />\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/datatables/sort-icon/datatable-sort-icon.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<i\\n  class=\"fa fa-sort-alpha-down\"\\n  ng-class=\"{\\n    \\'fa-sort-alpha-down\\': !$ctrl.reverseOrder,\\n    \\'fa-sort-alpha-up\\': $ctrl.reverseOrder,\\n  }\"\\n  aria-hidden=\"true\"\\n  ng-if=\"$ctrl.isCurrentSortOrder()\"\\n></i>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/datatables/pagination/pagination.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"paginationControls\">\\n  <form class=\"form-inline\">\\n    <span class=\"limitSelector\">\\n      <span style=\"margin-right: 5px;\"> Items per page </span>\\n      <select class=\"form-control\" ng-model=\"$ctrl.limit\" ng-change=\"$ctrl.onChangeLimit($ctrl.limit)\">\\n        <option ng-if=\"$ctrl.enableNoLimit\" ng-value=\"0\">All</option>\\n        <option ng-value=\"10\">10</option>\\n        <option ng-value=\"25\">25</option>\\n        <option ng-value=\"50\">50</option>\\n        <option ng-value=\"100\">100</option>\\n      </select>\\n    </span>\\n    <dir-pagination-controls max-size=\"5\" on-page-change=\"$ctrl.onChangePage(newPageNumber)\"> </dir-pagination-controls>\\n  </form>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1782);angular.module(\"portainer.app\").component(\"registriesDatatable\",{templateUrl:a,controller:\"RegistriesDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",canBrowse:\"<\",endpointType:\"<\",canManageAccess:\"<\"}})},function(e,t){var n=\"app/portainer/components/datatables/registries-datatable/registriesDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\" ng-if=\"$ctrl.isAdmin\">\\n        <button\\n          ng-if=\"!$ctrl.endpointType\"\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"portainer.registries.new\"> <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add registry </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin && !$ctrl.endpointType\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'URL\\')\">\\n                  URL\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'URL\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'URL\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Actions</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr>\\n              <td>\\n                <span class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin && !$ctrl.endpointType\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" disabled />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <span>DockerHub (anonymous)</span>\\n              </td>\\n              <td>\\n                docker.io\\n              </td>\\n              <td>\\n                -\\n              </td>\\n            </tr>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin && !$ctrl.endpointType\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"!$ctrl.allowSelection(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"portainer.registries.registry({id: item.Id})\" ng-if=\"$ctrl.enableGoToLink(item)\">{{ item.Name }}</a>\\n                <span ng-if=\"!$ctrl.enableGoToLink(item)\">{{ item.Name }}</span>\\n                <span ng-if=\"item.Authentication\" style=\"margin-left: 5px;\" class=\"label label-info image-tag\">authentication-enabled</span>\\n              </td>\\n              <td>\\n                {{ item.URL }}\\n              </td>\\n              <td>\\n                <a ng-if=\"$ctrl.canManageAccess(item)\" ng-click=\"$ctrl.redirectToManageAccess(item)\"> <i class=\"fa fa-users\" aria-hidden=\"true\"></i> Manage access </a>\\n                <be-feature-indicator feature=\"$ctrl.limitedFeature\" ng-if=\"$ctrl.canBrowse(item)\">\\n                  <span class=\"text-muted space-left\" style=\"padding-right: 5px;\"> <i class=\"fa fa-search\" aria-hidden=\"true\"></i> Browse</span>\\n                </be-feature-indicator>\\n\\n                <span ng-if=\"!$ctrl.canBrowse(item) && !$ctrl.canManageAccess(item)\"> - </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(15),i=n(19);function s(e,t,n,s,r){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.allowSelection=function(e){return e.Id},this.enableGoToLink=e=>this.isAdmin&&e.Id&&!this.endpointType,this.goToRegistry=function(e){this.endpointType===a.PortainerEndpointTypes.KubernetesLocalEnvironment||this.endpointType===a.PortainerEndpointTypes.AgentOnKubernetesEnvironment||this.endpointType===a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment?n.go(\"kubernetes.registries.registry\",{id:e.Id}):this.endpointType===a.PortainerEndpointTypes.DockerEnvironment||this.endpointType===a.PortainerEndpointTypes.AgentOnDockerEnvironment||this.endpointType===a.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment?n.go(\"docker.registries.registry\",{id:e.Id}):n.go(\"portainer.registries.registry\",{id:e.Id})},this.redirectToManageAccess=function(e){this.endpointType===a.PortainerEndpointTypes.KubernetesLocalEnvironment||this.endpointType===a.PortainerEndpointTypes.AgentOnKubernetesEnvironment||this.endpointType===a.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment?n.go(\"kubernetes.registries.access\",{id:e.Id}):n.go(\"docker.registries.access\",{id:e.Id})},this.$onInit=function(){this.limitedFeature=i.REGISTRY_MANAGEMENT,this.isAdmin=s.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=r.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=r.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var n=r.getDataTableFilters(this.tableKey);null!==n&&(this.filters=n),this.filters&&this.filters.state&&(this.filters.state.open=!1);var a=r.getDataTableSettings(this.tableKey);null!==a&&(this.settings=a,this.settings.open=!1),this.onSettingsRepeaterChange();var o=r.getColumnVisibilitySettings(this.tableKey);null!==o&&(this.columnVisibility=o)}}s.$inject=[\"$scope\",\"$controller\",\"$state\",\"Authentication\",\"DatatableService\"],angular.module(\"portainer.docker\").controller(\"RegistriesDatatableController\",s)},function(e,t,n){const a=n(1785);angular.module(\"portainer.app\").component(\"stacksDatatable\",{templateUrl:a,controller:\"StacksDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",offlineMode:\"<\",refreshCallback:\"<\",createEnabled:\"<\"}})},function(e,t){var n=\"app/portainer/components/datatables/stacks-datatable/stacksDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"><i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n        <div class=\"settings\">\\n          <datatable-columns-visibility columns=\"$ctrl.columnVisibility.columns\" on-change=\"($ctrl.onColumnVisibilityChange)\"></datatable-columns-visibility>\\n          <span class=\"setting\" ng-class=\"{ \\'setting-active\\': $ctrl.settings.open }\" uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.settings.open\">\\n            <span uib-dropdown-toggle><i class=\"fa fa-cog\" aria-hidden=\"true\"></i> Settings</span>\\n            <div class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu>\\n              <div class=\"tableMenu\">\\n                <div class=\"menuHeader\">\\n                  Table settings\\n                </div>\\n                <div class=\"menuContent\">\\n                  <div>\\n                    <div class=\"md-checkbox\" ng-if=\"$ctrl.isAdmin\">\\n                      <input id=\"setting_all_orphaned_stacks\" type=\"checkbox\" ng-model=\"$ctrl.settings.allOrphanedStacks\" ng-change=\"$ctrl.onSettingsAllOrphanedStacksChange()\" />\\n                      <label for=\"setting_all_orphaned_stacks\">Show all orphaned stacks</label>\\n                    </div>\\n                    <div class=\"md-checkbox\">\\n                      <input id=\"setting_auto_refresh\" type=\"checkbox\" ng-model=\"$ctrl.settings.repeater.autoRefresh\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" />\\n                      <label for=\"setting_auto_refresh\">Auto refresh</label>\\n                    </div>\\n                    <div ng-if=\"$ctrl.settings.repeater.autoRefresh\">\\n                      <label for=\"settings_refresh_rate\">\\n                        Refresh rate\\n                      </label>\\n                      <select id=\"settings_refresh_rate\" ng-model=\"$ctrl.settings.repeater.refreshRate\" ng-change=\"$ctrl.onSettingsRepeaterChange()\" class=\"small-select\">\\n                        <option value=\"10\">10s</option>\\n                        <option value=\"30\">30s</option>\\n                        <option value=\"60\">1min</option>\\n                        <option value=\"120\">2min</option>\\n                        <option value=\"300\">5min</option>\\n                      </select>\\n                      <span>\\n                        <i id=\"refreshRateChange\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-top: 7px; display: none;\"></i>\\n                      </span>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div>\\n                  <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.settings.open = false;\">Close</a>\\n                </div>\\n              </div>\\n            </div>\\n          </span>\\n        </div>\\n      </div>\\n      <div class=\"actionBar\" ng-if=\"!$ctrl.offlineMode\" authorization=\"PortainerStackCreate, PortainerStackDelete\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          authorization=\"PortainerStackDelete\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"stack-removeStackButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n        <button\\n          ng-disabled=\"!$ctrl.createEnabled\"\\n          type=\"button\"\\n          class=\"btn btn-sm btn-primary\"\\n          ui-sref=\"docker.stacks.newstack\"\\n          authorization=\"PortainerStackCreate\"\\n          data-cy=\"stack-addStackButton\"\\n        >\\n          <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add stack\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n          data-cy=\"stack-searchInput\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"stack-stackTable\">\\n          <thead>\\n            <tr>\\n              <th uib-dropdown dropdown-append-to-body auto-close=\"disabled\" is-open=\"$ctrl.filters.state.open\">\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\" authorization=\"PortainerStackCreate, PortainerStackDelete\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n                <div>\\n                  <span uib-dropdown-toggle ng-class=\"[\\'table-filter\\', { \\'filter-active\\': $ctrl.filters.state.enabled }]\">\\n                    Filter\\n                    <i ng-class=\"[\\'fa\\', { \\'fa-filter\\': !$ctrl.filters.state.enabled, \\'fa-check\\': $ctrl.filters.state.enabled }]\" aria-hidden=\"true\"></i>\\n                  </span>\\n                </div>\\n                <div class=\"dropdown-menu\" uib-dropdown-menu>\\n                  <div class=\"tableMenu\">\\n                    <div class=\"menuHeader\">\\n                      Filter by activity\\n                    </div>\\n                    <div class=\"menuContent\">\\n                      <div class=\"md-checkbox\">\\n                        <input id=\"filter_usage_activeStacks\" type=\"checkbox\" ng-model=\"$ctrl.filters.state.showActiveStacks\" ng-change=\"$ctrl.onFilterChange()\" />\\n                        <label for=\"filter_usage_activeStacks\">Active stacks</label>\\n                      </div>\\n                      <div class=\"md-checkbox\">\\n                        <input id=\"filter_usage_unactiveStacks\" type=\"checkbox\" ng-model=\"$ctrl.filters.state.showUnactiveStacks\" ng-change=\"$ctrl.onFilterChange()\" />\\n                        <label for=\"filter_usage_unactiveStacks\">Inactive stacks</label>\\n                      </div>\\n                    </div>\\n                    <div>\\n                      <a type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"$ctrl.filters.state.open = false;\">Close</a>\\n                    </div>\\n                  </div>\\n                </div>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Type\\')\">\\n                  Type\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Type\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Control</th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.CreationDate\\')\">\\n                  Created\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.CreationDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.CreationDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th ng-if=\"$ctrl.columnVisibility.columns.updated.display\">\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.UpdateDate\\')\">\\n                  Updated\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.UpdateDate\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.UpdateDate\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'ResourceControl.Ownership\\')\">\\n                  Ownership\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'ResourceControl.Ownership\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter: $ctrl.applyFilters | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\" ng-if=\"!$ctrl.offlineMode\" authorization=\"PortainerStackCreate, PortainerStackDelete\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"!$ctrl.allowSelection(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a\\n                  ng-if=\"!$ctrl.offlineMode\"\\n                  ui-sref=\"docker.stacks.stack({ name: item.Name, id: item.Id, type: item.Type, regular: item.Regular, external: item.External, orphaned: item.Orphaned, orphanedRunning: item.OrphanedRunning })\"\\n                  >{{ item.Name }}</a\\n                >\\n                <span ng-if=\"$ctrl.offlineMode\">{{ item.Name }}</span>\\n                <span ng-if=\"item.Regular && item.Status == 2\" style=\"margin-left: 10px;\" class=\"label label-warning image-tag space-left\">Inactive</span>\\n              </td>\\n              <td>{{ item.Type === 1 ? \\'Swarm\\' : \\'Compose\\' }}</td>\\n              <td>\\n                <span\\n                  ng-if=\"item.Orphaned\"\\n                  class=\"interactive\"\\n                  tooltip-append-to-body=\"true\"\\n                  tooltip-placement=\"bottom\"\\n                  tooltip-class=\"portainer-tooltip\"\\n                  uib-tooltip=\"This stack was created inside an environment that is no longer registered inside Portainer.\"\\n                >\\n                  Orphaned <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-left: 2px;\"></i>\\n                </span>\\n                <span\\n                  ng-if=\"item.External\"\\n                  class=\"interactive\"\\n                  tooltip-append-to-body=\"true\"\\n                  tooltip-placement=\"bottom\"\\n                  tooltip-class=\"portainer-tooltip\"\\n                  uib-tooltip=\"This stack was created outside of Portainer. Control over this stack is limited.\"\\n                >\\n                  Limited <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-left: 2px;\"></i>\\n                </span>\\n                <span ng-if=\"item.Regular\">Total</span>\\n              </td>\\n              <td>\\n                <span ng-if=\"item.CreationDate\">{{ item.CreationDate | getisodatefromtimestamp }} {{ item.CreatedBy ? \\'by \\' + item.CreatedBy : \\'\\' }}</span>\\n                <span ng-if=\"!item.CreationDate\"> - </span>\\n              </td>\\n              <td ng-if=\"$ctrl.columnVisibility.columns.updated.display\">\\n                <span ng-if=\"item.UpdateDate\">{{ item.UpdateDate | getisodatefromtimestamp }} {{ item.UpdatedBy ? \\'by \\' + item.UpdatedBy : \\'\\' }}</span>\\n                <span ng-if=\"!item.UpdateDate\"> - </span>\\n              </td>\\n              <td>\\n                <span>\\n                  <i ng-class=\"item.ResourceControl.Ownership | ownershipicon\" aria-hidden=\"true\"></i>\\n                  {{ item.ResourceControl.Ownership ? item.ResourceControl.Ownership : item.ResourceControl.Ownership = $ctrl.RCO.ADMINISTRATORS }}\\n                </span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\" data-cy=\"stacks-loadingTableRow\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\" data-cy=\"stacks-noStackTableRow\">\\n              <td colspan=\"6\" class=\"text-center text-muted\">No stack available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\">\\n          {{ $ctrl.state.selectedItemCount }}\\n          item(s) selected\\n        </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.app\").controller(\"StacksDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",\"Authentication\",function(e,t,n,a){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.filters={state:{open:!1,enabled:!1,showActiveStacks:!0,showUnactiveStacks:!0}},this.columnVisibility={state:{open:!1},columns:{updated:{label:\"Updated\",display:!1}}},this.onColumnVisibilityChange=function(e){this.columnVisibility.columns=e,n.setColumnVisibilitySettings(this.tableKey,this.columnVisibility)}.bind(this),this.allowSelection=function(e){return(!e.External||2!==e.Type)&&!(e.External&&!this.isAdmin)},this.applyFilters=function(e){const{showActiveStacks:t,showUnactiveStacks:n}=this.filters.state;return e.Orphaned?e.OrphanedRunning||this.settings.allOrphanedStacks:1===e.Status&&t||2===e.Status&&n||e.External||!e.Status}.bind(this),this.onFilterChange=function(){const{showActiveStacks:e,showUnactiveStacks:t}=this.filters.state;this.filters.state.enabled=!e||!t,n.setDataTableFilters(this.tableKey,this.filters)}.bind(this),this.onSettingsAllOrphanedStacksChange=function(){n.setDataTableSettings(this.tableKey,this.settings)},this.$onInit=function(){this.isAdmin=a.isAdmin(),this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var i=n.getDataTableFilters(this.tableKey);null!==i&&(this.filters=i),this.filters&&this.filters.state&&(this.filters.state.open=!1);var s=n.getDataTableSettings(this.tableKey);null!==s&&(this.settings=s,this.settings.open=!1,this.settings.allOrphanedStacks=this.settings.allOrphanedStacks&&this.isAdmin),this.onSettingsRepeaterChange();var r=n.getColumnVisibilitySettings(this.tableKey);null!==r&&(this.columnVisibility=r)}}])},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"stringsDatatable\",(function(){return s}));var a=n(1),i=n.n(a);const s={templateUrl:n(1788),controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",emptyDatasetMessage:\"@\",columnHeader:\"@\",tableKey:\"@\",onRemove:\"<\"}};i.a.module(\"portainer.app\").component(\"stringsDatatable\",s)},function(e,t){var n=\"app/portainer/components/datatables/strings-datatable/strings-datatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-header icon=\"{{ $ctrl.titleIcon }}\" title-text=\"{{ $ctrl.titleText }}\"> </rd-widget-header>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.onRemove($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  {{ $ctrl.columnHeader }}\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit)) track by $index\"\\n              ng-class=\"{ active: $ctrl.state.selectedItems.includes(item) }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input\\n                    id=\"select_{{ $index }}\"\\n                    type=\"checkbox\"\\n                    ng-checked=\"$ctrl.state.selectedItems.includes(item)\"\\n                    ng-disabled=\"$ctrl.disableRemove(item)\"\\n                    ng-click=\"$ctrl.selectItem(item, $event)\"\\n                  />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                {{ item.value }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td class=\"text-center text-muted\">{{ $ctrl.emptyDatasetMessage }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1790);angular.module(\"portainer.app\").component(\"tagsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\"}})},function(e,t){var n=\"app/portainer/components/datatables/tags-datatable/tagsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                {{ item.Name }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"1\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"1\" class=\"text-center text-muted\">No tag available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1792);angular.module(\"portainer.app\").component(\"teamsDatatable\",{templateUrl:a,controller:\"GenericDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\"}})},function(e,t){var n=\"app/portainer/components/datatables/teams-datatable/teamsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-disabled=\"$ctrl.state.selectedItemCount === 0\" ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\">\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"portainer.teams.team({id: item.Id})\">{{ item.Name }}</a>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td class=\"text-center text-muted\">No team available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(641);const r=n(1794);i.a.module(\"portainer.app\").component(\"usersDatatable\",{templateUrl:r,controller:s.default,bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",authenticationMethod:\"<\"}})},function(e,t){var n=\"app/portainer/components/datatables/users-datatable/usersDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"actionBar\">\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-disabled=\"$ctrl.state.selectedItemCount === 0\"\\n          ng-click=\"$ctrl.removeAction($ctrl.state.selectedItems)\"\\n          data-cy=\"user-removeUserButton\"\\n        >\\n          <i class=\"fa fa-trash-alt space-right\" aria-hidden=\"true\"></i>Remove\\n        </button>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\" data-cy=\"user-userTable\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Username\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Username\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Username\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'RoleName\\')\">\\n                  Role\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'RoleName\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'RoleName\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'AuthenticationMethod\\')\">\\n                  Authentication\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'AuthenticationMethod\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'AuthenticationMethod\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"!$ctrl.allowSelection(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                <a ui-sref=\"portainer.users.user({id: item.Id})\">{{ item.Username }}</a>\\n              </td>\\n              <td>\\n                <span>\\n                  <i class=\"fa fa-user-circle\" aria-hidden=\"true\" style=\"margin-right: 5px;\" ng-if=\"item.Role === 1 && !item.isTeamLeader\"></i>\\n                  <i class=\"fa fa-user-plus\" aria-hidden=\"true\" style=\"margin-right: 5px;\" ng-if=\"item.Role !== 1 && item.isTeamLeader\"></i>\\n                  <i class=\"fa fa-user\" aria-hidden=\"true\" style=\"margin-right: 5px;\" ng-if=\"item.Role !== 1 && !item.isTeamLeader\"></i>\\n                  {{ item.RoleName ? item.RoleName : \\'-\\' }}\\n                </span>\\n              </td>\\n              <td>\\n                <span ng-if=\"item.Id === 1 || ($ctrl.authenticationMethod !== 2 && $ctrl.authenticationMethod !== 3)\">Internal</span>\\n                <span ng-if=\"item.Id !== 1 && $ctrl.authenticationMethod === 2\">LDAP</span>\\n                <span ng-if=\"item.Id !== 1 && $ctrl.authenticationMethod === 3\">OAuth</span>\\n              </td>\\n            </tr>\\n            <tr ng-if=\"!$ctrl.dataset\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No user available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},,,,,function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(642);const r=n(1800);i.a.module(\"portainer.app\").component(\"endpointItem\",{templateUrl:r,bindings:{model:\"<\",onSelect:\"<\",onEdit:\"<\",isAdmin:\"<\",tags:\"<\",endpointInitTime:\"<\"},controller:s.default})},function(e,t,n){var a=\"app/portainer/components/endpoint-list/endpoint-item/endpointItem.html\",i='<div class=\"blocklist-item\" ng-click=\"$ctrl.onSelect($ctrl.model)\">\\n  <div class=\"blocklist-item-box\">\\n    <span ng-class=\"[\\'blocklist-item-logo\\', \\'endpoint-item\\', { azure: $ctrl.model.Type === 3 }]\">\\n      <i\\n        ng-if=\"$ctrl.model.Type !== 4 && $ctrl.model.Type !== 5 && $ctrl.model.Type !== 6 && $ctrl.model.Type !== 7\"\\n        ng-class=\"$ctrl.model.Type | endpointtypeicon\"\\n        class=\"fa-4x blue-icon\"\\n        aria-hidden=\"true\"\\n      ></i>\\n      <img ng-if=\"$ctrl.model.Type === 4\" src=\"'+n(1801)+'\" />\\n      <img ng-if=\"$ctrl.model.Type === 5 || $ctrl.model.Type === 6\" src=\"'+n(1802)+'\" />\\n      <img ng-if=\"$ctrl.model.Type === 7\" src=\"'+n(1803)+'\" />\\n    </span>\\n\\n    <span class=\"col-sm-12\">\\n      <div class=\"blocklist-item-line endpoint-item\">\\n        <span>\\n          <span class=\"blocklist-item-title endpoint-item\">\\n            {{ $ctrl.model.Name }}\\n          </span>\\n          <span class=\"space-left blocklist-item-subtitle\">\\n            <span ng-if=\"$ctrl.isEdgeEndpoint()\">\\n              <span ng-if=\"!$ctrl.model.EdgeID\" class=\"label label-default\"><s>associated</s></span>\\n              <span ng-if=\"$ctrl.model.EdgeID\">\\n                <span class=\"label\" ng-class=\"{ \\'label-danger\\': !$ctrl.isCheckInValid, \\'label-success\\': $ctrl.isCheckInValid }\">heartbeat</span>\\n                <span class=\"space-left small text-muted\" ng-if=\"$ctrl.model.LastCheckInDate\">\\n                  {{ $ctrl.model.LastCheckInDate | getisodatefromtimestamp }}\\n                </span>\\n              </span>\\n            </span>\\n\\n            <span ng-if=\"!$ctrl.isEdgeEndpoint()\">\\n              <span class=\"label label-{{ $ctrl.model.Status | endpointstatusbadge }}\">\\n                {{ $ctrl.model.Status === 1 ? \\'up\\' : \\'down\\' }}\\n              </span>\\n              <span class=\"space-left small text-muted\" ng-if=\"$ctrl.model.Snapshots[0]\">\\n                {{ $ctrl.model.Snapshots[0].Time | getisodatefromtimestamp }}\\n              </span>\\n              <span class=\"space-left small text-muted\" ng-if=\"$ctrl.model.Kubernetes.Snapshots[0]\">\\n                {{ $ctrl.model.Kubernetes.Snapshots[0].Time | getisodatefromtimestamp }}\\n              </span>\\n            </span>\\n          </span>\\n        </span>\\n        <span>\\n          <span class=\"small\" ng-if=\"$ctrl.model.GroupName\"> Group: {{ $ctrl.model.GroupName }} </span>\\n          <button ng-if=\"$ctrl.isAdmin\" class=\"btn btn-link btn-xs\" ng-click=\"$ctrl.editEndpoint($event)\"><i class=\"fa fa-pencil-alt\"></i> </button>\\n        </span>\\n      </div>\\n\\n      <div class=\"blocklist-item-line endpoint-item\" ng-if=\"$ctrl.model.Snapshots[0]\">\\n        <span class=\"blocklist-item-desc\">\\n          <span>\\n            <span style=\"padding: 0 7px 0 0;\">\\n              <i class=\"fa fa-th-list space-right\" aria-hidden=\"true\"></i>{{ $ctrl.model.Snapshots[0].StackCount }}\\n              {{ $ctrl.model.Snapshots[0].StackCount === 1 ? \\'stack\\' : \\'stacks\\' }}\\n            </span>\\n            <span style=\"padding: 0 7px 0 7px;\" ng-if=\"$ctrl.model.Snapshots[0].Swarm\">\\n              <i class=\"fa fa-list-alt space-right\" aria-hidden=\"true\"></i>{{ $ctrl.model.Snapshots[0].ServiceCount }}\\n              {{ $ctrl.model.Snapshots[0].ServiceCount === 1 ? \\'service\\' : \\'services\\' }}\\n            </span>\\n            <span style=\"padding: 0 7px 0 7px;\">\\n              <i class=\"fa fa-cubes space-right\" aria-hidden=\"true\"></i>{{ $ctrl.model.Snapshots[0].RunningContainerCount + $ctrl.model.Snapshots[0].StoppedContainerCount }}\\n              {{ $ctrl.model.Snapshots[0].RunningContainerCount + $ctrl.model.Snapshots[0].StoppedContainerCount === 1 ? \\'container\\' : \\'containers\\' }}\\n              <span ng-if=\"$ctrl.model.Snapshots[0].RunningContainerCount > 0 || $ctrl.model.Snapshots[0].StoppedContainerCount > 0\">\\n                -\\n                <i class=\"fa fa-power-off green-icon\" aria-hidden=\"true\"></i> {{ $ctrl.model.Snapshots[0].RunningContainerCount }}\\n                <i class=\"fa fa-power-off red-icon\" aria-hidden=\"true\"></i> {{ $ctrl.model.Snapshots[0].StoppedContainerCount }}\\n                /\\n                <i class=\"fa fa-heartbeat green-icon\" aria-hidden=\"true\"></i> {{ $ctrl.model.Snapshots[0].HealthyContainerCount }}\\n                <i class=\"fa fa-heartbeat orange-icon\" aria-hidden=\"true\"></i> {{ $ctrl.model.Snapshots[0].UnhealthyContainerCount }}\\n              </span>\\n            </span>\\n            <span style=\"padding: 0 7px 0 7px;\">\\n              <i class=\"fa fa-hdd space-right\" aria-hidden=\"true\"></i>{{ $ctrl.model.Snapshots[0].VolumeCount }}\\n              {{ $ctrl.model.Snapshots[0].VolumeCount === 1 ? \\'volume\\' : \\'volumes\\' }}\\n            </span>\\n            <span style=\"padding: 0 7px 0 7px;\">\\n              <i class=\"fa fa-clone space-right\" aria-hidden=\"true\"></i>{{ $ctrl.model.Snapshots[0].ImageCount }}\\n              {{ $ctrl.model.Snapshots[0].ImageCount === 1 ? \\'image\\' : \\'images\\' }}\\n            </span>\\n          </span>\\n        </span>\\n        <span class=\"small text-muted\">\\n          {{ $ctrl.model.Snapshots[0].Swarm ? \\'Swarm\\' : \\'Standalone\\' }} {{ $ctrl.model.Snapshots[0].DockerVersion }}\\n          <span ng-if=\"$ctrl.model.Type === 2\">+ <i class=\"fa fa-bolt\" aria-hidden=\"true\"></i> Agent</span>\\n          <span style=\"padding: 0 7px 0 0;\" ng-if=\"$ctrl.model.Snapshots[0].Swarm\">\\n            <i class=\"fa fa-hdd space-left space-right\" aria-hidden=\"true\"></i>{{ $ctrl.model.Snapshots[0].NodeCount }}\\n            {{ $ctrl.model.Snapshots[0].NodeCount === 1 ? \\'node\\' : \\'nodes\\' }}\\n          </span>\\n        </span>\\n      </div>\\n\\n      <div class=\"blocklist-item-line endpoint-item\" ng-if=\"!$ctrl.model.Snapshots[0] && $ctrl.model.Type !== 5 && $ctrl.model.Type !== 6 && $ctrl.model.Type !== 7\">\\n        <span class=\"blocklist-item-desc\">\\n          No snapshot available\\n        </span>\\n      </div>\\n\\n      <div class=\"blocklist-item-line endpoint-item\" ng-if=\"$ctrl.model.Kubernetes.Snapshots[0] && ($ctrl.model.Type === 5 || $ctrl.model.Type === 6 || $ctrl.model.Type === 7)\">\\n        <span class=\"blocklist-item-desc\">\\n          <span>\\n            <span style=\"padding: 0 7px 0 0;\"> <i class=\"fa fa-microchip space-right\" aria-hidden=\"true\"></i>{{ $ctrl.model.Kubernetes.Snapshots[0].TotalCPU }} CPU </span>\\n            <span style=\"padding: 0 7px 0 7px;\">\\n              <i class=\"fa fa-memory space-right\" aria-hidden=\"true\"></i>{{ $ctrl.model.Kubernetes.Snapshots[0].TotalMemory | humansize }} RAM\\n            </span>\\n          </span>\\n        </span>\\n        <span class=\"small text-muted\">\\n          Kubernetes {{ $ctrl.model.Kubernetes.Snapshots[0].KubernetesVersion }}\\n          <span style=\"padding: 0 0 0 7px;\">\\n            <i class=\"fa fa-hdd space-left space-right\" aria-hidden=\"true\"></i>\\n            {{ $ctrl.model.Kubernetes.Snapshots[0].NodeCount }} {{ $ctrl.model.Kubernetes.Snapshots[0].NodeCount === 1 ? \\'node\\' : \\'nodes\\' }}\\n          </span>\\n        </span>\\n      </div>\\n\\n      <div class=\"blocklist-item-line endpoint-item\" ng-if=\"!$ctrl.model.Kubernetes.Snapshots[0] && ($ctrl.model.Type === 5 || $ctrl.model.Type === 6 || $ctrl.model.Type === 7)\">\\n        <span class=\"blocklist-item-desc\">\\n          -\\n        </span>\\n      </div>\\n\\n      <div class=\"blocklist-item-line endpoint-item\">\\n        <span class=\"small text-muted\">\\n          <span ng-if=\"$ctrl.model.Type === 1 || $ctrl.model.Type === 2 || $ctrl.model.Type === 4\">\\n            <span class=\"small text-muted\">\\n              <i class=\"fa fa-microchip\"></i> {{ $ctrl.model.Snapshots[0].TotalCPU }}<i class=\"fa fa-memory space-left\"></i> {{ $ctrl.model.Snapshots[0].TotalMemory | humansize }}\\n            </span>\\n            <span class=\"space-left space-right\">-</span>\\n          </span>\\n          <span ng-if=\"$ctrl.endpointTags.length === 0\"> <i class=\"fa fa-tags\" aria-hidden=\"true\"></i> No tags </span>\\n          <span ng-if=\"$ctrl.endpointTags.length > 0\">\\n            <i class=\"fa fa-tags\" aria-hidden=\"true\"></i>\\n            {{ $ctrl.endpointTags }}\\n          </span>\\n        </span>\\n        <span class=\"small text-muted\" ng-if=\"$ctrl.model.Type !== 4 && $ctrl.model.Type !== 7\">\\n          {{ $ctrl.model.URL | stripprotocol }}\\n        </span>\\n      </div>\\n    </span>\\n  </div>\\n</div>\\n';window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(a,i)}]),e.exports=a},function(e,t,n){e.exports=n.p+\"eb45a68ab4c8d154c69396d27d5721be.png\"},function(e,t,n){e.exports=n.p+\"5b98afb96054e0fa36a8299869f7f464.png\"},function(e,t,n){e.exports=n.p+\"2ab6d77445159e590879381735de9ff1.png\"},function(e,t,n){\"use strict\";n.r(t);var a=n(233),i=n(16),s=n(829),r=n(6),o=n(15);angular.module(\"portainer.app\").controller(\"EndpointListController\",[\"DatatableService\",\"PaginationService\",\"ModalService\",\"KubernetesConfigService\",\"Notifications\",function(e,t,n,l,c){function d(e){return[o.PortainerEndpointTypes.KubernetesLocalEnvironment,o.PortainerEndpointTypes.AgentOnKubernetesEnvironment,o.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment].includes(e.Type)}this.state={totalFilteredEndpoints:null,textFilter:\"\",filteredEndpoints:[],paginatedItemLimit:\"10\",pageNumber:1,loading:!0,pollingTimeout:null},this.onTextFilterChange=function(t=!1){this.state.loading=!0;var n=this.state.textFilter;e.setDataTableTextFilters(this.tableKey,n),!t&&this.hasBackendPagination()?this.paginationChangedAction():(this.state.filteredEndpoints=function(e,t,n){if(!e||!e.length||!n)return e;var o=n.split(\" \");return Object(r.a)(e,(function(e){var n=1===e.Status?\"up\":\"down\";return Object(s.a)(o,(function(s){var r=s.toLowerCase();return Object(i.a)(e.Name.toLowerCase(),r)||Object(i.a)(e.GroupName.toLowerCase(),r)||Object(i.a)(e.URL.toLowerCase(),r)||Object(a.a)(e.TagIds,e=>{const n=t.find(t=>t.Id===e);return!!n&&Object(i.a)(n.Name.toLowerCase(),r)})||Object(i.a)(n,s)}))}))}(this.endpoints,this.tags,n),this.state.loading=!1,this.state.totalFilteredEndpoints=n?this.state.filteredEndpoints.length:this.endpoints.length)},this.hasBackendPagination=function(){return this.totalCount&&this.totalCount>100},this.clearPollTimeout=function(){this.state.pollingTimeout&&(clearTimeout(this.state.pollingTimeout),this.state.pollingTimeout=0)},this.$onDestory=function(){this.clearPollTimeout()},this.getCurrentPage=async function(e,t,n,a=!1){try{const{totalCount:i,endpoints:s}=await this.retrievePage(e,t,n);a?(this.totalCount=i,this.endpoints=s,this.onTextFilterChange(a)):(this.state.filteredEndpoints=s,this.state.totalFilteredEndpoints=i),this.state.loading=!1;s.some(e=>1!==e.Status)&&(this.state.pollingTimeout=setTimeout(()=>this.getCurrentPage(e,t,n),3e4))}catch(e){c.error(\"Failed loading page data\",e)}},this.paginationChangedAction=async function(e=!1){if(this.clearPollTimeout(),e||this.hasBackendPagination()){this.state.loading=!0,this.state.filteredEndpoints=[];const t=(this.state.pageNumber-1)*this.state.paginatedItemLimit+1;e?await this.getCurrentPage(t,100,null,e):await this.getCurrentPage(t,this.state.paginatedItemLimit,this.state.textFilter)}},this.pageChangeHandler=function(e){this.state.pageNumber=e,this.paginationChangedAction()},this.changePaginationLimit=function(){t.setPaginationLimit(this.tableKey,this.state.paginatedItemLimit),this.paginationChangedAction()},this.showKubeconfigButton=function(){return\"https:\"===window.location.protocol&&Object(a.a)(this.endpoints,e=>d(e))},this.showKubeconfigModal=async function(){const e=Object(r.a)(this.endpoints,e=>d(e)).map((function(e){return{text:`${e.Name} (${e.URL})`,value:e.Id}}));let t=\"\";try{t=await l.expiryMessage()}catch(e){c.error(\"Failed fetching kubeconfig expiry time\",e)}n.confirmKubeconfigSelection(e,t,(async function(e){if(0!==e.length)try{await l.downloadKubeconfigFile(e)}catch(e){c.error(\"Failed downloading kubeconfig file\",e)}else c.warning(\"No environment was selected\")}))},this.$onInit=function(){var n=e.getDataTableTextFilters(this.tableKey);this.state.paginatedItemLimit=t.getPaginationLimit(this.tableKey),n&&(this.state.textFilter=n),this.paginationChangedAction(!0)}}])},function(e,t,n){const a=n(1806);angular.module(\"portainer.app\").component(\"endpointList\",{templateUrl:a,controller:\"EndpointListController\",bindings:{titleText:\"@\",titleIcon:\"@\",tags:\"<\",tableKey:\"@\",dashboardAction:\"<\",snapshotAction:\"<\",showSnapshotAction:\"<\",editAction:\"<\",isAdmin:\"<\",retrievePage:\"<\",endpointInitTime:\"<\"}})},function(e,t){var n=\"app/portainer/components/endpoint-list/endpointList.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n\\n      <div class=\"actionBar\" ng-if=\"$ctrl.showSnapshotAction || $ctrl.showKubeconfigButton()\">\\n        <div style=\"margin-bottom: 10px;\" ng-if=\"$ctrl.endpoints.length\">\\n          <i class=\"fa fa-exclamation-circle blue-icon\" style=\"margin-right: 5px;\"></i>Click on an environment to manage\\n        </div>\\n        <button type=\"button\" ng-if=\"$ctrl.showSnapshotAction\" class=\"btn btn-sm btn-primary\" ng-click=\"$ctrl.snapshotAction()\" data-cy=\"home-refreshEndpointsButton\">\\n          <i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i>Refresh\\n        </button>\\n        <button\\n          ng-if=\"$ctrl.showKubeconfigButton()\"\\n          type=\"button\"\\n          class=\"btn btn-sm btn-primary\"\\n          ng-click=\"$ctrl.showKubeconfigModal()\"\\n          analytics-on\\n          analytics-category=\"kubernetes\"\\n          analytics-event=\"kubernetes-kubectl-kubeconfig-multi\"\\n        >\\n          <i class=\"fas fa-download space-right\"></i> kubeconfig\\n        </button>\\n      </div>\\n\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          ng-model-options=\"{ debounce: 300 }\"\\n          placeholder=\"Search by name, group, tag, status, URL...\"\\n          auto-focus\\n          data-cy=\"home-endpointsSearchInput\"\\n        />\\n      </div>\\n\\n      <div class=\"blocklist\" data-cy=\"home-endpointList\">\\n        <endpoint-item\\n          ng-if=\"$ctrl.hasBackendPagination()\"\\n          dir-paginate=\"endpoint in $ctrl.state.filteredEndpoints | itemsPerPage: $ctrl.state.paginatedItemLimit\"\\n          model=\"endpoint\"\\n          total-items=\"$ctrl.state.totalFilteredEndpoints\"\\n          on-select=\"($ctrl.dashboardAction)\"\\n          on-edit=\"($ctrl.editAction)\"\\n          is-admin=\"$ctrl.isAdmin\"\\n          tags=\"$ctrl.tags\"\\n          endpoint-init-time=\"$ctrl.endpointInitTime\"\\n        ></endpoint-item>\\n        <endpoint-item\\n          ng-if=\"!$ctrl.hasBackendPagination()\"\\n          dir-paginate=\"endpoint in $ctrl.state.filteredEndpoints | itemsPerPage: $ctrl.state.paginatedItemLimit\"\\n          model=\"endpoint\"\\n          on-select=\"($ctrl.dashboardAction)\"\\n          on-edit=\"($ctrl.editAction)\"\\n          is-admin=\"$ctrl.isAdmin\"\\n          tags=\"$ctrl.tags\"\\n          endpoint-init-time=\"$ctrl.endpointInitTime\"\\n        ></endpoint-item>\\n        <div ng-if=\"$ctrl.state.loading\" class=\"text-center text-muted\" data-cy=\"home-loadingEndpoints\">\\n          Loading...\\n        </div>\\n        <div ng-if=\"!$ctrl.state.loading && !$ctrl.state.filteredEndpoints.length\" class=\"text-center text-muted\" data-cy=\"home-noEndpoints\">\\n          No environment available.\\n        </div>\\n      </div>\\n\\n      <div class=\"footer\" ng-if=\"$ctrl.endpoints\">\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"home-paginationSelect\">\\n                <option value=\"0\" ng-if=\"!$ctrl.hasBackendPagination()\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\" on-page-change=\"$ctrl.pageChangeHandler(newPageNumber, oldPageNumber)\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1808);angular.module(\"portainer.app\").component(\"endpointSelector\",{templateUrl:a,controller:\"EndpointSelectorController\",bindings:{model:\"=\",endpoints:\"<\",groups:\"<\"}})},function(e,t){var n=\"app/portainer/components/endpoint-selector/endpointSelector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ui-select ng-model=\"$ctrl.model\">\\n  <ui-select-match placeholder=\"Select an environment\">\\n    <span>{{ $select.selected.Name }}</span>\\n  </ui-select-match>\\n  <ui-select-choices group-by=\"$ctrl.groupEndpoints\" group-filter=\"$ctrl.sortGroups\" repeat=\"endpoint in ($ctrl.endpoints | filter: $select.search) track by endpoint.Id\">\\n    <span>{{ endpoint.Name }}</span>\\n  </ui-select-choices>\\n</ui-select>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(67);angular.module(\"portainer.app\").controller(\"EndpointSelectorController\",(function(){var e=this;this.sortGroups=function(e){return Object(a.a)(e,[\"name\"])},this.groupEndpoints=function(t){for(var n=0;n<e.availableGroups.length;n++){var a=e.availableGroups[n];if(t.GroupId===a.Id)return a.Name}},this.$onInit=function(){var e,t;this.availableGroups=(e=this.groups,t=this.endpoints,e.filter((function(e){for(var n=0;n<t.length;n++)if(t[n].GroupId===e.Id)return!0;return!1})))}}))},function(e,t,n){const a=n(1811);angular.module(\"portainer.app\").component(\"porEndpointSecurity\",{templateUrl:a,controller:\"porEndpointSecurityController\",bindings:{formData:\"=\",endpoint:\"<\"}})},function(e,t){var n=\"app/portainer/components/endpointSecurity/porEndpointSecurity.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  \\x3c!-- tls-checkbox --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <label for=\"tls\" class=\"control-label text-left\">\\n        TLS\\n        <portainer-tooltip position=\"bottom\" message=\"Enable this option if you need to connect to the Docker environment with TLS.\"></portainer-tooltip>\\n      </label>\\n      <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"$ctrl.formData.TLS\" /><i></i> </label>\\n    </div>\\n  </div>\\n  \\x3c!-- !tls-checkbox --\\x3e\\n  <div class=\"col-sm-12 form-section-title\" ng-if=\"$ctrl.formData.TLS\">\\n    TLS mode\\n  </div>\\n  \\x3c!-- note --\\x3e\\n  <div class=\"form-group\" ng-if=\"$ctrl.formData.TLS\">\\n    <div class=\"col-sm-12\">\\n      <span class=\"small text-muted\">\\n        You can find out more information about how to protect a Docker environment with TLS in the\\n        <a href=\"https://docs.docker.com/engine/security/https/\" target=\"_blank\">Docker documentation</a>.\\n      </span>\\n    </div>\\n  </div>\\n  <div class=\"form-group\"></div>\\n  \\x3c!-- endpoint-tls-mode --\\x3e\\n  <div class=\"form-group\" style=\"margin-bottom: 0;\" ng-if=\"$ctrl.formData.TLS\">\\n    <div class=\"boxselector_wrapper\">\\n      <div>\\n        <input type=\"radio\" id=\"tls_client_ca\" ng-model=\"$ctrl.formData.TLSMode\" value=\"tls_client_ca\" />\\n        <label for=\"tls_client_ca\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-shield-alt\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            TLS with server and client verification\\n          </div>\\n          <p>Use client certificates and server verification</p>\\n        </label>\\n      </div>\\n      <div>\\n        <input type=\"radio\" id=\"tls_client_noca\" ng-model=\"$ctrl.formData.TLSMode\" value=\"tls_client_noca\" />\\n        <label for=\"tls_client_noca\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-shield-alt\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            TLS with client verification only\\n          </div>\\n          <p>Use client certificates without server verification</p>\\n        </label>\\n      </div>\\n      <div>\\n        <input type=\"radio\" id=\"tls_ca\" ng-model=\"$ctrl.formData.TLSMode\" value=\"tls_ca\" />\\n        <label for=\"tls_ca\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-shield-alt\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            TLS with server verification only\\n          </div>\\n          <p>Only verify the server certificate</p>\\n        </label>\\n      </div>\\n      <div>\\n        <input type=\"radio\" id=\"tls_only\" ng-model=\"$ctrl.formData.TLSMode\" value=\"tls_only\" />\\n        <label for=\"tls_only\">\\n          <div class=\"boxselector_header\">\\n            <i class=\"fa fa-shield-alt\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            TLS only\\n          </div>\\n          <p>No server/client verification</p>\\n        </label>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !endpoint-tls-mode --\\x3e\\n  <div class=\"col-sm-12 form-section-title\" ng-if=\"$ctrl.formData.TLS && $ctrl.formData.TLSMode !== \\'tls_only\\'\">\\n    Required TLS files\\n  </div>\\n  \\x3c!-- tls-file-upload --\\x3e\\n  <div ng-if=\"$ctrl.formData.TLS\">\\n    \\x3c!-- tls-file-ca --\\x3e\\n    <div class=\"form-group\" ng-if=\"$ctrl.formData.TLSMode === \\'tls_client_ca\\' || $ctrl.formData.TLSMode === \\'tls_ca\\'\">\\n      <label class=\"col-sm-3 col-lg-2 control-label text-left\">TLS CA certificate</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.formData.TLSCACert\">Select file</button>\\n        <span style=\"margin-left: 5px;\">\\n          {{ $ctrl.formData.TLSCACert.name }}\\n          <i class=\"fa fa-check green-icon\" ng-if=\"$ctrl.formData.TLSCACert && $ctrl.formData.TLSCACert === $ctrl.endpoint.TLSConfig.TLSCACert\" aria-hidden=\"true\"></i>\\n          <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formData.TLSCACert\" aria-hidden=\"true\"></i>\\n        </span>\\n      </div>\\n    </div>\\n    \\x3c!-- !tls-file-ca --\\x3e\\n    \\x3c!-- tls-files-cert-key --\\x3e\\n    <div ng-if=\"$ctrl.formData.TLSMode === \\'tls_client_ca\\' || $ctrl.formData.TLSMode === \\'tls_client_noca\\'\">\\n      \\x3c!-- tls-file-cert --\\x3e\\n      <div class=\"form-group\">\\n        <label for=\"tls_cert\" class=\"col-sm-3 col-lg-2 control-label text-left\">TLS certificate</label>\\n        <div class=\"col-sm-9 col-lg-10\">\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.formData.TLSCert\">Select file</button>\\n          <span style=\"margin-left: 5px;\">\\n            {{ $ctrl.formData.TLSCert.name }}\\n            <i class=\"fa fa-check green-icon\" ng-if=\"$ctrl.formData.TLSCert && $ctrl.formData.TLSCert === $ctrl.endpoint.TLSConfig.TLSCert\" aria-hidden=\"true\"></i>\\n            <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formData.TLSCert\" aria-hidden=\"true\"></i>\\n          </span>\\n        </div>\\n      </div>\\n      \\x3c!-- !tls-file-cert --\\x3e\\n      \\x3c!-- tls-file-key --\\x3e\\n      <div class=\"form-group\">\\n        <label class=\"col-sm-3 col-lg-2 control-label text-left\">TLS key</label>\\n        <div class=\"col-sm-9 col-lg-10\">\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.formData.TLSKey\">Select file</button>\\n          <span style=\"margin-left: 5px;\">\\n            {{ $ctrl.formData.TLSKey.name }}\\n            <i class=\"fa fa-check green-icon\" ng-if=\"$ctrl.formData.TLSKey && $ctrl.formData.TLSKey === $ctrl.endpoint.TLSConfig.TLSKey\" aria-hidden=\"true\"></i>\\n            <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formData.TLSKey\" aria-hidden=\"true\"></i>\\n          </span>\\n        </div>\\n      </div>\\n      \\x3c!-- !tls-file-key --\\x3e\\n    </div>\\n    \\x3c!-- tls-files-cert-key --\\x3e\\n  </div>\\n  \\x3c!-- !tls-file-upload --\\x3e\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.app\").controller(\"porEndpointSecurityController\",[function(){var e=this;this.$onInit=function(){if(e.endpoint){var t=e.endpoint,n=t.TLSConfig.TLS;e.formData.TLS=n;var a=t.TLSConfig.TLSCACert;e.formData.TLSCACert=a;var i=t.TLSConfig.TLSCert;e.formData.TLSCert=i;var s=t.TLSConfig.TLSKey;e.formData.TLSKey=s,n&&(e.formData.TLSMode=a&&i&&s?\"tls_client_ca\":i&&s?\"tls_client_noca\":a?\"tls_ca\":\"tls_only\")}}}])},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"environmentVariablesSimpleModeItem\",(function(){return r}));var a=n(1),i=n.n(a),s=n(644);const r={templateUrl:n(1814),controller:s.default,bindings:{variable:\"<\",index:\"<\",onChange:\"<\",onRemove:\"<\"}};i.a.module(\"portainer.app\").component(\"environmentVariablesSimpleModeItem\",r)},function(e,t){var n=\"app/portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode-item/environment-variables-simple-mode-item.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ng-form class=\"env-item\" name=\"$ctrl.{{ $ctrl.formName }}\">\\n  <div class=\"col-sm-5\">\\n    <div class=\"input-group input-group-sm env-item-key w-full\">\\n      <span class=\"input-group-addon\">name</span>\\n      <input\\n        type=\"text\"\\n        name=\"name\"\\n        class=\"form-control\"\\n        placeholder=\"e.g. FOO\"\\n        ng-model=\"$ctrl.variable.name\"\\n        ng-disabled=\"$ctrl.variable.added\"\\n        ng-change=\"$ctrl.onChangeName($ctrl.variable.name)\"\\n        required\\n      />\\n    </div>\\n    <div class=\"form-group\" style=\"margin-top: 5px;\" ng-show=\"$ctrl[$ctrl.formName].name.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"$ctrl[$ctrl.formName].name.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Name is required. </p>\\n          <p ng-message=\"pattern\">\\n            <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n            This field must consist alphanumeric characters, \\'-\\' or \\'_\\', start with an alphabetic character, and end with an alphanumeric character (e.g. \\'my-var\\', or \\'MY_VAR123\\').\\n          </p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div ng-if=\"$ctrl.hasValue()\" class=\"col-sm-6\">\\n    <div class=\"w-full env-item-value\">\\n      <div class=\"input-group input-group-sm\">\\n        <span class=\"input-group-addon\">value</span>\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          ng-model=\"$ctrl.variable.value\"\\n          placeholder=\"e.g. bar\"\\n          ng-trim=\"false\"\\n          name=\"value\"\\n          ng-change=\"$ctrl.onChangeValue($ctrl.variable.value)\"\\n        />\\n      </div>\\n      <button class=\"btn btn-sm btn-primary\" type=\"button\" ng-click=\"$ctrl.removeValue()\"> <i class=\"fa fa-minus\" aria-hidden=\"true\"></i> Remove value </button>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"$ctrl[$ctrl.formName].value.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"$ctrl[$ctrl.formName].value.$error\">\\n          <p ng-message=\"required\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Value is required. </p>\\n          <p ng-message=\"pattern\"> <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Value is invalid. </p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div>\\n    <button class=\"btn btn-sm btn-primary\" type=\"button\" ng-if=\"!$ctrl.hasValue()\" ng-click=\"$ctrl.onChangeValue(\\'\\')\">\\n      <i class=\"fa fa-plus\" aria-hidden=\"true\"></i> Add value\\n    </button>\\n    <button class=\"btn btn-sm btn-danger\" type=\"button\" ng-click=\"$ctrl.onRemove($ctrl.index)\">\\n      <i class=\"fa fa-trash\" aria-hidden=\"true\"></i>\\n    </button>\\n  </div>\\n</ng-form>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/environment-variables-panel/environment-variables-simple-mode/environment-variables-simple-mode.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"environment-variables-simple-mode\">\\n  <div class=\"col-sm-12\">\\n    <a class=\"small interactive\" ng-click=\"$ctrl.onSwitchModeClick()\"> <i class=\"fa fa-list-ol space-right\" aria-hidden=\"true\"></i> Advanced mode </a>\\n  </div>\\n  <div class=\"col-sm-12 small text-muted\">\\n    <i class=\"fa fa-info-circle blue-icon space-right\" aria-hidden=\"true\"></i>\\n    Switch to advanced mode to copy & paste multiple variables\\n  </div>\\n  <div class=\"col-sm-12 environment-variables-simple-mode--actions\">\\n    <button type=\"button\" class=\"btn btn-sm btn-default\" ng-click=\"$ctrl.add()\"> <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> Add an environment variable </button>\\n    <button\\n      type=\"button\"\\n      class=\"btn btn-sm btn-default\"\\n      ngf-select=\"$ctrl.addFromFile($file)\"\\n      ngf-accept=\"\\'.env\\'\"\\n      ngf-pattern=\"\\'.env\\'\"\\n      ngf-max-size=\"1MB\"\\n      ngf-model-invalid=\"errorFile\"\\n    >\\n      <i class=\"fa fa-file-upload\" aria-hidden=\"true\"></i> Load variables from .env file\\n    </button>\\n    <span class=\"space-left\" ng-if=\"errorFile.$error == \\'maxSize\\'\">\\n      <i class=\"fa fa-times red-icon space-right\" aria-hidden=\"true\"></i>\\n      File too large! Try uploading a file smaller than 1MB\\n    </span>\\n  </div>\\n  <div class=\"col-sm-12 form-inline env-items-list\">\\n    <environment-variables-simple-mode-item\\n      ng-repeat=\"variable in $ctrl.ngModel\"\\n      variable=\"variable\"\\n      index=\"$index\"\\n      on-change=\"($ctrl.onChangeVariable)\"\\n      on-remove=\"($ctrl.remove)\"\\n    ></environment-variables-simple-mode-item>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/environment-variables-panel/environment-variables-panel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ng-form class=\"form-horizontal environment-variables-panel\" name=\"$ctrl.envVarsForm\">\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12 form-section-title\" style=\"margin-top: 10px; margin-left: 15px; width: 98%;\">\\n      Environment variables\\n    </div>\\n    <div class=\"col-sm-12 environment-variables-panel--explanation\">\\n      {{::$ctrl.explanation}}\\n    </div>\\n\\n    <environment-variables-simple-mode\\n      ng-if=\"$ctrl.mode == \\'simple\\'\"\\n      ng-model=\"$ctrl.ngModel\"\\n      on-change=\"($ctrl.handleSimpleChange)\"\\n      on-switch-mode-click=\"($ctrl.switchEnvMode)\"\\n    ></environment-variables-simple-mode>\\n\\n    <div ng-if=\"$ctrl.mode == \\'advanced\\'\" class=\"environment-variables-panel--advanced\">\\n      <div class=\"col-sm-12\">\\n        <a class=\"small interactive\" ng-click=\"$ctrl.switchEnvMode()\"> <i class=\"fa fa-list-ol space-right\" aria-hidden=\"true\"></i> Simple mode </a>\\n      </div>\\n      <div class=\"col-sm-12 small text-muted\">\\n        <i class=\"fa fa-info-circle blue-icon space-right\" aria-hidden=\"true\"></i>\\n        Switch to simple mode to define variables line by line, or load from .env file\\n      </div>\\n      <div class=\"form-group\" style=\"margin-left: 1px;\">\\n        <code-editor identifier=\"environment-variables-editor\" placeholder=\"e.g. key=value\" value=\"$ctrl.editorText\" yml=\"false\" on-change=\"($ctrl.editorUpdate)\"></code-editor>\\n      </div>\\n    </div>\\n  </div>\\n</ng-form>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1);n.n(a).a.module(\"portainer.app\").directive(\"focusIf\",[\"$timeout\",function(e){return{restrict:\"A\",link:function(t,n,a){var i=n[0];function s(n){n&&e((function(){i.focus()}),t.$eval(a.focusDelay)||0)}a.focusIf?t.$watch(a.focusIf,s):s(!0)}}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(646);const r=n(1819);i.a.module(\"portainer.app\").component(\"groupForm\",{templateUrl:r,controller:s.default,bindings:{loaded:\"<\",pageType:\"@\",model:\"=\",availableEndpoints:\"=\",availableTags:\"<\",associatedEndpoints:\"=\",addLabelAction:\"<\",removeLabelAction:\"<\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\",onCreateTag:\"<\"}})},function(e,t){var n=\"app/portainer/components/forms/group-form/groupForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" name=\"endpointGroupForm\">\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\" ng-class=\"{ \\'has-error\\': endpointGroupForm.group_name.$invalid }\">\\n    <label for=\"group_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" name=\"group_name\" ng-model=\"$ctrl.model.Name\" placeholder=\"e.g. my-group\" required auto-focus />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"endpointGroupForm.group_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"endpointGroupForm.group_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n  \\x3c!-- description-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"group_description\" class=\"col-sm-3 col-lg-2 control-label text-left\">Description</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"group_description\" ng-model=\"$ctrl.model.Description\" placeholder=\"e.g. production environments...\" />\\n    </div>\\n  </div>\\n  \\x3c!-- !description-input --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Metadata\\n  </div>\\n  \\x3c!-- tags --\\x3e\\n  <div class=\"form-group\">\\n    <tag-selector\\n      ng-if=\"$ctrl.model && $ctrl.availableTags\"\\n      tags=\"$ctrl.availableTags\"\\n      model=\"$ctrl.model.TagIds\"\\n      allow-create=\"$ctrl.state.allowCreateTag\"\\n      on-create=\"($ctrl.onCreateTag)\"\\n    ></tag-selector>\\n  </div>\\n  \\x3c!-- !tags --\\x3e\\n  \\x3c!-- environments --\\x3e\\n  <div ng-if=\"$ctrl.model.Id !== 1\">\\n    <div class=\"col-sm-12 form-section-title\">\\n      Associated environments\\n    </div>\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12 small text-muted\">\\n        You can select which environment should be part of this group by moving them to the associated environments table. Simply click on any environment entry to move it from one\\n        table to the other.\\n      </div>\\n      <div class=\"col-sm-12\" style=\"margin-top: 20px;\">\\n        \\x3c!-- available-endpoints --\\x3e\\n        <div class=\"col-sm-6\">\\n          <div class=\"text-center small text-muted\">Available environments</div>\\n          <div style=\"margin-top: 10px;\">\\n            <group-association-table\\n              loaded=\"$ctrl.loaded\"\\n              page-type=\"$ctrl.pageType\"\\n              table-type=\"available\"\\n              retrieve-page=\"$ctrl.getPaginatedEndpointsByGroup\"\\n              dataset=\"$ctrl.availableEndpoints\"\\n              entry-click=\"$ctrl.associateEndpoint\"\\n              pagination-state=\"$ctrl.state.available\"\\n              empty-dataset-message=\"No environment available\"\\n            ></group-association-table>\\n          </div>\\n        </div>\\n        \\x3c!-- !available-endpoints --\\x3e\\n        \\x3c!-- associated-endpoints --\\x3e\\n        <div class=\"col-sm-6\">\\n          <div class=\"text-center small text-muted\">Associated environments</div>\\n          <div style=\"margin-top: 10px;\">\\n            <group-association-table\\n              loaded=\"$ctrl.loaded\"\\n              page-type=\"$ctrl.pageType\"\\n              table-type=\"associated\"\\n              retrieve-page=\"$ctrl.getPaginatedEndpointsByGroup\"\\n              dataset=\"$ctrl.associatedEndpoints\"\\n              entry-click=\"$ctrl.dissociateEndpoint\"\\n              pagination-state=\"$ctrl.state.associated\"\\n              empty-dataset-message=\"No associated environment\"\\n              has-backend-pagination=\"this.pageType !== \\'create\\'\"\\n            ></group-association-table>\\n          </div>\\n        </div>\\n        \\x3c!-- !associated-endpoints --\\x3e\\n      </div>\\n    </div>\\n  </div>\\n  <div ng-if=\"$ctrl.model.Id === 1\">\\n    <div class=\"col-sm-12 form-section-title\">\\n      Unassociated environments\\n    </div>\\n    <div style=\"margin-top: 10px;\">\\n      <group-association-table\\n        loaded=\"$ctrl.loaded\"\\n        page-type=\"$ctrl.pageType\"\\n        table-type=\"associated\"\\n        retrieve-page=\"$ctrl.getPaginatedEndpointsByGroup\"\\n        dataset=\"$ctrl.associatedEndpoints\"\\n        pagination-state=\"$ctrl.state.associated\"\\n        empty-dataset-message=\"No environment available\"\\n      ></group-association-table>\\n    </div>\\n  </div>\\n  \\x3c!-- !endpoints --\\x3e\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Actions\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"button\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-click=\"$ctrl.formAction()\"\\n        ng-disabled=\"$ctrl.actionInProgress || !endpointGroupForm.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(647);const r={templateUrl:n(1821),controller:s.default,bindings:{namespace:\"<\",stack:\"<\"}};i.a.module(\"portainer.app\").component(\"kubernetesAppGitForm\",r)},function(e,t){var n=\"app/portainer/components/forms/kubernetes-app-git-form/kubernetes-app-git-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form name=\"$ctrl.redeployGitForm\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Redeploy from git repository\\n  </div>\\n  <div class=\"form-group text-muted\">\\n    <div class=\"col-sm-12\">\\n      <p>\\n        Pull the latest manifest from git and redeploy the application.\\n      </p>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <p>\\n        <a class=\"small interactive\" ng-click=\"$ctrl.state.showConfig = !$ctrl.state.showConfig\">\\n          <i ng-class=\"[\\'fa space-right\\', { \\'fa-minus\\': $ctrl.state.showConfig, \\'fa-plus\\': !$ctrl.state.showConfig }]\" aria-hidden=\"true\"></i>\\n          {{ $ctrl.state.showConfig ? \\'Hide\\' : \\'Advanced\\' }} configuration\\n        </a>\\n      </p>\\n    </div>\\n  </div>\\n  <git-form-ref-field ng-if=\"$ctrl.state.showConfig\" value=\"$ctrl.formValues.RefName\" on-change=\"($ctrl.onChangeRef)\"></git-form-ref-field>\\n  <git-form-auth-fieldset\\n    ng-if=\"$ctrl.state.showConfig\"\\n    model=\"$ctrl.formValues\"\\n    is-edit=\"$ctrl.state.isEdit\"\\n    on-change=\"($ctrl.onChange)\"\\n    show-auth-explanation=\"true\"\\n  ></git-form-auth-fieldset>\\n\\n  <div class=\"col-sm-12 form-section-title\">\\n    Actions\\n  </div>\\n  \\x3c!-- #Git buttons --\\x3e\\n  <button\\n    class=\"btn btn-sm btn-primary\"\\n    ng-click=\"$ctrl.pullAndRedeployApplication()\"\\n    ng-disabled=\"$ctrl.isSubmitButtonDisabled() || !$ctrl.redeployGitForm.$valid\"\\n    style=\"margin-top: 7px; margin-left: 0;\"\\n    button-spinner=\"ctrl.state.redeployInProgress\"\\n    analytics-on\\n    analytics-category=\"kubernetes\"\\n    analytics-event=\"kubernetes-application-edit-git-pull\"\\n  >\\n    <span ng-show=\"!$ctrl.state.redeployInProgress\"> <i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i> Pull and update application </span>\\n    <span ng-show=\"$ctrl.state.redeployInProgress\">In progress...</span>\\n  </button>\\n  <button\\n    class=\"btn btn-sm btn-primary\"\\n    ng-click=\"$ctrl.saveGitSettings()\"\\n    ng-disabled=\"$ctrl.isSubmitButtonDisabled() || !$ctrl.redeployGitForm.$valid\"\\n    style=\"margin-top: 7px; margin-left: 0;\"\\n    button-spinner=\"$ctrl.state.saveGitSettingsInProgress\"\\n  >\\n    <span ng-show=\"!$ctrl.state.saveGitSettingsInProgress\"> Save settings </span>\\n    <span ng-show=\"$ctrl.state.saveGitSettingsInProgress\">In progress...</span>\\n  </button>\\n</form>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(648);const r={templateUrl:n(1823),controller:s.default,bindings:{stack:\"<\",namespace:\"<\"}};i.a.module(\"portainer.app\").component(\"kubernetesRedeployAppGitForm\",r)},function(e,t){var n=\"app/portainer/components/forms/kubernetes-redeploy-app-git-form/kubernetes-redeploy-app-git-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form name=\"$ctrl.redeployGitForm\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Redeploy from git repository\\n  </div>\\n  <div class=\"form-group text-muted\">\\n    <div class=\"col-sm-12\">\\n      <p>\\n        Pull the latest manifest from git and redeploy the application.\\n      </p>\\n    </div>\\n  </div>\\n  <git-form-auto-update-fieldset model=\"$ctrl.formValues.AutoUpdate\" on-change=\"($ctrl.onChangeAutoUpdate)\"></git-form-auto-update-fieldset>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <p>\\n        <a class=\"small interactive\" ng-click=\"$ctrl.state.showConfig = !$ctrl.state.showConfig\">\\n          <i ng-class=\"[\\'fa space-right\\', { \\'fa-minus\\': $ctrl.state.showConfig, \\'fa-plus\\': !$ctrl.state.showConfig }]\" aria-hidden=\"true\"></i>\\n          {{ $ctrl.state.showConfig ? \\'Hide\\' : \\'Advanced\\' }} configuration\\n        </a>\\n      </p>\\n    </div>\\n  </div>\\n  <git-form-ref-field ng-if=\"$ctrl.state.showConfig\" value=\"$ctrl.formValues.RefName\" on-change=\"($ctrl.onChangeRef)\"></git-form-ref-field>\\n  <git-form-auth-fieldset\\n    ng-if=\"$ctrl.state.showConfig\"\\n    model=\"$ctrl.formValues\"\\n    is-edit=\"$ctrl.state.isEdit\"\\n    on-change=\"($ctrl.onChange)\"\\n    show-auth-explanation=\"true\"\\n  ></git-form-auth-fieldset>\\n\\n  <div class=\"col-sm-12 form-section-title\">\\n    Actions\\n  </div>\\n  \\x3c!-- #Git buttons --\\x3e\\n  <button\\n    class=\"btn btn-sm btn-primary\"\\n    ng-click=\"$ctrl.pullAndRedeployApplication()\"\\n    ng-disabled=\"$ctrl.isSubmitButtonDisabled() || $ctrl.state.hasUnsavedChanges|| !$ctrl.redeployGitForm.$valid\"\\n    style=\"margin-top: 7px; margin-left: 0;\"\\n    button-spinner=\"$ctrl.state.redeployInProgress\"\\n    analytics-on\\n    analytics-category=\"kubernetes\"\\n    analytics-event=\"kubernetes-application-edit-git-pull\"\\n  >\\n    <span ng-show=\"!$ctrl.state.redeployInProgress\"> <i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i> Pull and update application </span>\\n    <span ng-show=\"$ctrl.state.redeployInProgress\">In progress...</span>\\n  </button>\\n  <button\\n    class=\"btn btn-sm btn-primary\"\\n    ng-click=\"$ctrl.saveGitSettings()\"\\n    ng-disabled=\"$ctrl.isSubmitButtonDisabled() || !$ctrl.state.hasUnsavedChanges|| !$ctrl.redeployGitForm.$valid\"\\n    style=\"margin-top: 7px; margin-left: 0;\"\\n    button-spinner=\"$ctrl.state.saveGitSettingsInProgress\"\\n    analytics-on\\n    analytics-category=\"kubernetes\"\\n    analytics-event=\"kubernetes-application-edit\"\\n    analytics-properties=\"$ctrl.buildAnalyticsProperties()\"\\n  >\\n    <span ng-show=\"!$ctrl.state.saveGitSettingsInProgress\"> Save settings </span>\\n    <span ng-show=\"$ctrl.state.saveGitSettingsInProgress\">In progress...</span>\\n  </button>\\n</form>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"porSwitchField\",(function(){return s}));var a=n(1),i=n.n(a);const s={templateUrl:n(1825),bindings:{tooltip:\"@\",ngModel:\"=\",label:\"@\",name:\"@\",labelClass:\"@\",ngDataCy:\"@\",disabled:\"<\",onChange:\"<\",feature:\"<\"}};i.a.module(\"portainer.app\").component(\"porSwitchField\",s)},function(e,t){var n=\"app/portainer/components/forms/por-switch-field/por-switch-field.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<label style=\"display: flex; align-items: center; margin: 0;\">\\n  <span for=\"toggle_{{::$ctrl.name}}\" class=\"control-label text-left space-right\" ng-class=\"$ctrl.labelClass\" style=\"padding: 0;\">\\n    {{::$ctrl.label}}\\n    <portainer-tooltip ng-if=\"$ctrl.tooltip\" position=\"bottom\" message=\"{{::$ctrl.tooltip}}\"></portainer-tooltip>\\n  </span>\\n  <por-switch\\n    class-name=\"space-right\"\\n    name=\"toggle_{{::$ctrl.name}}\"\\n    id=\"toggle_{{::$ctrl.name}}\"\\n    ng-model=\"$ctrl.ngModel\"\\n    disabled=\"$ctrl.disabled\"\\n    on-change=\"($ctrl.onChange)\"\\n    feature=\"$ctrl.feature\"\\n    ng-data-cy=\"{{::$ctrl.ngDataCy}}\"\\n  ></por-switch>\\n</label>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/forms/por-switch/por-switch.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<label class=\"switch\" ng-class=\"[$ctrl.className, { business: $ctrl.limitedToBE, limited: $ctrl.limitedToBE }]\" style=\"margin-bottom: 0;\">\\n  <input\\n    type=\"checkbox\"\\n    name=\"{{::$ctrl.name}}\"\\n    id=\"{{::$ctrl.id}}\"\\n    ng-model=\"$ctrl.ngModel\"\\n    ng-disabled=\"$ctrl.disabled || $ctrl.limitedToBE\"\\n    ng-change=\"$ctrl.onChange($ctrl.ngModel)\"\\n  />\\n  <i data-cy=\"{{::$ctrl.ngDataCy}}\"></i>\\n</label>\\n<be-feature-indicator ng-if=\"$ctrl.limitedToBE\" feature=\"$ctrl.feature\"></be-feature-indicator>\\n')}]),e.exports=n},function(e,t,n){const a=n(1828);angular.module(\"portainer.app\").component(\"registryFormEcr\",{templateUrl:a,bindings:{model:\"=\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\"}})},function(e,t){var n=\"app/portainer/components/forms/registry-form-aws-ecr/registry-form-ecr.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" name=\"registryFormEcr\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Important notice\\n  </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\">\\n      For information on how to generate an Access Key, follow the\\n      <a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html#id_users_create_console\" target=\"_blank\">AWS guide</a>.\\n    </span>\\n  </div>\\n\\n  <div class=\"col-sm-12 form-section-title\">\\n    ECR connection details\\n  </div>\\n\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_name\" name=\"registry_name\" ng-model=\"$ctrl.model.Name\" placeholder=\"my-ecr-registry\" required auto-focus />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormEcr.registry_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormEcr.registry_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n\\n  \\x3c!-- url-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Registry URL\\n      <portainer-tooltip position=\"bottom\" message=\"URL of an Amazon Elastic Container Registry, which contains an account id and region.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        id=\"registry_url\"\\n        name=\"registry_url\"\\n        ng-model=\"$ctrl.model.URL\"\\n        placeholder=\"aws-account-id.dkr.ecr.us-east-1.amazonaws.com/\"\\n        required\\n      />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormEcr.registry_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormEcr.registry_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- url-input --\\x3e\\n\\n  \\x3c!-- authentication-checkbox --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <label class=\"control-label text-left\">\\n        Authentication\\n        <portainer-tooltip position=\"bottom\" message=\"Enable this option if you need to specify credentials to connect to a private registry.\"></portainer-tooltip>\\n      </label>\\n      <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"$ctrl.model.Authentication\" /><i></i> </label>\\n    </div>\\n  </div>\\n  \\x3c!-- !authentication-checkbox --\\x3e\\n\\n  <div ng-if=\"$ctrl.model.Authentication\">\\n    \\x3c!-- aws-access-key --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_access_key\" class=\"col-sm-3 col-lg-2 control-label text-left\">AWS Access Key</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"text\" class=\"form-control\" id=\"registry_access_key\" name=\"registry_access_key\" ng-model=\"$ctrl.model.Username\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"registryFormEcr.registry_access_key.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"registryFormEcr.registry_access_key.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !aws-access-key --\\x3e\\n\\n    \\x3c!-- aws-secret-access-key --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_secret_access_key\" class=\"col-sm-3 col-lg-2 control-label text-left\">AWS Secret Access Key</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"password\" class=\"form-control\" id=\"registry_secret_access_key\" name=\"registry_secret_access_key\" ng-model=\"$ctrl.model.Password\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"registryFormEcr.registry_secret_access_key.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"registryFormEcr.registry_secret_access_key.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !aws-secret-access-key --\\x3e\\n\\n    \\x3c!-- region --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_region\" class=\"col-sm-3 col-lg-2 control-label text-left\">Region</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"text\" class=\"form-control\" id=\"registry_region\" name=\"registry_region\" placeholder=\"us-west-1\" ng-model=\"$ctrl.model.Ecr.Region\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"registryFormEcr.registry_region.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"registryFormEcr.registry_region.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !region --\\x3e\\n  </div>\\n\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Actions\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !registryFormEcr.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'ecr\\' } }\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=n},function(e,t,n){const a=n(1830);angular.module(\"portainer.app\").component(\"registryFormAzure\",{templateUrl:a,bindings:{model:\"=\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\"}})},function(e,t){var n=\"app/portainer/components/forms/registry-form-azure/registry-form-azure.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" name=\"registryFormAzure\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Azure registry details\\n  </div>\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_name\" name=\"registry_name\" ng-model=\"$ctrl.model.Name\" placeholder=\"my-azure-registry\" required auto-focus />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormAzure.registry_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormAzure.registry_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n  \\x3c!-- url-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Registry URL\\n      <portainer-tooltip position=\"bottom\" message=\"URL of an Azure Container Registry. Any protocol will be stripped.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_url\" name=\"registry_url\" ng-model=\"$ctrl.model.URL\" placeholder=\"myproject.azurecr.io\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormAzure.registry_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormAzure.registry_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- url-input --\\x3e\\n  \\x3c!-- credentials-user --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">Username</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_username\" name=\"registry_username\" ng-model=\"$ctrl.model.Username\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormAzure.registry_username.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormAzure.registry_username.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-user --\\x3e\\n  \\x3c!-- credentials-password --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">Password</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"password\" class=\"form-control\" id=\"registry_password\" name=\"registry_password\" ng-model=\"$ctrl.model.Password\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormAzure.registry_password.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormAzure.registry_password.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-password --\\x3e\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Actions\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !registryFormAzure.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'azure\\' } }\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=n},function(e,t,n){const a=n(1832);angular.module(\"portainer.app\").component(\"registryFormCustom\",{templateUrl:a,bindings:{model:\"=\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\"}})},function(e,t){var n=\"app/portainer/components/forms/registry-form-custom/registry-form-custom.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" name=\"registryFormCustom\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Important notice\\n  </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\">\\n      Docker requires you to connect to a <a href=\"https://docs.docker.com/registry/deploying/#running-a-domain-registry\" target=\"_blank\">secure registry</a>. You can find more\\n      information about how to connect to an insecure registry <a href=\"https://docs.docker.com/registry/insecure/\" target=\"_blank\">in the Docker documentation</a>.\\n    </span>\\n  </div>\\n  <div class=\"col-sm-12 form-section-title\">\\n    Custom registry details\\n  </div>\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_name\" name=\"registry_name\" ng-model=\"$ctrl.model.Name\" placeholder=\"my-custom-registry\" required auto-focus />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormCustom.registry_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormCustom.registry_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n  \\x3c!-- url-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Registry URL\\n      <portainer-tooltip position=\"bottom\" message=\"URL or IP address of a Docker registry. Any protocol and trailing slash will be stripped if present.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_url\" name=\"registry_url\" ng-model=\"$ctrl.model.URL\" placeholder=\"10.0.0.10:5000 or myregistry.domain.tld\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormCustom.registry_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormCustom.registry_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- url-input --\\x3e\\n  \\x3c!-- authentication-checkbox --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <label for=\"registry_auth\" class=\"control-label text-left\">\\n        Authentication\\n        <portainer-tooltip position=\"bottom\" message=\"Enable this option if you need to specify credentials to connect to this registry.\"></portainer-tooltip>\\n      </label>\\n      <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"$ctrl.model.Authentication\" /><i></i> </label>\\n    </div>\\n  </div>\\n  \\x3c!-- !authentication-checkbox --\\x3e\\n  <div ng-if=\"$ctrl.model.Authentication\">\\n    \\x3c!-- credentials-user --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">Username</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"text\" class=\"form-control\" id=\"registry_username\" name=\"registry_username\" ng-model=\"$ctrl.model.Username\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"registryFormCustom.registry_username.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"registryFormCustom.registry_username.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !credentials-user --\\x3e\\n    \\x3c!-- credentials-password --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">Password</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"password\" class=\"form-control\" id=\"registry_password\" name=\"registry_password\" ng-model=\"$ctrl.model.Password\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"registryFormCustom.registry_password.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"registryFormCustom.registry_password.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !credentials-password --\\x3e\\n  </div>\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Actions\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !registryFormCustom.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'custom\\' }}\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=n},function(e,t,n){const a=n(1834);angular.module(\"portainer.app\").component(\"registryFormDockerhub\",{templateUrl:a,bindings:{model:\"=\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\"}})},function(e,t){var n=\"app/portainer/components/forms/registry-form-dockerhub/registry-form-dockerhub.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" name=\"registryFormDockerhub\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    DockerHub account details\\n  </div>\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_name\" name=\"registry_name\" ng-model=\"$ctrl.model.Name\" placeholder=\"dockerhub-prod-us\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormDockerhub.registry_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormDockerhub.registry_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n  \\x3c!-- credentials-user --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">DockerHub username</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_username\" name=\"registry_username\" ng-model=\"$ctrl.model.Username\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormDockerhub.registry_username.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormDockerhub.registry_username.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-user --\\x3e\\n  \\x3c!-- credentials-password --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">DockerHub password</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"password\" class=\"form-control\" id=\"registry_password\" name=\"registry_password\" ng-model=\"$ctrl.model.Password\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormDockerhub.registry_password.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormDockerhub.registry_password.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-password --\\x3e\\n\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Actions\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !registryFormDockerhub.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'dockerhub\\' } }\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=n},function(e,t,n){const a=n(1836);angular.module(\"portainer.app\").component(\"gitlabProjectsDatatable\",{templateUrl:a,controller:\"GitlabProjectsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",state:\"=\"}})},function(e,t){var n=\"app/portainer/components/forms/registry-form-gitlab/gitlab-projects-datatable/gitlabProjectsDatatable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input type=\"text\" class=\"searchInput\" ng-model=\"$ctrl.state.textFilter\" ng-change=\"$ctrl.onTextFilterChange()\" placeholder=\"Search...\" auto-focus />\\n      </div>\\n      <div class=\"table-responsive\">\\n        <table class=\"table table-hover nowrap-cells\">\\n          <thead>\\n            <tr>\\n              <th>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_all\" type=\"checkbox\" ng-model=\"$ctrl.state.selectAll\" ng-change=\"$ctrl.selectAll()\" />\\n                  <label for=\"select_all\"></label>\\n                </span>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Namespace\\')\">\\n                  Namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Namespace\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'Name\\')\">\\n                  Name\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'Name\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>\\n                <a ng-click=\"$ctrl.changeOrderBy(\\'PathWithNamespace\\')\">\\n                  Path with namespace\\n                  <i class=\"fa fa-sort-alpha-down\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PathWithNamespace\\' && !$ctrl.state.reverseOrder\"></i>\\n                  <i class=\"fa fa-sort-alpha-up\" aria-hidden=\"true\" ng-if=\"$ctrl.state.orderBy === \\'PathWithNamespace\\' && $ctrl.state.reverseOrder\"></i>\\n                </a>\\n              </th>\\n              <th>Description</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              dir-paginate=\"item in ($ctrl.state.filteredDataSet = ($ctrl.dataset | filter:$ctrl.state.textFilter | orderBy:$ctrl.state.orderBy:$ctrl.state.reverseOrder | itemsPerPage: $ctrl.state.paginatedItemLimit))\"\\n              ng-class=\"{ active: item.Checked }\"\\n            >\\n              <td>\\n                <span class=\"md-checkbox\">\\n                  <input id=\"select_{{ $index }}\" type=\"checkbox\" ng-model=\"item.Checked\" ng-click=\"$ctrl.selectItem(item, $event)\" ng-disabled=\"$ctrl.disableSelection(item)\" />\\n                  <label for=\"select_{{ $index }}\"></label>\\n                </span>\\n                {{ item.Namespace }}\\n              </td>\\n              <td>\\n                {{ item.Name }}\\n              </td>\\n              <td>\\n                {{ item.PathWithNamespace }}\\n              </td>\\n              <td>\\n                {{ item.Description }}\\n              </td>\\n            </tr>\\n            <tr ng-if=\"$ctrl.state.filteredDataSet.length === 0\">\\n              <td colspan=\"3\" class=\"text-center text-muted\">No projects available.</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </div>\\n      <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n        <div class=\"infoBar\" ng-if=\"$ctrl.state.selectedItemCount !== 0\"> {{ $ctrl.state.selectedItemCount }} item(s) selected </div>\\n        <div class=\"paginationControls\">\\n          <form class=\"form-inline\">\\n            <span class=\"limitSelector\">\\n              <span style=\"margin-right: 5px;\">\\n                Items per page\\n              </span>\\n              <select class=\"form-control\" ng-model=\"$ctrl.state.paginatedItemLimit\" ng-change=\"$ctrl.changePaginationLimit()\" data-cy=\"component-paginationSelect\">\\n                <option value=\"0\">All</option>\\n                <option value=\"10\">10</option>\\n                <option value=\"25\">25</option>\\n                <option value=\"50\">50</option>\\n                <option value=\"100\">100</option>\\n              </select>\\n            </span>\\n            <dir-pagination-controls max-size=\"5\"></dir-pagination-controls>\\n          </form>\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.app\").controller(\"GitlabProjectsDatatableController\",[\"$scope\",\"$controller\",\"DatatableService\",function(e,t,n){angular.extend(this,t(\"GenericDatatableController\",{$scope:e})),this.disableSelection=function(e){return!this.allowSelection(e)},this.allowSelection=function(e){return e.RegistryEnabled},this.$onInit=function(){this.setDefaults(),this.prepareTableFromDataset(),this.state.orderBy=this.orderBy;var e=n.getDataTableOrder(this.tableKey);null!==e&&(this.state.reverseOrder=e.reverse,this.state.orderBy=e.orderBy);var t=n.getDataTableTextFilters(this.tableKey);null!==t&&(this.state.textFilter=t,this.onTextFilterChange());var a=n.getDataTableFilters(this.tableKey);null!==a&&(this.filters=a),this.filters&&this.filters.state&&(this.filters.state.open=!1);var i=n.getDataTableSettings(this.tableKey);null!==i&&(this.settings=i,this.settings.open=!1),this.onSettingsRepeaterChange()}}])},function(e,t,n){const a=n(1839);angular.module(\"portainer.app\").component(\"registryFormGitlab\",{templateUrl:a,bindings:{model:\"=\",retrieveRegistries:\"<\",createRegistries:\"<\",actionInProgress:\"<\",projects:\"=\",state:\"=\",resetDefaults:\"<\"}})},function(e,t){var n=\"app/portainer/components/forms/registry-form-gitlab/registry-form-gitlab.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" name=\"registryFormGitlab\" ng-submit=\"$ctrl.retrieveRegistries()\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Important notice\\n  </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\">\\n      <p>\\n        For information on how to generate a Gitlab Personal Access Token, follow the\\n        <a href=\"https://gitlab.com/help/user/profile/personal_access_tokens.md\" target=\"_blank\">gitlab guide</a>.\\n      </p>\\n    </span>\\n  </div>\\n  <div class=\"col-sm-12 form-section-title\">\\n    Gitlab registry connection details\\n  </div>\\n  \\x3c!-- credentials-user --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">Username</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_username\" name=\"registry_username\" ng-model=\"$ctrl.model.Username\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormGitlab.registry_username.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormGitlab.registry_username.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-user --\\x3e\\n  \\x3c!-- credentials-pat --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_perso_acc_token\" class=\"col-sm-3 col-lg-2 control-label text-left\">Personal Access Token </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"password\" class=\"form-control\" id=\"registry_perso_acc_token\" name=\"registry_perso_acc_token\" ng-model=\"$ctrl.model.Token\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormGitlab.registry_perso_acc_token.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormGitlab.registry_perso_acc_token.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-pat --\\x3e\\n\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <a class=\"small interactive\" ng-if=\"!$ctrl.state.overrideConfiguration\" ng-click=\"$ctrl.state.overrideConfiguration = true;\">\\n        <i class=\"fa fa-wrench space-right\" aria-hidden=\"true\"></i> Override default configuration\\n      </a>\\n      <a class=\"small interactive\" ng-if=\"$ctrl.state.overrideConfiguration\" ng-click=\"$ctrl.state.overrideConfiguration = false; $ctrl.resetDefaults()\">\\n        <i class=\"fa fa-cogs space-right\" aria-hidden=\"true\"></i> Use default configuration\\n      </a>\\n    </div>\\n  </div>\\n\\n  \\x3c!-- url-input --\\x3e\\n  <div class=\"form-group\" ng-if=\"$ctrl.state.overrideConfiguration\">\\n    <label for=\"instance_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Instance URL\\n      <portainer-tooltip position=\"bottom\" message=\"URL of Gitlab instance.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"instance_url\" name=\"instance_url\" ng-model=\"$ctrl.model.Gitlab.InstanceURL\" placeholder=\"https://gitlab.com\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormGitlab.instance_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormGitlab.instance_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !url-input --\\x3e\\n  \\x3c!-- url-input --\\x3e\\n  <div class=\"form-group\" ng-if=\"$ctrl.state.overrideConfiguration\">\\n    <label for=\"registry_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Registry URL\\n      <portainer-tooltip position=\"bottom\" message=\"URL of Gitlab registry instance.\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_url\" name=\"registry_url\" ng-model=\"$ctrl.model.URL\" placeholder=\"https://registry.gitlab.com\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormGitlab.registry_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormGitlab.registry_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !url-input --\\x3e\\n\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button type=\"submit\" class=\"btn btn-primary btn-sm\" ng-disabled=\"$ctrl.actionInProgress || !registryFormGitlab.$valid\" button-spinner=\"$ctrl.actionInProgress\">\\n        <span ng-hide=\"$ctrl.actionInProgress\">Retrieve projects</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n</form>\\n<div class=\"form-horizontal\" ng-if=\"$ctrl.projects\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Gitlab projects\\n  </div>\\n  <div class=\"form-group\">\\n    <span class=\"col-sm-12 text-muted small\">\\n      Select the project\\'s registries you want to manage. Portainer will create one registry for each selected project.\\n    </span>\\n    <span class=\"col-sm-12 text-muted small\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      If you can\\'t select a project, make sure that registry feature is activated on it.\\n    </span>\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <gitlab-projects-datatable\\n        title-text=\"Gitlab projects\"\\n        title-icon=\"fa-project-diagram\"\\n        dataset=\"$ctrl.projects\"\\n        table-key=\"gitlab_projects\"\\n        state=\"$ctrl.state.gitlab\"\\n        order-by=\"Name\"\\n      ></gitlab-projects-datatable>\\n    </div>\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        ng-click=\"$ctrl.createRegistries()\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !$ctrl.state.gitlab.selectedItemCount\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'gitlab\\' } }\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">Create registries</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(1841);angular.module(\"portainer.app\").component(\"registryFormProget\",{templateUrl:a,bindings:{model:\"=\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\"}})},function(e,t){var n=\"app/portainer/components/forms/registry-form-proget/registry-form-proget.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" name=\"registryFormProGet\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Important notice\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12 text-muted small\">\\n      Any Portainer user that has access to this registry will be able to use the Registry Manager features against the content of any Feed in the ProGet registry that the ProGet\\n      user has access to.\\n    </div>\\n  </div>\\n  <div class=\"col-sm-12 form-section-title\">\\n    ProGet registry details\\n  </div>\\n  \\x3c!-- name-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_name\" name=\"registry_name\" ng-model=\"$ctrl.model.Name\" placeholder=\"proget-registry\" required auto-focus />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormProGet.registry_name.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormProGet.registry_name.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !name-input --\\x3e\\n  \\x3c!-- url-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Registry URL\\n      <portainer-tooltip position=\"bottom\" message=\"The URL of the ProGet registry including the Feed name\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_url\" name=\"registry_url\" ng-model=\"$ctrl.model.URL\" placeholder=\"proget.example.com/example-registry\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormProGet.registry_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormProGet.registry_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- url-input --\\x3e\\n  \\x3c!-- base-url-input --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_base_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Base URL\\n      <portainer-tooltip position=\"bottom\" message=\"The base URL of the ProGet registry\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_base_url\" name=\"registry_base_url\" ng-model=\"$ctrl.model.BaseURL\" placeholder=\"proget.example.com\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormProGet.registry_base_url.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormProGet.registry_base_url.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !base-url-input --\\x3e\\n  <div>\\n    \\x3c!-- credentials-user --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">Username</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"text\" class=\"form-control\" id=\"registry_username\" name=\"registry_username\" ng-model=\"$ctrl.model.Username\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"registryFormProGet.registry_username.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"registryFormProGet.registry_username.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !credentials-user --\\x3e\\n    \\x3c!-- credentials-password --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"registry_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">Password</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"password\" class=\"form-control\" id=\"registry_password\" name=\"registry_password\" ng-model=\"$ctrl.model.Password\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"registryFormProGet.registry_password.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"registryFormProGet.registry_password.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !credentials-password --\\x3e\\n  </div>\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Actions\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !registryFormProGet.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'proget\\' } }\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=n},function(e,t,n){const a=n(1843);angular.module(\"portainer.app\").component(\"registryFormQuay\",{templateUrl:a,bindings:{model:\"=\",formAction:\"<\",formActionLabel:\"@\",actionInProgress:\"<\"}})},function(e,t){var n=\"app/portainer/components/forms/registry-form-quay/registry-form-quay.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" name=\"registryFormQuay\" ng-submit=\"$ctrl.formAction()\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Quay account details\\n  </div>\\n  \\x3c!-- credentials-user --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_username\" class=\"col-sm-3 col-lg-2 control-label text-left\">Username</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" id=\"registry_username\" name=\"registry_username\" ng-model=\"$ctrl.model.Username\" required auto-focus />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormQuay.registry_username.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormQuay.registry_username.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-user --\\x3e\\n  \\x3c!-- credentials-password --\\x3e\\n  <div class=\"form-group\">\\n    <label for=\"registry_password\" class=\"col-sm-3 col-lg-2 control-label text-left\">Password</label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"password\" class=\"form-control\" id=\"registry_password\" name=\"registry_password\" ng-model=\"$ctrl.model.Password\" required />\\n    </div>\\n  </div>\\n  <div class=\"form-group\" ng-show=\"registryFormQuay.registry_password.$invalid\">\\n    <div class=\"col-sm-12 small text-warning\">\\n      <div ng-messages=\"registryFormQuay.registry_password.$error\">\\n        <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n      </div>\\n    </div>\\n  </div>\\n  \\x3c!-- !credentials-password --\\x3e\\n\\n  \\x3c!-- organisation-checkbox --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <label class=\"control-label text-left\">\\n        Use organisation registry\\n      </label>\\n      <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"$ctrl.model.Quay.useOrganisation\" /><i></i> </label>\\n    </div>\\n  </div>\\n  \\x3c!-- !organisation-checkbox --\\x3e\\n  <div ng-if=\"$ctrl.model.Quay.useOrganisation\">\\n    \\x3c!-- organisation_name --\\x3e\\n    <div class=\"form-group\">\\n      <label for=\"organisation_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Organisation name</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input type=\"text\" class=\"form-control\" id=\"organisation_name\" name=\"organisation_name\" ng-model=\"$ctrl.model.Quay.organisationName\" required />\\n      </div>\\n    </div>\\n    <div class=\"form-group\" ng-show=\"registryFormQuay.organisation_name.$invalid\">\\n      <div class=\"col-sm-12 small text-warning\">\\n        <div ng-messages=\"registryFormQuay.organisation_name.$error\">\\n          <p ng-message=\"required\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> This field is required.</p>\\n        </div>\\n      </div>\\n    </div>\\n    \\x3c!-- !organisation_name --\\x3e\\n  </div>\\n\\n  \\x3c!-- actions --\\x3e\\n  <div class=\"col-sm-12 form-section-title\">\\n    Actions\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm\"\\n        ng-disabled=\"$ctrl.actionInProgress || !registryFormQuay.$valid\"\\n        button-spinner=\"$ctrl.actionInProgress\"\\n        analytics-on\\n        analytics-category=\"portainer\"\\n        analytics-event=\"portainer-registry-creation\"\\n        analytics-properties=\"{ metadata: { type: \\'quay\\' } }\"\\n      >\\n        <span ng-hide=\"$ctrl.actionInProgress\">{{ $ctrl.formActionLabel }}</span>\\n        <span ng-show=\"$ctrl.actionInProgress\">In progress...</span>\\n      </button>\\n    </div>\\n  </div>\\n  \\x3c!-- !actions --\\x3e\\n</form>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(1845);i.a.module(\"portainer.app\").component(\"stackFromTemplateForm\",{templateUrl:s,bindings:{template:\"=\",formValues:\"=\",state:\"=\",createTemplate:\"<\",unselectTemplate:\"<\",nameRegex:\"<\"},transclude:{advanced:\"?advancedForm\"}})},function(e,t){var n=\"app/portainer/components/forms/stack-from-template-form/stackFromTemplateForm.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12\">\\n  <rd-widget>\\n    <rd-widget-custom-header icon=\"$ctrl.template.Logo\" title-text=\"$ctrl.template.Title\"></rd-widget-custom-header>\\n    <rd-widget-body classes=\"padding\">\\n      <form class=\"form-horizontal\" name=\"stackTemplateForm\">\\n        \\x3c!-- description --\\x3e\\n        <div ng-if=\"$ctrl.template.Note\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Information\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <div class=\"template-note\" ng-bind-html=\"$ctrl.template.Note\"></div>\\n            </div>\\n          </div>\\n        </div>\\n        \\x3c!-- !description --\\x3e\\n        <div class=\"col-sm-12 form-section-title\">\\n          Configuration\\n        </div>\\n        \\x3c!-- name-input --\\x3e\\n        <div class=\"form-group\">\\n          <label for=\"template_name\" class=\"col-sm-2 control-label text-left\">Name</label>\\n          <div class=\"col-sm-10\">\\n            <input type=\"text\" name=\"template_name\" class=\"form-control\" ng-model=\"$ctrl.formValues.name\" ng-pattern=\"$ctrl.nameRegex\" placeholder=\"e.g. myStack\" required />\\n          </div>\\n        </div>\\n        <div class=\"form-group\" ng-show=\"stackTemplateForm.template_name.$invalid\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div ng-messages=\"stackTemplateForm.template_name.$error\">\\n              <p ng-message=\"pattern\">\\n                <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                <span>This field must consist of lower case alphanumeric characters, \\'_\\' or \\'-\\' (e.g. \\'my-name\\', or \\'abc-123\\').</span>\\n              </p>\\n            </div>\\n          </div>\\n        </div>\\n        \\x3c!-- !name-input --\\x3e\\n        \\x3c!-- env --\\x3e\\n        <div ng-repeat=\"var in $ctrl.template.Env\" ng-if=\"!var.preset || var.select\" class=\"form-group\">\\n          <label for=\"field_{{ $index }}\" class=\"col-sm-2 control-label text-left\">\\n            {{ var.label }}\\n            <portainer-tooltip ng-if=\"var.description\" position=\"bottom\" message=\"{{ var.description }}\"></portainer-tooltip>\\n          </label>\\n          <div class=\"col-sm-10\">\\n            <input type=\"text\" class=\"form-control\" ng-if=\"!var.select\" ng-model=\"var.value\" id=\"field_{{ $index }}\" />\\n            <select class=\"form-control\" ng-if=\"var.select\" ng-model=\"var.value\" id=\"field_{{ $index }}\">\\n              <option selected disabled hidden value=\"\">Select value</option>\\n              <option ng-repeat=\"choice in var.select\" value=\"{{ choice.value }}\">{{ choice.text }}</option>\\n            </select>\\n          </div>\\n        </div>\\n        \\x3c!-- !env --\\x3e\\n        <ng-transclude ng-transclude-slot=\"advanced\"></ng-transclude>\\n\\n        \\x3c!-- access-control --\\x3e\\n        <por-access-control-form form-data=\"$ctrl.formValues.AccessControlData\"></por-access-control-form>\\n        \\x3c!-- !access-control --\\x3e\\n        \\x3c!-- actions --\\x3e\\n        <div class=\"col-sm-12 form-section-title\">\\n          Actions\\n        </div>\\n        <div class=\"form-group\">\\n          <div class=\"col-sm-12\">\\n            <button\\n              type=\"button\"\\n              class=\"btn btn-primary btn-sm\"\\n              ng-disabled=\"$ctrl.state.actionInProgress || !$ctrl.formValues.name || !$ctrl.state.deployable\"\\n              ng-click=\"$ctrl.createTemplate()\"\\n              button-spinner=\"$ctrl.state.actionInProgress\"\\n            >\\n              <span ng-hide=\"$ctrl.state.actionInProgress\">Deploy the stack</span>\\n              <span ng-show=\"$ctrl.state.actionInProgress\">Deployment in progress...</span>\\n            </button>\\n            <button type=\"button\" class=\"btn btn-sm btn-default\" ng-click=\"$ctrl.unselectTemplate($ctrl.template)\">Hide</button>\\n            <div class=\"cols-sm-12 small text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px; margin-top: 5px;\">{{ $ctrl.state.formValidationError }}</div>\\n            <div class=\"cols-sm-12 small text-danger\" ng-if=\"!$ctrl.state.deployable\" style=\"margin-left: 5px; margin-top: 5px;\"\\n              >This template type cannot be deployed on this environment.</div\\n            >\\n          </div>\\n        </div>\\n        \\x3c!-- !actions --\\x3e\\n      </form>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"stackRedeployGitForm\",(function(){return r}));var a=n(1),i=n.n(a),s=n(650);const r={templateUrl:n(1847),controller:s.default,bindings:{model:\"<\",stack:\"<\"}};i.a.module(\"portainer.app\").component(\"stackRedeployGitForm\",r)},function(e,t){var n=\"app/portainer/components/forms/stack-redeploy-git-form/stack-redeploy-git-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form name=\"$ctrl.redeployGitForm\" class=\"form-horizontal my-8\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Redeploy from git repository\\n  </div>\\n  <git-form-info-panel\\n    class-name=\"text-muted small\"\\n    url=\"$ctrl.model.URL\"\\n    type=\"stack\"\\n    config-file-path=\"$ctrl.model.ConfigFilePath\"\\n    additional-files=\"$ctrl.stack.AdditionalFiles\"\\n  ></git-form-info-panel>\\n\\n  <git-form-auto-update-fieldset model=\"$ctrl.formValues.AutoUpdate\" on-change=\"($ctrl.onChangeAutoUpdate)\"></git-form-auto-update-fieldset>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <p>\\n        <a class=\"small interactive\" ng-click=\"$ctrl.state.showConfig = !$ctrl.state.showConfig\">\\n          <i ng-class=\"{ \\'fa fa-minus space-right\\': $ctrl.state.showConfig, \\'fa fa-plus space-right\\': !$ctrl.state.showConfig }\" aria-hidden=\"true\"></i>\\n          {{ $ctrl.state.showConfig ? \\'Hide\\' : \\'Advanced\\' }} configuration\\n        </a>\\n      </p>\\n    </div>\\n  </div>\\n  <git-form-ref-field ng-if=\"$ctrl.state.showConfig\" value=\"$ctrl.formValues.RefName\" on-change=\"($ctrl.onChangeRef)\"></git-form-ref-field>\\n  <git-form-auth-fieldset\\n    ng-if=\"$ctrl.state.showConfig\"\\n    is-edit=\"$ctrl.state.isEdit\"\\n    model=\"$ctrl.formValues\"\\n    on-change=\"($ctrl.onChange)\"\\n    show-auth-explanation=\"true\"\\n  ></git-form-auth-fieldset>\\n  <environment-variables-panel\\n    ng-model=\"$ctrl.formValues.Env\"\\n    explanation=\"These values will be used as substitutions in the stack file\"\\n    on-change=\"($ctrl.onChangeEnvVar)\"\\n  ></environment-variables-panel>\\n\\n  <button\\n    class=\"btn btn-sm btn-primary\"\\n    ng-click=\"$ctrl.submit()\"\\n    ng-disabled=\"$ctrl.isSubmitButtonDisabled() || $ctrl.state.hasUnsavedChanges || !$ctrl.redeployGitForm.$valid\"\\n    style=\"margin-top: 7px; margin-left: 0;\"\\n    button-spinner=\"$ctrl.state.redeployInProgress\"\\n    analytics-on\\n    analytics-event=\"docker-stack-pull-redeploy\"\\n    analytics-category=\"docker\"\\n  >\\n    <span ng-hide=\"$ctrl.state.redeployInProgress\"> <i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i> Pull and redeploy </span>\\n    <span ng-show=\"$ctrl.state.redeployInProgress\">In progress...</span>\\n  </button>\\n\\n  <button\\n    class=\"btn btn-sm btn-primary\"\\n    ng-click=\"$ctrl.saveGitSettings()\"\\n    ng-disabled=\"$ctrl.isSubmitButtonDisabled() || !$ctrl.state.hasUnsavedChanges || !$ctrl.redeployGitForm.$valid\"\\n    style=\"margin-top: 7px; margin-left: 0;\"\\n    button-spinner=\"$ctrl.state.inProgress\"\\n    analytics-on\\n    analytics-event=\"docker-stack-update-git-settings\"\\n    analytics-category=\"docker\"\\n    analytics-properties=\"$ctrl.buildAnalyticsProperties()\"\\n  >\\n    <span ng-hide=\"$ctrl.state.inProgress\"> Save settings </span>\\n    <span ng-show=\"$ctrl.state.inProgress\">In progress...</span>\\n  </button>\\n</form>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(5),i=n(295);const s=n(1849);angular.module(\"portainer.app\").component(\"groupAssociationTable\",{templateUrl:s,controller:function(){this.state={orderBy:\"Name\",reverseOrder:!1,paginatedItemLimit:\"10\",textFilter:\"\",loading:!0,pageNumber:1},this.changeOrderBy=function(e){this.state.reverseOrder=this.state.orderBy===e&&!this.state.reverseOrder,this.state.orderBy=e},this.onTextFilterChange=function(){this.paginationChangedAction()},this.onPageChanged=function(e){this.paginationState.pageNumber=e,this.paginationChangedAction()},this.onPaginationLimitChanged=function(){this.paginationChangedAction()},this.paginationChangedAction=function(){this.retrievePage(this.pageType,this.tableType)},this.$onChanges=function(e){e.loaded&&e.loaded.currentValue&&this.paginationChangedAction()},this.tagIdsToTagNames=function(e){return i.default.idsToTagNames(this.tags,e).join(\", \")||\"-\"},this.groupIdToGroupName=function(e){const t=Object(a.a)(this.groups,{Id:e});return t?t.Name:\"\"}},bindings:{paginationState:\"=\",loaded:\"<\",pageType:\"<\",tableType:\"@\",retrievePage:\"<\",dataset:\"<\",entryClick:\"<\",emptyDatasetMessage:\"@\",tags:\"<\",showTags:\"<\",groups:\"<\",showGroups:\"<\",hasBackendPagination:\"<\"}})},function(e,t){var n=\"app/portainer/components/group-association-table/groupAssociationTable.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <table class=\"table table-hover\">\\n    <div class=\"col-sm-12\">\\n      <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n      <input\\n        type=\"text\"\\n        class=\"searchInput\"\\n        ng-model=\"$ctrl.paginationState.filter\"\\n        ng-change=\"$ctrl.onTextFilterChange()\"\\n        ng-model-options=\"{ debounce: 300 }\"\\n        placeholder=\"Search...\"\\n      />\\n    </div>\\n    <thead>\\n      <tr>\\n        <th>\\n          Name\\n        </th>\\n        <th ng-if=\"$ctrl.showGroups\">\\n          Group\\n        </th>\\n        <th ng-if=\"$ctrl.showTags\">\\n          Tags\\n        </th>\\n      </tr>\\n    </thead>\\n    <tbody>\\n      <tr\\n        ng-if=\"!$ctrl.hasBackendPagination\"\\n        ng-click=\"$ctrl.entryClick(item)\"\\n        class=\"interactive\"\\n        dir-paginate=\"item in $ctrl.dataset | filter:$ctrl.paginationState.filter | itemsPerPage: $ctrl.paginationState.limit\"\\n        pagination-id=\"$ctrl.tableType\"\\n      >\\n        <td>\\n          {{ item.Name | truncate: 64 }}\\n        </td>\\n        <td ng-if=\"$ctrl.showGroups\">\\n          {{ $ctrl.groupIdToGroupName(item.GroupId) | truncate: 64 }}\\n        </td>\\n        <td ng-if=\"$ctrl.showTags\">\\n          {{ $ctrl.tagIdsToTagNames(item.TagIds) | arraytostr | truncate: 64 }}\\n        </td>\\n      </tr>\\n      <tr\\n        ng-if=\"$ctrl.hasBackendPagination\"\\n        ng-click=\"$ctrl.entryClick(item)\"\\n        class=\"interactive\"\\n        dir-paginate=\"item in $ctrl.dataset | itemsPerPage: $ctrl.paginationState.limit\"\\n        pagination-id=\"$ctrl.tableType\"\\n        total-items=\"$ctrl.paginationState.totalCount\"\\n      >\\n        <td>\\n          {{ item.Name | truncate: 64 }}\\n        </td>\\n        <td ng-if=\"$ctrl.showGroups\">\\n          {{ $ctrl.groupIdToGroupName(item.GroupId) | truncate: 64 }}\\n        </td>\\n        <td ng-if=\"$ctrl.showTags\">\\n          {{ $ctrl.tagIdsToTagNames(item.TagIds) | truncate: 64 }}\\n        </td>\\n      </tr>\\n\\n      <tr ng-if=\"!$ctrl.dataset\">\\n        <td colspan=\"3\" class=\"text-center text-muted\">Loading...</td>\\n      </tr>\\n      <tr ng-if=\"$ctrl.dataset.length === 0\">\\n        <td colspan=\"3\" class=\"text-center text-muted\">{{ $ctrl.emptyDatasetMessage }}</td>\\n      </tr>\\n    </tbody>\\n  </table>\\n  <div class=\"footer\" ng-if=\"$ctrl.dataset\">\\n    <div class=\"paginationControls\">\\n      <form class=\"form-inline\">\\n        <span class=\"limitSelector\">\\n          <span style=\"margin-right: 5px;\">\\n            Items per page\\n          </span>\\n          <select ng-model=\"$ctrl.paginationState.limit\" ng-change=\"$ctrl.onPaginationLimitChanged()\">\\n            <option value=\"10\">10</option>\\n            <option value=\"25\">25</option>\\n            <option value=\"50\">50</option>\\n            <option value=\"100\">100</option>\\n          </select>\\n        </span>\\n        <dir-pagination-controls pagination-id=\"$ctrl.tableType\" max-size=\"5\" on-page-change=\"$ctrl.onPageChanged(newPageNumber, oldPageNumber)\"></dir-pagination-controls>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.app\").directive(\"rdHeaderContent\",[\"Authentication\",function(e){return{requires:\"^rdHeader\",transclude:!0,link:function(t){t.username=e.getUserDetails().username},template:'<div class=\"breadcrumb-links\"><div class=\"pull-left\" ng-transclude></div><div class=\"pull-right\" ng-if=\"username\"><a ui-sref=\"portainer.account\" style=\"margin-right: 5px;\"><u><i class=\"fa fa-wrench\" aria-hidden=\"true\"></i> my account </u></a><a ui-sref=\"portainer.logout({performApiLogout: true})\" class=\"text-danger\" style=\"margin-right: 25px;\" data-cy=\"template-logoutButton\"><u><i class=\"fa fa-sign-out-alt\" aria-hidden=\"true\"></i> log out</u></a></div></div>',restrict:\"E\"}}])},function(e,t){angular.module(\"portainer.app\").directive(\"rdHeaderTitle\",[\"Authentication\",function(e){return{requires:\"^rdHeader\",scope:{titleText:\"@\"},link:function(t){t.username=e.getUserDetails().username},transclude:!0,template:'<div class=\"page white-space-normal\">{{titleText}}<span class=\"header_title_content\" ng-transclude></span><span class=\"pull-right user-box\" ng-if=\"username\"><i class=\"fa fa-user-circle\" aria-hidden=\"true\"></i> {{username}}</span></div>',restrict:\"E\"}}])},function(e,t){angular.module(\"portainer.app\").directive(\"rdHeader\",(function(){return{scope:{ngModel:\"=\"},transclude:!0,template:'<div class=\"row header\"><div id=\"loadingbar-placeholder\"></div><div class=\"col-xs-12\"><div class=\"meta\" ng-transclude></div></div></div>',restrict:\"EA\"}}))},function(e,t,n){const a=n(1854);angular.module(\"portainer.app\").component(\"informationPanelOffline\",{templateUrl:a,controller:\"InformationPanelOfflineController\"})},function(e,t){var n=\"app/portainer/components/information-panel-offline/informationPanelOffline.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<information-panel title-text=\"Offline mode\" cant-dismiss=\"true\">\\n  <span class=\"small\">\\n    <p class=\"text-muted\">\\n      <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      This environment is currently offline (read-only). Data shown is based on the latest available snapshot.\\n    </p>\\n    <p class=\"text-muted\">\\n      <i class=\"fa fa-clock\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      Last snapshot: {{ $ctrl.snapshotTime | getisodatefromtimestamp }}\\n    </p>\\n    <button type=\"button\" class=\"btn btn-xs btn-primary\" ng-click=\"$ctrl.triggerSnapshot()\" ng-if=\"$ctrl.showRefreshButton\">\\n      <i class=\"fa fa-sync space-right\" aria-hidden=\"true\"></i>Refresh\\n    </button>\\n  </span>\\n</information-panel>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.app\").controller(\"InformationPanelOfflineController\",[\"$state\",\"EndpointProvider\",\"EndpointService\",\"Authentication\",\"Notifications\",function(e,t,n,a,i){var s=this;this.$onInit=function(){var e=t.endpointID();s.showRefreshButton=a.isAdmin(),n.endpoint(e).then((function(e){s.snapshotTime=e.Snapshots[0].Time})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve environment information\")}))},this.triggerSnapshot=function(){var a=t.endpointID();n.snapshotEndpoint(a).then((function(){e.reload()})).catch((function(e){i.error(\"Failure\",e,\"An error occured during environment snapshot\")}))}}])},function(e,t,n){const a=n(1857);angular.module(\"portainer.app\").component(\"informationPanel\",{templateUrl:a,bindings:{titleText:\"@\",dismissAction:\"&?\"},transclude:!0})},function(e,t){var n=\"app/portainer/components/information-panel/informationPanel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <div class=\"col-sm-12 form-section-title\">\\n          <span style=\"float: left;\">\\n            {{ $ctrl.titleText }}\\n          </span>\\n          <span class=\"small\" style=\"float: right;\" ng-if=\"$ctrl.dismissAction\">\\n            <a ng-click=\"$ctrl.dismissAction()\"><i class=\"fa fa-times\"></i> dismiss</a>\\n          </span>\\n        </div>\\n        <div class=\"form-group\">\\n          <ng-transclude></ng-transclude>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(824);i.a.module(\"portainer.app\").directive(\"intervalFormat\",(function(){return{restrict:\"A\",require:\"ngModel\",link:function(e,t,n,a){a.$validators.invalidIntervalFormat=function(e){try{return e&&null!==e.toUpperCase().match(/^P?(?!$)(\\d+Y)?(\\d+M)?(\\d+W)?(\\d+D)?(T?(?=\\d+[HMS])(\\d+H)?(\\d+M)?(\\d+S)?)?$/gm)}catch(e){return!1}},a.$validators.minimumInterval=function(e){try{return e&&Object(s.a)(e,\"minute\")>=1}catch(e){return!1}}}}}))},function(e,t,n){const a=n(1860);angular.module(\"portainer.app\").component(\"motdPanel\",{templateUrl:a,bindings:{motd:\"<\",dismissAction:\"&?\"},transclude:!0})},function(e,t){var n=\"app/portainer/components/motd-panel/motdPanel.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body classes=\"motd-body\">\\n        <style ng-if=\"$ctrl.motd.Style\">\\n          {{ $ctrl.motd.Style }}\\n        </style>\\n        <div ng-style=\"{{ $ctrl.motd.ContentLayout ? $ctrl.motd.ContentLayout : {} }}\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            <span style=\"float: left;\">\\n              {{ $ctrl.motd.Title }}\\n            </span>\\n            <span class=\"small\" style=\"float: right;\" ng-if=\"$ctrl.dismissAction\">\\n              <a ng-click=\"$ctrl.dismissAction()\"><i class=\"fa fa-times\"></i> dismiss</a>\\n            </span>\\n          </div>\\n          <div class=\"form-group\">\\n            <span class=\"text-muted\">\\n              <p ng-bind-html=\"$ctrl.motd.Message\"></p>\\n            </span>\\n          </div>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.app\").directive(\"onEnterKey\",[function(){return{restrict:\"A\",link:function(e,t,n){t.bind(\"keydown keypress\",(function(t){13===t.which&&(t.preventDefault(),e.$apply((function(){e.$eval(n.onEnterKey)})))}))}}}])},function(e,t,n){const a=n(1863);angular.module(\"portainer.app\").component(\"productItem\",{templateUrl:a,bindings:{model:\"<\",goTo:\"<\"}})},function(e,t,n){var a=\"app/portainer/components/product-list/product-item/productItem.html\",i='\\x3c!-- extension --\\x3e\\n<div class=\"blocklist-item\" ng-click=\"$ctrl.goTo($ctrl.model)\">\\n  <div class=\"blocklist-item-box\">\\n    \\x3c!-- extension-image --\\x3e\\n    <span class=\"blocklist-item-logo\">\\n      <img class=\"blocklist-item-logo\" ng-if=\"$ctrl.model.Id == 1 || $ctrl.model.Id == 2 || $ctrl.model.Id == 3\" src=\"'+n(1864)+'\" />\\n      <img class=\"blocklist-item-logo\" ng-if=\"$ctrl.model.Id == 4 || $ctrl.model.Id == 5\" src=\"'+n(1865)+'\" />\\n    </span>\\n    \\x3c!-- !extension-image --\\x3e\\n    \\x3c!-- extension-details --\\x3e\\n    <span class=\"col-sm-12\">\\n      \\x3c!-- blocklist-item-line1 --\\x3e\\n      <div class=\"blocklist-item-line\">\\n        <span>\\n          <span class=\"blocklist-item-title\">\\n            {{ $ctrl.model.Name }}\\n          </span>\\n        </span>\\n      </div>\\n      \\x3c!-- !blocklist-item-line1 --\\x3e\\n      \\x3c!-- blocklist-item-line2 --\\x3e\\n      <div class=\"blocklist-item-line\">\\n        <span>\\n          <span class=\"blocklist-item-desc\">\\n            {{ $ctrl.model.ShortDescription }}\\n          </span>\\n        </span>\\n      </div>\\n      \\x3c!-- !blocklist-item-line2 --\\x3e\\n    </span>\\n    \\x3c!-- !extension-details --\\x3e\\n  </div>\\n  \\x3c!-- !extension --\\x3e\\n</div>\\n';window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(a,i)}]),e.exports=a},function(e,t,n){e.exports=n.p+\"6b03ffb82223ffdcc7fc093f199f758b.png\"},function(e,t,n){e.exports=n.p+\"249bec13697c484bcfe40241cabfd053.png\"},function(e,t,n){const a=n(1867);angular.module(\"portainer.app\").component(\"productList\",{templateUrl:a,bindings:{titleText:\"@\",products:\"<\",goTo:\"<\"}})},function(e,t){var n=\"app/portainer/components/product-list/productList.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa fa-bolt\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n\\n      <div class=\"blocklist\">\\n        <product-item ng-repeat=\"product in $ctrl.products\" model=\"product\" go-to=\"$ctrl.goTo\"></product-item>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"registryDetails\",(function(){return s}));var a=n(1),i=n.n(a);const s={templateUrl:n(1869),bindings:{registry:\"<\"}};i.a.module(\"portainer.app\").component(\"registryDetails\",s)},function(e,t){var n=\"app/portainer/components/registry-details/registry-details.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"row\" ng-if=\"$ctrl.registry\">\\n  <div class=\"col-lg-12 col-md-12 col-xs-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-plug\" title-text=\"Registry\"></rd-widget-header>\\n      <rd-widget-body classes=\"no-padding\">\\n        <table class=\"table\">\\n          <tbody>\\n            <tr>\\n              <td>Name</td>\\n              <td>\\n                {{ $ctrl.registry.Name }}\\n              </td>\\n            </tr>\\n            <tr>\\n              <td>URL</td>\\n              <td>\\n                {{ $ctrl.registry.URL }}\\n              </td>\\n            </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/sensitive-details/sensitive-details.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"sensitive-details-container\">\\n  <div class=\"text-wrap\">{{ $ctrl.key }}</div>\\n  <show-hide class=\"show-hide-container\" value=\"$ctrl.value\" use-asterisk=\"true\"></show-hide>\\n  <copy-button value=\"$ctrl.value\"></copy-button>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(1872);i.a.module(\"portainer.app\").component(\"showHide\",{templateUrl:s,bindings:{value:\"<\",useAsterisk:\"<\"}})},function(e,t){var n=\"app/portainer/components/show-hide/show-hide.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"small text-muted text-wrap\">\\n  <span ng-if=\"!$ctrl.show && $ctrl.useAsterisk\">********</span>\\n  <span ng-if=\"$ctrl.show\">{{ $ctrl.value }}</span>\\n</div>\\n\\n<button type=\"button\" class=\"btn btn-link nopadding\" ng-click=\"$ctrl.show = !$ctrl.show\" title=\"Show/Hide value\">\\n  <div ng-if=\"!$ctrl.show\"> <i class=\"fa fa-eye-slash\"></i> Show</div>\\n  <div ng-if=\"$ctrl.show\"> <i class=\"fa fa-eye\"></i> Hide</div>\\n</button>\\n')}]),e.exports=n},function(e,t,n){const a=n(1874);angular.module(\"portainer.app\").component(\"slider\",{templateUrl:a,controller:\"SliderController\",bindings:{model:\"=\",onChange:\"<\",floor:\"<\",ceil:\"<\",step:\"<\",precision:\"<\"}})},function(e,t){var n=\"app/portainer/components/slider/slider.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <rzslider rz-slider-options=\"$ctrl.options\" rz-slider-model=\"$ctrl.model\"></rzslider>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);class s{constructor(e){this.$scope=e,this.buildOptions=this.buildOptions.bind(this),this.translate=this.translate.bind(this)}$onChanges(){this.buildOptions()}translate(e,t,n){return\"floor\"===n&&0===this.floor||0===e?\"unlimited\":e}buildOptions(){this.options={floor:this.floor,ceil:this.ceil,step:this.step,precision:this.precision,showSelectionBar:!0,enforceStep:!1,translate:this.translate,onChange:()=>this.onChange()}}$onInit(){this.buildOptions()}}s.$inject=[\"$scope\"],t.default=s,i.a.module(\"portainer.app\").controller(\"SliderController\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(103);angular.module(\"portainer.app\").controller(\"StackDuplicationFormController\",[\"Notifications\",function(e){var t=this;function n(){return t.formValues.endpoint&&t.formValues.endpoint.Id}t.state={duplicationInProgress:!1,migrationInProgress:!1},t.formValues={endpoint:null,newName:\"\"},t.STACK_NAME_VALIDATION_REGEX=a.STACK_NAME_VALIDATION_REGEX,t.isFormValidForDuplication=function(){return n()&&t.formValues.newName&&!t.yamlError},t.isFormValidForMigration=n,t.duplicateStack=function(){if(!t.formValues.newName)return void e.error(\"Failure\",null,\"Stack name is required for duplication\");t.state.duplicationInProgress=!0,t.onDuplicate({endpointId:t.formValues.endpoint.Id,name:t.formValues.newName?t.formValues.newName:void 0}).finally((function(){t.state.duplicationInProgress=!1}))},t.migrateStack=function(){t.state.migrationInProgress=!0,t.onMigrate({endpointId:t.formValues.endpoint.Id,name:t.formValues.newName?t.formValues.newName:void 0}).finally((function(){t.state.migrationInProgress=!1}))},t.isMigrationButtonDisabled=function(){return!t.isFormValidForMigration()||t.state.duplicationInProgress||t.state.migrationInProgress||t.formValues.endpoint&&t.formValues.endpoint.Id===t.currentEndpointId},t.isEndpointSelected=function(){return t.formValues.endpoint&&t.formValues.endpoint.Id}}])},function(e,t,n){const a=n(1878);angular.module(\"portainer.app\").component(\"stackDuplicationForm\",{templateUrl:a,controller:\"StackDuplicationFormController\",bindings:{onDuplicate:\"&\",onMigrate:\"&\",endpoints:\"<\",groups:\"<\",currentEndpointId:\"<\",yamlError:\"<\"}})},function(e,t){var n=\"app/portainer/components/stack-duplication-form/stack-duplication-form.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div authorization=\"PortainerStackMigrate\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Stack duplication / migration\\n  </div>\\n  <rd-widget>\\n    <rd-widget-body>\\n      <form class=\"form-horizontal\" name=\"dupStackForm\">\\n        <div class=\"form-group\">\\n          <span class=\"small\" style=\"margin-top: 10px;\">\\n            <p class=\"text-muted\">\\n              This feature allows you to duplicate or migrate this stack.\\n            </p>\\n          </span>\\n        </div>\\n\\n        <div class=\"form-group\">\\n          <input\\n            class=\"form-control\"\\n            placeholder=\"Stack name (optional for migration)\"\\n            aria-placeholder=\"Stack name\"\\n            name=\"new_stack_name\"\\n            ng-pattern=\"$ctrl.STACK_NAME_VALIDATION_REGEX\"\\n            ng-model=\"$ctrl.formValues.newName\"\\n          />\\n        </div>\\n        <div class=\"form-group\" ng-show=\"dupStackForm.new_stack_name.$invalid\">\\n          <div class=\"col-sm-12 small text-warning\">\\n            <div ng-messages=\"dupStackForm.new_stack_name.$error\">\\n              <p ng-message=\"pattern\">\\n                <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\\n                <span>This field must consist of lower case alphanumeric characters, \\'_\\' or \\'-\\' (e.g. \\'my-name\\', or \\'abc-123\\').</span>\\n              </p>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\"form-group\">\\n          <endpoint-selector ng-if=\"$ctrl.endpoints && $ctrl.groups\" model=\"$ctrl.formValues.endpoint\" endpoints=\"$ctrl.endpoints\" groups=\"$ctrl.groups\"></endpoint-selector>\\n        </div>\\n\\n        <div class=\"form-group\">\\n          <button\\n            class=\"btn btn-sm btn-primary\"\\n            ng-click=\"$ctrl.migrateStack()\"\\n            ng-disabled=\"$ctrl.isMigrationButtonDisabled()\"\\n            style=\"margin-top: 7px; margin-left: 0;\"\\n            button-spinner=\"$ctrl.state.migrationInProgress\"\\n          >\\n            <span ng-hide=\"$ctrl.state.migrationInProgress\"> <i class=\"fa fa-long-arrow-alt-right space-right\" aria-hidden=\"true\"></i> Migrate </span>\\n            <span ng-show=\"$ctrl.state.migrationInProgress\">Migration in progress...</span>\\n          </button>\\n          <button\\n            class=\"btn btn-sm btn-primary\"\\n            ng-click=\"$ctrl.duplicateStack()\"\\n            ng-disabled=\"!$ctrl.isFormValidForDuplication() || $ctrl.state.duplicationInProgress || $ctrl.state.migrationInProgress\"\\n            style=\"margin-top: 7px; margin-left: 0;\"\\n            button-spinner=\"$ctrl.state.duplicationInProgress\"\\n          >\\n            <span ng-hide=\"$ctrl.state.duplicationInProgress\"> <i class=\"fa fa-clone space-right\" aria-hidden=\"true\"></i> Duplicate </span>\\n            <span ng-show=\"$ctrl.state.duplicationInProgress\">Duplication in progress...</span>\\n          </button>\\n        </div>\\n\\n        <div class=\"form-group\">\\n          <div ng-if=\"$ctrl.yamlError && $ctrl.isEndpointSelected()\">\\n            <span class=\"text-danger small\">{{ $ctrl.yamlError }}</span>\\n          </div>\\n        </div>\\n      </form>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/components/status-indicator/status-indicator.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<i aria-hidden=\"true\" ng-class=\"[\\'status-indicator\\', { ok: $ctrl.ok }]\"></i>\\n')}]),e.exports=n},function(e,t,n){const a=n(1881);angular.module(\"portainer.app\").component(\"tagSelector\",{templateUrl:a,controller:\"TagSelectorController\",bindings:{tags:\"<\",model:\"=\",onCreate:\"<\",allowCreate:\"<\"}})},function(e,t){var n=\"app/portainer/components/tag-selector/tagSelector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div ng-show=\"$ctrl.model.length > 0\" class=\"col-sm-12\" style=\"padding: 0; margin-bottom: 15px;\">\\n  <label class=\"col-sm-3 col-lg-2 control-label text-left\">\\n    Selected tags\\n  </label>\\n  <div class=\"col-sm-9 col-lg-10\" style=\"padding-top: 4px;\">\\n    <span class=\"tag space-right interactive\" ng-repeat=\"tag in $ctrl.state.selectedTags\" ng-click=\"$ctrl.removeTag(tag)\">\\n      {{ tag.Name }}\\n      <a title=\"Remove tag\" ng-click=\"$ctrl.removeTag(tag)\" style=\"margin-left: 2px;\">\\n        <span class=\"fa fa-trash-alt white-icon\" aria-hidden=\"true\"></span>\\n      </a>\\n    </span>\\n  </div>\\n</div>\\n<div class=\"col-sm-12\" style=\"padding: 0;\">\\n  <label for=\"tags\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n    Tags\\n  </label>\\n  <div class=\"col-sm-9 col-lg-10\" id=\"scrollable-dropdown-menu\" ng-if=\"$ctrl.allowCreate || $ctrl.tags.length > 0\">\\n    <input\\n      type=\"text\"\\n      ng-model=\"$ctrl.state.selectedValue\"\\n      id=\"tags\"\\n      class=\"form-control\"\\n      placeholder=\"Select tags...\"\\n      uib-typeahead=\"tag.Id as tag.Name for tag in $ctrl.filterTags($viewValue)\"\\n      typeahead-on-select=\"$ctrl.selectTag($item, $model, $label)\"\\n      typeahead-no-results=\"$ctrl.state.noResult\"\\n      typeahead-show-hint=\"true\"\\n      typeahead-min-length=\"0\"\\n      data-cy=\"tags-tagInput\"\\n    />\\n  </div>\\n  <div class=\"col-sm-9 col-lg-10\" ng-if=\"!$ctrl.allowCreate && $ctrl.tags.length === 0\">\\n    <span class=\"small text-muted\">\\n      No tags available.\\n    </span>\\n  </div>\\n</div>\\n<div class=\"col-sm-offset-3 col-lg-offset-2 col-sm-12\" ng-if=\"!$ctrl.allowCreate && $ctrl.state.noResult\" style=\"margin-top: 2px;\">\\n  <span class=\"small text-muted\">\\n    No tags matching your filter.\\n  </span>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(5),s=n(16),r=n(6),o=n(33),l=n(1),c=n.n(l);class d{constructor(){this.state={selectedValue:\"\",selectedTags:[],noResult:!1}}removeTag(e){Object(o.a)(this.model,t=>e.Id===t),Object(o.a)(this.state.selectedTags,{Id:e.Id})}selectTag(e){this.state.selectedValue=\"\",e.create&&this.allowCreate?this.onCreate(e.value):(this.state.selectedTags.push(e),this.model.push(e.Id))}filterTags(e){let t=Object(r.a)(this.tags,e=>!Object(s.a)(this.model,e.Id));if(!e)return t;const n=Object(i.a)(this.tags,t=>t.Name===e);return t=Object(r.a)(t,t=>Object(s.a)(t.Name.toLowerCase(),e.toLowerCase())),n||!this.allowCreate?t:t.concat({Name:`Create \"${e}\"`,create:!0,value:e})}generateSelectedTags(e,t){this.state.selectedTags=Object(a.a)(e,e=>Object(i.a)(t,t=>t.Id===e))}$onInit(){this.generateSelectedTags(this.model,this.tags)}$onChanges({tags:e,model:t}){const n=e&&e.currentValue?e.currentValue:this.tags,a=t&&t.currentValue?t.currentValue:this.model;a&&n&&this.generateSelectedTags(a,n)}}d.$inject=[],t.default=d,c.a.module(\"portainer.app\").controller(\"TagSelectorController\",d)},function(e,t){var n=\"app/portainer/components/template-list/template-item/templateItem.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'\\x3c!-- template --\\x3e\\n<div ng-class=\"{ \\'blocklist-item--selected\\': $ctrl.model.Selected }\" class=\"blocklist-item template-item\" ng-click=\"$ctrl.onSelect($ctrl.model)\">\\n  <div class=\"blocklist-item-box\">\\n    \\x3c!-- template-image --\\x3e\\n    <span ng-if=\"$ctrl.model.Logo\">\\n      <img class=\"blocklist-item-logo\" ng-src=\"{{ $ctrl.model.Logo }}\" />\\n    </span>\\n    <span class=\"blocklist-item-logo\" ng-if=\"!$ctrl.model.Logo\">\\n      <i class=\"fa fa-rocket fa-4x blue-icon\" aria-hidden=\"true\"></i>\\n    </span>\\n    \\x3c!-- !template-image --\\x3e\\n    \\x3c!-- template-details --\\x3e\\n    <div class=\"col-sm-12 template-item-details\">\\n      \\x3c!-- blocklist-item-line1 --\\x3e\\n      <div class=\"blocklist-item-line\">\\n        <span>\\n          <span class=\"blocklist-item-title\">\\n            {{ $ctrl.model.Title }}\\n          </span>\\n          <span class=\"space-left blocklist-item-subtitle\">\\n            <span ng-if=\"$ctrl.model.Type != 3\">\\n              <i class=\"fab fa-linux\" aria-hidden=\"true\" ng-if=\"$ctrl.model.Platform === 1 || $ctrl.model.Platform === \\'linux\\' || !$ctrl.model.Platform\"></i>\\n              <span ng-if=\"!$ctrl.model.Platform\"> &amp; </span>\\n              <i class=\"fab fa-windows\" aria-hidden=\"true\" ng-if=\"$ctrl.model.Platform === 2 || $ctrl.model.Platform === \\'windows\\' || !$ctrl.model.Platform\"></i>\\n            </span>\\n            <span ng-if=\"$ctrl.model.Type === 3\">\\n              <i class=\"fa fa-dharmachakra\" aria-hidden=\"true\"></i>\\n            </span>\\n            <span>\\n              {{ $ctrl.typeLabel }}\\n            </span>\\n          </span>\\n        </span>\\n      </div>\\n      \\x3c!-- !blocklist-item-line1 --\\x3e\\n      <span class=\"blocklist-item-actions\" ng-transclude=\"actions\"></span>\\n      \\x3c!-- blocklist-item-line2 --\\x3e\\n      <div class=\"blocklist-item-line template-item-details-sub\">\\n        <span class=\"blocklist-item-desc\">\\n          {{ $ctrl.model.Description }}\\n        </span>\\n        <span class=\"small text-muted\" ng-if=\"$ctrl.model.Categories.length > 0\">\\n          {{ $ctrl.model.Categories.join(\\', \\') }}\\n        </span>\\n      </div>\\n      \\x3c!-- !blocklist-item-line2 --\\x3e\\n    </div>\\n    \\x3c!-- !template-details --\\x3e\\n  </div>\\n  \\x3c!-- !template --\\x3e\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(16),i=n(68),s=n(67);function r(e,t,n,r,o){var l=this;this.state={textFilter:\"\",selectedCategory:\"\",categories:[],showContainerTemplates:!0},this.onTextFilterChange=function(){n.setDataTableTextFilters(this.tableKey,this.state.textFilter)},this.updateCategories=function(){for(var e=[],t=0;t<l.templates.length;t++){var n=l.templates[t];(1===n.Type&&l.state.showContainerTemplates||2===n.Type&&l.showSwarmStacks||3===n.Type&&!l.showSwarmStacks)&&(e=e.concat(n.Categories))}this.state.categories=Object(s.a)(Object(i.a)(e))},this.filterByCategory=function(e){return!l.state.selectedCategory||Object(a.a)(e.Categories,l.state.selectedCategory)},this.filterByType=function(e){return!!(1===e.Type&&l.state.showContainerTemplates||2===e.Type&&l.showSwarmStacks||3===e.Type&&!l.showSwarmStacks)},this.duplicateTemplate=function(t){return e(this.duplicateTemplateAsync,t)}.bind(this),this.duplicateTemplateAsync=async function(e){try{const{FileContent:n}=await o.templateFile(e.Repository.url,e.Repository.stackfile);let a=0;2===e.Type&&(a=1),3===e.Type&&(a=2),t.go(\"docker.templates.custom.new\",{fileContent:n,type:a})}catch(e){r.error(\"Failure\",e,\"Failed to duplicate template\")}}.bind(this),this.$onInit=function(){this.showSwarmStacks&&(this.state.showContainerTemplates=!1),this.updateCategories();var e=n.getDataTableTextFilters(this.tableKey);null!==e&&(this.state.textFilter=e)}}r.$inject=[\"$async\",\"$state\",\"DatatableService\",\"Notifications\",\"TemplateService\"],angular.module(\"portainer.app\").controller(\"TemplateListController\",r)},function(e,t,n){const a=n(1886);angular.module(\"portainer.app\").component(\"templateList\",{templateUrl:a,controller:\"TemplateListController\",bindings:{titleText:\"@\",titleIcon:\"@\",templates:\"<\",tableKey:\"@\",selectAction:\"<\",showSwarmStacks:\"<\"}})},function(e,t){var n=\"app/portainer/components/template-list/templateList.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"datatable\">\\n  <rd-widget>\\n    <rd-widget-body classes=\"no-padding\">\\n      <div class=\"toolBar\">\\n        <div class=\"toolBarTitle\"> <i class=\"fa\" ng-class=\"$ctrl.titleIcon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i> {{ $ctrl.titleText }} </div>\\n      </div>\\n\\n      <div class=\"actionBar\">\\n        <div>\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ui-sref=\"docker.templates.new\" ng-if=\"$ctrl.showAddAction\">\\n            <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i>Add template\\n          </button>\\n          <span ng-class=\"{ \\'pull-right\\': $ctrl.showAddAction }\" style=\"width: 25%;\">\\n            <ui-select ng-model=\"$ctrl.state.selectedCategory\">\\n              <ui-select-match placeholder=\"Select a category\" allow-clear=\"true\">\\n                <span>{{ $select.selected }}</span>\\n              </ui-select-match>\\n              <ui-select-choices repeat=\"category in ($ctrl.state.categories | filter: $select.search)\">\\n                <span>{{ category }}</span>\\n              </ui-select-choices>\\n            </ui-select>\\n          </span>\\n        </div>\\n\\n        <div class=\"small text-muted\" style=\"margin: 15px 0 0 5px;\">\\n          <label for=\"show_stacks\" class=\"control-label text-left\">\\n            Show container templates\\n          </label>\\n          <label class=\"switch\" style=\"margin-left: 20px;\">\\n            <input type=\"checkbox\" name=\"show_stacks\" ng-model=\"$ctrl.state.showContainerTemplates\" ng-change=\"$ctrl.updateCategories()\" /><i></i>\\n          </label>\\n        </div>\\n      </div>\\n\\n      <div class=\"searchBar\">\\n        <i class=\"fa fa-search searchIcon\" aria-hidden=\"true\"></i>\\n        <input\\n          type=\"text\"\\n          class=\"searchInput\"\\n          ng-model=\"$ctrl.state.textFilter\"\\n          ng-change=\"$ctrl.onTextFilterChange()\"\\n          placeholder=\"Search...\"\\n          auto-focus\\n          ng-model-options=\"{ debounce: 300 }\"\\n        />\\n      </div>\\n\\n      <div class=\"blocklist\">\\n        <template-item\\n          ng-repeat=\"template in $ctrl.templates | filter: $ctrl.filterByType | filter:$ctrl.filterByCategory | filter:$ctrl.state.textFilter\"\\n          model=\"template\"\\n          type-label=\"{{ template.Type === 1 ? \\'container\\' : \\'stack\\' }}\"\\n          on-select=\"($ctrl.selectAction)\"\\n        >\\n          <template-item-actions ng-if=\"template.Type === 2 || template.Type === 3\">\\n            <button ng-click=\"$event.stopPropagation(); $ctrl.duplicateTemplate(template)\" class=\"btn btn-primary btn-xs\">\\n              Copy as Custom\\n            </button>\\n          </template-item-actions>\\n        </template-item>\\n        <div ng-if=\"!$ctrl.templates\" class=\"text-center text-muted\">\\n          Loading...\\n        </div>\\n        <div ng-if=\"($ctrl.templates | filter: $ctrl.filterByType | filter: $ctrl.filterByCategory | filter: $ctrl.state.textFilter).length === 0\" class=\"text-center text-muted\">\\n          No templates available.\\n        </div>\\n      </div>\\n    </rd-widget-body>\\n  </rd-widget>\\n</div>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.app\").directive(\"rdTemplateWidget\",(function(){return{scope:{ngModel:\"=\"},transclude:!0,template:'<div class=\"widget template-widget\" id=\"template-widget\" ng-transclude></div>',restrict:\"EA\"}}))},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(651);const r=n(1889);i.a.module(\"portainer.app\").component(\"themeSettings\",{templateUrl:r,controller:s.default})},function(e,t){var n=\"app/portainer/components/theme/theme-settings.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<information-panel class=\"theme-information\" title-text=\"Information\">\\n  <span class=\"small text-muted\">\\n    <p>\\n      <i class=\"fa fa-flask orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n      Dark and High-contrast theme are experimental. Some UI components might not display properly.\\n    </p>\\n  </span>\\n</information-panel>\\n<rd-widget>\\n  <rd-widget-header icon=\"fa-palette\" title-text=\"Change user theme\"></rd-widget-header>\\n  <rd-widget-body>\\n    <form class=\"theme-panel\">\\n      \\x3c!-- Theme --\\x3e\\n      <box-selector radio-name=\"theme\" ng-model=\"$ctrl.state.userTheme\" options=\"$ctrl.state.availableThemes\" on-change=\"($ctrl.setTheme)\"></box-selector>\\n      <button ng-click=\"$ctrl.updateTheme()\" class=\"btn btn-primary btn-sm\">Update theme</button>\\n      \\x3c!-- !Theme --\\x3e\\n    </form>\\n  </rd-widget-body>\\n</rd-widget>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(69),i=n(830),s=n(1),r=n.n(s),o=n(93);r.a.module(\"portainer.app\").filter(\"truncate\",()=>o.truncate).filter(\"truncatelr\",()=>o.truncateLeftRight).filter(\"capitalize\",()=>i.a).filter(\"stripprotocol\",()=>o.stripProtocol).filter(\"humansize\",()=>o.humanize).filter(\"getisodatefromtimestamp\",()=>o.isoDateFromTimestamp).filter(\"getisodate\",()=>o.isoDate).filter(\"key\",()=>o.getPairKey).filter(\"value\",()=>o.getPairValue).filter(\"emptyobject\",()=>a.a).filter(\"ipaddress\",()=>o.ipAddress).filter(\"arraytostr\",()=>o.arrayToStr).filter(\"labelsToStr\",()=>o.labelsToStr).filter(\"endpointtypename\",()=>o.endpointTypeName).filter(\"endpointtypeicon\",()=>o.endpointTypeIcon).filter(\"ownershipicon\",()=>o.ownershipIcon).filter(\"endpointstatusbadge\",()=>o.endpointStatusBadge)},function(e,t){angular.module(\"portainer.app\").factory(\"FormHelper\",[function(){\"use strict\";var e={removeInvalidEnvVars:function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];n.value&&n.name||e.splice(t,1)}return e}};return e}])},function(e,t,n){\"use strict\";n.r(t);var a=n(16),i=n(1),s=n.n(i);class r{constructor(e){this.PREDEFINED_NETWORKS=e}isSystemNetwork(e){return Object(a.a)(this.PREDEFINED_NETWORKS,e.Name)}}r.$inject=[\"PREDEFINED_NETWORKS\"],t.default=r,s.a.module(\"portainer.app\").service(\"NetworkHelper\",r)},function(e,t,n){\"use strict\";n.r(t);var a=n(5),i=n(7),s=n(2),r=n(1),o=n.n(r),l=n(29),c=n(268);class d{RCViewModelToOwnershipParameters(e,t){if(!t)return new c.ResourceControlOwnershipParameters(!0);let n=!1,a=!1,i=[],r=[];switch(t.Ownership){case l.ResourceControlOwnership.PUBLIC:a=!0;break;case l.ResourceControlOwnership.PRIVATE:i=[e];break;case l.ResourceControlOwnership.RESTRICTED:i=Object(s.a)(t.UserAccesses,e=>e.UserId),r=Object(s.a)(t.TeamAccesses,e=>e.TeamId);break;default:n=!0}return new c.ResourceControlOwnershipParameters(n,a,i,r)}RCFormDataToOwnershipParameters(e,t,n=[]){t.AccessControlEnabled||(t.Ownership=l.ResourceControlOwnership.PUBLIC);let a=!1,i=!1,r=[],o=[];switch(t.Ownership){case l.ResourceControlOwnership.PUBLIC:i=!0;break;case l.ResourceControlOwnership.PRIVATE:r.push(e);break;case l.ResourceControlOwnership.RESTRICTED:r=Object(s.a)(t.AuthorizedUsers,e=>e.Id),o=Object(s.a)(t.AuthorizedTeams,e=>e.Id);break;default:a=!0}return new c.ResourceControlOwnershipParameters(a,i,r,o,n)}RCPanelDataToOwnershipParameters(e){const t=e.Ownership===l.ResourceControlOwnership.ADMINISTRATORS,n=e.Ownership===l.ResourceControlOwnership.PUBLIC,a=n||t?[]:Object(s.a)(e.Ownership_Users,e=>e.Id),i=n||t?[]:Object(s.a)(e.Ownership_Teams,e=>e.Id);return new c.ResourceControlOwnershipParameters(t,n,a,i)}retrieveAuthorizedUsers(e,t){const n=[];return Object(i.a)(e.UserAccesses,e=>{const i=Object(a.a)(t,{Id:e.UserId});i&&n.push(i)}),n}retrieveAuthorizedTeams(e,t){const n=[];return Object(i.a)(e.TeamAccesses,e=>{const i=Object(a.a)(t,{Id:e.TeamId});i&&n.push(i)}),n}isLeaderOfAnyRestrictedTeams(e,t){let n=!1;return Object(i.a)(e,e=>{if(Object(a.a)(t.TeamAccesses,{TeamId:e.TeamId})&&1===e.Role)return n=!0,!1}),n}}t.default=d,o.a.module(\"portainer.app\").service(\"ResourceControlHelper\",d)},function(e,t,n){\"use strict\";n.r(t);var a=n(117),i=n(825),s=n(68),r=n(94),o=n(267),l=n.n(o),c=n(652),d=n(174);angular.module(\"portainer.app\").factory(\"StackHelper\",[function(){var e={};function t(e,t,n){return Object(r.a)(e.filter(e=>e.Labels&&e.Labels[t]).map(e=>new d.ExternalStackViewModel(e.Labels[t],n,e.Created)),\"Name\")}return e.getExternalStacksFromContainers=function(e){return t(e,\"com.docker.compose.project\",2)},e.getExternalStacksFromServices=function(e){return t(e,\"com.docker.stack.namespace\",1)},e.validateYAML=function(e,t){let n;try{n=l.a.parse(e)}catch(e){return\"There is an error in the yaml syntax: \"+e}const r=Object(s.a)(c.default.findDeepAll(n,\"container_name\")),o=Object(i.a)(t,r);if(0!==o.length)return(1===o.length?\"This container name is\":\"These container names are\")+\" already used by another container running in this environment: \"+Object(a.a)(o,\", \")+\".\"},e}])},function(e,t,n){\"use strict\";n.r(t);var a=n(68);angular.module(\"portainer.app\").factory(\"TemplateHelper\",[function(){var e={getDefaultContainerConfiguration:function(){return{Env:[],OpenStdin:!1,Tty:!1,ExposedPorts:{},HostConfig:{RestartPolicy:{Name:\"no\"},PortBindings:{},Binds:[],Privileged:!1,ExtraHosts:[]},Volumes:{},Labels:{}}},portArrayToPortConfiguration:function(e){var t={bindings:{},exposedPorts:{}};return e.forEach((function(e){if(e.containerPort){var n=e.containerPort+\"/\"+e.protocol,a={};if(e.hostPort&&(a.HostPort=e.hostPort,e.hostPort.indexOf(\":\")>-1)){var i=e.hostPort.split(\":\");a.HostIp=i[0],a.HostPort=i[1]}t.bindings[n]=[a],t.exposedPorts[n]={}}})),t},updateContainerConfigurationWithLabels:function(e){var t={};return e.forEach((function(e){e.name&&(e.value?t[e.name]=e.value:t[e.name]=\"\")})),t},EnvToStringArray:function(e){var t=[];return e.forEach((function(e){if(e.value||e.set){var n=e.set?e.set:e.value;t.push(e.name+\"=\"+n)}})),t},getConsoleConfiguration:function(e){var t={openStdin:!1,tty:!1};return!0===e&&(t.openStdin=!0,t.tty=!0),t},createVolumeBindings:function(e,t){e.forEach((function(e){var n;e.container&&(\"auto\"===e.type?n=t.pop().Id+\":\"+e.container:\"auto\"!==e.type&&e.bind&&(n=e.bind+\":\"+e.container),e.readonly&&(n+=\":ro\"),e.binding=n)}))},determineRequiredGeneratedVolumeCount:function(e){var t=0;return e.forEach((function(e){\"auto\"===e.type&&++t})),t},getUniqueCategories:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t=t.concat(i.Categories)}return Object(a.a)(t)}};return e}])},function(e,t){angular.module(\"portainer.app\").factory(\"URLHelper\",[\"$window\",function(e){\"use strict\";var t={};return t.getParameter=function(t){return e.location.search.replace(/.*?\\?/,\"\").split(\"&\").reduce((function(e,t){var n=t.split(\"=\"),a=n[0],i=n[1];return e[a]=i,e}),{})[t]},t.cleanParameters=function(){e.location.replace(e.location.origin+e.location.pathname+e.location.hash)},t}])},function(e,t){angular.module(\"portainer.app\").factory(\"UserHelper\",[function(){\"use strict\";var e={filterNonAdministratorUsers:function(e){return e.filter((function(e){if(1!==e.Role)return e}))}};return e}])},function(e,t){angular.module(\"portainer.app\").factory(\"WebhookHelper\",[\"$location\",\"API_ENDPOINT_WEBHOOKS\",\"API_ENDPOINT_STACKS\",function(e,t,n){\"use strict\";var a={};const i=e.protocol().toLowerCase(),s=e.port(),r=\"http\"===i&&80===s||\"https\"===i&&443===s?\"\":\":\"+s;return a.returnWebhookUrl=function(n){return`${i}://${e.host()}${r}/${t}/${n}`},a.returnStackWebhookUrl=function(t){return`${i}://${e.host()}${r}/${n}/webhooks/${t}`},a}])},function(e,t,n){\"use strict\";n.r(t);var a=n(16),i=n(85);angular.module(\"portainer.app\").factory(\"EndpointStatusInterceptor\",[\"$q\",\"EndpointProvider\",function(e,t){var n={};function s(e){return Object(i.a)(e,\"api/\")&&(Object(a.a)(e,\"/containers\")||Object(a.a)(e,\"/images\")||Object(a.a)(e,\"/volumes\")||Object(a.a)(e,\"/networks\")||Object(a.a)(e,\"/info\")||Object(a.a)(e,\"/version\"))}return n.response=function(n){var a=n.config.url;200===n.status&&s(a)&&t.offlineMode()&&t.setOfflineMode(!1);return n||e.when(n)},n.responseError=function(n){var a=n.config.url;502!==n.status&&503!==n.status&&-1!==n.status||!s(a)||t.offlineMode()||t.setOfflineMode(!0);return e.reject(n)},n}])},function(e,t,n){\"use strict\";function a(e,t,n){this.ResourceID=e,this.Type=t,this.Public=n.Public,this.AdministratorsOnly=n.AdministratorsOnly,this.Users=n.Users,this.Teams=n.Teams,this.SubResourceIDs=n.SubResourceIDs}n.r(t),n.d(t,\"ResourceControlCreatePayload\",(function(){return a}))},function(e,t,n){\"use strict\";function a(e){this.Public=e.Public,this.AdministratorsOnly=e.AdministratorsOnly,this.Users=e.Users,this.Teams=e.Teams}n.r(t),n.d(t,\"ResourceControlUpdatePayload\",(function(){return a}))},function(e,t){angular.module(\"portainer.oauth\",[\"ngResource\"]).constant(\"API_ENDPOINT_OAUTH\",\"api/auth/oauth\")},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(658);const r=n(1904);i.a.module(\"portainer.oauth\").component(\"oauthProvidersSelector\",{templateUrl:r,bindings:{onChange:\"<\",value:\"<\"},controller:s.default})},function(e,t){var n=\"app/portainer/oauth/components/oauth-providers-selector/oauth-providers-selector.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\">\\n  Provider\\n</div>\\n\\n<box-selector ng-model=\"$ctrl.value\" options=\"$ctrl.options\" on-change=\"($ctrl.onChange)\" radio-name=\"oauth_provider\"></box-selector>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(659);const r=n(1906);i.a.module(\"portainer.oauth\").component(\"oauthSettings\",{templateUrl:r,bindings:{settings:\"=\",teams:\"<\",onSaveSettings:\"<\",saveButtonState:\"<\"},controller:s.default})},function(e,t){var n=\"app/portainer/oauth/components/oauth-settings/oauth-settings.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<ng-form name=\"oauthSettingsForm\">\\n  <div class=\"col-sm-12 form-section-title\">\\n    Single Sign-On\\n  </div>\\n\\n  \\x3c!-- SSO --\\x3e\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <por-switch-field\\n        label=\"Use SSO\"\\n        tooltip=\"When using SSO the OAuth provider is not forced to prompt for credentials.\"\\n        name=\"use-sso\"\\n        ng-model=\"$ctrl.settings.SSO\"\\n        on-change=\"$ctrl.updateSSO()\"\\n      ></por-switch-field>\\n    </div>\\n  </div>\\n  \\x3c!-- !SSO --\\x3e\\n\\n  \\x3c!-- HideInternalAuth --\\x3e\\n  <div class=\"form-group\" ng-if=\"$ctrl.settings.SSO\">\\n    <div class=\"col-sm-12\">\\n      <por-switch-field\\n        label=\"Hide internal authentication prompt\"\\n        name=\"hide-internal-auth\"\\n        feature=\"$ctrl.limitedFeature\"\\n        ng-model=\"$ctrl.settings.HideInternalAuth\"\\n      ></por-switch-field>\\n    </div>\\n  </div>\\n  \\x3c!-- !HideInternalAuth --\\x3e\\n\\n  <auto-user-provision-toggle ng-model=\"$ctrl.settings.OAuthAutoCreateUsers\">\\n    <field-description>\\n      With automatic user provisioning enabled, Portainer will create user(s) automatically with the standard user role. If disabled, users must be created beforehand in Portainer\\n      in order to login.\\n    </field-description>\\n  </auto-user-provision-toggle>\\n\\n  <div ng-if=\"$ctrl.settings.OAuthAutoCreateUsers\">\\n    <div class=\"form-group\">\\n      <span class=\"col-sm-12 text-muted small\">\\n        <p>The users created by the automatic provisioning feature can be added to a default team on creation.</p>\\n        <p>\\n          By assigning newly created users to a team, they will be able to access the environments associated to that team. This setting is optional and if not set, newly created\\n          users won\\'t be able to access any environments.\\n        </p>\\n      </span>\\n    </div>\\n    <div class=\"form-group\">\\n      <label class=\"col-sm-3 col-lg-2 control-label text-left\">Default team</label>\\n      <span class=\"small text-muted\" style=\"margin-left: 20px;\" ng-if=\"$ctrl.teams.length === 0\">\\n        You have not yet created any teams. Head over to the <a ui-sref=\"portainer.teams\">Teams view</a> to manage teams.\\n      </span>\\n\\n      <div class=\"col-sm-9\" ng-if=\"$ctrl.teams.length > 0\">\\n        <div class=\"col-sm-12 small text-muted\">\\n          <p>\\n            <i class=\"fa fa-info-circle blue-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n            The default team option will be disabled when automatic team membership is enabled\\n          </p>\\n        </div>\\n        <div class=\"col-xs-11\">\\n          <select\\n            class=\"form-control\"\\n            ng-disabled=\"$ctrl.settings.OAuthAutoMapTeamMemberships\"\\n            ng-model=\"$ctrl.settings.DefaultTeamID\"\\n            ng-options=\"team.Id as team.Name for team in $ctrl.teams\"\\n          >\\n            <option value=\"\">No team</option>\\n          </select>\\n        </div>\\n        <button\\n          type=\"button\"\\n          class=\"btn btn-sm btn-danger\"\\n          ng-click=\"$ctrl.settings.DefaultTeamID = null\"\\n          ng-disabled=\"!$ctrl.settings.DefaultTeamID || $ctrl.settings.OAuthAutoMapTeamMemberships\"\\n          ng-if=\"$ctrl.teams.length > 0\"\\n        >\\n          <i class=\"fa fa-times\" aria-hidden=\"true\"> </i\\n        ></button>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"col-sm-12 form-section-title\">\\n    Team membership\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12 text-muted small\">\\n      Automatic team membership synchronizes the team membership based on a custom claim in the token from the OAuth provider.\\n    </div>\\n  </div>\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <por-switch-field label=\"Automatic team membership\" name=\"tls\" feature=\"$ctrl.limitedFeature\" ng-model=\"$ctrl.settings.OAuthAutoMapTeamMemberships\"></por-switch-field>\\n    </div>\\n  </div>\\n\\n  <div ng-if=\"$ctrl.settings.OAuthAutoMapTeamMemberships\">\\n    <div class=\"form-group\">\\n      <label class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Claim name\\n        <portainer-tooltip position=\"bottom\" message=\"The OpenID Connect UserInfo Claim name that contains the team identifier the user belongs to.\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <div class=\"col-xs-11 col-lg-10\">\\n          <input type=\"text\" class=\"form-control\" id=\"oauth_token_claim_name\" ng-model=\"$ctrl.settings.TeamMemberships.OAuthClaimName\" placeholder=\"groups\" />\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Statically assigned teams\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <span class=\"label label-default interactive\" style=\"margin-left: 1.4em;\" ng-click=\"$ctrl.addTeamMembershipMapping()\">\\n          <i class=\"fa fa-plus-circle\" aria-hidden=\"true\"></i> add team mapping\\n        </span>\\n\\n        <div class=\"col-sm-12 form-inline\" ng-repeat=\"mapping in $ctrl.settings.TeamMemberships.OAuthClaimMappings\" style=\"margin-top: 0.75em;\">\\n          <div class=\"input-group input-group-sm col-sm-5\">\\n            <span class=\"input-group-addon\">claim value regex</span>\\n            <input type=\"text\" class=\"form-control\" ng-model=\"mapping.ClaimValRegex\" />\\n          </div>\\n          <span style=\"margin: 0px 0.5em;\">maps to</span>\\n          <div class=\"input-group input-group-sm col-sm-3 col-lg-4\">\\n            <span class=\"input-group-addon\">team</span>\\n            <select\\n              class=\"form-control\"\\n              ng-init=\"mapping.Team = mapping.Team || $ctrl.settings.DefaultTeamID\"\\n              ng-model=\"mapping.Team\"\\n              ng-options=\"team.Id as team.Name for team in $ctrl.teams\"\\n            >\\n              <option selected value=\"\">Select a team</option>\\n            </select>\\n          </div>\\n          <button type=\"button\" class=\"btn btn-sm btn-danger\" ng-click=\"$ctrl.removeTeamMembership($index)\"> <i class=\"fa fa-trash\" aria-hidden=\"true\"> </i></button>\\n\\n          <div class=\"small text-warning\" ng-show=\"!mapping.ClaimValRegex\" style=\"margin-top: 0.4em;\">\\n            <i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> Claim value regex is required.\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <div class=\"col-sm-12 text-muted small\" style=\"margin-bottom: 0.5em;\">\\n        The default team will be assigned when the user does not belong to any other team\\n      </div>\\n      <label class=\"col-sm-3 col-lg-2 control-label text-left\">Default team</label>\\n      <span class=\"small text-muted\" style=\"margin-left: 20px;\" ng-if=\"$ctrl.teams.length === 0\">\\n        You have not yet created any teams. Head over to the <a ui-sref=\"portainer.teams\">Teams view</a> to manage teams.\\n      </span>\\n\\n      <div class=\"col-sm-9\" ng-if=\"$ctrl.teams.length > 0\">\\n        <div class=\"col-xs-11\">\\n          <select class=\"form-control\" ng-model=\"$ctrl.settings.DefaultTeamID\" ng-options=\"team.Id as team.Name for team in $ctrl.teams\">\\n            <option value=\"\">No team</option>\\n          </select>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <oauth-providers-selector on-change=\"($ctrl.onSelectProvider)\" value=\"$ctrl.state.provider\"></oauth-providers-selector>\\n\\n  <div class=\"col-sm-12 form-section-title\">OAuth Configuration</div>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.state.provider == \\'microsoft\\'\">\\n    <label for=\"oauth_microsoft_tenant_id\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      Tenant ID\\n      <portainer-tooltip position=\"bottom\" message=\"ID of the Azure Directory you wish to authenticate against. Also known as the Directory ID\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        id=\"oauth_microsoft_tenant_id\"\\n        placeholder=\"xxxxxxxxxxxxxxxxxxxx\"\\n        ng-model=\"$ctrl.state.microsoftTenantID\"\\n        ng-change=\"$ctrl.onMicrosoftTenantIDChange()\"\\n        limited-feature-dir=\"{{::$ctrl.limitedFeature}}\"\\n        limited-feature-class=\"limited-be\"\\n        limited-feature-disabled\\n        limited-feature-tabindex=\"-1\"\\n        required\\n      />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"oauth_client_id\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      {{ $ctrl.state.provider == \\'microsoft\\' ? \\'Application ID\\' : \\'Client ID\\' }}\\n      <portainer-tooltip position=\"bottom\" message=\"Public identifier of the OAuth application\"></portainer-tooltip>\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input\\n        type=\"text\"\\n        id=\"oauth_client_id\"\\n        ng-model=\"$ctrl.settings.ClientID\"\\n        placeholder=\"xxxxxxxxxxxxxxxxxxxx\"\\n        ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n        ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        tabindex=\"{{ $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' ? -1 : 0 }}\"\\n      />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"oauth_client_secret\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n      {{ $ctrl.state.provider == \\'microsoft\\' ? \\'Application key\\' : \\'Client secret\\' }}\\n    </label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input\\n        type=\"password\"\\n        class=\"form-control\"\\n        id=\"oauth_client_secret\"\\n        ng-model=\"$ctrl.settings.ClientSecret\"\\n        placeholder=\"xxxxxxxxxxxxxxxxxxxx\"\\n        autocomplete=\"new-password\"\\n        ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n        ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        tabindex=\"{{ $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' ? -1 : 0 }}\"\\n      />\\n    </div>\\n  </div>\\n\\n  <div ng-if=\"$ctrl.state.provider == \\'custom\\' || $ctrl.state.overrideConfiguration\">\\n    <div class=\"form-group\">\\n      <label for=\"oauth_authorization_uri\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Authorization URL\\n        <portainer-tooltip\\n          position=\"bottom\"\\n          message=\"URL used to authenticate against the OAuth provider. Will redirect the user to the OAuth provider login view\"\\n        ></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_authorization_uri\"\\n          ng-model=\"$ctrl.settings.AuthorizationURI\"\\n          placeholder=\"https://example.com/oauth/authorize\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"oauth_access_token_uri\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Access token URL\\n        <portainer-tooltip position=\"bottom\" message=\"URL used by Portainer to exchange a valid OAuth authentication code for an access token\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_access_token_uri\"\\n          ng-model=\"$ctrl.settings.AccessTokenURI\"\\n          placeholder=\"https://example.com/oauth/token\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"oauth_resource_uri\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Resource URL\\n        <portainer-tooltip position=\"bottom\" message=\"URL used by Portainer to retrieve information about the authenticated user\"></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_resource_uri\"\\n          ng-model=\"$ctrl.settings.ResourceURI\"\\n          placeholder=\"https://example.com/user\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"oauth_redirect_uri\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Redirect URL\\n        <portainer-tooltip\\n          position=\"bottom\"\\n          message=\"URL used by the OAuth provider to redirect the user after successful authentication. Should be set to your Portainer instance URL\"\\n        ></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_redirect_uri\"\\n          ng-model=\"$ctrl.settings.RedirectURI\"\\n          placeholder=\"http://yourportainer.com/\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"oauth_logout_url\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Logout URL\\n        <portainer-tooltip\\n          position=\"bottom\"\\n          message=\"URL used by Portainer to redirect the user to the OAuth provider in order to log the user out of the identity provider session.\"\\n        ></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_logout_url\"\\n          ng-model=\"$ctrl.settings.LogoutURI\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"oauth_user_identifier\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        User identifier\\n        <portainer-tooltip\\n          position=\"bottom\"\\n          message=\"Identifier that will be used by Portainer to create an account for the authenticated user. Retrieved from the resource server specified via the Resource URL field\"\\n        ></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_user_identifier\"\\n          ng-model=\"$ctrl.settings.UserIdentifier\"\\n          placeholder=\"id\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\">\\n      <label for=\"oauth_scopes\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n        Scopes\\n        <portainer-tooltip\\n          position=\"bottom\"\\n          message=\"Scopes required by the OAuth provider to retrieve information about the authenticated user. Refer to your OAuth provider documentation for more information about this\"\\n        ></portainer-tooltip>\\n      </label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <input\\n          type=\"text\"\\n          class=\"form-control\"\\n          id=\"oauth_scopes\"\\n          ng-model=\"$ctrl.settings.Scopes\"\\n          placeholder=\"id,email,name\"\\n          ng-class=\"[\\'form-control\\', { \\'limited-be\\': $ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\' }]\"\\n          ng-disabled=\"$ctrl.isLimitedToBE && $ctrl.state.provider !== \\'custom\\'\"\\n        />\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\" ng-if=\"$ctrl.state.provider != \\'custom\\'\">\\n    <div class=\"col-sm-12\">\\n      <a class=\"small interactive\" ng-if=\"!$ctrl.state.overrideConfiguration\" ng-click=\"$ctrl.state.overrideConfiguration = true;\">\\n        <i class=\"fa fa-wrench space-right\" aria-hidden=\"true\"></i> Override default configuration\\n      </a>\\n      <a class=\"small interactive\" ng-if=\"$ctrl.state.overrideConfiguration\" ng-click=\"$ctrl.useDefaultProviderConfiguration($ctrl.state.provider)\">\\n        <i class=\"fa fa-cogs space-right\" aria-hidden=\"true\"></i> Use default configuration\\n      </a>\\n    </div>\\n  </div>\\n  <save-auth-settings-button\\n    on-save-settings=\"($ctrl.onSaveSettings)\"\\n    save-button-state=\"($ctrl.saveButtonState)\"\\n    save-button-disabled=\"!$ctrl.isOAuthTeamMembershipFormValid() || oauthSettingsForm.$invalid\"\\n    limited-feature-id=\"$ctrl.limitedFeature\"\\n    limited-feature-class=\"$ctrl.limitedFeatureClass\"\\n    class-name=\"\\'oauth-save-settings-button\\'\"\\n  ></save-auth-settings-button>\\n</ng-form>\\n')}]),e.exports=n},function(e,t){angular.module(\"portainer.oauth\").factory(\"OAuth\",[\"$resource\",\"API_ENDPOINT_OAUTH\",function(e,t){\"use strict\";return e(t+\"/:action\",{},{validate:{method:\"POST\",ignoreLoadingBar:!0,params:{action:\"validate\"}}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"Auth\",[\"$resource\",\"API_ENDPOINT_AUTH\",function(e,t){\"use strict\";return e(t+\"/:action\",{},{login:{method:\"POST\",ignoreLoadingBar:!0},logout:{method:\"POST\",params:{action:\"logout\"},ignoreLoadingBar:!0}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"Backup\",[\"$resource\",\"API_ENDPOINT_BACKUP\",function(e,t){\"use strict\";return e(t+\"/:subResource/:action\",{},{download:{method:\"POST\",responseType:\"blob\",ignoreLoadingBar:!0,transformResponse:(e,t)=>({file:e,name:t(\"Content-Disposition\").replace(\"attachment; filename=\",\"\")})},getS3Settings:{method:\"GET\",params:{subResource:\"s3\",action:\"settings\"}},saveS3Settings:{method:\"POST\",params:{subResource:\"s3\",action:\"settings\"}},exportS3Backup:{method:\"POST\",params:{subResource:\"s3\",action:\"execute\"}},restoreS3Backup:{method:\"POST\",params:{subResource:\"s3\",action:\"restore\"}},getBackupStatus:{method:\"GET\",params:{subResource:\"s3\",action:\"status\"}}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e,t){return e(t+\"/:id/:action\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},file:{method:\"GET\",params:{id:\"@id\",action:\"file\"}}})}s.$inject=[\"$resource\",\"API_ENDPOINT_CUSTOM_TEMPLATES\"],i.a.module(\"portainer.app\").factory(\"CustomTemplates\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(660);angular.module(\"portainer.app\").factory(\"Endpoints\",[\"$resource\",\"API_ENDPOINT_ENDPOINTS\",function(e,t){return e(t+\"/:id/:action\",{},{query:{method:\"GET\",params:{start:\"@start\",limit:\"@limit\",search:\"@search\",groupId:\"@groupId\"},transformResponse:a.default},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"}},deassociate:{method:\"DELETE\",params:{id:\"@id\",action:\"association\"}},updateAccess:{method:\"PUT\",params:{id:\"@id\",action:\"access\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},snapshots:{method:\"POST\",params:{action:\"snapshot\"}},snapshot:{method:\"POST\",params:{id:\"@id\",action:\"snapshot\"}},status:{method:\"GET\",params:{id:\"@id\",action:\"status\"}},updateSecuritySettings:{method:\"PUT\",params:{id:\"@id\",action:\"settings\"}},dockerhubLimits:{method:\"GET\",url:t+\"/:id/dockerhub/:registryId\"},registries:{method:\"GET\",url:t+\"/:id/registries\",params:{id:\"@id\",namespace:\"@namespace\"},isArray:!0},registry:{url:t+\"/:id/registries/:registryId\",method:\"GET\",params:{id:\"@id\",namespace:\"@namespace\",registryId:\"@registryId\"}},updateRegistryAccess:{method:\"PUT\",url:t+\"/:id/registries/:registryId\",params:{id:\"@id\",registryId:\"@registryId\"}}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(407);angular.module(\"portainer.app\").factory(\"Gitlab\",[\"$resource\",\"API_ENDPOINT_REGISTRIES\",function(e,t){return function(n){const i={};n&&(i[\"Private-Token\"]=n.token,i[\"X-Gitlab-Domain\"]=n.url);const s=t+\"/:id/proxies/gitlab/api/v4/projects\";return e(s,{id:\"@id\"},{projects:{method:\"GET\",params:{membership:\"true\"},transformResponse:a.default,headers:i},repositories:{method:\"GET\",url:s+\"/:projectId/registry/repositories\",params:{tags:!0},headers:i,transformResponse:a.default}})}}])},function(e,t){angular.module(\"portainer.app\").factory(\"EndpointGroups\",[\"$resource\",\"API_ENDPOINT_ENDPOINT_GROUPS\",function(e,t){\"use strict\";return e(t+\"/:id/:action\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"}},updateAccess:{method:\"PUT\",params:{id:\"@id\",action:\"access\"}},addEndpoint:{method:\"PUT\",params:{id:\"@id\",action:\"@action\"}},removeEndpoint:{method:\"DELETE\",params:{id:\"@id\",action:\"@action\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"LegacyExtensions\",[\"$resource\",\"EndpointProvider\",\"API_ENDPOINT_ENDPOINTS\",function(e,t,n){\"use strict\";return e(n+\"/:endpointId/extensions/:type\",{endpointId:t.endpointID},{register:{method:\"POST\"},deregister:{method:\"DELETE\",params:{type:\"@type\"}}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"Motd\",[\"$resource\",\"API_ENDPOINT_MOTD\",function(e,t){\"use strict\";return e(t,{},{get:{method:\"GET\",ignoreLoadingBar:!0}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"Registries\",[\"$resource\",\"API_ENDPOINT_REGISTRIES\",function(e,t){\"use strict\";return e(t+\"/:id/:action\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\",action:\"\",endpointId:\"@endpointId\"}},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},configure:{method:\"POST\",params:{id:\"@id\",action:\"configure\"}}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"ResourceControl\",[\"$resource\",\"API_ENDPOINT_RESOURCE_CONTROLS\",function(e,t){\"use strict\";return e(t+\"/:id\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"Settings\",[\"$resource\",\"API_ENDPOINT_SETTINGS\",function(e,t){\"use strict\";return e(t+\"/:subResource/:action\",{},{get:{method:\"GET\"},update:{method:\"PUT\",ignoreLoadingBar:!0},publicSettings:{method:\"GET\",params:{subResource:\"public\"},ignoreLoadingBar:!0},checkLDAPConnectivity:{method:\"PUT\",params:{subResource:\"authentication\",action:\"checkLDAP\"}}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);s.$inject=[\"$resource\"];function s(e){return e(\"api/ssl\",{},{get:{method:\"GET\"},upload:{method:\"PUT\"}})}i.a.module(\"portainer.app\").factory(\"SSL\",s)},function(e,t){angular.module(\"portainer.app\").factory(\"Stack\",[\"$resource\",\"EndpointProvider\",\"API_ENDPOINT_STACKS\",function(e,t,n){\"use strict\";return e(n+\"/:id/:action/:subaction\",{},{get:{method:\"GET\",params:{id:\"@id\"}},query:{method:\"GET\",isArray:!0},create:{method:\"POST\",ignoreLoadingBar:!0},update:{method:\"PUT\",params:{id:\"@id\"},ignoreLoadingBar:!0},associate:{method:\"PUT\",params:{id:\"@id\",swarmId:\"@swarmId\",endpointId:\"@endpointId\",orphanedRunning:\"@orphanedRunning\",action:\"associate\"}},remove:{method:\"DELETE\",params:{id:\"@id\",external:\"@external\",endpointId:\"@endpointId\"}},getStackFile:{method:\"GET\",params:{id:\"@id\",action:\"file\"}},migrate:{method:\"POST\",params:{id:\"@id\",action:\"migrate\",endpointId:\"@endpointId\"},ignoreLoadingBar:!0},start:{method:\"POST\",params:{id:\"@id\",action:\"start\"}},stop:{method:\"POST\",params:{id:\"@id\",action:\"stop\"}},updateGit:{method:\"PUT\",params:{id:\"@id\",action:\"git\",subaction:\"redeploy\"}},updateGitStackSettings:{method:\"POST\",params:{id:\"@id\",action:\"git\"},ignoreLoadingBar:!0}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"Status\",[\"$resource\",\"API_ENDPOINT_STATUS\",function(e,t){\"use strict\";return e(t+\"/:action\",{},{get:{method:\"GET\"},version:{method:\"GET\",params:{action:\"version\"}}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"Support\",[\"$resource\",\"API_ENDPOINT_SUPPORT\",function(e,t){\"use strict\";return e(t,{},{get:{method:\"GET\",isArray:!0}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"Tags\",[\"$resource\",\"API_ENDPOINT_TAGS\",function(e,t){\"use strict\";return e(t+\"/:id\",{},{create:{method:\"POST\"},query:{method:\"GET\",isArray:!0},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"Teams\",[\"$resource\",\"API_ENDPOINT_TEAMS\",function(e,t){\"use strict\";return e(t+\"/:id/:entity/:entityId\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},queryMemberships:{method:\"GET\",isArray:!0,params:{id:\"@id\",entity:\"memberships\"}}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"TeamMemberships\",[\"$resource\",\"API_ENDPOINT_TEAM_MEMBERSHIPS\",function(e,t){\"use strict\";return e(t+\"/:id/:action\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"Templates\",[\"$resource\",\"API_ENDPOINT_TEMPLATES\",function(e,t){return e(t+\"/:action\",{},{query:{method:\"GET\"},file:{method:\"POST\",params:{action:\"file\"}}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"Users\",[\"$resource\",\"API_ENDPOINT_USERS\",function(e,t){\"use strict\";return e(t+\"/:id/:entity/:entityId\",{},{create:{method:\"POST\",ignoreLoadingBar:!0},query:{method:\"GET\",isArray:!0},get:{method:\"GET\",params:{id:\"@id\"}},update:{method:\"PUT\",params:{id:\"@id\"},ignoreLoadingBar:!0},updatePassword:{method:\"PUT\",params:{id:\"@id\",entity:\"passwd\"}},updateTheme:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}},queryMemberships:{method:\"GET\",isArray:!0,params:{id:\"@id\",entity:\"memberships\"}},checkAdminUser:{method:\"GET\",params:{id:\"admin\",entity:\"check\"},isArray:!0,ignoreLoadingBar:!0},initAdminUser:{method:\"POST\",params:{id:\"admin\",entity:\"init\"},ignoreLoadingBar:!0},createAccessToken:{url:t+\"/:id/tokens\",method:\"POST\",params:{id:\"@id\"},ignoreLoadingBar:!0},getAccessTokens:{method:\"GET\",params:{id:\"@id\",entity:\"tokens\"},isArray:!0},deleteAccessToken:{url:t+\"/:id/tokens/:tokenId\",method:\"DELETE\",params:{id:\"@id\",entityId:\"@tokenId\"}}})}])},function(e,t){angular.module(\"portainer.app\").factory(\"Webhooks\",[\"$resource\",\"API_ENDPOINT_WEBHOOKS\",function(e,t){\"use strict\";return e(t+\"/:id\",{},{query:{method:\"GET\",isArray:!0},create:{method:\"POST\"},update:{method:\"PUT\",params:{id:\"@id\"}},remove:{method:\"DELETE\",params:{id:\"@id\"}}})}])},function(e,t,n){\"use strict\";n.r(t);var a=n(7),i=n(687),s=n(111);angular.module(\"portainer.app\").factory(\"AccessService\",[\"$q\",\"$async\",\"UserService\",\"TeamService\",function(e,t,n,r){return{accesses:function(e,n){return t(l,e,n)},generateAccessPolicies:function(e,t,n,s,r){const o=Object(i.a)(e),l=Object(i.a)(t);Object(a.a)(n,e=>o[e.Id]={RoleId:r||e.Role.Id}),Object(a.a)(s,e=>l[e.Id]={RoleId:r||e.Role.Id});return{userAccessPolicies:o,teamAccessPolicies:l}}};function o(e,t,n){for(var a=[],i=[],s=0;s<e.length;s++){const r=e[s],o=t&&t[r.Id],l=n&&n[r.Id];o&&l?(r.Override=!0,i.push(r)):o&&!l?i.push(r):!o&&l?(r.Inherited=!0,i.push(r),a.push(r)):a.push(r)}return{available:a,authorized:i}}async function l(t,a){if(!t)throw new Error(\"Unable to retrieve accesses\");return t.UserAccessPolicies||(t.UserAccessPolicies={}),t.TeamAccessPolicies||(t.TeamAccessPolicies={}),a&&!a.UserAccessPolicies&&(a.UserAccessPolicies={}),a&&!a.TeamAccessPolicies&&(a.TeamAccessPolicies={}),await(i=t.UserAccessPolicies,l=t.TeamAccessPolicies,c=a?a.UserAccessPolicies:{},d=a?a.TeamAccessPolicies:{},u=e.defer(),e.all({users:n.users(!1),teams:r.teams()}).then((function(e){var t=e.users.map((function(e){return new s.UserAccessViewModel(e)})),n=e.teams.map((function(e){return new s.TeamAccessViewModel(e)})),a=o(t,i,c),r=o(n,l,d),p={availableUsersAndTeams:a.available.concat(r.available),authorizedUsersAndTeams:a.authorized.concat(r.authorized)};u.resolve(p)})).catch((function(e){u.reject({msg:\"Unable to retrieve users and teams\",err:e})})),u.promise);var i,l,c,d,u}}])},function(e,t){angular.module(\"portainer.app\").factory(\"BackupService\",[\"$q\",\"$async\",\"Backup\",\"FileUploadService\",function(e,t,n,a){\"use strict\";const i={downloadBackup:function(e){return n.download({},e).$promise},uploadBackup:function(e,t){return a.uploadBackup(e,t)},getS3Settings:function(){var t=e.defer();return n.getS3Settings().$promise.then((function(e){t.resolve(e)})).catch((function(e){t.reject({msg:\"Unable to retrieve backup S3 settings\",err:e})})),t.promise},saveS3Settings:function(t){var a=e.defer();return n.saveS3Settings({},t).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:\"Unable to save backup S3 settings\",err:e})})),a.promise},exportBackup:function(t){var a=e.defer();return n.exportS3Backup({},t).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:\"Unable to export backup\",err:e})})),a.promise},restoreFromS3:function(t){var a=e.defer();return n.restoreS3Backup({},t).$promise.then((function(e){a.resolve(e)})).catch((function(e){a.reject({msg:\"Unable to restore backup from S3\",err:e})})),a.promise},getBackupStatus:function(){var t=e.defer();return n.getBackupStatus().$promise.then((function(e){t.resolve(e)})).catch((function(e){t.reject({msg:\"Unable to retrieve backup status\",err:e})})),t.promise}};return i}])},function(e,t,n){\"use strict\";n.r(t),function(e){var t=n(1),a=n.n(t);function i(t,n,a){var i={customTemplate:function(e){return n.get({id:e}).$promise},customTemplates:async function(a){const i=await n.query({type:a}).$promise;return i.forEach(n=>{n.Note&&(n.Note=e(\"<p>\").html(t(n.Note)).find(\"img\").remove().end().html())}),i},remove:function(e){return n.remove({id:e}).$promise},customTemplateFile:async function(e){try{const{FileContent:t}=await n.file({id:e}).$promise;return t}catch(e){throw{msg:\"Unable to retrieve customTemplate content\",err:e}}},updateCustomTemplate:async function(e,t){return n.update({id:e},t).$promise},createCustomTemplateFromFileContent:async function(e){try{return await n.create({method:\"string\"},e).$promise}catch(e){throw{msg:\"Unable to create the customTemplate\",err:e}}},createCustomTemplateFromFileUpload:async function(e){try{const{data:t}=await a.createCustomTemplate(e);return t}catch(e){throw{msg:\"Unable to create the customTemplate\",err:e}}},createCustomTemplateFromGitRepository:async function(e){try{return await n.create({method:\"repository\"},e).$promise}catch(e){throw{msg:\"Unable to create the customTemplate\",err:e}}}};return i}i.$inject=[\"$sanitize\",\"CustomTemplates\",\"FileUploadService\"],a.a.module(\"portainer.app\").factory(\"CustomTemplateService\",i)}.call(this,n(50))},function(e,t,n){\"use strict\";n.r(t);var a=n(148),i=n(15);function s(e,t){return{checkRateLimits:function(n,s){if(a.default.isLocalEndpoint(n))return e.dockerhubLimits({id:n.Id,registryId:s}).$promise;switch(n.Type){case i.PortainerEndpointTypes.AgentOnDockerEnvironment:case i.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment:return t.limits({endpointId:n.Id,endpointType:\"docker\",registryId:s}).$promise;case i.PortainerEndpointTypes.AgentOnKubernetesEnvironment:case i.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment:return t.limits({endpointId:n.Id,endpointType:\"kubernetes\",registryId:s}).$promise}}}}s.$inject=[\"Endpoints\",\"AgentDockerhub\"],angular.module(\"portainer.app\").factory(\"DockerHubService\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(15);angular.module(\"portainer.app\").factory(\"EndpointService\",[\"$q\",\"Endpoints\",\"FileUploadService\",function(e,t,n){var i={updateSecuritySettings:function(e,n){return t.updateSecuritySettings({id:e},n).$promise},registries:function(e,n){return t.registries({namespace:n,id:e}).$promise},registry:function(e,n){return t.registry({registryId:n,id:e}).$promise},updateRegistryAccess:function(e,n,a){return t.updateRegistryAccess({registryId:n,id:e},a).$promise}};return i.endpoint=function(e){return t.get({id:e}).$promise},i.endpoints=function(e,n,{search:a,types:i,tagIds:s,endpointIds:r,tagsPartialMatch:o}={}){return s&&!s.length?Promise.resolve({value:[],totalCount:0}):t.query({start:e,limit:n,search:a,types:JSON.stringify(i),tagIds:JSON.stringify(s),endpointIds:JSON.stringify(r),tagsPartialMatch:o}).$promise},i.snapshotEndpoints=function(){return t.snapshots({},{}).$promise},i.snapshotEndpoint=function(e){return t.snapshot({id:e},{}).$promise},i.endpointsByGroup=function(e,n,a,i){return t.query({start:e,limit:n,search:a,groupId:i}).$promise},i.updateAccess=function(e,n,a){return t.updateAccess({id:e},{UserAccessPolicies:n,TeamAccessPolicies:a}).$promise},i.deassociateEndpoint=function(e){return t.deassociate({id:e}).$promise},i.updateEndpoint=function(a,i){var s=e.defer();return n.uploadTLSFilesForEndpoint(a,i.TLSCACert,i.TLSCert,i.TLSKey).then((function(){return s.notify({upload:!1}),t.update({id:a},i).$promise})).then((function(e){s.resolve(e)})).catch((function(e){s.notify({upload:!1}),s.reject({msg:\"Unable to update environment\",err:e})})),s.promise},i.deleteEndpoint=function(e){return t.remove({id:e}).$promise},i.createLocalEndpoint=function(t=\"local\",i=\"\",s=\"\",r=1,o=[]){var l=e.defer(),c=i;return\"\"!==c&&(c=0==c.indexOf(\"//./pipe/\")?\"npipe://\"+i:\"unix://\"+i),n.createEndpoint(t,a.PortainerEndpointCreationTypes.LocalDockerEnvironment,c,s,r,o,!1).then((function(e){l.resolve(e.data)})).catch((function(e){l.reject({msg:\"Unable to create environment\",err:e})})),l.promise},i.createRemoteEndpoint=function(t,i,s,r,o,l,c,d,u,p,m,g,h){var f=e.defer(),v=s;return i!==a.PortainerEndpointCreationTypes.EdgeAgentEnvironment&&(v=\"tcp://\"+s),n.createEndpoint(t,i,v,r,o,l,c,d,u,p,m,g,h).then((function(e){f.resolve(e.data)})).catch((function(e){f.reject({msg:\"Unable to create environment\",err:e})})),f.promise},i.createLocalKubernetesEndpoint=function(t=\"local\",i=[]){var s=e.defer();return n.createEndpoint(t,a.PortainerEndpointCreationTypes.LocalKubernetesEnvironment,\"\",\"\",1,i,!0,!0,!0).then((function(e){s.resolve(e.data)})).catch((function(e){s.reject({msg:\"Unable to create environment\",err:e})})),s.promise},i.createAzureEndpoint=function(t,a,i,s,r,o){var l=e.defer();return n.createAzureEndpoint(t,a,i,s,r,o).then((function(e){l.resolve(e.data)})).catch((function(e){l.reject({msg:\"Unable to connect to Azure\",err:e})})),l.promise},i}])},function(e,t,n){\"use strict\";n.r(t);var a=n(232);angular.module(\"portainer.app\").factory(\"GroupService\",[\"$q\",\"EndpointGroups\",function(e,t){var n={group:function(n){var i=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.EndpointGroupModel(e);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve group\",err:e})})),i.promise},groups:function(){return t.query({}).$promise},createGroup:function(e,n){var i=new a.EndpointGroupCreateRequest(e,n);return t.create(i).$promise},updateGroup:function(e,n){var i=new a.EndpointGroupUpdateRequest(e,n);return t.update(i).$promise},updateAccess:function(e,n,a){return t.updateAccess({id:e},{UserAccessPolicies:n,TeamAccessPolicies:a}).$promise},addEndpoint:function(e,n){return t.addEndpoint({id:e,action:\"endpoints/\"+n.Id},n).$promise},removeEndpoint:function(e,n){return t.removeEndpoint({id:e,action:\"endpoints/\"+n}).$promise},deleteGroup:function(e){return t.remove({id:e}).$promise}};return n}])},function(e,t){angular.module(\"portainer.app\").factory(\"LegacyExtensionService\",[\"LegacyExtensions\",function(e){\"use strict\";var t={registerStoridgeExtension:function(t){var n={Type:1,URL:t};return e.register(n).$promise},deregisterStoridgeExtension:function(){return e.deregister({type:1}).$promise}};return t}])},function(e,t,n){\"use strict\";n.r(t);var a=n(654);angular.module(\"portainer.app\").factory(\"MotdService\",[\"$q\",\"Motd\",function(e,t){var n={motd:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new a.MotdViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve information message\",err:e})})),n.promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(85),i=n(16),s=n(46),r=n(7),o=n(104),l=n(74),c=n(30),d=n(207),u=n(168);angular.module(\"portainer.app\").factory(\"RegistryService\",[\"$q\",\"$async\",\"EndpointService\",\"Registries\",\"ImageHelper\",\"FileUploadService\",function(e,t,n,p,m,g){return{registries:function(){var t=e.defer();return p.query().$promise.then((function(e){var n=e.map((function(e){return new d.RegistryViewModel(e)}));t.resolve(n)})).catch((function(e){t.reject({msg:\"Unable to retrieve registries\",err:e})})),t.promise},registry:function(t,n){var a=e.defer();return p.get({id:t,endpointId:n}).$promise.then((function(e){var t=new d.RegistryViewModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:\"Unable to retrieve registry details\",err:e})})),a.promise},encodedCredentials:function(e){var t={registryId:e.Id};return btoa(JSON.stringify(t))},deleteRegistry:function(e){return p.remove({id:e}).$promise},updateRegistry:function(e){return e.URL=Object(o.a)(e.URL,/^https?\\:\\/\\//i,\"\"),e.URL=Object(o.a)(e.URL,/\\/$/,\"\"),p.update({id:e.Id},e).$promise},configureRegistry:function(e,t){return g.configureRegistry(e,t)},createRegistry:function(e){var t=new d.RegistryCreateRequest(e);return p.create(t).$promise},createGitlabRegistries:function(t,n){const a=[];return Object(r.a)(n,e=>{const n=t;n.Name=e.PathWithNamespace,n.Gitlab.ProjectPath=Object(s.a)(e.PathWithNamespace),n.Gitlab.ProjectId=e.Id,n.Password=n.Token;const i=new d.RegistryCreateRequest(n);a.push(p.create(i).$promise)}),e.all(a)},retrievePorRegistryModelFromRepository:function(e,a,i,s){return t(async()=>{try{const t=await n.registries(a,s);return f(e,t,i)}catch(e){throw{msg:\"Unable to retrieve the registry associated to the repository\",err:e}}})},retrievePorRegistryModelFromRepositoryWithRegistries:f,loadRegistriesForDropdown:function(e,a){return t(async()=>{try{const t=await n.registries(e,a);return t.some(e=>e.Type===c.RegistryTypes.DOCKERHUB)||t.push(new u.DockerHubViewModel),t}catch(e){throw{msg:\"Unable to retrieve the registries\",err:e}}})}};function h(e){let t=e.URL;if(e.Type===c.RegistryTypes.GITLAB)t=e.URL+\"/\"+e.Gitlab.ProjectPath;else if(e.Type===c.RegistryTypes.QUAY){const n=e.Quay.UseOrganisation?e.Quay.OrganisationName:e.Username;t=e.URL+\"/\"+n}return t}function f(e,t,n){const s=new l.PorImageRegistryModel,r=function(e,t,n){let a,s,r;for(const o of t){if(o.Id==n)return o;o.Type===c.RegistryTypes.DOCKERHUB&&((e.startsWith(o.Username+\"/\")||e.startsWith(h(o)+\"/\"+o.Username+\"/\"))&&(a=o),r=r||o),Object(i.a)(e,h(o))&&(s=o)}return a||s||r}(e,t,n);if(r){const t=h(r);let n=e.lastIndexOf(t);n=-1===n?0:n+t.length;let i=e.substring(n);Object(a.a)(i,\"/\")&&(i=i.substring(1)),s.Registry=r,s.Image=i}else m.imageContainsURL(e)&&(s.UseRegistry=!1),s.Registry=new u.DockerHubViewModel,s.Image=e;return s}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(5);angular.module(\"portainer.app\").factory(\"ResourceControlService\",[\"$q\",\"ResourceControl\",\"UserService\",\"TeamService\",\"ResourceControlHelper\",function(e,t,n,i,s){const r={};function o(e,n){const a={AdministratorsOnly:n.AdministratorsOnly,Public:n.Public,Users:n.Users,Teams:n.Teams};return t.update({id:e},a).$promise}return r.duplicateResourceControl=function(e,t,n){const a=s.RCViewModelToOwnershipParameters(e,t);return o(n.Id,a)},r.applyResourceControlChange=function(e,n,a,i){const r=s.RCPanelDataToOwnershipParameters(i);return a?o(a.Id,r):function(e,n,a){var i={Type:e,Public:a.Public,AdministratorsOnly:a.AdministratorsOnly,ResourceID:n,Users:a.Users,Teams:a.Teams,SubResourceIds:a.SubResourceIDs};return t.create({},i).$promise}(e,n,r)},r.applyResourceControl=function(e,t,n,a=[]){const i=s.RCFormDataToOwnershipParameters(e,t,a);return o(n.Id,i)},r.retrieveOwnershipDetails=function(t){var a=e.defer();if(!t)return a.resolve({authorizedUsers:[],authorizedTeams:[]}),a.promise;return e.all({users:t.UserAccesses.length>0?n.users(!1):[],teams:t.TeamAccesses.length>0?i.teams():[]}).then((function(e){var n=s.retrieveAuthorizedUsers(t,e.users),i=s.retrieveAuthorizedTeams(t,e.teams);a.resolve({authorizedUsers:n,authorizedTeams:i})})).catch((function(e){a.reject({msg:\"Unable to retrieve user and team information\",err:e})})),a.promise},r.retrieveUserPermissionsOnResource=function(t,i,r){var o=e.defer();if(!r||i)return o.resolve({isPartOfRestrictedUsers:!1,isLeaderOfAnyRestrictedTeams:!1}),o.promise;if(Object(a.a)(r.UserAccesses,{UserId:t}))o.resolve({isPartOfRestrictedUsers:!0,isLeaderOfAnyRestrictedTeams:!1});else{var l=!1;n.userMemberships(t).then((function(e){var t=e;l=s.isLeaderOfAnyRestrictedTeams(t,r),o.resolve({isPartOfRestrictedUsers:!1,isLeaderOfAnyRestrictedTeams:l})})).catch((function(e){o.reject({msg:\"Unable to retrieve user memberships\",err:e})}))}return o.promise},r}])},function(e,t,n){\"use strict\";n.r(t);var a=n(402);angular.module(\"portainer.app\").factory(\"SettingsService\",[\"$q\",\"Settings\",function(e,t){var n={settings:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new a.SettingsViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve application settings\",err:e})})),n.promise},update:function(e){return t.update({},e).$promise},publicSettings:function(){var n=e.defer();return t.publicSettings().$promise.then((function(e){var t=new a.PublicSettingsViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve application settings\",err:e})})),n.promise},checkLDAPConnectivity:function(e){return t.checkLDAPConnectivity({},e).$promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e){return{upload:function(t,n,a){return e.upload({httpEnabled:t,cert:n,key:a}).$promise},get:function(){return e.get().$promise}}}s.$inject=[\"SSL\"],i.a.module(\"portainer.app\").service(\"SSLService\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(827),i=n(21),s=n(174);angular.module(\"portainer.app\").factory(\"StackService\",[\"$q\",\"$async\",\"Stack\",\"FileUploadService\",\"StackHelper\",\"ServiceService\",\"ContainerService\",\"SwarmService\",\"EndpointProvider\",function(e,t,n,r,o,l,c,d,u){var p={updateGit:function(e,t,a,i,s){return n.updateGit({endpointId:t,id:e},{env:a,prune:i,RepositoryReferenceName:s.RefName,RepositoryAuthentication:s.RepositoryAuthentication,RepositoryUsername:s.RepositoryUsername,RepositoryPassword:s.RepositoryPassword}).$promise},updateKubeGit:function(e,t,a,i){return n.updateGit({endpointId:t,id:e},{Namespace:a,RepositoryReferenceName:i.RefName,RepositoryAuthentication:i.RepositoryAuthentication,RepositoryUsername:i.RepositoryUsername,RepositoryPassword:i.RepositoryPassword}).$promise}};async function m(e,t,a){try{await n.create({endpointId:e,method:t,type:3},a).$promise}catch(e){throw{err:e}}}return p.stack=function(t){var a=e.defer();return n.get({id:t}).$promise.then((function(e){var t=new s.StackViewModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:\"Unable to retrieve stack details\",err:e})})),a.promise},p.getStackFile=function(t){var a=e.defer();return n.getStackFile({id:t}).$promise.then((function(e){a.resolve(e.StackFileContent)})).catch((function(e){a.reject({msg:\"Unable to retrieve stack content\",err:e})})),a.promise},p.migrateSwarmStack=function(t,a,i){var s=e.defer();return u.setEndpointID(a),d.swarm().then((function(e){var r=e;if(r.Id!==t.SwarmId)return n.migrate({id:t.Id,endpointId:t.EndpointId},{EndpointID:a,SwarmID:r.Id,Name:i}).$promise;s.reject({msg:\"Target environment is located in the same Swarm cluster as the current environment\",err:null})})).then((function(){s.resolve()})).catch((function(e){s.reject({msg:\"Unable to migrate stack\",err:e})})).finally((function(){u.setEndpointID(t.EndpointId)})),s.promise},p.migrateComposeStack=function(t,a,i){var s=e.defer();return u.setEndpointID(a),n.migrate({id:t.Id,endpointId:t.EndpointId},{EndpointID:a,Name:i}).$promise.then((function(){s.resolve()})).catch((function(e){u.setEndpointID(t.EndpointId),s.reject({msg:\"Unable to migrate stack\",err:e})})),s.promise},p.stacks=function(t,n,a,i=!1){var s=e.defer(),r=[];return t&&r.push(p.composeStacks(a,!0,{EndpointID:a,IncludeOrphanedStacks:i})),n&&r.push(p.swarmStacks(a,!0,{IncludeOrphanedStacks:i})),e.all(r).then((function(e){var t=[];e[0]&&(t=t.concat(e[0])),e[1]&&(t=t.concat(e[1])),s.resolve(t)})).catch((function(e){s.reject({msg:\"Unable to retrieve stacks\",err:e})})),s.promise},p.externalSwarmStacks=function(){var t=e.defer();return l.services().then((function(e){t.resolve(o.getExternalStacksFromServices(e))})).catch((function(e){t.reject({msg:\"Unable to retrieve external stacks\",err:e})})),t.promise},p.externalComposeStacks=function(){var t=e.defer();return c.containers(1).then((function(e){t.resolve(o.getExternalStacksFromContainers(e))})).catch((function(e){t.reject({msg:\"Unable to retrieve external stacks\",err:e})})),t.promise},p.unionStacks=function(e,t){e.forEach(e=>{t.forEach(t=>{e.Orphaned&&e.Name==t.Name&&(e.OrphanedRunning=!0)})});return Object(a.a)(e,t,(function(e,t){return e.Name===t.Name}))},p.composeStacks=function(t,a,i){var r=e.defer();return e.all({stacks:n.query({filters:i}).$promise,externalStacks:a?p.externalComposeStacks():[]}).then((function(e){var n=e.stacks.map((function(e){return e.EndpointId==t?new s.StackViewModel(e):new s.OrphanedStackViewModel(e)})),a=e.externalStacks;const i=p.unionStacks(n,a);r.resolve(i)})).catch((function(e){r.reject({msg:\"Unable to retrieve stacks\",err:e})})),r.promise},p.swarmStacks=function(t,a,i={}){var r=e.defer();return d.swarm().then((function(t){return i={SwarmID:t.Id,...i},e.all({stacks:n.query({filters:i}).$promise,externalStacks:a?p.externalSwarmStacks():[]})})).then((function(e){var n=e.stacks.map((function(e){return e.EndpointId==t?new s.StackViewModel(e):new s.OrphanedStackViewModel(e)})),a=e.externalStacks;const i=p.unionStacks(n,a);r.resolve(i)})).catch((function(e){r.reject({msg:\"Unable to retrieve stacks\",err:e})})),r.promise},p.remove=function(t,a,i){var s=e.defer();return n.remove({id:t.Id?t.Id:t.Name,external:a,endpointId:i}).$promise.then((function(){s.resolve()})).catch((function(e){s.reject({msg:\"Unable to remove the stack\",err:e})})),s.promise},p.associate=function(t,a,i){var s=e.defer();return 1==t.Type?d.swarm().then((function(e){const s=e;return n.associate({id:t.Id,endpointId:a,swarmId:s.Id,orphanedRunning:i}).$promise})).then((function(e){s.resolve(e)})).catch((function(e){s.reject({msg:\"Unable to associate the stack\",err:e})})):n.associate({id:t.Id,endpointId:a,orphanedRunning:i}).$promise.then((function(e){s.resolve(e)})).catch((function(e){s.reject({msg:\"Unable to associate the stack\",err:e})})),s.promise},p.updateStack=function(e,t,a,i){return n.update({endpointId:e.EndpointId},{id:e.Id,StackFileContent:t,Env:a,Prune:i}).$promise},p.updateKubeStack=function(e,t,a){let s={};if(t)s={StackFileContent:t};else{const e={};a.AutoUpdate&&a.AutoUpdate.RepositoryAutomaticUpdates&&(a.AutoUpdate.RepositoryMechanism===i.RepositoryMechanismTypes.INTERVAL?e.Interval=a.AutoUpdate.RepositoryFetchInterval:a.AutoUpdate.RepositoryMechanism===i.RepositoryMechanismTypes.WEBHOOK&&(e.Webhook=a.AutoUpdate.RepositoryWebhookURL.split(\"/\").reverse()[0])),s={AutoUpdate:e,RepositoryReferenceName:a.RefName,RepositoryAuthentication:a.RepositoryAuthentication,RepositoryUsername:a.RepositoryUsername,RepositoryPassword:a.RepositoryPassword}}return n.update({id:e.Id,endpointId:e.EndpointId},s).$promise},p.createComposeStackFromFileUpload=function(e,t,n,a){return r.createComposeStack(e,t,n,a)},p.createSwarmStackFromFileUpload=function(t,n,a,i){var s=e.defer();return d.swarm().then((function(e){var s=e;return r.createSwarmStack(t,s.Id,n,a,i)})).then((function(e){s.resolve(e.data)})).catch((function(e){s.reject({msg:\"Unable to create the stack\",err:e})})),s.promise},p.createComposeStackFromFileContent=function(e,t,a,i){var s={Name:e,StackFileContent:t,Env:a};return n.create({method:\"string\",type:2,endpointId:i},s).$promise},p.createSwarmStackFromFileContent=function(t,a,i,s){var r=e.defer();return d.swarm().then((function(e){var r={Name:t,SwarmID:e.Id,StackFileContent:a,Env:i};return n.create({method:\"string\",type:1,endpointId:s},r).$promise})).then((function(e){r.resolve(e)})).catch((function(e){r.reject({msg:\"Unable to create the stack\",err:e})})),r.promise},p.createComposeStackFromGitRepository=function(e,t,a,i){var s={Name:e,RepositoryURL:t.RepositoryURL,RepositoryReferenceName:t.RepositoryReferenceName,ComposeFile:t.ComposeFilePathInRepository,AdditionalFiles:t.AdditionalFiles,RepositoryAuthentication:t.RepositoryAuthentication,RepositoryUsername:t.RepositoryUsername,RepositoryPassword:t.RepositoryPassword,Env:a};return t.AutoUpdate&&(s.AutoUpdate=t.AutoUpdate),n.create({method:\"repository\",type:2,endpointId:i},s).$promise},p.createSwarmStackFromGitRepository=function(t,a,i,s){var r=e.defer();return d.swarm().then((function(e){var r={Name:t,SwarmID:e.Id,RepositoryURL:a.RepositoryURL,RepositoryReferenceName:a.RepositoryReferenceName,ComposeFile:a.ComposeFilePathInRepository,AdditionalFiles:a.AdditionalFiles,RepositoryAuthentication:a.RepositoryAuthentication,RepositoryUsername:a.RepositoryUsername,RepositoryPassword:a.RepositoryPassword,Env:i};return a.AutoUpdate&&(r.AutoUpdate=a.AutoUpdate),n.create({method:\"repository\",type:1,endpointId:s},r).$promise})).then((function(e){r.resolve(e)})).catch((function(e){r.reject({msg:\"Unable to create the stack\",err:e})})),r.promise},p.duplicateStack=function(e,t,n,a,i){return(1===i?p.createSwarmStackFromFileContent:p.createComposeStackFromFileContent)(e,t,n,a)},p.kubernetesDeploy=function(e,n,a){return t(m,e,n,a)},p.start=function(e){return n.start({id:e}).$promise},p.stop=function(e){return n.stop({id:e}).$promise},p.updateGitStackSettings=function(e,t,a,s){const r={};return s.AutoUpdate.RepositoryAutomaticUpdates&&(s.AutoUpdate.RepositoryMechanism===i.RepositoryMechanismTypes.INTERVAL?r.Interval=s.AutoUpdate.RepositoryFetchInterval:s.AutoUpdate.RepositoryMechanism===i.RepositoryMechanismTypes.WEBHOOK&&(r.Webhook=s.AutoUpdate.RepositoryWebhookURL.split(\"/\").reverse()[0])),n.updateGitStackSettings({endpointId:t,id:e},{AutoUpdate:r,Env:a,RepositoryReferenceName:s.RefName,RepositoryAuthentication:s.RepositoryAuthentication,RepositoryUsername:s.RepositoryUsername,RepositoryPassword:s.RepositoryPassword}).$promise},p}])},function(e,t,n){\"use strict\";n.r(t);var a=n(403);angular.module(\"portainer.app\").factory(\"StatusService\",[\"$q\",\"Status\",function(e,t){var n={status:function(){var n=e.defer();return t.get().$promise.then((function(e){var t=new a.StatusViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve application status\",err:e})})),n.promise},version:function(){var n=e.defer();return t.version().$promise.then((function(e){var t=new a.StatusVersionViewModel(e);n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve application version info\",err:e})})),n.promise}};return n}])},function(e,t){angular.module(\"portainer.app\").factory(\"SupportService\",[\"$q\",\"Support\",function(e,t){\"use strict\";var n={supportProducts:function(){var n=e.defer();return t.get().$promise.then((function(e){n.resolve(e)})).catch((function(e){n.reject({msg:\"Unable to retrieve support options\",err:e})})),n.promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(404);angular.module(\"portainer.app\").factory(\"TagService\",[\"$q\",\"$async\",\"Tags\",function(e,t,n){var i={};async function s(e){var t={Name:e};try{const e=await n.create({},t).$promise;return new a.TagViewModel(e)}catch(e){throw{msg:\"Unable to create tag\",err:e}}}return i.tags=function(){var t=e.defer();return n.query().$promise.then((function(e){var n=e.map((function(e){return new a.TagViewModel(e)}));t.resolve(n)})).catch((function(e){t.reject({msg:\"Unable to retrieve tags\",err:e})})),t.promise},i.tagNames=function(){var t=e.defer();return n.query().$promise.then((function(e){var n=e.map((function(e){return e.Name}));t.resolve(n)})).catch((function(e){t.reject({msg:\"Unable to retrieve tags\",err:e})})),t.promise},i.createTag=function(e){return t(s,e)},i.deleteTag=function(e){return n.remove({id:e}).$promise},i}])},function(e,t,n){\"use strict\";n.r(t);var a=n(221);angular.module(\"portainer.app\").factory(\"TeamMembershipService\",[\"$q\",\"TeamMemberships\",function(e,t){var n={memberships:function(){var n=e.defer();return t.query().$promise.then((function(e){var t=e.map((function(e){return new a.TeamMembershipModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve team memberships\",err:e})})),n.promise},createMembership:function(e,n,a){var i={UserID:e,TeamID:n,Role:a};return t.create({},i).$promise},deleteMembership:function(e){return t.remove({id:e}).$promise},updateMembership:function(e,n,a,i){var s={UserID:n,TeamID:a,Role:i};return t.update({id:e},s).$promise}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(405),i=n(221);angular.module(\"portainer.app\").factory(\"TeamService\",[\"$q\",\"Teams\",\"TeamMembershipService\",function(e,t,n){var s={teams:function(){var n=e.defer();return t.query().$promise.then((function(e){var t=e.map((function(e){return new a.TeamViewModel(e)}));n.resolve(t)})).catch((function(e){n.reject({msg:\"Unable to retrieve teams\",err:e})})),n.promise},team:function(n){var i=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new a.TeamViewModel(e);i.resolve(t)})).catch((function(e){i.reject({msg:\"Unable to retrieve team details\",err:e})})),i.promise},createTeam:function(a,i){var s=e.defer(),r={Name:a};return t.create({},r).$promise.then((function(t){var a=t.Id,r=[];angular.forEach(i,(function(e){r.push(n.createMembership(e,a,1))})),e.all(r).then((function(){s.resolve()}))})).catch((function(e){s.reject({msg:\"Unable to create team\",err:e})})),s.promise},deleteTeam:function(e){return t.remove({id:e}).$promise},userMemberships:function(n){var a=e.defer();return t.queryMemberships({id:n}).$promise.then((function(e){var t=e.map((function(e){return new i.TeamMembershipModel(e)}));a.resolve(t)})).catch((function(e){a.reject({msg:\"Unable to retrieve user memberships for the team\",err:e})})),a.promise}};return s}])},function(e,t,n){\"use strict\";n.r(t);var a=n(168),i=n(656);function s(e,t,n,s,r,o,l){var c={};return c.templates=function(){const n=e.defer(),r=s.currentEndpoint().Id;return e.all({templates:t.query().$promise,registries:l.registries(r)}).then((function({templates:e,registries:t}){const s=e.version;n.resolve(e.templates.map(e=>{try{const n=new i.TemplateViewModel(e,s),r=n.RegistryModel.Registry.URL,o=r?t.find(e=>e.URL===r):new a.DockerHubViewModel;return n.RegistryModel.Registry=o,n}catch(e){n.reject({msg:\"Unable to retrieve templates\",err:e})}}))})).catch((function(e){n.reject({msg:\"Unable to retrieve templates\",err:e})})),n.promise},c.templateFile=function(e,n){return t.file({repositoryUrl:e,composeFilePathInRepository:n}).$promise},c.createTemplateConfiguration=function(e,t,a){var i=r.createImageConfigForContainer(e.RegistryModel),s=function(e,t,a){var i=n.getDefaultContainerConfiguration();i.HostConfig.NetworkMode=a.Name,i.HostConfig.Privileged=e.Privileged,i.HostConfig.RestartPolicy={Name:e.RestartPolicy},i.HostConfig.ExtraHosts=e.Hosts?e.Hosts:[],i.name=t,i.Hostname=e.Hostname,i.Env=n.EnvToStringArray(e.Env),i.Cmd=o.commandStringToArray(e.Command);var s=n.portArrayToPortConfiguration(e.Ports);i.HostConfig.PortBindings=s.bindings,i.ExposedPorts=s.exposedPorts;var r=n.getConsoleConfiguration(e.Interactive);return i.OpenStdin=r.openStdin,i.Tty=r.tty,i.Labels=n.updateContainerConfigurationWithLabels(e.Labels),i}(e,t,a);return s.Image=i.fromImage,s},c.updateContainerConfigurationWithVolumes=function(e,t,a){var i=t.Volumes;n.createVolumeBindings(i,a),i.forEach((function(t){t.binding&&(e.Volumes[t.container]={},e.HostConfig.Binds.push(t.binding))}))},c}s.$inject=[\"$q\",\"Templates\",\"TemplateHelper\",\"EndpointProvider\",\"ImageHelper\",\"ContainerHelper\",\"EndpointService\"],angular.module(\"portainer.app\").factory(\"TemplateService\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(5),i=n(309),s=n(221);angular.module(\"portainer.app\").factory(\"UserService\",[\"$q\",\"Users\",\"UserHelper\",\"TeamService\",\"TeamMembershipService\",function(e,t,n,r,o){var l={users:function(a){var s=e.defer();return t.query({}).$promise.then((function(e){var t=e.map((function(e){return new i.UserViewModel(e)}));a||(t=n.filterNonAdministratorUsers(t)),s.resolve(t)})).catch((function(e){s.reject({msg:\"Unable to retrieve users\",err:e})})),s.promise},user:function(n){var a=e.defer();return t.get({id:n}).$promise.then((function(e){var t=new i.UserViewModel(e);a.resolve(t)})).catch((function(e){a.reject({msg:\"Unable to retrieve user details\",err:e})})),a.promise},createUser:function(n,a,i,s){var r=e.defer(),l={username:n,password:a,role:i};return t.create({},l).$promise.then((function(t){var n=t.Id,a=[];angular.forEach(s,(function(e){a.push(o.createMembership(n,e,2))})),e.all(a).then((function(){r.resolve()}))})).catch((function(e){r.reject({msg:\"Unable to create user\",err:e})})),r.promise},deleteUser:function(e){return t.remove({id:e}).$promise},updateUser:function(e,{password:n,role:a,username:i}){return t.update({id:e},{password:n,role:a,username:i}).$promise},updateUserPassword:function(e,n,a){var i={Password:n,NewPassword:a};return t.updatePassword({id:e},i).$promise},updateUserTheme:function(e,n){return t.updateTheme({id:e},{userTheme:n}).$promise},userMemberships:function(n){var a=e.defer();return t.queryMemberships({id:n}).$promise.then((function(e){var t=e.map((function(e){return new s.TeamMembershipModel(e)}));a.resolve(t)})).catch((function(e){a.reject({msg:\"Unable to retrieve user memberships\",err:e})})),a.promise},userLeadingTeams:function(t){var n=e.defer();return e.all({teams:r.teams(),memberships:l.userMemberships(t)}).then((function(e){var t=e.memberships,i=e.teams.filter((function(e){var n=Object(a.a)(t,{TeamId:e.Id});if(n&&1===n.Role)return e}));n.resolve(i)})).catch((function(e){n.reject({msg:\"Unable to retrieve user teams\",err:e})})),n.promise},createAccessToken:function(n,a){const i=e.defer(),s={description:a};return t.createAccessToken({id:n},s).$promise.then(e=>{i.resolve(e)}).catch((function(e){i.reject({msg:\"Unable to create user\",err:e})})),i.promise},getAccessTokens:function(n){var a=e.defer();return t.getAccessTokens({id:n}).$promise.then((function(e){var t=e.map((function(e){return new i.UserTokenModel(e)}));a.resolve(t)})).catch((function(e){a.reject({msg:\"Unable to retrieve user tokens\",err:e})})),a.promise},deleteAccessToken:function(e,n){return t.deleteAccessToken({id:e,tokenId:n}).$promise},initAdministrator:function(e,n){return t.initAdminUser({Username:e,Password:n}).$promise},administratorExists:function(){var n=e.defer();return t.checkAdminUser({}).$promise.then((function(){n.resolve(!0)})).catch((function(e){404===e.status&&n.resolve(!1),n.reject({msg:\"Unable to verify administrator account existence\",err:e})})),n.promise}};return l}])},function(e,t,n){\"use strict\";n.r(t);var a=n(657);angular.module(\"portainer.app\").factory(\"WebhookService\",[\"$q\",\"Webhooks\",function(e,t){var n={webhooks:function(n,i){var s=e.defer(),r={ResourceID:n,EndpointID:i};return t.query({filters:r}).$promise.then((function(e){var t=e.map((function(e){return new a.WebhookViewModel(e)}));s.resolve(t)})).catch((function(e){s.reject({msg:\"Unable to retrieve webhooks\",err:e})})),s.promise},createServiceWebhook:function(e,n,a){return t.create({ResourceID:e,EndpointID:n,WebhookType:1,registryID:a}).$promise},updateServiceWebhook:function(e,n){return t.update({id:e,registryID:n}).$promise},deleteWebhook:function(e){return t.remove({id:e}).$promise}};return n}])},function(e,t){angular.module(\"portainer\").factory(\"$async\",[\"$q\",function(e){return function(t,...n){const a=e.defer();return function(n){const a=e.defer();return t(...n).then(a.resolve).catch(a.reject),a.promise}(n).then(a.resolve).catch(a.reject),a.promise}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(260);angular.module(\"portainer.app\").factory(\"Authentication\",[\"$async\",\"$state\",\"Auth\",\"OAuth\",\"jwtHelper\",\"LocalStorage\",\"StateManager\",\"EndpointProvider\",\"UserService\",\"ThemeManager\",function(e,t,n,i,s,r,o,l,c,d){var u={},p={};async function m(){try{const e=r.getJWT();return e&&await v(e),!!e}catch(e){return!1}}async function g(e){e&&await n.logout().$promise,Object(a.clear)(),o.clean(),l.clean(),r.cleanAuthData(),r.storeLoginStateUUID(\"\")}async function h(e){const t=await i.validate({code:e}).$promise;await v(t.jwt)}async function f(e,t){const a=await n.login({username:e,password:t}).$promise;await v(a.jwt)}async function v(e){r.storeJWT(e);var t=s.decodeToken(e);p.username=t.username,p.ID=t.id,p.role=t.role,await async function(){const e=(await c.user(p.ID)).UserTheme;\"auto\"!==e&&e?d.setTheme(e):d.autoTheme()}()}return u.init=function(){return e(m)},u.OAuthLogin=function(t){return e(h,t)},u.login=function(t,n){return e(f,t,n)},u.logout=function(t){return e(g,t)},u.isAuthenticated=function(){var e=r.getJWT();return e&&!s.isTokenExpired(e)},u.getUserDetails=function(){return p},u.isAdmin=function(){if(1===p.role)return!0;return!1},u}])},function(e,t,n){\"use strict\";n.r(t);var a=n(175),i=n.n(a),s=n(172),r=n.n(s);angular.module(\"portainer.app\").factory(\"ChartService\",[function(){var e={};function t(e,t,n,a){return{animation:{duration:0},responsiveAnimationDuration:0,responsive:!0,tooltips:{mode:\"index\",intersect:!1,position:e,callbacks:{label:function(e,n){var a=n.datasets[e.datasetIndex].label;return t(a,e.yLabel)}}},layout:{padding:{left:15}},hover:{animationDuration:0},scales:{yAxes:[{stacked:a,ticks:{beginAtZero:!0,callback:n,precision:0}}]}}}function n(e,t){e.data.datasets[0].data.length>t&&(e.data.labels.pop(),e.data.datasets[0].data.pop(),e.data.datasets[1].data.pop())}function a(e,t){return e+\": \"+(t>5?r()(t,{base:10,round:1}):t.toFixed(1)+\"B\")}function s(e){return e>5?r()(e,{base:10,round:1}):e.toFixed(1)+\"B\"}function o(e){return e>1?Math.round(e)+\"%\":e.toFixed(1)+\"%\"}function l(e,t){return e+\": \"+(t>1?Math.round(t):t.toFixed(1))+\"%\"}return e.CreateCPUChart=function(e){return function(e,n,a,s){return new i.a(e,{type:\"line\",data:{labels:[],datasets:[{label:n,data:[],fill:!0,backgroundColor:\"rgba(151,187,205,0.4)\",borderColor:\"rgba(151,187,205,0.6)\",pointBackgroundColor:\"rgba(151,187,205,1)\",pointBorderColor:\"rgba(151,187,205,1)\",pointRadius:2,borderWidth:2}]},options:t(\"nearest\",a,s)})}(e,\"CPU\",l,o)},e.CreateIOChart=function(e){return function(e,n,a){return new i.a(e,{type:\"line\",data:{labels:[],datasets:[{label:\"Read (Aggregate)\",data:[],fill:!0,backgroundColor:\"rgba(151,187,205,0.4)\",borderColor:\"rgba(151,187,205,0.6)\",pointBackgroundColor:\"rgba(151,187,205,1)\",pointBorderColor:\"rgba(151,187,205,1)\",pointRadius:2,borderWidth:2},{label:\"Write (Aggregate)\",data:[],fill:!0,backgroundColor:\"rgba(255,180,174,0.4)\",borderColor:\"rgba(255,180,174,0.6)\",pointBackgroundColor:\"rgba(255,180,174,1)\",pointBorderColor:\"rgba(255,180,174,1)\",pointRadius:2,borderWidth:2}]},options:t(\"nearest\",n,a,!0)})}(e,a,s)},e.CreateMemoryChart=function(e){return function(e,n,a){return new i.a(e,{type:\"line\",data:{labels:[],datasets:[{label:\"Memory\",data:[],fill:!0,backgroundColor:\"rgba(151,187,205,0.4)\",borderColor:\"rgba(151,187,205,0.6)\",pointBackgroundColor:\"rgba(151,187,205,1)\",pointBorderColor:\"rgba(151,187,205,1)\",pointRadius:2,borderWidth:2},{label:\"Cache\",data:[],fill:!0,backgroundColor:\"rgba(255,180,174,0.4)\",borderColor:\"rgba(255,180,174,0.6)\",pointBackgroundColor:\"rgba(255,180,174,1)\",pointBorderColor:\"rgba(255,180,174,1)\",pointRadius:2,borderWidth:2}]},options:t(\"nearest\",n,a,!0)})}(e,a,s)},e.CreateNetworkChart=function(e){return new i.a(e,{type:\"line\",data:{labels:[],datasets:[{label:\"RX on eth0\",data:[],fill:!1,backgroundColor:\"rgba(151,187,205,0.4)\",borderColor:\"rgba(151,187,205,0.6)\",pointBackgroundColor:\"rgba(151,187,205,1)\",pointBorderColor:\"rgba(151,187,205,1)\",pointRadius:2,borderWidth:2},{label:\"TX on eth0\",data:[],fill:!1,backgroundColor:\"rgba(255,180,174,0.4)\",borderColor:\"rgba(255,180,174,0.6)\",pointBackgroundColor:\"rgba(255,180,174,1)\",pointBorderColor:\"rgba(255,180,174,1)\",pointRadius:2,borderWidth:2}]},options:t(\"average\",a,s)})},e.UpdateMemoryChart=function(e,t,a,i){i.data.labels.push(e),i.data.datasets[0].data.push(t),a?i.data.datasets[1].data.push(a):i.data.datasets.splice(1,1),n(i),i.update(0)},e.UpdateCPUChart=function(e,t,n){n.data.labels.push(e),n.data.datasets[0].data.push(t),n.data.datasets[0].data.length>600&&(n.data.labels.pop(),n.data.datasets[0].data.pop()),n.update(0)},e.UpdateIOChart=function(e,t,a,i){i.data.labels.push(e),i.data.datasets[0].data.push(t),i.data.datasets[1].data.push(a),n(i),i.update(0)},e.UpdateNetworkChart=function(e,t,a,i){i.data.labels.push(e),i.data.datasets[0].data.push(t),i.data.datasets[1].data.push(a),n(i),i.update(0)},e}])},function(e,t,n){\"use strict\";n.r(t);var a=n(828),i=n(240),s=n.n(i);n(1954),n(1955),n(1956),n(1978);angular.module(\"portainer.app\").factory(\"CodeMirrorService\",(function(){var e={},t={lineNumbers:!0},n={mode:\"text/x-yaml\",gutters:[\"CodeMirror-lint-markers\"],lint:!0,extraKeys:{Tab:function(e){var t=Array(e.getOption(\"indentUnit\")+1).join(\" \");e.replaceSelection(t)}}};return e.applyCodeMirrorOnElement=function(e,i,r){var o=angular.copy(t);i&&Object(a.a)(o,n),r&&(o.readOnly=!0);var l=s.a.fromTextArea(e,o);return l.setSize(\"100%\",500),l},e}))},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(260);r.$inject=[\"LocalStorage\"],i.a.module(\"portainer.app\").factory(\"DatatableService\",r);function r(e){return{setDataTableSettings:function(t,n){e.storeDataTableSettings(t,n)},getDataTableSettings:function(t){return e.getDataTableSettings(t)},setDataTableTextFilters:function(e,t){s.save(\"datatable_text_filter_\"+e,t)},getDataTableTextFilters:function(e){return s.get(\"datatable_text_filter_\"+e)},setDataTableFilters:function(t,n){e.storeDataTableFilters(t,n)},getDataTableFilters:function(t){return e.getDataTableFilters(t)},getDataTableOrder:function(t){return e.getDataTableOrder(t)},setDataTableOrder:function(t,n,a){var i={orderBy:n,reverse:a};e.storeDataTableOrder(t,i)},setDataTableExpandedItems:function(t,n){e.storeDataTableExpandedItems(t,n)},setColumnVisibilitySettings:function(t,n){e.storeColumnVisibilitySettings(t,n)},getDataTableExpandedItems:function(t){return e.getDataTableExpandedItems(t)},setDataTableSelectedItems:function(t,n){e.storeDataTableSelectedItems(t,n)},getDataTableSelectedItems:function(t){return e.getDataTableSelectedItems(t)},getColumnVisibilitySettings:function(t){return e.getColumnVisibilitySettings(t)}}}},function(e,t,n){\"use strict\";n.r(t);var a=n(5);angular.module(\"portainer.app\").factory(\"EndpointProvider\",[\"LocalStorage\",\"$uiRouterGlobals\",function(e,t){var n={},i={};return n.initialize=function(){var t=e.getEndpointID(),n=e.getEndpointPublicURL(),a=e.getOfflineMode();t&&(i.ID=t),n&&(i.PublicURL=n),a&&(i.OfflineMode=a)},n.clean=function(){e.cleanEndpointData(),i={}},n.endpoint=function(){return i},n.endpointID=function(){return void 0===i.ID&&(i.ID=e.getEndpointID()),null===i.ID||void 0===i.ID?n.getUrlEndpointID():i.ID},n.getUrlEndpointID=()=>t.params.id,n.setEndpointID=function(t){i.ID=t,e.storeEndpointID(t)},n.endpointPublicURL=function(){return void 0===i.PublicURL&&(i.PublicURL=e.getEndpointPublicURL()),i.PublicURL},n.setEndpointPublicURL=function(t){i.PublicURL=t,e.storeEndpointPublicURL(t)},n.endpoints=function(){return e.getEndpoints()},n.setEndpoints=function(t){e.storeEndpoints(t)},n.offlineMode=function(){return i.OfflineMode},n.setOfflineMode=function(t){i.OfflineMode=t,e.storeOfflineMode(t)},n.setOfflineModeFromStatus=function(t){var n=1!==t;i.OfflineMode=n,e.storeOfflineMode(n)},n.currentEndpoint=function(){var t=i.ID,n=e.getEndpoints();return Object(a.a)(n,(function(e){return e.Id===t}))},n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(15),i=n(37);angular.module(\"portainer.app\").factory(\"FileUploadService\",[\"$q\",\"Upload\",\"EndpointProvider\",function(e,t,n){var s={};function r(e,n){return t.upload({url:e,data:{file:n}})}return s.buildImage=function(e,a,s){var r=n.endpointID();return t.http({url:\"api/endpoints/\"+r+\"/docker/build\",headers:{\"Content-Type\":a.type},data:a,params:{t:e,dockerfile:s},ignoreLoadingBar:!0,transformResponse:function(e){return Object(i.jsonObjectsToArrayHandler)(e)}})},s.loadImages=function(e){var a=n.endpointID();return t.http({url:\"api/endpoints/\"+a+\"/docker/images/load\",headers:{\"Content-Type\":e.type},data:e,ignoreLoadingBar:!0,transformResponse:i.genericHandler})},s.createSchedule=function(e){return t.upload({url:\"api/schedules?method=file\",data:{file:e.File,Name:e.Name,CronExpression:e.CronExpression,Image:e.Image,Endpoints:t.json(e.Endpoints),RetryCount:e.RetryCount,RetryInterval:e.RetryInterval}})},s.uploadBackup=function(e,n){return t.upload({url:\"api/restore\",data:{file:e,password:n}})},s.createSwarmStack=function(e,n,a,i,s){return t.upload({url:\"api/stacks?method=file&type=1&endpointId=\"+s,data:{file:a,Name:e,SwarmID:n,Env:t.json(i)},ignoreLoadingBar:!0})},s.createComposeStack=function(e,n,a,i){return t.upload({url:\"api/stacks?method=file&type=2&endpointId=\"+i,data:{file:n,Name:e,Env:t.json(a)},ignoreLoadingBar:!0})},s.createEdgeStack=function({EdgeGroups:e,...n},a){return t.upload({url:\"api/edge_stacks?method=file\",data:{file:a,EdgeGroups:t.json(e),...n},ignoreLoadingBar:!0})},s.createCustomTemplate=function(e){return t.upload({url:\"api/custom_templates?method=file\",data:e,ignoreLoadingBar:!0})},s.configureRegistry=function(e,n){return t.upload({url:\"api/registries/\"+e+\"/configure\",data:n})},s.createEndpoint=function(e,n,a,i,s,r,o,l,c,d,u,p,m){return t.upload({url:\"api/endpoints\",data:{Name:e,EndpointCreationType:n,URL:a,PublicURL:i,GroupID:s,TagIds:t.json(r),TLS:o,TLSSkipVerify:l,TLSSkipClientVerify:c,TLSCACertFile:d,TLSCertFile:u,TLSKeyFile:p,CheckinInterval:m},ignoreLoadingBar:!0})},s.createAzureEndpoint=function(e,n,i,s,r,o){return t.upload({url:\"api/endpoints\",data:{Name:e,EndpointCreationType:a.PortainerEndpointCreationTypes.AzureEnvironment,GroupID:r,TagIds:t.json(o),AzureApplicationID:n,AzureTenantID:i,AzureAuthenticationKey:s},ignoreLoadingBar:!0})},s.uploadLDAPTLSFiles=function(t,n,a){var i=[];return t&&i.push(r(\"api/upload/tls/ca?folder=ldap\",t)),n&&i.push(r(\"api/upload/tls/cert?folder=ldap\",n)),a&&i.push(r(\"api/upload/tls/key?folder=ldap\",a)),e.all(i)},s.uploadTLSFilesForEndpoint=function(t,n,a,i){var s=[];return n&&s.push(r(\"api/upload/tls/ca?folder=\"+t,n)),a&&s.push(r(\"api/upload/tls/cert?folder=\"+t,a)),i&&s.push(r(\"api/upload/tls/key?folder=\"+t,i)),e.all(s)},s}])},function(e,t,n){\"use strict\";n.r(t);var a=n(29);angular.module(\"portainer.app\").factory(\"FormValidator\",[function(){var e={validateAccessControl:function(e,t){return e.AccessControlEnabled?t&&e.Ownership===a.ResourceControlOwnership.RESTRICTED&&0===e.AuthorizedUsers.length&&0===e.AuthorizedTeams.length?\"You must specify at least one team or user.\":t||e.Ownership!==a.ResourceControlOwnership.RESTRICTED||0!==e.AuthorizedTeams.length?\"\":\"You must specify at least a team.\":\"\"}};return e}])},function(e,t){angular.module(\"portainer.app\").factory(\"HttpRequestHelper\",[function(){\"use strict\";var e={},t={agentTargetQueue:[],agentManagerOperation:!1};return e.registryAuthenticationHeader=function(){return t.registryAuthentication},e.setRegistryAuthenticationHeader=function(e){t.registryAuthentication=e},e.portainerAgentTargetHeader=function(){return 0===t.agentTargetQueue.length?t.agentTargetLastValue:(1===t.agentTargetQueue.length&&(t.agentTargetLastValue=t.agentTargetQueue[0]),t.agentTargetQueue.shift())},e.setPortainerAgentTargetHeader=function(e){e&&t.agentTargetQueue.push(e)},e.setPortainerAgentManagerOperation=function(e){t.agentManagerOperation=e},e.portainerAgentManagerOperation=function(){return t.agentManagerOperation},e.resetAgentHeaders=function(){t.agentTargetQueue=[],delete t.agentTargetLastValue,t.agentManagerOperation=!1},e}])},function(e,t,n){\"use strict\";n.r(t);var a=n(16);angular.module(\"portainer.app\").factory(\"LegacyExtensionManager\",[\"$q\",\"PluginService\",\"SystemService\",\"NodeService\",\"LegacyExtensionService\",function(e,t,n,i,s){var r={};function o(){var n=e.defer();return t.volumePlugins().then((function(t){var n=t;return Object(a.a)(n,\"cio:latest\")?function(){var t=e.defer();return i.getActiveManager().then((function(e){var t=\"tcp://\"+e.Addr+\":8282\";return s.registerStoridgeExtension(t)})).then((function(e){t.resolve(e)})).catch((function(e){t.reject({msg:\"An error occured during Storidge extension initialization\",err:e})})),t.promise}():s.deregisterStoridgeExtension()})).then((function(e){n.resolve(e)})).catch((function(e){n.reject({msg:\"An error occured during Storidge extension check\",err:e})})),n.promise}return r.initEndpointExtensions=function(t){var a=e.defer();return 1!==t.Status?(a.resolve([]),a.promise):(n.version().then((function(t){var n=parseFloat(t.ApiVersion);return e.all([n>=1.25?o():{}])})).then((function(e){var t=e;a.resolve(t)})).catch((function(e){a.reject({msg:\"Unable to connect to the Docker environment\",err:e})})),a.promise)},r}])},function(e,t){angular.module(\"portainer.app\").factory(\"LocalStorage\",[\"localStorageService\",function(e){return{storeEndpointID:function(t){e.set(\"ENDPOINT_ID\",t)},getEndpointID:function(){return e.get(\"ENDPOINT_ID\")},storeEndpointPublicURL:function(t){e.set(\"ENDPOINT_PUBLIC_URL\",t)},getEndpointPublicURL:function(){return e.get(\"ENDPOINT_PUBLIC_URL\")},storeLoginStateUUID:function(t){e.set(\"LOGIN_STATE_UUID\",t)},getLoginStateUUID:function(){return e.get(\"LOGIN_STATE_UUID\")},storeOfflineMode:function(t){e.set(\"ENDPOINT_OFFLINE_MODE\",t)},getOfflineMode:function(){return e.get(\"ENDPOINT_OFFLINE_MODE\")},storeEndpoints:function(t){e.set(\"ENDPOINTS_DATA\",t)},getEndpoints:function(){return e.get(\"ENDPOINTS_DATA\")},storeEndpointState:function(t){e.set(\"ENDPOINT_STATE\",t)},getEndpointState:function(){return e.get(\"ENDPOINT_STATE\")},storeApplicationState:function(t){e.set(\"APPLICATION_STATE\",t)},getApplicationState:function(){return e.get(\"APPLICATION_STATE\")},storeUIState:function(t){e.set(\"UI_STATE\",t)},getUIState:function(){return e.get(\"UI_STATE\")},storeJWT:function(t){e.set(\"JWT\",t)},getJWT:function(){return e.get(\"JWT\")},deleteJWT:function(){e.remove(\"JWT\")},storePaginationLimit:function(t,n){e.set(\"datatable_pagination_\"+t,n)},getPaginationLimit:function(t){return e.get(\"datatable_pagination_\"+t)},getDataTableOrder:function(t){return e.get(\"datatable_order_\"+t)},storeDataTableOrder:function(t,n){e.set(\"datatable_order_\"+t,n)},getDataTableTextFilters:function(t){return e.get(\"datatable_text_filter_\"+t)},storeDataTableTextFilters:function(t,n){e.set(\"datatable_text_filter_\"+t,n)},getDataTableFilters:function(t){return e.get(\"datatable_filters_\"+t)},storeDataTableFilters:function(t,n){e.set(\"datatable_filters_\"+t,n)},getDataTableSettings:function(t){return e.get(\"datatable_settings_\"+t)},storeDataTableSettings:function(t,n){e.set(\"datatable_settings_\"+t,n)},getDataTableExpandedItems:function(t){return e.get(\"datatable_expandeditems_\"+t)},storeDataTableExpandedItems:function(t,n){e.set(\"datatable_expandeditems_\"+t,n)},getDataTableSelectedItems:function(t){return e.get(\"datatable_selecteditems_\"+t)},storeDataTableSelectedItems:function(t,n){e.set(\"datatable_selecteditems_\"+t,n)},storeSwarmVisualizerSettings:function(t,n){e.set(\"swarmvisualizer_\"+t,n)},getSwarmVisualizerSettings:function(t){return e.get(\"swarmvisualizer_\"+t)},storeColumnVisibilitySettings:function(t,n){e.set(\"col_visibility_\"+t,n)},getColumnVisibilitySettings:function(t){return e.get(\"col_visibility_\"+t)},storeJobImage:function(t){e.set(\"job_image\",t)},getJobImage:function(){return e.get(\"job_image\")},storeActiveTab:function(t,n){return e.set(\"active_tab_\"+t,n)},getActiveTab:function(t){const n=e.get(\"active_tab_\"+t);return null===n?0:n},storeToolbarToggle(t){e.set(\"toolbar_toggle\",t)},getToolbarToggle:()=>e.get(\"toolbar_toggle\"),storeLogoutReason:t=>e.set(\"logout_reason\",t),getLogoutReason:()=>e.get(\"logout_reason\"),cleanLogoutReason:()=>e.remove(\"logout_reason\"),clean:function(){e.clearAll()},cleanAuthData(){e.remove(\"JWT\",\"APPLICATION_STATE\",\"LOGIN_STATE_UUID\")},cleanEndpointData(){e.remove(\"ENDPOINT_ID\",\"ENDPOINT_PUBLIC_URL\",\"ENDPOINT_OFFLINE_MODE\",\"ENDPOINTS_DATA\",\"ENDPOINT_STATE\")},storeKubernetesSummaryToggle(t){e.set(\"kubernetes_summary_expanded\",t)},getKubernetesSummaryToggle:()=>e.get(\"kubernetes_summary_expanded\")}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(271),i=n.n(a);angular.module(\"portainer.app\").factory(\"ModalService\",[\"$sanitize\",function(e){var t={},n=function(e){e.css({top:\"50%\",\"margin-top\":function(){return-e.height()/2}})},a=function(t){return{confirm:{label:e(t.buttons.confirm.label),className:e(t.buttons.confirm.className)},cancel:{label:t.buttons.cancel&&t.buttons.cancel.label?e(t.buttons.cancel.label):\"Cancel\"}}};function s(e){var t=i.a.prompt({title:e.title,inputType:\"checkbox\",inputOptions:e.inputOptions,buttons:a(e),callback:e.callback});n(t),t.find(\".bootbox-body\").prepend(\"<p>\"+e.message+\"</p>\"),t.find(\".bootbox-input-checkbox\").prop(\"checked\",e.optionToggled),e.showCheck&&t.find(\".bootbox-input-checkbox\").addClass(\"visible\")}return t.enlargeImage=function(t){t=e(t),i.a.dialog({message:'<img src=\"'+t+'\" style=\"width:100%\" />',className:\"image-zoom-modal\",onEscape:!0})},t.confirmWebEditorDiscard=function(){const e={title:\"Are you sure ?\",message:\"You currently have unsaved changes in the editor. Are you sure you want to leave?\",buttons:{confirm:{label:\"Yes\",className:\"btn-danger\"}}};return new Promise(n=>{t.confirm({...e,callback:e=>n(e)})})},t.confirmAsync=function(e){return new Promise(n=>{t.confirm({...e,callback:e=>n(e)})})},t.confirm=function(e){var t=i.a.confirm({title:e.title,message:e.message,buttons:a(e),callback:e.callback});n(t)},t.confirmAccessControlUpdate=function(e){t.confirm({title:\"Are you sure ?\",message:\"Changing the ownership of this resource will potentially restrict its management to some users.\",buttons:{confirm:{label:\"Change ownership\",className:\"btn-primary\"}},callback:e})},t.confirmImageForceRemoval=function(e){t.confirm({title:\"Are you sure?\",message:\"Forcing the removal of the image will remove the image even if it has multiple tags or if it is used by stopped containers.\",buttons:{confirm:{label:\"Remove the image\",className:\"btn-danger\"}},callback:e})},t.cancelRegistryRepositoryAction=function(e){t.confirm({title:\"Are you sure?\",message:\"WARNING: interrupting this operation before it has finished will result in the loss of all tags. Are you sure you want to do this?\",buttons:{confirm:{label:\"Stop\",className:\"btn-danger\"}},callback:e})},t.confirmDeletion=function(n,a){n=e(n),t.confirm({title:\"Are you sure ?\",message:n,buttons:{confirm:{label:\"Remove\",className:\"btn-danger\"}},callback:a})},t.confirmDeassociate=function(n){t.confirm({title:\"About de-associating\",message:e(\"<p>De-associating this Edge environment will mark it as non associated and will clear the registered Edge ID.</p><p>Any agent started with the Edge key associated to this environment will be able to re-associate with this environment.</p><p>You can re-use the Edge ID and Edge key that you used to deploy the existing Edge agent to associate a new Edge device to this environment.</p>\"),buttons:{confirm:{label:\"De-associate\",className:\"btn-primary\"}},callback:n})},t.confirmUpdate=function(n,a){n=e(n),t.confirm({title:\"Are you sure ?\",message:n,buttons:{confirm:{label:\"Update\",className:\"btn-warning\"}},callback:a})},t.confirmRedeploy=function(n,a){n=e(n),t.confirm({title:\"\",message:n,buttons:{confirm:{label:\"Redeploy the applications\",className:\"btn-primary\"},cancel:{label:\"I'll do it later\"}},callback:a})},t.confirmDeletionAsync=function(e){return new Promise(n=>{t.confirmDeletion(e,e=>n(e))})},t.confirmContainerDeletion=function(t,s){var r,o;t=e(t),r={title:t,inputType:\"checkbox\",inputOptions:[{text:\"Automatically remove non-persistent volumes<i></i>\",value:\"1\"}],buttons:{confirm:{label:\"Remove\",className:\"btn-danger\"}},callback:s},o=i.a.prompt({title:r.title,inputType:r.inputType,inputOptions:r.inputOptions,buttons:a(r),callback:r.callback}),n(o)},t.confirmContainerRecreation=function(e){s({title:\"Are you sure?\",message:\"You're about to re-create this container, any non-persisted data will be lost. This container will be removed and another one will be created using the same configuration.\",inputOptions:[{text:\"Pull latest image<i></i>\",value:\"1\"}],buttons:{confirm:{label:\"Recreate\",className:\"btn-danger\"}},callback:e,optionToggled:!1})},t.confirmEndpointSnapshot=function(e){t.confirm({title:\"Are you sure?\",message:\"Triggering a manual refresh will poll each environment to retrieve its information, this may take a few moments.\",buttons:{confirm:{label:\"Continue\",className:\"btn-primary\"}},callback:e})},t.confirmImageExport=function(e){t.confirm({title:\"Caution\",message:\"The export may take several minutes, do not navigate away whilst the export is in progress.\",buttons:{confirm:{label:\"Continue\",className:\"btn-primary\"}},callback:e})},t.confirmServiceForceUpdate=function(t,n){s({title:\"Are you sure ?\",message:t=e(t),inputOptions:[{text:\"Pull latest image version<i></i>\",value:\"1\"}],buttons:{confirm:{label:\"Update\",className:\"btn-primary\"}},callback:n,optionToggled:!1})},t.selectRegistry=function(e){var t=i.a.prompt({title:\"Which registry do you want to use?\",inputType:\"select\",value:e.defaultValue,inputOptions:e.options,callback:e.callback});n(t)},t.confirmKubeconfigSelection=function(t,n,a){s({title:\"Download kubeconfig file\",message:e(\"Select the kubernetes environment(s) to add to the kubeconfig file.</br>\"+n),inputOptions:t,buttons:{confirm:{label:\"Download file\",className:\"btn-primary\"}},callback:a,optionToggled:!0,showCheck:!0})},t}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);function s(e,t){return{validateEnvironmentName:async function(n){try{const t=(await e.endpoints()).value;return t.filter(e=>e.Name===n).length>0}catch(e){t.error(\"Failure\",e,\"Unable to retrieve environment details\")}}}}s.$inject=[\"EndpointService\",\"Notifications\"],i.a.module(\"portainer.app\").factory(\"NameValidator\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(125),i=n(7),s=n(209),r=n(264),o=n.n(r);angular.module(\"portainer.app\").factory(\"Notifications\",[\"$sanitize\",function(e){var t={};return t.success=function(t,n){o.a.success(e(Object(s.a)(n)),e(t))},t.warning=function(t,n){o.a.warning(e(Object(s.a)(n)),e(t),{timeOut:6e3})},t.error=function(t,n,r){const l=function(e){let t=\"\";return Object(i.a)([\"err.data.details\",\"err.data.message\",\"data.details\",\"data.message\",\"data.content\",\"data.error\",\"message\",\"err.data[0].message\",\"err.data.err\",\"data.err\",\"msg\"],n=>{const i=Object(a.a)(e,n);\"string\"==typeof i&&(t=t||i)}),t}(n)||r;console.error(n),\"Invalid JWT token\"!==l&&o.a.error(e(Object(s.a)(l)),e(t),{timeOut:6e3})},t}])},function(e,t){angular.module(\"portainer.app\").factory(\"PaginationService\",[\"LocalStorage\",\"PAGINATION_MAX_ITEMS\",function(e,t){\"use strict\";var n={getPaginationLimit:function(n){var a=t,i=e.getPaginationLimit(n);return null!==i&&(a=i),\"\"+a},setPaginationLimit:function(t,n){e.storePaginationLimit(t,n)}};return n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(2),i=n(32),s=n(653),r=n(655);angular.module(\"portainer.app\").factory(\"RegistryGitlabService\",[\"$async\",\"Gitlab\",function(e,t){var n={};async function o(e,n){try{const r=await async function e(n,a,s){const r=await t(n).projects(a).$promise;return s=Object(i.a)(s,r.data),r.next&&(a.page=r.next,s=await e(n,a,s)),s}({url:e,token:n},{page:1},[]);return Object(a.a)(r,e=>new s.RegistryGitlabProject(e))}catch(e){throw{msg:\"Unable to retrieve projects\",err:e}}}async function l(e){try{const n={id:e.Id,projectId:e.Gitlab.ProjectId,page:1},s=await async function e(n,a){const s=await t().repositories(n).$promise;return a=Object(i.a)(a,s.data),s.next&&(n.page=s.next,a=await e(n,a)),a}(n,[]);return Object(a.a)(s,e=>new r.RegistryRepositoryGitlabViewModel(e))}catch(e){throw{msg:\"Unable to retrieve repositories\",err:e}}}return n.projects=function(t,n){return e(o,t,n)},n.repositories=function(t){return e(l,t)},n}])},function(e,t,n){\"use strict\";n.r(t);var a=n(565),i=n.n(a);function s(e,t,n){const a={};return a.registryModal=async function(a,s){const r=e.defer(),o=function(e){return e.map(e=>({text:e.Name,value:String(e.Id)}))}(s),l=n.retrievePorRegistryModelFromRepositoryWithRegistries(a,s),c=String(i()(l,\"Registry.Id\",\"0\"));return t.selectRegistry({options:o,defaultValue:c,callback:e=>{if(e){const t=n.retrievePorRegistryModelFromRepositoryWithRegistries(a,s,e);r.resolve(t)}else r.resolve(null)}}),r.promise},a}s.$inject=[\"$q\",\"ModalService\",\"RegistryService\"],angular.module(\"portainer.app\").factory(\"RegistryModalService\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(17),i=n.n(a);angular.module(\"portainer.app\").factory(\"StateManager\",[\"$q\",\"$async\",\"SystemService\",\"InfoHelper\",\"LocalStorage\",\"SettingsService\",\"StatusService\",\"APPLICATION_CACHE_VALIDITY\",\"AgentPingService\",\"$analytics\",\"EndpointProvider\",function(e,t,n,a,s,r,o,l,c,d,u){var p={},m={loading:!0,application:{},endpoint:{},UI:{dismissedInfoPanels:{},dismissedInfoHash:\"\"},extensions:[]};function g(){var t=e.defer();return e.all({settings:r.publicSettings(),status:o.status()}).then((function(e){!function(e,t){m.application.version=e.Version,m.application.edition=e.Edition,m.application.instanceId=e.InstanceID,m.application.enableTelemetry=t.EnableTelemetry,m.application.logo=t.LogoURL,m.application.snapshotInterval=t.SnapshotInterval,m.application.enableEdgeComputeFeatures=t.EnableEdgeComputeFeatures,m.application.validity=i()().unix()}(e.status,e.settings),s.storeApplicationState(m.application),t.resolve(m)})).catch((function(e){t.reject({msg:\"Unable to retrieve server settings and status\",err:e})})),t.promise}return p.setVersionInfo=function(e){m.application.versionStatus=e,s.storeApplicationState(m.application)},p.dismissInformationPanel=function(e){m.UI.dismissedInfoPanels[e]=!0,s.storeUIState(m.UI)},p.dismissImportantInformation=function(e){m.UI.dismissedInfoHash=e,s.storeUIState(m.UI)},p.getState=function(){return m},p.clean=function(){m.endpoint={},m.application={}},p.cleanEndpoint=function(){m.endpoint={},u.clean()},p.updateLogo=function(e){m.application.logo=e,s.storeApplicationState(m.application)},p.updateTheme=function(e){m.application.theme=e,s.storeApplicationState(m.application)},p.updateSnapshotInterval=function(e){m.application.snapshotInterval=e,s.storeApplicationState(m.application)},p.updateEnableEdgeComputeFeatures=function(e){m.application.enableEdgeComputeFeatures=e,s.storeApplicationState(m.application)},p.updateEnableTelemetry=function(e){m.application.enableTelemetry=e,d.setOptOut(!e),s.storeApplicationState(m.application)},p.initialize=async function(){return t(async()=>{const e=s.getUIState();e&&(m.UI=e);const t=s.getEndpointState();t&&(m.endpoint=t);const n=s.getApplicationState();return!function(e){if(!e||!e.validity)return!1;const t=i()().unix();return t-e.validity<l}(n)?await g():m.application=n,m.loading=!1,d.setPortainerStatus(m.application.instanceId,m.application.version),d.setOptOut(!m.application.enableTelemetry),m})},p.updateEndpointState=function(t,i){var r=e.defer();if(3===t.Type)return m.endpoint.name=t.Name,m.endpoint.mode={provider:\"AZURE\"},s.storeEndpointState(m.endpoint),r.resolve(),r.promise;if(5===t.Type||6===t.Type||7===t.Type)return m.endpoint.name=t.Name,m.endpoint.mode={provider:\"KUBERNETES\"},s.storeEndpointState(m.endpoint),r.resolve(),r.promise;const o=1===t.Status||!t.Snaphosts||!t.Snaphosts.length||!t.Snapshots[0].SnapshotRaw;return e.all({version:o?n.version():e.when(t.Snapshots[0].SnapshotRaw.Version),info:o?n.info():e.when(t.Snapshots[0].SnapshotRaw.Info)}).then((function(e){var n=a.determineEndpointMode(e.info,t.Type),s=parseFloat(e.version.ApiVersion);if(m.endpoint.mode=n,m.endpoint.name=t.Name,m.endpoint.type=t.Type,m.endpoint.apiVersion=s,m.endpoint.extensions=function(e){for(var t=[],n=0;n<e.length;n++){1===e[n].Type&&t.push(\"storidge\")}return t}(i),n.agentProxy&&1===t.Status)return c.ping().then((function(e){m.endpoint.agentApiVersion=e.version}))})).then((function(){s.storeEndpointState(m.endpoint),r.resolve()})).catch((function(e){r.reject({msg:\"Unable to connect to the Docker environment\",err:e})})).finally((function(){m.loading=!1})),r.promise},p.getAgentApiVersion=function(){return m.endpoint.agentApiVersion},p}])},function(e,t){angular.module(\"portainer\").service(\"TerminalWindow\",[\"$window\",function(e){this.terminalopen=function(){const t=e.innerHeight-495;document.getElementById(\"content-wrapper\").style.height=t+\"px\",document.getElementById(\"content-wrapper\").style.overflowY=\"auto\",document.getElementById(\"sidebar-wrapper\").style.height=t+\"px\"},this.terminalclose=function(){const e=\"100%\",t=\"initial\";document.getElementById(\"content-wrapper\").style.height=e,document.getElementById(\"content-wrapper\").style.overflowY=t,document.getElementById(\"sidebar-wrapper\").style.height=e},this.terminalresize=function(){const t=e.innerHeight-495;document.getElementById(\"content-wrapper\").style.height=t+\"px\",document.getElementById(\"content-wrapper\").style.overflowY=\"auto\",document.getElementById(\"sidebar-wrapper\").style.height=t+\"px\"}}])},function(e,t,n){\"use strict\";function a(e){return{setTheme:function(t){t?(document.documentElement.setAttribute(\"theme\",t),e.updateTheme(t)):document.documentElement.removeAttribute(\"theme\")},autoTheme:function(){const e=window.matchMedia(\"(prefers-color-scheme: dark)\").matches?\"dark\":\"\";this.setTheme(e)},defaultTheme:function(){document.documentElement.removeAttribute(\"theme\")}}}n.r(t),n.d(t,\"ThemeManager\",(function(){return a})),a.$inject=[\"StateManager\"],angular.module(\"portainer.app\").service(\"ThemeManager\",a)},function(e,t){angular.module(\"portainer.app\").controller(\"AccountController\",[\"$scope\",\"$state\",\"Authentication\",\"UserService\",\"Notifications\",\"SettingsService\",\"StateManager\",\"ThemeManager\",\"ModalService\",function(e,t,n,a,i,s,r,o,l){e.formValues={currentPassword:\"\",newPassword:\"\",confirmPassword:\"\",userTheme:\"\"},e.updatePassword=function(){a.updateUserPassword(e.userID,e.formValues.currentPassword,e.formValues.newPassword).then((function(){i.success(\"Success\",\"Password successfully updated\"),t.reload()})).catch((function(e){i.error(\"Failure\",e,e.msg)}))},e.removeAction=n=>{l.confirmDeletion(\"Do you want to remove the selected access token(s)? Any script or application using these tokens will no longer be able to invoke the Portainer API.\",(function(s){if(!s)return;let r=n.length;n.forEach(n=>{a.deleteAccessToken(e.userID,n.id).then(()=>{i.success(\"Token successfully removed\");var t=e.tokens.indexOf(n);e.tokens.splice(t,1)}).catch(e=>{i.error(\"Failure\",e,\"Unable to remove token\")}).finally(()=>{--r,0===r&&t.reload()})})}))},e.setTheme=function(e){o.setTheme(e),r.updateTheme(e)},e.updateTheme=function(){a.updateUserTheme(e.userID,e.formValues.userTheme).then((function(){i.success(\"Success\",\"User theme successfully updated\"),t.reload()})).catch((function(e){i.error(\"Failure\",e,e.msg)}))},async function(){e.userID=n.getUserDetails().ID;const t=await a.user(e.userID);e.formValues.userTheme=t.Usertheme,s.publicSettings().then((function(t){e.AuthenticationMethod=t.AuthenticationMethod})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve application settings\")})),a.getAccessTokens(e.userID).then((function(t){e.tokens=t})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve user tokens\")}))}()}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(661);const r=n(1997);i.a.module(\"portainer.app\").component(\"createUserAccessToken\",{templateUrl:r,controller:s.default})},function(e,t){var n=\"app/portainer/views/account/create-user-access-token/create-user-access-token.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create access token\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.account\">User settings</a> &gt; Add access token </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    \\x3c!-- mount react feature/view --\\x3e\\n    <create-access-token user-id=\"$ctrl.state.userId\" on-submit=\"($ctrl.onSubmit)\" on-success=\"($ctrl.onSuccess)\" on-error=\"($ctrl.onError)\"></create-access-token>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(95),r=n.n(s);class o{constructor(e,t,n,a,i,s,r,o,l,c,d,u,p,m,g){this.$async=e,this.$analytics=t,this.$scope=n,this.$state=a,this.$stateParams=i,this.$window=s,this.Authentication=r,this.UserService=o,this.EndpointService=l,this.StateManager=c,this.Notifications=d,this.SettingsService=u,this.URLHelper=p,this.LocalStorage=m,this.StatusService=g,this.logo=this.StateManager.getState().application.logo,this.formValues={Username:\"\",Password:\"\"},this.state={showOAuthLogin:!1,showStandardLogin:!1,AuthenticationError:\"\",loginInProgress:!0,OAuthProvider:\"\"},this.checkForEndpointsAsync=this.checkForEndpointsAsync.bind(this),this.checkForLatestVersionAsync=this.checkForLatestVersionAsync.bind(this),this.postLoginSteps=this.postLoginSteps.bind(this),this.oAuthLoginAsync=this.oAuthLoginAsync.bind(this),this.internalLoginAsync=this.internalLoginAsync.bind(this),this.authenticateUserAsync=this.authenticateUserAsync.bind(this),this.manageOauthCodeReturn=this.manageOauthCodeReturn.bind(this),this.authEnabledFlowAsync=this.authEnabledFlowAsync.bind(this),this.onInit=this.onInit.bind(this)}logout(e){this.Authentication.logout(),this.state.loginInProgress=!1,this.generateOAuthLoginURI(),this.LocalStorage.storeLogoutReason(e),this.$window.location.reload()}error(e,t){this.state.AuthenticationError=t,e||(e={}),this.Notifications.error(\"Failure\",e,t),this.state.loginInProgress=!1}determineOauthProvider(e){return-1!==e.indexOf(\"login.microsoftonline.com\")?\"Microsoft\":-1!==e.indexOf(\"accounts.google.com\")?\"Google\":-1!==e.indexOf(\"github.com\")?\"Github\":\"OAuth\"}generateState(){const e=r()();return this.LocalStorage.storeLoginStateUUID(e),\"&state=\"+e}generateOAuthLoginURI(){this.OAuthLoginURI=this.state.OAuthLoginURI+this.generateState()}hasValidState(e){const t=this.LocalStorage.getLoginStateUUID();return t&&e&&t===e}async checkForEndpointsAsync(){try{const e=await this.EndpointService.endpoints(0,1),t=this.Authentication.isAdmin();return 0===e.value.length&&t?this.$state.go(\"portainer.wizard\"):this.$state.go(\"portainer.home\")}catch(e){this.error(e,\"Unable to retrieve environments\")}}async checkForLatestVersionAsync(){let e={UpdateAvailable:!1,LatestVersion:\"\"};try{const t=await this.StatusService.version();t.UpdateAvailable&&(e.UpdateAvailable=!0,e.LatestVersion=t.LatestVersion)}finally{this.StateManager.setVersionInfo(e)}}async postLoginSteps(){await this.StateManager.initialize();const e=this.Authentication.isAdmin();this.$analytics.setUserRole(e?\"admin\":\"standard-user\"),await this.checkForEndpointsAsync(),await this.checkForLatestVersionAsync()}async oAuthLoginAsync(e){try{await this.Authentication.OAuthLogin(e),this.URLHelper.cleanParameters()}catch(e){this.error(e,\"Unable to login via OAuth\")}}async internalLoginAsync(e,t){await this.Authentication.login(e,t),await this.postLoginSteps()}async authenticateUserAsync(){try{var e=this.formValues.Username,t=this.formValues.Password;this.state.loginInProgress=!0,await this.internalLoginAsync(e,t)}catch(e){this.error(e,\"Unable to login\")}}authenticateUser(){return this.$async(this.authenticateUserAsync)}async manageOauthCodeReturn(e,t){this.hasValidState(t)?await this.oAuthLoginAsync(e):this.error(null,\"Invalid OAuth state, try again.\")}async authEnabledFlowAsync(){try{await this.UserService.administratorExists()||this.$state.go(\"portainer.init.admin\")}catch(e){this.error(e,\"Unable to verify administrator account existence\")}}toggleStandardLogin(){this.state.showStandardLogin=!this.state.showStandardLogin}async onInit(){try{const e=await this.SettingsService.publicSettings();this.state.showOAuthLogin=3===e.AuthenticationMethod,this.state.showStandardLogin=!this.state.showOAuthLogin,this.state.OAuthLoginURI=e.OAuthLoginURI,this.state.OAuthProvider=this.determineOauthProvider(e.OAuthLoginURI);const t=this.URLHelper.getParameter(\"code\"),n=this.URLHelper.getParameter(\"state\");if(t&&n)return await this.manageOauthCodeReturn(t,n),void this.generateOAuthLoginURI();if(this.logo||(await this.StateManager.initialize(),this.logo=this.StateManager.getState().application.logo),this.generateOAuthLoginURI(),this.$stateParams.logout||this.$stateParams.error)return void this.logout(this.$stateParams.error);const a=this.LocalStorage.getLogoutReason();a&&(this.state.AuthenticationError=a,this.LocalStorage.cleanLogoutReason()),this.Authentication.isAuthenticated()&&await this.postLoginSteps(),this.state.loginInProgress=!1,await this.authEnabledFlowAsync()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve public settings\")}}$onInit(){return this.$async(this.onInit)}}o.$inject=[\"$async\",\"$analytics\",\"$scope\",\"$state\",\"$stateParams\",\"$window\",\"Authentication\",\"UserService\",\"EndpointService\",\"StateManager\",\"Notifications\",\"SettingsService\",\"URLHelper\",\"LocalStorage\",\"StatusService\"],t.default=o,i.a.module(\"portainer.app\").controller(\"AuthenticationController\",o)},,,function(e,t,n){\"use strict\";n.r(t);var a=n(662);const i=n(2002);angular.module(\"portainer.app\").component(\"createCustomTemplateView\",{templateUrl:i,controller:a.default})},function(e,t){var n=\"app/portainer/views/custom-templates/create-custom-template-view/createCustomTemplateView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create Custom template\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.templates.custom\">Custom Templates</a> &gt; Create Custom template </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"!$ctrl.state.loading\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"customTemplateForm\">\\n          <custom-template-common-fields\\n            form-values=\"$ctrl.formValues\"\\n            show-platform-field=\"true\"\\n            show-type-field=\"true\"\\n            name-regex=\"$ctrl.state.templateNameRegex\"\\n          ></custom-template-common-fields>\\n\\n          \\x3c!-- build-method --\\x3e\\n          <div ng-if=\"!$ctrl.state.fromStack\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Build method\\n            </div>\\n            <div class=\"form-group\"></div>\\n            <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n              <div class=\"boxselector_wrapper\">\\n                <div>\\n                  <input type=\"radio\" id=\"method_editor\" ng-model=\"$ctrl.state.Method\" value=\"editor\" ng-change=\"$ctrl.onChangeMethod()\" />\\n                  <label for=\"method_editor\">\\n                    <div class=\"boxselector_header\">\\n                      <i class=\"fa fa-edit\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                      Web editor\\n                    </div>\\n                    <p>Use our Web editor</p>\\n                  </label>\\n                </div>\\n                <div>\\n                  <input type=\"radio\" id=\"method_upload\" ng-model=\"$ctrl.state.Method\" value=\"upload\" ng-change=\"$ctrl.onChangeMethod()\" />\\n                  <label for=\"method_upload\">\\n                    <div class=\"boxselector_header\">\\n                      <i class=\"fa fa-upload\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                      Upload\\n                    </div>\\n                    <p>Upload from your computer</p>\\n                  </label>\\n                </div>\\n                <div>\\n                  <input type=\"radio\" id=\"method_repository\" ng-model=\"$ctrl.state.Method\" value=\"repository\" ng-change=\"$ctrl.onChangeMethod()\" />\\n                  <label for=\"method_repository\">\\n                    <div class=\"boxselector_header\">\\n                      <i class=\"fab fa-git\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                      Repository\\n                    </div>\\n                    <p>Use a git repository</p>\\n                  </label>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !build-method --\\x3e\\n          \\x3c!-- web-editor --\\x3e\\n          <div ng-show=\"$ctrl.state.Method === \\'editor\\'\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Web editor\\n            </div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                You can get more information about Compose file format in the\\n                <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\">\\n                  official documentation\\n                </a>\\n                .\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <code-editor\\n                  identifier=\"custom-template-creation-editor\"\\n                  placeholder=\"# Define or paste the content of your docker-compose file here\"\\n                  yml=\"true\"\\n                  value=\"$ctrl.formValues.FileContent\"\\n                  on-change=\"($ctrl.editorUpdate)\"\\n                ></code-editor>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !web-editor --\\x3e\\n          \\x3c!-- upload --\\x3e\\n          <div ng-show=\"$ctrl.state.Method === \\'upload\\'\">\\n            <div class=\"col-sm-12 form-section-title\">\\n              Upload\\n            </div>\\n            <div class=\"form-group\">\\n              <span class=\"col-sm-12 text-muted small\">\\n                You can upload a Compose file from your computer.\\n              </span>\\n            </div>\\n            <div class=\"form-group\">\\n              <div class=\"col-sm-12\">\\n                <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select ng-model=\"$ctrl.formValues.File\">\\n                  Select file\\n                </button>\\n                <span style=\"margin-left: 5px;\">\\n                  {{ $ctrl.formValues.File.name }}\\n                  <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formValues.File\" aria-hidden=\"true\"></i>\\n                </span>\\n              </div>\\n            </div>\\n          </div>\\n          \\x3c!-- !upload --\\x3e\\n          \\x3c!-- repository --\\x3e\\n          <git-form ng-if=\"$ctrl.state.Method === \\'repository\\'\" model=\"$ctrl.formValues\" on-change=\"($ctrl.onChangeFormValues)\"></git-form>\\n          \\x3c!-- !repository --\\x3e\\n          <por-access-control-form form-data=\"$ctrl.formValues.AccessControlData\"></por-access-control-form>\\n\\n          \\x3c!-- actions --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.state.actionInProgress || customTemplateForm.$invalid\\n              || ($ctrl.state.Method === \\'editor\\' && !$ctrl.formValues.FileContent)\\n              || ($ctrl.state.Method === \\'upload\\' && !$ctrl.formValues.File)\\n              || ($ctrl.state.Method === \\'repository\\' && ((!$ctrl.formValues.RepositoryURL || !$ctrl.formValues.ComposeFilePathInRepository) || ($ctrl.formValues.RepositoryAuthentication && (!$ctrl.formValues.RepositoryUsername || !$ctrl.formValues.RepositoryPassword))))\\n              || !$ctrl.formValues.Title\"\\n                ng-click=\"$ctrl.createCustomTemplate()\"\\n                button-spinner=\"$ctrl.state.actionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.state.actionInProgress\">Create custom template</span>\\n                <span ng-show=\"$ctrl.state.actionInProgress\">Creation in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px;\">\\n                {{ $ctrl.state.formValidationError }}\\n              </span>\\n            </div>\\n          </div>\\n          \\x3c!-- !actions --\\x3e\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(663);const i=n(2004);angular.module(\"portainer.app\").component(\"customTemplatesView\",{templateUrl:i,controller:a.default})},function(e,t){var n=\"app/portainer/views/custom-templates/custom-templates-view/customTemplatesView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header id=\"view-top\">\\n  <rd-header-title title-text=\"Custom Templates\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.templates.custom\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Custom Templates</rd-header-content>\\n</rd-header>\\n<div class=\"row\">\\n  <stack-from-template-form\\n    ng-if=\"$ctrl.state.selectedTemplate\"\\n    template=\"$ctrl.state.selectedTemplate\"\\n    form-values=\"$ctrl.formValues\"\\n    name-regex=\"$ctrl.state.templateNameRegex\"\\n    state=\"$ctrl.state\"\\n    create-template=\"$ctrl.createStack\"\\n    unselect-template=\"$ctrl.unselectTemplate\"\\n  >\\n    <advanced-form>\\n      <div class=\"form-group\">\\n        <div class=\"col-sm-12\">\\n          <a class=\"small interactive\" ng-show=\"!$ctrl.state.showAdvancedOptions\" ng-click=\"$ctrl.state.showAdvancedOptions = true;\">\\n            <i class=\"fa fa-plus space-right\" aria-hidden=\"true\"></i> Customize stack\\n          </a>\\n          <a class=\"small interactive\" ng-show=\"$ctrl.state.showAdvancedOptions\" ng-click=\"$ctrl.state.showAdvancedOptions = false;\">\\n            <i class=\"fa fa-minus space-right\" aria-hidden=\"true\"></i> Hide custom stack\\n          </a>\\n        </div>\\n      </div>\\n      <div ng-if=\"$ctrl.state.showAdvancedOptions\">\\n        \\x3c!-- web-editor --\\x3e\\n        <div class=\"col-sm-12 form-section-title\">\\n          Web editor\\n        </div>\\n        <div class=\"form-group\">\\n          <span class=\"col-sm-12 text-muted small\">\\n            You can get more information about Compose file format in the\\n            <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\">\\n              official documentation\\n            </a>\\n            .\\n          </span>\\n        </div>\\n        <div class=\"form-group\">\\n          <div class=\"col-sm-12\">\\n            <code-editor\\n              identifier=\"custom-template-creation-editor\"\\n              placeholder=\"# Define or paste the content of your docker-compose file here\"\\n              yml=\"true\"\\n              value=\"$ctrl.formValues.fileContent\"\\n              on-change=\"($ctrl.editorUpdate)\"\\n            ></code-editor>\\n          </div>\\n        </div>\\n        \\x3c!-- !web-editor --\\x3e\\n      </div>\\n    </advanced-form>\\n  </stack-from-template-form>\\n</div>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <custom-templates-list\\n      ng-if=\"$ctrl.templates\"\\n      title-text=\"Templates\"\\n      title-icon=\"fa-rocket\"\\n      templates=\"$ctrl.templates\"\\n      table-key=\"customTemplates\"\\n      create-path=\"docker.templates.custom.new\"\\n      edit-path=\"docker.templates.custom.edit\"\\n      is-edit-allowed=\"$ctrl.isEditAllowed\"\\n      on-select-click=\"($ctrl.selectTemplate)\"\\n      on-delete-click=\"($ctrl.confirmDelete)\"\\n    ></custom-templates-list>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(664);const i=n(2006);angular.module(\"portainer.app\").component(\"editCustomTemplateView\",{templateUrl:i,controller:a.default})},function(e,t){var n=\"app/portainer/views/custom-templates/edit-custom-template-view/editCustomTemplateView.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Edit Custom Template\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.templates.custom.edit({id:$ctrl.formValues.Id})\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content> <a ui-sref=\"docker.templates.custom\">Custom templates</a> &gt; {{ $ctrl.formValues.Title }} </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\" ng-if=\"$ctrl.formValues\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\" name=\"customTemplateForm\">\\n          <custom-template-common-fields form-values=\"$ctrl.formValues\" show-platform-field=\"true\" show-type-field=\"true\"></custom-template-common-fields>\\n\\n          \\x3c!-- web-editor --\\x3e\\n          <div class=\"col-sm-12 form-section-title\">\\n            Web editor\\n          </div>\\n          <div class=\"form-group\">\\n            <span class=\"col-sm-12 text-muted small\">\\n              You can get more information about Compose file format in the\\n              <a href=\"https://docs.docker.com/compose/compose-file/\" target=\"_blank\">\\n                official documentation\\n              </a>\\n              .\\n            </span>\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <code-editor\\n                identifier=\"custom-template-creation-editor\"\\n                placeholder=\"# Define or paste the content of your docker-compose file here\"\\n                yml=\"true\"\\n                value=\"$ctrl.formValues.FileContent\"\\n                on-change=\"($ctrl.editorUpdate)\"\\n              ></code-editor>\\n            </div>\\n          </div>\\n          \\x3c!-- !web-editor --\\x3e\\n\\n          <por-access-control-form form-data=\"$ctrl.formValues.AccessControlData\" resource-control=\"$ctrl.formValues.ResourceControl\"></por-access-control-form>\\n\\n          <div class=\"col-sm-12 form-section-title\">\\n            Actions\\n          </div>\\n          <div class=\"form-group\">\\n            <div class=\"col-sm-12\">\\n              <button\\n                type=\"button\"\\n                class=\"btn btn-primary btn-sm\"\\n                ng-disabled=\"$ctrl.actionInProgress || customTemplateForm.$invalid\\n                  || !$ctrl.formValues.Title\\n                  || !$ctrl.formValues.FileContent\"\\n                ng-click=\"$ctrl.submitAction()\"\\n                button-spinner=\"$ctrl.actionInProgress\"\\n              >\\n                <span ng-hide=\"$ctrl.actionInProgress\">Update the template</span>\\n                <span ng-show=\"$ctrl.actionInProgress\">Update in progress...</span>\\n              </button>\\n              <span class=\"text-danger\" ng-if=\"$ctrl.state.formValidationError\" style=\"margin-left: 5px;\">\\n                {{ $ctrl.state.formValidationError }}\\n              </span>\\n            </div>\\n          </div>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){const a=n(2008);angular.module(\"portainer.app\").component(\"endpointRegistriesView\",{templateUrl:a,controller:\"EndpointRegistriesController\",bindings:{endpoint:\"<\"}})},function(e,t){var n=\"app/portainer/views/endpoint-registries/registries.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Environment registries\">\\n    <a data-toggle=\"tooltip\" title=\"Refresh\" ui-sref=\"docker.registries\" ui-sref-opts=\"{reload: true}\">\\n      <i class=\"fa fa-sync\" aria-hidden=\"true\"></i>\\n    </a>\\n  </rd-header-title>\\n  <rd-header-content>Manage registry access inside this environment</rd-header-content>\\n</rd-header>\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <registries-datatable\\n      title-text=\"Registries\"\\n      title-icon=\"fa-database\"\\n      dataset=\"$ctrl.registries\"\\n      table-key=\"endpointRegistries\"\\n      order-by=\"Name\"\\n      endpoint-type=\"$ctrl.endpointType\"\\n      can-manage-access=\"$ctrl.canManageAccess\"\\n    ></registries-datatable>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(30);class i{constructor(e,t,n){this.$async=e,this.Notifications=t,this.EndpointService=n,this.canManageAccess=this.canManageAccess.bind(this)}canManageAccess(e){return e.Type!==a.RegistryTypes.ANONYMOUS}getRegistries(){return this.$async(async()=>{try{const e=await this.EndpointService.registries(this.endpointId);this.registries=e}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registries\")}})}$onInit(){return this.$async(async()=>{this.state={viewReady:!1};try{this.endpointType=this.endpoint.Type,this.endpointId=this.endpoint.Id,await this.getRegistries()}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve registries\")}finally{this.state.viewReady=!0}})}}i.$inject=[\"$async\",\"Notifications\",\"EndpointService\"],t.default=i,angular.module(\"portainer.app\").controller(\"EndpointRegistriesController\",i)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(19);class r{constructor(e,t,n,a,i,r){this.$state=e,this.$transition$=t,this.Notifications=n,this.EndpointService=a,this.GroupService=i,this.$async=r,this.limitedFeature=s.RBAC_ROLES,this.updateAccess=this.updateAccess.bind(this),this.updateAccessAsync=this.updateAccessAsync.bind(this)}async $onInit(){this.state={actionInProgress:!1};try{this.endpoint=await this.EndpointService.endpoint(this.$transition$.params().id),this.group=await this.GroupService.group(this.endpoint.GroupId)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve environment information\")}}updateAccess(){return this.$async(this.updateAccessAsync)}async updateAccessAsync(){try{this.state.actionInProgress=!0,await this.EndpointService.updateEndpoint(this.$transition$.params().id,this.endpoint),this.Notifications.success(\"Access successfully updated\"),this.$state.reload(this.$state.current)}catch(e){this.state.actionInProgress=!1,this.Notifications.error(\"Failure\",e,\"Unable to update accesses\")}}}r.$inject=[\"$state\",\"$transition$\",\"Notifications\",\"EndpointService\",\"GroupService\",\"$async\"],t.default=r,i.a.module(\"portainer.app\").controller(\"EndpointAccessController\",r)},function(e,t,n){\"use strict\";n.r(t),function(e){var t=n(15),a=n(163),i=n(199);angular.module(\"portainer.app\").controller(\"CreateEndpointController\",[\"$async\",\"$analytics\",\"$q\",\"$scope\",\"$state\",\"$filter\",\"clipboard\",\"EndpointService\",\"GroupService\",\"TagService\",\"SettingsService\",\"Notifications\",\"Authentication\",\"StateManager\",function(n,s,r,o,l,c,d,u,p,m,g,h,f,v){o.state={EnvironmentType:\"agent\",PlatformType:\"linux\",actionInProgress:!1,deploymentTab:0,allowCreateTag:f.isAdmin(),availableEdgeAgentCheckinOptions:[{key:\"Use default interval\",value:0},{key:\"5 seconds\",value:5},{key:\"10 seconds\",value:10},{key:\"30 seconds\",value:30},{key:\"5 minutes\",value:300},{key:\"1 hour\",value:3600},{key:\"1 day\",value:86400}]};const b=v.getState().application.version,y=Object(a.getAgentShortVersion)(b),w={kubeLoadBalancer:`curl -L https://downloads.portainer.io/portainer-agent-ce${y}-k8s-lb.yaml -o portainer-agent-k8s.yaml; kubectl apply -f portainer-agent-k8s.yaml`,kubeNodePort:`curl -L https://downloads.portainer.io/portainer-agent-ce${y}-k8s-nodeport.yaml -o portainer-agent-k8s.yaml; kubectl apply -f portainer-agent-k8s.yaml`,agentLinux:`curl -L https://downloads.portainer.io/agent-stack-ce${y}.yml -o agent-stack.yml && docker stack deploy --compose-file=agent-stack.yml portainer-agent`,agentWindows:`curl -L https://downloads.portainer.io/agent-stack-ce${y}-windows.yml -o agent-stack-windows.yml && docker stack deploy --compose-file=agent-stack-windows.yml portainer-agent`};async function x(e){try{const t=await m.createTag(e);o.availableTags=o.availableTags.concat(t),o.formValues.TagIds=o.formValues.TagIds.concat(t.Id)}catch(e){h.error(\"Failure\",e,\"Unable to create tag\")}}async function $(e,a,i,s,r,c,d,p,m,g,f,v,b){return n(async()=>{o.state.actionInProgress=!0;try{const n=await u.createRemoteEndpoint(e,a,i,s,r,c,d,p,m,g,f,v,b);switch(h.success(\"Environment created\",e),n.Type){case t.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment:case t.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment:l.go(\"portainer.endpoints.endpoint\",{id:n.Id});break;case t.PortainerEndpointTypes.AgentOnKubernetesEnvironment:l.go(\"portainer.k8sendpoint.kubernetesConfig\",{id:n.Id});break;default:l.go(\"portainer.endpoints\",{},{reload:!0})}return n}catch(e){h.error(\"Failure\",e,\"Unable to create environment\")}finally{o.state.actionInProgress=!1}})}o.deployCommands=w,o.formValues={Name:\"\",URL:\"\",PublicURL:\"\",GroupId:1,SecurityFormData:new i.EndpointSecurityFormData,AzureApplicationId:\"\",AzureTenantId:\"\",AzureAuthenticationKey:\"\",TagIds:[],CheckinInterval:o.state.availableEdgeAgentCheckinOptions[0].value},o.copyAgentCommand=function(){2===o.state.deploymentTab&&\"linux\"===o.state.PlatformType?d.copyText(w.agentLinux):2===o.state.deploymentTab&&\"windows\"===o.state.PlatformType?d.copyText(w.agentWindows):1===o.state.deploymentTab?d.copyText(w.kubeNodePort):d.copyText(w.kubeLoadBalancer),e(\"#copyNotification\").show().fadeOut(2500)},o.setDefaultPortainerInstanceURL=function(){o.formValues.URL=window.location.origin},o.resetEndpointURL=function(){o.formValues.URL=\"\"},o.onCreateTag=function(e){return n(x,e)},o.addDockerEndpoint=function(){var e=o.formValues.Name,n=c(\"stripprotocol\")(o.formValues.URL),a=o.formValues.PublicURL,i=o.formValues.GroupId,s=o.formValues.TagIds;if(o.formValues.ConnectSocket)n=o.formValues.SocketPath,o.state.actionInProgress=!0,u.createLocalEndpoint(e,n,a,i,s).then((function(){h.success(\"Environment created\",e),l.go(\"portainer.endpoints\",{},{reload:!0})})).catch((function(e){h.error(\"Failure\",e,\"Unable to create environment\")})).finally((function(){o.state.actionInProgress=!1}));else{\"\"===a&&(a=n.split(\":\")[0]);var r=o.formValues.SecurityFormData,d=r.TLS,p=r.TLSMode,m=d&&(\"tls_client_noca\"===p||\"tls_only\"===p),g=d&&(\"tls_ca\"===p||\"tls_only\"===p),f=m?null:r.TLSCACert,v=g?null:r.TLSCert,b=g?null:r.TLSKey;$(e,t.PortainerEndpointCreationTypes.LocalDockerEnvironment,n,a,i,s,d,m,g,f,v,b)}},o.addKubernetesEndpoint=function(){var e=o.formValues.Name,t=o.formValues.TagIds;o.state.actionInProgress=!0,u.createLocalKubernetesEndpoint(e,t).then((function(t){h.success(\"Environment created\",e),l.go(\"portainer.k8sendpoint.kubernetesConfig\",{id:t.Id})})).catch((function(e){h.error(\"Failure\",e,\"Unable to create environment\")})).finally((function(){o.state.actionInProgress=!1}))},o.addAgentEndpoint=async function(){return n(async()=>{const n=o.formValues.Name,a=o.formValues.URL,i=\"\"===o.formValues.PublicURL?a.split(\":\")[0]:o.formValues.PublicURL,r=o.formValues.GroupId,l=o.formValues.TagIds,c=await $(n,t.PortainerEndpointCreationTypes.AgentEnvironment,a,i,r,l,!0,!0,!0,null,null,null);s.eventTrack(\"portainer-endpoint-creation\",{category:\"portainer\",metadata:{type:\"agent\",platform:e(c.Type)}})});function e(e){switch(e){case t.PortainerEndpointTypes.DockerEnvironment:case t.PortainerEndpointTypes.AgentOnDockerEnvironment:case t.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment:return\"docker\";case t.PortainerEndpointTypes.KubernetesLocalEnvironment:case t.PortainerEndpointTypes.AgentOnKubernetesEnvironment:case t.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment:return\"kubernetes\"}}},o.addEdgeAgentEndpoint=function(){var e=o.formValues.Name,n=o.formValues.GroupId,a=o.formValues.TagIds,i=o.formValues.URL;$(e,t.PortainerEndpointCreationTypes.EdgeAgentEnvironment,i,\"\",n,a,!1,!1,!1,null,null,null,o.formValues.CheckinInterval)},o.addAzureEndpoint=function(){!function(e,t,n,a,i,s){o.state.actionInProgress=!0,u.createAzureEndpoint(e,t,n,a,i,s).then((function(){h.success(\"Environment created\",e),l.go(\"portainer.endpoints\",{},{reload:!0})})).catch((function(e){h.error(\"Failure\",e,\"Unable to create environment\")})).finally((function(){o.state.actionInProgress=!1}))}(o.formValues.Name,o.formValues.AzureApplicationId,o.formValues.AzureTenantId,o.formValues.AzureAuthenticationKey,o.formValues.GroupId,o.formValues.TagIds)},r.all({groups:p.groups(),tags:m.tags(),settings:g.settings()}).then((function(e){o.groups=e.groups,o.availableTags=e.tags;const t=e.settings;o.state.availableEdgeAgentCheckinOptions[0].key+=` (${t.EdgeAgentCheckinInterval} seconds)`})).catch((function(e){h.error(\"Failure\",e,\"Unable to load groups\")}))}])}.call(this,n(50))},function(e,t,n){\"use strict\";n.r(t),function(e){var t=n(59),a=n(95),i=n.n(a),s=n(15),r=n(199),o=n(163);function l(n,a,l,c,d,u,p,m,g,h,f,v,b,y,w,x){const $=\"swarm\",C=\"standalone\",S=\"kubernetes\",k=\"windows\",A=\"linux\";async function P(e){try{const t=await h.createTag(e);l.availableTags=l.availableTags.concat(t),l.endpoint.TagIds=l.endpoint.TagIds.concat(t.Id)}catch(e){v.error(\"Failue\",e,\"Unable to create tag\")}}l.state={uploadInProgress:!1,actionInProgress:!1,deploymentTab:S,platformType:A,azureEndpoint:!1,kubernetesEndpoint:!1,agentEndpoint:!1,edgeEndpoint:!1,allowCreate:b.isAdmin(),availableEdgeAgentCheckinOptions:[{key:\"Use default interval\",value:0},{key:\"5 seconds\",value:5},{key:\"10 seconds\",value:10},{key:\"30 seconds\",value:30},{key:\"5 minutes\",value:300},{key:\"1 hour\",value:3600},{key:\"1 day\",value:86400}],allowSelfSignedCerts:!0},l.agentVersion=x.getState().application.version,l.agentShortVersion=Object(o.getAgentShortVersion)(l.agentVersion),l.dockerCommands={[C]:{[A]:function(e,t,n,a,i){return`\\ndocker run -d \\\\\\n    -v /var/run/docker.sock:/var/run/docker.sock \\\\\\n    -v /var/lib/docker/volumes:/var/lib/docker/volumes \\\\\\n    -v /:/host \\\\\\n    -v portainer_agent_data:/data \\\\\\n    --restart always \\\\\\n    -e EDGE=1 \\\\\\n    -e EDGE_ID=${n} \\\\\\n    -e EDGE_KEY=${a} \\\\\\n    -e CAP_HOST_MANAGEMENT=1 \\\\\\n    -e EDGE_INSECURE_POLL=${i?1:0} \\\\\\n    --name portainer_edge_agent \\\\\\n    portainer/agent:${e}`},[k]:function(e,t,n,a,i){return`\\ndocker run -d \\\\\\n  --mount type=npipe,src=\\\\\\\\.\\\\pipe\\\\docker_engine,dst=\\\\\\\\.\\\\pipe\\\\docker_engine \\\\\\n  --mount type=bind,src=C:\\\\ProgramData\\\\docker\\\\volumes,dst=C:\\\\ProgramData\\\\docker\\\\volumes \\\\\\n  --mount type=volume,src=portainer_agent_data,dst=C:\\\\data \\\\\\n  --restart always \\\\\\n  -e EDGE=1 \\\\\\n  -e EDGE_ID=${n} \\\\\\n  -e EDGE_KEY=${a} \\\\\\n  -e CAP_HOST_MANAGEMENT=1 \\\\\\n  -e EDGE_INSECURE_POLL=${i?1:0} \\\\\\n  --name portainer_edge_agent \\\\\\n  portainer/agent:${e}`}},[$]:{[A]:function(e,t,n,a,i){return`\\ndocker network create \\\\\\n  --driver overlay \\\\\\n  portainer_agent_network;\\n\\ndocker service create \\\\\\n  --name portainer_edge_agent \\\\\\n  --network portainer_agent_network \\\\\\n  -e AGENT_CLUSTER_ADDR=tasks.portainer_edge_agent \\\\\\n  -e EDGE=1 \\\\\\n  -e EDGE_ID=${n} \\\\\\n  -e EDGE_KEY=${a} \\\\\\n  -e CAP_HOST_MANAGEMENT=1 \\\\\\n  -e EDGE_INSECURE_POLL=${i?1:0} \\\\\\n  --mode global \\\\\\n  --constraint 'node.platform.os == linux' \\\\\\n  --mount type=bind,src=//var/run/docker.sock,dst=/var/run/docker.sock \\\\\\n  --mount type=bind,src=//var/lib/docker/volumes,dst=/var/lib/docker/volumes \\\\\\n  --mount type=bind,src=//,dst=/host \\\\\\n  --mount type=volume,src=portainer_agent_data,dst=/data \\\\\\n  portainer/agent:${e}`},[k]:function(e,t,n,a,i){return`\\ndocker network create \\\\\\n  --driver overlay \\\\\\n  portainer_edge_agent_network && \\\\\\ndocker service create \\\\\\n  --name portainer_edge_agent \\\\\\n  --network portainer_edge_agent_network \\\\\\n  -e AGENT_CLUSTER_ADDR=tasks.portainer_edge_agent \\\\\\n  -e EDGE=1 \\\\\\n  -e EDGE_ID=${n} \\\\\\n  -e EDGE_KEY=${a} \\\\\\n  -e CAP_HOST_MANAGEMENT=1 \\\\\\n  -e EDGE_INSECURE_POLL=${i?1:0} \\\\\\n  --mode global \\\\\\n  --constraint node.platform.os==windows \\\\\\n  --mount type=npipe,src=\\\\\\\\.\\\\pipe\\\\docker_engine,dst=\\\\\\\\.\\\\pipe\\\\docker_engine \\\\\\n  --mount type=bind,src=C:\\\\ProgramData\\\\docker\\\\volumes,dst=C:\\\\ProgramData\\\\docker\\\\volumes \\\\\\n  --mount type=volume,src=portainer_agent_data,dst=C:\\\\data \\\\\\n  portainer/agent:${e}`}},[S]:{[A]:function(e,t,n,a,i){return`\\ncurl https://downloads.portainer.io/portainer-ce${t}-edge-agent-setup.sh | bash -s -- ${n} ${a} ${i?\"1\":\"\"}\\n`},[k]:()=>\"\"}},l.formValues={SecurityFormData:new r.EndpointSecurityFormData},l.copyEdgeAgentDeploymentCommand=function(){const t=l.dockerCommands[l.state.deploymentTab][l.state.platformType](l.agentVersion,l.agentShortVersion,l.randomEdgeID,l.endpoint.EdgeKey,l.state.allowSelfSignedCerts);p.copyText(t.trim()),e(\"#copyNotificationDeploymentCommand\").show().fadeOut(2500)},l.copyEdgeAgentKey=function(){p.copyText(l.endpoint.EdgeKey),e(\"#copyNotificationEdgeKey\").show().fadeOut(2500)},l.onCreateTag=function(e){return n(P,e)},l.onDeassociateEndpoint=async function(){w.confirmDeassociate(e=>{e&&async function(){var e=l.endpoint;try{l.state.actionInProgress=!0,await m.deassociateEndpoint(e.Id),v.success(\"Environment de-associated\",l.endpoint.Name),c.reload()}catch(e){v.error(\"Failure\",e,\"Unable to de-associate environment\")}finally{l.state.actionInProgress=!1}}()})},l.updateEndpoint=function(){var e=l.endpoint,t=l.formValues.SecurityFormData,n=t.TLS,a=t.TLSMode,i=n&&(\"tls_client_noca\"===a||\"tls_only\"===a),r=n&&(\"tls_ca\"===a||\"tls_only\"===a),o={Name:e.Name,PublicURL:e.PublicURL,GroupID:e.GroupId,TagIds:e.TagIds,EdgeCheckinInterval:e.EdgeCheckinInterval,TLS:n,TLSSkipVerify:i,TLSSkipClientVerify:r,TLSCACert:i||t.TLSCACert===e.TLSConfig.TLSCACert?null:t.TLSCACert,TLSCert:r||t.TLSCert===e.TLSConfig.TLSCert?null:t.TLSCert,TLSKey:r||t.TLSKey===e.TLSConfig.TLSKey?null:t.TLSKey,AzureApplicationID:e.AzureCredentials.ApplicationID,AzureTenantID:e.AzureCredentials.TenantID,AzureAuthenticationKey:e.AzureCredentials.AuthenticationKey};\"local\"!==l.endpointType&&e.Type!==s.PortainerEndpointTypes.AzureEnvironment&&e.Type!==s.PortainerEndpointTypes.KubernetesLocalEnvironment&&e.Type!==s.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&(o.URL=\"tcp://\"+e.URL),e.Type===s.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&(o.URL=e.URL),e.Type===s.PortainerEndpointTypes.KubernetesLocalEnvironment&&(o.URL=\"https://\"+e.URL),l.state.actionInProgress=!0,m.updateEndpoint(e.Id,o).then((function(){v.success(\"Environment updated\",l.endpoint.Name),f.setEndpointPublicURL(e.PublicURL),c.go(\"portainer.endpoints\",{},{reload:!0})}),(function(e){v.error(\"Failure\",e,\"Unable to update environment\"),l.state.actionInProgress=!1}),(function(e){e.upload&&(l.state.uploadInProgress=e.upload)}))},async function(){n(async()=>{try{const[e,n,a,r]=await Promise.all([m.endpoint(d.params().id),g.groups(),h.tags(),y.settings()]);0===e.URL.indexOf(\"unix://\")||0===e.URL.indexOf(\"npipe://\")?l.endpointType=\"local\":l.endpointType=\"remote\",e.URL=u(\"stripprotocol\")(e.URL),e.Type!==s.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&e.Type!==s.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(l.edgeKeyDetails=function(e){let n={};if(\"\"===e)return n;let a=Object(t.a)(atob(e),\"|\");return n.instanceURL=a[0],n.tunnelServerAddr=a[1],n}(e.EdgeKey),l.randomEdgeID=i()(),l.state.availableEdgeAgentCheckinOptions[0].key+=` (${r.EdgeAgentCheckinInterval} seconds)`),l.endpoint=e,l.groups=n,l.availableTags=a,l.endpoint.Type!==s.PortainerEndpointTypes.KubernetesLocalEnvironment&&l.endpoint.Type!==s.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&l.endpoint.Type!==s.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(l.state.kubernetesEndpoint=!0),l.endpoint.Type!==s.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&l.endpoint.Type!==s.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(l.state.edgeEndpoint=!0),l.endpoint.Type===s.PortainerEndpointTypes.AzureEnvironment&&(l.state.azureEndpoint=!0),l.endpoint.Type!==s.PortainerEndpointTypes.AgentOnDockerEnvironment&&l.endpoint.Type!==s.PortainerEndpointTypes.EdgeAgentOnDockerEnvironment&&l.endpoint.Type!==s.PortainerEndpointTypes.AgentOnKubernetesEnvironment&&l.endpoint.Type!==s.PortainerEndpointTypes.EdgeAgentOnKubernetesEnvironment||(l.state.agentEndpoint=!0)}catch(e){v.error(\"Failure\",e,\"Unable to retrieve environment details\")}})}()}l.$inject=[\"$async\",\"$q\",\"$scope\",\"$state\",\"$transition$\",\"$filter\",\"clipboard\",\"EndpointService\",\"GroupService\",\"TagService\",\"EndpointProvider\",\"Notifications\",\"Authentication\",\"SettingsService\",\"ModalService\",\"StateManager\"],angular.module(\"portainer.app\").controller(\"EndpointController\",l)}.call(this,n(50))},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(148);function r(e,t,n,a,i,r,o,l,c,d){async function u(e){for(let t of e)try{await i.deleteEndpoint(t.Id),l.success(\"Environment successfully removed\",t.Name)}catch(e){l.error(\"Failure\",e,\"Unable to remove environment\")}const a=c.endpointID();e.some(e=>e.Id===a)&&(d.cleanEndpoint(),t.applicationState.endpoint={}),n.reload()}t.removeAction=function(e){o.confirmDeletion(\"This action will remove all configurations associated to your environment(s). Continue?\",t=>{if(t)return a(u,e)})},t.getPaginatedEndpoints=function(t,n,a){const o=e.defer();return e.all({endpoints:i.endpoints(t,n,{search:a}),groups:r.groups()}).then((function(e){var t=e.endpoints.value,n=e.groups;s.default.mapGroupNameToEndpoint(t,n),o.resolve({endpoints:t,totalCount:e.endpoints.totalCount})})).catch((function(e){l.error(\"Failure\",e,\"Unable to retrieve environment information\")})),o.promise}}r.$inject=[\"$q\",\"$scope\",\"$state\",\"$async\",\"EndpointService\",\"GroupService\",\"ModalService\",\"Notifications\",\"EndpointProvider\",\"StateManager\"],i.a.module(\"portainer.app\").controller(\"EndpointsController\",r)},function(e,t,n){\"use strict\";n.r(t);var a=n(19);angular.module(\"portainer.app\").controller(\"GroupAccessController\",[\"$scope\",\"$state\",\"$transition$\",\"GroupService\",\"Notifications\",function(e,t,n,i,s){var r;e.limitedFeature=a.RBAC_ROLES,e.updateAccess=function(){e.state.actionInProgress=!0,i.updateGroup(e.group,e.group.AssociatedEndpoints).then(()=>{s.success(\"Access successfully updated\"),t.reload()}).catch(t=>{e.state.actionInProgress=!1,s.error(\"Failure\",t,\"Unable to update accesses\")})},r=n.params().id,e.state={actionInProgress:!1},i.group(r).then((function(t){e.group=t})).catch((function(e){s.error(\"Failure\",e,\"Unable to load view\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(232);angular.module(\"portainer.app\").controller(\"CreateGroupController\",[\"$async\",\"$scope\",\"$state\",\"GroupService\",\"TagService\",\"Notifications\",function(e,t,n,i,s,r){async function o(e){try{const n=await s.createTag(e);t.availableTags=t.availableTags.concat(n),t.model.TagIds=t.model.TagIds.concat(n.Id)}catch(e){r.error(\"Failue\",e,\"Unable to create tag\")}}t.state={actionInProgress:!1},t.create=function(){for(var e=t.model,a=[],s=0;s<t.associatedEndpoints.length;s++){var o=t.associatedEndpoints[s];a.push(o.Id)}t.state.actionInProgress=!0,i.createGroup(e,a).then((function(){r.success(\"Group successfully created\"),n.go(\"portainer.groups\",{},{reload:!0})})).catch((function(e){r.error(\"Failure\",e,\"Unable to create group\")})).finally((function(){t.state.actionInProgress=!1}))},t.onCreateTag=function(t){return e(o,t)},s.tags().then(e=>{t.availableTags=e,t.associatedEndpoints=[],t.model=new a.EndpointGroupDefaultModel,t.loaded=!0}).catch(e=>{r.error(\"Failure\",e,\"Unable to retrieve tags\")})}])},function(e,t){angular.module(\"portainer.app\").controller(\"GroupController\",[\"$q\",\"$async\",\"$scope\",\"$state\",\"$transition$\",\"GroupService\",\"TagService\",\"Notifications\",function(e,t,n,a,i,s,r,o){async function l(e){try{const t=await r.createTag(e);n.availableTags=n.availableTags.concat(t),n.group.TagIds=n.group.TagIds.concat(t.Id)}catch(e){o.error(\"Failue\",e,\"Unable to create tag\")}}var c;n.state={actionInProgress:!1},n.update=function(){var e=n.group;n.state.actionInProgress=!0,s.updateGroup(e).then((function(){o.success(\"Group successfully updated\"),a.go(\"portainer.groups\",{},{reload:!0})})).catch((function(e){o.error(\"Failure\",e,\"Unable to update group\")})).finally((function(){n.state.actionInProgress=!1}))},n.onCreateTag=function(e){return t(l,e)},c=i.params().id,e.all({group:s.group(c),tags:r.tags()}).then((function(e){n.group=e.group,n.availableTags=e.tags,n.loaded=!0})).catch((function(e){o.error(\"Failure\",e,\"Unable to load group details\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(33),i=n(1),s=n.n(i);function r(e,t,n,i,s){async function r(n){for(let t of n)try{await i.deleteGroup(t.Id),s.success(\"Environment group successfully removed\",t.Name),Object(a.a)(e.groups,t)}catch(e){s.error(\"Failure\",e,\"Unable to remove group\")}t.reload()}e.removeAction=function(e){return n(r,e)},i.groups().then((function(t){e.groups=t})).catch((function(t){s.error(\"Failure\",t,\"Unable to retrieve environment groups\"),e.groups=[]}))}r.$inject=[\"$scope\",\"$state\",\"$async\",\"GroupService\",\"Notifications\"],s.a.module(\"portainer.app\").controller(\"GroupsController\",r)},function(e,t,n){\"use strict\";n.r(t);var a=n(148);angular.module(\"portainer.app\").controller(\"HomeController\",[\"$q\",\"$scope\",\"$state\",\"TagService\",\"Authentication\",\"EndpointService\",\"GroupService\",\"Notifications\",\"EndpointProvider\",\"StateManager\",\"ModalService\",\"MotdService\",function(e,t,n,i,s,r,o,l,c,d,u,p){t.state={connectingToEdgeEndpoint:!1,homepageLoadTime:\"\"},t.goToEdit=function(e){n.go(\"portainer.endpoints.endpoint\",{id:e})},t.goToDashboard=function(e){if(3!==e.Type){if(4===e.Type||7===e.Type){if(!e.EdgeID)return void n.go(\"portainer.endpoints.endpoint\",{id:e.Id});t.state.connectingToEdgeEndpoint=!0}5!==e.Type&&6!==e.Type&&7!==e.Type?n.go(\"docker.dashboard\",{endpointId:e.Id}):n.go(\"kubernetes.dashboard\",{endpointId:e.Id})}else n.go(\"azure.dashboard\",{endpointId:e.Id})},t.dismissImportantInformation=function(e){d.dismissImportantInformation(e)},t.dismissInformationPanel=function(e){d.dismissInformationPanel(e)},t.triggerSnapshot=function(){u.confirmEndpointSnapshot((function(e){e&&r.snapshotEndpoints().then((function(){l.success(\"Success\",\"Environments updated\"),n.reload()})).catch((function(e){l.error(\"Failure\",e,\"An error occured during environment snapshot\")}))}))},t.getPaginatedEndpoints=function(t,n,i){const s=e.defer();return e.all({endpoints:r.endpoints(t,n,{search:i}),groups:o.groups()}).then((function(e){var t=e.endpoints.value,n=e.groups;a.default.mapGroupNameToEndpoint(t,n),c.setEndpoints(t),s.resolve({endpoints:t,totalCount:e.endpoints.totalCount})})).catch((function(e){l.error(\"Failure\",e,\"Unable to retrieve environment information\")})),s.promise},async function(){t.state.homepageLoadTime=Math.floor(Date.now()/1e3),t.isAdmin=s.isAdmin(),p.motd().then((function(e){t.motd=e}));try{const e=i.tags();t.tags=e}catch(e){l.error(\"Failed loading page data\",e)}}()}])},function(e,t){function n(e=0){return new Promise(t=>setTimeout(t,1e3*e))}angular.module(\"portainer.app\").controller(\"InitAdminController\",[\"$scope\",\"$state\",\"Notifications\",\"Authentication\",\"StateManager\",\"SettingsService\",\"UserService\",\"EndpointService\",\"BackupService\",\"StatusService\",function(e,t,a,i,s,r,o,l,c,d){e.uploadBackup=async function(){e.state.backupInProgress=!0;const i=e.formValues.BackupFile,s=e.formValues.Password;!async function(i){e.state.backupInProgress=!0;try{await i()}catch(t){return a.error(\"Failure\",t,\"Unable to restore the backup\"),void(e.state.backupInProgress=!1)}try{await async function(){for(let e=0;e<10;e++){await n(5);try{const e=await d.status();if(e&&e.Version)return}catch(e){}}throw new Error(\"Timeout to wait for Portainer restarting\")}(),a.success(\"The backup has successfully been restored\"),t.go(\"portainer.auth\")}catch(e){a.error(\"Failure\",e,\"Unable to check for status\"),await n(2),location.reload()}e.state.backupInProgress=!1}(()=>c.uploadBackup(i,s))},e.logo=s.getState().application.logo,e.formValues={Username:\"admin\",Password:\"\",ConfirmPassword:\"\",enableTelemetry:!0},e.state={actionInProgress:!1,showInitPassword:!0,showRestorePortainer:!1},o.administratorExists().then((function(e){e&&t.go(\"portainer.wizard\")})).catch((function(e){a.error(\"Failure\",e,\"Unable to verify administrator account existence\")})),e.togglePanel=function(){e.state.showInitPassword=!e.state.showInitPassword,e.state.showRestorePortainer=!e.state.showRestorePortainer},e.createAdminUser=function(){var n=e.formValues.Username,c=e.formValues.Password;e.state.actionInProgress=!0,o.initAdministrator(n,c).then((function(){return i.login(n,c)})).then((function(){return r.update({enableTelemetry:e.formValues.enableTelemetry})})).then(()=>s.initialize()).then((function(){return l.endpoints(0,100)})).then((function(e){0===e.value.length?t.go(\"portainer.wizard\"):t.go(\"portainer.home\")})).catch((function(e){a.error(\"Failure\",e,\"Unable to create administrator user\")})).finally((function(){e.state.actionInProgress=!1}))}}])},function(e,t,n){\"use strict\";n.r(t);var a=n(69),i=n(1),s=n.n(i),r=n(401),o=n(15);n(2021),n(2022),n(2023);class l{constructor(e,t,n,a,i,s,r){this.$async=e,this.$scope=t,this.$state=n,this.EndpointService=a,this.EndpointProvider=i,this.StateManager=s,this.Notifications=r,this.createLocalEndpointAsync=this.createLocalEndpointAsync.bind(this),this.createLocalKubernetesEndpointAsync=this.createLocalKubernetesEndpointAsync.bind(this),this.createAgentEndpointAsync=this.createAgentEndpointAsync.bind(this)}$onInit(){Object(a.a)(this.$scope.applicationState.endpoint)||this.$state.go(\"portainer.home\"),this.logo=this.StateManager.getState().application.logo,this.state={uploadInProgress:!1,actionInProgress:!1},this.formValues=new r.PortainerEndpointInitFormValues,this.endpointSections=r.PortainerEndpointInitFormValueEndpointSections,this.PortainerEndpointConnectionTypes=o.PortainerEndpointConnectionTypes}isConnectButtonDisabled(){switch(this.formValues.ConnectionType){case o.PortainerEndpointConnectionTypes.DOCKER_LOCAL:case o.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL:return this.state.actionInProgress;case o.PortainerEndpointConnectionTypes.AGENT:return this.state.actionInProgress||!this.formValues.Name||!this.formValues.URL}}createEndpoint(){switch(this.formValues.ConnectionType){case o.PortainerEndpointConnectionTypes.DOCKER_LOCAL:return this.createLocalEndpoint();case o.PortainerEndpointConnectionTypes.KUBERNETES_LOCAL:return this.createLocalKubernetesEndpoint();case o.PortainerEndpointConnectionTypes.AGENT:return this.createAgentEndpoint();default:this.Notifications.error(\"Failure\",null,\"Unable to determine which action to do to create environment\")}}skipEndpointCreation(){this.$state.go(\"portainer.home\")}async createLocalEndpointAsync(){try{this.state.actionInProgress=!0,await this.EndpointService.createLocalEndpoint(),this.$state.go(\"portainer.home\")}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to connect to the Docker environment\")}finally{this.state.actionInProgress=!1}}createLocalEndpoint(){return this.$async(this.createLocalEndpointAsync)}async createLocalKubernetesEndpointAsync(){try{this.state.actionInProgress=!0;const e=await this.EndpointService.createLocalKubernetesEndpoint();this.$state.go(\"portainer.k8sendpoint.kubernetesConfig\",{id:e.Id})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to connect to the Kubernetes environment\")}finally{this.state.actionInProgress=!1}}createLocalKubernetesEndpoint(){return this.$async(this.createLocalKubernetesEndpointAsync)}async createAgentEndpointAsync(){try{this.state.actionInProgress=!0;const e=this.formValues.Name,t=this.formValues.URL,n=t.split(\":\")[0],a=await this.EndpointService.createRemoteEndpoint(e,o.PortainerEndpointCreationTypes.AgentEnvironment,t,n,1,[],!0,!0,!0,null,null,null),i=a.Type===o.PortainerEndpointTypes.AgentOnKubernetesEnvironment?\"portainer.k8sendpoint.kubernetesConfig\":\"portainer.home\";this.$state.go(i,{id:a.Id})}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to connect to the Docker environment\")}finally{this.state.actionInProgress=!1}}createAgentEndpoint(){return this.$async(this.createAgentEndpointAsync)}}l.$inject=[\"$async\",\"$scope\",\"$state\",\"EndpointService\",\"EndpointProvider\",\"StateManager\",\"Notifications\"],t.default=l,s.a.module(\"portainer.app\").controller(\"InitEndpointController\",l)},function(e,t){var n=\"app/portainer/views/init/endpoint/includes/localDocker.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\">\\n  Information\\n</div>\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <span class=\"small\">\\n      <p class=\"text-primary\">\\n        Manage the Docker environment where Portainer is running.\\n      </p>\\n      <p class=\"text-muted\">\\n        <i class=\"fa fa-exclamation-circle orange-icon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n        Ensure that you have started the Portainer container with the following Docker flag:\\n      </p>\\n      <p class=\"text-muted\"> <code>-v \"/var/run/docker.sock:/var/run/docker.sock\"</code> (Linux). </p>\\n      <p class=\"text-muted\">\\n        or\\n      </p>\\n      <p class=\"text-muted\"> <code>-v \\\\\\\\.\\\\pipe\\\\docker_engine:\\\\\\\\.\\\\pipe\\\\docker_engine</code> (Windows). </p>\\n    </span>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/init/endpoint/includes/localKubernetes.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\">\\n  Information\\n</div>\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <span class=\"small\">\\n      <p class=\"text-primary\">\\n        Manage the Kubernetes environment where Portainer is running.\\n      </p>\\n    </span>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/init/endpoint/includes/agent.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"col-sm-12 form-section-title\">\\n  Information\\n</div>\\n<div class=\"form-group\">\\n  <div class=\"col-sm-12\">\\n    <span class=\"small\">\\n      <p class=\"text-primary\">\\n        Connect directly to a Portainer agent running inside a Docker or Kubernetes environment.\\n      </p>\\n    </span>\\n  </div>\\n</div>\\n<div class=\"col-sm-12 form-section-title\">\\n  Environment\\n</div>\\n\\x3c!-- name-input --\\x3e\\n<div class=\"form-group\">\\n  <label for=\"endpoint_name\" class=\"col-sm-4 col-lg-3 control-label text-left\">Name</label>\\n  <div class=\"col-sm-8 col-lg-9\">\\n    <input type=\"text\" class=\"form-control\" id=\"endpoint_name\" ng-model=\"ctrl.formValues.Name\" placeholder=\"e.g. prod-cluster-01\" />\\n  </div>\\n</div>\\n\\x3c!-- !name-input --\\x3e\\n\\x3c!-- endpoint-url-input --\\x3e\\n<div class=\"form-group\">\\n  <label for=\"endpoint_url\" class=\"col-sm-4 col-lg-3 control-label text-left\">\\n    Agent URL\\n    <portainer-tooltip position=\"bottom\" message=\"URL or IP address of a Portainer agent.\"> </portainer-tooltip>\\n  </label>\\n  <div class=\"col-sm-8 col-lg-9\">\\n    <input type=\"text\" class=\"form-control\" id=\"endpoint_url\" ng-model=\"ctrl.formValues.URL\" placeholder=\"e.g. 10.0.0.10:9001\" />\\n  </div>\\n</div>\\n\\x3c!-- !endpoint-url-input --\\x3e\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);class s{constructor(e,t,n,a,i,s,r,o,l){this.$async=e,this.$state=t,this.$transition$=n,this.$window=a,this.Authentication=i,this.StateManager=s,this.Notifications=r,this.LocalStorage=o,this.SettingsService=l,this.logo=this.StateManager.getState().application.logo,this.logoutAsync=this.logoutAsync.bind(this),this.onInit=this.onInit.bind(this)}async logoutAsync(){const e=this.$transition$.params().error,t=this.$transition$.params().performApiLogout,n=await this.SettingsService.publicSettings();try{await this.Authentication.logout(t)}finally{this.LocalStorage.storeLogoutReason(e),n.OAuthLogoutURI&&1!==this.Authentication.getUserDetails().ID?this.$window.location.href=n.OAuthLogoutURI:this.$state.go(\"portainer.auth\",{reload:!0})}}logout(){return this.$async(this.logoutAsync)}async onInit(){try{await this.logout()}catch(e){this.Notifications.error(\"Failure\",e,\"An error occured during logout\")}}$onInit(){return this.$async(this.onInit)}}s.$inject=[\"$async\",\"$state\",\"$transition$\",\"$window\",\"Authentication\",\"StateManager\",\"Notifications\",\"LocalStorage\",\"SettingsService\"],t.default=s,i.a.module(\"portainer.app\").controller(\"LogoutController\",s)},function(e,t){angular.module(\"portainer.app\").controller(\"MainController\",[\"$scope\",\"LocalStorage\",\"StateManager\",\"EndpointProvider\",\"ThemeManager\",function(e,t,n,a,i){e.getWidth=function(){return window.innerWidth},e.applicationState=n.getState(),e.endpointState=a.endpoint(),e.$watch(e.getWidth,(function(n){if(n>=992){const n=t.getToolbarToggle();e.toggle=\"boolean\"!=typeof n||n}else e.toggle=!1})),e.toggleSidebar=function(){e.toggle=!e.toggle,t.storeToolbarToggle(e.toggle)},window.onresize=function(){e.$apply()},i.autoTheme()}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(665);const r=n(2027);i.a.module(\"portainer.app\").component(\"createRegistry\",{templateUrl:r,controller:s.default,bindings:{$transition$:\"<\"}})},function(e,t){var n=\"app/portainer/views/registries/create/createRegistry.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Create registry\"></rd-header-title>\\n  <rd-header-content> <a ui-sref=\"portainer.registries\">Registries</a> &gt; Add registry </rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-body>\\n        <form class=\"form-horizontal\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Registry provider\\n          </div>\\n\\n          <div class=\"form-group\"></div>\\n\\n          <div class=\"form-group\" style=\"margin-bottom: 0;\">\\n            <div class=\"boxselector_wrapper\">\\n              <div>\\n                <input type=\"radio\" id=\"registry_dockerhub\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.DOCKERHUB\" />\\n                <label for=\"registry_dockerhub\" ng-click=\"$ctrl.selectDockerHub()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-database\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    DockerHub\\n                  </div>\\n                  <p>DockerHub authenticated account</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"registry_aws_ecr\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.ECR\" />\\n                <label for=\"registry_aws_ecr\" ng-click=\"$ctrl.selectEcr()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fab fa-aws\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    AWS ECR\\n                  </div>\\n                  <p>Amazon elastic container registry</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"registry_quay\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.QUAY\" />\\n                <label for=\"registry_quay\" ng-click=\"$ctrl.selectQuayRegistry()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-database\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Quay.io\\n                  </div>\\n                  <p>Quay container registry</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"registry_proget\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.PROGET\" />\\n                <label for=\"registry_proget\" ng-click=\"$ctrl.selectProGetRegistry()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-database\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    ProGet\\n                  </div>\\n                  <p>ProGet container registry</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"registry_azure\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.AZURE\" />\\n                <label for=\"registry_azure\" ng-click=\"$ctrl.selectAzureRegistry()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fab fa-microsoft\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Azure\\n                  </div>\\n                  <p>Azure container registry</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"registry_gitlab\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.GITLAB\" />\\n                <label for=\"registry_gitlab\" ng-click=\"$ctrl.selectGitlabRegistry()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fab fa-gitlab\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Gitlab\\n                  </div>\\n                  <p>Gitlab container registry</p>\\n                </label>\\n              </div>\\n              <div>\\n                <input type=\"radio\" id=\"registry_custom\" ng-model=\"$ctrl.model.Type\" ng-value=\"$ctrl.RegistryTypes.CUSTOM\" />\\n                <label for=\"registry_custom\" ng-click=\"$ctrl.selectCustomRegistry()\">\\n                  <div class=\"boxselector_header\">\\n                    <i class=\"fa fa-database\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i>\\n                    Custom registry\\n                  </div>\\n                  <p>Define your own registry</p>\\n                </label>\\n              </div>\\n            </div>\\n          </div>\\n\\n          <registry-form-quay\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.QUAY\"\\n            model=\"$ctrl.model\"\\n            form-action=\"$ctrl.createRegistry\"\\n            form-action-label=\"Add registry\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n          ></registry-form-quay>\\n\\n          <registry-form-azure\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.AZURE\"\\n            model=\"$ctrl.model\"\\n            form-action=\"$ctrl.createRegistry\"\\n            form-action-label=\"Add registry\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n          ></registry-form-azure>\\n\\n          <registry-form-custom\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.CUSTOM\"\\n            model=\"$ctrl.model\"\\n            form-action=\"$ctrl.createRegistry\"\\n            form-action-label=\"Add registry\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n          ></registry-form-custom>\\n\\n          <registry-form-ecr\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.ECR\"\\n            model=\"$ctrl.model\"\\n            form-action=\"$ctrl.createRegistry\"\\n            form-action-label=\"Add registry\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n          ></registry-form-ecr>\\n\\n          <registry-form-proget\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.PROGET\"\\n            model=\"$ctrl.model\"\\n            form-action=\"$ctrl.createRegistry\"\\n            form-action-label=\"Add registry\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n          ></registry-form-proget>\\n\\n          <registry-form-gitlab\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.GITLAB\"\\n            model=\"$ctrl.model\"\\n            retrieve-registries=\"$ctrl.retrieveGitlabRegistries\"\\n            create-registries=\"$ctrl.createGitlabRegistries\"\\n            projects=\"$ctrl.gitlabProjects\"\\n            state=\"$ctrl.state\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n            reset-defaults=\"$ctrl.useDefaultGitlabConfiguration\"\\n          ></registry-form-gitlab>\\n\\n          <registry-form-dockerhub\\n            ng-if=\"$ctrl.model.Type === $ctrl.RegistryTypes.DOCKERHUB\"\\n            model=\"$ctrl.model\"\\n            form-action=\"$ctrl.createRegistry\"\\n            form-action-label=\"Add registry\"\\n            action-in-progress=\"$ctrl.state.actionInProgress\"\\n          ></registry-form-dockerhub>\\n        </form>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(30);angular.module(\"portainer.app\").controller(\"RegistryController\",[\"$scope\",\"$state\",\"RegistryService\",\"Notifications\",function(e,t,n,i){var s;e.state={actionInProgress:!1},e.formValues={Password:\"\"},e.RegistryTypes=a.RegistryTypes,e.updateRegistry=function(){var a=e.registry;a.Password=e.formValues.Password,e.state.actionInProgress=!0,n.updateRegistry(a).then((function(){i.success(\"Registry successfully updated\"),t.go(\"portainer.registries\")})).catch((function(e){i.error(\"Failure\",e,\"Unable to update registry\")})).finally((function(){e.state.actionInProgress=!1}))},s=t.params.id,n.registry(s).then((function(t){e.registry=t})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve registry details\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(16),i=n(30);angular.module(\"portainer.app\").controller(\"RegistriesController\",[\"$q\",\"$scope\",\"$state\",\"RegistryService\",\"ModalService\",\"Notifications\",function(e,t,n,s,r,o){t.state={actionInProgress:!1};const l=[i.RegistryTypes.ANONYMOUS,i.RegistryTypes.DOCKERHUB,i.RegistryTypes.QUAY];t.canBrowse=function(e){return!Object(a.a)(l,e.Type)},t.removeAction=function(e){const a=e.length>1?\"hese\":\"his\",i=e.length>1?\"registries\":\"registry\",l=`T${a} ${i} might be used by applications inside one or more environments. Removing the ${i} could lead to a service interruption for the applications using t${a} ${i}. Do you want to remove the selected ${i}?`;r.confirmDeletion(l,(function(a){a&&function(e){var a=e.length;angular.forEach(e,(function(e){s.deleteRegistry(e.Id).then((function(){o.success(\"Registry successfully removed\",e.Name);var n=t.registries.indexOf(e);t.registries.splice(n,1)})).catch((function(e){o.error(\"Failure\",e,\"Unable to remove registry\")})).finally((function(){0===--a&&n.reload()}))}))}(e)}))},e.all({registries:s.registries()}).then((function(e){t.registries=e.registries})).catch((function(e){t.registries=[],o.error(\"Failure\",e,\"Unable to retrieve registries\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(166),i=n(1),s=n.n(i),r=n(19),o=n(226);function l(e,t,n,i,l,c,d,u){function p(){const e=t.formValues.TLSCACert,n=e!==t.settings.LDAPSettings.TLSConfig.TLSCACert?e:null,a=2===t.formValues.ldap.serverType,i=a?t.formValues.ldap.adSettings:t.formValues.ldap.ldapSettings;i.AnonymousMode&&!a&&(i.ReaderDN=\"\",i.Password=\"\"),a&&(i.AnonymousMode=!1),i.URLs=i.URLs.map(e=>e.includes(\":\")?e:e+(i.TLSConfig.TLS?\":636\":\":389\"));const s=(i.TLSConfig.TLS||i.StartTLS)&&!i.TLSConfig.TLSSkipVerify;return i.URL=i.URLs[0],{settings:i,uploadRequired:s,tlscaFile:n}}t.state={uploadInProgress:!1,actionInProgress:!1,availableUserSessionTimeoutOptions:[{key:\"1 hour\",value:\"1h\"},{key:\"4 hours\",value:\"4h\"},{key:\"8 hours\",value:\"8h\"},{key:\"24 hours\",value:\"24h\"},{key:\"1 week\",value:\"168h\"},{key:\"1 month\",value:\"720h\"},{key:\"6 months\",value:\"4320h\"},{key:\"1 year\",value:\"8640h\"}]},t.formValues={UserSessionTimeout:t.state.availableUserSessionTimeoutOptions[0],TLSCACert:\"\",ldap:{serverType:0,adSettings:Object(o.buildAdSettingsModel)(),ldapSettings:Object(o.buildLdapSettingsModel)()}},t.authOptions=[{id:\"auth_internal\",icon:\"fa fa-users\",label:\"Internal\",description:\"Internal authentication mechanism\",value:1},{id:\"auth_ldap\",icon:\"fa fa-users\",label:\"LDAP\",description:\"LDAP authentication\",value:2},{id:\"auth_ad\",icon:\"fab fa-microsoft\",label:\"Microsoft Active Directory\",description:\"AD authentication\",value:4,feature:r.HIDE_INTERNAL_AUTH},{id:\"auth_oauth\",icon:\"fa fa-users\",label:\"OAuth\",description:\"OAuth authentication\",value:3}],t.onChangeAuthMethod=function(e){return 4===e?(t.settings.AuthenticationMethod=2,void(t.formValues.ldap.serverType=2)):2===e?(t.settings.AuthenticationMethod=2,void(t.formValues.ldap.serverType=t.formValues.ldap.ldapSettings.ServerType)):void(t.settings.AuthenticationMethod=e)},t.authenticationMethodSelected=function(e){return!!t.settings&&(4===e?2===t.settings.AuthenticationMethod&&2===t.formValues.ldap.serverType:2===e?2===t.settings.AuthenticationMethod&&2!==t.formValues.ldap.serverType:t.settings.AuthenticationMethod===e)},t.isOauthEnabled=function(){return t.settings&&3===t.settings.AuthenticationMethod},t.LDAPConnectivityCheck=function(){const n=s.a.copy(t.settings),{settings:a,uploadRequired:r,tlscaFile:o}=p();n.LDAPSettings=a,t.state.uploadInProgress=r,t.state.connectivityCheckInProgress=!0,e.when(!r||c.uploadLDAPTLSFiles(o,null,null)).then((function(){return u.check(n.LDAPSettings)})).then((function(){t.state.failedConnectivityCheck=!1,t.state.successfulConnectivityCheck=!0,i.success(\"Connection to LDAP successful\")})).catch((function(e){t.state.failedConnectivityCheck=!0,t.state.successfulConnectivityCheck=!1,i.error(\"Failure\",e,\"Connection to LDAP failed\")})).finally((function(){t.state.uploadInProgress=!1,t.state.connectivityCheckInProgress=!1}))},t.saveSettings=function(){const n=s.a.copy(t.settings),{settings:a,uploadRequired:r,tlscaFile:o}=p();n.LDAPSettings=a,t.state.uploadInProgress=r,t.state.actionInProgress=!0,e.when(!r||c.uploadLDAPTLSFiles(o,null,null)).then((function(){return l.update(n)})).then((function(){i.success(\"Authentication settings updated\")})).catch((function(e){i.error(\"Failure\",e,\"Unable to update authentication settings\")})).finally((function(){t.state.uploadInProgress=!1,t.state.actionInProgress=!1}))},t.isLDAPFormValid=function(){const e=2===t.formValues.ldap.serverType?t.formValues.ldap.adSettings:t.formValues.ldap.ldapSettings,n=e.TLSConfig.TLS||e.StartTLS;return Object(a.a)(e.URLs).length&&(e.AnonymousMode||e.ReaderDN&&e.Password)&&(!n||t.formValues.TLSCACert||e.TLSConfig.TLSSkipVerify)&&(!t.settings.LDAPSettings.AdminAutoPopulate||t.settings.LDAPSettings.AdminAutoPopulate&&t.formValues.selectedAdminGroups.length>0)},t.isOAuthTeamMembershipFormValid=function(){if(t.settings&&t.settings.OAuthSettings.OAuthAutoMapTeamMemberships&&t.settings.OAuthSettings.TeamMemberships){if(!t.settings.OAuthSettings.TeamMemberships.OAuthClaimName)return!1;if(t.settings.OAuthSettings.TeamMemberships.OAuthClaimMappings.some(e=>!(e.ClaimValRegex&&e.Team)))return!1}return!0},e.all({settings:l.settings(),teams:d.teams()}).then((function(e){var n=e.settings;t.teams=e.teams,t.settings=n,t.OAuthSettings=n.OAuthSettings,t.authMethod=n.AuthenticationMethod,2===n.AuthenticationMethod&&2===n.LDAPSettings.ServerType&&(t.authMethod=4),t.formValues.ldap.serverType=n.LDAPSettings.ServerType,2===n.LDAPSettings.ServerType?t.formValues.ldap.adSettings=n.LDAPSettings:t.formValues.ldap.ldapSettings=Object.assign(t.formValues.ldap.ldapSettings,n.LDAPSettings),n.LDAPSettings.URL&&(n.LDAPSettings.URLs=[n.LDAPSettings.URL]),n.LDAPSettings.URLs||(n.LDAPSettings.URLs=[]),n.LDAPSettings.URLs.length||n.LDAPSettings.URLs.push(\"\"),n.LDAPSettings.ServerType||(n.LDAPSettings.ServerType=0)})).catch((function(e){i.error(\"Failure\",e,\"Unable to retrieve application settings\")}))}l.$inject=[\"$q\",\"$scope\",\"$state\",\"Notifications\",\"SettingsService\",\"FileUploadService\",\"TeamService\",\"LDAPService\"],s.a.module(\"portainer.app\").controller(\"SettingsAuthenticationController\",l)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(47),r=n(19);i.a.module(\"portainer.app\").controller(\"SettingsController\",[\"$scope\",\"$state\",\"Notifications\",\"SettingsService\",\"StateManager\",\"BackupService\",\"FileSaver\",\"Blob\",function(e,t,n,a,i,o,l){function c(s){a.update(s).then((function(){n.success(\"Settings updated\"),i.updateLogo(s.LogoURL),i.updateSnapshotInterval(s.SnapshotInterval),i.updateEnableEdgeComputeFeatures(s.EnableEdgeComputeFeatures),i.updateEnableTelemetry(s.EnableTelemetry),t.reload()})).catch((function(e){n.error(\"Failure\",e,\"Unable to update settings\")})).finally((function(){e.state.actionInProgress=!1}))}e.s3BackupFeatureId=r.S3_BACKUP_SETTING,e.backupOptions=[Object(s.buildOption)(\"backup_file\",\"fa fa-download\",\"Download backup file\",\"\",\"file\"),Object(s.buildOption)(\"backup_s3\",\"fa fa-upload\",\"Store in S3\",\"Define a cron schedule\",\"s3\",r.S3_BACKUP_SETTING)],e.state={actionInProgress:!1,availableEdgeAgentCheckinOptions:[{key:\"5 seconds\",value:5},{key:\"10 seconds\",value:10},{key:\"30 seconds\",value:30}],availableKubeconfigExpiryOptions:[{key:\"1 day\",value:\"24h\"},{key:\"7 days\",value:\"168h\"},{key:\"30 days\",value:\"720h\"},{key:\"1 year\",value:\"8640h\"},{key:\"No expiry\",value:\"0\"}],backupInProgress:!1,featureLimited:!1},e.BACKUP_FORM_TYPES={S3:\"s3\",FILE:\"file\"},e.formValues={customLogo:!1,labelName:\"\",labelValue:\"\",enableEdgeComputeFeatures:!1,enableTelemetry:!1,passwordProtect:!1,password:\"\",backupFormType:e.BACKUP_FORM_TYPES.FILE},e.onBackupOptionsChange=function(t,n){e.formValues.backupFormType=t,e.state.featureLimited=n},e.removeFilteredContainerLabel=function(t){var n=e.settings;n.BlackListedLabels.splice(t,1),c(n)},e.addFilteredContainerLabel=function(){var t=e.settings,n={name:e.formValues.labelName,value:e.formValues.labelValue};t.BlackListedLabels.push(n),c(t)},e.downloadBackup=function(){const t={};e.formValues.passwordProtect&&(t.password=e.formValues.password),e.state.backupInProgress=!0,o.downloadBackup(t).then((function(e){const t=new Blob([e.file],{type:\"application/gzip\"});l.saveAs(t,e.name),n.success(\"Backup successfully downloaded\")})).catch((function(e){n.error(\"Failure\",e,\"Unable to download backup\")})).finally((function(){e.state.backupInProgress=!1}))},e.saveApplicationSettings=function(){var t=e.settings;e.formValues.customLogo||(t.LogoURL=\"\"),t.EnableEdgeComputeFeatures=e.formValues.enableEdgeComputeFeatures,t.EnableTelemetry=e.formValues.enableTelemetry,e.state.actionInProgress=!0,c(t)},a.settings().then((function(t){var n=t;e.settings=n,\"\"!==n.LogoURL&&(e.formValues.customLogo=!0),e.formValues.enableEdgeComputeFeatures=n.EnableEdgeComputeFeatures,e.formValues.enableTelemetry=n.EnableTelemetry})).catch((function(e){n.error(\"Failure\",e,\"Unable to retrieve application settings\")}))}])},function(e,t){function n(e,t,n,a,i,s,r,o){function l(){return s.isAdmin()}function c(){if(l())return!0;const e=o.currentEndpoint();return!(!e||!e.SecuritySettings)&&e.SecuritySettings.allowStackManagementForRegularUsers}t.applicationState=a.getState(),t.endpointState=o.endpoint(),async function(){t.uiVersion=a.getState().application.version,t.logo=a.getState().application.logo,t.endpointId=o.endpointID(),t.showStacks=c();const e=s.getUserDetails(),n=l();if(t.isAdmin=n,!n)try{!function(e){var n=!1;angular.forEach(e,(function(e){1===e.Role&&(n=!0)})),t.isTeamLeader=n}(await r.userMemberships(e.ID))}catch(e){i.error(\"Failure\",e,\"Unable to retrieve user memberships\")}}(),n.onEnter({},async()=>{t.endpointId=o.endpointID(),t.showStacks=c(),t.isAdmin=l(),t.applicationState.endpoint.name&&(document.title=`${e.defaultTitle} | ${t.applicationState.endpoint.name}`)})}n.$inject=[\"$rootScope\",\"$scope\",\"$transitions\",\"StateManager\",\"Notifications\",\"Authentication\",\"UserService\",\"EndpointProvider\"],angular.module(\"portainer.app\").controller(\"SidebarController\",n)},function(e,t,n){\"use strict\";n.r(t),function(e){var t=n(1),a=n.n(t),i=n(95),s=n.n(i),r=n(45),o=n(103),l=n(21);a.a.module(\"portainer.app\").controller(\"CreateStackController\",[\"$scope\",\"$state\",\"$async\",\"$window\",\"ModalService\",\"StackService\",\"Authentication\",\"Notifications\",\"FormValidator\",\"ResourceControlService\",\"FormHelper\",\"EndpointProvider\",\"StackHelper\",\"ContainerHelper\",\"CustomTemplateService\",\"ContainerService\",\"WebhookHelper\",\"clipboard\",function(t,n,a,i,c,d,u,p,m,g,h,f,v,b,y,w,x,$){function C(e,a){var i=h.removeInvalidEnvVars(t.formValues.Env);const s=+n.params.endpointId;if(\"template\"===a||\"editor\"===a){var r=t.formValues.StackFileContent;return d.createSwarmStackFromFileContent(e,r,i,s)}if(\"upload\"===a){var o=t.formValues.StackFile;return d.createSwarmStackFromFileUpload(e,o,i,s)}if(\"repository\"===a){var l={AdditionalFiles:t.formValues.AdditionalFiles,RepositoryURL:t.formValues.RepositoryURL,RepositoryReferenceName:t.formValues.RepositoryReferenceName,ComposeFilePathInRepository:t.formValues.ComposeFilePathInRepository,RepositoryAuthentication:t.formValues.RepositoryAuthentication,RepositoryUsername:t.formValues.RepositoryUsername,RepositoryPassword:t.formValues.RepositoryPassword};return S(l),d.createSwarmStackFromGitRepository(e,l,i,s)}}function S(e){t.formValues.RepositoryAutomaticUpdates&&(e.AutoUpdate={},t.formValues.RepositoryMechanism===l.RepositoryMechanismTypes.INTERVAL?e.AutoUpdate.Interval=t.formValues.RepositoryFetchInterval:t.formValues.RepositoryMechanism===l.RepositoryMechanismTypes.WEBHOOK&&(e.AutoUpdate.Webhook=t.formValues.RepositoryWebhookURL.split(\"/\").reverse()[0]))}function k(e,a){var i=h.removeInvalidEnvVars(t.formValues.Env);const s=+n.params.endpointId;if(\"editor\"===a||\"template\"===a){var r=t.formValues.StackFileContent;return d.createComposeStackFromFileContent(e,r,i,s)}if(\"upload\"===a){var o=t.formValues.StackFile;return d.createComposeStackFromFileUpload(e,o,i,s)}if(\"repository\"===a){var l={AdditionalFiles:t.formValues.AdditionalFiles,RepositoryURL:t.formValues.RepositoryURL,RepositoryReferenceName:t.formValues.RepositoryReferenceName,ComposeFilePathInRepository:t.formValues.ComposeFilePathInRepository,RepositoryAuthentication:t.formValues.RepositoryAuthentication,RepositoryUsername:t.formValues.RepositoryUsername,RepositoryPassword:t.formValues.RepositoryPassword};return S(l),d.createComposeStackFromGitRepository(e,l,i,s)}}async function A(e){t.state.uploadYamlValidationError=v.validateYAML(e.target.result,t.containerNames)}function P(e){return a(A,e)}t.onChangeTemplateId=function(e,n){return a(async()=>{try{t.state.selectedTemplateId=e,t.state.selectedTemplate=n;const a=await y.customTemplateFile(e);t.onChangeFileContent(a)}catch(e){this.Notifications.error(\"Failure\",e,\"Unable to retrieve Custom Template file\")}})},t.buildAnalyticsProperties=function(){const e={type:function(e){switch(e){case\"editor\":return\"web-editor\";case\"repository\":return\"git\";case\"upload\":return\"file-upload\";case\"template\":return\"custom-template\"}}(t.state.Method)};\"repository\"===t.state.Method&&(e.automaticUpdates=\"off\",t.formValues.RepositoryAutomaticUpdates&&(e.automaticUpdates=function(e){switch(e){case l.RepositoryMechanismTypes.INTERVAL:return\"polling\";case l.RepositoryMechanismTypes.WEBHOOK:return\"webhook\"}return\"off\"}(t.formValues.RepositoryMechanism)),e.auth=t.formValues.RepositoryAuthentication);\"template\"===t.state.Method&&(e.templateName=t.state.selectedTemplate.Title);return{metadata:e}},t.STACK_NAME_VALIDATION_REGEX=o.STACK_NAME_VALIDATION_REGEX,t.formValues={Name:\"\",StackFileContent:\"\",StackFile:null,RepositoryURL:\"\",RepositoryReferenceName:\"\",RepositoryAuthentication:!1,RepositoryUsername:\"\",RepositoryPassword:\"\",Env:[],AdditionalFiles:[],ComposeFilePathInRepository:\"docker-compose.yml\",AccessControlData:new r.AccessControlFormData,RepositoryAutomaticUpdates:!0,RepositoryMechanism:l.RepositoryMechanismTypes.INTERVAL,RepositoryFetchInterval:\"5m\",RepositoryWebhookURL:x.returnStackWebhookUrl(s()())},t.state={Method:\"editor\",formValidationError:\"\",actionInProgress:!1,StackType:null,editorYamlValidationError:\"\",uploadYamlValidationError:\"\",isEditorDirty:!1,selectedTemplate:null,selectedTemplateId:null},i.onbeforeunload=()=>{if(\"editor\"===t.state.Method&&t.formValues.StackFileContent&&t.state.isEditorDirty)return\"\"},t.$on(\"$destroy\",(function(){t.state.isEditorDirty=!1})),t.onChangeFormValues=function(e){t.formValues=e},t.addAdditionalFiles=function(){t.formValues.AdditionalFiles.push(\"\")},t.removeAdditionalFiles=function(e){t.formValues.AdditionalFiles.splice(e,1)},t.copyWebhook=function(){$.copyText(t.formValues.RepositoryWebhookURL),e(\"#copyNotification\").show(),e(\"#copyNotification\").fadeOut(2e3)},t.handleEnvVarChange=function(e){t.formValues.Env=e},t.deployStack=function(){var e=t.formValues.Name,a=t.state.Method,i=t.formValues.AccessControlData,s=u.getUserDetails(),r=u.isAdmin();if(\"editor\"!==a||\"\"!==t.formValues.StackFileContent){if(function(e,n){var a;return t.state.formValidationError=\"\",!(a=m.validateAccessControl(e,n))||(t.state.formValidationError=a,!1)}(i,r)){var o=C;2===t.state.StackType&&(o=k),t.state.actionInProgress=!0,o(e,a).then((function(e){e.data&&(e=e.data);const t=s.ID,n=e.ResourceControl;return g.applyResourceControl(t,i,n)})).then((function(){p.success(\"Stack successfully deployed\"),t.state.isEditorDirty=!1,n.go(\"docker.stacks\")})).catch((function(e){p.error(\"Deployment error\",e,\"Unable to deploy stack\")})).finally((function(){t.state.actionInProgress=!1}))}}else t.state.formValidationError=\"Stack file content must not be empty\"},t.onChangeFileContent=function(e){t.formValues.StackFileContent=e,t.state.editorYamlValidationError=v.validateYAML(t.formValues.StackFileContent,t.containerNames),t.state.isEditorDirty=!0},t.uploadFile=function(e){if(t.formValues.StackFile=e,e){const t=new FileReader;t.fileName=e.name,t.onload=P,t.readAsText(e)}},this.uiCanExit=async function(){if(\"editor\"===t.state.Method&&t.formValues.StackFileContent&&t.state.isEditorDirty)return c.confirmWebEditorDiscard()},async function(){var e=t.applicationState.endpoint.mode;t.state.StackType=2,\"DOCKER_SWARM_MODE\"===e.provider&&\"MANAGER\"===e.role&&(t.state.StackType=1);try{const e=f.currentEndpoint();t.composeSyntaxMaxVersion=e.ComposeSyntaxMaxVersion}catch(e){p.error(\"Failure\",e,\"Unable to retrieve the ComposeSyntaxMaxVersion\")}try{const e=await w.containers(!0);t.containerNames=b.getContainerNames(e)}catch(e){p.error(\"Failure\",e,\"Unable to retrieve Containers\")}}()}])}.call(this,n(50))},function(e,t,n){\"use strict\";n.r(t);var a=n(45);angular.module(\"portainer.app\").controller(\"StackController\",[\"$async\",\"$q\",\"$scope\",\"$state\",\"$window\",\"$transition$\",\"StackService\",\"NodeService\",\"ServiceService\",\"TaskService\",\"ContainerService\",\"ServiceHelper\",\"TaskHelper\",\"Notifications\",\"FormHelper\",\"EndpointProvider\",\"EndpointService\",\"GroupService\",\"ModalService\",\"StackHelper\",\"ResourceControlService\",\"Authentication\",\"ContainerHelper\",function(e,t,n,i,s,r,o,l,c,d,u,p,m,g,h,f,v,b,y,w,x,$,C){async function S(){if(await y.confirmAsync({title:\"Are you sure?\",message:\"Are you sure you want to stop this stack?\",buttons:{confirm:{label:\"Stop\",className:\"btn-danger\"}}})){n.state.actionInProgress=!0;try{await o.stop(n.stack.Id),i.reload()}catch(e){g.error(\"Failure\",e,\"Unable to stop stack\")}n.state.actionInProgress=!1}}async function k(){n.state.actionInProgress=!0;const e=n.stack.Id;try{await o.start(e),i.reload()}catch(e){g.error(\"Failure\",e,\"Unable to start stack\")}n.state.actionInProgress=!1}function A(e,n){var a={label:[\"com.docker.stack.namespace=\"+e]};return t.all({services:c.services(a),tasks:d.tasks(a),containers:n?u.containers(1):[],nodes:l.nodes()})}function P(e,t){var a=e.services,i=e.tasks;if(t)for(var s=e.containers,r=0;r<i.length;r++){var o=i[r];m.associateContainerToTask(o,s)}for(var l=0;l<a.length;l++){var c=a[l];p.associateTasksToService(c,i)}n.nodes=e.nodes,n.tasks=i,n.services=a}function I(e){var n={label:[\"com.docker.compose.project=\"+e]};return t.all({containers:u.containers(1,n)})}function T(e){n.containers=e.containers}function N(e){var t=r.params().type;!t||\"1\"!==t&&\"2\"!==t?g.error(\"Failure\",null,\"Invalid type URL parameter.\"):\"1\"===t?function(e){var t=n.applicationState.endpoint.mode.agentProxy;A(e,t).then((function(e){P(e,t)})).catch((function(e){g.error(\"Failure\",e,\"Unable to retrieve stack details\")}))}(e):function(e){I(e).then((function(e){T(e)})).catch((function(e){g.error(\"Failure\",e,\"Unable to retrieve stack details\")}))}(e)}n.state={actionInProgress:!1,migrationInProgress:!1,showEditorTab:!1,yamlError:!1,isEditorDirty:!1},n.formValues={Prune:!1,Endpoint:null,AccessControlData:new a.AccessControlFormData,Env:[]},s.onbeforeunload=()=>{if(n.stackFileContent&&n.state.isEditorDirty)return\"\"},n.$on(\"$destroy\",(function(){n.state.isEditorDirty=!1})),n.handleEnvVarChange=function(e){n.formValues.Env=e},n.duplicateStack=function(e,t){var a=n.stack,s=h.removeInvalidEnvVars(n.formValues.Env);return f.setEndpointID(t),o.duplicateStack(e,n.stackFileContent,s,t,a.Type).then((function(){g.success(\"Stack successfully duplicated\"),i.go(\"docker.stacks\",{},{reload:!0}),f.setEndpointID(a.EndpointId)})).catch((function(e){g.error(\"Failure\",e,\"Unable to duplicate stack\")}))},n.showEditor=function(){n.state.showEditorTab=!0},n.migrateStack=function(e,a){return t((function(t){y.confirm({title:\"Are you sure?\",message:\"This action will deploy a new instance of this stack on the target environment, please note that this does NOT relocate the content of any persistent volumes that may be attached to this stack.\",buttons:{confirm:{label:\"Migrate\",className:\"btn-danger\"}},callback:function(s){return s?t(function(e,t){var a=n.stack,s=t,r=o.migrateSwarmStack;2===a.Type&&(r=o.migrateComposeStack);var l=f.endpointID();0===a.EndpointId&&(a.EndpointId=l);return n.state.migrationInProgress=!0,r(a,s,e).then((function(){g.success(\"Stack successfully migrated\",a.Name),i.go(\"docker.stacks\",{},{reload:!0})})).catch((function(e){g.error(\"Failure\",e,\"Unable to migrate stack\")})).finally((function(){n.state.migrationInProgress=!1}))}(e,a)):t()}})}))},n.removeStack=function(){y.confirmDeletion(\"Do you want to remove the stack? Associated services will be removed as well.\",(function(e){var t,a;e&&(t=+i.params.endpointId,a=n.stack,o.remove(a,r.params().external,t).then((function(){g.success(\"Stack successfully removed\",a.Name),i.go(\"docker.stacks\")})).catch((function(e){g.error(\"Failure\",e,\"Unable to remove stack \"+a.Name)})))}))},n.associateStack=function(){var e=+i.params.endpointId,t=n.stack,a=n.formValues.AccessControlData;n.state.actionInProgress=!0,o.associate(t,e,n.orphanedRunning).then((function(e){const t=e.ResourceControl,n=$.getUserDetails().ID;return x.applyResourceControl(n,a,t)})).then((function(){g.success(\"Stack successfully associated\",t.Name),i.go(\"docker.stacks\")})).catch((function(e){g.error(\"Failure\",e,\"Unable to associate stack \"+t.Name)})).finally((function(){n.state.actionInProgress=!1}))},n.deployStack=function(){var e=n.stackFileContent,t=h.removeInvalidEnvVars(n.formValues.Env),a=n.formValues.Prune,s=n.stack,r=f.endpointID();0===s.EndpointId&&(s.EndpointId=r),n.state.actionInProgress=!0,o.updateStack(s,e,t,a).then((function(){g.success(\"Stack successfully deployed\"),n.state.isEditorDirty=!1,i.reload()})).catch((function(e){g.error(\"Failure\",e,\"Unable to create stack\")})).finally((function(){n.state.actionInProgress=!1}))},n.editorUpdate=function(e){n.stackFileContent.replace(/(\\r\\n|\\n|\\r)/gm,\"\")!==e.getValue().replace(/(\\r\\n|\\n|\\r)/gm,\"\")&&(n.state.isEditorDirty=!0,n.stackFileContent=e.getValue(),n.state.yamlError=w.validateYAML(n.stackFileContent,n.containerNames))},n.stopStack=function(){return e(S)},n.startStack=function(){return e(k)},this.uiCanExit=async function(){if(n.stackFileContent&&n.state.isEditorDirty)return y.confirmWebEditorDiscard()},async function(){var e=r.params().name;n.stackName=e,n.currentEndpointId=f.endpointID();const a=\"true\"==r.params().regular;n.regular=a;var i=\"true\"==r.params().external;n.external=i;const s=\"true\"==r.params().orphaned;n.orphaned=s;const l=\"true\"==r.params().orphanedRunning;if(n.orphanedRunning=l,(i||s&&l)&&N(e),a||s){const e=r.params().id;c=e,d=n.applicationState.endpoint.mode.agentProxy,v.endpoints().then((function(e){n.endpoints=e.value})).catch((function(e){g.error(\"Failure\",e,\"Unable to retrieve environments\")})),t.all({stack:o.stack(c),groups:b.groups(),containers:u.containers(!0)}).then((function(e){var a=e.stack;n.groups=e.groups,n.stack=a,n.containerNames=C.getContainerNames(e.containers),n.formValues.Env=n.stack.Env;let i=Promise.resolve({});return a.Status&&1!==a.Status||(i=1===a.Type?A(a.Name,d):I(a.Name)),t.all({stackFile:o.getStackFile(c),resources:i})})).then((function(e){const t=1===n.stack.Type;n.stackFileContent=e.stackFile,n.stack.Status||(n.stack.Status=e.resources&&(t&&e.resources.services.length||e.resources.containers.length)?1:2),1===n.stack.Status&&(t?P(e.resources,d):T(e.resources)),n.state.yamlError=w.validateYAML(n.stackFileContent,n.containerNames)})).catch((function(e){g.error(\"Failure\",e,\"Unable to retrieve stack details\")}))}var c,d;try{const e=f.currentEndpoint();n.composeSyntaxMaxVersion=e.ComposeSyntaxMaxVersion}catch(e){g.error(\"Failure\",e,\"Unable to retrieve the ComposeSyntaxMaxVersion\")}n.stackType=r.params().type}()}])},function(e,t){function n(e,t,n,a,i,s,r,o){function l(){var t=e.applicationState.endpoint.mode,i=s.endpointID();const o=r.isAdmin();a.stacks(!0,\"DOCKER_SWARM_MODE\"===t.provider&&\"MANAGER\"===t.role,i,o).then((function(t){var n=t;e.stacks=n,e.offlineMode=s.offlineMode()})).catch((function(t){e.stacks=[],n.error(\"Failure\",t,\"Unable to retrieve stacks\")}))}e.removeAction=function(r){i.confirmDeletion(\"Do you want to remove the selected stack(s)? Associated services will be removed as well.\",(function(i){var o,l,c;i&&(o=r,l=s.endpointID(),c=o.length,angular.forEach(o,(function(i){a.remove(i,i.External,l).then((function(){n.success(\"Stack successfully removed\",i.Name);var t=e.stacks.indexOf(i);e.stacks.splice(t,1)})).catch((function(e){n.error(\"Failure\",e,\"Unable to remove stack \"+i.Name)})).finally((function(){0==--c&&t.reload()}))})))}))},e.offlineMode=!1,e.createEnabled=!1,e.getStacks=l,async function(){l(),e.createEnabled=await async function(){return o.SecuritySettings.allowStackManagementForRegularUsers||r.isAdmin()}()}()}n.$inject=[\"$scope\",\"$state\",\"Notifications\",\"StackService\",\"ModalService\",\"EndpointProvider\",\"Authentication\",\"endpoint\"],angular.module(\"portainer.app\").controller(\"StacksController\",n)},function(e,t,n){\"use strict\";n.r(t);var a=n(33),i=n(1),s=n.n(i);function r(e,t,n,i,s){async function r(n){for(let t of n)try{await i.deleteTag(t.Id),s.success(\"Tag successfully removed\",t.Name),Object(a.a)(e.tags,t)}catch(e){s.error(\"Failure\",e,\"Unable to remove tag\")}t.reload()}e.state={actionInProgress:!1},e.formValues={Name:\"\"},e.checkNameValidity=function(t){for(var n=!0,a=0;a<e.tags.length;a++)if(e.formValues.Name===e.tags[a].Name){n=!1;break}t.name.$setValidity(\"validName\",n)},e.removeAction=function(e){return n(r,e)},e.createTag=function(){var n=e.formValues.Name;i.createTag(n).then((function(){s.success(\"Tag successfully created\",n),t.reload()})).catch((function(e){s.error(\"Failure\",e,\"Unable to create tag\")}))},i.tags().then((function(t){e.tags=t})).catch((function(t){s.error(\"Failure\",t,\"Unable to retrieve tags\"),e.tags=[]}))}r.$inject=[\"$scope\",\"$state\",\"$async\",\"TagService\",\"Notifications\"],s.a.module(\"portainer.app\").controller(\"TagsController\",r)},function(e,t){angular.module(\"portainer.app\").controller(\"TeamController\",[\"$q\",\"$scope\",\"$state\",\"$transition$\",\"TeamService\",\"UserService\",\"TeamMembershipService\",\"ModalService\",\"Notifications\",\"PaginationService\",\"Authentication\",function(e,t,n,a,i,s,r,o,l,c,d){function u(e,t){for(var n=0,a=t.length;n<a;n++)if(t[n].Id===e)return void t.splice(n,1)}t.state={pagination_count_users:c.getPaginationLimit(\"team_available_users\"),pagination_count_members:c.getPaginationLimit(\"team_members\")},t.sortTypeUsers=\"Username\",t.sortReverseUsers=!0,t.users=[],t.teamMembers=[],t.leaderCount=0,t.orderUsers=function(e){t.sortReverseUsers=t.sortTypeUsers===e&&!t.sortReverseUsers,t.sortTypeUsers=e},t.changePaginationCountUsers=function(){c.setPaginationLimit(\"team_available_users\",t.state.pagination_count_users)},t.sortTypeGroupMembers=\"TeamRole\",t.sortReverseGroupMembers=!1,t.orderGroupMembers=function(e){t.sortReverseGroupMembers=t.sortTypeGroupMembers===e&&!t.sortReverseGroupMembers,t.sortTypeGroupMembers=e},t.changePaginationCountGroupMembers=function(){c.setPaginationLimit(\"team_members\",t.state.pagination_count_members)},t.deleteTeam=function(){o.confirmDeletion(\"Do you want to delete this team? Users in this team will not be deleted.\",(function(e){e&&i.deleteTeam(t.team.Id).then((function(){l.success(\"Team successfully deleted\",t.team.Name),n.go(\"portainer.teams\")})).catch((function(e){l.error(\"Failure\",e,\"Unable to remove team\")}))}))},t.promoteToLeader=function(e){r.updateMembership(e.MembershipId,e.Id,t.team.Id,1).then((function(){t.leaderCount++,e.TeamRole=\"Leader\",l.success(\"User is now team leader\",e.Username)})).catch((function(e){l.error(\"Failure\",e,\"Unable to update user role\")}))},t.demoteToMember=function(e){r.updateMembership(e.MembershipId,e.Id,t.team.Id,2).then((function(){e.TeamRole=\"Member\",t.leaderCount--,l.success(\"User is now team member\",e.Username)})).catch((function(e){l.error(\"Failure\",e,\"Unable to update user role\")}))},t.addAllUsers=function(){var n=[];angular.forEach(t.users,(function(e){n.push(r.createMembership(e.Id,t.team.Id,2))})),e.all(n).then((function(e){for(var n=t.users,a=0;a<n.length;a++){var i=n[a];i.MembershipId=e[a].Id,i.TeamRole=\"Member\"}t.teamMembers=t.teamMembers.concat(n),t.users=[],l.success(\"All users successfully added\")})).catch((function(e){l.error(\"Failure\",e,\"Unable to update team members\")}))},t.addUser=function(e){r.createMembership(e.Id,t.team.Id,2).then((function(n){u(e.Id,t.users),e.TeamRole=\"Member\",e.MembershipId=n.Id,t.teamMembers.push(e),l.success(\"User added to team\",e.Username)})).catch((function(e){l.error(\"Failure\",e,\"Unable to update team members\")}))},t.removeAllUsers=function(){var n=[];angular.forEach(t.teamMembers,(function(e){n.push(r.deleteMembership(e.MembershipId))})),e.all(n).then((function(){t.users=t.users.concat(t.teamMembers),t.teamMembers=[],t.leaderCount=0,l.success(\"All users successfully removed\")})).catch((function(e){l.error(\"Failure\",e,\"Unable to update team members\")}))},t.removeUser=function(e){r.deleteMembership(e.MembershipId).then((function(){u(e.Id,t.teamMembers),\"Leader\"===e.TeamRole&&t.leaderCount--,t.users.push(e),l.success(\"User removed from team\",e.Username)})).catch((function(e){l.error(\"Failure\",e,\"Unable to update team members\")}))},t.isAdmin=d.isAdmin(),e.all({team:i.team(a.params().id),users:s.users(!1),memberships:i.userMemberships(a.params().id)}).then((function(e){var n=e.users;t.team=e.team,function(e,n){for(var a=0;a<e.length;a++){for(var i=e[a],s=!1,r=0;r<n.length;r++){var o=n[r];if(i.Id===o.UserId){s=!0,1===o.Role?(i.TeamRole=\"Leader\",t.leaderCount++):i.TeamRole=\"Member\",i.MembershipId=o.Id,t.teamMembers.push(i);break}}s||t.users.push(i)}}(n,e.memberships)})).catch((function(e){l.error(\"Failure\",e,\"Unable to retrieve team details\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(76);angular.module(\"portainer.app\").controller(\"TeamsController\",[\"$q\",\"$scope\",\"$state\",\"TeamService\",\"UserService\",\"ModalService\",\"Notifications\",\"Authentication\",function(e,t,n,i,s,r,o,l){var c,d;t.state={actionInProgress:!1},t.formValues={Name:\"\",Leaders:[]},t.checkNameValidity=function(e){for(var n=!0,a=0;a<t.teams.length;a++)if(t.formValues.Name===t.teams[a].Name){n=!1;break}e.team_name.$setValidity(\"validName\",n)},t.addTeam=function(){var e=t.formValues.Name,a=[];angular.forEach(t.formValues.Leaders,(function(e){a.push(e.Id)})),t.state.actionInProgress=!0,i.createTeam(e,a).then((function(){o.success(\"Team successfully created\",e),n.reload()})).catch((function(e){o.error(\"Failure\",e,\"Unable to create team\")})).finally((function(){t.state.actionInProgress=!1}))},t.removeAction=function(e){r.confirmDeletion(\"Do you want to delete the selected team(s)? Users in the team(s) will not be deleted.\",(function(a){a&&function(e){var a=e.length;angular.forEach(e,(function(e){i.deleteTeam(e.Id).then((function(){o.success(\"Team successfully removed\",e.Name);var n=t.teams.indexOf(e);t.teams.splice(n,1)})).catch((function(e){o.error(\"Failure\",e,\"Unable to remove team\")})).finally((function(){0===--a&&n.reload()}))}))}(e)}))},c=l.getUserDetails(),d=l.isAdmin(),t.isAdmin=d,e.all({users:s.users(!1),teams:d?i.teams():s.userLeadingTeams(c.ID)}).then((function(e){var n=e.teams;t.teams=n,t.users=Object(a.a)(e.users,\"Username\",\"asc\")})).catch((function(e){t.teams=[],t.users=[],o.error(\"Failure\",e,\"Unable to retrieve teams\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(76),i=n(5),s=n(2),r=n(6),o=n(45);angular.module(\"portainer.app\").controller(\"TemplatesController\",[\"$scope\",\"$q\",\"$state\",\"$anchorScroll\",\"ContainerService\",\"ImageService\",\"NetworkService\",\"TemplateService\",\"TemplateHelper\",\"VolumeService\",\"Notifications\",\"ResourceControlService\",\"Authentication\",\"FormValidator\",\"StackService\",\"endpoint\",function(e,t,n,l,c,d,u,p,m,g,h,f,v,b,y,w){function x(t,a,i){var s=function(t){var n=e.formValues.network,a=e.formValues.name;return p.createTemplateConfiguration(t,a,n)}(t),r=m.determineRequiredGeneratedVolumeCount(t.Volumes),o=[];g.createXAutoGeneratedLocalVolumes(r).then((function(e){return angular.forEach(e,(function(e){var t=e.Id;o.push(t)})),p.updateContainerConfigurationWithVolumes(s,t,e),d.pullImage(t.RegistryModel,!0)})).then((function(){return c.createAndStartContainer(s)})).then((function(e){const t=e.Portainer.ResourceControl;return f.applyResourceControl(a,i,t,o)})).then((function(){h.success(\"Container successfully created\"),n.go(\"docker.containers\",{},{reload:!0})})).catch((function(e){h.error(\"Failure\",e,e.msg)})).finally((function(){e.state.actionInProgress=!1}))}e.state={selectedTemplate:null,showAdvancedOptions:!1,formValidationError:\"\",actionInProgress:!1},e.formValues={network:\"\",name:\"\",AccessControlData:new o.AccessControlFormData},e.addVolume=function(){e.state.selectedTemplate.Volumes.push({containerPath:\"\",bind:\"\",readonly:!1,type:\"auto\"})},e.removeVolume=function(t){e.state.selectedTemplate.Volumes.splice(t,1)},e.addPortBinding=function(){e.state.selectedTemplate.Ports.push({hostPort:\"\",containerPort:\"\",protocol:\"tcp\"})},e.removePortBinding=function(t){e.state.selectedTemplate.Ports.splice(t,1)},e.addExtraHost=function(){e.state.selectedTemplate.Hosts.push(\"\")},e.removeExtraHost=function(t){e.state.selectedTemplate.Hosts.splice(t,1)},e.addLabel=function(){e.state.selectedTemplate.Labels.push({name:\"\",value:\"\"})},e.removeLabel=function(t){e.state.selectedTemplate.Labels.splice(t,1)},e.createTemplate=function(){var t=v.getUserDetails().ID,a=e.formValues.AccessControlData;if(function(t,n){var a;return e.state.formValidationError=\"\",!(a=b.validateAccessControl(t,n))||(e.state.formValidationError=a,!1)}(a,e.isAdmin)){var i=e.state.selectedTemplate;e.state.actionInProgress=!0,2===i.Type?function(t,a,i){var o=e.formValues.name,l=Object(r.a)(Object(s.a)(t.Env,(function(e){return{name:e.name,value:e.preset||!e.value?e.default:e.value}})),(function(e){return e.value&&e.name})),c={RepositoryURL:t.Repository.url,ComposeFilePathInRepository:t.Repository.stackfile};const d=+n.params.endpointId;y.createSwarmStackFromGitRepository(o,c,l,d).then((function(e){const t=e.ResourceControl;return f.applyResourceControl(a,i,t)})).then((function(){h.success(\"Stack successfully deployed\"),n.go(\"docker.stacks\")})).catch((function(e){h.error(\"Deployment error\",e)})).finally((function(){e.state.actionInProgress=!1}))}(i,t,a):3===i.Type?function(t,a,i){for(var s=e.formValues.name,r=0;r<t.Env.length;r++){var o=t.Env[r];o.preset&&(o.value=o.default)}var l={RepositoryURL:t.Repository.url,ComposeFilePathInRepository:t.Repository.stackfile};const c=+n.params.endpointId;y.createComposeStackFromGitRepository(s,l,t.Env,c).then((function(e){const t=e.ResourceControl;return f.applyResourceControl(a,i,t)})).then((function(){h.success(\"Stack successfully deployed\"),n.go(\"docker.stacks\")})).catch((function(e){h.error(\"Deployment error\",e)})).finally((function(){e.state.actionInProgress=!1}))}(i,t,a):x(i,t,a)}},e.unselectTemplate=function(t){t.Selected=!1,e.state.selectedTemplate=null},e.selectTemplate=function(t){e.state.selectedTemplate&&e.unselectTemplate(e.state.selectedTemplate),t.Selected=!0,t.Network?e.formValues.network=Object(i.a)(e.availableNetworks,(function(e){return e.Name===t.Network})):e.formValues.network=Object(i.a)(e.availableNetworks,(function(e){return\"bridge\"===e.Name})),e.formValues.name=t.Name?t.Name:\"\",e.state.selectedTemplate=t,e.state.deployable=function(e,t){let n=!1;switch(t){case 1:n=\"DOCKER_SWARM_MODE\"===e.mode.provider||\"DOCKER_STANDALONE\"===e.mode.provider;break;case 2:n=\"DOCKER_SWARM_MODE\"===e.mode.provider;break;case 3:n=\"DOCKER_STANDALONE\"===e.mode.provider}return n}(e.applicationState.endpoint,t.Type),l(\"view-top\")},function(){e.isAdmin=v.isAdmin();var n=e.applicationState.endpoint.mode,i=e.applicationState.endpoint.apiVersion;t.all({templates:p.templates(),volumes:g.getVolumes(),networks:u.networks(\"DOCKER_STANDALONE\"===n.provider||\"DOCKER_SWARM_MODE\"===n.provider,!1,\"DOCKER_SWARM_MODE\"===n.provider&&i>=1.25)}).then((function(t){var n=t.templates;e.templates=n,e.availableVolumes=Object(a.a)(t.volumes.Volumes,[e=>e.Name.toLowerCase()],[\"asc\"]);var i=t.networks;e.availableNetworks=i,e.allowBindMounts=w.SecuritySettings.allowBindMountsForRegularUsers})).catch((function(t){e.templates=[],h.error(\"Failure\",t,\"An error occured during apps initialization.\")}))}()}])},function(e,t){angular.module(\"portainer.app\").controller(\"UserController\",[\"$q\",\"$scope\",\"$state\",\"$transition$\",\"UserService\",\"ModalService\",\"Notifications\",\"SettingsService\",\"Authentication\",function(e,t,n,a,i,s,r,o,l){t.state={updatePasswordError:\"\"},t.formValues={username:\"\",newPassword:\"\",confirmPassword:\"\",Administrator:!1},t.deleteUser=function(){s.confirmDeletion(\"Do you want to remove this user? This user will not be able to login into Portainer anymore.\",(function(e){e&&i.deleteUser(t.user.Id).then((function(){r.success(\"User successfully deleted\",t.user.Username),n.go(\"portainer.users\")})).catch((function(e){r.error(\"Failure\",e,\"Unable to remove user\")}))}))},t.updateUser=async function(){const e=t.formValues.Administrator?1:2,a=t.user.Username,o=t.formValues.username;let l=Promise.resolve(!0);o!=a&&(l=new Promise(e=>s.confirm({title:\"Are you sure?\",message:`Are you sure you want to rename the user ${a} to ${o}?`,buttons:{confirm:{label:\"Update\",className:\"btn-primary\"}},callback:e})));await l&&i.updateUser(t.user.Id,{role:e,username:o}).then((function(){r.success(\"User successfully updated\"),n.reload()})).catch((function(e){r.error(\"Failure\",e,\"Unable to update user permissions\")}))},t.updatePassword=function(){i.updateUser(t.user.Id,{password:t.formValues.newPassword}).then((function(){r.success(\"Password successfully updated\"),n.reload()})).catch((function(e){r.error(\"Failure\",e,\"Unable to update user password\")}))},t.isSubmitEnabled=function(){const{user:e,formValues:n}=t;return e&&(e.Username!==n.username||n.Administrator&&1!==e.Role||!n.Administrator&&1===e.Role)},t.isDeleteDisabled=function(){const{user:e}=t;return e&&1===e.Id},t.isAdmin=l.isAdmin(),e.all({user:i.user(a.params().id),settings:o.publicSettings()}).then((function(e){var n=e.user;t.user=n,t.formValues.Administrator=1===n.Role,t.formValues.username=n.Username,t.AuthenticationMethod=e.settings.AuthenticationMethod})).catch((function(e){r.error(\"Failure\",e,\"Unable to retrieve user information\")}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(76);angular.module(\"portainer.app\").controller(\"UsersController\",[\"$q\",\"$scope\",\"$state\",\"UserService\",\"TeamService\",\"TeamMembershipService\",\"ModalService\",\"Notifications\",\"Authentication\",\"SettingsService\",function(e,t,n,i,s,r,o,l,c,d){var u,p;t.state={userCreationError:\"\",validUsername:!1,actionInProgress:!1},t.formValues={Username:\"\",Password:\"\",ConfirmPassword:\"\",Administrator:!1,Teams:[]},t.checkUsernameValidity=function(){for(var e=!0,n=0;n<t.users.length;n++)if(t.formValues.Username.toLocaleLowerCase()===t.users[n].Username.toLocaleLowerCase()){e=!1;break}t.state.validUsername=e,t.state.userCreationError=e?\"\":\"Username already taken\"},t.addUser=function(){t.state.actionInProgress=!0,t.state.userCreationError=\"\";var e=t.formValues.Username,a=t.formValues.Password,s=t.formValues.Administrator?1:2,r=[];angular.forEach(t.formValues.Teams,(function(e){r.push(e.Id)})),i.createUser(e,a,s,r).then((function(){l.success(\"User successfully created\",e),n.reload()})).catch((function(e){l.error(\"Failure\",e,\"Unable to create user\")})).finally((function(){t.state.actionInProgress=!1}))},t.removeAction=function(e){o.confirmDeletion(\"Do you want to remove the selected users? They will not be able to login into Portainer anymore.\",(function(a){a&&function(e){var a=e.length;angular.forEach(e,(function(e){i.deleteUser(e.Id).then((function(){l.success(\"User successfully removed\",e.Username);var n=t.users.indexOf(e);t.users.splice(n,1)})).catch((function(e){l.error(\"Failure\",e,\"Unable to remove user\")})).finally((function(){0===--a&&n.reload()}))}))}(e)}))},u=c.getUserDetails(),p=c.isAdmin(),t.isAdmin=p,e.all({users:i.users(!0),teams:p?s.teams():i.userLeadingTeams(u.ID),memberships:r.memberships(),settings:d.publicSettings()}).then((function(e){var n=e.users;!function(e,t){for(var n=0;n<e.length;n++){var a=e[n];a.isTeamLeader=!1;for(var i=0;i<t.length;i++){var s=t[i];if(a.Id===s.UserId&&1===s.Role){a.isTeamLeader=!0,a.RoleName=\"team leader\";break}}}}(n,e.memberships),t.users=n,t.teams=Object(a.a)(e.teams,\"Name\",\"asc\"),t.AuthenticationMethod=e.settings.AuthenticationMethod})).catch((function(e){l.error(\"Failure\",e,\"Unable to retrieve users and teams\"),t.users=[],t.teams=[]}))}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(666);const r=n(2043);i.a.module(\"portainer.app\").component(\"wizardView\",{templateUrl:r,controller:s.default})},function(e,t){var n=\"app/portainer/views/wizard/wizard-view.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Quick Setup\"></rd-header-title>\\n  <rd-header-content>Environment Wizard</rd-header-content>\\n</rd-header>\\n\\n<div class=\"row\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-magic\" title-text=\"Environment Wizard\"> </rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"row\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Welcome to Portainer\\n          </div>\\n          <div>\\n            <span class=\"text-muted small\" ng-show=\"$ctrl.state.endpoint.added\">\\n              We have connected your local environment of {{ $ctrl.state.endpoint.connected }} to Portainer. <br\\n            /></span>\\n            <span class=\"text-muted small\" ng-show=\"!$ctrl.state.endpoint.loading && !$ctrl.state.endpoint.added\">\\n              We could not connect your local environment to Portainer. <br />\\n              Please ensure your environment is correctly exposed. For help with installation vist\\n              <a href=\"https://documentation.portainer.io/quickstart/\">https://documentation.portainer.io/quickstart</a><br />\\n            </span>\\n            <span class=\"text-muted small\">\\n              Get started below with your local portainer or connect more container environments.\\n            </span>\\n          </div>\\n\\n          <wizard-link\\n            ng-show=\"$ctrl.state.endpoint.added\"\\n            icon=\"$ctrl.state.local.icon\"\\n            title=\"Get Started\"\\n            link-title=\"Get Started\"\\n            description=\"Proceed using the local environment which Portainer is running in\"\\n            ui-sref=\"portainer.home\"\\n            analytics-on\\n            analytics-category=\"portainer\"\\n            analytics-event=\"endpoint-wizard-endpoint-select\"\\n            analytics-properties=\"{ metadata: { environment: \\'Get-started-local-environment\\' }}\"\\n          ></wizard-link>\\n          <wizard-link\\n            title=\"Add Environments\"\\n            link-title=\"Add Environments\"\\n            icon=\"$ctrl.state.remote.icon\"\\n            description=\"Connect to other environments\"\\n            ui-sref=\"portainer.wizard.endpoints\"\\n          ></wizard-link>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/wizard/wizard-endpoints/wizard-endpoints.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-header>\\n  <rd-header-title title-text=\"Quick Setup\"></rd-header-title>\\n  <rd-header-content>Environment Wizard</rd-header-content>\\n</rd-header>\\n\\n<div class=\"wizard-wrapper\" ng-if=\"$ctrl.state.currentStep !== 0\">\\n  <div class=\"wizard-main\">\\n    <div class=\"row\">\\n      <div class=\"col-sm-12\">\\n        <rd-widget>\\n          <rd-widget-header icon=\"fa-magic\" title-text=\"Environment Wizard\"> </rd-widget-header>\\n          <rd-widget-body>\\n            \\x3c!-- Stepper --\\x3e\\n            <wizard-stepper endpoint-selections=\"$ctrl.state.selections\"></wizard-stepper>\\n            \\x3c!-- Stepper --\\x3e\\n\\n            <div class=\"col-sm-12 form-section-title wizard-main-title\"> Connect to your {{ $ctrl.state.section }} environment </div>\\n\\n            <div ng-switch=\"$ctrl.state.section\" class=\"wizard-endpoint-section\">\\n              <wizard-docker ng-switch-when=\"docker\" on-update=\"($ctrl.updateEndpoint)\" on-analytics=\"($ctrl.addAnalytics)\"></wizard-docker>\\n              <wizard-aci ng-switch-when=\"aci\" on-update=\"($ctrl.updateEndpoint)\" on-analytics=\"($ctrl.addAnalytics)\"></wizard-aci>\\n              <wizard-kubernetes ng-switch-when=\"kubernetes\" on-update=\"($ctrl.updateEndpoint)\" on-analytics=\"($ctrl.addAnalytics)\"></wizard-kubernetes>\\n            </div>\\n\\n            <div class=\"wizard-step-action\">\\n              <button\\n                ng-click=\"$ctrl.previousStep()\"\\n                ng-show=\"$ctrl.state.currentStep !== 0\"\\n                type=\"submit\"\\n                class=\"btn btn-primary btn-sm previous-btn\"\\n                ng-disabled=\"$ctrl.state.currentStep === 1\"\\n              >\\n                <i class=\"fas fa-arrow-left space-right\"></i>{{ $ctrl.state.previousStep }}\\n              </button>\\n              <button ng-click=\"$ctrl.nextStep()\" ng-show=\"$ctrl.state.currentStep !== 0\" type=\"submit\" class=\"btn btn-primary btn-sm next-btn\">\\n                {{ $ctrl.state.nextStep }} <i class=\"fas fa-arrow-right space-left\"></i\\n              ></button>\\n            </div>\\n          </rd-widget-body>\\n        </rd-widget>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\"wizard-aside\" ng-if=\"$ctrl.state.currentStep !== 0\">\\n    <wizard-endpoint-list endpoint-list=\"$ctrl.endpoints\"></wizard-endpoint-list>\\n  </div>\\n</div>\\n\\n<div class=\"row\" ng-if=\"$ctrl.state.currentStep === 0\">\\n  <div class=\"col-sm-12\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-magic\" title-text=\"Environment Wizard\"> </rd-widget-header>\\n      <rd-widget-body>\\n        <div class=\"row\">\\n          <div class=\"col-sm-12 form-section-title\">\\n            Select your environment(s)\\n          </div>\\n          <div>\\n            <span class=\"text-muted small\">You can onboard different types of environments, select all that apply.</span>\\n          </div>\\n          <div class=\"wizard-section\">\\n            <wizard-endpoint-type\\n              endpoint-title=\"Docker\"\\n              description=\"Connect to Docker Standalone / Swarm via URL/IP, API or Socket\"\\n              icon=\"fab fa-docker\"\\n              active=\"$ctrl.state.dockerActive\"\\n              ng-click=\"$ctrl.endpointSelect(\\'docker\\')\"\\n            ></wizard-endpoint-type>\\n\\n            <wizard-endpoint-type\\n              endpoint-title=\"Kubernetes\"\\n              description=\"Connect to a kubernetes environment via URL/IP\"\\n              icon=\"fas fa-dharmachakra\"\\n              active=\"$ctrl.state.kubernetesActive\"\\n              ng-click=\"$ctrl.endpointSelect(\\'kubernetes\\')\"\\n            ></wizard-endpoint-type>\\n\\n            <wizard-endpoint-type\\n              endpoint-title=\"ACI\"\\n              description=\"Connect to ACI environment via API\"\\n              icon=\"fab fa-microsoft\"\\n              active=\"$ctrl.state.aciActive\"\\n              ng-click=\"$ctrl.endpointSelect(\\'aci\\')\"\\n            ></wizard-endpoint-type>\\n          </div>\\n\\n          <div class=\"wizard-section\">\\n            <div class=\"wizard-section-action\">\\n              <button ng-click=\"$ctrl.startWizard()\" ng-disabled=\"$ctrl.state.selections.length === 0\" type=\"submit\" class=\"btn btn-primary btn-sm no-margin\">Start Wizard</button>\\n            </div>\\n          </div>\\n        </div>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(668);const r=n(2046);i.a.module(\"portainer.app\").component(\"wizardAci\",{templateUrl:r,controller:s.default,bindings:{onUpdate:\"<\",onAnalytics:\"<\"}})},function(e,t){var n=\"app/portainer/views/wizard/wizard-endpoints/wizard-endpoint-aci/wizard-aci.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" name=\"aciWizardForm\">\\n  <box-selector radio-name=\"ACI\" ng-model=\"$ctrl.state.endpointType\" options=\"$ctrl.state.availableOptions\"></box-selector>\\n  \\x3c!-- docker form section--\\x3e\\n  <div class=\"form-group wizard-form\">\\n    <label for=\"acir_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name<span class=\"wizard-form-required\">*</span></label>\\n    <div class=\"col-sm-9 col-lg-10\" style=\"margin-bottom: 15px;\">\\n      <input type=\"text\" class=\"form-control\" name=\"aci_name\" ng-model=\"$ctrl.formValues.name\" placeholder=\"e.g. docker-prod01 / kubernetes-cluster01\" required auto-focus />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"azure_credential_appid\" class=\"col-sm-3 col-lg-2 control-label text-left\">Application ID:<span class=\"wizard-form-required\">*</span></label>\\n    <div class=\"col-sm-9 col-lg-10\" style=\"margin-bottom: 15px;\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        name=\"azure_credential_appid\"\\n        ng-model=\"$ctrl.formValues.azureApplicationId\"\\n        placeholder=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\\n        required\\n      />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"azure_credential_tenantid\" class=\"col-sm-3 col-lg-2 control-label text-left\">Tenant ID:<span class=\"wizard-form-required\">*</span></label>\\n    <div class=\"col-sm-9 col-lg-10\" style=\"margin-bottom: 15px;\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        name=\"azure_credential_tenantid\"\\n        ng-model=\"$ctrl.formValues.azureTenantId\"\\n        placeholder=\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\"\\n        required\\n      />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"azure_credential_authkey\" class=\"col-sm-3 col-lg-2 control-label text-left\">Authentication key<span class=\"wizard-form-required\">*</span></label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        name=\"azure_credential_authkey\"\\n        ng-model=\"$ctrl.formValues.azureAuthenticationKey\"\\n        placeholder=\"cOrXoK/1D35w8YQ8nH1/8ZGwzz45JIYD5jxHKXEQknk=\"\\n        required\\n      />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm wizard-connect-button\"\\n        ng-disabled=\"!$ctrl.formValues.name || !$ctrl.formValues.azureApplicationId || !$ctrl.formValues.azureTenantId || !$ctrl.formValues.azureAuthenticationKey || $ctrl.state.actionInProgress\"\\n        ng-click=\"$ctrl.addAciEndpoint()\"\\n        button-spinner=\"$ctrl.state.actionInProgress\"\\n      >\\n        <span ng-hide=\"$ctrl.state.actionInProgress\"><i class=\"fa fa-plug\" style=\"margin-right: 5px;\"></i> Connect </span>\\n        <span ng-show=\"$ctrl.state.actionInProgress\">Connecting environment...</span>\\n      </button>\\n    </div>\\n  </div>\\n</form>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(669);const r=n(2048);i.a.module(\"portainer.app\").component(\"wizardDocker\",{templateUrl:r,controller:s.default,bindings:{onUpdate:\"<\",onAnalytics:\"<\"}})},function(e,t){var n=\"app/portainer/views/wizard/wizard-endpoints/wizard-endpoint-docker/wizard-docker.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" name=\"dockerWizardForm\">\\n  \\x3c!-- docker tab selection --\\x3e\\n  <box-selector radio-name=\"Docker\" ng-click=\"$ctrl.clearForm()\" ng-model=\"$ctrl.state.endpointType\" options=\"$ctrl.state.availableOptions\"></box-selector>\\n  \\x3c!-- docker tab selection --\\x3e\\n  <div style=\"padding-left: 10px;\">\\n    <div class=\"form-group\">\\n      <div ng-if=\"$ctrl.state.endpointType === \\'agent\\'\" class=\"wizard-code\">\\n        <uib-tabset>\\n          <uib-tab index=\"0\" heading=\"Linux\">\\n            <code style=\"display: block; white-space: pre-wrap; padding: 16px 10px;\"\\n              ><h6 style=\"color: #000;\">CLI script for installing agent on your Linux environment with Docker Swarm</h6>{{ $ctrl.command.linuxCommand\\n              }}<i class=\"fas fa-copy wizard-copy-button\" ng-click=\"$ctrl.copyLinuxCommand()\"></i\\n              ><i id=\"linuxCommandNotification\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none;\"></i\\n            ></code>\\n          </uib-tab>\\n\\n          <uib-tab index=\"1\" heading=\"Windows\">\\n            <code style=\"display: block; white-space: pre-wrap; padding: 16px 10px;\"\\n              ><h6 style=\"color: #000;\">CLI script for installing agent on your Windows environment with Docker Swarm</h6>{{ $ctrl.command.winCommand\\n              }}<i class=\"fas fa-copy wizard-copy-button\" ng-click=\"$ctrl.copyWinCommand()\"></i\\n              ><i id=\"winCommandNotification\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none;\"></i\\n            ></code>\\n          </uib-tab>\\n        </uib-tabset>\\n      </div>\\n\\n      <div ng-if=\"$ctrl.state.endpointType === \\'api\\' || $ctrl.state.endpointType === \\'socket\\'\" class=\"wizard-code\">\\n        <uib-tabset active=\"state.deploymentTab\">\\n          <uib-tab index=\"0\" heading=\"Linux\">\\n            <code style=\"display: block; white-space: pre-wrap; padding: 16px 10px;\"\\n              ><h6 style=\"color: #000;\">When using the socket, ensure that you have started the Portainer container with the following Docker flag on Linux</h6\\n              >{{ $ctrl.command.linuxSocket }}<i class=\"fas fa-copy wizard-copy-button\" ng-click=\"$ctrl.copyLinuxSocket()\"></i\\n              ><i id=\"linuxSocketNotification\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none;\"></i\\n            ></code>\\n          </uib-tab>\\n\\n          <uib-tab index=\"1\" heading=\"Windows\">\\n            <code style=\"display: block; white-space: pre-wrap; padding: 16px 10px;\"\\n              ><h6 style=\"color: #000;\">When using the socket, ensure that you have started the Portainer container with the following Docker flag on Windows</h6\\n              >{{ $ctrl.command.winSocket }}<i class=\"fas fa-copy wizard-copy-button\" ng-click=\"$ctrl.copyWinSocket()\"></i\\n              ><i id=\"winSocketNotification\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none;\"></i\\n            ></code>\\n          </uib-tab>\\n        </uib-tabset>\\n      </div>\\n    </div>\\n  </div>\\n\\n  \\x3c!-- docker form section--\\x3e\\n  <div class=\"form-group wizard-form\">\\n    <label for=\"endpoint_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name<span class=\"wizard-form-required\">*</span></label>\\n    <div class=\"col-sm-9 col-lg-10\">\\n      <input type=\"text\" class=\"form-control\" name=\"endpoint_name\" ng-model=\"$ctrl.formValues.name\" placeholder=\"e.g. docker-prod01 / kubernetes-cluster01\" auto-focus />\\n    </div>\\n  </div>\\n\\n  <div ng-if=\"$ctrl.state.endpointType === \\'agent\\'\" class=\"form-group\">\\n    <label for=\"endpoint_url\" class=\"col-sm-3 col-lg-2 control-label text-left\"> Environments URL<span class=\"wizard-form-required\">*</span> </label>\\n\\n    <div class=\"col-sm-9 col-lg-10\" style=\"margin-bottom: 15px;\">\\n      <input\\n        ng-if=\"$ctrl.state.endpointType === \\'agent\\'\"\\n        type=\"text\"\\n        class=\"form-control\"\\n        name=\"endpoint_url\"\\n        ng-model=\"$ctrl.formValues.url\"\\n        placeholder=\"e.g. 10.0.0.10:9001 or tasks.portainer_agent:9001\"\\n      />\\n    </div>\\n  </div>\\n\\n  <div ng-if=\"$ctrl.state.endpointType === \\'api\\'\">\\n    <div class=\"form-group\">\\n      <label for=\"dockerapi_url\" class=\"col-sm-3 col-lg-2 control-label text-left\"> Docker API URL<span class=\"wizard-form-required\">*</span> </label>\\n\\n      <div class=\"col-sm-9 col-lg-10\" style=\"margin-bottom: 15px;\">\\n        <input\\n          ng-if=\"$ctrl.state.endpointType === \\'api\\'\"\\n          type=\"text\"\\n          class=\"form-control\"\\n          name=\"dockerapi_url\"\\n          ng-model=\"$ctrl.formValues.url\"\\n          placeholder=\"e.g. 10.0.0.10:2375 or mydocker.mydomain.com:2375\"\\n        />\\n      </div>\\n    </div>\\n\\n    <div class=\"form-group\" style=\"padding-left: 15px; width: 15%;\">\\n      <por-switch-field ng-model=\"$ctrl.formValues.tls\" name=\"connect_socket\" label=\"TLS\" label-class=\"col-sm-12 col-lg-4\"></por-switch-field>\\n    </div>\\n\\n    <div class=\"form-group\" style=\"padding-left: 15px; width: 40%;\">\\n      <por-switch-field\\n        ng-if=\"$ctrl.formValues.tls\"\\n        ng-model=\"$ctrl.formValues.skipCertification\"\\n        name=\"skip_certification\"\\n        label=\"Skip Certification Verification\"\\n        label-class=\"col-sm-12 col-lg-4\"\\n      ></por-switch-field>\\n    </div>\\n\\n    <div>\\n      <wizard-tls ng-if=\"!$ctrl.formValues.skipCertification && $ctrl.formValues.tls\" form-data=\"$ctrl.formValues.securityFormData\" onChange=\"($ctrl.onChangeFile)\"></wizard-tls>\\n    </div>\\n  </div>\\n\\n  <div ng-if=\"$ctrl.state.endpointType === \\'socket\\'\" class=\"form-group\" style=\"padding-left: 15px;\">\\n    <div class=\"form-group\" style=\"padding-left: 15px;\">\\n      <label for=\"override_socket\" class=\"col-sm_12 control-label text-left\">\\n        Override default socket path\\n      </label>\\n      <label class=\"switch\" style=\"margin-left: 20px;\"> <input type=\"checkbox\" ng-model=\"$ctrl.formValues.overrideSocket\" /><i></i></label>\\n    </div>\\n\\n    <div ng-if=\"$ctrl.formValues.overrideSocket\">\\n      <div class=\"form-group\">\\n        <label for=\"socket_path\" class=\"col-sm-3 col-lg-2 control-label text-left\">\\n          Socket path\\n          <portainer-tooltip position=\"bottom\" message=\"Path to the Docker socket. Remember to bind-mount the socket, see the important notice above for more information.\">\\n          </portainer-tooltip>\\n        </label>\\n        <div class=\"col-sm-9 col-lg-10\">\\n          <input\\n            type=\"text\"\\n            class=\"form-control\"\\n            name=\"socket_path\"\\n            ng-model=\"$ctrl.formValues.socketPath\"\\n            placeholder=\"e.g. /var/run/docker.sock (on Linux) or //./pipe/docker_engine (on Windows)\"\\n          />\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        ng-if=\"$ctrl.state.endpointType === \\'agent\\'\"\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm wizard-connect-button\"\\n        ng-disabled=\"!$ctrl.formValues.name || !$ctrl.formValues.url || $ctrl.state.actionInProgress\"\\n        ng-click=\"$ctrl.connectEnvironment(\\'agent\\')\"\\n        button-spinner=\"$ctrl.state.actionInProgress\"\\n      >\\n        <span ng-hide=\"$ctrl.state.actionInProgress\"><i class=\"fa fa-plug\" style=\"margin-right: 5px;\"></i>Connect </span>\\n        <span ng-show=\"$ctrl.state.actionInProgress\">Connecting environment...</span>\\n      </button>\\n      <button\\n        ng-if=\"$ctrl.state.endpointType === \\'api\\'\"\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm wizard-connect-button\"\\n        ng-disabled=\"!$ctrl.formValues.name || !$ctrl.formValues.url || $ctrl.state.actionInProgress\"\\n        ng-click=\"$ctrl.connectEnvironment(\\'api\\')\"\\n        button-spinner=\"$ctrl.state.actionInProgress\"\\n      >\\n        <span ng-hide=\"$ctrl.state.actionInProgress\"><i class=\"fa fa-plug\" style=\"margin-right: 5px;\"></i>Connect </span>\\n        <span ng-show=\"$ctrl.state.actionInProgress\">Connecting environment...</span>\\n      </button>\\n      <button\\n        ng-if=\"$ctrl.state.endpointType === \\'socket\\'\"\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm wizard-connect-button\"\\n        ng-disabled=\"!$ctrl.formValues.name || $ctrl.state.actionInProgress\"\\n        ng-click=\"$ctrl.connectEnvironment(\\'socket\\')\"\\n        button-spinner=\"$ctrl.state.actionInProgress\"\\n      >\\n        <span ng-hide=\"$ctrl.state.actionInProgress\"><i class=\"fa fa-plug\" style=\"margin-right: 5px;\"></i>Connect </span>\\n        <span ng-show=\"$ctrl.state.actionInProgress\">Connecting environment...</span>\\n      </button>\\n    </div>\\n  </div>\\n</form>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(670);const r=n(2050);i.a.module(\"portainer.app\").component(\"wizardKubernetes\",{templateUrl:r,controller:s.default,bindings:{onUpdate:\"<\",onAnalytics:\"<\"}})},function(e,t){var n=\"app/portainer/views/wizard/wizard-endpoints/wizard-endpoint-kubernetes/wizard-kubernetes.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<form class=\"form-horizontal\" name=\"kubernetesWizardForm\">\\n  <box-selector radio-name=\"Kubernetes\" ng-model=\"$ctrl.state.endpointType\" options=\"$ctrl.state.availableOptions\"></box-selector>\\n  \\x3c!-- docker tab selection --\\x3e\\n  <div style=\"padding-left: 10px;\">\\n    <div class=\"form-group\">\\n      <div class=\"wizard-code\">\\n        <uib-tabset active=\"state.deploymentTab\">\\n          <uib-tab index=\"0\" heading=\"Kubernetes via load balancer\">\\n            <code style=\"display: block; white-space: pre-wrap; padding: 16px 10px;\"\\n              ><h6 style=\"color: #000;\">CLI script for installing agent on your endpoint</h6>{{ $ctrl.command.loadBalancer\\n              }}<i class=\"fas fa-copy wizard-copy-button\" ng-click=\"$ctrl.copyLoadBalancer()\"></i\\n              ><i id=\"loadBalancerNotification\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none;\"></i\\n            ></code>\\n          </uib-tab>\\n\\n          <uib-tab index=\"1\" heading=\"Kubernetes via node port\">\\n            <code style=\"display: block; white-space: pre-wrap; padding: 16px 10px;\"\\n              ><h6 style=\"color: #000;\">CLI script for installing agent on your endpoint</h6>{{ $ctrl.command.nodePort\\n              }}<i class=\"fas fa-copy wizard-copy-button\" ng-click=\"$ctrl.copyNodePort()\"></i\\n              ><i id=\"nodePortNotification\" class=\"fa fa-check green-icon\" aria-hidden=\"true\" style=\"margin-left: 7px; display: none;\"></i\\n            ></code>\\n          </uib-tab>\\n        </uib-tabset>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group wizard-form\">\\n    <label for=\"endpoint_name\" class=\"col-sm-3 col-lg-2 control-label text-left\">Name<span class=\"wizard-form-required\">*</span></label>\\n    <div class=\"col-sm-9 col-lg-10\" style=\"margin-bottom: 15px;\">\\n      <input\\n        type=\"text\"\\n        class=\"form-control\"\\n        name=\"endpoint_name\"\\n        ng-model=\"$ctrl.state.formValues.name\"\\n        placeholder=\"e.g. docker-prod01 / kubernetes-cluster01\"\\n        required\\n        auto-focus\\n      />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <label for=\"endpoint_url\" class=\"col-sm-3 col-lg-2 control-label text-left\"> Environments URL<span class=\"wizard-form-required\">*</span> </label>\\n\\n    <div class=\"col-sm-9 col-lg-10\" style=\"margin-bottom: 15px;\">\\n      <input type=\"text\" class=\"form-control\" name=\"endpoint_url\" ng-model=\"$ctrl.state.formValues.url\" placeholder=\"e.g. 10.0.0.10:9001 or tasks.portainer_agent:9001\" required />\\n    </div>\\n  </div>\\n\\n  <div class=\"form-group\">\\n    <div class=\"col-sm-12\">\\n      <button\\n        type=\"submit\"\\n        class=\"btn btn-primary btn-sm wizard-connect-button\"\\n        ng-disabled=\"!$ctrl.state.formValues.name || !$ctrl.state.formValues.url || $ctrl.state.actionInProgress\"\\n        ng-click=\"$ctrl.addKubernetesAgent()\"\\n        button-spinner=\"$ctrl.state.actionInProgress\"\\n      >\\n        <span ng-hide=\"$ctrl.state.actionInProgress\"><i class=\"fa fa-plug\" style=\"margin-right: 5px;\"></i> Connect </span>\\n        <span ng-show=\"$ctrl.state.actionInProgress\">Connecting environment...</span>\\n      </button>\\n    </div>\\n  </div>\\n</form>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/wizard/wizard-endpoints/wizard-endpoint-list/wizard-endpoint-list.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<rd-widget>\\n  <rd-widget-header icon=\"fa-plug\" title-text=\"Connected Environments\"> </rd-widget-header>\\n  <rd-widget-body>\\n    <div class=\"wizard-list-wrapper\" ng-repeat=\"endpoint in $ctrl.endpointList\">\\n      <div class=\"wizard-list-image\"><i ng-class=\"endpoint.Type | endpointtypeicon\" aria-hidden=\"true\" style=\"margin-right: 2px;\"></i></div>\\n      <div class=\"wizard-list-title\">{{ endpoint.Name }}</div>\\n      <div class=\"wizard-list-subtitle\">URL: {{ endpoint.URL | stripprotocol }}</div>\\n      <div class=\"wizard-list-type\">Type: {{ endpoint.Type | endpointtypename }}</div>\\n    </div>\\n  </rd-widget-body>\\n</rd-widget>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/wizard/wizard-endpoints/wizard-stepper/wizard-stepper.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"stepper-wrapper\">\\n  <div ng-repeat=\"selection in $ctrl.endpointSelections\" class=\"stepper-item {{ selection.stage }} \">\\n    <div class=\"step-counter\">{{ $index + 1 }}</div>\\n    <div class=\"step-name {{ selection.nameClass }}\">{{ selection.endpoint }}</div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(2054);i.a.module(\"portainer.app\").component(\"wizardEndpointType\",{templateUrl:s,bindings:{endpointTitle:\"@\",description:\"@\",icon:\"@\",active:\"<\"}})},function(e,t){var n=\"app/portainer/views/wizard/wizard-endpoints/wizard-stepper/wizard-endpoint-type/wizard-endpoint-type.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <div ng-click=\"$ctrl.endpointSelect(\\'docker\\')\">\\n    <div class=\"wizard-endpoints {{ $ctrl.active }}\">\\n      <div style=\"text-align: center; padding: 10px;\"><i class=\"{{ $ctrl.icon }}\" style=\"font-size: 80px;\"></i></div>\\n\\n      <div style=\"margin-top: 15px; text-align: center;\">\\n        <h3>{{ $ctrl.endpointTitle }}</h3>\\n        <h5>{{ $ctrl.description }}</h5>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t){var n=\"app/portainer/views/wizard/wizard-link/wizard-link.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div class=\"wizard-button\">\\n  <div style=\"text-align: center; padding: 10px;\"><i class=\"{{ $ctrl.icon }}\" style=\"font-size: 80px;\"></i></div>\\n  <div style=\"margin-top: 15px; text-align: center;\">\\n    <h3>{{ $ctrl.linkTitle }}</h3>\\n    <h5>{{ $ctrl.description }}</h5>\\n  </div>\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(2057);i.a.module(\"portainer.app\").component(\"wizardTls\",{templateUrl:s,bindings:{formData:\"<\",onChange:\"<\"}})},function(e,t){var n=\"app/portainer/views/wizard/wizard-tls/wizard-tls.html\";window.angular.module(\"ng\").run([\"$templateCache\",function(e){e.put(n,'<div>\\n  <div>\\n    \\x3c!-- tls-file-ca --\\x3e\\n    <div class=\"form-group\">\\n      <label class=\"col-sm-3 col-lg-2 control-label text-left\">TLS CA certificate</label>\\n      <div class=\"col-sm-9 col-lg-10\">\\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select=\"$ctrl.onChange($file)\" ng-model=\"$ctrl.formData.TLSCACert\">Select file</button>\\n        <span class=\"space-left\">\\n          {{ $ctrl.formData.TLSCACert.name }}\\n          <i class=\"fa fa-check green-icon\" ng-if=\"$ctrl.formData.TLSCACert\" aria-hidden=\"true\"></i>\\n          <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formData.TLSCACert\" aria-hidden=\"true\"></i>\\n        </span>\\n      </div>\\n    </div>\\n    \\x3c!-- !tls-file-ca --\\x3e\\n\\n    \\x3c!-- tls-files-cert-key --\\x3e\\n    <div>\\n      \\x3c!-- tls-file-cert --\\x3e\\n      <div class=\"form-group\">\\n        <label for=\"tls_cert\" class=\"col-sm-3 col-lg-2 control-label text-left\">TLS certificate</label>\\n        <div class=\"col-sm-9 col-lg-10\">\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select=\"$ctrl.onChange($file)\" ng-model=\"$ctrl.formData.TLSCert\">Select file</button>\\n          <span class=\"space-left\">\\n            {{ $ctrl.formData.TLSCert.name }}\\n            <i class=\"fa fa-check green-icon\" ng-if=\"$ctrl.formData.TLSCert\" aria-hidden=\"true\"></i>\\n            <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formData.TLSCert\" aria-hidden=\"true\"></i>\\n          </span>\\n        </div>\\n      </div>\\n      \\x3c!-- !tls-file-cert --\\x3e\\n      \\x3c!-- tls-file-key --\\x3e\\n      <div class=\"form-group\">\\n        <label class=\"col-sm-3 col-lg-2 control-label text-left\">TLS key</label>\\n        <div class=\"col-sm-9 col-lg-10\">\\n          <button type=\"button\" class=\"btn btn-sm btn-primary\" ngf-select=\"$ctrl.onChange($file)\" ng-model=\"$ctrl.formData.TLSKey\">Select file</button>\\n          <span class=\"space-left\">\\n            {{ $ctrl.formData.TLSKey.name }}\\n            <i class=\"fa fa-check green-icon\" ng-if=\"$ctrl.formData.TLSKey\" aria-hidden=\"true\"></i>\\n            <i class=\"fa fa-times red-icon\" ng-if=\"!$ctrl.formData.TLSKey\" aria-hidden=\"true\"></i>\\n          </span>\\n        </div>\\n      </div>\\n      \\x3c!-- !tls-file-key --\\x3e\\n    </div>\\n    \\x3c!-- tls-files-cert-key --\\x3e\\n  </div>\\n  \\x3c!-- !tls-file-upload --\\x3e\\n</div>\\n')}]),e.exports=n},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return a}));n(760);function a(){}},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);n(17),n(2060),n(2062),n(2064),n(2066),n(2068),n(801),n(2070),n(2072),n(2074),n(2075),n(2077),n(2078),n(2079),n(2080),n(2081),n(2082),n(2083),n(2085),n(2086),n(2087);window.angular=i.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";n.r(t);var a=n(812),i=n(5),s=n(270),r=n(2),o=n(85),l=n(6),c=n(125),d=n(69),u=n(7),p=n(74),m=n(110),g=n(266),h=n(45),f=n(229);angular.module(\"portainer.docker\").controller(\"CreateContainerController\",[\"$q\",\"$scope\",\"$async\",\"$state\",\"$timeout\",\"$transition$\",\"$filter\",\"Container\",\"ContainerHelper\",\"Image\",\"ImageHelper\",\"Volume\",\"NetworkService\",\"ResourceControlService\",\"Authentication\",\"Notifications\",\"ContainerService\",\"ImageService\",\"FormValidator\",\"ModalService\",\"RegistryService\",\"SystemService\",\"PluginService\",\"HttpRequestHelper\",\"endpoint\",function(e,t,n,v,b,y,w,x,$,C,S,k,A,P,I,T,N,E,R,D,O,V,U,L,F){function _(e){if(t.formValues.MemoryLimit>=0){var n=(Math.round(8*t.formValues.MemoryLimit)/8).toFixed(3);n*=1048576,e.HostConfig.Memory=n}if(t.formValues.MemoryReservation>=0){var a=(Math.round(8*t.formValues.MemoryReservation)/8).toFixed(3);a*=1048576,e.HostConfig.MemoryReservation=a}t.formValues.CpuLimit>=0&&(e.HostConfig.NanoCpus=1e9*t.formValues.CpuLimit)}function M(){var e=angular.copy(t.config);return function(e){Object(d.a)(e.Cmd)||\"default\"==t.formValues.CmdMode?delete e.Cmd:e.Cmd=$.commandStringToArray(e.Cmd)}(e),function(e){(\"default\"==t.formValues.EntrypointMode||Object(d.a)(e.Cmd)&&Object(d.a)(e.Entrypoint))&&(e.Entrypoint=null)}(e),function(e){var n=e.HostConfig.NetworkMode,a=t.formValues.NetworkContainer,i=a;a&&\"object\"==typeof a&&(i=w(\"trimcontainername\")(a.Names[0]));var s=n;if(i&&(s+=\":\"+i,e.Hostname=\"\"),e.HostConfig.NetworkMode=s,e.MacAddress=t.formValues.MacAddress,e.NetworkingConfig.EndpointsConfig[s]={IPAMConfig:{IPv4Address:t.formValues.IPv4,IPv6Address:t.formValues.IPv6}},s&&Object(c.a)(t.config.NetworkingConfig.EndpointsConfig[s],\"Aliases\")){var d=t.config.NetworkingConfig.EndpointsConfig[s].Aliases;e.NetworkingConfig.EndpointsConfig[s].Aliases=Object(l.a)(d,e=>!Object(o.a)(t.fromContainer.Id,e))}var u=[];t.formValues.DnsPrimary&&u.push(t.formValues.DnsPrimary),t.formValues.DnsSecondary&&u.push(t.formValues.DnsSecondary),e.HostConfig.Dns=u,e.HostConfig.ExtraHosts=Object(r.a)(Object(l.a)(t.formValues.ExtraHosts,e=>e.value),\"value\")}(e),function(e){const n=S.createImageConfigForContainer(t.formValues.RegistryModel);e.Image=n.fromImage}(e),function(e){const t=$.preparePortBindings(e.HostConfig.PortBindings);e.ExposedPorts={},Object(u.a)(t,(t,n)=>e.ExposedPorts[n]={}),e.HostConfig.PortBindings=t}(e),function(e){var n=t.formValues.Console,a=!0,i=!0;\"tty\"===n?a=!1:\"interactive\"===n?i=!1:\"none\"===n&&(a=!1,i=!1),e.OpenStdin=a,e.Tty=i}(e),function(e){e.Env=m.convertToArrayOfStrings(t.formValues.Env)}(e),function(e){var n=[],a={};t.formValues.Volumes.forEach((function(e){var t=e.name,i=e.containerPath;if(t&&i){var s=t+\":\"+i;a[i]={},e.readOnly&&(s+=\":ro\"),n.push(s)}})),e.HostConfig.Binds=n,e.Volumes=a}(e),function(e){var n={};t.formValues.Labels.forEach((function(e){e.name&&(e.value?n[e.name]=e.value:n[e.name]=\"\")})),e.Labels=n}(e),function(e){var t=[];e.HostConfig.Devices.forEach((function(e){e.pathOnHost&&(\"\"===e.pathInContainer&&(e.pathInContainer=e.pathOnHost),t.push({PathOnHost:e.pathOnHost,PathInContainer:e.pathInContainer,CgroupPermissions:\"rwm\"}))})),e.HostConfig.Devices=t}(e),_(e),function(e){var n={};t.formValues.LogDriverName&&(e.HostConfig.LogConfig={Type:t.formValues.LogDriverName},\"none\"!==t.formValues.LogDriverName&&(t.formValues.LogDriverOpts.forEach((function(e){e.name&&(n[e.name]=e.value)})),0!==Object.keys(n).length&&n.constructor===Object&&(e.HostConfig.LogConfig.Config=n)))}(e),function(e){var n=t.formValues.capabilities.filter((function(e){return!0===e.allowed})),a=t.formValues.capabilities.filter((function(e){return!1===e.allowed})),i=function(e){return e.capability};e.HostConfig.CapAdd=n.map(i),e.HostConfig.CapDrop=a.map(i)}(e),function(e){var n={};t.formValues.Sysctls.forEach((function(e){e.name&&e.value&&(n[e.name]=e.value)})),e.HostConfig.Sysctls=n}(e),e}function j(){x.get({id:y.params().from}).$promise.then((function(e){var n,a=new f.ContainerDetailsViewModel(e);a.ResourceControl&&a.ResourceControl.Public&&(t.formValues.AccessControlData.AccessControlEnabled=!1),t.fromContainer=a,t.state.mode=\"duplicate\",t.config=$.configFromContainer(a.Model),t.config.Cmd&&(t.config.Cmd=$.commandArrayToString(t.config.Cmd),t.formValues.CmdMode=\"override\"),Object(s.a)(t.config,\"Entrypoint\")&&(null==t.config.Entrypoint&&(t.config.Entrypoint=\"\"),t.formValues.EntrypointMode=\"override\"),n=e.HostConfig.LogConfig,t.formValues.LogDriverName=n.Type,t.formValues.LogDriverOpts=Object(r.a)(n.Config,(function(e,t){return{name:t,value:e}})),function(){const e=$.sortAndCombinePorts(t.config.HostConfig.PortBindings);t.config.HostConfig.PortBindings=e}(),function(e){for(var n in e.Mounts)if({}.hasOwnProperty.call(e.Mounts,n)){var a=e.Mounts[n],i={type:a.Type,name:a.Name||a.Source,containerPath:a.Destination,readOnly:!1===a.RW};t.formValues.Volumes.push(i)}}(e),function(e){if(t.config.NetworkingConfig={EndpointsConfig:{}},\"default\"===e.HostConfig.NetworkMode&&(t.config.HostConfig.NetworkMode=\"bridge\",Object(i.a)(t.availableNetworks,{Name:\"bridge\"})||(t.config.HostConfig.NetworkMode=\"nat\")),0===t.config.HostConfig.NetworkMode.indexOf(\"container:\")){var n=t.config.HostConfig.NetworkMode.split(/^container:/)[1];for(var a in t.config.HostConfig.NetworkMode=\"container\",t.runningContainers)t.runningContainers[a].Id==n&&(t.formValues.NetworkContainer=t.runningContainers[a])}if(t.fromContainerMultipleNetworks=Object.keys(e.NetworkSettings.Networks).length>=2,e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode]&&e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig&&(e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv4Address&&(t.formValues.IPv4=e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv4Address),e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv6Address&&(t.formValues.IPv6=e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode].IPAMConfig.IPv6Address)),t.config.NetworkingConfig.EndpointsConfig[t.config.HostConfig.NetworkMode]=e.NetworkSettings.Networks[t.config.HostConfig.NetworkMode],Object.keys(e.NetworkSettings.Networks).length>1){var s=e.NetworkSettings.Networks[Object.keys(e.NetworkSettings.Networks)[0]];t.config.NetworkingConfig.EndpointsConfig[t.config.HostConfig.NetworkMode]=s,t.extraNetworks=angular.copy(e.NetworkSettings.Networks),delete t.extraNetworks[Object.keys(e.NetworkSettings.Networks)[0]]}if(t.formValues.MacAddress=e.Config.MacAddress,e.HostConfig.Dns&&e.HostConfig.Dns[0]&&(t.formValues.DnsPrimary=e.HostConfig.Dns[0],e.HostConfig.Dns[1]&&(t.formValues.DnsSecondary=e.HostConfig.Dns[1])),t.config.HostConfig.ExtraHosts){for(var r=t.config.HostConfig.ExtraHosts,o=0;o<r.length;o++){var l=r[o];t.formValues.ExtraHosts.push({value:l})}t.config.HostConfig.ExtraHosts=[]}}(e),t.formValues.Env=m.parseArrayOfStrings(t.config.Env),function(){for(var e in t.config.Labels)({}).hasOwnProperty.call(t.config.Labels,e)&&t.formValues.Labels.push({name:e,value:t.config.Labels[e]})}(),t.config.OpenStdin&&t.config.Tty?t.formValues.Console=\"both\":!t.config.OpenStdin&&t.config.Tty?t.formValues.Console=\"tty\":t.config.OpenStdin&&!t.config.Tty?t.formValues.Console=\"interactive\":t.config.OpenStdin||t.config.Tty||(t.formValues.Console=\"none\"),function(){var e=[];for(var n in t.config.HostConfig.Devices)if({}.hasOwnProperty.call(t.config.HostConfig.Devices,n)){var a=t.config.HostConfig.Devices[n];e.push({pathOnHost:a.PathOnHost,pathInContainer:a.PathInContainer})}t.config.HostConfig.Devices=e}(),O.retrievePorRegistryModelFromRepository(t.config.Image,F.Id).then(e=>{t.formValues.RegistryModel=e}).catch((function(e){T.error(\"Failure\",e,\"Unable to retrieve registry\")})),function(e){e.HostConfig.NanoCpus&&(t.formValues.CpuLimit=e.HostConfig.NanoCpus/1e9),e.HostConfig.Memory&&(t.formValues.MemoryLimit=e.HostConfig.Memory/1024/1024),e.HostConfig.MemoryReservation&&(t.formValues.MemoryReservation=e.HostConfig.MemoryReservation/1024/1024)}(e),function(e){function n(e){return e.capability===r.capability}e.HostConfig.CapAdd&&e.HostConfig.CapAdd.forEach((function(e){t.formValues.capabilities.push(new g.ContainerCapability(e,!0))})),e.HostConfig.CapDrop&&e.HostConfig.CapDrop.forEach((function(e){t.formValues.capabilities.push(new g.ContainerCapability(e,!1))}));for(var a=new g.ContainerCapabilities,s=0;s<a.length;s++){var r=a[s];Object(i.a)(t.formValues.capabilities,n)||t.formValues.capabilities.push(r)}t.formValues.capabilities.sort((function(e,t){return e.capability<t.capability?-1:1}))}(e),function(){for(var e in t.config.HostConfig.Sysctls)({}).hasOwnProperty.call(t.config.HostConfig.Sysctls,e)&&t.formValues.Sysctls.push({name:e,value:t.config.HostConfig.Sysctls[e]})}()})).catch((function(e){T.error(\"Failure\",e,\"Unable to retrieve container\")}))}function B(){var i=null;return L.setPortainerAgentTargetHeader(t.formValues.NodeName),r().then((function(e){return i=e,e})).then((function(t){if(!t)return e.when(!0);return n=e.defer(),D.confirm({title:\"Are you sure ?\",message:\"A container with the same name already exists. Portainer can automatically remove it and re-create one. Do you want to replace it?\",buttons:{confirm:{label:\"Replace\",className:\"btn-danger\"}},callback:function(e){n.resolve(e)}}),n.promise;var n})).then((function(n){if(!n)return e.when();if(a=t.formValues.AccessControlData,i=t.isAdmin,t.state.formValidationError=\"\",(s=R.validateAccessControl(a,i))&&(t.state.formValidationError=s,1))return e.when();var a,i,s;return t.state.actionInProgress=!0,function(){return e.when(t.formValues.alwaysPull&&E.pullImage(t.formValues.RegistryModel,!0))}().then(u).then(m).then(g).then(h).then(f).then(b).catch(c)})).catch((function(e){T.error(\"Failure\",e,\"Unable to create container\")})).finally((function(){t.state.actionInProgress=!1}));function r(){return x.query({all:1,filters:{name:[\"^/\"+t.config.name+\"$\"]}}).$promise.then((function(e){if(e.length)return e[0]})).catch((function(e){T.error(\"Failure\",e,\"Unable to retrieve containers\")}))}function c(t){var n=e.defer();return r().then((function(e){if(e&&(!i||e.Id!==i.Id))return N.remove(e,!0)})).then(d).then((function(){n.reject(t)})).catch((function(e){n.reject(e)})),n.promise}function d(){if(i)return N.renameContainer(i.Id,i.Names[0].substring(1))}function u(){return i?function(t){if(\"running\"!==t.State)return e.when();return N.stopContainer(t.Id)}(i).then(p):e.when()}function p(){return N.renameContainer(i.Id,i.Names[0].substring(1)+\"-old\")}function m(){return n(async()=>{const e=M();return await N.createAndStartContainer(e)})}function g(e){const n=I.getUserDetails().ID,a=e.Portainer.ResourceControl,i=e.Id,s=t.formValues.AccessControlData;return P.applyResourceControl(n,s,a).then((function(){return i}))}function h(n){if(!t.extraNetworks)return e.when();var i=Object(a.a)(t.extraNetworks,(function(e,a){if(Object(s.a)(e,\"Aliases\"))var i=Object(l.a)(e.Aliases,e=>!Object(o.a)(t.fromContainer.Id,e));return A.connectContainer(a,n,i)}));return e.all(i)}function f(){var t=e.defer();if(i)return N.remove(i,!0).then((function(){T.success(\"Container Removed\",i.Id),t.resolve()})).catch((function(e){t.reject({msg:\"Unable to remove container\",err:e})})),t.promise;t.resolve()}function b(){T.success(\"Container successfully created\"),v.go(\"docker.containers\",{},{reload:!0})}}t.create=B,t.update=async function(){t.state.actionInProgress=!0;var e=angular.copy(t.config);_(e),await async function(e){try{t.state.settingUnlimitedResources?B():(await N.updateLimits(y.params().from,e),t.config=e,T.success(\"Limits updated\"))}catch(e){T.error(\"Failure\",e,\"Update Limits fail\")}}(e),t.state.actionInProgress=!1},t.endpoint=F,t.formValues={alwaysPull:!0,Console:\"none\",Volumes:[],NetworkContainer:null,Labels:[],ExtraHosts:[],MacAddress:\"\",IPv4:\"\",IPv6:\"\",DnsPrimary:\"\",DnsSecondary:\"\",AccessControlData:new h.AccessControlFormData,CpuLimit:0,MemoryLimit:0,MemoryReservation:0,CmdMode:\"default\",EntrypointMode:\"default\",Env:[],NodeName:null,capabilities:[],Sysctls:[],LogDriverName:\"\",LogDriverOpts:[],RegistryModel:new p.PorImageRegistryModel},t.extraNetworks={},t.state={formValidationError:\"\",actionInProgress:!1,mode:\"\",pullImageValidity:!0,settingUnlimitedResources:!1},t.handleEnvVarChange=function(e){t.formValues.Env=e},t.refreshSlider=function(){b((function(){t.$broadcast(\"rzSliderForceRender\")}))},t.onImageNameChange=function(){t.formValues.CmdMode=\"default\",t.formValues.EntrypointMode=\"default\"},t.setPullImageValidity=function(e){e||(t.formValues.alwaysPull=!1);t.state.pullImageValidity=e},t.config={Image:\"\",Env:[],Cmd:\"\",MacAddress:\"\",ExposedPorts:{},Entrypoint:\"\",HostConfig:{RestartPolicy:{Name:\"no\"},PortBindings:[],PublishAllPorts:!1,Binds:[],AutoRemove:!1,NetworkMode:\"bridge\",Privileged:!1,Init:!1,Runtime:null,ExtraHosts:[],Devices:[],CapAdd:[],CapDrop:[],Sysctls:{}},NetworkingConfig:{EndpointsConfig:{}},Labels:{}},t.addVolume=function(){t.formValues.Volumes.push({name:\"\",containerPath:\"\",readOnly:!1,type:\"volume\"})},t.removeVolume=function(e){t.formValues.Volumes.splice(e,1)},t.addPortBinding=function(){t.config.HostConfig.PortBindings.push({hostPort:\"\",containerPort:\"\",protocol:\"tcp\"})},t.removePortBinding=function(e){t.config.HostConfig.PortBindings.splice(e,1)},t.addLabel=function(){t.formValues.Labels.push({name:\"\",value:\"\"})},t.removeLabel=function(e){t.formValues.Labels.splice(e,1)},t.addExtraHost=function(){t.formValues.ExtraHosts.push({value:\"\"})},t.removeExtraHost=function(e){t.formValues.ExtraHosts.splice(e,1)},t.addDevice=function(){t.config.HostConfig.Devices.push({pathOnHost:\"\",pathInContainer:\"\"})},t.removeDevice=function(e){t.config.HostConfig.Devices.splice(e,1)},t.addSysctl=function(){t.formValues.Sysctls.push({name:\"\",value:\"\"})},t.removeSysctl=function(e){t.formValues.Sysctls.splice(e,1)},t.addLogDriverOpt=function(){t.formValues.LogDriverOpts.push({name:\"\",value:\"\"})},t.removeLogDriverOpt=function(e){t.formValues.LogDriverOpts.splice(e,1)},t.fromContainerMultipleNetworks=!1,t.resetNetworkConfig=function(){t.config.NetworkingConfig={EndpointsConfig:{}}},t.handleResourceChange=function(){t.state.settingUnlimitedResources=!1,(t.config.HostConfig.Memory>0&&0===t.formValues.MemoryLimit||t.config.HostConfig.MemoryReservation>0&&0===t.formValues.MemoryReservation||t.config.HostConfig.NanoCpus>0&&0===t.formValues.CpuLimit)&&(t.state.settingUnlimitedResources=!0)},async function(){var e=y.params().nodeName;t.formValues.NodeName=e,L.setPortainerAgentTargetHeader(e),t.isAdmin=I.isAdmin(),t.showDeviceMapping=await async function(){return F.SecuritySettings.allowDeviceMappingForRegularUsers||I.isAdmin()}(),t.showSysctls=await async function(){return F.SecuritySettings.allowSysctlSettingForRegularUsers||I.isAdmin()}(),t.areContainerCapabilitiesEnabled=await async function(){return F.SecuritySettings.allowContainerCapabilitiesForRegularUsers||I.isAdmin()}(),t.isAdminOrEndpointAdmin=I.isAdmin(),k.query({},(function(e){t.availableVolumes=e.Volumes.sort((e,t)=>e.Name.localeCompare(t.Name))}),(function(e){T.error(\"Failure\",e,\"Unable to retrieve volumes\")}));var n=t.applicationState.endpoint.mode.provider,a=t.applicationState.endpoint.apiVersion;A.networks(\"DOCKER_STANDALONE\"===n||\"DOCKER_SWARM_MODE\"===n,!1,\"DOCKER_SWARM_MODE\"===n&&a>=1.25).then((function(e){e.push({Name:\"container\"}),t.availableNetworks=e.sort((e,t)=>e.Name.localeCompare(t.Name)),Object(i.a)(e,{Name:\"nat\"})&&(t.config.HostConfig.NetworkMode=\"nat\")})).catch((function(e){T.error(\"Failure\",e,\"Unable to retrieve networks\")})),x.query({},(function(e){var n=e;t.runningContainers=n,y.params().from?j():(t.fromContainer={},t.formValues.capabilities=t.areContainerCapabilitiesEnabled?new g.ContainerCapabilities:[])}),(function(e){T.error(\"Failure\",e,\"Unable to retrieve running containers\")})),V.info().then((function(e){t.availableRuntimes=e.Runtimes?Object.keys(e.Runtimes):[],t.state.sliderMaxCpu=32,e.NCPU&&(t.state.sliderMaxCpu=e.NCPU),t.state.sliderMaxMemory=32768,e.MemTotal&&(t.state.sliderMaxMemory=Math.floor(e.MemTotal/1e3/1e3))})).catch((function(e){T.error(\"Failure\",e,\"Unable to retrieve engine details\")})),t.allowBindMounts=t.isAdminOrEndpointAdmin||F.SecuritySettings.allowBindMountsForRegularUsers,t.allowPrivilegedMode=F.SecuritySettings.allowPrivilegedModeForRegularUsers,U.loggingPlugins(a<1.25).then((function(e){t.availableLoggingDrivers=e}))}()}])},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(569);const r=n(1386);i.a.module(\"portainer.edge\").component(\"edgeJobResultsDatatable\",{templateUrl:r,controller:s.EdgeJobResultsDatatableController,bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",onDownloadLogsClick:\"<\",onCollectLogsClick:\"<\",onClearLogsClick:\"<\",refreshCallback:\"<\"}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(572);const r=n(1393);i.a.module(\"portainer.edge\").component(\"edgeStackStatus\",{templateUrl:r,controller:s.EdgeStackStatusController,bindings:{stackStatus:\"<\"}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(1529);i.a.module(\"portainer.kubernetes\").component(\"kubernetesApplicationsDatatableUrl\",{templateUrl:s,bindings:{publishedUrl:\"@\"}})},function(e,t,n){\"use strict\";n.r(t);const a=n(1530);angular.module(\"portainer.kubernetes\").component(\"kubernetesApplicationsDatatable\",{templateUrl:a,controller:\"KubernetesApplicationsDatatableController\",bindings:{titleText:\"@\",titleIcon:\"@\",dataset:\"<\",tableKey:\"@\",settingsKey:\"@\",orderBy:\"@\",reverseOrder:\"<\",removeAction:\"<\",refreshCallback:\"<\",onPublishingModeClick:\"<\",isPrimary:\"<\"}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(1567);i.a.module(\"portainer.kubernetes\").component(\"helmTemplatesListItem\",{templateUrl:s,bindings:{model:\"<\",onSelect:\"<\"},transclude:{actions:\"?templateItemActions\"}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(601);const r=n(1572);i.a.module(\"portainer.kubernetes\").component(\"kubectlShell\",{templateUrl:r,controller:s.default})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(620);const r=n(1670);i.a.module(\"portainer.kubernetes\").component(\"kubernetesHelmApplicationView\",{templateUrl:r,controller:s.default,bindings:{endpoint:\"<\"}})},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"beFeatureIndicator\",(function(){return r}));var a=n(1),i=n.n(a),s=n(627);const r={templateUrl:n(1747),controller:s.default,bindings:{feature:\"<\"},transclude:!0};i.a.module(\"portainer.app\").component(\"beFeatureIndicator\",r)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(628);const r=n(1750);i.a.module(\"portainer.app\").component(\"boxSelectorItem\",{templateUrl:r,controller:s.default,require:{formCtrl:\"^^form\"},bindings:{radioName:\"@\",isChecked:\"<\",option:\"<\",onChange:\"<\",disabled:\"<\",tooltip:\"<\"}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(629);const r=n(1755);i.a.module(\"portainer.app\").component(\"copyButton\",{templateUrl:r,controller:s.default,bindings:{value:\"<\"}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(645);const r=n(1815);i.a.module(\"portainer.app\").component(\"environmentVariablesSimpleMode\",{templateUrl:r,controller:s.default,bindings:{ngModel:\"<\",onSwitchModeClick:\"<\",onChange:\"<\"}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(643);const r=n(1816);i.a.module(\"portainer.app\").component(\"environmentVariablesPanel\",{templateUrl:r,controller:s.default,bindings:{ngModel:\"<\",explanation:\"@\",onChange:\"<\"}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(649);const r={templateUrl:n(1826),controller:s.default,bindings:{ngModel:\"=\",id:\"@\",className:\"@\",name:\"@\",ngDataCy:\"@\",disabled:\"<\",onChange:\"<\",feature:\"<\"}};i.a.module(\"portainer.app\").component(\"porSwitch\",r)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(1870);i.a.module(\"portainer.app\").component(\"sensitiveDetails\",{templateUrl:s,bindings:{key:\"@\",value:\"@\"}})},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"statusIndicator\",(function(){return s}));var a=n(1),i=n.n(a);const s={templateUrl:n(1879),bindings:{ok:\"<\"}};i.a.module(\"portainer.app\").component(\"statusIndicator\",s)},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(1883);i.a.module(\"portainer.app\").component(\"templateItem\",{templateUrl:s,bindings:{model:\"<\",typeLabel:\"@\",onSelect:\"<\"},transclude:{actions:\"?templateItemActions\"}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a),s=n(667);const r=n(2044);i.a.module(\"portainer.app\").component(\"wizardEndpoints\",{templateUrl:r,controller:s.default})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(2051);i.a.module(\"portainer.app\").component(\"wizardEndpointList\",{templateUrl:s,bindings:{endpointList:\"<\"}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(2052);i.a.module(\"portainer.app\").component(\"wizardStepper\",{templateUrl:s,bindings:{endpointSelections:\"<\"}})},function(e,t,n){\"use strict\";n.r(t);var a=n(1),i=n.n(a);const s=n(2055);i.a.module(\"portainer.app\").component(\"wizardLink\",{templateUrl:s,bindings:{linkTitle:\"@\",description:\"@\",icon:\"<\"}})}]);\n//# sourceMappingURL=main.d0be16110b99647a33e0.js.map"
            }
          ]
        }
      }
    },
    {
      "URI": "/api/status",
      "Methods": {
        "GET": {
          "Criteria": {
            "Superset": [
              {
                "ID": "GET1",
                "URL_Parameters": "",
                "Headers": {
                  "pragma": "no-cache",
                  "cache-control": "no-cache",
                  "user-agent": "Mozilla/5.0 [en] (X11, U; OpenVAS-VT 21.4.5~dev1)",
                  "accept": "image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */*",
                  "accept-language": "en",
                  "accept-charset": "iso-8859-1,*,utf-8"
                },
                "Body": {},
                "Responses": [
                  0
                ]
              }
            ],
            "Subset": []
          },
          "Responses": [
            {
              "Status": "200",
              "Headers": {
                "Content-Type": "application/json",
                "X-Content-Type-Options": "nosniff",
                "X-Xss-Protection": "1; mode=block"
              },
              "Body": "{\"Version\":\"2.11.0\",\"InstanceID\":\"0dec9b04-8e7e-475a-b463-5cc21dbcf30a\"}\n"
            }
          ]
        }
      }
    }
  ]
}