{
  "Endpoints": [
    {
      "URI": "/",
      "Methods": {
        "GET": {
          "Criteria": {
            "Superset": [
              {
                "ID": "GET1",
                "URL_Parameters": "",
                "Headers": {
                  "pragma": "no-cache",
                  "user-agent": "Mozilla/5.0 [en] (X11, U; OpenVAS-VT 21.4.5)"
                },
                "Body": {},
                "Responses": [
                  0
                ]
              }
            ],
            "Subset": []
          },
          "Responses": [
            {
              "Status": "200",
              "Headers": {
                "Server": "Boa/0.94.14rc21",
                "Accept-Ranges": "bytes",
                "Keep-Alive": "timeout=5000, max=100",
                "Content-Type": "text/html"
              },
              "Body": "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\">\r\n<html>\r\n<link href=\"./style/menu.css\" rel=\"stylesheet\" type=\"text/css\">\r\n<link href=\"./style/live.css\" rel=\"stylesheet\" type=\"text/css\">\r\n<link rel=\"stylesheet\" href=\"./style/jquery.ui.slider.css\">\r\n<SCRIPT language=\"JavaScript\" src=\"profile\"></SCRIPT>\r\n<SCRIPT LANGUAGE=\"JavaScript\" SRC=\"js/comfunc.js\"  TYPE=\"text/javascript\"></SCRIPT>\r\n<script language=\"JavaScript\" src=\"js/commfunc.js\" type=\"text/javascript\"></script>\r\n<script language=\"JavaScript\" src=\"js/preset.js\"></script>\r\n<script language=\"JavaScript\" src=\"js/new_tree_core.js\"></script>\r\n<script language=\"JavaScript\" src=\"js/localization.js\"></script>\r\n<script language=\"JavaScript\" src=\"js/slider.js\"></script>\r\n<SCRIPT language=\"JavaScript\" src=\"js/axobjdef.js\"></SCRIPT>\r\n<SCRIPT language=\"JavaScript\" src=\"js/plugin.js\"></SCRIPT>\r\n\r\n<script src=\"./js/jquery.min.js\"></script>\r\n<script src=\"./js/jquery.ui.widget.min.js\"></script>\r\n<script src=\"./js/jquery.ui.mouse.min.js\"></script>\r\n<script src=\"./js/jquery.ui.slider.js\"></script>\r\n<script src=\"./js/jquery.effects.core.min.js\"></script>\r\n<script src=\"./js/jquery.effects.fold.min.js\"></script>\r\n<style>\r\nimg{\r\ncursor:pointer;\r\n}\r\n</style>\r\n<script language=\"JavaScript\" type=\"text/JavaScript\">\r\nvar user = SendCGICMD(\"/cgi-bin/view/hello\");\r\nvar TEMP_USER_LEVEL = GetQueryVariableEx2(\"UserLevel\", user);\r\n\r\n<!--\r\nvar CheckMac = (navigator.platform.toLowerCase().indexOf(\"mac\") < 0) ? false : true; \r\n\r\nif(getOs().indexOf(\"IE\") < 0 && CheckMac == false)\r\n{\r\n  var VLC_Version = PluginDetect.getVersion(\"vlc\");\r\n  if(VLC_Version == null)\r\n  {\r\n    VLC_Version = navigator.plugins[\"VLC Web Plugin\"];\r\n  }\r\n}\r\n\r\n/* ActiveX Settings */\r\nvar VIDEO_FMT=1;\r\nvar PLUGIN_LANG=0;\r\nvar PROTOCOL_TYPE = getProtocol();\r\nvar vdoHeight = \"400\";\r\nvar vdoWidth = \"710\";\r\nvar INITMODE = \"none\";\r\nvar STATUSBAR = 0;\r\nvar TOOLBAR = 0;\r\nvar CONTEXTMENU = 0;\r\nvar AUTOSTART = 0;\r\nvar TOOLTIP = 0;\r\n\r\nvar PROFILE = 0;\r\nvar FORMAT = 1;\r\nvar BUFFER = 0; \r\nvar VLC_Polling_Timer = null;\r\nvar QT_SIZE = \"fit\";\r\nvar p2p_idex = 0;\r\nvar getfocusinfoTimer = \"\";\r\n\r\nvar PTZ_move_flag = 0;  // 0 no mouse down ; 1 mouse down\r\n\r\nPROFILE = getProfileFmt();\r\nif(parseInt(PROFILE,10) < 0 || PROFILE == undefined)\r\n{\r\n  PROFILE = 0;\r\n  setProfileFmt(\"0\");\r\n}\r\n\r\nFORMAT = getDisplayFmt();\r\n\r\nif(getOs().indexOf(\"IE\") < 0)\r\n{\r\n  if(FORMAT == 0)\r\n  {\r\n    if(PROTOCOL_TYPE == \"3\")\r\n    {\r\n      PROTOCOL_TYPE = \"1\";\r\n      setProtocol(PROTOCOL_TYPE);\r\n    }\r\n  }\r\n}\r\n\r\nBUFFER = getBufferEn();\r\nif(BUFFER == \"\" || BUFFER == undefined)\r\n{\r\n  BUFFER = 0;\r\n  setBufferEn(\"0\");\r\n}\r\n\r\nvar ViewArea;\r\nvar PTZ_Action = \"PTZ\";\r\nvar rs485Ena = false;\r\nvar dateFmt = \"\";\r\nvar gTalkMute = \"\";\r\nvar PoEMode = \"\";\r\nvar info = 'General.Network.RTP\\\r\n&group=General.Network.RTSP\\\r\n&group=StreamProfile\\\r\n&group=EPTZ\\\r\n&group=PTZ\\\r\n&group=General.Time.DateFormat\\\r\n&group=ImageSource.I0.LensControl\\\r\n&group=ImageSource.I0.Sensor.Rotate\\\r\n&group=PoE.PowerMode\\\r\n&group=Image.VideoOut';\r\n\r\nfunction Onload()\r\n{\r\n  if(getOs().indexOf(\"IE\") < 0)\r\n  {\r\n    window.addEventListener(\"unload\", pageUnloaded, false);\r\n  }\r\n  \r\n  GetDeviceInfo(info,'view');\r\n\r\n  PoEMode = GetQueryVariable('PoE.PowerMode');\r\n  dateFmt = GetQueryVariable('General.Time.DateFormat');\r\n  ViewArea = GetQueryVariable('StreamProfile.I'+PROFILE+'.Video.Source');\r\n\r\n  var rotate_enabled = GetQueryVariable(\"ImageSource.I0.Sensor.Rotate.Enabled\");\r\n  var rotate_angle = GetQueryVariable(\"ImageSource.I0.Sensor.Rotate.Angle\");\r\n  var val = \"\";\r\n  \r\n  if (rotate_angle == \"270\" || rotate_angle == \"90\")\r\n  {\r\n    rotate = true;\r\n  }else{\r\n    rotate = false;\r\n  }\r\n  \r\n  if(ViewArea == \"\")\r\n  {\r\n    PROFILE = 0;\r\n    setProfileFmt(\"0\");\r\n    if(getOs().indexOf(\"IE\") >= 0)\r\n    {\r\n      document.vform.AxPlayer.MediaChannel = parseInt(PROFILE,10);\r\n    }\r\n  }\r\n\r\n  if(GetQueryVariable('PTZ.RS485.Enabled')==\"on\")\r\n  {\r\n    rs485Ena = true;\r\n  }\r\n\r\n  if(PTZtype == \"ePTZ\" || (PTZtype == \"ExtPT\" && (!rs485Ena) && PTZProtocol.indexOf(\"ePTZ\") >= 0 ) )\r\n  {\r\n    PTZ_Action = \"ePTZ\";\r\n  }else if(PTZtype == \"PT\"){\r\n    PTZ_Action = \"PT\";\r\n  }\r\n\r\n  if(PTZtype == \"PTZ\" || PTZtype == \"ExtPTZ\")\r\n  {\r\n    EShow(\"zoomSpace\",\"\");\r\n    EShow(\"zoom1\",\"\");\r\n    EShow(\"zoom2\",\"\");\r\n    EShow(\"focusSpace\",\"\");\r\n    EShow(\"focus1\",\"\");\r\n    EShow(\"focus2\",\"\");\r\n    if(PTZtype == \"ExtPTZ\")\r\n    \t{\r\n    EShow(\"irisSpace\",\"\");\r\n    EShow(\"iris1\",\"\");\r\n    EShow(\"iris2\",\"\");    \r\n    \t}    \r\n  }\r\n  if(PTZtype == \"ExtPT\" || PTZtype == \"ExtPTZ\")\r\n  {\r\n    EShow(\"sethomgrp\",\"none\");\r\n  }\r\n  \r\n  /*if(I2ASupport == \"yes\")\r\n  {\r\n    EVisible(\"i2a\",\"visible\");\r\n  }*/\r\n\r\n  doChgTab('live');\r\n  if(!CheckMac)\r\n  {\r\n    doChgViewSize('fit');\r\n\tEID(\"c_viewsize\").value = \"fit\";\r\n  }else{\r\n    EID(\"c_viewsize\").value = QT_SIZE;\r\n    doChgViewSize(QT_SIZE);\r\n  }\r\n  \r\n  if(getOs().indexOf(\"IE\") < 0 && FORMAT == \"1\")\r\n  {\r\n    doUpdateFormat();\r\n    EShow(\"format\",\"\");\r\n    EShow(\"format1\",\"\");\r\n    EShow(\"overView\",\"\");\r\n    EShow(\"layer_protocol\",\"none\");\r\n    EShow(\"layer_videobuffer\",\"none\");\r\n    //EVisible(\"talkSlider\",\"hidden\");\r\n    EVisible(\"soundSlider\",\"hidden\");\r\n    for(var i=0;i<=8;i++)\r\n    {\r\n      EVisible(\"statusBar\"+i,\"hidden\");\r\n    }\r\n    \r\n    for(var i=0;i<=2;i++)\r\n    {\r\n      EID(\"statusBor\"+i).style.borderRight = \"0\";\r\n    }\r\n    imageProfile = PROFILE;\r\n    EVisible(\"statusBar4\",\"visible\");\r\n  }else{\r\n    \r\n    EShow(\"layer_protocol\",\"\");\r\n    //EShow(\"layer_videobuffer\",\"\");\r\n    \r\n    if(CheckMac)\r\n    {\r\n      if(FORMAT == \"0\")\r\n      {\r\n        doUpdateFormat();\r\n        EShow(\"format\",\"\");\r\n        EShow(\"format1\",\"\");\r\n      }\r\n    }else{\r\n      //EVisible(\"talkSlider\",\"hidden\");\r\n      EVisible(\"soundSlider\",\"visible\");\r\n      for(var i=0;i<=8;i++)\r\n      {\r\n        EVisible(\"statusBar\"+i,\"visible\");\r\n      }\r\n      \r\n      for(var i=0;i<=2;i++)\r\n      {\r\n        EID(\"statusBor\"+i).style.borderRight = \"1px solid #000\";\r\n      }\r\n  \r\n      //Always hide DO btn (temporarily)\r\n      \r\n      //if(DOSupport == \"no\")\r\n      //{\r\n//        EID(\"Liveview_Do\").style.visibility = \"hidden\";\r\n        EID(\"statusBor1\").style.borderRight = \"0\";\r\n      //}\r\n      \r\n      var multiCast = GetQueryVariable('General.Network.RTP.R' + PROFILE + '.Multicast');\r\n      if(multiCast == \"1\")\r\n      {\r\n        EID(\"c_protocol\").options[3] = (new Option(loadLangString(\"L_Multicast\", false), \"4\"));\r\n      }else{\r\n        EID(\"c_protocol\").length = 3;\r\n        if(getProtocol() == 4)\r\n        {\r\n          EID(\"c_protocol\").selectedIndex = 0;\r\n          setProtocol(EID(\"c_protocol\").value);\r\n          document.vform.AxPlayer.MediaProtocol = EID(\"c_protocol\").value;\r\n        }\r\n      }\r\n      \r\n      if(getOs().indexOf(\"IE\") < 0 && FORMAT == \"0\")\r\n      {\r\n        doUpdateFormat();\r\n        EShow(\"format\",\"\");\r\n        EShow(\"format1\",\"\");\r\n        //EID(\"statusBor0\").style.borderRight = \"0\";\r\n        EShow(\"statusBar2\",\"none\");\r\n        EVisible(\"statusBar6\",\"hidden\");\r\n        EVisible(\"statusBar8\",\"hidden\");\r\n        EID(\"c_protocol\").options[2].disabled = true; //disable HTTP protocol\r\n        \r\n        if(VLC_Version != null)\r\n        {\r\n          VLC_Sound_Timer = setTimeout(\"SetVlcSound()\",10);\r\n          VLC_Polling_Timer = setTimeout(\"CheckVlcPlaying()\",5000);\r\n        }\r\n      }\r\n    }\r\n  }\r\n \r\n  SetPtzCustomCmd();\r\n  SetPtzImg();\r\n  SetMenuImg();\r\n  SetOsdImg();\r\n  SetFisheyeImg();\r\n  EID(\"logo\").style.display = ((initBrandShow==\"NONE\") ? \"none\" : \"block\");\r\n  EID(\"banner\").innerHTML = ((initBrandShow==\"NONE\") ? initProdShortName.replace(initProdNbr, \"\") : initProdShortName);\r\n  EID(\"protocolID\").innerHTML = loadLangString(\"L_Protocol\", false);\r\n  EID(\"VideoBufferID\").innerHTML = loadLangString(\"L_VideoBuffer\", false);\r\n  EID(\"ViewSizeID\").innerHTML = loadLangString(\"L_Home_ViewSize\", false);\r\n  EID(\"profileID\").innerHTML = loadLangString(\"L_Profile\", false);\r\n  EID(\"FormatID\").innerHTML = loadLangString(\"L_Format\", false);\r\n  EID(\"SMbtn\").innerHTML = loadLangString(\"L_ReFocus\", false);\r\n  \r\n  if(AudioSupport == \"no\")\r\n  {\r\n    EShow(\"statusBar5\",\"none\");\r\n    EShow(\"statusBar6\",\"none\");\r\n    EShow(\"soundSlider\",\"none\");\r\n  }else{\r\n    if(AudioInputType == \"none\")\r\n    {\r\n      EShow(\"statusBar5\",\"none\");\r\n      EShow(\"soundSlider\",\"none\");\r\n    }\r\n  \r\n    if(AudioOutputType == \"none\")\r\n    {\r\n      EShow(\"statusBar6\",\"none\");\r\n    }  \r\n  }\r\n  \r\n  /*if(HelpSupport == \"yes\")\r\n  {\r\n    EVisible(\"information\",\"visible\");\r\n  }*/\r\n\r\n  if(PTZEnabled.indexOf(\"no\") >= 0)\r\n  {\r\n    EShow(\"ptzTabL\",\"none\");\r\n    EShow(\"ptzTabM\",\"none\");\r\n    EShow(\"ptzTabR\",\"none\");\r\n  }else{\r\n    EShow(\"ptzTabL\",\"\");\r\n    EShow(\"ptzTabM\",\"\");\r\n    EShow(\"ptzTabR\",\"\");\r\n  }\r\n\r\n  if (Lenstype == \"motorized\")\r\n  {\r\n    EShow(\"focusTabL\",\"\");\r\n    EShow(\"focusTabM\",\"\");\r\n    EShow(\"focusTabR\",\"\");\r\n  }else{\r\n    EShow(\"focusTabL\",\"none\");\r\n    EShow(\"focusTabM\",\"none\");\r\n    EShow(\"focusTabR\",\"none\");    \r\n  }  \r\n\r\n  if(Lenstype == \"fisheye\" && getOs().indexOf(\"IE\") >= 0)\r\n  {\r\n    EShow(\"fisheyeTabL\",\"\");\r\n    EShow(\"fisheyeTabM\",\"\");\r\n    EShow(\"fisheyeTabR\",\"\");\r\n    EVisible(\"statusBar8\",\"hidden\");\r\n  }else{\r\n    EShow(\"fisheyeTabL\",\"none\");\r\n    EShow(\"fisheyeTabM\",\"none\");\r\n    EShow(\"fisheyeTabR\",\"none\");    \r\n  }\r\n\r\n  //check rotate\r\n  check_rotate();\r\n  \r\n  //check defog status\r\n  if (GlassDemister == \"yes\" && (TEMP_USER_LEVEL == \"Admin\" ||  TEMP_USER_LEVEL == \"Operator\"))\r\n  {\r\n    val = SendCGICMD(\"/cgi-bin/operator/fileread?READ.filePath=/var/run/defog_delay_handle.pid\",null,false,-1);\r\n    if (val != \"DefogIsTimeOut\" && val != \"None\")\r\n    {\r\n      EID(\"Liveview_Defog\").title = \"Glass_DemisterOn\";\r\n      EID(\"Liveview_Defog\").src = \"./style/image/btn_Liveview_Glass_DemisterOn_e.png\";\r\n      defog_counter(\"onTimer\")\r\n    }\r\n    else\r\n    {\r\n      defog_counter(\"onTimer\")\r\n    }\r\n  }\r\n\r\n  //check defog\r\n  if (GlassDemister == \"yes\" && (TEMP_USER_LEVEL == \"Admin\" ||  TEMP_USER_LEVEL == \"Operator\"))\r\n  {\r\n    EID(\"Liveview_Defog\").style.display = \"block\";\r\n  }\r\n  else\r\n  {\r\n    EID(\"Liveview_Defog\").style.display = \"none\";\r\n  }\r\n\r\n\tinitial_fisheyebtn();  \r\n\r\n}\r\n\r\nfunction initial_fisheyebtn()\r\n{\r\n\tvar val;\r\n\t\r\n\tif(getCookies(\"fish_position\") != null)\r\n\t{\r\n\t\tEID(\"f_position\").value = getCookies(\"fish_position\");\r\n\r\n\t\tif(EID(\"f_position\").value == \"wall\")\r\n\t\t{\r\n\t\t\tEID(\"Fisheye_2P_1P_img\").src = \"./style/image/fisheye/btn_Fisheye_1P.png\";\t\t\r\n\t\t\tEID(\"Fisheye_4Rpro_img\").src = \"./style/image/fisheye/btn_Fisheye_4Rpro_gray.png\";\r\n\t\t\tEID(\"Fisheye_4Rpro_img\").disabled = true;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tEID(\"Fisheye_2P_1P_img\").src = \"./style/image/fisheye/btn_Fisheye_2P.png\";\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\tEID(\"f_position\").value = \"ceil\";\r\n\t\tEID(\"Fisheye_2P_1P_img\").src = \"./style/image/fisheye/btn_Fisheye_2P.png\";\r\n\t}\r\n\t\r\n\tif(getCookies(\"fish_quality\") != null)\r\n\t{\r\n\t\tEID(\"f_qual\").value = getCookies(\"fish_quality\");\r\n\t}\r\n\telse\r\n\t{\r\n\t\tEID(\"f_qual\").value = \"auto\";\r\n\t}\t\r\n\r\n\tif(getCookies(\"fish_display\") != null)\r\n\t{\r\n\t\tval = getCookies(\"fish_display\");\r\n\r\n\t\tif(val == \"1r\")\r\n\t\t{\r\n\t\t\tEID(\"Fisheye_1R_img\").src = \"./style/image/fisheye/btn_Fisheye_1R_P.png\";\r\n\t\t}\r\n\t\telse if(val == \"4r\")\r\n\t\t{\r\n\t\t\tEID(\"Fisheye_4R_img\").src = \"./style/image/fisheye/btn_Fisheye_4R_P.png\";\r\n\t\t}\r\n\t\telse if(val == \"2p_1p\")\r\n\t\t{\r\n\t\t\tif(EID(\"f_position\").value == \"wall\")\r\n\t\t\t{\r\n\t\t\t\tEID(\"Fisheye_2P_1P_img\").src = \"./style/image/fisheye/btn_Fisheye_1P_P.png\";\t\t\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tEID(\"Fisheye_2P_1P_img\").src = \"./style/image/fisheye/btn_Fisheye_2P_P.png\";\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(val == \"1o\")\r\n\t\t{\r\n\t\t\tEID(\"Fisheye_1O_img\").src = \"./style/image/fisheye/btn_Fisheye_1O_P.png\";\r\n\t\t}\r\n\t\telse if(val == \"4r_1o\")\r\n\t\t{\r\n\t\t\tEID(\"Fisheye_4R_1O_img\").src = \"./style/image/fisheye/btn_Fisheye_4R_1O_P.png\";\r\n\t\t}\r\n\t\telse if(val == \"4rpro\")\r\n\t\t{\r\n\t\t\tEID(\"Fisheye_4Rpro_img\").src = \"./style/image/fisheye/btn_Fisheye_4Rpro_P.png\";\t\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction SetVlcSound()\r\n{\r\n  if(EID(\"Liveview_Sound\").title == \"SoundMute\" && getVLC(\"vlc\").audio.mute == false)\r\n  {\r\n    getVLC(\"vlc\").audio.mute = true;\r\n    clearTimeout(VLC_Sound_Timer);\r\n  }\r\n  else if(EID(\"Liveview_Sound\").title == \"Sound\" && getVLC(\"vlc\").audio.mute == true)\r\n  {\r\n    getVLC(\"vlc\").audio.mute = false;\r\n    clearTimeout(VLC_Sound_Timer);\r\n  } \r\n  else \r\n  {\r\n    VLC_Sound_Timer = setTimeout(\"SetVlcSound()\",10);\r\n  }\r\n}\r\nfunction SetPtzCustomCmd()\r\n{\r\n  var ptzCmd = \"\", i = 0, j = 0, ptzName = \"\";\r\n  var cmdPrifix = GetQueryVariable(\"PTZ.Custom.Command.Prifix\");\r\n  var cmdMaxCnt = parseInt(GetQueryVariable(\"PTZ.Custom.Command.MaxCnt\"),10);\r\n\r\n  for( i = 0; i < cmdMaxCnt; i++)\r\n  {\r\n    ptzCmd = GetQueryVariable(\"PTZ.Custom.Command.\" + cmdPrifix + i + \".\" + \"Command\");\r\n    ptzName = GetQueryVariable(\"PTZ.Custom.Command.\" + cmdPrifix + i + \".\" + \"Name\");\r\n\r\n    if( ptzCmd != \"none\")\r\n    {\r\n      EID(\"ptzCmdSel\").options[j]=(new Option(ptzName,i));\r\n      j ++;\r\n    }\r\n  }\r\n  \r\n  if( EID(\"ptzCmdSel\").length > 0 && rs485Ena)\r\n  {\r\n    EShow(\"ptzCmdTb\",\"\");\r\n  }\r\n  var protocol = GetQueryVariable(\"PTZ.SerDrivers.Ser1Driver\");\r\n  if( VideoServerSupport == \"yes\" && (protocol == \"pelcop\" || protocol == \"pelcod\" || protocol == \"dynacolor\"))\r\n  {\r\n    EShow(\"osdCmdTb\",\"\");\r\n  }\r\n}\r\n\r\nfunction SetPtzCmdBtnRun()\r\n{\r\n  var idx = EID(\"ptzCmdSel\").value;\r\n  var cgi = eval(\"'/cgi-bin/operator/ptzset?runcustcmdno=\" + EID(\"ptzCmdSel\").value + \"'\");\r\n  SendCGICMD(cgi,null,true,-1);\r\n}\r\n\r\nfunction SetMenuImg()\r\n{\r\n  var i = 0;\r\n  var imgID = new Array(\"i2a\",\"home\",\"setting\",\"information\",\"Liveview_Record\",\r\n                        \"Liveview_Snapshot\",\"Liveview_Defog\",\"Liveview_Zoom\",\"Liveview_Fullscreen\");\r\n  for(i = 0; i < imgID.length; i++)\r\n  {\r\n    EID(imgID[i]).onmouseover  = function MOver(){ mouseOver(this.id); };\r\n    EID(imgID[i]).onmouseout   = function MOut(){ mouseOut(this.id); };\r\n    EID(imgID[i]).onmousedown  = function MDown(){ mouseDown(this.id); };\r\n    EID(imgID[i]).onmouseup    = function MUp(){ mouseOver(this.id); };\r\n  }\r\n}\r\n\r\nfunction CheckVlcPlaying()\r\n{\r\n  if(VLC_Polling_Timer != null)\r\n  {\r\n    clearTimeout(VLC_Polling_Timer);\r\n  }\r\n  \r\n  var vlc = getVLC(\"vlc\");\r\n  \r\n  if( vlc )\r\n  {\r\n    if(VLC_Pause_Flag == false && EID(\"Liveview_Play\").title == \"Pause\")\r\n    {\r\n      if(!vlc.playlist.isPlaying)\r\n      {\r\n        chkReload();\r\n      }\r\n    }\r\n  }\r\n\r\n  VLC_Polling_Timer = setTimeout(\"CheckVlcPlaying()\",5000);\r\n}\r\n\r\nfunction SetPtzImg()\r\n{\r\n  var imgID = new Array(\"_TL\",\"_T\",\"_TR\",\"_L\",\"_home\",\"_R\",\"_BL\",\"_B\",\"_BR\");\r\n  var zoomID = new Array(\"_zoom_out\",\"_zoom_in\");\r\n  var focusID = new Array(\"_focus_near\",\"_focus_far\");\r\n  var irisID = new Array(\"_iris_open\",\"_iris_close\");\r\n  var SMzoomfocux = new Array(\"_a\",\"_r\");\r\n  var SMfocus = new Array(\"_a\",\"_r\");\r\n  \r\n  var i=0;\r\n  for(i=0;i<imgID.length;i++)\r\n  {\r\n    EID(imgID[i]).src=\"./style/image/ptz/btn_Liveview_PTZ\" + imgID[i]+ \"_e.png\";\r\n   \r\n    EID(imgID[i]).onmouseover  = function MOver(){ MouseOverPT(this.id); };\r\n    EID(imgID[i]).onmouseout   = function MOut(){ MouseUpPT(\"Move\",this.id); };\r\n    EID(imgID[i]).onmousedown  = function MDown(){ MouseDownPT(\"Move\",this.id); };\r\n    EID(imgID[i]).onmouseup    = function MUp(){ MouseUpPT(\"Move\",this.id); };\r\n  }\r\n \r\n  for(i=0;i< zoomID.length;i++)\r\n  {\r\n    EID(zoomID[i]).src=\"./style/image/ptz/btn_Liveview_PTZ\" + zoomID[i] + \"_e.png\";\r\n   \r\n    EID(zoomID[i]).onmouseover  = function MOver(){ MouseOverPT(this.id); };\r\n    EID(zoomID[i]).onmouseout   = function MOut(){ MouseOutPT(this.id); };\r\n    EID(zoomID[i]).onmousedown  = function MDown(){ MouseDownPT(\"Zoom\",this.id); };\r\n    EID(zoomID[i]).onmouseup    = function MUp(){ MouseUpPT(\"Zoom\",this.id); };\r\n  }\r\n  \r\n  for(i=0;i< focusID.length;i++)\r\n  {\r\n    EID(focusID[i]).src=\"./style/image/ptz/btn_Liveview_PTZ\" + focusID[i] + \"_e.png\";\r\n   \r\n    EID(focusID[i]).onmouseover  = function MOver(){ MouseOverPT(this.id); };\r\n    EID(focusID[i]).onmouseout   = function MOut(){ MouseOutPT(this.id); };\r\n    EID(focusID[i]).onmousedown  = function MDown(){ MouseDownPT(\"Focus\",this.id); };\r\n    EID(focusID[i]).onmouseup    = function MUp(){ MouseUpPT(\"Focus\",this.id); };\r\n  }\r\n  for(i=0;i< irisID.length;i++)\r\n  {\r\n    //EID(irisID[i]).src=\"./style/image/ptz/btn_Liveview_PTZ\" + irisID[i] + \"_e.png\";\r\n    if(irisID[i] == \"_iris_open\")\r\n    {\r\n      EID(irisID[i]).src=\"./style/image/iris_close.png\";\r\n    }\r\n    else\r\n    {\r\n      EID(irisID[i]).src=\"./style/image/iris_open.png\";\r\n    }\r\n    EID(irisID[i]).onmouseover  = function MOver(){ MouseOverPT(this.id); };\r\n    EID(irisID[i]).onmouseout   = function MOut(){ MouseOutPT(this.id); };\r\n    EID(irisID[i]).onmousedown  = function MDown(){ MouseDownPT(\"Iris\",this.id); };\r\n    EID(irisID[i]).onmouseup    = function MUp(){ MouseUpPT(\"Iris\",this.id); };\r\n  }\r\n  \r\n  EID(\"ZoomIn\").src=\"./style/image/ZoomIn_white.png\";\r\n  EID(\"SMzoomB_a\").src=\"./style/image/ll.png\";\r\n  EID(\"SMzoomB_r\").src=\"./style/image/rr.png\";\r\n  EID(\"SMzoomS_a\").src=\"./style/image/l.png\";\r\n  EID(\"SMzoomS_r\").src=\"./style/image/r.png\";\r\n  EID(\"ZoomOut\").src=\"./style/image/ZoomOut_white.png\";\r\n\r\n  EID(\"FocusNear\").src=\"./style/image/Near_white.png\";\r\n  EID(\"SMfocusB_a\").src=\"./style/image/ll.png\";\r\n  EID(\"SMfocusB_r\").src=\"./style/image/rr.png\";\r\n  EID(\"SMfocusS_a\").src=\"./style/image/l.png\";\r\n  EID(\"SMfocusS_r\").src=\"./style/image/r.png\";\r\n  EID(\"FocusFar\").src=\"./style/image/Far_white.png\";\r\n\r\n  EID(\"SMzoomB_a\").onmousedown  = function MDownSM(){ StepStart(\"zoom\", \"-10\", \"value\"); };\r\n  EID(\"SMzoomB_r\").onmousedown  = function MDownSM(){ StepStart(\"zoom\", \"10\", \"value\"); };\r\n  EID(\"SMzoomS_a\").onmousedown  = function MDownSM(){ StepStart(\"zoom\", \"-1\", \"value\"); };\r\n  EID(\"SMzoomS_r\").onmousedown  = function MDownSM(){ StepStart(\"zoom\", \"1\", \"value\"); };  \r\n  EID(\"SMfocusB_a\").onmousedown  = function MDown(){ StepStart(\"focus\", \"-10\", \"value\"); };\r\n  EID(\"SMfocusB_r\").onmousedown  = function MDown(){ StepStart(\"focus\", \"10\", \"value\"); };\r\n  EID(\"SMfocusS_a\").onmousedown  = function MDown(){ StepStart(\"focus\", \"-1\", \"value\"); };\r\n  EID(\"SMfocusS_r\").onmousedown  = function MDown(){ StepStart(\"focus\", \"1\", \"value\"); };\r\n\r\n  EID(\"refocus\").onmousedown = function MDown(){ SFbtn(); };\r\n\r\n  EID(\"sethome\").onmousedown = function MDown(){ SHbtn(); };\r\n}\r\n\r\n\r\nfunction SetOsdImg()\r\n{\r\n  var imgID = new Array(\"_T1\",\"_L1\",\"_home1\",\"_R1\",\"_B1\");\r\n  \r\n  var i=0;\r\n  \r\n  for(i=0;i<imgID.length;i++)\r\n  {\r\n    EID(imgID[i]).src=\"./style/image/ptz/btn_Liveview_PTZ\" + imgID[i]+ \"_e.png\";\r\n    EID(imgID[i]).onmouseover  = function MOver(){ MouseOverPT(this.id); };\r\n    EID(imgID[i]).onmouseout   = function MOut(){ MouseOutPT(this.id); };\r\n    EID(imgID[i]).onmousedown  = function MDown(){ MouseDownOSD(this.id); };\r\n    EID(imgID[i]).onmouseup    = function MUp(){ MouseUpOSD(this.id); };\r\n  }\r\n}\r\n\r\nfunction SetFisheyeImg()\r\n{\r\n  EID(\"Fisheye_1O_img\").onmousedown  = function MDown(){ FisheyeBtnDown(\"1o\"); };\r\n  EID(\"Fisheye_1R_img\").onmousedown  = function MDown(){ FisheyeBtnDown(\"1r\"); };\r\n  EID(\"Fisheye_4R_img\").onmousedown  = function MDown(){ FisheyeBtnDown(\"4r\"); };\r\n  EID(\"Fisheye_4R_1O_img\").onmousedown  = function MDown(){ FisheyeBtnDown(\"4r_1o\"); };\r\n  EID(\"Fisheye_2P_1P_img\").onmousedown  = function MDown(){ FisheyeBtnDown(\"2p_1p\"); };\r\n  EID(\"Fisheye_4Rpro_img\").onmousedown  = function MDown(){ FisheyeBtnDown(\"4rpro\"); };\r\n}\r\n\r\nfunction FisheyeBtnDown(val)\r\n{\r\n  var imgID = new Array(\"_1O\",\"_1R\",\"_4R\",\"_4R_1O\",\"_4Rpro\");\r\n\r\n\tif(val == getCookies(\"fish_display\"))\r\n\t{\r\n\t\treturn;\r\n\t}\r\n  \r\n  for(i=0;i<imgID.length;i++)\r\n \t{\r\n \t\tEID(\"Fisheye\"+imgID[i]+\"_img\").src = \"./style/image/fisheye/btn_Fisheye\"+imgID[i]+\".png\";\r\n \t}\r\n\tif(EID(\"f_position\").value == \"wall\")\r\n\t{\r\n\t\tEID(\"Fisheye_2P_1P_img\").src = \"./style/image/fisheye/btn_Fisheye_1P.png\";\r\n\t\tEID(\"Fisheye_4Rpro_img\").src = \"./style/image/fisheye/btn_Fisheye_4Rpro_gray.png\";\r\n\t\tif( \"4rpro\" == getCookies(\"fish_display\"))\r\n\t\t{\r\n\t\t\tval = \"2p_1p\";\t\t\t\r\n\t\t}\t\t\r\n\t}\r\n\telse\r\n\t{\r\n\t\tEID(\"Fisheye_2P_1P_img\").src = \"./style/image/fisheye/btn_Fisheye_2P.png\";\r\n\t}\r\n  \r\n\tsetCookies(\"fish_display\",val);\r\n\r\n\tif(val == \"1r\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeViewType = \"0\";\r\n\t\tEID(\"Fisheye_1R_img\").src = \"./style/image/fisheye/btn_Fisheye_1R_P.png\";\r\n\t}\r\n\telse if(val == \"4r\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeViewType = \"1\";\r\n\t\tEID(\"Fisheye_4R_img\").src = \"./style/image/fisheye/btn_Fisheye_4R_P.png\";\r\n\t}\r\n\telse if(val == \"2p_1p\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeViewType = \"2\";\r\n\r\n\t\tif(EID(\"f_position\").value == \"wall\")\r\n\t\t{\r\n\t\t\tEID(\"Fisheye_2P_1P_img\").src = \"./style/image/fisheye/btn_Fisheye_1P_P.png\";\t\t\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tEID(\"Fisheye_2P_1P_img\").src = \"./style/image/fisheye/btn_Fisheye_2P_P.png\";\r\n\t\t}\r\n\t}\r\n\telse if(val == \"1o\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeViewType = \"3\";\r\n\t\tEID(\"Fisheye_1O_img\").src = \"./style/image/fisheye/btn_Fisheye_1O_P.png\";\r\n\t}\r\n\telse if(val == \"4r_1o\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeViewType = \"4\";\r\n\t\tEID(\"Fisheye_4R_1O_img\").src = \"./style/image/fisheye/btn_Fisheye_4R_1O_P.png\";\r\n\t}\r\n\telse if(val == \"4rpro\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeViewType = \"5\";\r\n\t\tEID(\"Fisheye_4Rpro_img\").src = \"./style/image/fisheye/btn_Fisheye_4Rpro_P.png\";\r\n\t}\r\n}\r\n\r\nfunction Slider_initial()\r\n{\r\n  var dfocus = GetQueryVariable('ImageSource.I0.LensControl.FocusPos');\r\n  var dzoom = GetQueryVariable('ImageSource.I0.LensControl.ZoomPos');\r\n  var focus_max=100;\r\n  var zoom_max=100;\r\n  \r\n  if (dfocus == \"-1\")\r\n    dfocus = 0;\r\n  if (dzoom == \"-1\")\r\n    dzoom = 0;  \r\n\t$( \"#ZoomSlider\" ).slider({\r\n\t  value:dzoom,\r\n\t\tmin:  0,\r\n\t\tmax:  zoom_max,\r\n\t\tstep: 1,\r\n\t\tcss:\"ui-slider_WB\",\r\n\t\tstop: function( event, ui ) {\r\n      StepStart(\"zoom\",ui.value,\"position\");\r\n      setTimeout(function(){getfocusinfo();} , 1000);\r\n\t\t  }\r\n    }\r\n\t);\r\n\t$( \"#FocusSlider\" ).slider({\r\n\t  value:dfocus,\r\n\t\tmin:  0,\r\n\t\tmax:  focus_max,\r\n\t\tstep: 1,\r\n\t\tcss:\"ui-slider_WB\",\r\n\t\tstop: function( event, ui ) {\r\n      StepStart(\"focus\",ui.value,\"position\");\r\n      setTimeout(function(){getfocusinfo();} , 1000);\r\n\t\t  }\r\n    }\r\n\t);\t\r\n}\r\n\r\nfunction StepStart(SFtype, value, position)\r\n{\r\n  var cgi = 'cgi-bin/operator/refocus?mode=' + SFtype + '&'+position+'=' + value;\r\n  SendCGICMD(cgi);\r\n  setTimeout(function(){getfocusinfo();} , 1000);\r\n}\r\n\r\nfunction MouseDownOSD(imgID)\r\n{\r\n  var i=0;\r\n  var cgi;\r\n  var img = new Array(\"_T1\",\"_L1\",\"_home1\",\"_R1\",\"_B1\");\r\n  var action = new Array(\"up\",\"left\",\"enter\",\"right\",\"down\");\r\n  EID(imgID).src = \"/style/image/ptz/btn_Liveview_PTZ\" + imgID + \"_p.png\";\r\n \r\n  for(i=0;i< img.length;i++)\r\n  {\r\n    if(img[i] == imgID)\r\n    {\r\n      break;\r\n    }\r\n  }\r\n  if(!rs485Ena)\r\n  {\r\n    alert(loadLangString(\"L_Warn_RS_485_Ena\",false));\r\n    return;\r\n  }    \r\n  cgi = eval(\"'/cgi-bin/operator/ptzset?osd=\" + action[i] + \"'\"); \r\n  \r\n  SendCGICMD(cgi,null,true,-1);\r\n}\r\n\r\nfunction MouseUpOSD(imgID)\r\n{\r\n\tEID(imgID).src=\"/style/image/ptz/btn_Liveview_PTZ\" + imgID + \"_h.png\";\r\n}\r\n\r\nfunction MouseOverPT(imgID)\r\n{\r\n  EID(imgID).src=\"/style/image/ptz/btn_Liveview_PTZ\" + imgID + \"_h.png\";\r\n}\r\n\r\nfunction MouseOutPT(imgID)\r\n{\r\n  EID(imgID).src=\"/style/image/ptz/btn_Liveview_PTZ\" + imgID + \"_e.png\";\r\n}\r\n\r\nfunction MouseDownPT(action,imgID)\r\n{\r\n  switch(action)\r\n  {\r\n    case \"Move\" : \r\n  \r\n      var i=0;\r\n      var cgi;\r\n      var img = new Array(\"_TL\",\"_T\",\"_TR\",\"_L\",\"_home\",\"_R\",\"_BL\",\"_B\",\"_BR\");\r\n      var action = new Array(\"upleft\",\"up\",\"upright\",\"left\",\"home\",\"right\",\"downleft\",\"down\",\"downright\");\r\n    \r\n      EID(imgID).src = \"/style/image/ptz/btn_Liveview_PTZ\" + imgID + \"_p.png\";\r\n   \r\n      for(i=0;i< img.length;i++)\r\n      {\r\n        if(img[i] == imgID)\r\n        {\r\n          break;\r\n        }\r\n      }\r\n    \r\n      if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n      {\r\n        if(PTZ_Action == \"PTZ\" && !rs485Ena)\r\n        {\r\n          alert(loadLangString(\"L_Warn_RS_485_Ena\",false));\r\n          return;\r\n        }    \r\n        \r\n        if(action[i] == \"home\")\r\n        {        \r\n          if(doGetHomePosName()=='')\r\n          {\r\n            alert(loadLangString('L_Warn_HomeNotExist',false));\r\n            return;\r\n          }\r\n        }\r\n        \r\n        cgi = eval(\"'/cgi-bin/operator/ptzset?move=\" + action[i] + \"'\");\r\n      }else if(PTZ_Action == \"ePTZ\"){\r\n        if(action[i] == \"home\")\r\n        {   \r\n          var EHomePos = GetQueryVariable(\"EPTZ.PresetGroup.S\" + ViewArea + \".HomePos\");\r\n          if(EHomePos == \"none\")\r\n          {\r\n            alert(loadLangString('L_Warn_HomeNotExist',false));\r\n            return;\r\n          }\r\n        }\r\n        \r\n        cgi = eval(\"'/cgi-bin/operator/ptzset?stream=\" + ViewArea + \"&move=\" + action[i] + \"'\");\r\n      }\r\n      if(DetectMobile())\r\n      {\r\n        cgi += \"&interval=500000\";\r\n      }\r\n      else if(action[i] != \"home\")\r\n      {\r\n        cgi += \"&move=repeat\";\r\n      }\r\n      if (action[i] != \"home\")\r\n      {\r\n        PTZ_move_flag = 1;    \r\n      }\r\n      SendCGICMD(cgi,null,true,-1);\r\n      \r\n      break;\r\n      \r\n    case \"Zoom\" : \r\n\r\n      EID(imgID).src = \"/style/image/ptz/btn_Liveview_PTZ\" + imgID + \"_p.png\";\r\n     \r\n      var zoomact = imgID.split(\"_\")[2];\r\n    \r\n      if(PTZ_Action == \"PTZ\")\r\n      {\r\n        if(!rs485Ena)\r\n        {\r\n          alert(loadLangString(\"L_Warn_RS_485_Ena\",false));\r\n          return;\r\n        }\r\n        SendCGICMD(eval(\"'/cgi-bin/operator/ptzset?zoom=\" + zoomact + \"&zoom=repeat'\"),null,true,-1);\r\n      }\r\n      \r\n      break;\r\n\r\n    case \"Focus\" :\r\n      EID(imgID).src = \"/style/image/ptz/btn_Liveview_PTZ\" + imgID + \"_p.png\";\r\n      \r\n      var focusact = imgID.split(\"_\")[2];\r\n      \r\n      if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n      {\r\n        if(PTZ_Action == \"PTZ\" && !rs485Ena)\r\n        {\r\n          alert(loadLangString(\"L_Warn_RS_485_Ena\",false));\r\n          return;\r\n        }    \r\n        SendCGICMD(eval(\"'/cgi-bin/operator/ptzset?focus=\" + focusact + \"&focus=repeat'\"),null,true,-1);\r\n      }else if(PTZ_Action == \"ePTZ\"){\r\n        SendCGICMD(eval(\"'/cgi-bin/operator/ptzset?stream=\" + ViewArea + \"&focus=\" + focusact + \"&focus=repeat'\"),null,true,-1);\r\n      }      \r\n      \r\n      break;\r\n      \r\n    case \"Iris\" :\r\n      //EID(imgID).src = \"/style/image/ptz/btn_Liveview_PTZ\" + imgID + \"_p.png\";\r\n      imgID = imgID.split(\"_\")[2];\r\n      SendCGICMD(eval(\"'/cgi-bin/operator/ptzset?iris=\" + imgID + \"'\"),null,true,-1);\r\n      break;\r\n  }\r\n}\r\n\r\nfunction MouseUpPT(action,imgID)\r\n{\r\n  switch(action)\r\n  {\r\n    case \"Move\" :\r\n     \r\n      EID(imgID).src=\"/style/image/ptz/btn_Liveview_PTZ\" + imgID + \"_e.png\";\r\n      \r\n      if(DetectMobile())\r\n      {\r\n        EID(imgID).src = \"/style/image/ptz/btn_Liveview_PTZ\" + imgID + \"_e.png\";\r\n        return;\r\n      }\r\n      \r\n      if(imgID==\"_home\")\r\n      {\r\n        return;\r\n      }\r\n      if(PTZ_move_flag == 0)\r\n      {\r\n        return;\r\n      }\r\n      \r\n      if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n      {\r\n        SendCGICMD(eval(\"'/cgi-bin/operator/ptzset?move=stop'\"),null,true,-1);\r\n      }else if(PTZ_Action == \"ePTZ\"){\r\n        SendCGICMD(eval(\"'/cgi-bin/operator/ptzset?stream=\" + ViewArea + \"&move=stop'\"),null,true,-1);\r\n      }\r\n      PTZ_move_flag = 0;\r\n      \r\n      break;\r\n      \r\n    case \"Zoom\" :\r\n      EID(imgID).src=\"/style/image/ptz/btn_Liveview_PTZ\" + imgID + \"_h.png\";\r\n\r\n      if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n      {\r\n        SendCGICMD(eval(\"'/cgi-bin/operator/ptzset?zoom=stop'\"),null,true,-1);\r\n      }else if(PTZ_Action == \"ePTZ\"){\r\n        SendCGICMD(eval(\"'/cgi-bin/operator/ptzset?stream=\" + ViewArea + \"&zoom=stop'\"),null,true,-1);\r\n      }\r\n      \r\n      break;\r\n    \r\n    case \"Focus\" :\r\n      EID(imgID).src=\"/style/image/ptz/btn_Liveview_PTZ\" + imgID + \"_h.png\";\r\n      if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n      {\r\n        SendCGICMD(eval(\"'/cgi-bin/operator/ptzset?focus=stop'\"),null,true,-1);\r\n      }else if(PTZ_Action == \"ePTZ\"){\r\n        SendCGICMD(eval(\"'/cgi-bin/operator/ptzset?stream=\" + ViewArea + \"&focus=stop'\"),null,true,-1);\r\n      }\r\n      \r\n      break;\r\n      \r\n    case \"Iris\" :\r\n      //EID(imgID).src=\"/style/image/ptz/btn_Liveview_PTZ\" + imgID + \"_h.png\";\r\n      //imgID = imgID.split(\"_\")[2];\r\n      //SendCGICMD(eval(\"'/cgi-bin/operator/ptzset?iris=stop'\"),null,true,-1);\r\n      break;    \r\n  }\r\n}\r\n\r\nfunction doChgTab(tab)\r\n{\r\n  switch(tab)\r\n  {\r\n    default:\r\n    case 'live':\r\n      EID(\"liveTabL\").className = \"tabOnL\";\r\n      EID(\"liveTabM\").className = \"tabOnM\";\r\n      EID(\"liveTabR\").className = \"tabOnR\";\r\n      EID(\"clientTabL\").className = \"tabOffL\";\r\n      EID(\"clientTabM\").className = \"tabOffM\";\r\n      EID(\"clientTabR\").className = \"tabOffR\";\r\n      EID(\"ptzTabL\").className = \"tabOffL\";\r\n      EID(\"ptzTabM\").className = \"tabOffM\";\r\n      EID(\"ptzTabR\").className = \"tabOffR\";\r\n      EID(\"focusTabL\").className = \"tabOffL\";\r\n      EID(\"focusTabM\").className = \"tabOffM\";\r\n      EID(\"focusTabR\").className = \"tabOffR\";  \r\n      EID(\"fisheyeTabL\").className = \"tabOffL\";\r\n      EID(\"fisheyeTabM\").className = \"tabOffM\";\r\n      EID(\"fisheyeTabR\").className = \"tabOffR\";\r\n      if(EID(\"ClientSetting\").style.display!=\"none\")\r\n      {\r\n        EffectShow(\"hide\",\"fold\",\"ClientSetting\");\r\n      }\r\n      if(EID(\"PTZSetting\").style.display!=\"none\")\r\n      {\r\n        EffectShow(\"hide\",\"fold\",\"PTZSetting\");\r\n      }\r\n      if(EID(\"SMFocus\").style.display!=\"none\")\r\n      {\r\n        EffectShow(\"hide\",\"fold\",\"SMFocus\");\r\n      }\r\n      if(EID(\"FisheyeSetting\").style.display!=\"none\")\r\n      {\r\n        EffectShow(\"hide\",\"fold\",\"FisheyeSetting\");\r\n      }\r\n      break;\r\n    case 'client':\r\n      EID(\"liveTabL\").className = \"tabOffL\";\r\n      EID(\"liveTabM\").className = \"tabOffM\";\r\n      EID(\"liveTabR\").className = \"tabOffR\";\r\n      EID(\"clientTabL\").className = \"tabOnL\";\r\n      EID(\"clientTabM\").className = \"tabOnM\";\r\n      EID(\"clientTabR\").className = \"tabOnR\";                      \r\n      EID(\"ptzTabL\").className = \"tabOffL\";\r\n      EID(\"ptzTabM\").className = \"tabOffM\";\r\n      EID(\"ptzTabR\").className = \"tabOffR\";\r\n      EID(\"focusTabL\").className = \"tabOffL\";\r\n      EID(\"focusTabM\").className = \"tabOffM\";\r\n      EID(\"focusTabR\").className = \"tabOffR\";  \r\n      EID(\"fisheyeTabL\").className = \"tabOffL\";\r\n      EID(\"fisheyeTabM\").className = \"tabOffM\";\r\n      EID(\"fisheyeTabR\").className = \"tabOffR\";\r\n      if(EID(\"ClientSetting\").style.display==\"none\")\r\n      {\r\n        EffectShow(\"\",\"fold\",\"ClientSetting\");\r\n        if(EID(\"PTZSetting\").style.display!=\"none\")\r\n        {\r\n          EffectShow(\"hide\",\"fold\",\"PTZSetting\");\r\n        }\r\n        if(EID(\"SMFocus\").style.display!=\"none\")\r\n        {\r\n          EffectShow(\"hide\",\"fold\",\"SMFocus\");\r\n        }\r\n\t      if(EID(\"FisheyeSetting\").style.display!=\"none\")\r\n  \t    {\r\n    \t    EffectShow(\"hide\",\"fold\",\"FisheyeSetting\");\r\n      \t}\r\n      }else{\r\n        doChgTab('live');\r\n      }\r\n      doClientSetting();\r\n      break;\r\n    case 'ptz':\r\n      EID(\"liveTabL\").className = \"tabOffL\";\r\n      EID(\"liveTabM\").className = \"tabOffM\";\r\n      EID(\"liveTabR\").className = \"tabOffR\";\r\n      EID(\"clientTabL\").className = \"tabOffL\";\r\n      EID(\"clientTabM\").className = \"tabOffM\";\r\n      EID(\"clientTabR\").className = \"tabOffR\";\r\n      EID(\"ptzTabL\").className = \"tabOnL\";\r\n      EID(\"ptzTabM\").className = \"tabOnM\";\r\n      EID(\"ptzTabR\").className = \"tabOnR\";\r\n      EID(\"focusTabL\").className = \"tabOffL\";\r\n      EID(\"focusTabM\").className = \"tabOffM\";\r\n      EID(\"focusTabR\").className = \"tabOffR\";      \r\n      EID(\"fisheyeTabL\").className = \"tabOffL\";\r\n      EID(\"fisheyeTabM\").className = \"tabOffM\";\r\n      EID(\"fisheyeTabR\").className = \"tabOffR\";\r\n      if(EID(\"PTZSetting\").style.display==\"none\")\r\n      {\r\n        EffectShow(\"\",\"fold\",\"PTZSetting\");\r\n        if(EID(\"ClientSetting\").style.display!=\"none\")\r\n        {\r\n          EffectShow(\"hide\",\"fold\",\"ClientSetting\");\r\n        }\r\n        if(EID(\"SMFocus\").style.display!=\"none\")\r\n        {\r\n          EffectShow(\"hide\",\"fold\",\"SMFocus\");\r\n        }\r\n      \tif(EID(\"FisheyeSetting\").style.display!=\"none\")\r\n      \t{\r\n        \tEffectShow(\"hide\",\"fold\",\"FisheyeSetting\");\r\n      \t}\r\n      }else{\r\n        doChgTab('live');\r\n      }\r\n      break;\r\n    case 'focus':\r\n      EID(\"liveTabL\").className = \"tabOffL\";\r\n      EID(\"liveTabM\").className = \"tabOffM\";\r\n      EID(\"liveTabR\").className = \"tabOffR\";\r\n      EID(\"clientTabL\").className = \"tabOffL\";\r\n      EID(\"clientTabM\").className = \"tabOffM\";\r\n      EID(\"clientTabR\").className = \"tabOffR\";\r\n      EID(\"ptzTabL\").className = \"tabOffL\";\r\n      EID(\"ptzTabM\").className = \"tabOffM\";\r\n      EID(\"ptzTabR\").className = \"tabOffR\";\r\n      EID(\"focusTabL\").className = \"tabOnL\";\r\n      EID(\"focusTabM\").className = \"tabOnM\";\r\n      EID(\"focusTabR\").className = \"tabOnR\";\r\n      EID(\"fisheyeTabL\").className = \"tabOffL\";\r\n      EID(\"fisheyeTabM\").className = \"tabOffM\";\r\n      EID(\"fisheyeTabR\").className = \"tabOffR\";\r\n      if(EID(\"SMFocus\").style.display==\"none\")\r\n      {\r\n        EffectShow(\"\",\"fold\",\"SMFocus\");\r\n        if(EID(\"ClientSetting\").style.display!=\"none\")\r\n        {\r\n          EffectShow(\"hide\",\"fold\",\"ClientSetting\");\r\n        }\r\n        if(EID(\"PTZSetting\").style.display!=\"none\")\r\n        {\r\n          EffectShow(\"hide\",\"fold\",\"PTZSetting\");\r\n        }\r\n      \tif(EID(\"FisheyeSetting\").style.display!=\"none\")\r\n      \t{\r\n        \tEffectShow(\"hide\",\"fold\",\"FisheyeSetting\");\r\n      \t}        \r\n      }else{\r\n        doChgTab('live');\r\n      }\r\n      GetDeviceInfo(info,'operator');\r\n      Slider_initial();\r\n      break;\r\n    case 'fisheye':\r\n      EID(\"liveTabL\").className = \"tabOffL\";\r\n      EID(\"liveTabM\").className = \"tabOffM\";\r\n      EID(\"liveTabR\").className = \"tabOffR\";\r\n      EID(\"clientTabL\").className = \"tabOffL\";\r\n      EID(\"clientTabM\").className = \"tabOffM\";\r\n      EID(\"clientTabR\").className = \"tabOffR\";\r\n      EID(\"ptzTabL\").className = \"tabOffL\";\r\n      EID(\"ptzTabM\").className = \"tabOffM\";\r\n      EID(\"ptzTabR\").className = \"tabOffR\";\r\n      EID(\"focusTabL\").className = \"tabOffL\";\r\n      EID(\"focusTabM\").className = \"tabOffM\";\r\n      EID(\"focusTabR\").className = \"tabOffR\";      \r\n      EID(\"fisheyeTabL\").className = \"tabOnL\";\r\n      EID(\"fisheyeTabM\").className = \"tabOnM\";\r\n      EID(\"fisheyeTabR\").className = \"tabOnR\";\r\n      if(EID(\"FisheyeSetting\").style.display==\"none\")\r\n      {\r\n        EffectShow(\"\",\"fold\",\"FisheyeSetting\");\r\n        if(EID(\"ClientSetting\").style.display!=\"none\")\r\n        {\r\n          EffectShow(\"hide\",\"fold\",\"ClientSetting\");\r\n        }\r\n        if(EID(\"PTZSetting\").style.display!=\"none\")\r\n        {\r\n          EffectShow(\"hide\",\"fold\",\"PTZSetting\");\r\n        }\r\n      \tif(EID(\"SMFocus\").style.display!=\"none\")\r\n      \t{\r\n        \tEffectShow(\"hide\",\"fold\",\"SMFocus\");\r\n      \t}        \r\n      }else{\r\n        doChgTab('live');\r\n      }\r\n      break;\r\n  }\r\n}\r\n\r\nfunction doClientSetting()\r\n{\r\n  showCodecOption();\r\n  EID(\"c_format\").value = getDisplayFmt();\r\n  EID(\"c_protocol\").value = getProtocol();\r\n  EID(\"c_videobuffer\").value = getBufferEn();\r\n}\r\n\r\nfunction showCodecOption()\r\n{\r\n\tvar analogVideoOutEnable = GetQueryVariable(\"Image.VideoOut.Enabled\");\r\n\tvar maxCnt=GetQueryVariable(\"StreamProfile.MaxCnt\");\r\n\tvar i=0,j=0,pName=\"\",pRes=\"\";\r\n\r\n\tfor(i = 0; i < maxCnt; i++)\r\n\t{\r\n\t  pName=GetQueryVariable(\"StreamProfile.I\" + i + \".Video.Name\");\r\n\t  pRes=GetQueryVariable(\"StreamProfile.I\" + i + \".Video.Resolution\");\r\n\t  if(pName!=\"\")\r\n\t  {\r\n\t    EID(\"c_profile\").options[j]=(new Option(pName,i));\r\n    \t/*if( VideoSupport == \"yes\" && analogVideoOutEnable == \"on\" \r\n    \t&& ProfileImageSource != \"ov9715\" && ProfileImageSource != \"ar0331\"\r\n    \t&& pRes == \"640x480\")\r\n    \t{\r\n    \t  EID(\"c_profile\").options[j].style.color = \"graytext\";\r\n    \t}*/\r\n\t    j++;\r\n\t  }\r\n\t}\r\n\r\n  EID(\"c_profile\").value = getProfileFmt();\r\n}\r\n\r\nfunction FitSize()\r\n{\r\n  var i = 0;\r\n  for(i=1;i<=3;i++)\r\n  {\r\n    EID(\"table\"+i).style.width = \"750px\";\r\n  }\r\n  \r\n  EID(\"main\").style.width = \"730px\";\r\n  EID(\"main\").style.height = \"420px\";\r\n  EID(\"webWatch\").style.width = \"205px\";\r\n  EID(\"table4\").style.width = \"710px\";\r\n  EID(\"table4\").style.height = \"400px\";\r\n}\r\n\r\nfunction DispError()\r\n{\r\n  EID(\"overView\").src = eval(\"'http://\" + HOST_NAME + \":\" + HOST_PORT + \"/stream?uri=video.pro3'\")\r\n}\r\n\r\nfunction doUpdateFormat()\r\n{\r\n  EID(\"c_format\").value = FORMAT;\r\n  \r\n  if(FORMAT == \"1\" || CheckMac == true)\r\n  {\r\n    EShow(\"layer_protocol\",\"none\");\r\n    EShow(\"layer_videobuffer\",\"none\");\r\n  }else{\r\n    EShow(\"layer_protocol\",\"\");\r\n    EShow(\"layer_videobuffer\",\"none\");\r\n  }\r\n}\r\n\r\nfunction doChgFormat()\r\n{\r\n  var rotate_check = getCookies(\"ROT_Chk\");\r\n      \r\n  FORMAT = EID(\"c_format\").value; \r\n  setDisplayFmt(FORMAT);\r\n\r\n  if(snapshotFlag != null)\r\n  {\r\n    clearTimeout(snapshotFlag);\r\n  }\r\n\r\n  if (rotate_check == \"on\")\r\n  {\r\n    setCookies(\"ROT_Chk\", \"off\");\r\n    doReload();\r\n  }\r\n\r\n  chkReload();\r\n}\r\n\r\nfunction doChgFishpos()\r\n{\r\n\tsetCookies(\"fish_position\",EID(\"f_position\").value);\r\n\r\n\tif(EID(\"f_position\").value == \"ceil\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeCamaraPosition = \"1\";\r\n\t}\r\n\telse if(EID(\"f_position\").value == \"floor\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeCamaraPosition = \"2\";\r\n\t}\r\n\telse if(EID(\"f_position\").value == \"wall\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeCamaraPosition = \"0\";\r\n\t}\r\n\r\n\tif(EID(\"f_position\").value == \"ceil\" || EID(\"f_position\").value == \"floor\")\r\n\t{\r\n\t\tif(getCookies(\"fish_display\") == \"2p_1p\")\r\n\t\t\tEID(\"Fisheye_2P_1P_img\").src = \"./style/image/fisheye/btn_Fisheye_2P_P.png\";\r\n\t\telse\r\n\t\t\tEID(\"Fisheye_2P_1P_img\").src = \"./style/image/fisheye/btn_Fisheye_2P.png\";\r\n\r\n\t\tif(getCookies(\"fish_display\") != \"4rpro\")\r\n\t\t{\r\n\t\t\tEID(\"Fisheye_4Rpro_img\").src = \"./style/image/fisheye/btn_Fisheye_4Rpro.png\";\r\n\t\t}\r\n\t\tEID(\"Fisheye_4Rpro_img\").disabled = false;\r\n\t}\r\n\telse\r\n\t{\r\n\t\tif(getCookies(\"fish_display\") != \"2p_1p\")\r\n\t\t\tEID(\"Fisheye_2P_1P_img\").src = \"./style/image/fisheye/btn_Fisheye_1P.png\";\t\r\n\t\telse\r\n\t\t\tEID(\"Fisheye_2P_1P_img\").src = \"./style/image/fisheye/btn_Fisheye_1P_P.png\";\r\n\r\n\t\tEID(\"Fisheye_4Rpro_img\").src = \"./style/image/fisheye/btn_Fisheye_4Rpro_gray.png\";\r\n\t\tEID(\"Fisheye_4Rpro_img\").disabled = true;\r\n\r\n\t\tif(getCookies(\"fish_display\") == \"4rpro\")\r\n\t\t{\r\n\t\t\tFisheyeBtnDown(\"4rpro_gray\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction doChgFishquality()\r\n{\r\n\tsetCookies(\"fish_quality\",EID(\"f_qual\").value);\r\n\t\r\n\tif(EID(\"f_qual\").value == \"auto\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeQuality = \"0\";\r\n\t}\r\n\telse if(EID(\"f_qual\").value == \"lower\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeQuality = \"1\";\r\n\t}\r\n\telse if(EID(\"f_qual\").value == \"low\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeQuality = \"2\";\r\n\t}\r\n\telse if(EID(\"f_qual\").value == \"bas\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeQuality = \"3\";\r\n\t}\t\r\n\telse if(EID(\"f_qual\").value == \"good\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeQuality = \"4\";\r\n\t}\r\n\telse if(EID(\"f_qual\").value == \"best\")\r\n\t{\r\n\t\tdocument.vform.AxPlayer.FisheyeQuality = \"5\";\r\n\t}\r\n}\r\n\r\nvar rotate = \"\";\r\nfunction setImageSize(liveHeight,liveWidth)\r\n{\r\n  if (rotate == true)\r\n  {\r\n    //if( liveHeight == 1536)\r\n    if( liveWidth/liveHeight == 0.75)\r\n    {\r\n      EID(\"table4\").style.height = \"634px\";\r\n      document.vform.AxPlayer.height = \"533px\";\r\n    }else if(liveWidth/liveHeight == 0.8){\r\n      document.vform.AxPlayer.height = \"500px\";        \r\n    }else if((liveWidth/liveHeight).toFixed(2) == 0.59){ // for 2592x1520\r\n      document.vform.AxPlayer.height = \"678px\";\r\n    }else if((liveWidth/liveHeight).toFixed(2) == 0.74){ // for 2048x1520\r\n      document.vform.AxPlayer.height = \"541px\";\r\n    }else if((liveWidth/liveHeight).toFixed(2) == 0.77){ // for 1952x1520\r\n      document.vform.AxPlayer.height = \"519px\";\r\n    }else{\r\n      document.vform.AxPlayer.height = \"710px\";\r\n    }\r\n    document.vform.AxPlayer.width = \"400px\";\r\n  }\r\n  else\r\n  {\r\n    //if( liveHeight == 1536)\r\n    if( liveHeight/liveWidth == 0.75)\r\n    {\r\n      EID(\"table4\").style.width = \"634px\";\r\n      document.vform.AxPlayer.width = \"533px\";\r\n    }else if(liveHeight/liveWidth == 0.8){\r\n      document.vform.AxPlayer.width = \"500px\";        \r\n    }else if((liveHeight / liveWidth).toFixed(2) == 0.59){ // for 2592x1520\r\n    \tdocument.vform.AxPlayer.width = \"678px\";\r\n    }else if((liveHeight / liveWidth).toFixed(2) == 0.74){ // for 2048x1520\r\n    \tdocument.vform.AxPlayer.width = \"541px\";\r\n    }else if((liveHeight / liveWidth).toFixed(2) == 0.77){ // for 1952x1520\r\n    \tdocument.vform.AxPlayer.width = \"519px\";\r\n    }else{\r\n      document.vform.AxPlayer.width = \"710px\";\r\n    }\r\n    document.vform.AxPlayer.height = \"400px\";      \r\n  }\r\n}\r\nfunction doChgViewSize(size)\r\n{\r\n  if(EID(\"c_profile\").selectedIndex != -1)\r\n  {\r\n    PROFILE = EID(\"c_profile\").value;\r\n  }\r\n  var viewsize = GetQueryVariable(\"StreamProfile.I\" + PROFILE + \".Video.Resolution\");\r\n  viewsize = viewsize.split(\"x\");\r\n  var liveWidth = parseInt(viewsize[0],10);\r\n  var liveHeight = parseInt(viewsize[1],10);\r\n  var tmp = 0;\r\n  var resol_rate;\r\n  var viewHeight = 710;\r\n  \r\n\tif (Math.round(liveWidth/liveHeight) == 1)\r\n\t{\r\n\t\tresol_rate = 4/3;\r\n  }\r\n  else\r\n  {\r\n  \tresol_rate = liveWidth/liveHeight;\r\n  }\r\n\r\n  if(size == \"browser\" || (size == \"resize\" && EID(\"c_viewsize\").value == \"browser\"))\r\n  {\r\n    var BrowserWidth = document.body.clientWidth;\r\n\r\n    if(BrowserWidth < 770)\r\n    {\r\n      size = \"fit\"\r\n    }\r\n    else\r\n    {\r\n      var liveWidth = BrowserWidth - 60;\r\n      var liveHeight = Math.round(liveWidth / resol_rate);\r\n      if( rotate == true)\r\n      {\r\n        liveHeight = BrowserWidth - 60;\r\n        liveWidth = Math.round(liveWidth * resol_rate);\r\n      }\r\n      size = \"full\"\r\n    }\r\n  }\r\n  if(size == \"browserh\" || (size == \"resize\" && EID(\"c_viewsize\").value == \"browserh\"))\r\n  {\r\n    var BrowserHeight = document.documentElement.clientHeight;\r\n    if(BrowserHeight < 635)\r\n    {\r\n      size = \"fit\"\r\n    }\r\n    else\r\n    {\r\n      if( rotate == true)\r\n      {\r\n        //rotated height inital\r\n        if( liveHeight/liveWidth == 0.75)\r\n        {\r\n          viewHeight = 542;\r\n        }else if(liveHeight/liveWidth == 0.8){\r\n          viewHeight = 505;        \r\n        }else if((liveHeight / liveWidth).toFixed(2) == 0.59){ // for 2592x1520\r\n          viewHeight = 685;\r\n        }else if((liveHeight / liveWidth).toFixed(2) == 0.74){ // for 2048x1520\r\n          viewHeight = 539;\r\n        }else if((liveHeight / liveWidth).toFixed(2) == 0.77){ // for 1952x1520\r\n          viewHeight = 520;\r\n        }else{\r\n          viewHeight = 710;\r\n        }\r\n        if(BrowserHeight < parseInt(viewHeight)+195)\r\n        {\r\n          size = \"fit\";\r\n        } else {\r\n          var liveWidth = BrowserHeight - 195;\r\n          var liveHeight = Math.round(liveWidth / resol_rate);\r\n          size = \"full\";\r\n        }\r\n      } else {\r\n        liveHeight = BrowserHeight - 235;\r\n        liveWidth = Math.round(liveHeight * resol_rate);\r\n        size = \"full\";\r\n      }\r\n    }\r\n  }\r\n\r\n  if( rotate == true)\r\n  {\r\n    tmp = liveWidth;\r\n    liveWidth = liveHeight;\r\n    liveHeight = tmp;\r\n  }\r\n \r\n\r\n  if(size==\"fit\")\r\n  {\r\n    FitSize();\r\n    if( getOs().indexOf(\"IE\") >= 0 )\r\n    {\r\n    //if( liveHeight == 1536)\r\n        setImageSize(liveHeight,liveWidth);\r\n    }else{\r\n      var profileRatio = (liveWidth / liveHeight).toFixed(2);\r\n      var borderRadio = (16 / 9).toFixed(2);\r\n      if(FORMAT == \"0\")\r\n      {\r\n        if(CheckMac)\r\n        {\r\n          if(QT_SIZE != size)\r\n          {\r\n            setCookies(\"QT_Size\",size);\r\n            chkReload();\r\n          }\r\n        }else{\r\n          if(VLC_Version != null)\r\n          {\r\n            if (rotate == true)\r\n            {\r\n            \tprofileRatio = (liveHeight / liveWidth).toFixed(2);\r\n          \t\tif( profileRatio == borderRadio )\r\n          \t\t{\r\n            \t\tgetVLC(\"vlc\").width = 400;\r\n            \t\tgetVLC(\"vlc\").height = 710;      \r\n          \t\t}else if(profileRatio == \"1.71\"){  // for 2592x1520\r\n            \t\tgetVLC(\"vlc\").width = 400;\r\n            \t\tgetVLC(\"vlc\").height = 685;             \t\r\n          \t\t}else if(profileRatio < borderRadio){\r\n            \t\tgetVLC(\"vlc\").width = 400;\r\n            \t\tgetVLC(\"vlc\").height = ( (liveHeight * 400) / liveWidth ).toFixed(0);      \r\n          \t\t}else if(profileRatio > borderRadio){\r\n            \t\tgetVLC(\"vlc\").width = ( (liveWidth * 710) / liveHeight ).toFixed(0);\r\n            \t\tgetVLC(\"vlc\").height = 710;\r\n          \t\t} \r\n         }else{\r\n          \t\tif( profileRatio == borderRadio ) //16:9\r\n          \t\t{\r\n            \t\tgetVLC(\"vlc\").width = 710;\r\n            \t\tgetVLC(\"vlc\").height = 400;      \r\n          \t\t}else if(profileRatio == \"1.71\"){  // for 2592x1520\r\n            \t\tgetVLC(\"vlc\").width = 685;\r\n            \t\tgetVLC(\"vlc\").height = 400;             \t\r\n          \t\t}else if(profileRatio < borderRadio){\r\n            \t\tgetVLC(\"vlc\").width = ( ( liveWidth * 400) / liveHeight ).toFixed(0);\r\n            \t\tgetVLC(\"vlc\").height = 400;      \r\n          \t\t}else if(profileRatio > borderRadio){\r\n            \t\tgetVLC(\"vlc\").width = 710;\r\n            \t\tgetVLC(\"vlc\").height = ( ( liveHeight * 710) / liveWidth ).toFixed(0);\r\n          \t\t}      \r\n            }\r\n          }  \r\n        }\r\n      }else{\r\n        if (rotate == true)\r\n        {\r\n          profileRatio = (liveHeight / liveWidth).toFixed(2);\r\n          if( profileRatio == borderRadio )\r\n          {\r\n            EID(\"overView\").width = 400;\r\n            EID(\"overView\").height = 710;      \r\n          }else if(profileRatio == \"1.71\"){  // for 2592x1520\r\n            EID(\"overView\").width = 400;\r\n            EID(\"overView\").height = 685;             \t\r\n          }else if(profileRatio < borderRadio){\r\n            EID(\"overView\").width = 400;\r\n            EID(\"overView\").height = ( (liveHeight * 400) / liveWidth ).toFixed(0);      \r\n          }else if(profileRatio > borderRadio){\r\n            EID(\"overView\").width = ( (liveWidth * 710) / liveHeight ).toFixed(0);\r\n            EID(\"overView\").height = 710;\r\n          }          \r\n        }\r\n        else\r\n        {\r\n          if( profileRatio == borderRadio ) //16:9\r\n          {\r\n            EID(\"overView\").width = 710;\r\n            EID(\"overView\").height = 400;      \r\n          }else if(profileRatio == \"1.71\"){  // for 2592x1520\r\n            EID(\"overView\").width = 685;\r\n            EID(\"overView\").height = 400;             \t\r\n          }else if(profileRatio < borderRadio){\r\n            EID(\"overView\").width = ( ( liveWidth * 400) / liveHeight ).toFixed(0);\r\n            EID(\"overView\").height = 400;      \r\n          }else if(profileRatio > borderRadio){\r\n            EID(\"overView\").width = 710;\r\n            EID(\"overView\").height = ( ( liveHeight * 710) / liveWidth ).toFixed(0);\r\n          }        \r\n        }\r\n        imageProfile = PROFILE;\r\n      }\r\n    \r\n    }\r\n  }else if(size==\"full\"){\r\n    if( liveWidth < 710 || liveHeight < 400)\r\n    {\r\n      FitSize();\r\n      if( getOs().indexOf(\"IE\") >= 0 )\r\n      {     \r\n        document.vform.AxPlayer.width = liveWidth;\r\n        document.vform.AxPlayer.height = liveHeight;\r\n      }else{\r\n        if(FORMAT == \"0\")\r\n        {\r\n          if(CheckMac)\r\n          {\r\n            if(QT_SIZE != size)\r\n            {\r\n              setCookies(\"QT_Size\",size);\r\n              chkReload();\r\n            }\r\n          }else{\r\n            if(VLC_Version != null)\r\n            {\r\n              getVLC(\"vlc\").width = liveWidth;\r\n              getVLC(\"vlc\").height = liveHeight;\r\n            }\r\n          }\r\n        }else{\r\n          EID(\"overView\").width = liveWidth;\r\n          EID(\"overView\").height = liveHeight;        \r\n          imageProfile = PROFILE;\r\n        }\r\n      }\r\n      return;\r\n    }\r\n    for(i=1;i<=3;i++)\r\n    {\r\n      EID(\"table\"+i).style.width = parseInt((liveWidth + 40),10) + \"px\";\r\n    }\r\n    EID(\"main\").style.width = liveWidth + 20 + \"px\";\r\n    EID(\"main\").style.height = liveHeight + 20 + \"px\";\r\n    EID(\"table4\").style.width = liveWidth + \"px\";\r\n    EID(\"table4\").style.height = liveHeight + \"px\";\r\n    \r\n    if( getOs().indexOf(\"IE\") >= 0 )\r\n    {    \r\n      document.vform.AxPlayer.width = liveWidth;\r\n      document.vform.AxPlayer.height = liveHeight;\r\n    }else{\r\n      if(FORMAT == \"0\")\r\n      {\r\n        if(CheckMac)\r\n        {\r\n          if(QT_SIZE != size)\r\n          {\r\n            setCookies(\"QT_Size\",size);\r\n            chkReload();\r\n          }\r\n        }else{\r\n          if(VLC_Version != null)\r\n          {\r\n            getVLC(\"vlc\").width = liveWidth;\r\n            getVLC(\"vlc\").height = liveHeight;\r\n          }\r\n        }\r\n      }else{\r\n        EID(\"overView\").width = liveWidth;\r\n        EID(\"overView\").height = liveHeight;\r\n        imageProfile = PROFILE;\r\n      }\r\n    }\r\n   \r\n    if(liveWidth > 625)\r\n    {\r\n      EID(\"webWatch\").style.width = liveWidth - 505 + \"px\";\r\n    }else{\r\n      EID(\"webWatch\").style.width = 120 + \"px\";\r\n    }\r\n  }\r\n}\r\n\r\nfunction doChgProtocol()\r\n{\r\n  var selProt = EID(\"c_protocol\").value;\r\n  setProtocol(selProt);\r\n  if( getOs().indexOf(\"IE\") >= 0 )\r\n  {\r\n    document.vform.AxPlayer.stop();\r\n    document.vform.AxPlayer.MediaProtocol = selProt;\r\n    setTimeout(\"document.vform.AxPlayer.Play(1)\",1000);\r\n  }else{\r\n    if(VLC_Version != null)\r\n    {\r\n      getVLC(\"vlc\").playlist.stop();\r\n      chkReload();\r\n    }\r\n  }\r\n}\r\n\r\nfunction doChgVideoBuffer()\r\n{\r\n  var selBuff = EID(\"c_videobuffer\").value;\r\n  setBufferEn(selBuff);\r\n  document.vform.AxPlayer.MediaDelay = selBuff;\r\n}\r\n\r\nfunction doOCXAct(index)\r\n{\r\n  if( getOs().indexOf(\"IE\") >= 0 )\r\n  {\r\n    with(document.vform.AxPlayer)\r\n    { \r\n      switch(index)\r\n      {\r\n        case 'Play':\r\n          TogglePause();\r\n          break;\r\n        case 'Pause':\r\n          TogglePause();\r\n          break;\r\n        case 'Stop':\r\n          Stop();\r\n          break;\r\n        case 'Record':\r\n          BtnRecord();\r\n          break;\r\n        case 'Recording':\r\n          BtnRecord();\r\n          break;\r\n        case 'Snapshot':\r\n          BtnSnapshot();\r\n          break;\r\n        case 'Do':\r\n          alert(loadLangString(\"L_Warn_Under_Construction\",false));\r\n          break;\r\n        case 'Sound':\r\n          AudioReceiveStart();\r\n          break;\r\n        case 'SoundMute':\r\n          AudioReceiveStop();\r\n          break;\r\n        case 'Talk':\r\n          if(gTalkMute!=\"\")\r\n          {\r\n            AudioTransmitStart();\r\n          }\r\n          break;\r\n        case 'TalkMute':\r\n          if(gTalkMute!=\"\")\r\n          {\r\n            AudioTransmitStop();\r\n          }\r\n          break;\r\n        case 'Fullscreen':\r\n          if(FullScreen == 0)\r\n          {\r\n            FullScreen = 1;\r\n          }else{\r\n            FullScreen = 0;\r\n          }\r\n          break;\r\n        case 'Zoom':\r\n        \tif(Lenstype == \"fisheye\")\r\n        \t{\r\n        \t\tBtnOriginalView();\r\n        \t}\r\n        \telse\r\n        \t{\r\n        \t\tBtnDigitalZoom();\r\n        \t}\r\n          break;\r\n        default:\r\n      }\r\n    }\r\n  }else{\r\n    if(EID(\"c_format\").value == \"0\")\r\n    {\r\n      if(index == \"Stop\" && EID(\"Liveview_Sound\").title == \"Sound\" && getVLC(\"vlc\").audio.mute == false)\r\n      {\r\n        getVLC(\"vlc\").audio.mute = true;\r\n        EID(\"Liveview_Sound\").title = \"SoundMute\";\r\n        mouseOver(\"Liveview_Sound\");\r\n      }\r\n      VLC_DoAct(index);\r\n    }\r\n  }\r\n  if( document.getElementById(\"Liveview_Sound\").src.indexOf(\"Mute\") >= 0)\r\n  {\r\n    $( \"#soundSlider\" ).slider( \"disable\" );\r\n  }else{\r\n    $( \"#soundSlider\" ).slider( \"enable\" );\r\n  }\r\n}\r\n\r\nfunction dodefog(index)\r\n{\r\n    var cgi = \"\";\r\n    var returnVal = \"\";\r\n\r\n    if(PoEMode == \"AF\")\r\n    {\r\n      alert(loadLangString(\"L_Warn_APDefog\",false));\r\n    }\r\n\r\n    if (index == 'Glass_DemisterOn')\r\n    {\r\n        EID(\"Liveview_Defog\").title = \"Glass_DemisterOff\";\r\n        cgi = \"/cgi-bin/operator/equip?defog=off\";\r\n        returnVal = SendCGICMD(cgi); \r\n/*\r\n        if (returnVal.indexOf(\"off\") >= 0)\r\n        {\r\n            defog_counter(\"off\");\r\n        }        \r\n*/\r\n    }\r\n    else\r\n    {\r\n        EID(\"Liveview_Defog\").title = \"Glass_DemisterOn\";\r\n        cgi = \"/cgi-bin/operator/equip?defog=on\";\r\n        returnVal = SendCGICMD(cgi);\r\n/*        \r\n        if (returnVal.indexOf(\"on\") >= 0)\r\n        {\r\n            defog_counter(\"on\");\r\n        }             \r\n*/\r\n    }\r\n}\r\n\r\nvar defogTimer = \"\";\r\n\r\nfunction defog_counter(val)\r\n{\r\n    if(val == \"on\")\r\n    {\r\n        setTimeout(\"dodefog_counter(\\'setTimer\\')\",1000);\r\n    }\r\n    else if(val == \"onTimer\")\r\n    {\r\n        defogTimer = setTimeout(\"dodefog_counter(\\'defogcgi\\')\",1000);        \r\n    }\r\n    else\r\n    {\r\n        clearTimeout(defogTimer);\r\n    }\r\n}\r\n\r\nfunction dodefog_counter(val)\r\n{\r\n  if(TEMP_USER_LEVEL == \"Admin\" ||  TEMP_USER_LEVEL == \"Operator\")\r\n  {\r\n    var cgi = \"\";\r\n    var returnVal = \"\";\r\n\r\n    if (val == \"setTimer\")\r\n    {\r\n        defogTimer = setTimeout(\"dodefog_counter(\\'defogcgi\\')\",300000);        \r\n    }\r\n    else\r\n    {\r\n        returnVal = SendCGICMD(\"/cgi-bin/operator/fileread?READ.filePath=/var/run/defog_delay_handle.pid\",null,false,-1);\r\n        if (returnVal != \"DefogIsTimeOut\" && returnVal != \"None\" && returnVal != \"Error\")\r\n        {\r\n            EID(\"Liveview_Defog\").title = \"Glass_DemisterOn\";\r\n            EID(\"Liveview_Defog\").src = \"./style/image/btn_Liveview_Glass_DemisterOn_e.png\";                         \r\n        }\r\n        else //defog is off\r\n        {\r\n            EID(\"Liveview_Defog\").title = \"Glass_DemisterOff\";\r\n            EID(\"Liveview_Defog\").src = \"./style/image/btn_Liveview_Glass_DemisterOff_e.png\";\r\n            //clearTimeout(defogTimer);         \r\n        }\r\n        defogTimer = setTimeout(\"dodefog_counter(\\'defogcgi\\')\",3000);\r\n    }\r\n  }\r\n}\r\n\r\n///////////////////////////////////////////////////////////// Slider\r\n// s_ : slider_\r\nvar s_max = 100, s_min=0, s_init=60, s_step=1;\r\n\t$(function() {\r\n\t\t$( \"#soundSlider\" ).slider({\r\n\t\t  value:s_init,\r\n\t\t\tmin:  s_min,\r\n\t\t\tmax:  s_max,\r\n\t\t\tstep: s_step,\r\n\t\t\tcss:\"ui-round1\",\r\n\t\t\tslide: function( event, ui ) {\r\n\t\t\t\tSetSound(ui.value);\r\n\t\t\t  }\r\n\t    }\r\n\t\t);\r\n\r\n    // default is mute\r\n    $( \"#soundSlider\" ).slider( \"disable\" );\r\n\r\n    EID(\"soundSlider\").title= s_init;\r\n\t\t$( \"#talkSlider\" ).slider({\r\n\t\t  value:s_init,\r\n\t\t\tmin:  s_min,\r\n\t\t\tmax:  s_max,\r\n\t\t\tstep: s_step,\r\n\t\t\tcss:\"ui-round1\",\r\n\t\t\tslide: function( event, ui ) {\r\n\t\t\t\tSetTalk(ui.value);\r\n\t\t\t  }\r\n\t    }\r\n\t\t);\r\n    EID(\"talkSlider\").title= s_init;\r\n\t}\r\n\t);\r\n\r\nfunction SetSound(val)\r\n{\r\n  EID(\"soundSlider\").title = val;\r\n  \r\n  if(getOs().indexOf(\"IE\") >= 0)\r\n  {\r\n    document.vform.AxPlayer.Volume = parseInt(val * 655 , 10);\r\n  }else{\r\n    if(VLC_Version != null)\r\n    { \r\n      VLC_DoUpdateVolume(val);\r\n    }\r\n  }\r\n}\r\n\r\nfunction SetTalk(val)\r\n{\r\n  document.getElementById(\"talkSlider\").title = val;  //Talk cannot set volume\r\n}\r\n///////////////////////////////////////////////////////////// Slider\r\n\r\nfunction doChgProfile()\r\n{ \r\n  if( EID(\"c_profile\").options[EID(\"c_profile\").selectedIndex].style.color == \"graytext\")\r\n  {\r\n    alert(loadLangString(\"L_Warn_Check_Profile\",false));\r\n    if( EID(\"c_profile\").selectedIndex > 0)\r\n    {\r\n      EID(\"c_profile\").selectedIndex = 0;\r\n    }else{\r\n      EID(\"c_profile\").selectedIndex = 1;\r\n    }\r\n    return;\r\n  }\r\n\r\n  if( getOs().indexOf(\"IE\") >= 0 )\r\n  {\r\n    if(document.vform.AxPlayer)\r\n    {\r\n      document.vform.AxPlayer.Stop();\r\n     \r\n      /* disable Audio Button */\r\n      if(EID(\"Liveview_Sound\").title == \"Sound\")\r\n      {\r\n        mouseUp('Sound');\r\n        mouseOut('Liveview_Sound');\r\n      }\r\n      $( \"#soundSlider\" ).slider( \"value\" ,  60 );\r\n      EID(\"soundSlider\").title = 60;\r\n\r\n      if(EID(\"Liveview_Talk\").title == \"Talk\")\r\n      {\r\n        mouseUp('Talk');\r\n        mouseOut('Liveview_Talk');\r\n      }\r\n      \r\n      $( \"#talkSlider\" ).slider( \"value\" ,  0 );\r\n      EID(\"talkSlider\").title = 0;\r\n    }\r\n  }\r\n  \r\n  PROFILE = EID(\"c_profile\").value;\r\n  setProfileFmt(PROFILE);\r\n  ViewArea = GetQueryVariable('StreamProfile.I'+PROFILE+'.Video.Source');\r\n \r\n  if( getOs().indexOf(\"IE\") >= 0 )\r\n  {\r\n    var selcodec = GetQueryVariable(\"StreamProfile.I\"+PROFILE+\".Video.Codec\");\r\n \r\n    document.vform.AxPlayer.stop();   \r\n    document.vform.AxPlayer.MediaChannel = parseInt(PROFILE,10);\r\n      \r\n    //EShow(\"layer_videobuffer\",\"\");\r\n    EShow(\"layer_protocol\",\"\");\r\n  }else{\r\n    if(FORMAT == \"1\")\r\n    {\r\n      EShow(\"layer_videobuffer\",\"none\");\r\n      EShow(\"layer_protocol\",\"none\");\r\n      imageProfile = PROFILE;\r\n    }else{\r\n      chkReload();\r\n    }\r\n  }\r\n \r\n  var multiCast = GetQueryVariable('General.Network.RTP.R' + PROFILE + '.Multicast');\r\n  if(multiCast == \"1\")\r\n  {\r\n    EID(\"c_protocol\").options[3] = (new Option(loadLangString(\"L_Multicast\", false), \"4\"));\r\n  }else{\r\n    EID(\"c_protocol\").length = 3;\r\n    if(getProtocol() == 4)\r\n    {\r\n      EID(\"c_protocol\").selectedIndex = 0;\r\n      setProtocol(EID(\"c_protocol\").value);\r\n      document.vform.AxPlayer.MediaProtocol = EID(\"c_protocol\").value;\r\n    }\r\n  }\r\n \r\n  EID(\"c_viewsize\").value = \"fit\";\r\n  doChgViewSize(\"fit\");\r\n \r\n  if( getOs().indexOf(\"IE\") >= 0 )\r\n  { \r\n    if(document.vform.AxPlayer)\r\n    {\r\n      setTimeout(\"document.vform.AxPlayer.Play(1)\",1000);      \r\n    }\r\n  }\r\n\r\n\tEID(\"Liveview_Play\").src = eval(\"'./style/image/btn_Liveview_Pause_e.png'\");\r\n\tEID(\"Liveview_Play\").title = \"Pause\";\r\n\tEID(\"Liveview_Stop\").src = eval(\"'./style/image/btn_Liveview_Stop_e.png'\");\r\n\tEID(\"Liveview_Stop\").title = \"Stop\";\r\n\tEID(\"Liveview_Record\").src = eval(\"'./style/image/btn_Liveview_Record_e.png'\");\r\n\tEID(\"Liveview_Record\").title = \"Record\";\r\n\r\n}\r\n\r\n/* Mouse Event */\r\nfunction mouseOver(index)\r\n{\r\n  if(index==\"Liveview_Play\" || index==\"Liveview_Sound\" ||\r\n     index==\"Liveview_Talk\" || index==\"Liveview_Record\" || index==\"Liveview_Defog\")\r\n  {\r\n    EID(index).src = eval(\"'./style/image/btn_Liveview_\"+EID(index).title+\"_h.png'\");\r\n  }else{\r\n    EID(index).src = eval(\"'./style/image/btn_\"+index+\"_h.png'\");\r\n  }\r\n}\r\n\r\nfunction mouseOut(index)\r\n{\r\n  if(index==\"Liveview_Play\" || index==\"Liveview_Sound\" ||\r\n     index==\"Liveview_Talk\" || index==\"Liveview_Record\" || index==\"Liveview_Defog\")\r\n  {\r\n    EID(index).src = eval(\"'./style/image/btn_Liveview_\"+EID(index).title+\"_e.png'\");\r\n  }else{\r\n    EID(index).src = eval(\"'./style/image/btn_\"+index+\"_e.png'\");\r\n  }\r\n}\r\n\r\nfunction ViewerEntry()\r\n{\r\n  if(gTalkMute == \"\")\r\n  {\r\n    GetDeviceInfo(\"Audio.AudioSource.A0.AudioCodecList&group=\"+info,'operator');\r\n    gTalkMute = GetQueryVariable('Audio.AudioSource.A0.AudioCodecList');\r\n    if(gTalkMute == \"\")\r\n    {\r\n      return 1;\r\n    }\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction mouseDown(index)\r\n{\r\n  if(index==\"Liveview_Talk\")\r\n  {\r\n    if( ViewerEntry() )\r\n    {\r\n        return;\r\n    }\r\n  }\r\n\r\n  if(index==\"Liveview_Play\" || index==\"Liveview_Sound\" ||\r\n     index==\"Liveview_Talk\" || index==\"Liveview_Record\" || index==\"Liveview_Defog\")\r\n  {\r\n    EID(index).src = eval(\"'./style/image/btn_Liveview_\"+EID(index).title+\"_p.png'\");\r\n  }else{\r\n    EID(index).src = eval(\"'./style/image/btn_\"+index+\"_p.png'\");\r\n  }\r\n}\r\n\r\nfunction mouseUp(index)\r\n{\r\n  switch(index)\r\n  {\r\n    case 'Play':\r\n      EID(\"Liveview_Play\").title = \"Pause\";\r\n      mouseOver(\"Liveview_Play\");\r\n      break;\r\n    case 'Pause':\r\n      EID(\"Liveview_Play\").title = \"Play\";\r\n      mouseOver(\"Liveview_Play\");\r\n      break;\r\n    case 'Stop':\r\n      mouseOver(\"Liveview_Stop\");\r\n      EID(\"Liveview_Play\").title = \"Play\";\r\n      mouseOut(\"Liveview_Play\");\r\n      break;\r\n    case 'Sound':\r\n      EID(\"Liveview_Sound\").title = \"SoundMute\";\r\n      mouseOver(\"Liveview_Sound\");\r\n      break;\r\n    case 'SoundMute':\r\n      EID(\"Liveview_Sound\").title = \"Sound\";\r\n      mouseOver(\"Liveview_Sound\");\r\n      break;\r\n    case 'Talk':\r\n      EID(\"Liveview_Talk\").title = \"TalkMute\";\r\n      break;\r\n    case 'TalkMute':\r\n      EID(\"Liveview_Talk\").title = \"Talk\";\r\n      break;\r\n    default:\r\n  }\r\n}\r\n\r\nvar timer;\r\nfunction Watch()\r\n{\r\n\tvar now=new Date();\r\n\tvar year=now.getYear();\r\n\tvar month=now.getMonth()+1;\r\n\tvar day=now.getDate();\r\n\tvar hour=now.getHours();\r\n\tvar minute=now.getMinutes();\r\n\tvar second=now.getSeconds();\r\n\t\r\n\tif(year<1000) year+=1900;\r\n\tif(hour<10) hour=\"0\"+hour;\r\n\tif(month<10) month=\"0\"+month;\r\n\tif(day<10) day=\"0\"+day;\r\n\tif(minute<10) minute=\"0\"+minute;\r\n\tif(second<10) second=\"0\"+second;\r\n\r\n  switch(dateFmt)\r\n  {\r\n    default:\r\n\t\tcase \"ymd\":EID(\"webWatch\").innerHTML = \"<div>\"+year+\"-\"+month+\"-\"+day+\"   \"+hour+\":\"+minute+\":\"+second+\"</div>\";  break;\r\n\t\tcase \"mdy\":EID(\"webWatch\").innerHTML = \"<div>\"+month+\"-\"+day+\"-\"+year+\"   \"+hour+\":\"+minute+\":\"+second+\"</div>\";  break;\r\n\t\tcase \"dmy\":EID(\"webWatch\").innerHTML = \"<div>\"+day+\"-\"+month+\"-\"+year+\"   \"+hour+\":\"+minute+\":\"+second+\"</div>\";  break;\r\n  }\r\n\ttimer = setTimeout(\"Watch()\",1000);\r\n}\r\n\r\nfunction onPosSetClick()\r\n{\r\n  var cgi;\r\n  var returnVal;\r\n  \r\n  GetDeviceInfo(info,'view');\r\n  \r\n  if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n  {\r\n    if(PTZ_Action == \"PTZ\" && !rs485Ena)\r\n    {\r\n      alert(loadLangString(\"L_Warn_RS_485_Ena\",false));\r\n      return;\r\n    }    \r\n    PresetPosNum = GetQueryVariable(\"PTZ.PresetPos.MaxCnt\");\r\n    if(doCheckPosFull())\r\n    {\r\n      alert(loadLangString(\"L_Warn_PresetFull\", false));\r\n      return false;\r\n    }\r\n    \r\n    for(var i = 1; i <= PresetPosNum; i++)\r\n    {\r\n      var strName = 'Preset' + i;\r\n     \r\n      if(doCheckPosExisted(strName))\r\n      {\r\n        continue;\r\n      }\r\n      \r\n      cgi = eval(\"'/cgi-bin/operator/ptzconfig?setserverpresetname=\" + strName + \"'\");\r\n      \r\n      UpdateParam(cgi); \r\n      return true;\r\n    }\r\n    return false;\r\n  }else if(PTZ_Action == \"ePTZ\"){\r\n    PresetPosNum = GetQueryVariable(\"EPTZ.PresetGroup.S\"+ViewArea+\".PresetPos.MaxCnt\");\r\n    if(doCheckEPosFull(ViewArea))\r\n    {\r\n      alert(loadLangString(\"L_Warn_PresetFull\", false));\r\n      return false;\r\n    }\r\n    \r\n    for(var i = 1; i <= PresetPosNum; i++)\r\n    {\r\n      var strName = 'Preset' + i;\r\n     \r\n      if(doCheckEPosExisted(ViewArea,strName))\r\n      {\r\n        continue;\r\n      }\r\n\r\n      cgi = eval(\"'/cgi-bin/operator/ptzconfig?stream=\" + ViewArea + \"&setserverpresetname=\" + strName + \"'\");\r\n\r\n      UpdateParam(cgi);\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n  \r\nfunction Add_MenuItem(MenuArray, MenuList)\r\n{\r\n    var MenuListArray = MenuList.split(\",\");\r\n    for(var i = 0; i < MenuListArray.length; i++)\r\n        MenuArray[MenuArray.length] = MenuListArray[i];\r\n}\r\n\r\nfunction Set_PosGoMenu()\r\n{\r\n  var PosGoMenuArray = new Array();\r\n  var MenuStr = \"\";\r\n  var MenuText = \"\";\r\n  var PosExisted = false;\r\n\r\n  GetDeviceInfo(info,'view');\r\n\r\n  if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n  {\r\n    if(PTZ_Action == \"PTZ\" && !rs485Ena)\r\n    {\r\n      alert(loadLangString(\"L_Warn_RS_485_Ena\",false));\r\n      return;\r\n    }    \r\n    PresetPosNum = GetQueryVariable(\"PTZ.PresetPos.MaxCnt\");\r\n    for(i = 0; i < PresetPosNum; i++)\r\n    {\r\n      Name = doGetPresetName(i);\r\n      if(Name != \"\")\r\n      {\r\n        Add_MenuItem(PosGoMenuArray, Name);\r\n        PosExisted = true;\r\n      }\r\n    }    \r\n  }else if(PTZ_Action == \"ePTZ\"){\r\n    PresetPosNum = GetQueryVariable(\"EPTZ.PresetGroup.S\"+ViewArea+\".PresetPos.MaxCnt\");\r\n    for(i = 0; i < PresetPosNum; i++)\r\n    {\r\n      Name = doGetEPresetName(ViewArea,i);\r\n      if(Name != \"\")\r\n      {\r\n        Add_MenuItem(PosGoMenuArray, Name);\r\n        PosExisted = true;\r\n      }\r\n    }    \r\n  }\r\n\r\n  MenuStr +=\r\n    \"<table class=MenuTable border=1 rules='cols' cellpadding=2 cellspacing=0 width='96' onmouseout=\\\"MenuHidden('PosGoMenu')\\\">\";\r\n  if(PosExisted == false)\r\n  {\r\n    MenuText = \"-Empty List-\";\r\n    MenuStr += \"<tr><td align=left class=SubMenuItems\";\r\n    MenuStr += \" onmouseout=\\\"MenuHidden('PosGoMenu')\\\"\";\r\n    MenuStr += \" MenuHidden('PosGoMenu');\\\">\" + MenuText;\r\n    MenuStr += \"</td></tr>\";\r\n  }else{\r\n    var cnt = 0;\r\n    for(var i = 0; i < PresetPosNum; i++)\r\n    {\r\n      cnt = i;\r\n      if(PosGoMenuArray.length > 32)\r\n      {\r\n        if(i % 3 == 0)\r\n        {\r\n          MenuStr += \"<tr>\";\r\n        }\r\n      }else if(PosGoMenuArray[cnt] != null){\r\n        MenuStr += \"<tr>\";\r\n      }\r\n\r\n      if(PosGoMenuArray[cnt] == \"-\")\r\n      {\r\n        MenuStr += \"<td><hr/></td>\";    //ju\r\n      }\r\n      else if(PosGoMenuArray[cnt] != null)\r\n      {\r\n        MenuText = PosGoMenuArray[cnt].split(\"$\")[0];\r\n\r\n        MenuStr += \"<td align=left class=SubMenuItems\";\r\n        MenuStr += \" onmouseover=\\\"this.className='SubMenuCursorItem';\\\"\";\r\n        MenuStr += \" onmouseout=\\\"this.className='SubMenuItems'\\\"\";\r\n        MenuStr += \" onclick=\\\"onPosGoMenuClick('\" + MenuText + \"');MenuHidden('PosGoMenu');\\\">\" + MenuText;\r\n        MenuStr += \"</td>\";\r\n      }\r\n      if(PosGoMenuArray.length > 32)\r\n      {\r\n        if(i % 3 == 2)\r\n        {\r\n          MenuStr += \"</tr>\";\r\n        }\r\n      }\r\n      else if(PosGoMenuArray[cnt] != null)\r\n      {\r\n        MenuStr += \"</tr>\";\r\n      }\r\n    }\r\n  }\r\n  MenuStr += \"</table>\";\r\n\r\n  EID(\"PosGoMenu\").innerHTML = MenuStr;\r\n \r\n  var offset = 0;\r\n  if(PosGoMenuArray.length < 16)\r\n  {\r\n    offset = (PosGoMenuArray.length * 6);\r\n  }else{\r\n    offset = 16 * 6;\r\n  }\r\n  EID(\"PosGoMenu\").style.top = eval(\"'\" + parseInt(260 - offset,10) + \"px'\");\r\n  EID(\"PosGoMenu\").style.right = eval(\"'\" + parseInt(((document.body.clientWidth/2).toFixed(0))-500,10) + \"px'\");\r\n  EID(\"PosGoMenu\").style.visibility = \"inherit\"; \r\n}\r\n\r\nfunction onPosGoMenuClick(posName)\r\n{\r\n  var goPos;\r\n\r\n  if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n  {\r\n    if(PTZ_Action == \"PTZ\" && !rs485Ena)\r\n    {\r\n      alert(loadLangString(\"L_Warn_RS_485_Ena\",false));\r\n      return;\r\n    }    \r\n    goPos = '/cgi-bin/operator/ptzset?gotoserverpresetname=' + posName;\r\n  }else if(PTZ_Action == \"ePTZ\"){\r\n    goPos = '/cgi-bin/operator/ptzset?stream='+ViewArea+'&gotoserverpresetname=' + posName;\r\n  }\r\n  \r\n  if(posName != \"\")\r\n  {\r\n    SendCGICMD(goPos);\r\n  }\r\n}\r\n\r\nvar ActiveGroup;\r\nfunction Set_PatrolMenu()\r\n{\r\n  var PatrolMenuArray = new Array();\r\n  var MenuStr = \"\";\r\n  var MenuText = \"\";\r\n  var tourName = \"\";\r\n  var PosExisted = false;\r\n \r\n  GetDeviceInfo(info,'view');\r\n\r\n  if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n  {\r\n    if(PTZ_Action == \"PTZ\" && !rs485Ena)\r\n    {\r\n      alert(loadLangString(\"L_Warn_RS_485_Ena\",false));\r\n      return;\r\n    }    \r\n    ETourNum = GetQueryVariable('PTZ.GuardTour.MaxCnt');\r\n    ActiveGroup = GetQueryVariable('PTZ.GuardTour.ActiveTour');\r\n  }else if(PTZ_Action == \"ePTZ\"){\r\n    ETourNum = GetQueryVariable('EPTZ.GuardGroup.S'+ViewArea+'.GuardTour.MaxCnt');\r\n    ActiveGroup = GetQueryVariable('EPTZ.GuardGroup.S'+ViewArea+'.GuardTour.ActiveTour');\r\n  }\r\n  \r\n  for(var i=0; i < ETourNum; i++)\r\n  {\r\n    if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n    {\r\n      tourName = GetQueryVariable('PTZ.GuardTour.G'+i+\".Name\");\r\n    }else if(PTZ_Action == \"ePTZ\"){\r\n      tourName = GetQueryVariable('EPTZ.GuardGroup.S'+ViewArea+'.GuardTour.G'+i+\".Name\");\r\n    }\r\n    \r\n    if(tourName!=\"\")\r\n    {\r\n      if(ActiveGroup == eval(\"'G\"+i+\"'\"))\r\n      {\r\n        Add_MenuItem(PatrolMenuArray, \"Tour \" + (i + 1) + \" [V]\");\r\n      }else{\r\n        Add_MenuItem(PatrolMenuArray, \"Tour \" + (i + 1));\r\n      }\r\n      PosExisted = true;\r\n    }\r\n  }\r\n\r\n  MenuStr +=\r\n      \"<table border=1 rules='cols' cellpadding=2 cellspacing=0 width='96' onmouseout=\\\"MenuHidden('PatrolMenu')\\\">\";\r\n \r\n  if(PosExisted == false)\r\n  {\r\n    MenuText = \"-Empty List-\";\r\n    MenuStr += \"<tr><td align=left class=SubMenuItems\";\r\n    MenuStr += \" onmouseout=\\\"MenuHidden('PosGoMenu')\\\"\";\r\n    MenuStr += \" MenuHidden('PosGoMenu');\\\">\" + MenuText;\r\n    MenuStr += \"</td></tr>\"; \r\n  }else{\r\n    for(var i = 0; i < PatrolMenuArray.length; i++)\r\n    {\r\n      if(PatrolMenuArray[i] == \"-\")\r\n      {\r\n        MenuStr += \"<tr><td><hr/></td></tr>\";       //ju\r\n      }\r\n      else\r\n      {\r\n        MenuText = PatrolMenuArray[i];\r\n        MenuStr += \"<tr><td align=left class=SubMenuItems\";\r\n        MenuStr += \" onmouseover=\\\"this.className='SubMenuCursorItem';\\\"\";\r\n        MenuStr += \" onmouseout=\\\"this.className='SubMenuItems';MenuHidden('PatrolMenu')\\\"\";\r\n        MenuStr += \" onclick=\\\"onPatrolSetMenuClick('\" + MenuText + \"');MenuHidden('PatrolMenu')\\\">\" + MenuText;\r\n        MenuStr += \"</td></tr>\";\r\n      }\r\n    }\r\n  }\r\n \r\n  MenuStr += \"</table>\";\r\n \r\n  EID(\"PatrolMenu\").innerHTML = MenuStr;\r\n  EID(\"PatrolMenu\").style.top = \"280px\";\r\n  EID(\"PatrolMenu\").style.right = eval(\"'\" + parseInt(((document.body.clientWidth/2).toFixed(0))-380,10) + \"px'\");\r\n  EID(\"PatrolMenu\").style.width = \"70px\";\r\n  EID(\"PatrolMenu\").style.visibility = \"inherit\";\r\n}\r\n\r\nfunction onPatrolSetMenuClick(GroupName)\r\n{\r\n  index = GroupName.split(\" \");\r\n \r\n  if(ActiveGroup!=\"\")\r\n  { \r\n    if((index[1]-1) != ActiveGroup)\r\n    {\r\n      var patrolset = \"/cgi-bin/operator/param?action=update\";\r\n      if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n      {\r\n        if(PTZ_Action == \"PTZ\" && !rs485Ena)\r\n        {\r\n          alert(loadLangString(\"L_Warn_RS_485_Ena\",false));\r\n          return;\r\n        }    \r\n        patrolset += eval(\"'&PTZ.GuardTour.ActiveTour=G\"+(index[1]-1)+\"'\");\r\n      }else if(PTZ_Action == \"ePTZ\"){\r\n        patrolset += eval(\"'&EPTZ.GuardGroup.S\"+ViewArea+\".GuardTour.ActiveTour=G\"+(index[1]-1)+\"'\");\r\n      }\r\n    }\r\n  }\r\n  SendCGICMD(patrolset);\r\n}\r\n\r\nfunction onPatrolGoClick()\r\n{\r\n  GetDeviceInfo(info,'view');\r\n  \r\n  var ActiveGroup = \"\";\r\n  if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n  {\r\n    if(PTZ_Action == \"PTZ\" && !rs485Ena)\r\n    {\r\n      alert(loadLangString(\"L_Warn_RS_485_Ena\",false));\r\n      return;\r\n    }\r\n    ActiveGroup = GetQueryVariable('PTZ.GuardTour.ActiveTour');\r\n  }else if(PTZ_Action == \"ePTZ\"){\r\n    ActiveGroup = GetQueryVariable('EPTZ.GuardGroup.S'+ViewArea+'.GuardTour.ActiveTour');\r\n  }\r\n \r\n  if(ActiveGroup == \"none\")\r\n  {\r\n    alert(loadLangString(\"L_Warn_PatrolPosEmpty\", false));\r\n    return;\r\n  }\r\n  \r\n  var runTourNo = ActiveGroup.split(\"G\")[1];\r\n  \r\n  if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n  {\r\n    checkRunning = GetQueryVariable(\"PTZ.GuardTour.G\"+runTourNo+\".Running\");\r\n  }else if(PTZ_Action == \"ePTZ\"){\r\n    checkRunning = GetQueryVariable(\"EPTZ.GuardGroup.S\"+ViewArea+\".GuardTour.G\"+runTourNo+\".Running\");\r\n  }\r\n  \r\n  if(checkRunning == \"yes\")\r\n  {\r\n    alert(loadLangString(\"L_Warn_PatrolIsRunning\",false));\r\n    return;\r\n  }\r\n    \r\n  if(confirm(loadLangString(\"L_Warn_ChagneTour\", false)))\r\n  {\r\n    var patrolgo;\r\n\r\n    if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n    {\r\n      patrolgo = eval(\"'cgi-bin/operator/ptzset?runservertourno=\"+runTourNo+\"'\");\r\n    }else if(PTZ_Action == \"ePTZ\"){\r\n      patrolgo = eval(\"'cgi-bin/operator/ptzset?stream=\"+ViewArea+\"&runservertourno=\"+runTourNo+\"'\");\r\n    }\r\n  }\r\n  SendCGICMD(patrolgo);\r\n}\r\n\r\nfunction SFbtn()\r\n{\r\n  var cgi = '/cgi-bin/operator/refocus?mode=smart&method=fast';\r\n  \r\n  SendCGICMD(cgi);\r\n  setTimeout(function(){getfocusinfo();} , 1000);\r\n}\r\n\r\nfunction SHbtn()\r\n{\r\n  var cgi = '/cgi-bin/view/param?action=add&group=PTZ.PresetPos&template=PresetPos';\r\n  var val = \"\";\r\n  GetDeviceInfo(info,'view');\r\n\r\n  if(PTZ_Action == \"PTZ\" || PTZ_Action == \"PT\")\r\n  {\r\n    if(PTZ_Action == \"PTZ\" && !rs485Ena)\r\n    {\r\n      alert(loadLangString(\"L_Warn_RS_485_Ena\",false));\r\n      return;\r\n    }    \r\n    PresetPosNum = GetQueryVariable(\"PTZ.PresetPos.MaxCnt\");\r\n    if(doCheckPosFull())\r\n    {\r\n      alert(loadLangString(\"L_Warn_PresetFull\", false));\r\n      return false;\r\n    }\r\n  }\r\n  else\r\n  {\r\n    return false;\r\n  }\r\n\r\n  var chkuserhome=0;\r\n  for(i=0;i<=PresetPosNum;i++)\r\n  {\r\n    cgi_str = \"PTZ.PresetPos.P\"+i+\".Pos\";\r\n    val = GetQueryVariable(cgi_str);\r\n    if(val.match('Userhome') != null)\r\n    {\r\n      chkuserhome=1;\r\n      break;\r\n    }\r\n  }\r\n  if(chkuserhome == 0)\r\n  {\r\n    SendCGICMD(cgi); \r\n  }\r\n  \r\n  cgi = eval(\"'/cgi-bin/operator/ptzconfig?setserverpresetname=Userhome&home=yes'\");\r\n\r\n  UpdateParam(cgi);\r\n  GetDeviceInfo(info,'view');\r\n}\r\n\r\nfunction getfocusinfo()\r\n{\r\n    clearTimeout(getfocusinfoTimer);\r\n    getfocusinfoTimer = setTimeout(\"setfocusinfo()\",1000);\r\n}\r\n\r\n\r\nfunction setfocusinfo()\r\n{\r\n  var slider_list = new Array(\"#ZoomSlider\",\"#FocusSlider\");\r\n\tvar rsp=HttpRequest(\"GET\", \"/cgi-bin/operator/refocus?mode=info\", null, false, requestTimeout);\r\n\tvar progress = rsp.split(\",\");\r\n\tvar vars = \"\";\r\n  var i = 0;\r\n\r\n  vars = progress[0].split(\"=\");\r\n  if (vars[1] == \"1\")\r\n  {\r\n    for (i=1;i<=slider_list.length;i++)\r\n    {\r\n      vars = progress[i].split(\"=\");\r\n      $( slider_list[i-1] ).slider(\"value\", vars[1]);        \r\n    }\r\n    clearTimeout(getfocusinfoTimer);\r\n  }\r\n  else\r\n  {\r\n   \tgetfocusinfoTimer = setTimeout(\"setfocusinfo()\",500); \r\n  }\r\n}\r\n\r\nfunction MenuHidden(menuname)\r\n{\r\n  document.getElementById(menuname).style.visibility = \"hidden\";\r\n}\r\n\r\nvar Helpflag=0;\r\nvar Helpwin;\r\nfunction doOpenHelp()\r\n{\r\n  if(Helpflag==1)\r\n  {\r\n    if(HelpWin)\r\n    {\r\n      if(HelpWin.closed==false) {HelpWin.close();}\r\n    }\r\n  }\r\n  Helpflag=1;\r\n  HelpWin=window.open(\"./help/help_index.htm\",\"help_index\",getWinFeature(550,700,0,1,0));\r\n}\r\n\r\nfunction pageUnloaded()\r\n{\r\n  if(CheckMac == false && EID(\"c_format\").value == \"0\")\r\n  {\r\n    if(VLC_Version != null)\r\n    {\r\n      VLC_DoAct(\"Stop\");\r\n      vlc.playlist.items.clear();\r\n    }\r\n  }\r\n}\r\n\r\nvar subWin;\r\nfunction OnUnload()\r\n{  \r\n  CloseSubWin(subWin);\r\n}\r\n\r\nfunction check_rotate()\r\n{\r\n  var rotate_check = getCookies(\"ROT_Chk\");\r\n\r\n  if (rotate_check == \"on\")\r\n  {\r\n    clearTimeout(RochkTimer);\r\n    setTimeout(\"doReload()\",5000);\r\n    setCookies(\"ROT_Chk\", \"off\");\r\n    return;\r\n  }\r\n      \r\n  var RochkTimer = setTimeout(\"check_rotate()\",5000);\r\n}\r\n\r\n\r\nfunction chkReload()\r\n{\r\n\tvar returnVal = SendCGICMD(\"/cgi-bin/view/hello\",null,false,-1);\r\n\tif(returnVal != \"\" && returnVal != undefined && returnVal != \"Error\")\r\n\t{\r\n\t  if(resetTimer2!=null)\r\n\t  {\r\n\t    clearTimeout(resetTimer2);\r\n\t  }\r\n\t  \r\n\t  setTimeout(\"doReload()\",100);\r\n\t  return;\r\n  }\r\n\tvar resetTimer2 = setTimeout(\"chkReload()\",5000);\r\n}\r\n\r\nfunction doReload()\r\n{\r\n  window.location.reload(true);\r\n}\r\n\r\nfunction floatdiv()\r\n{\r\n\tvar offset = GetScrollPositions();\r\n\tdocument.getElementById(\"smartfocus\").style.paddingTop = offset + 100 + \"px\";\r\n}\r\n\r\nfunction GetZoomFactor() {\r\n\tvar factor = 1;\r\n\tif (document.body.getBoundingClientRect) {\r\n\t\t// rect is only in physical pixel size in IE before version 8 \r\n\t\tvar rect = document.body.getBoundingClientRect();\r\n\t\tvar physicalW = rect.right - rect.left;\r\n\t\tvar logicalW = document.body.offsetWidth;\r\n\r\n\t\t// the zoom level is always an integer percent value\r\n\t\tfactor = Math.round ((physicalW / logicalW) * 100) / 100;\r\n\t}\r\n\treturn factor;\r\n}\r\n\r\nfunction GetScrollPositions() {\r\n\tif ('pageXOffset' in window) {  // all browsers, except IE before version 9\r\n\t\tvar scrollTop = window.pageYOffset;\r\n\t}\r\n\telse {  // Internet Explorer before version 9\r\n\t\tvar zoomFactor = GetZoomFactor();\r\n\t\tvar scrollTop = Math.round (document.documentElement.scrollTop / zoomFactor);\r\n\t}\r\n\treturn scrollTop;\r\n}\r\n\r\nvar fisheye_info;\r\nif(Lenstype == \"fisheye\")\r\n{\r\n\twindow.onbeforeunload = function () \r\n\t{\r\n\t\tfisheye_info = document.vform.AxPlayer.GetFisheyeOption();\r\n\t\tsetCookies(\"fisheyeinfo\",fisheye_info);\r\n\t}\r\n}\r\n// dynamic focus block\r\nwindow.onscroll=floatdiv;\r\n//-->\r\n</script>\r\n<body onload=\"Onload()\" onUnload=\"OnUnload()\" onresize=\"doChgViewSize('resize')\" class=\"bodyclass\">\r\n<center>\r\n  <table id=\"maintable\" width=\"750px\" cellSpacing=\"0\" cellPadding=\"0\" border=\"0\" style=\"margin-top:20px\">\r\n    <tr valign=\"top\">\r\n    <td>\r\n      <table id=\"table1\" width=\"750px\" height=\"55px\" cellSpacing=\"0\" cellPadding=\"0\" border=\"0\">\r\n        <tr>\r\n          <td class=\"topL\"></td>\r\n          <td class=\"topM\" style=\"width:180px;padding-left:20px;\">\r\n            <center>\r\n            <img id=\"logo\" src=\"./style/image/bg_banner_logo.png\" style=\"cursor:default;display: none;\" align=\"left\">\r\n            <img id=\"i2a\" src=\"./style/image/btn_i2a_e.png\" title=\"I2A\" style=\"visibility:hidden;cursor:pointer;\"\r\n                 onclick=\"javascript:window.location='wizard_img.htm'\" align=\"left\">\r\n            </center>\r\n          </td>\r\n          <td class=\"topM\" align=\"right\">\r\n            <span>\r\n              <span id=\"banner\"></span>\r\n            </span>\r\n          </td>\r\n          <td class=\"topR\"></td>\r\n        </tr>\r\n      </table>\r\n\r\n      <table id=\"table2\" width=\"750px\" height=\"455px\" cellSpacing=\"0\" cellPadding=\"0\" border=\"0\" class=\"bgcolor\">\r\n        <tr height=\"40px\">\r\n          <td class=\"midL\" class=\"bgcolor\"></td>\r\n          <td style=\"padding-top:5px;width:190px\" class=\"bgcolor\">\r\n            <span style=\"float:left;padding-right:10px;\">\r\n            <img id=\"home\" src=\"./style/image/btn_home_e.png\" title=\"home\" tabIndex=\"1\">\r\n            </span>\r\n            <span style=\"float:left;padding-right:10px;\">\r\n            <img id=\"setting\" src=\"./style/image/btn_setting_e.png\" title=\"setting\" tabIndex=\"2\"\r\n                 onclick=\"window.onbeforeunload;javascript:window.location='setting.htm'\" onkeypress=\"window.onbeforeunload;javascript:window.location='setting.htm'\">\r\n            </span>\r\n            <span style=\"float:left;padding-right:10px;\" >\r\n            <img id=\"information\" src=\"./style/image/btn_information_e.png\" title=\"information\"\r\n            style=\"visibility:hidden;\"\r\n                 onclick=\"doOpenHelp()\">\r\n            </span>\r\n          </td>\r\n          <td style=\"padding-top:12px;\" class=\"bgcolor\">\r\n            <span style=\"float:right;\">      \r\n              <table cellSpacing=\"0\" cellPadding=\"0\" border=\"0\">\r\n                <tr>\r\n                  <td id=\"liveTabL\" class=\"tabOnL\"></td>\r\n                  <td id=\"liveTabM\" class=\"tabOnM\"\r\n                      onclick=\"doChgTab('live')\" \r\n                      onkeypress=\"doChgTab('live')\" tabIndex=\"4\">\r\n                        <script type=\"text/JavaScript\">\r\n                          loadLangString(\"L_LiveView\",true);\r\n                        </script>\r\n                  </td>\r\n                  <td id=\"liveTabR\" class=\"tabOnR\"></td>\r\n                  <td id=\"clientTabL\" class=\"tabOffL\"></td>\r\n                  <td id=\"clientTabM\" class=\"tabOffM\"\r\n                      onclick=\"doChgTab('client')\" \r\n                      onkeypress=\"doChgTab('client')\" tabIndex=\"5\">\r\n                      \r\n                      <script type=\"text/JavaScript\">\r\n                          loadLangString(\"L_ClientSetting\",true);\r\n                        </script>\r\n                  </td>\r\n                  <td id=\"clientTabR\" class=\"tabOffR\"></td>\r\n                  \r\n                  <td id=\"ptzTabL\" class=\"tabOffL displayNone\"></td>\r\n                  <td id=\"ptzTabM\" class=\"tabOffM displayNone\"\r\n                      onclick=\"doChgTab('ptz')\" \r\n                      onkeypress=\"doChgTab('ptz')\" tabIndex=\"6\">\r\n                      PTZ\r\n                  </td>\r\n                  <td id=\"ptzTabR\" class=\"tabOffR displayNone\"></td>\r\n                  <td id=\"focusTabL\" class=\"tabOnL displayNone\"></td>\r\n                  <td id=\"focusTabM\" class=\"tabOnM displayNone\"\r\n                      onclick=\"doChgTab('focus')\" \r\n                      onkeypress=\"doChgTab('focus')\">\r\n                      Focus\r\n                  </td>\r\n                  <td id=\"focusTabR\" class=\"tabOnR displayNone\"></td>\r\n                  \r\n                  <td id=\"fisheyeTabL\" class=\"tabOffL displayNone\"></td>\r\n                  <td id=\"fisheyeTabM\" class=\"tabOffM displayNone\"\r\n                      onclick=\"doChgTab('fisheye')\" \r\n                      onkeypress=\"doChgTab('fisheye')\">\r\n                      <script type=\"text/JavaScript\">\r\n                          loadLangString(\"L_Fisheye_Setting\",true);\r\n                        </script>\r\n                  </td>\r\n                  <td id=\"fisheyeTabR\" class=\"tabOffR displayNone\"></td>                  \r\n                </tr>\r\n              </table>\r\n            </span>\r\n          </td>\r\n          <td class=\"midR\" class=\"bgcolor\"></td>  \r\n        </tr>\r\n        <tr class=\"bgcolor\">\r\n          <td class=\"midL\"></td>\r\n          <td id=\"main\" class=\"mainbord\" colspan=\"2\">\r\n            <table id=\"table4\" width=\"710px\" height=\"400px\" cellSpacing=\"0\" cellPadding=\"0\" border=\"0\" style=\"border-collapse:collapse;\" align=\"center\">\r\n            <tr>\r\n              <td>\r\n            <form name=\"vform\">\r\n        \t    <img id=\"overView\" class=\"overView\" width=\"710\" height=\"400\" style=\"display:none;\"/>\r\n                <span id=\"vlc_help\" style=\"display:none;\">\r\n                  <u><a id=\"vlc_plugin_help\" href=\"./vlc_help.htm\" target=\"blank\" style=\"color:#0000FF;\">Please install VLC plugin to watch streaming.</a></u>  \r\n                </span>\r\n                <A id=\"aURL\" style=\"display:none;\" HREF=\"package/vcredist_x86.exe\">\r\n\r\n                  <font color=\"blue\">\r\n                    <script>\r\n                      loadLangString(\"L_VC_redistributable\",true);\r\n          \t        </script>\r\n        \t        </font>\r\n                </A>\r\n        \t    <script>\r\n\r\n          \t    if( getOs().indexOf(\"IE\") >= 0 )\r\n          \t    { \r\n          \t      Viewer();\r\n          \t      if(document.vform.AxPlayer.UIMode)\r\n          \t      {\r\n          \t        EShow(\"aURL\",\"none\");\r\n          \t      }else{\r\n          \t        EShow(\"aURL\",\"\");\r\n          \t      }\r\n          \t    }else{\r\n          \t      if(FORMAT == \"0\")\r\n          \t      {\r\n          \t        if(CheckMac)\r\n          \t        {\r\n                      GetDeviceInfo(\"General.Network.RTSP.R\" + PROFILE + \r\n                                    \".UMEDIA&group=StreamProfile.I\" + PROFILE + \".Video.Resolution\",\"view\");\r\n                      var QT_URL = GetQueryVariable(eval(\"'General.Network.RTSP.R\" + PROFILE + \".UMEDIA'\"));\r\n                      var normalSize = GetQueryVariable('StreamProfile.I'+ PROFILE + '.Video.Resolution');\r\n                      QT_SIZE = getCookies(\"QT_Size\");\r\n                      if(QT_SIZE == null || QT_SIZE == \"\")\r\n                      {\r\n                        QT_SIZE = \"fit\";\r\n                      }\r\n                      \r\n                      var QT_Embed_Width = 710;\r\n                      var QT_Embed_Height = 410;\r\n                      if (rotate == \"on\")\r\n                      {\r\n                        QT_Embed_Width = 410;\r\n                        QT_Embed_Height = 710;\r\n                      }\r\n                      \r\n                      if(QT_SIZE == \"full\")\r\n                      {\r\n                        var viewsize = GetQueryVariable(\"StreamProfile.I\" + PROFILE + \".Video.Resolution\");\r\n                        viewsize = viewsize.split(\"x\");\r\n                        QT_Embed_Width = parseInt(viewsize[0],10);\r\n                        QT_Embed_Height = parseInt(viewsize[1],10);\r\n                      }\r\n                      document.open();\r\n                \t  document.write(\"<embed id=\\\"qt_embed\\\" name= \\\"qt_embed\\\" SCALE=\\\"ToFit\\\" width=\\\"\" + QT_Embed_Width + \"\\\" height=\\\"\" + QT_Embed_Height + \"\\\"\" +\r\n                \t\t\t         \" type=\\\"video/quicktime\\\" qtsrc=\\\"rtsp://\" + location.hostname + \"/\" + QT_URL + \"\\\"\" +\r\n                \t\t\t         \" qtsrcdontusebrowser src=\\\"quicktime.mov\\\" autoplay=\\\"true\\\" controller=\\\"true\\\"\\>\");\r\n                      document.close();                      \r\n          \t        }else{\r\n            \t        if(VLC_Version != null)\r\n            \t        {\r\n            \t          var vlc_URL = GetQueryVariable(eval(\"'General.Network.RTSP.R\" + PROFILE + \".UMEDIA'\"));\r\n            \t          VLC_DocumentWrite();\r\n            \t          VLC_Viewer(\"liveview\",vlc_URL);\r\n            \t        }else{\r\n            \t          EShow(\"vlc_help\",\"\");\r\n            \t        }\r\n            \t      }\r\n          \t      }else{\r\n                    imageProfile = PROFILE;\r\n                    updateImgByProfile(\"overView\");\r\n                    EShow(\"overView\",\"\");\r\n                  }\r\n          \t    }\r\n          \t    \r\n        \t    </script>\r\n        \t  </form>\r\n        \t</td>\r\n        </tr>\r\n      </table>\r\n            <script FOR=\"AxPlayer\" EVENT=\"OnConnectStateNotify(id, msg)\">\r\n            <!--\r\n              if( getOs().indexOf(\"IE\") >= 0 )\r\n              {\r\n                switch(msg)\r\n                {\r\n                  case \"video lost\":\r\n                    chkReload();\r\n                    break;\r\n                  case \"full connect\":\r\n                    alert(loadLangString(\"L_Warn_FullConnection\",false));\r\n                    break;\r\n                  case \"mic occupy\":\r\n                    EID(\"Liveview_Talk\").title = \"TalkMute\";\r\n                    mouseOut(\"Liveview_Talk\");\r\n                    alert(loadLangString(\"L_MicOccupy\",false));\r\n                    break;\r\n                  case \"disconnect\":\r\n                  \tif(Lenstype == \"fisheye\")\r\n                  \t{\r\n                    \tfisheye_info = document.vform.AxPlayer.GetFisheyeOption();\r\n                    \tsetCookies(\"fisheyeinfo\",fisheye_info);\r\n                    }\r\n                    EID(\"Liveview_Talk\").title = \"TalkMute\";\r\n                    mouseOut(\"Liveview_Talk\");\r\n                    EID(\"Liveview_Sound\").title = \"SoundMute\";\r\n                    mouseOut(\"Liveview_Sound\");\r\n                    break;\r\n                  case \"talk connect\":\r\n                    EID(\"Liveview_Talk\").title = \"Talk\";\r\n                    mouseOut(\"Liveview_Talk\");\r\n                    break;\r\n                  case \"talk disconnect\":\r\n                    EID(\"Liveview_Talk\").title = \"TalkMute\";\r\n                    mouseOut(\"Liveview_Talk\");\r\n                    break;\r\n                  case \"mic device fail\":\r\n                    EID(\"Liveview_Talk\").title = \"TalkMute\";\r\n                    mouseOut(\"Liveview_Talk\");\r\n                    break; \r\n                  case \"connect\":\r\n\t\t\t\t\t\t\t\t\t\tif(Lenstype == \"fisheye\")\r\n\t\t\t\t\t\t\t\t\t\t{\r\n                    \tfisheye_info = getCookies(\"fisheyeinfo\");\r\n                    \tif(fisheye_info!=null)\r\n                    \t{\r\n                        \tdocument.vform.AxPlayer.SetFisheyeOption(fisheye_info);\r\n                    \t}\r\n                    }\r\n                    EShow(\"aURL\",\"none\");\r\n                    break; \r\n                  default:\r\n                    break; \r\n                }\r\n              }\r\n            //-->\r\n        \t  </script>\r\n            <script FOR=\"AxPlayer\" Event=\"OnRecord(msg)\">\r\n            <!--\r\n              if(msg)\r\n              {\r\n                EID(\"Liveview_Record\").title = \"Recording\";\r\n              }else{\r\n                EID(\"Liveview_Record\").title = \"Record\";\r\n              }\r\n              mouseOut(\"Liveview_Record\");\r\n            //-->\r\n            </script>\r\n          </td>\r\n          <td class=\"midR\"></td>  \r\n        </tr>\r\n        <tr style=\"font-size:5px;\" class=\"bgcolor\">\r\n          <td class=\"midL\"></td>\r\n          <td colspan=\"2\">&nbsp;</td>\r\n          <td class=\"midR\"></td>\r\n        </tr>\r\n      </table>\r\n\r\n    <table id=\"table3\" width=\"750px\" height=\"55px\" cellSpacing=\"0\" cellPadding=\"0\" border=\"0\">     \r\n      <tr>\r\n        <td class=\"midL\" class=\"bgcolor\"></td>        \r\n        <td class=\"bgcolor\">\r\n          <table cellSpacing=\"0\" cellPadding=\"0\" border=\"0\" bordercolor=\"#000\" style=\"table-layout:fixed\">\r\n            <tr id=\"statusBar\">\r\n              <td class=\"statusBarL\"></td>\r\n              <td id=\"statusBor0\" class=\"statusBarM\" style=\"width:80px;\">\r\n                <div class=\"live_btn\" style=\"padding:2px 7px 0px 7px;visibility:hidden;\" id=\"statusBar0\">\r\n                  <img id=\"Liveview_Play\" src=\"./style/image/btn_Liveview_Pause_e.png\" title=\"Pause\" tabIndex=\"7\"\r\n                       onMouseOver=\"mouseOver(this.id)\"\r\n                       onMouseOut=\"mouseOut(this.id)\"\r\n                       onMouseDown=\"mouseDown(this.id)\"\r\n                       onMouseUp=\"mouseUp(this.title)\"\r\n                       onClick=\"doOCXAct(this.title)\"\r\n                       onkeypress=\"doOCXAct(this.title);mouseUp(this.title)\"\r\n                       onkeyup=\"mouseOut(this.id)\">\r\n                </div>\r\n                <div class=\"live_btn\" style=\"padding:2px 14px 0px 7px;visibility:hidden;\" id=\"statusBar1\">\r\n                  <img id=\"Liveview_Stop\" src=\"./style/image/btn_Liveview_Stop_e.png\" title=\"Stop\" tabIndex=\"8\"\r\n                       onMouseOver=\"mouseOver(this.id)\"\r\n                       onMouseOut=\"mouseOut(this.id)\"\r\n                       onMouseDown=\"mouseDown(this.id)\"\r\n                       onMouseUp=\"mouseUp(this.title)\"\r\n                       onClick=\"doOCXAct(this.title)\"\r\n                       onkeypress=\"doOCXAct(this.title);mouseUp(this.title)\"\r\n                       onkeyup=\"mouseOut(this.id)\">\r\n                </div>\r\n              </td>\r\n              <td id=\"statusBor1\" class=\"statusBarM\" style=\"width:151px;\">\r\n                <div class=\"live_btn\" style=\"padding:2px 7px 0px 14px;visibility:hidden;\" id=\"statusBar2\">\r\n                  <img id=\"Liveview_Record\" src=\"./style/image/btn_Liveview_Record_e.png\" title=\"Record\" tabIndex=\"9\"\r\n                       onClick=\"doOCXAct(this.title)\" onkeypress=\"doOCXAct(this.title)\">\r\n                </div>\r\n                <div class=\"live_btn\" style=\"padding:2px 14px 0px 7px;visibility:hidden;\" id=\"statusBar3\">\r\n                  <img id=\"Liveview_Snapshot\" src=\"./style/image/btn_Liveview_Snapshot_e.png\" title=\"Snapshot\" tabIndex=\"10\"\r\n                       onClick=\"doOCXAct(this.title)\" onkeypress=\"doOCXAct(this.title)\">\r\n                </div>\r\n                <div class=\"live_btn\" style=\"padding:2px 14px 0px 14px;visibility:hidden;\" id=\"statusBar4\" >\r\n                  <img id=\"Liveview_Defog\" src=\"./style/image/btn_Liveview_Glass_DemisterOff_e.png\" title=\"Glass_DemisterOff\"\r\n                       onMouseOver=\"mouseOver(this.id)\"\r\n                       onMouseOut=\"mouseOut(this.id)\"\r\n                       onMouseDown=\"mouseDown(this.id)\"\r\n                       onMouseUp=\"mouseUp(this.title)\"\r\n                       onClick=\"dodefog(this.title)\"\r\n                       onkeypress=\"dodefog(this.title);mouseUp(this.title)\"\r\n                       onkeyup=\"mouseOut(this.id)\">\r\n                </div>\r\n              </td>\r\n        \r\n              <td class=\"statusBarM\" style=\"width:0px;border-right:1px solid #000;\">\r\n\r\n\r\n<!--\r\n                <div class=\"live_btn\" style=\"padding:2px 14px 0px 14px;visibility:visable;\" id=\"statusBar4\" >\r\n                  <img id=\"Liveview_Do\" src=\"./style/image/btn_Liveview_Do_e.png\" title=\"Do\"\r\n                       style=\"visibility:visable;\"\r\n                       onClick=\"doOCXAct(this.title)\">\r\n                </div>\r\n-->              </td>\r\n           \r\n              <td id=\"webWatch\" class=\"statusBarM\"\r\n                  style=\"border-right:1px solid #000;text-align:center;font-size:12px;color:#000;\">\r\n              </td>\r\n              <script>Watch();FitSize();</script>\r\n             \r\n              <td id=\"statusBor2\" class=\"statusBarM\" style=\"width:198px;\">\r\n                <div class=\"live_btn\" style=\"padding:1px 7px 0px 14px;visibility:hidden;\" id=\"statusBar5\">\r\n                  <img id=\"Liveview_Sound\" src=\"./style/image/btn_Liveview_SoundMute_e.png\" title=\"SoundMute\" tabIndex=\"12\"\r\n                       onMouseOver=\"mouseOver(this.id)\"\r\n                       onMouseOut=\"mouseOut(this.id)\"\r\n                       onMouseDown=\"mouseDown(this.id)\"\r\n                       onMouseUp=\"mouseUp(this.title)\"\r\n                       onClick=\"doOCXAct(this.title)\"\r\n                       onkeypress=\"doOCXAct(this.title);mouseUp(this.title)\"\r\n                       onkeyup=\"mouseOut(this.id)\">                       \r\n                </div>\r\n                <div id=\"soundSlider\" class=\"divStyle\" style=\"visibility:hidden;\"></div>\r\n                <div class=\"live_btn\" style=\"padding:1px 7px 0px 14px;visibility:hidden;\" id=\"statusBar6\">\r\n                  <img id=\"Liveview_Talk\" src=\"./style/image/btn_Liveview_TalkMute_e.png\" title=\"TalkMute\" tabIndex=\"13\"\r\n                       onMouseOver=\"mouseOver(this.id)\"\r\n                       onMouseOut=\"mouseOut(this.id)\"\r\n                       onMouseDown=\"mouseDown(this.id)\"\r\n                       onMouseUp=\"mouseUp(this.title)\"\r\n                       onClick=\"doOCXAct(this.title)\"\r\n                       onkeypress=\"doOCXAct(this.title);mouseUp(this.title)\"\r\n                       onkeyup=\"mouseOut(this.id)\">\r\n                </div>\r\n                <div id=\"talkSlider\" class=\"divStyle\" style=\"display:none;\"></div>\r\n              </td>\r\n         \r\n              <td class=\"statusBarM\" style=\"width:80px\">\r\n                <div class=\"live_btn\" style=\"padding:2px 7px 0px 14px;visibility:hidden;\" id=\"statusBar8\">\r\n                  <img id=\"Liveview_Zoom\"\r\n                       src=\"./style/image/btn_Liveview_Zoom_e.png\" title=\"Zoom\"\r\n                       onClick=\"doOCXAct(this.title)\" onkeypress=\"doOCXAct(this.title)\"  tabIndex=\"14\">\r\n                </div>                \r\n                <div class=\"live_btn\" style=\"padding:2px 7px 0px 7px;visibility:hidden;\" id=\"statusBar7\">\r\n                  <img id=\"Liveview_Fullscreen\"\r\n                       src=\"./style/image/btn_Liveview_Fullscreen_e.png\" title=\"Fullscreen\"\r\n                       onClick=\"doOCXAct(this.title)\" onkeypress=\"doOCXAct(this.title)\"  tabIndex=\"15\">\r\n                </div>\r\n              </td>\r\n         \r\n              <td class=\"statusBarR\"></td>\r\n            </tr>\r\n          </table>\r\n        </td>\r\n        <td class=\"midR\" class=\"bgcolor\"></td>  \r\n      </tr>\r\n       \r\n      <tr style=\"height:5px;font-size:5px;\">\r\n        <td class=\"midL\" class=\"bgcolor\"></td>  \r\n        <td style=\"border-bottom:1px solid #000\" class=\"bgcolor\">&nbsp;</td>\r\n        <td class=\"midR\" class=\"bgcolor\"></td>\r\n      </tr>\r\n      \r\n      <tr style=\"height:20px;\">\r\n        <td class=\"midL\" class=\"bgcolor\"></td>\r\n        <td style=\"color:#777777;font-size:8px;-webkit-text-size-adjust:none;\" align=\"center\" valign=\"bottom\" class=\"bgcolor\">\r\n          <script type=\"text/Javascript\">\r\n            if(initBrandShow == \"SHOW\") {\r\n              document.write(\"&copy;\");\r\n              document.write(BrandCopyrightYear);\r\n              document.write(\"&nbsp;\");\r\n              document.write(BrandCopyright);\r\n              document.write(\"&nbsp;\");\r\n              loadLangString(\"L_All_Reserved\",true);\r\n            }\r\n          </script>\r\n        </td>\r\n        <td class=\"midR\" class=\"bgcolor\"></td>\r\n      </tr>\r\n      \r\n      <tr style=\"height:10px;\">\r\n       <td class=\"botL\"></td>\r\n       <td class=\"botM\"></td>\r\n       <td class=\"botR\"></td>\r\n      </tr>\r\n  </table>\r\n  </td>\r\n \r\n  <td id=\"clitest\" style=\"padding-top:100px;\">\r\n    <div id=\"ClientSetting\" style=\"display:none\">\r\n      <table width=\"200px\" cellSpacing=\"0\" cellPadding=\"0\" border=\"0\">\r\n        <tr>\r\n          <td class=\"cliTL\"></td>\r\n          <td class=\"cliTR\"></td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"cliML\">\r\n            <table cellSpacing=\"0\" cellPadding=\"0\" border=\"0\" bordercolor=\"#000\" style=\"margin-left:5px\">\r\n              <tr style=\"height:19px\">\r\n                <td class=\"cliBtnL\"></td>\r\n                <td class=\"cliBtnM\">\r\n                  <span id=\"profileID\"></span>\r\n                </td>\r\n                <td class=\"cliBtnR\"></td>\r\n                <td style=\"width:5px;\">&nbsp;</td>\r\n                <td>\r\n                  <select id=\"c_profile\" name=\"c_profile\" class=\"cselect\" size=\"1\" onChange=\"doChgProfile()\">\r\n                  </select>\r\n                </td>\r\n              </tr>\r\n              \r\n              <tr><td colSpan=\"3\" style=\"width:100%;height:5px;\"></td></tr>\r\n              \r\n              <tr id=\"format\" style=\"display:none\">\r\n                <td class=\"cliBtnL\"></td>\r\n                <td class=\"cliBtnM\">\r\n                  <span id=\"FormatID\"></span>\r\n                </td>\r\n                <td class=\"cliBtnR\"></td>\r\n                <td style=\"width:5px\">&nbsp;</td>\r\n                <td>\r\n                  <select id=\"c_format\" name=\"c_format\" class=\"cselect\" size=\"1\" onChange=\"doChgFormat()\">\r\n                  </select>\r\n                  <script>\r\n                    if(navigator.platform.toLowerCase().indexOf(\"mac\") >= 0 || DetectMobile())\r\n                    {\r\n                      EID(\"c_format\").options[0]=(new Option(loadLangString(\"L_Snapshot\",false),\"1\"));\r\n                    }\r\n                    else\r\n                    {\r\n                      EID(\"c_format\").options[0]=(new Option(\"VLC\",\"0\"));\r\n                      EID(\"c_format\").options[1]=(new Option(loadLangString(\"L_Snapshot\",false),\"1\"));\r\n                    }\r\n                  </script>\r\n                </td>\r\n              </tr>\r\n              \r\n              <tr id=\"format1\" style=\"display:none\"><td colSpan=\"3\" style=\"width:100%;height:5px;\"></td></tr>\r\n             \r\n              <tr>\r\n                <td class=\"cliBtnL\"></td>\r\n                <td class=\"cliBtnM\">\r\n                  <span id=\"ViewSizeID\"></span>\r\n                </td>\r\n                <td class=\"cliBtnR\"></td>\r\n                <td style=\"width:5px\">&nbsp;</td>\r\n                <td>\r\n                  <select id=\"c_viewsize\" name=\"c_viewsize\" class=\"cselect\" size=\"1\" onChange=\"doChgViewSize(this.value)\">\r\n                    <option value=\"fit\" selected>Fit Screen</option>\r\n                    <option value=\"browser\">Browser Width</option>\r\n\t\t\t\t\t<option value=\"browserh\">Browser Height</option>\r\n                    <option value=\"full\" >Full Screen</option>\r\n                  </Select>\r\n                </td>                                 \r\n              </tr>\r\n                   \r\n              <tr><td colSpan=\"3\" style=\"width:100%;height:5px;\"></td></tr>\r\n             \r\n              <tr id=\"layer_protocol\">\r\n                <td class=\"cliBtnL\"></td>\r\n                <td class=\"cliBtnM\">\r\n                  <span id=\"protocolID\"></span>\r\n                </td>\r\n                <td class=\"cliBtnR\"></td>\r\n                <td style=\"width:5px\">&nbsp;</td>\r\n                <td>\r\n                  <select id=\"c_protocol\" name=\"c_protocol\" class=\"cselect\" size=\"1\" onChange=\"doChgProtocol()\">\r\n                    <option value=\"1\" selected>TCP</option>\r\n                    <option value=\"2\" >UDP</option>\r\n                    <option value=\"3\" >HTTP</option>\r\n                  </select>\r\n                </td>                                 \r\n              </tr>               \r\n             \r\n              <tr><td colSpan=\"3\" style=\"width:100%;height:5px;\"></td></tr>\r\n             \r\n              <tr id=\"layer_videobuffer\" style=\"display:none\">\r\n                <td class=\"cliBtnL\"></td>\r\n                <td class=\"cliBtnM\">\r\n                  <span id=\"VideoBufferID\"></span>\r\n                </td>\r\n                <td class=\"cliBtnR\"></td>\r\n                <td style=\"width:5px\">&nbsp;</td>\r\n                <td>\r\n                  <select id=\"c_videobuffer\" name=\"c_videobuffer\" class=\"cselect\" size=\"1\" onChange=\"doChgVideoBuffer()\">\r\n                  </select>\r\n                  <script>\r\n                  <!--\r\n                    EID(\"c_videobuffer\").options[0]=(new Option(loadLangString(\"L_On\",false),\"3\"));\r\n                    EID(\"c_videobuffer\").options[1]=(new Option(loadLangString(\"L_Off\",false),\"0\"));\r\n                  //-->\r\n                  </script>\r\n                </td>\r\n              </tr>\r\n    \r\n          </table>\r\n        </td>\r\n        <td class=\"cliMR\"></td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"cliTL\" style=\"width:195px\"></td>\r\n        <td class=\"cliBR\"></td>\r\n      </tr>\r\n      </table>\r\n    </div>\r\n  </td>  \r\n    \r\n       \r\n  <td id=\"ptzest\" style=\"padding-top:100px;\">\r\n  <div id=\"PTZSetting\" style=\"display:none\">\r\n    <center>\r\n      <table width=\"200px\" cellSpacing=\"0\" cellPadding=\"0\" border=\"0\">\r\n        <tr>\r\n          <td class=\"cliTL\"></td>\r\n          <td class=\"cliTR\"></td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"cliML\" align=\"center\">\r\n            <table cellSpacing=\"0\" cellPadding=\"0\" border=\"0\" align=\"center\">\r\n              <tr>\r\n                <td><img id=\"_TL\"></td>\r\n                <td style=\"width:10px\"></td>\r\n                <td><img id=\"_T\"></td>\r\n                <td style=\"width:10px\"></td>\r\n                <td><img id=\"_TR\"></td>\r\n              </tr>\r\n              <tr style=\"height:10px;\">\r\n              </tr>\r\n              <tr>\r\n                <td><img id=\"_L\"></td>\r\n                <td style=\"width:10px\"></td>\r\n                <td><img id=\"_home\"></td>\r\n                <td style=\"width:10px\"></td>\r\n                <td><img id=\"_R\"></td>\r\n              </tr>\r\n              <tr style=\"height:10px;\">\r\n              </tr>\r\n              <tr>\r\n                <td><img id=\"_BL\"></td>\r\n                <td style=\"width:10px\"></td>\r\n                <td><img id=\"_B\"></td>\r\n                <td style=\"width:10px\"></td>\r\n                <td><img id=\"_BR\"></td>\r\n              </tr>\r\n            </table>\r\n            <table cellSpacing=\"0\" cellPadding=\"0\" border=\"0\" align=\"center\">\r\n              <tr>\r\n                <td>\r\n                  &nbsp;\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <img src='style/image/ptz/ptpos.gif' width='110' height='49' border='0' usemap='#PTZControlMap2'>\r\n                </td>\r\n              </tr>\r\n              <tr id=\"sethomgrp\" style=\"display:block\">\r\n                <td>\r\n                  <img id='sethome' src='style/image/ptz/pthomepos.gif' width='110' height='20' border='0'>\r\n                </td>                 \r\n              </tr>\r\n              <tr id=\"zoomSpace\" style=\"display:none\">\r\n                <td>\r\n                  &nbsp;\r\n                </td>\r\n              </tr>\r\n              <tr id=\"zoom1\" style=\"display:none\">\r\n                <td style=\"text-align:center;color:#FFFFFF;\">Zoom</td>\r\n              </tr>\r\n              <tr id=\"zoom2\" style=\"display:none\">\r\n                <td>\r\n                  <img id=\"_zoom_out\" title=\"Wild\">\r\n                  <img src=\"./style/image/ptz/img_Liveview_PTSlider.png\">\r\n                  <img id=\"_zoom_in\" title=\"Tele\">\r\n                </td>\r\n              </tr>\r\n              <tr id=\"focusSpace\" style=\"display:none\">\r\n                <td>\r\n                  &nbsp;\r\n                </td>\r\n              </tr>\r\n              <tr id=\"focus1\" style=\"display:none\">\r\n                <td style=\"text-align:center;color:#FFFFFF\">Focus</td>\r\n              </tr>\r\n              <tr id=\"focus2\" style=\"display:none\">\r\n                <td>\r\n                  <img id=\"_focus_near\" title=\"Near\">\r\n                  <img src=\"./style/image/ptz/img_Liveview_PTSlider.png\">\r\n                  <img id=\"_focus_far\" title=\"Far\">\r\n                </td>\r\n              </tr>\r\n              <tr id=\"irisSpace\" style=\"display:none\">\r\n                <td>\r\n                  &nbsp;\r\n                </td>\r\n              </tr>\r\n              <tr id=\"iris1\" style=\"display:none\">\r\n                <td style=\"text-align:center;color:#FFFFFF\">Iris</td>\r\n              </tr>\r\n              <tr id=\"iris2\" style=\"display:none\">\r\n                <td>\r\n                  <img id=\"_iris_close\" style=\"width:18px;height:18px;\" title=\"Close\">\r\n                  <img src=\"./style/image/ptz/img_Liveview_PTSlider.png\">\r\n                  <img id=\"_iris_open\" style=\"width:18px;height:18px;\" title=\"Open\">\r\n                </td>\r\n              </tr>\r\n            </table>\r\n            <table id=\"ptzCmdTb\" style=\"display:none;\" align=\"center\">\r\n              <tr>\r\n              <td><select id=\"ptzCmdSel\"></select></td>\r\n              </tr>\r\n              <tr>\r\n              <td><input type=\"button\" value=\"Execute\" onclick=\"SetPtzCmdBtnRun()\"></td>\r\n              </tr>\r\n            </table>\r\n            <table id=\"osdCmdTb\" style=\"display:none;\" cellSpacing=\"0\" cellPadding=\"0\" border=\"0\" align=\"center\">\r\n              <tr><td>&nbsp;</td></tr>\r\n              <tr id=\"osd\" style=\"text-align:center;color:#FFFFFF;\"><td>OSD Control</td></tr>\r\n              <tr style=\"height:5px;\">\r\n              <tr>\r\n                <td style=\"width:27px\"></td>\r\n                <td style=\"width:10px\"></td>\r\n                <td><img id=\"_T1\"></td>\r\n                <td style=\"width:10px\"></td>\r\n                <td style=\"width:27px\"></td>\r\n              </tr>\r\n              <tr style=\"height:10px;\">\r\n              </tr>\r\n              <tr>\r\n                <td><img id=\"_L1\"></td>\r\n                <td style=\"width:10px\"></td>\r\n                <td><img id=\"_home1\"></td>\r\n                <td style=\"width:10px\"></td>\r\n                <td><img id=\"_R1\"></td>\r\n              </tr>\r\n              <tr style=\"height:10px;\">\r\n              </tr>\r\n              <tr>\r\n                <td style=\"width:27px\"></td>\r\n                <td style=\"width:10px\"></td>\r\n                <td><img id=\"_B1\"></td>\r\n                <td style=\"width:10px\"></td>\r\n                <td style=\"width:27px\"></td>\r\n              </tr>\r\n            </table>\r\n          </td>\r\n        <td class=\"cliMR\"></td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"cliTL\" style=\"width:195px\"></td>\r\n        <td class=\"cliBR\"></td>\r\n      </tr>\r\n      </table>\r\n    </center>\r\n    </div>\r\n    </td>\r\n    <td id=\"smartfocus\" style=\"padding-top:100px;\">\r\n        <div id=\"SMFocus\" style=\"display:none\">\r\n            <table width=\"200px\" cellSpacing=\"0\" cellPadding=\"0\" border=\"0\">\r\n              <tr>\r\n                <td class=\"cliTL\"></td>\r\n                <td class=\"cliTR\"></td>\r\n              </tr>\r\n              <tr>\r\n                <td class=\"cliML\">\r\n                <table cellSpacing=\"0\" cellPadding=\"0\" border=\"0\" bordercolor=\"#000\" style=\"margin-left:5px\">\r\n                    <tr>\r\n                        <td COLSPAN=\"12\" style=\"color:#FFFFFF;font-size:12px;\" align=\"left\">Zoom<td>\r\n                    </tr>\r\n                    <tr style=\"display:block;margin-top:5px;\">\r\n                        <td><img id=\"ZoomOut\"></td>\r\n                        <td style=\"width:5px\"></td>\r\n                        <td><img id=\"SMzoomB_a\"></td>\r\n                        <td style=\"width:5px\"></td>\r\n                        <td><img id=\"SMzoomS_a\"></td>\r\n                        <td style=\"width:30px\"></td>\r\n                        <td><img id=\"SMzoomS_r\"></td>\r\n                        <td style=\"width:5px\"></td>\r\n                        <td><img id=\"SMzoomB_r\"></td>\r\n                        <td style=\"width:5px\"></td>\r\n                        <td><img id=\"ZoomIn\"></td>\r\n                        <td style=\"width:10px\"></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td align=\"left\" COLSPAN=\"12\"><div id='ZoomSlider' class='divStyle'></div></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style=\"height:15px\"></td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td COLSPAN=13 style=\"color:#FFFFFF;font-size:12px;\" align=\"left\">Focus<td>\r\n                    </tr>\r\n                    <tr style=\"display:block;margin-top:5px;\">\r\n                        <td><img id=\"FocusNear\"></td>\r\n                        <td style=\"width:5px\"></td>                        \r\n                        <td><img id=\"SMfocusB_a\"></td>\r\n                        <td style=\"width:5px\"></td>\r\n                        <td><img id=\"SMfocusS_a\"></td>\r\n                        <td style=\"width:30px\"></td>\r\n                        <td><img id=\"SMfocusS_r\"></td>\r\n                        <td style=\"width:5px\"></td>\r\n                        <td><img id=\"SMfocusB_r\"></td>\r\n                        <td style=\"width:5px\"></td>\r\n                        <td><img id=\"FocusFar\"></td>\r\n                        <td style=\"width:10px\"></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td align=\"left\" COLSPAN=\"12\"><div id='FocusSlider' class='divStyle'></div></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style=\"height:15px;\"></td>\r\n                    </tr>                    \r\n                </table>\r\n                   <center>\r\n                   <table>\r\n                    <tr>                        \r\n                        <td id=\"refocus\" class=\"cliBtnM1\"  style=\"width:70px;font-size:12px;\">\r\n                            <span id=\"SMbtn\"></span>\r\n                        </td>\r\n                    </tr>\r\n                   </table>\r\n                   </center>\r\n<!--                <input type='button' id='SMfocusBtn' value='SmartFocus' class='btn btnHTML' style='width:\"30\"px' onClick=\"SFbtn()\">\r\n                </td>-->\r\n                <td class=\"cliMR\"></td>\r\n              </tr>\r\n              <tr>\r\n                <td class=\"cliTL\" style=\"width:195px\"></td>\r\n                <td class=\"cliBR\"></td>\r\n              </tr>\r\n            </table>\r\n        </div>\r\n    </td>    \r\n\r\n  <td id=\"fisheyest\" style=\"padding-top:100px;\">\r\n    <div id=\"FisheyeSetting\" style=\"display:none\">\r\n      <table width=\"250px\" cellSpacing=\"0\" cellPadding=\"0\" border=\"0\">\r\n        <tr>\r\n          <td class=\"cliTL\" style=\"width:230px\"></td>\r\n          <td class=\"cliTR\"></td>\r\n        </tr>\r\n        <tr>\r\n          <td class=\"cliML\">\r\n            <table cellSpacing=\"0\" cellPadding=\"0\" border=\"0\" bordercolor=\"#000\" style=\"margin-left:5px\">\r\n              <tr style=\"height:19px\">\r\n         \r\n\t\t\t\t<td style=\"color:#FFFFFF;font-size:12px;\" align=\"left\">Camera Mount<td>   \r\n                <td style=\"width:25px;\">&nbsp;</td>\r\n                <td>\r\n                  <select id=\"f_position\" name=\"f_position\" class=\"cselect\" size=\"1\" onChange=\"doChgFishpos()\">\r\n                    <option value=\"ceil\" >Ceiling</option>\r\n                    <option value=\"floor\">Floor</option>\r\n                    <option value=\"wall\" >Wall</option>\r\n                  </select>\r\n                </td>\r\n              </tr>\r\n              \r\n              <tr><td colSpan=\"3\" style=\"width:100%;height:10px;\"></td></tr>\r\n              \r\n              <tr id=\"f_display\" style=\"display:none\"><td colSpan=\"3\" style=\"width:100%;height:5px;\"></td></tr>\r\n             \r\n              <tr>\r\n                <td colspan=\"4\" align=\"center\" cellPadding=\"3\">\r\n                \t<table align=\"center\">\r\n                \t\t<tr>\r\n                \t\t\t<td width=\"35px\"><img id=\"Fisheye_1O_img\" src=\"./style/image/fisheye/btn_Fisheye_1O.png\"></td>\r\n                \t\t\t<td width=\"35px\"><img id=\"Fisheye_1R_img\" src=\"./style/image/fisheye/btn_Fisheye_1R.png\"></td>\r\n                \t\t\t<td width=\"35px\"><img id=\"Fisheye_4R_img\" src=\"./style/image/fisheye/btn_Fisheye_4R.png\"></td>\r\n                \t\t\t<td width=\"35px\"><img id=\"Fisheye_4R_1O_img\" src=\"./style/image/fisheye/btn_Fisheye_4R_1O.png\"></td>\r\n                \t\t\t<td width=\"35px\"><img id=\"Fisheye_2P_1P_img\" src=\"./style/image/fisheye/btn_Fisheye_2P.png\"></td>\r\n\t\t\t\t\t\t\t<td width=\"35px\"><img id=\"Fisheye_4Rpro_img\" src=\"./style/image/fisheye/btn_Fisheye_4Rpro.png\"></td>\r\n\t              \t\t</tr>\r\n                \t</table> \t\r\n                </td>\r\n              </tr>\r\n                   \r\n              <tr><td colSpan=\"4\" style=\"width:100%;height:10px;\"></td></tr>\r\n\r\n\t\t\t\t\t\t\t\t<td style=\"color:#FFFFFF;font-size:12px;\" align=\"left\">Dewarp Quality<td> \r\n                <td style=\"width:25px\">&nbsp;</td>\r\n                <td>\r\n                  <select id=\"f_qual\" name=\"f_qual\" class=\"cselect\" size=\"1\" onChange=\"doChgFishquality()\">\r\n                    <option value=\"auto\" >Auto</option>\r\n                    <option value=\"lower\" >Lower</option>\r\n                    <option value=\"low\" >Low</option>\r\n                    <option value=\"bas\" >Basic</option>\r\n                    <option value=\"good\" >Good</option>\r\n                    <option value=\"best\" >Best</option>\r\n                  </select>\r\n                </td>                                 \r\n              </tr>               \r\n             \r\n              <tr><td colSpan=\"3\" style=\"width:100%;height:10px;\"></td></tr>\r\n\r\n          </table>\r\n        </td>\r\n        <td class=\"cliMR\"></td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"cliTL\"></td>\r\n        <td class=\"cliBR\"></td>\r\n      </tr>\r\n      </table>\r\n    </div>\r\n  </td>\r\n\r\n    </tr>\r\n  </table>\r\n</center>\r\n\r\n<map name=\"PTZControlMap2\">\r\n  <area shape=\"rect\" href=\"javascript:void(0)\" coords=\"3,3,39,20\"  id=\"PresetSet\" alt=\"Preset Set\" title=\"Preset Set\" onClick=\"onPosSetClick()\">\r\n  <script>EID(\"PresetSet\").alt = loadLangString(\"L_PresetSet\",false); EID(\"PresetSet\").title = loadLangString(\"L_PresetSet\",false)</script>\r\n  <area shape=\"rect\" href=\"javascript:void(0)\" coords=\"73,3,108,20\" id=\"PresetGo\" alt=\"Preset Go\" title=\"Preset Go\" onClick=\"Set_PosGoMenu()\" onMouseOut=\"MenuHidden('PosGoMenu')\">\r\n  <script>EID(\"PresetGo\").alt = loadLangString(\"L_PresetGo\",false); EID(\"PresetGo\").title = loadLangString(\"L_PresetGo\",false)</script>\r\n  <area shape=\"rect\" href=\"javascript:void(0)\" coords=\"2,28,38,45\" id=\"PatrolSet\" alt=\"Patrol Set\" title=\"Patrol Set\" onClick=\"Set_PatrolMenu()\" onMouseOut=\"MenuHidden('PatrolMenu')\">\r\n  <script>EID(\"PatrolSet\").alt = loadLangString(\"L_PatrolSet\",false); EID(\"PatrolSet\").title = loadLangString(\"L_PatrolSet\",false)</script>\r\n  <area shape=\"rect\" href=\"javascript:void(0)\" coords=\"73,28,108,45\" id=\"PatrolGo\" alt=\"Patrol Go\" title=\"Patrol Go\" onClick=\"onPatrolGoClick()\">\r\n  <script>EID(\"PatrolGo\").alt = loadLangString(\"L_PatrolGo\",false); EID(\"PatrolGo\").title = loadLangString(\"L_PatrolGo\",false)</script>\r\n</map>\r\n\r\n<div id=\"PosGoMenu\" name=\"PosGoMenu\" class=\"SubMenuStyle\"\r\n     onmouseover=\"this.style.visibility='inherit';\" onMouseOut=\"MenuHidden('PosGoMenu')\"> </div>\r\n<div id=\"PatrolMenu\" name=\"PatrolMenu\" class=\"SubMenuStyle\"\r\n     onmouseover=\"this.style.visibility='inherit';\" onMouseOut=\"MenuHidden('PatrolMenu')\"> </div>\r\n    \r\n</body>\r\n\r\n<script type=\"text/JavaScript\">\r\n<!--\r\nif( getOs().indexOf(\"IE\") >= 0 )\r\n{\r\n  if(document.vform.AxPlayer.UIMode)\r\n  {\r\n    document.vform.AxPlayer.Play(1);\r\n  }\r\n}\r\n//-->\r\n</script>\r\n\r\n</html>\r\n"
            }
          ]
        }
      }
    },
    {
      "URI": "/profile",
      "Methods": {
        "GET": {
          "Criteria": {
            "Superset": [
              {
                "ID": "GET1",
                "URL_Parameters": "",
                "Headers": {
                  "pragma": "no-cache",
                  "cache-control": "no-cache",
                  "user-agent": "Mozilla/5.0 [en] (X11, U; OpenVAS-VT 21.4.5~dev1)",
                  "accept": "image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, image/png, */*",
                  "accept-language": "en",
                  "accept-charset": "iso-8859-1,*,utf-8"
                },
                "Body": {},
                "Responses": [
                  0
                ]
              }
            ],
            "Subset": []
          },
          "Responses": [
            {
              "Status": "200",
              "Headers": {
                "Server": "Boa/0.94.14rc21",
                "Accept-Ranges": "bytes",
                "Keep-Alive": "timeout=5000, max=100",
                "Last-Modified": "Thu, 30 Jun 2022 16:01:07 GMT",
                "Content-Type": "text/plain"
              },
              "Body": "var initBrandShow=\"SHOW\";\nvar initProdShortName=\"CB6230 2MP Bullet Camera\";\nvar initProdFullName=\"CB6230 2MP Bullet Camera\";\nvar initProdNbr=\"CB6230\";\nvar BrandCopyright=\"ZAVIO\";\nvar IRControlType=\"hardware_pwm\";\nvar LED=\"yes\";\nvar MemoryCard=\"yes\";\nvar fwDate=\"Wed Jan 3 15:57:51 CST 2018\";\nvar DISupport=\"yes\";\nvar DOSupport=\"yes\";\nvar IRSupport=\"yes\";\nvar IRGroupNumber=\"1\";\nvar ICRSupport=\"yes\";\nvar AutoIrisSupport=\"off\";\nvar VideoSupport=\"yes\";\nvar PTZEnabled=\"yes\";\nvar PTZtype=\"ExtPT\";\nvar PTZProtocol=\"RS485\";\nvar WLANSupport=\"no\";\nvar EZVuuSupport=\"none\";\nvar AudioSupport=\"yes\";\nvar AudioInputType=\"linein\";\nvar AudioOutputType=\"lineout\";\nvar PIRSupport=\"no\";\nvar bitRateFmt=\"32k,64k,128k,256k,512k,768k,1M,1.5M,2M,3M,4M,6M,8M,10M,15M,20M,30M,40M\";\nvar MaxBitRateFormat=\"256k,512k,768k,1M,1.5M,2M,3M,4M,6M,8M,10M,15M,20M,30M,40M\";\nvar targetBitRateMin=30;\nvar targetBitRateMax=10000;\nvar TamperingSupport=\"yes\";\nvar MinImgPreAlm=\"0~7\";\nvar MaxImgPreAlm=\"0~7\";\nvar MinImgPosAlm=\"0~7\";\nvar MinVdoPreAlm=\"0~7\";\nvar MaxImgPosAlm=\"0~7\";\nvar MaxVdoPreAlm=\"0~7\";\nvar MinVdoPosAlm=\"1~7\";\nvar MaxVdoPosAlm=\"1~7\";\nvar H264match=\"0,68,55,50,46,41\";\nvar MPEGmatch=\"0,83,63,47,37,30\";\nvar MJPEGmatch=\"0,90,70,50,35,25\";\nvar H265match=\"0,73,60,55,51,46\";\nvar I2ASupport=\"no\";\nvar PlatformSupport=\"HI3516D\";\nvar HelpSupport=\"no\";\nvar Profile34Lock=\"no\";\nvar ProfileImageSource=\"imx290\";\nvar VideoServerSupport=\"no\";\nvar DefaultEvtSchFileSize=\"50\";\nvar DefaultEvtSchCyclicSize=\"5120\";\nvar MEMORYSIZE=\"\";\nvar DefaultSipEnable=\"off\";\nvar Heater=\"no\";\nvar HousingType=\"BulletOrDome\";\nvar MaxResolution=\"1920x1080\";\nvar PropertyInputType=\"linein\";\nvar ImageSourceType=\"imx290\";\nvar BrandCopyrightYear=\"2006-2017\";\nvar PanSpeedFormat=\"1-100\";\nvar TiltSpeedFormat=\"1-100\";\nvar ZoomSpeedFormat=\"1-100\";\nvar FocusSpeedFormat=\"1-100\";\nvar AutoPanSpeedFormat=\"1-100\";\nvar DefPowerFrequency=\"auto\";\nvar DefExpTarget=\"20\";\nvar DefShuterSpeedMax=\"15\";\nvar DefShuterSpeedMin=\"10000\";\nvar DefGainMax=\"32\";\nvar DefGainMin=\"1\";\nvar DefLowLtExpTarget=\"20\";\nvar DefLowLtShuterSpeedMax=\"15\";\nvar DefLowLtShuterSpeedMin=\"120\";\nvar DefLowLtGainMax=\"64\";\nvar DefLowLtGainMin=\"1\";\nvar DefLowLtEnabled=\"off\";\nvar DefBLCM=\"off\";\nvar DefBLCL=\"4\";\nvar PowerSrc=\"POE\";\nvar ExposureDefault=\"yes\";\nvar OpenVPN=\"no\";\nvar EnhancedBitRate=\"off\";\nvar AACFormat=\"16,32\";\nvar inputAudioAMRGainVal = new Array(\"+12\",\"+9\",\"+6\",\"+3\",\"0\",\"-3\",\"-6\",\"-9\",\"-12\");\nvar CaptureModeFormatList=\"1920x1080@30\";\nvar MCU=\"no\";\nvar DeFog=\"yes\";\nvar TamperPage=\"no\";\nvar GlassDemister=\"no\";\nvar IVSSupport=\"yes\";\nvar TamperingSupport=\"yes\";\nvar TripwireSupport=\"yes\";\nvar PerimeterSupport=\"yes\";\nvar PeopleCountingSupport=\"no\";\nvar PeopleDensitySupport=\"yes\";\nvar SmartIR=\"on\";\nvar Lenstype=\"motorized\";\nvar LPREnable=\"no\";\nvar AudioDetection=\"yes\";\nvar SmartCodec=\"yes\";\nvar EventNightMode=\"no\";\nvar lensmaterial=\"Ricom_3M_IR02812PB\";\nvar Onvifver='2.40';"
            }
          ]
        }
      }
    }
  ]
}